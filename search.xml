<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[RocketMQÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîBrokerÊé•Êî∂ÂèëÈÄÅÊ∂àÊÅØ]]></title>
    <url>%2F2019%2F06%2F26%2FRocketMQ%E6%BA%90%E7%A0%81%2FRocketMQ%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94Broke%E6%8E%A5%E6%94%B6%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂâçÈù¢Êàë‰ª¨ËØ¥Ëøá‰∫ÜProducerÂíåConsumerÊòØÂ¶Ç‰ΩïÂèëÈÄÅÊ∂àÊÅØÁöÑÔºåÂΩìÊàë‰ª¨‰∫ÜËß£ÂÆåBrokerÁöÑÊ∂àÊÅØÂ≠òÂÇ®‰πãÂêéÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÁúãÁúãBrokerÊòØÂ¶Ç‰ΩïÊé•Êî∂ÂèëÊù•ÁöÑÊ∂àÊÅØÂï¶~ ÂâçË®ÄÂú®ÂàÜÊûêÂÆåProducerÂíåConsumer‰πãÂêéÔºåÊàë‰ª¨Áü•ÈÅìÊó†ËÆ∫ÊòØÊ∂àË¥πËÄÖËøòÊòØÁîü‰∫ßËÄÖÊù•ËØ¥ÔºåBrokerÈÉΩÊòØÊé•ÂèóÊ∂àÊÅØÁöÑ‰∏ÄÊñπÔºåÂêåÊó∂Êàë‰ª¨Áü•ÈÅìRocketMQÊòØÈÄöËøáNettyÂÆûÁé∞ÈÄö‰ø°ÁöÑÔºåÂØπÂ∫îÊé•Êî∂Ê∂àÊÅØÔºåÊàë‰ª¨ÂæàÂÆπÊòìÂ∞±‰ºöÊÉ≥Âà∞‰∏ÄÂÆöÊòØ‰∏Ä‰∏™ChannelHandlerÂú®Â§ÑÁêÜÔºåËÄåÂú®RocketMQÁöÑËÆæËÆ°‰∏≠ÂØπÂ∫îÊòØNettyRequestProcessorÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±ÂèØ‰ª•ÂàÜÊûê‰∏Ä‰∏ãÊé•Êî∂Ê∂àÊÅØÁöÑÂá†ÁßçÁ±ªÂûãÂï¶ÔºåÊúâÂá†ÁßçÊ∂àÊÅØÁ±ªÂûãÔºåÂ∞±ÊúâÂá†ÁßçProcessorÔºåÂ¶Ç‰∏ãÂõæÔºö Êàë‰ª¨ÁúãÂà∞ÊúâÂæàÂ§öÁßçÊ∂àÊÅØÁ±ªÂûãÔºåÊàë‰ª¨ËøôÊ¨°Âè™ÂàÜÊûêSendMessage„ÄÇ SendMessageÂØπ‰∫éSendMessageÊúâ‰∏ãÈù¢ËøôÂá†ÁßçÂèØËÉΩÔºöÂçïÊù°Ê∂àÊÅØ„ÄÅÊâπÈáèÊ∂àÊÅØ„ÄÅRETRYÊ∂àÊÅØ„ÄÇRetryÊ∂àÊÅØÂç≥consumerÊ∂àË¥πÂ§±Ë¥•ÔºåË¶ÅÊ±ÇbrokerÈáçÂèëÁöÑÊ∂àÊÅØ„ÄÇÂ§±Ë¥•ÁöÑÂéüÂõ†Êúâ‰∏§ÁßçÔºå‰∏ÄÁßçÊòØ‰∏öÂä°Á´Ø‰ª£Á†ÅÂ§ÑÁêÜÂ§±Ë¥•ÔºõËøòÊúâ‰∏ÄÁßçÊòØÊ∂àÊÅØÂú®consumerÁöÑÁºìÂ≠òÈòüÂàó‰∏≠ÂæÖÁöÑÊó∂Èó¥Ë∂ÖÊó∂Ôºåconsumer‰ºöÂ∞ÜÊ∂àÊÅØ‰ªéÈòüÂàó‰∏≠ÁßªÈô§ÔºåÁÑ∂ÂêéÈÄÄÂõûÁªôBrokerÈáçÂèë„ÄÇ SendMessageProcessorÊàë‰ª¨ËÇØÂÆö‰ºöÊâæÂà∞org.apache.rocketmq.broker.processor.SendMessageProcessor#processRequest()Ëøô‰∏™ÊñπÊ≥ïÔºåÂõ†‰∏∫ÂÆÉÂÆûÁé∞Ëá™NettyRequestProcessorÊé•Âè£ÁöÑÔºö 1234567891011121314151617181920212223242526272829public RemotingCommand processRequest(ChannelHandlerContext ctx, RemotingCommand request) throws RemotingCommandException &#123; SendMessageContext mqtraceContext; switch (request.getCode()) &#123; case RequestCode.CONSUMER_SEND_MSG_BACK: // RETRYÊ∂àÊÅØ return this.consumerSendMsgBack(ctx, request); default: SendMessageRequestHeader requestHeader = parseRequestHeader(request); if (requestHeader == null) &#123; return null; &#125; mqtraceContext = buildMsgContext(ctx, requestHeader); this.executeSendMessageHookBefore(ctx, request, mqtraceContext); RemotingCommand response; if (requestHeader.isBatch()) &#123; // ÊâπÈáèÂèëÈÄÅ response = this.sendBatchMessage(ctx, request, mqtraceContext, requestHeader); &#125; else &#123; // ÂçïÊù°Ê∂àÊÅØ response = this.sendMessage(ctx, request, mqtraceContext, requestHeader); &#125; this.executeSendMessageHookAfter(response, mqtraceContext); return response; &#125;&#125; ConsumerÁöÑRETRYÊ∂àÊÅØÂØπ‰∫éConsumerÁöÑRETRYÊ∂àÊÅØÔºåÊàë‰ª¨ÂèØ‰ª•ÊâæÂà∞org.apache.rocketmq.broker.processor.SendMessageProcessor#consumerSendMsgBack()ÊñπÊ≥ïÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123private RemotingCommand consumerSendMsgBack(final ChannelHandlerContext ctx, final RemotingCommand request) throws RemotingCommandException &#123; final RemotingCommand response = RemotingCommand.createResponseCommand(null); final ConsumerSendMsgBackRequestHeader requestHeader = (ConsumerSendMsgBackRequestHeader)request.decodeCommandCustomHeader(ConsumerSendMsgBackRequestHeader.class); // ... // consumer groupÊòØÂê¶Â≠òÂú® SubscriptionGroupConfig subscriptionGroupConfig = this.brokerController.getSubscriptionGroupManager().findSubscriptionGroupConfig(requestHeader.getGroup()); if (null == subscriptionGroupConfig) &#123; response.setCode(ResponseCode.SUBSCRIPTION_GROUP_NOT_EXIST); response.setRemark("subscription group not exist, " + requestHeader.getGroup() + " " + FAQUrl.suggestTodo(FAQUrl.SUBSCRIPTION_GROUP_NOT_EXIST)); return response; &#125; // ... // Ëé∑ÂæóÈáçËØïÈòüÂàóTopicÂíåqueue String newTopic = MixAll.getRetryTopic(requestHeader.getGroup()); int queueIdInt = Math.abs(this.random.nextInt() % 99999999) % subscriptionGroupConfig.getRetryQueueNums(); int topicSysFlag = 0; if (requestHeader.isUnitMode()) &#123; topicSysFlag = TopicSysFlag.buildSysFlag(false, true); &#125; TopicConfig topicConfig = this.brokerController.getTopicConfigManager().createTopicInSendMessageBackMethod( newTopic, subscriptionGroupConfig.getRetryQueueNums(), // ... // Ê†πÊçÆoffsetÊâæÂà∞MessageExt MessageExt msgExt = this.brokerController.getMessageStore().lookMessageByOffset(requestHeader.getOffset()); if (null == msgExt) &#123; response.setCode(ResponseCode.SYSTEM_ERROR); response.setRemark("look message by offset failed, " + requestHeader.getOffset()); return response; &#125; final String retryTopic = msgExt.getProperty(MessageConst.PROPERTY_RETRY_TOPIC); if (null == retryTopic) &#123; MessageAccessor.putProperty(msgExt, MessageConst.PROPERTY_RETRY_TOPIC, msgExt.getTopic()); &#125; msgExt.setWaitStoreMsgOK(false); // Êü•ÁúãÂª∂ËøüÁ≠âÁ∫ß // messageDelayLevel = "1s 5s 10s 30s 1m 2m 3m 4m 5m 6m 7m 8m 9m 10m 20m 30m 1h 2h" int delayLevel = requestHeader.getDelayLevel(); // ÊúÄÂ§ßÈáçÂ§çÊ¨°Êï∞16Ê¨° int maxReconsumeTimes = subscriptionGroupConfig.getRetryMaxTimes(); if (request.getVersion() &gt;= MQVersion.Version.V3_4_9.ordinal()) &#123; maxReconsumeTimes = requestHeader.getMaxReconsumeTimes(); &#125; // Â¶ÇÊûúÂ§ß‰∫éÈáçËØïÊ¨°Êï∞ÔºåÂàôÊîæÂÖ•DLQÊ≠ª‰ø°ÈòüÂàó if (msgExt.getReconsumeTimes() &gt;= maxReconsumeTimes || delayLevel &lt; 0) &#123; // Â∞ÜtopicÂíåqueueidËÆæÁΩÆ‰∏∫Ê≠ª‰ø°ÈòüÂàóÁöÑ newTopic = MixAll.getDLQTopic(requestHeader.getGroup()); queueIdInt = Math.abs(this.random.nextInt() % 99999999) % DLQ_NUMS_PER_GROUP; topicConfig = this.brokerController.getTopicConfigManager().createTopicInSendMessageBackMethod(newTopic, DLQ_NUMS_PER_GROUP, PermName.PERM_WRITE, 0 ); if (null == topicConfig) &#123; response.setCode(ResponseCode.SYSTEM_ERROR); response.setRemark("topic[" + newTopic + "] not exist"); return response; &#125; &#125; else &#123; // Âä†‰∏â‰∏™Á≠âÁ∫ßÁöÑÂª∂Ëøü if (0 == delayLevel) &#123; delayLevel = 3 + msgExt.getReconsumeTimes(); &#125; msgExt.setDelayTimeLevel(delayLevel); &#125; // Â∞ÜmsgExtËΩ¨Âåñ‰∏∫MessageExtBrokerInner MessageExtBrokerInner msgInner = new MessageExtBrokerInner(); msgInner.setTopic(newTopic); msgInner.setBody(msgExt.getBody()); msgInner.setFlag(msgExt.getFlag()); MessageAccessor.setProperties(msgInner, msgExt.getProperties()); msgInner.setPropertiesString(MessageDecoder.messageProperties2String(msgExt.getProperties())); msgInner.setTagsCode(MessageExtBrokerInner.tagsString2tagsCode(null, msgExt.getTags())); msgInner.setQueueId(queueIdInt); msgInner.setSysFlag(msgExt.getSysFlag()); msgInner.setBornTimestamp(msgExt.getBornTimestamp()); msgInner.setBornHost(msgExt.getBornHost()); msgInner.setStoreHost(this.getStoreHost()); msgInner.setReconsumeTimes(msgExt.getReconsumeTimes() + 1); String originMsgId = MessageAccessor.getOriginMessageId(msgExt); MessageAccessor.setOriginMessageId(msgInner, UtilAll.isBlank(originMsgId) ? msgExt.getMsgId() : originMsgId); // Â≠òÂÇ®Ê∂àÊÅØ PutMessageResult putMessageResult = this.brokerController.getMessageStore().putMessage(msgInner); if (putMessageResult != null) &#123; switch (putMessageResult.getPutMessageStatus()) &#123; case PUT_OK: String backTopic = msgExt.getTopic(); String correctTopic = msgExt.getProperty(MessageConst.PROPERTY_RETRY_TOPIC); if (correctTopic != null) &#123; backTopic = correctTopic; &#125; this.brokerController.getBrokerStatsManager().incSendBackNums(requestHeader.getGroup(), backTopic); response.setCode(ResponseCode.SUCCESS); response.setRemark(null); return response; default: break; &#125; response.setCode(ResponseCode.SYSTEM_ERROR); response.setRemark(putMessageResult.getPutMessageStatus().name()); return response; &#125; response.setCode(ResponseCode.SYSTEM_ERROR); response.setRemark("putMessageResult is null"); return response; &#125; ProducerÁöÑÂçïÊù°Ê∂àÊÅØÂØπ‰∫éProducerÁöÑÂçïÊù°Ê∂àÊÅØÔºåÊàë‰ª¨ÂèØ‰ª•ÊâæÂà∞org.apache.rocketmq.broker.processor.SendMessageProcessor#sendMessage()ÊñπÊ≥ïÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475private RemotingCommand sendMessage(final ChannelHandlerContext ctx, final RemotingCommand request, final SendMessageContext sendMessageContext, final SendMessageRequestHeader requestHeader) throws RemotingCommandException &#123; final RemotingCommand response = RemotingCommand.createResponseCommand(SendMessageResponseHeader.class); final SendMessageResponseHeader responseHeader = (SendMessageResponseHeader)response.readCustomHeader(); response.setOpaque(request.getOpaque()); response.addExtField(MessageConst.PROPERTY_MSG_REGION, this.brokerController.getBrokerConfig().getRegionId()); response.addExtField(MessageConst.PROPERTY_TRACE_SWITCH, String.valueOf(this.brokerController.getBrokerConfig().isTraceOn())); log.debug("receive SendMessage request command, &#123;&#125;", request); // Âà§Êñ≠ÂΩìÂâçÊó∂Èó¥brokerÊòØÂê¶Êèê‰æõÊúçÂä°Ôºå‰∏çÊèê‰æõÂàôËøîÂõûcode‰∏∫SYSTEM_ERRORÁöÑresponse final long startTimstamp = this.brokerController.getBrokerConfig().getStartAcceptSendRequestTimeStamp(); if (this.brokerController.getMessageStore().now() &lt; startTimstamp) &#123; response.setCode(ResponseCode.SYSTEM_ERROR); response.setRemark(String.format("broker unable to service, until %s", UtilAll.timeMillisToHumanString2(startTimstamp))); return response; &#125; response.setCode(-1); // Ê£ÄÊü•topicÂíåqueueÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®‰∏îbrokerËÆæÁΩÆ‰∏≠ÂÖÅËÆ∏Ëá™Âä®ÂàõÂª∫ÔºåÂàôËá™Âä®ÂàõÂª∫ super.msgCheck(ctx, requestHeader, response); if (response.getCode() != -1) &#123; return response; &#125; final byte[] body = request.getBody(); int queueIdInt = requestHeader.getQueueId(); // Ëé∑ÂèñtopicÁöÑÈÖçÁΩÆ TopicConfig topicConfig = this.brokerController.getTopicConfigManager().selectTopicConfig(requestHeader.getTopic()); // Â¶ÇÊûúÊ∂àÊÅØ‰∏≠ÁöÑqueueIdÂ∞è‰∫é0ÔºåÂàôÈöèÊú∫ÈÄâÂèñ‰∏Ä‰∏™queue if (queueIdInt &lt; 0) &#123; queueIdInt = Math.abs(this.random.nextInt() % 99999999) % topicConfig.getWriteQueueNums(); &#125; // ÈáçÊñ∞Â∞ÅË£Örequest‰∏≠ÁöÑmessageÊàêMessageExtBrokerInner MessageExtBrokerInner msgInner = new MessageExtBrokerInner(); msgInner.setTopic(requestHeader.getTopic()); msgInner.setQueueId(queueIdInt); // ÂØπ‰∫éRETRYÊ∂àÊÅØÁöÑ‰∏Ä‰∫õÂ§ÑÁêÜ if (!handleRetryAndDLQ(requestHeader, response, request, msgInner, topicConfig)) &#123; return response; &#125; // ËΩ¨ÂåñÊ∂àÊÅØ‰∏∫MessageExtBrokerInner msgInner.setBody(body); msgInner.setFlag(requestHeader.getFlag()); MessageAccessor.setProperties(msgInner, MessageDecoder.string2messageProperties(requestHeader.getProperties())); msgInner.setPropertiesString(requestHeader.getProperties()); msgInner.setBornTimestamp(requestHeader.getBornTimestamp()); msgInner.setBornHost(ctx.channel().remoteAddress()); msgInner.setStoreHost(this.getStoreHost()); msgInner.setReconsumeTimes(requestHeader.getReconsumeTimes() == null ? 0 : requestHeader.getReconsumeTimes()); PutMessageResult putMessageResult = null; Map&lt;String, String&gt; oriProps = MessageDecoder.string2messageProperties(requestHeader.getProperties()); String traFlag = oriProps.get(MessageConst.PROPERTY_TRANSACTION_PREPARED); if (traFlag != null &amp;&amp; Boolean.parseBoolean(traFlag)) &#123; // ÊòØÂê¶ÊãíÁªù‰∫ãÂä°Ê∂àÊÅØ if (this.brokerController.getBrokerConfig().isRejectTransactionMessage()) &#123; response.setCode(ResponseCode.NO_PERMISSION); response.setRemark( "the broker[" + this.brokerController.getBrokerConfig().getBrokerIP1() + "] sending transaction message is forbidden"); return response; &#125; putMessageResult = this.brokerController.getTransactionalMessageService().prepareMessage(msgInner); &#125; else &#123; // Ë∞ÉÁî®MessageStoreÊé•Âè£Â≠òÂÇ®Ê∂àÊÅØÔºåËøôÈáåÂ∞±Âà∞Êàë‰ª¨‰πãÂâçÂàÜÊûêÁöÑÊ∂àÊÅØÂ≠òÂÇ®Âì™Èáå‰∫Ü putMessageResult = this.brokerController.getMessageStore().putMessage(msgInner); &#125; // Ê†πÊçÆÂ≠òÂÇ®ÁªìÊûúËÆæÁΩÆrepsonseÁä∂ÊÄÅÔºåÊõ¥Êñ∞brokerÁªüËÆ°‰ø°ÊÅØÔºåÊàêÂäüÂàôÂõûÂ§çproducerÔºåÊõ¥Êñ∞context‰∏ä‰∏ãÊñá return handlePutMessageResult(putMessageResult, response, request, msgInner, responseHeader, sendMessageContext, ctx, queueIdInt);&#125; ÈóÆÈ¢òÂÖ∂ÂÆûÊàëÊúâ‰∏™ÈóÆÈ¢òÂ∞±ÊòØÂØπ‰∫éProducerÁöÑÂçïÊù°‰ø°ÊÅØÔºå‰∏∫‰∫ÜË¶ÅÂà§Êñ≠ÈáçËØïÊ¨°Êï∞ÔºüÔºü ÈóÆÈ¢òÂÖàÊîæÂú®ËøôÔºåÁ≠â‰ª•ÂêéÁü•ÈÅì‰∫ÜÔºåÂÜçÊù•ÂõûÁ≠îÔºÅÔºÅ ÂèÇËÄÉ RocketMQÊ∫êÁ†ÅËß£Êûê(ÂÖ´)-Broker#Ê∂àÊÅØÂèëÈÄÅ RocketMQÊ∂àË¥πÂ§±Ë¥•Ê∂àÊÅØÊ∑±ÂÖ•ÂàÜÊûêÔºàconsumer,brokerÁöÑÂÖ∑‰ΩìÂ§ÑÁêÜÈÄªËæëÔºâ]]></content>
      <categories>
        <category>RocketMQÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>RocketMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RocketMQÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîBrokerÊ∂àÊÅØÂ≠òÂÇ®]]></title>
    <url>%2F2019%2F06%2F22%2FRocketMQ%E6%BA%90%E7%A0%81%2FRocketMQ%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94Broker%E6%B6%88%E6%81%AF%E5%AD%98%E5%82%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊ∂àÊÅØÂ≠òÂÇ®ÂØπ‰∫é‰∏Ä‰∏™Ê∂àÊÅØÈòüÂàóÊù•ËØ¥ÊòØËÇØÂÆöË¶ÅÊúâÁöÑÔºåÂú®RocketMQ‰∏≠ÔºåBrokerÂ∞ÜÊ∂àÊÅØÂ≠òÂÇ®ÊäΩË±°ÊàêMessageStoreÊé•Âè£ÔºåÊàë‰ª¨‰πüÂ∞Ü‰ªéËøôÈáåÂÖ•Êâã~ Êï∞ÊçÆÁªìÊûÑÁæéÂõæÔºö ‰ªé‰∏äÈù¢Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Âá†‰∏™Ê†∏ÂøÉÁöÑÊï∞ÊçÆÁªìÊûÑÔºö CommitLogÔºöÂ≠òÂÇ®Ê∂àÊÅØÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÁ±ª‰ºº‰∏Ä‰∏™Ê∂àÊÅØÊï∞ÁªÑÔºåÊåâÁÖßÊ∂àÊÅØÊî∂Âà∞ÁöÑÈ°∫Â∫èÔºåÊâÄÊúâÊ∂àÊÅØÈÉΩÂ≠òÂÇ®Âú®‰∏ÄËµ∑„ÄÇÊØè‰∏™Ê∂àÊÅØÂ≠òÂÇ®ÂêéÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™ÂØπÂ∫îÁöÑoffsetÔºå‰ª£Ë°®Âú®commitLog‰∏≠ÁöÑÂ≠óËäÇÂÅèÁßªÈáè„ÄÇÊ≥®ÊÑèÔºöCommitLogÂπ∂‰∏çÊòØ‰∏Ä‰∏™Êñá‰ª∂ÔºåËÄåÊòØ‰∏ÄÁ≥ªÂàóÊñá‰ª∂Ôºà‰∏äÂõæ‰∏≠ÁöÑMappedFileÔºâ„ÄÇÊØè‰∏™MappedFileÊñá‰ª∂ÁöÑÂ§ßÂ∞èÈÉΩÊòØÂõ∫ÂÆöÁöÑÔºàÈªòËÆ§1GÔºâÔºåÂÜôÊª°‰∏Ä‰∏™‰ºöÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑÊñá‰ª∂ÔºåÊñ∞Êñá‰ª∂ÁöÑÊñá‰ª∂ÂêçÂ∞±ÊòØÂÆÉÂ≠òÂÇ®ÁöÑÁ¨¨‰∏ÄÊù°Ê∂àÊÅØÁöÑoffset„ÄÇ ConsumeQueueÔºö‰πãÂâçËØ¥‰∫ÜÊâÄÊúâÊ∂àÊÅØÈÉΩÊòØÂ≠òÂÇ®Âú®‰∏Ä‰∏™commitLog‰∏≠ÁöÑÔºå‰ΩÜÊòØconsumerÊòØÊåâÁÖßtopic+queueÁöÑÁª¥Â∫¶Êù•Ê∂àË¥πÊ∂àÊÅØÁöÑÔºåÊ≤°ÊúâÂäûÊ≥ïÁõ¥Êé•‰ªécommitLog‰∏≠ËØªÂèñÔºåÊâÄ‰ª•ÈíàÂØπÊØè‰∏™topicÁöÑÊØè‰∏™queueÈÉΩ‰ºöÁîüÊàêconsumeQueueÔºåConsumeQueue‰∏≠Â≠òÂÇ®ÁöÑÊòØÊ∂àÊÅØÂú®commitLog‰∏≠ÁöÑoffsetÔºåÂèØ‰ª•ÁêÜËß£Êàê‰∏Ä‰∏™Êåâtopic+queueÂª∫ÁöÑÁ¥¢ÂºïÔºåÊØèÊù°Ê∂àÊÅØÂç†Áî®20Â≠óËäÇÔºà‰∏äÂõæ‰∏≠ÁöÑ‰∏Ä‰∏™cqÔºâ„ÄÇË∑ücommitLog‰∏ÄÊ†∑ÔºåÊØè‰∏™QueueÊñá‰ª∂‰πüÊòØ‰∏ÄÁ≥ªÂàóËøûÁª≠ÁöÑÊñá‰ª∂ÁªÑÊàêÔºåÊØè‰∏™Êñá‰ª∂ÈªòËÆ§Êîæ30w‰∏™offsetÁ¥¢Âºï„ÄÇ IndexFileÔºöCommitLogÁöÑÂè¶Â§ñ‰∏ÄÁßçÂΩ¢ÂºèÁöÑÁ¥¢ÂºïÊñá‰ª∂ÔºåÂè™ÊòØÁ¥¢ÂºïÁöÑÊòØmessageKeyÔºåÊØè‰∏™MsgKeyÁªèËøáhashÂêéËÆ°ÁÆóÂ≠òÂÇ®ÁöÑslotÔºåÁÑ∂ÂêéÂ∞ÜoffsetÂ≠òÂà∞IndexFileÁöÑÁõ∏Â∫îslot‰∏ä„ÄÇÊ†πÊçÆmsgKeyÊù•Êü•ËØ¢Ê∂àÊÅØÊó∂ÔºåÂèØ‰ª•ÂÖàÂà∞IndexFileÔºàslot+indexÁ±ª‰ºº‰∏Ä‰∏™hashmapÔºâ‰∏≠Êü•ËØ¢offsetÔºåÁÑ∂ÂêéÊ†πÊçÆoffsetÂéªcommitLog‰∏≠Êü•ËØ¢ÂØπÂ∫îÁöÑÊ∂àÊÅØ„ÄÇ ÂÖ≥‰∫éÂõæ‰∏≠ÁöÑËøáÁ®ãÊàë‰ª¨ÂêéÈù¢‰ºöÂ±ïÂºÄËÆ≤Ëß£~ MessageStoreÂêØÂä®‰πãÂâçÔºåÊàë‰ª¨Âú®BrokerControllerÁöÑÂêØÂä®‰∏≠ÁúãÂà∞‰∫ÜMessageStoreÂêØÂä®ÔºåÊâÄ‰ª•Êàë‰ª¨‰πü‰ªéÈÇ£ÈáåÂºÄÂßãÁúãÔºö 12345678910111213141516171819202122232425262728293031323334353637// org.apache.rocketmq.store.DefaultMessageStore public void start() throws Exception &#123; // ÊûÑÈÄ†Êñá‰ª∂ÈîÅÔºå‰øùËØÅÁ£ÅÁõò‰∏äÁöÑÊñá‰ª∂Âè™‰ºöË¢´‰∏Ä‰∏™messageStoreËØªÂÜô lock = lockFile.getChannel().tryLock(0, 1, false); if (lock == null || lock.isShared() || !lock.isValid()) &#123; throw new RuntimeException("Lock failed,MQ already started"); &#125; lockFile.getChannel().write(ByteBuffer.wrap("lock".getBytes())); lockFile.getChannel().force(true); // ÂêØÂä®FlushConsumeQueueService(ÁªßÊâøServiceThreadÔºåÊòØ‰∏™ÂçïÁ∫øÁ®ã) // ÂÆöÊó∂Â∞ÜconsumeQueueÊñá‰ª∂ÁöÑÊï∞ÊçÆÂà∑Êñ∞Âà∞Á£ÅÁõòÔºåÂë®ÊúüÁî±ÂèÇÊï∞flushIntervalConsumeQueueËÆæÁΩÆÔºåÈªòËÆ§1Áßí this.flushConsumeQueueService.start(); // ÂêØÂä®CommitLogÔºåÂØπÂ∫î‰∫ÜflushCommitLogServiceÊúçÂä° // flushCommitLogServiceÊúçÂä°Ë¥üË¥£Â∞ÜCommitLogÁöÑÊï∞ÊçÆflushÂà∞Á£ÅÁõòÔºåÊúâÂêåÊ≠•Âà∑ÁõòÂíåÂºÇÊ≠•Âà∑Áõò‰∏§ÁßçÊñπÂºè this.commitLog.start(); // Ê∂àÊÅØÂ≠òÂÇ®ÊåáÊ†áÁªüËÆ°ÊúçÂä°ÔºåRTÔºåTPSÁ≠âÊåáÊ†áÔºåadminÂèØ‰ª•Áî® this.storeStatsService.start(); // ÈíàÂØπmasterÔºåÂêØÂä®Âª∂Êó∂Ê∂àÊÅØË∞ÉÂ∫¶ÊúçÂä°ÔºåÁúüÁöÑÊ∂àË¥πÂ§±Ë¥•ÁöÑÊÉÖÂÜµ if (this.scheduleMessageService != null &amp;&amp; SLAVE != messageStoreConfig.getBrokerRole()) &#123; this.scheduleMessageService.start(); &#125; // ÂêØÂä®ReputMessageServiceÔºåËØ•ÊúçÂä°Ë¥üË¥£Â∞ÜCommitLog‰∏≠ÁöÑÊ∂àÊÅØoffsetËÆ∞ÂΩïÂà∞cosumeQueueÊñá‰ª∂‰∏≠ if (this.getMessageStoreConfig().isDuplicationEnable()) &#123; this.reputMessageService.setReputFromOffset(this.commitLog.getConfirmOffset()); &#125; else &#123; this.reputMessageService.setReputFromOffset(this.commitLog.getMaxOffset()); &#125; this.reputMessageService.start(); // ÂêØÂä®HAServiceÔºåÊï∞ÊçÆ‰∏ª‰ªéÂêåÊ≠•ÁöÑÊúçÂä° this.haService.start(); // ÂØπ‰∫éÊñ∞ÁöÑbrokerÔºåÂàùÂßãÂåñÊñá‰ª∂Â≠òÂÇ®ÁöÑÁõÆÂΩï this.createTempFile(); // ÂêØÂä®ÂÆöÊó∂‰ªªÂä° this.addScheduleTask(); this.shutdown = false; &#125; ÁÑ∂ÂêéÁúãÁúãÂÆÉËµ∑‰∫ÜÂì™‰∫õÂÆöÊó∂‰ªªÂä°Ôºö 1234567891011121314151617181920212223242526272829303132333435363738private void addScheduleTask() &#123; // ÂÆöÊó∂Ê∏ÖÁêÜËøáÊúüÁöÑcommitLog„ÄÅcosumeQueueÊï∞ÊçÆÊñá‰ª∂ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; DefaultMessageStore.this.cleanFilesPeriodically(); &#125; &#125;, 1000 * 60, this.messageStoreConfig.getCleanResourceInterval(), TimeUnit.MILLISECONDS); // ÂÆöÊó∂Ëá™Ê£ÄcommitLogÂíåconsumerQueueÊñá‰ª∂ÔºåÊ†°È™åÊñá‰ª∂ÊòØÂê¶ÂÆåÊï¥„ÄÇ‰∏ªË¶ÅÁî®‰∫éÁõëÊéßÔºå‰∏ç‰ºöÂÅö‰øÆÂ§çÊñá‰ª∂ÁöÑÂä®‰Ωú this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; DefaultMessageStore.this.checkSelf(); &#125; &#125;, 1, 10, TimeUnit.MINUTES); // ÂÆöÊó∂Ê£ÄÊü•commitLogÁöÑLockÊó∂Èïø(Âõ†‰∏∫Âú®writeÊàñËÄÖflushÊó∂‰æØ‰ºölock) // Â¶ÇÊûúlockÁöÑÊó∂Èó¥ËøáÈïøÔºåÂàôÊâìÂç∞jvmÂ†ÜÊ†àÔºåÁî®‰∫éÁõëÊéß„ÄÇ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; if (DefaultMessageStore.this.getMessageStoreConfig().isDebugLockEnable()) &#123; try &#123; if (DefaultMessageStore.this.commitLog.getBeginTimeInLock() != 0) &#123; long lockTime = System.currentTimeMillis() - DefaultMessageStore.this.commitLog.getBeginTimeInLock(); if (lockTime &gt; 1000 &amp;&amp; lockTime &lt; 10000000) &#123; String stack = UtilAll.jstack(); final String fileName = System.getProperty("user.home") + File.separator + "debug/lock/stack-" + DefaultMessageStore.this.commitLog.getBeginTimeInLock() + "-" + lockTime; MixAll.string2FileNotSafe(stack, fileName); &#125; &#125; &#125; catch (Exception e) &#123; &#125; &#125; &#125; &#125;, 1, 1, TimeUnit.SECONDS);&#125; CommitLogÊàë‰ª¨Áü•ÈÅìÂΩìBrokerÊé•Êî∂Âà∞Ê∂àÊÅØ‰ºöËøõË°åÂ≠òÂÇ®ÔºåÈ¶ñÂÖàÂ≠òÂÇ®ÁöÑÂ∞±ÊòØCommitLogÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÊâæÂà∞org.apache.rocketmq.store.CommitLog#putMessage()ÊñπÊ≥ïÔºåËøôÈáåÂèØËÉΩÊúâÂ§öÊù°Ê∂àÊÅØ‰∏ÄËµ∑Â≠òÂÇ®ÔºåÊàë‰ª¨ËøôÈáå‰∏ªË¶ÅËØ¥‰∏Ä‰∏ãÂçïÊù°Ê∂àÊÅØÂ≠òÂÇ®Ôºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119public PutMessageResult putMessage(final MessageExtBrokerInner msg) &#123; // ËÆæÁΩÆÂ≠òÂÇ®Êó∂Èó¥Êà≥ msg.setStoreTimestamp(System.currentTimeMillis()); // ÂøΩÁï•Âä†ÂØÜ msg.setBodyCRC(UtilAll.crc32(msg.getBody())); // ÊûÑÈÄ†ËøîÂõûÁªìÊûú AppendMessageResult result = null; // ÊãøÂà∞ÁªüËÆ°Áä∂ÊÄÅÊúçÂä°ÔºåÂêéÈù¢‰ºöËÆæÁΩÆ‰∏Ä‰∫õÂÄº StoreStatsService storeStatsService = this.defaultMessageStore.getStoreStatsService(); // ÊãøÂà∞TopicÂíåqueue‰ø°ÊÅØ String topic = msg.getTopic(); int queueId = msg.getQueueId(); final int tranType = MessageSysFlag.getTransactionValue(msg.getSysFlag()); // Èùû‰∫ãÂä°Ê∂àÊÅØ if (tranType == MessageSysFlag.TRANSACTION_NOT_TYPE || tranType == MessageSysFlag.TRANSACTION_COMMIT_TYPE) &#123; // Delay Delivery // Âª∂Êó∂ÊäïÊîæÊ∂àÊÅØÔºåÂèòÊõ¥topic‰∏∫SCHEDULE_TOPIC_XXXX‰ª•ÂèäÈòüÂàó // Ë¢´ÈáçÂèëÁöÑSchedule‰ªªÂä°ËØªÂà∞ if (msg.getDelayTimeLevel() &gt; 0) &#123; if (msg.getDelayTimeLevel() &gt; this.defaultMessageStore.getScheduleMessageService().getMaxDelayLevel()) &#123; msg.setDelayTimeLevel(this.defaultMessageStore.getScheduleMessageService().getMaxDelayLevel()); &#125; topic = ScheduleMessageService.SCHEDULE_TOPIC; queueId = ScheduleMessageService.delayLevel2QueueId(msg.getDelayTimeLevel()); // Â§á‰ªΩ‰πãÂâçÁöÑtopicÂíåqueueId MessageAccessor.putProperty(msg, MessageConst.PROPERTY_REAL_TOPIC, msg.getTopic()); MessageAccessor.putProperty(msg, MessageConst.PROPERTY_REAL_QUEUE_ID, String.valueOf(msg.getQueueId())); msg.setPropertiesString(MessageDecoder.messageProperties2String(msg.getProperties())); msg.setTopic(topic); msg.setQueueId(queueId); &#125; &#125; long eclipseTimeInLock = 0; MappedFile unlockMappedFile = null; // Ëé∑ÂèñÂΩìÂâçÊ≠£Âú®ÂÜôÂÖ•Êñá‰ª∂ MappedFile mappedFile = this.mappedFileQueue.getLastMappedFile(); // Ëé∑ÂèñÂÜômessageÁöÑÈîÅÔºåÂèØ‰ª•ÊòØËá™ÊóãÈîÅÊàñËÄÖÂèØÈáçÂÖ•ÈîÅÔºåÁúãÈÖçÁΩÆ putMessageLock.lock(); //spin or ReentrantLock ,depending on store config try &#123; long beginLockTimestamp = this.defaultMessageStore.getSystemClock().now(); this.beginTimeInLock = beginLockTimestamp; // Here settings are stored timestamp, in order to ensure an orderly // global msg.setStoreTimestamp(beginLockTimestamp); // Â¶ÇÊûúÊñá‰ª∂‰∏çÂ≠òÂú®ÊàñËÄÖÊñá‰ª∂Â∑≤ÁªèÂÜôÊª°ÔºåÊñ∞Âª∫‰∏Ä‰∏™mappedfile if (null == mappedFile || mappedFile.isFull()) &#123; mappedFile = this.mappedFileQueue.getLastMappedFile(0); // Mark: NewFile may be cause noise &#125; // Êñá‰ª∂ÂàõÂª∫Â§±Ë¥•ÔºåÂàôËøîÂõûÈîôËØØ if (null == mappedFile) &#123; log.error("create mapped file1 error, topic: " + msg.getTopic() + " clientAddr: " + msg.getBornHostString()); beginTimeInLock = 0; return new PutMessageResult(PutMessageStatus.CREATE_MAPEDFILE_FAILED, null); &#125; // Ê∂àÊÅØÂÜôÂÖ•Êñá‰ª∂ÔºåÊúâ‰∏Ä‰∏™ÂõûË∞ÉÔºåÂæÖ‰ºöËØ¥ result = mappedFile.appendMessage(msg, this.appendMessageCallback); switch (result.getStatus()) &#123; case PUT_OK: break; // Â¶ÇÊûúÊñá‰ª∂Â∑≤Êª°ÔºåÂàôÊñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂ÁªßÁª≠ case END_OF_FILE: unlockMappedFile = mappedFile; // Create a new file, re-write the message mappedFile = this.mappedFileQueue.getLastMappedFile(0); if (null == mappedFile) &#123; // XXX: warn and notify me log.error("create mapped file2 error, topic: " + msg.getTopic() + " clientAddr: " + msg.getBornHostString()); beginTimeInLock = 0; return new PutMessageResult(PutMessageStatus.CREATE_MAPEDFILE_FAILED, result); &#125; result = mappedFile.appendMessage(msg, this.appendMessageCallback); break; case MESSAGE_SIZE_EXCEEDED: case PROPERTIES_SIZE_EXCEEDED: beginTimeInLock = 0; return new PutMessageResult(PutMessageStatus.MESSAGE_ILLEGAL, result); case UNKNOWN_ERROR: beginTimeInLock = 0; return new PutMessageResult(PutMessageStatus.UNKNOWN_ERROR, result); default: beginTimeInLock = 0; return new PutMessageResult(PutMessageStatus.UNKNOWN_ERROR, result); &#125; eclipseTimeInLock = this.defaultMessageStore.getSystemClock().now() - beginLockTimestamp; beginTimeInLock = 0; &#125; finally &#123; // ÈáäÊîæËé∑ÂèñÂà∞ÁöÑÈîÅ putMessageLock.unlock(); &#125; // ÂÜôÊ∂àÊÅØÊó∂Èó¥ËøáÈïø, Ë≠¶Âëä if (eclipseTimeInLock &gt; 500) &#123; log.warn("[NOTIFYME]putMessage in lock cost time(ms)=&#123;&#125;, bodyLength=&#123;&#125; AppendMessageResult=&#123;&#125;", eclipseTimeInLock, msg.getBody().length, result); &#125; // unlockÂ∑≤ÁªèÂÜôÊª°ÁöÑÊñá‰ª∂ÔºåÈáäÊîæÂÜÖÂ≠òÈîÅÔºàÁ≥ªÁªüÈîÅÔºâ if (null != unlockMappedFile &amp;&amp; this.defaultMessageStore.getMessageStoreConfig().isWarmMapedFileEnable()) &#123; this.defaultMessageStore.unlockMappedFile(unlockMappedFile); &#125; PutMessageResult putMessageResult = new PutMessageResult(PutMessageStatus.PUT_OK, result); // ‰∏Ä‰∫õÁªüËÆ°‰ø°ÊÅØ storeStatsService.getSinglePutMessageTopicTimesTotal(msg.getTopic()).incrementAndGet(); storeStatsService.getSinglePutMessageTopicSizeTotal(topic).addAndGet(result.getWroteBytes()); // flushÊï∞ÊçÆÂà∞Á£ÅÁõòÔºåÂàÜÂêåÊ≠•ÂíåÂºÇÊ≠• handleDiskFlush(result, putMessageResult, msg); // Â¶ÇÊûúÊòØSYNC_MASTERÔºåÂàôMaster‰øùÂ≠òÊ∂àÊÅØÂêéÔºåÈúÄË¶ÅÂ∞ÜÊ∂àÊÅØÂêåÊ≠•ÁªôslaveÂêéÊâç‰ºöËøîÂõûÁªìÊûú // Â¶ÇÊûúASYNC_MASTERÔºåËøôÈáå‰∏ç‰ºöÂÅö‰ªª‰ΩïÊìç‰ΩúÔºåÁî±HAServiceÁöÑÂêéÂè∞Á∫øÁ®ãÂÅöÊï∞ÊçÆÂêåÊ≠• handleHA(result, putMessageResult, msg); return putMessageResult;&#125; Êàë‰ª¨Âú®‰πãÂâçÁöÑÊï∞ÊçÆÁªìÊûÑÂõæ‰∏≠‰ª•Âèä‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠ÈÉΩÁúãÂà∞‰∫ÜCommitLogÊòØÂ≠òÂÇ®Âú®MappedFile‰∏≠Ôºå‰∏ãÈù¢Êàë‰ª¨Â∞±ÁúãÁúãÂÜôÂÖ•Ê∂àÊÅØÂà∞MappedFileÁöÑÂÆûÁé∞ÔºåÂØπÂ∫î‰∫Üorg.apache.rocketmq.store.MappedFile#appendMessage()ÊñπÊ≥ïÔºö 12345678910111213141516171819202122232425262728293031323334353637public AppendMessageResult appendMessage(final MessageExtBrokerInner msg, final AppendMessageCallback cb) &#123; return appendMessagesInner(msg, cb);&#125;public AppendMessageResult appendMessagesInner(final MessageExt messageExt, final AppendMessageCallback cb) &#123; assert messageExt != null; assert cb != null; // Ëé∑ÂèñÂΩìÂâçÁöÑwrite positionÔºåÁî®‰∫ÜÂéüÂ≠êËÆ°Êï∞Âô®AtomicInteger int currentPos = this.wrotePosition.get(); if (currentPos &lt; this.fileSize) &#123; // Ëé∑ÂæóNIOÁöÑBytBufferÔºå‰ªéwriteBufferÊàñËÄÖmappedByteBufferÔºåËøôÈáåÂ∞±Âà©Áî®‰∫ÜÈõ∂Êã∑Ë¥ù // Â¶ÇÊûúÊòØwriteBufferÔºåÂ±û‰∫éÂºÇÊ≠• // CommitLogÂêØÂä®ÁöÑÊó∂ÂÄôÂàùÂßãÂåñ‰∏ÄÂùóÂÜÖÂ≠òÊ±†(ÈÄöËøáByteBufferÁî≥ËØ∑ÁöÑÂ†ÜÂ§ñÂÜÖÂ≠ò) // Ê∂àÊÅØÊï∞ÊçÆÈ¶ñÂÖàÂÜôÂÖ•ÂÜÖÂ≠òÊ±†‰∏≠ÔºåÁÑ∂ÂêéÂêéÂè∞Êúâ‰∏™Á∫øÁ®ãÂÆöÊó∂Â∞ÜÂÜÖÂ≠òÊ±†‰∏≠ÁöÑÊï∞ÊçÆcommitÂà∞FileChannel‰∏≠ // Â¶ÇÊûúÊòØmappedByteBufferÔºåÂ±û‰∫éÂêåÊ≠• // Âú®ÂÜôÂÖ•Êñá‰ª∂Êó∂Ôºå‰ªéFileChannelËé∑ÂèñÁõ¥Êé•ÂÜÖÂ≠òÊò†Â∞ÑÔºåÊî∂Âà∞Ê∂àÊÅØÂêéÔºåÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Âà∞ËøôÂùóÂÜÖÂ≠ò‰∏≠ÔºåÂÜÖÂ≠òÂíåÁâ©ÁêÜÊñá‰ª∂ÁöÑÊï∞ÊçÆ‰∫§‰∫íÁî±Êìç‰ΩúÁ≥ªÁªüË¥üË¥£ ByteBuffer byteBuffer = writeBuffer != null ? writeBuffer.slice() : this.mappedByteBuffer.slice(); byteBuffer.position(currentPos); AppendMessageResult result = null; if (messageExt instanceof MessageExtBrokerInner) &#123; // ÂÜôÂçïÊù°Ê∂àÊÅØÂà∞byteBuffer result = cb.doAppend(this.getFileFromOffset(), byteBuffer, this.fileSize - currentPos, (MessageExtBrokerInner) messageExt); &#125; else if (messageExt instanceof MessageExtBatch) &#123; // ÊâπÈáèÊ∂àÊÅØÂà∞byteBuffer result = cb.doAppend(this.getFileFromOffset(), byteBuffer, this.fileSize - currentPos, (MessageExtBatch) messageExt); &#125; else &#123; return new AppendMessageResult(AppendMessageStatus.UNKNOWN_ERROR); &#125; // Êõ¥Êñ∞write positionÔºåÂà∞ÊúÄÊñ∞ÂÄº this.wrotePosition.addAndGet(result.getWroteBytes()); this.storeTimestamp = result.getStoreTimestamp(); return result; &#125; log.error("MappedFile.appendMessage return null, wrotePosition: &#123;&#125; fileSize: &#123;&#125;", currentPos, this.fileSize); return new AppendMessageResult(AppendMessageStatus.UNKNOWN_ERROR);&#125; Âú®ÂÜôÂÖ•Âà∞MappedZFileÁöÑÂáΩÊï∞‰∏≠ÔºåÊàë‰ª¨ÁúãÂà∞Êúâ‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåÂ•ΩÂÉè‰πü‰∏çÁÆóÂõûË∞Éü§£ÔºåÊàë‰ª¨Ë∞ÉÁî®‰∫ÜËøô‰∏™ÂáΩÊï∞ÁöÑ#doAppend()ÊñπÊ≥ïÔºåÊàë‰ª¨ÁúãÁúãÂÆÉÂÅö‰∫Ü‰ªÄ‰πàÔºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879public AppendMessageResult doAppend(final long fileFromOffset, final ByteBuffer byteBuffer, final int maxBlank, final MessageExtBrokerInner msgInner) &#123; // STORETIMESTAMP + STOREHOSTADDRESS + OFFSET &lt;br&gt; // PHY OFFSET Ê∂àÊÅØÂÅèÁßª Êñá‰ª∂ÁöÑÂêçÁöÑoffset + bytebufferÁöÑ‰ΩçÁΩÆÂ∞±ÊòØË¶ÅÂÜôÁöÑoffset long wroteOffset = fileFromOffset + byteBuffer.position(); this.resetByteBuffer(hostHolder, 8); // ÁîüÊàêmessage ID, Ââç8‰ΩçÊòØhostÔºåÂêé8‰ΩçÊòØwroteOffset,ÁõÆÁöÑÊòØ‰æø‰∫é‰ΩøÁî®msgIDÊù•Êü•ÊâæÊ∂àÊÅØ String msgId = MessageDecoder.createMessageId(this.msgIdMemory, msgInner.getStoreHostBytes(hostHolder), wroteOffset); // Record ConsumeQueue information keyBuilder.setLength(0); keyBuilder.append(msgInner.getTopic()); keyBuilder.append('-'); keyBuilder.append(msgInner.getQueueId()); String key = keyBuilder.toString(); // ÂèñÂæóÂÖ∑‰ΩìQueueÁöÑoffsetÔºåÂÄºÊòØÂΩìÂâçÊòØQueueÈáåÁöÑÁ¨¨Âá†Êù°Ê∂àÊÅØ Long queueOffset = CommitLog.this.topicQueueTable.get(key); // Â¶ÇÊûúÊòØËøô‰∏™queueÁöÑÁ¨¨‰∏ÄÊù°Ê∂àÊÅØÔºåÈúÄË¶ÅÂàùÂßãÂåñqueueOffset if (null == queueOffset) &#123; queueOffset = 0L; CommitLog.this.topicQueueTable.put(key, queueOffset); &#125; // ‰∫ãÂä°Ê∂àÊÅØÈúÄË¶ÅÁâπÂà´ÁöÑÂ§ÑÁêÜÔºåÁï•Ëøá final int tranType = MessageSysFlag.getTransactionValue(msgInner.getSysFlag()); switch (tranType) &#123; // Prepared and Rollback message is not consumed, will not enter the // consumer queuec case MessageSysFlag.TRANSACTION_PREPARED_TYPE: case MessageSysFlag.TRANSACTION_ROLLBACK_TYPE: queueOffset = 0L; break; case MessageSysFlag.TRANSACTION_NOT_TYPE: case MessageSysFlag.TRANSACTION_COMMIT_TYPE: default: break; &#125; // Â∫èÂàóÂåñÊ∂àÊÅØ final byte[] propertiesData = msgInner.getPropertiesString() == null ? null : msgInner.getPropertiesString().getBytes(MessageDecoder.CHARSET_UTF8); final int propertiesLength = propertiesData == null ? 0 : propertiesData.length; if (propertiesLength &gt; Short.MAX_VALUE) &#123; log.warn("putMessage message properties length too long. length=&#123;&#125;", propertiesData.length); return new AppendMessageResult(AppendMessageStatus.PROPERTIES_SIZE_EXCEEDED); &#125; final byte[] topicData = msgInner.getTopic().getBytes(MessageDecoder.CHARSET_UTF8); final int topicLength = topicData.length; final int bodyLength = msgInner.getBody() == null ? 0 : msgInner.getBody().length; // ËÆ°ÁÆóÊú∫Â∫èÂàóÂåñÊ∂àÊÅØÁöÑÈïøÂ∫¶ final int msgLen = calMsgLength(bodyLength, topicLength, propertiesLength); // Exceeds the maximum message if (msgLen &gt; this.maxMessageSize) &#123; CommitLog.log.warn("message size exceeded, msg total size: " + msgLen + ", msg body size: " + bodyLength + ", maxMessageSize: " + this.maxMessageSize); return new AppendMessageResult(AppendMessageStatus.MESSAGE_SIZE_EXCEEDED); &#125; // Â¶ÇÊûúÁ©∫Èó¥‰∏çË∂≥Ôºåmagic codeËÆæÁΩÆÊàê-626843481,ÁÑ∂ÂêéÂâ©‰ΩôÂ≠óËäÇÈöèÊú∫Ôºå‰øùËØÅÊâÄÊúâÊñá‰ª∂Â§ßÂ∞èÈÉΩÊòØFileSize if ((msgLen + END_FILE_MIN_BLANK_LENGTH) &gt; maxBlank) &#123; this.resetByteBuffer(this.msgStoreItemMemory, maxBlank); // 1 TOTALSIZE this.msgStoreItemMemory.putInt(maxBlank); // 2 MAGICCODE this.msgStoreItemMemory.putInt(CommitLog.BLANK_MAGIC_CODE); // 3 The remaining space may be any value // Here the length of the specially set maxBlank final long beginTimeMills = CommitLog.this.defaultMessageStore.now(); byteBuffer.put(this.msgStoreItemMemory.array(), 0, maxBlank); return new AppendMessageResult(AppendMessageStatus.END_OF_FILE, wroteOffset, maxBlank, msgId, msgInner.getStoreTimestamp(), queueOffset, CommitLog.this.defaultMessageStore.now() - beginTimeMills); &#125; ÁúãÂà∞ËøôÈáåÔºåCommitLogÂ∞±Â∑≤ÁªèË¢´Â≠òÂÖ•Âà∞ByteBufÈáåÂï¶ÔºåÁ≠âÂæÖË¢´flushÂà∞Êñá‰ª∂ÈáåÔºÅÔºÅÔºÅÔºÅ ConsumeQueue‰∏äÈù¢Êàë‰ª¨ÁúãÂà∞Ê∂àÊÅØË¢´ÊîæÂà∞‰∫ÜCommitLog‰∏≠Ôºå‰ΩÜÊòØconsumerÂú®Ê∂àË¥πÊ∂àÊÅØÁöÑÊó∂ÂÄôÊòØÊåâÁÖßtopic+queueÁöÑÁª¥Â∫¶Êù•ÊãâÂèñÊ∂àÊÅØÁöÑ„ÄÇ‰∏∫‰∫ÜÊñπ‰æøËØªÂèñÔºåMessageStoreÂ∞ÜCommitLog‰∏≠Ê∂àÊÅØÁöÑoffsetÊåâÁÖßtopic+queueIdÂàíÂàÜÂêéÔºåÂ≠òÂÇ®Âà∞‰∏çÂêåÁöÑÊñá‰ª∂‰∏≠ÔºåËøôÂ∞±ÊòØConsumeQueue„ÄÇ Âú®‰∏äÈù¢MessageStoreÂêØÂä®ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÁúãÂà∞‰ªñ‰ºöÂêØÂä®‰∏Ä‰∏™ÊúçÂä°ReputMessageServiceÂ∞ÜCommitLog‰∏≠ÁöÑÊ∂àÊÅØÊåâÁÖßtopic+queueIdÂàíÂàÜÂêéÔºåÂ≠òÂÇ®Âà∞‰∏çÂêåÁöÑConsumerQueue‰∏≠ÔºåÊâÄ‰ª•Êàë‰ª¨‰πü‰ªéorg.apache.rocketmq.store.DefaultMessageStore.ReputMessageServiceÂºÄÂßãÁúãÔºåÊó¢ÁÑ∂ÊòØ‰∏Ä‰∏™Á∫øÁ®ãÔºåÊâÄ‰ª•Êàë‰ª¨È¶ñÂÖà‰ºöÊâæÂà∞‰ªñÁöÑrunÊñπÊ≥ïÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586 public void run() &#123; DefaultMessageStore.log.info(this.getServiceName() + " service started"); while (!this.isStopped()) &#123; try &#123; Thread.sleep(1); this.doReput(); &#125; catch (Exception e) &#123; DefaultMessageStore.log.warn(this.getServiceName() + " service has exception. ", e); &#125; &#125; DefaultMessageStore.log.info(this.getServiceName() + " service end"); &#125;// ‰ªé‰∏äÈù¢ÂèØ‰ª•ÁúãÂà∞‰∏ªË¶ÅÂú®ÊâßË°ådoReputÊñπÊ≥ï private void doReput() &#123; // Âà§Êñ≠commitLogÁöÑmaxOffsetÊòØÂê¶ÊØî‰∏äÊ¨°ËØªÂèñÁöÑoffsetÂ§ßÔºåÂ§ßÂ∞±‰ª£Ë°®‰∫ÜÊúâÊñ∞ÁöÑÊ∂àÊÅØ for (boolean doNext = true; this.isCommitLogAvailable() &amp;&amp; doNext; ) &#123; if (DefaultMessageStore.this.getMessageStoreConfig().isDuplicationEnable() &amp;&amp; this.reputFromOffset &gt;= DefaultMessageStore.this.getConfirmOffset()) &#123; break; &#125; // ‰ªé‰∏äÊ¨°ÁöÑÁªìÊùüoffsetÂºÄÂßãËØªÂèñcommitLogÊñá‰ª∂‰∏≠ÁöÑÊ∂àÊÅØ SelectMappedBufferResult result = DefaultMessageStore.this.commitLog.getData(reputFromOffset); if (result != null) &#123; try &#123; this.reputFromOffset = result.getStartOffset(); for (int readSize = 0; readSize &lt; result.getSize() &amp;&amp; doNext; ) &#123; // Ê£ÄÊü•messageÊï∞ÊçÆÂÆåÊï¥ÊÄßÂπ∂Â∞ÅË£ÖÊàêDispatchRequest DispatchRequest dispatchRequest = DefaultMessageStore.this.commitLog.checkMessageAndReturnSize(result.getByteBuffer(), false, false); int size = dispatchRequest.getMsgSize(); if (dispatchRequest.isSuccess()) &#123; if (size &gt; 0) &#123; // ÂàÜÂèëÊ∂àÊÅØÂà∞CommitLogDispatcher DefaultMessageStore.this.doDispatch(dispatchRequest); // ÂΩìBroker‰∏∫MasterÁöÑÊó∂ÂÄôÔºåÂàÜÂèëÊ∂àÊÅØÂà∞MessageArrivingListener,Âî§ÈÜíÁ≠âÂæÖÁöÑPullReqeustÊé•Êî∂Ê∂àÊÅØ if (BrokerRole.SLAVE != DefaultMessageStore.this.getMessageStoreConfig().getBrokerRole() &amp;&amp; DefaultMessageStore.this.brokerConfig.isLongPollingEnable()) &#123; DefaultMessageStore.this.messageArrivingListener.arriving(dispatchRequest.getTopic(), dispatchRequest.getQueueId(), dispatchRequest.getConsumeQueueOffset() + 1, dispatchRequest.getTagsCode(), dispatchRequest.getStoreTimestamp(), dispatchRequest.getBitMap(), dispatchRequest.getPropertiesMap()); &#125; // Êõ¥Êñ∞ÊúÄÊñ∞reputÁöÑoffset this.reputFromOffset += size; readSize += size; if (DefaultMessageStore.this.getMessageStoreConfig().getBrokerRole() == BrokerRole.SLAVE) &#123; DefaultMessageStore.this.storeStatsService .getSinglePutMessageTopicTimesTotal(dispatchRequest.getTopic()).incrementAndGet(); DefaultMessageStore.this.storeStatsService .getSinglePutMessageTopicSizeTotal(dispatchRequest.getTopic()) .addAndGet(dispatchRequest.getMsgSize()); &#125; &#125; else if (size == 0) &#123; // Â¶ÇÊûúËØªÂà∞Êñá‰ª∂ÁªìÂ∞æÔºåÂàôÂàáÊç¢Âà∞Êñ∞Êñá‰ª∂ this.reputFromOffset = DefaultMessageStore.this.commitLog.rollNextFile(this.reputFromOffset); readSize = result.getSize(); &#125; &#125; else if (!dispatchRequest.isSuccess()) &#123; if (size &gt; 0) &#123; log.error("[BUG]read total count not equals msg total size. reputFromOffset=&#123;&#125;", reputFromOffset); this.reputFromOffset += size; &#125; else &#123; doNext = false; if (DefaultMessageStore.this.brokerConfig.getBrokerId() == MixAll.MASTER_ID) &#123; log.error("[BUG]the master dispatch message to consume queue error, COMMITLOG OFFSET: &#123;&#125;", this.reputFromOffset); this.reputFromOffset += result.getSize() - readSize; &#125; &#125; &#125; &#125; &#125; finally &#123; // ÈáäÊîæbytebuffÔºåÈÅøÂÖçÂÜÖÂ≠òÊ≥ÑÊºè result.release(); &#125; &#125; else &#123; doNext = false; &#125; &#125; &#125; ‰∏äÈù¢Êàë‰ª¨ÁúãÂà∞‰∫ÜÊ∂àÊÅØË¢´ÂàÜÂèëÂà∞‰∫ÜCommitLogDispatcherÔºåËøô‰∏™ÊòØÂï•ÔºüÊâæÂà∞DefaultMessageStore#doDispatch()ÊñπÊ≥ïÔºö 123456 public void doDispatch(DispatchRequest req) &#123; for (CommitLogDispatcher dispatcher : this.dispatcherList) &#123; dispatcher.dispatch(req); &#125; &#125;private final LinkedList&lt;CommitLogDispatcher&gt; dispatcherList; ‰ªé‰∏äÈù¢ÁúãÂà∞ÊòØDefaultMessageStoreÁöÑÈõÜÂêàÊàêÂëòÂèòÈáèÔºåÈÇ£‰πàËøô‰∏™ÈõÜÂêàÊòØ‰ªÄ‰πàÊó∂ÂÄôÁîüÊàêÁöÑÂë¢Ôºü Êàë‰ª¨Âú®ÊûÑÈÄ†DefaultMessageStore‰ºöÂæÄÈáåÈù¢Ê∑ªÂä†‰∏§‰∏™CommitLogDispatcherÔºåÊàë‰ª¨ÂÆö‰ΩçÂà∞DefaultMessageStoreÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÁúÅÁï•Êó†ÂÖ≥‰ª£Á†ÅÔºö 12345this.dispatcherList = new LinkedList&lt;&gt;();// consumeQueueÊûÑÂª∫Dispatcherthis.dispatcherList.addLast(new CommitLogDispatcherBuildConsumeQueue());// IndexFileÊûÑÂª∫Dispatcherthis.dispatcherList.addLast(new CommitLogDispatcherBuildIndex()); ‰∏çÁü•ÈÅìÂ§ßÂÆ∂ËøòÊúâÊ≤°ÊúâÂç∞Ë±°ÔºåÂÖ∂ÂÆûÂú®ËØ¥BrokerÂàùÂßãÂåñ)ÁöÑÊó∂ÂÄô‰πüÊèêÂà∞Ëøá„ÄÇÊàë‰ª¨ÁúÅÁï•‰∏ãÊó†ÂÖ≥‰ª£Á†ÅÔºåÂÜçÁúã‰∏ÄÈÅçÔºö 12345678910111213141516public boolean initialize() throws CloneNotSupportedException &#123; // ... if (result) &#123; try &#123; // Ê∂àÊÅØÂ≠òÂèñÁöÑÊ†∏ÂøÉÊé•Âè£ÂàùÂßãÂåñ this.messageStore = new DefaultMessageStore(this.messageStoreConfig, this.brokerStatsManager, this.messageArrivingListener, this.brokerConfig); // Ê∑ªÂä†Ê∂àÊÅØÂàÜÂèëÂô®ÔºåÂàÜÂèëÂà∞Â∏ÉÈöÜËøáÊª§Âô® this.messageStore.getDispatcherList().addFirst(new CommitLogDispatcherCalcBitMap(this.brokerConfig, this.consumerFilterManager)); &#125; catch (IOException e) &#123; result = false; log.error("Failed to initialize", e); &#125; &#125;&#125; ËøôÈáåÊàë‰ª¨Âè™ÂàÜÊûêorg.apache.rocketmq.store.DefaultMessageStore.CommitLogDispatcherBuildConsumeQueueÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108 class CommitLogDispatcherBuildConsumeQueue implements CommitLogDispatcher &#123; @Override public void dispatch(DispatchRequest request) &#123; final int tranType = MessageSysFlag.getTransactionValue(request.getSysFlag()); switch (tranType) &#123; // Èùû‰∫ãÂä°Ê∂àÊÅØ case MessageSysFlag.TRANSACTION_NOT_TYPE: case MessageSysFlag.TRANSACTION_COMMIT_TYPE: // Êîæ‰ΩçÁΩÆoffset‰ø°ÊÅØ DefaultMessageStore.this.putMessagePositionInfo(request); break; case MessageSysFlag.TRANSACTION_PREPARED_TYPE: case MessageSysFlag.TRANSACTION_ROLLBACK_TYPE: break; &#125; &#125; &#125; public void putMessagePositionInfo(DispatchRequest dispatchRequest) &#123; // ÊâæÂà∞ÂØπÂ∫îÁöÑConsumeQueueÔºåÊ≤°ÊúâÂ∞±ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑMappedFileÊñá‰ª∂ ConsumeQueue cq = this.findConsumeQueue(dispatchRequest.getTopic(), dispatchRequest.getQueueId()); cq.putMessagePositionInfoWrapper(dispatchRequest); &#125;// org.apache.rocketmq.store.ConsumeQueue public void putMessagePositionInfoWrapper(DispatchRequest request) &#123; // ÂÜôÂÖ•ÈáçËØïÊ¨°Êï∞ÔºåÊúÄÂ§ö30Ê¨° final int maxRetries = 30; // Âà§Êñ≠CQÊòØÂê¶ÊòØÂèØÂÜôÁöÑ boolean canWrite = this.defaultMessageStore.getRunningFlags().isCQWriteable(); for (int i = 0; i &lt; maxRetries &amp;&amp; canWrite; i++) &#123; // ÊãøÂà∞Ê∂àÊÅØÁöÑTag long tagsCode = request.getTagsCode(); if (isExtWriteEnable()) &#123; // Â¶ÇÊûúÈúÄË¶ÅÂÜôextÊñá‰ª∂ÔºåÂàôÂ∞ÜÊ∂àÊÅØÁöÑtagsCodeÂÜôÂÖ•ÔºåÁî®‰∫éÊ∂àÊÅØËøáÊª§ÔºåÂêéÈù¢ÊúâÊú∫‰ºöÂÜçËØ¥ ConsumeQueueExt.CqExtUnit cqExtUnit = new ConsumeQueueExt.CqExtUnit(); cqExtUnit.setFilterBitMap(request.getBitMap()); cqExtUnit.setMsgStoreTime(request.getStoreTimestamp()); cqExtUnit.setTagsCode(request.getTagsCode()); long extAddr = this.consumeQueueExt.put(cqExtUnit); if (isExtAddr(extAddr)) &#123; tagsCode = extAddr; &#125; else &#123; log.warn("Save consume queue extend fail, So just save tagsCode! &#123;&#125;, topic:&#123;&#125;, queueId:&#123;&#125;, offset:&#123;&#125;", cqExtUnit, topic, queueId, request.getCommitLogOffset()); &#125; &#125; // ÂÜôÂÖ•CQÊñá‰ª∂ boolean result = this.putMessagePositionInfo(request.getCommitLogOffset(), request.getMsgSize(), tagsCode, request.getConsumeQueueOffset()); if (result) &#123; this.defaultMessageStore.getStoreCheckpoint().setLogicsMsgTimestamp(request.getStoreTimestamp()); return; &#125; else &#123; // XXX: warn and notify me log.warn("[BUG]put commit log position info to " + topic + ":" + queueId + " " + request.getCommitLogOffset() + " failed, retry " + i + " times"); try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; log.warn("", e); &#125; &#125; &#125; // XXX: warn and notify me log.error("[BUG]consume queue can not write, &#123;&#125; &#123;&#125;", this.topic, this.queueId); this.defaultMessageStore.getRunningFlags().makeLogicsQueueError(); &#125; private boolean putMessagePositionInfo(final long offset, final int size, final long tagsCode, final long cqOffset) &#123; if (offset &lt;= this.maxPhysicOffset) &#123; return true; &#125; // ÁªìÊûÑÂèØ‰ª•ÂèÇËÄÉÊï∞ÊçÆÁªìÊûÑ‰∏≠Âõæ this.byteBufferIndex.flip(); // ‰∏Ä‰∏™CQUnitÁöÑÂ§ßÂ∞èÊòØÂõ∫ÂÆöÁöÑ20Â≠óËäÇ this.byteBufferIndex.limit(CQ_STORE_UNIT_SIZE); this.byteBufferIndex.putLong(offset); this.byteBufferIndex.putInt(size); this.byteBufferIndex.putLong(tagsCode); final long expectLogicOffset = cqOffset * CQ_STORE_UNIT_SIZE; // Ëé∑ÂèñÊúÄÂêé‰∏Ä‰∏™MappedFile, Ê≤°ÊúâÂ∞±ÂàõÂª∫ MappedFile mappedFile = this.mappedFileQueue.getLastMappedFile(expectLogicOffset); if (mappedFile != null) &#123; if (mappedFile.isFirstCreateInQueue() &amp;&amp; cqOffset != 0 &amp;&amp; mappedFile.getWrotePosition() == 0) &#123; this.minLogicOffset = expectLogicOffset; this.mappedFileQueue.setFlushedWhere(expectLogicOffset); this.mappedFileQueue.setCommittedWhere(expectLogicOffset); this.fillPreBlank(mappedFile, expectLogicOffset); log.info("fill pre blank space " + mappedFile.getFileName() + " " + expectLogicOffset + " " + mappedFile.getWrotePosition()); &#125; if (cqOffset != 0) &#123; long currentLogicOffset = mappedFile.getWrotePosition() + mappedFile.getFileFromOffset(); // ... this.maxPhysicOffset = offset; // CQUnitÂÜôÂÖ•Êñá‰ª∂‰∏≠, ‰ΩøÁî®filechannelÂÜô,ÂêåÊ≠•ÂÜô return mappedFile.appendMessage(this.byteBufferIndex.array()); &#125; return false; &#125; ÁúãÂà∞ËøôÈáåÔºåConsumeQueueÂ∞±Ë¢´ÂÜôÂÖ•Âà∞Êñá‰ª∂‰∏≠‰∫ÜÔºÅÔºÅÔºÅÔºÅ IndexFileMessageStore‰∏≠Â≠òÂÇ®ÁöÑÊ∂àÊÅØÈô§‰∫ÜÈÄöËøáConsumeQueueÊèê‰æõÁªôconsumerÊ∂àË¥π‰πãÂ§ñÔºåËøòÊîØÊåÅÈÄöËøáMessageIDÊàñËÄÖMessageKeyÊù•Êü•ËØ¢Ê∂àÊÅØ„ÄÇ‰ΩøÁî®IDÊü•ËØ¢Êó∂ÔºåÂõ†‰∏∫IDÂ∞±ÊòØÁî®broker+offsetÁîüÊàêÁöÑÔºåÊâÄ‰ª•ÂæàÂÆπÊòìÂ∞±ÊâæÂà∞ÂØπÂ∫îÁöÑcommitLogÊñá‰ª∂Êù•ËØªÂèñÊ∂àÊÅØ„ÄÇÂØπ‰∫éÁî®MessageKeyÊù•Êü•ËØ¢Ê∂àÊÅØÔºåMessageStoreÈÄöËøáÊûÑÂª∫‰∏Ä‰∏™indexÊù•ÊèêÈ´òËØªÂèñÈÄüÂ∫¶„ÄÇ Âú®‰∏äÈù¢ÁöÑCommitLogDispatcherÈìæË°®‰∏≠ÔºåÊàë‰ª¨ËøòÁúãÂà∞‰∏Ä‰∏™CommitLogDispatcher‚Äî‚ÄîCommitLogDispatcherBuildIndex ‰ªñÂ∞±ÊòØÁî®Êù•ÂàõÂª∫IndexFileÁöÑÔºåÊàë‰ª¨‰πüÂ∞Ü‰ªéÈÇ£ÈáåÂÖ•ÊâãÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149 class CommitLogDispatcherBuildIndex implements CommitLogDispatcher &#123; @Override public void dispatch(DispatchRequest request) &#123; if (DefaultMessageStore.this.messageStoreConfig.isMessageIndexEnable()) &#123; DefaultMessageStore.this.indexService.buildIndex(request); &#125; &#125; &#125;// org.apache.rocketmq.store.index.IndexService// ÂÜôÂÖ•indexFile public void buildIndex(DispatchRequest req) &#123; // Ëé∑ÂèñÊàñËÄÖÊñ∞Âª∫ÂΩìÂâçÂèØÂÜôÂÖ•ÁöÑindex file, ÈªòËÆ§ÈáçËØï3Ê¨° IndexFile indexFile = retryGetAndCreateIndexFile(); if (indexFile != null) &#123; // Ëé∑ÂèñÂΩìÂâçindexFile‰∏≠ËÆ∞ÂΩïÁöÑÊúÄÂ§ßoffset long endPhyOffset = indexFile.getEndPhyOffset(); DispatchRequest msg = req; String topic = msg.getTopic(); String keys = msg.getKeys(); if (msg.getCommitLogOffset() &lt; endPhyOffset) &#123; return; &#125; // ËøáÊª§ÂõûÊªöÊ∂àÊÅØ final int tranType = MessageSysFlag.getTransactionValue(msg.getSysFlag()); switch (tranType) &#123; case MessageSysFlag.TRANSACTION_NOT_TYPE: case MessageSysFlag.TRANSACTION_PREPARED_TYPE: case MessageSysFlag.TRANSACTION_COMMIT_TYPE: break; case MessageSysFlag.TRANSACTION_ROLLBACK_TYPE: return; &#125; // ÂçïÊù°Ê∂àÊÅØ if (req.getUniqKey() != null) &#123; // ÂÜôÂÖ•index indexFile = putKey(indexFile, msg, buildKey(topic, req.getUniqKey())); if (indexFile == null) &#123; log.error("putKey error commitlog &#123;&#125; uniqkey &#123;&#125;", req.getCommitLogOffset(), req.getUniqKey()); return; &#125; &#125; // Â§öÊù°Ê∂àÊÅØÔºåÂæ™ÁéØÂÜôÂÖ•index if (keys != null &amp;&amp; keys.length() &gt; 0) &#123; String[] keyset = keys.split(MessageConst.KEY_SEPARATOR); for (int i = 0; i &lt; keyset.length; i++) &#123; String key = keyset[i]; if (key.length() &gt; 0) &#123; indexFile = putKey(indexFile, msg, buildKey(topic, key)); if (indexFile == null) &#123; log.error("putKey error commitlog &#123;&#125; uniqkey &#123;&#125;", req.getCommitLogOffset(), req.getUniqKey()); return; &#125; &#125; &#125; &#125; &#125; else &#123; log.error("build index error, stop building index"); &#125; &#125;// Êé•ÁùÄÁúãÂ¶Ç‰ΩïÂ∞ÜMessageKeyÂÜôÂÖ•IndexFile private IndexFile putKey(IndexFile indexFile, DispatchRequest msg, String idxKey) &#123; // ÈáçËØïÂÜôÂÖ• for (boolean ok = indexFile.putKey(idxKey, msg.getCommitLogOffset(), msg.getStoreTimestamp()); !ok; ) &#123; log.warn("Index file [" + indexFile.getFileName() + "] is full, trying to create another one"); indexFile = retryGetAndCreateIndexFile(); if (null == indexFile) &#123; return null; &#125; ok = indexFile.putKey(idxKey, msg.getCommitLogOffset(), msg.getStoreTimestamp()); &#125; return indexFile; &#125;// org.apache.rocketmq.store.index.IndexFile public boolean putKey(final String key, final long phyOffset, final long storeTimestamp) &#123; // Âà§Êñ≠indexFileÊòØÂê¶Â∑≤Êª°ÔºåÂ∑≤Êª°ËøîÂõûÂ§±Ë¥• if (this.indexHeader.getIndexCount() &lt; this.indexNum) &#123; // ËÆ°ÁÆókeyÁöÑhashCode(ÈùûË¥ü)ÔºåË∞ÉÁî®ÁöÑjava StringÁöÑhashcodeÊñπÊ≥ï int keyHash = indexKeyHashMethod(key); // ËÆ°ÁÆóslot‰ΩçÁΩÆÔºàÁ¨¨Âá†‰∏™Ôºâ int slotPos = keyHash % this.hashSlotNum; // ËÆ°ÁÆóslotÁöÑÊï∞ÊçÆÂ≠òÂÇ®‰ΩçÁΩÆ int absSlotPos = IndexHeader.INDEX_HEADER_SIZE + slotPos * hashSlotSize; FileLock fileLock = null; try &#123; // ‰πãÂâçËØ¥Ëøáslot+indexÁ±ª‰ºº‰∏Ä‰∏™hashmapÔºåslotÁ±ª‰ºº‰∫éhashmapÁöÑÊï∞ÁªÑ // Â¶ÇÊûúÂ≠òÂú®hashÂÜ≤Á™ÅÔºåËé∑ÂèñËøô‰∏™slotÂ≠òÁöÑÂâç‰∏Ä‰∏™indexÁöÑËÆ°Êï∞ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàôÂÄº‰∏∫0 int slotValue = this.mappedByteBuffer.getInt(absSlotPos); if (slotValue &lt;= invalidIndex || slotValue &gt; this.indexHeader.getIndexCount()) &#123; slotValue = invalidIndex; &#125; // ËÆ°ÁÆóÂΩìÂâçmsgÁöÑÂ≠òÂÇ®Êó∂Èó¥ÂíåÁ¨¨‰∏ÄÊù°msgÁõ∏Â∑ÆÁßíÊï∞ long timeDiff = storeTimestamp - this.indexHeader.getBeginTimestamp(); timeDiff = timeDiff / 1000; if (this.indexHeader.getBeginTimestamp() &lt;= 0) &#123; timeDiff = 0; &#125; else if (timeDiff &gt; Integer.MAX_VALUE) &#123; timeDiff = Integer.MAX_VALUE; &#125; else if (timeDiff &lt; 0) &#123; timeDiff = 0; &#125; // Ëé∑ÂèñËØ•Êù°indexÂÆûÈôÖÂ≠òÂÇ®position int absIndexPos = IndexHeader.INDEX_HEADER_SIZE + this.hashSlotNum * hashSlotSize + this.indexHeader.getIndexCount() * indexSize; // ÁîüÊàê‰∏Ä‰∏™indexÁöÑunitÂÜÖÂÆπ(ÁúãÂõæ) this.mappedByteBuffer.putInt(absIndexPos, keyHash); this.mappedByteBuffer.putLong(absIndexPos + 4, phyOffset); this.mappedByteBuffer.putInt(absIndexPos + 4 + 8, (int) timeDiff); this.mappedByteBuffer.putInt(absIndexPos + 4 + 8 + 4, slotValue); // Êõ¥Êñ∞slot‰∏≠ÁöÑÂÄº‰∏∫Êú¨Êù°Ê∂àÊÅØÁöÑindex(Âõ†‰∏∫rocketmqËßâÂæóÊñ∞Ê∂àÊÅØË¢´Êü•ËØ¢ÁöÑÊú∫‰ºöÊõ¥Â§ß) this.mappedByteBuffer.putInt(absSlotPos, this.indexHeader.getIndexCount()); // Â¶ÇÊûúÊòØÁ¨¨‰∏ÄÊù°Ê∂àÊÅØÔºåÊõ¥Êñ∞header‰∏≠ÁöÑËµ∑ÂßãoffsetÂíåËµ∑ÂßãÊó∂Èó¥ if (this.indexHeader.getIndexCount() &lt;= 1) &#123; this.indexHeader.setBeginPhyOffset(phyOffset); this.indexHeader.setBeginTimestamp(storeTimestamp); &#125; // Êõ¥Êñ∞header‰∏≠ÁöÑËÆ°Êï∞ this.indexHeader.incHashSlotCount(); this.indexHeader.incIndexCount(); this.indexHeader.setEndPhyOffset(phyOffset); this.indexHeader.setEndTimestamp(storeTimestamp); return true; &#125; catch (Exception e) &#123; log.error("putKey exception, Key: " + key + " KeyHashCode: " + key.hashCode(), e); &#125; finally &#123; if (fileLock != null) &#123; try &#123; fileLock.release(); &#125; catch (IOException e) &#123; log.error("Failed to release the lock", e); &#125; &#125; &#125; &#125; else &#123; log.warn("Over index file capacity: index count = " + this.indexHeader.getIndexCount() + "; index max num = " + this.indexNum); &#125; return false; &#125; ÁúãÂà∞ËøôÈáåÔºåIndexFileÂ∞±Â∑≤ÁªèË¢´Â≠òÂÖ•Âà∞ByteBufÈáåÂï¶ÔºåÁ≠âÂæÖË¢´flushÂà∞Êñá‰ª∂ÈáåÔºÅÔºÅÔºÅÔºÅ ÂèÇËÄÉ RocketMQÊ∂àÊÅØÂ≠òÂÇ®ÊµÅÁ®ãÂõæÂèäÊï∞ÊçÆÁªìÊûÑÂõæ RocketMQÊ∫êÁ†ÅËß£Êûê(‰πù)-Broker#Ê∂àÊÅØÂ≠òÂÇ®ConsumeQueue RocketMQÊ∫êÁ†ÅËß£Êûê(ÂçÅ)-Broker#Ê∂àÊÅØÂ≠òÂÇ®Index]]></content>
      <categories>
        <category>RocketMQÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>RocketMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RocketMQÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîBrokerÂêØÂä®]]></title>
    <url>%2F2019%2F06%2F19%2FRocketMQ%E6%BA%90%E7%A0%81%2FRocketMQ%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94Broker%E5%90%AF%E5%8A%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂâçÈù¢ËÆ≤‰∫ÜNameServerÔºåProducerÔºåConsumerÔºåÁé∞Âú®Áªà‰∫éËΩÆÂà∞Broker‰∫ÜÔºåÂØπ‰∫é‰∏Ä‰∏™Ê∂àÊÅØÈòüÂàóÊù•ËØ¥ÔºåBrokerÊòØÂΩì‰ªÅ‰∏çËÆ©ÁöÑÊ†∏ÂøÉ~ ‰∫îÂ§ß‰ΩúÁî® Â≠òÂÇ®Ê∂àÊÅØ Êé•Êî∂Áîü‰∫ßËÄÖÊèê‰∫§ÁöÑÊ∂àÊÅØ ÂõûÂ§çconsumerÁöÑÊ∂àÊÅØÊãâÂèñËØ∑Ê±Ç ‰∏ª‰ªéËäÇÁÇπÈó¥ÂêåÊ≠•Êï∞ÊçÆ‰øùËØÅÈ´òÂèØÁî® Êèê‰æõÁÆÄÂçïÁöÑapiÊù•Êü•ËØ¢Á£ÅÁõò‰∏äÁöÑ‰∏¥Êó∂Êï∞ÊçÆ ‰πãÂêéÊàë‰ª¨‰πüÂ∞Ü‰ªé‰∏äÈù¢ÁöÑ‰ΩúÁî®Êù•ËøõË°åÊ∫êÁ†ÅÁöÑÊé¢Á¥¢ÔºÅ ‰ΩøÁî®ÊñπÂºèÁúüÂÆû‰ΩøÁî®ÂΩìÁÑ∂ÊòØÁî®ÂëΩ‰ª§Ë°åÂéªÈÉ®ÁΩ≤ÔºåËøôÈáå‰∏∫‰∫ÜÁúãÊ∫êÁ†ÅÔºåÊàë‰ª¨ÊääÁéØÂ¢ÉÊê≠Âª∫ÈÇ£ÁØáÊñáÁ´†ÁöÑ‰æãÂ≠êÊê¨ËøáÊù•Ôºö 1234567891011121314151617public static void main(String[] args) throws Exception &#123; // ËÆæÁΩÆÁâàÊú¨Âè∑ÔºåÂæàÂÖ≥ÈîÆÔºå‰∏çÁÑ∂topicÂàõÂª∫‰∏çÊàêÂäü System.setProperty(RemotingCommand.REMOTING_VERSION_KEY, Integer.toString(MQVersion.CURRENT_VERSION)); final BrokerConfig brokerConfig = new BrokerConfig(); brokerConfig.setBrokerName("broker-a"); brokerConfig.setNamesrvAddr("127.0.0.1:9876"); BrokerController brokerController = new BrokerController( brokerConfig, new NettyServerConfig(), new NettyClientConfig(), new MessageStoreConfig()); assertThat(brokerController.initialize()); brokerController.start(); // ‰∏çËÆ©‰∏ªÊñπÊ≥ïÁªìÊùü Thread.sleep(DateUtils.MILLIS_PER_DAY); &#125; BrokerÂêØÂä®‰ªé‰∏äÈù¢ÁöÑ‰æãÂ≠êÂèØ‰ª•ÁúãÂá∫BrokerÂêØÂä®ÂÆûË¥®Â∞±ÊòØorg.apache.rocketmq.broker.BrokerControllerÂÆåÊàêÂàùÂßãÂåñÂíåÂêØÂä®ÁöÑËøáÁ®ã„ÄÇ BrokerControllerÂàùÂßãÂåñÊàë‰ª¨ÁúãÂà∞org.apache.rocketmq.broker.BrokerController#initialize()ÊñπÊ≥ïÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224public boolean initialize() throws CloneNotSupportedException &#123; // 1. ‰ªéÊåÅ‰πÖÂåñÊñá‰ª∂‰∏≠Âä†ËΩΩÊï∞ÊçÆÂà∞ÂÜÖÂ≠ò‰∏≠ boolean result = this.topicConfigManager.load(); result = result &amp;&amp; this.consumerOffsetManager.load(); result = result &amp;&amp; this.subscriptionGroupManager.load(); result = result &amp;&amp; this.consumerFilterManager.load(); if (result) &#123; try &#123; // 2. Ê∂àÊÅØÂ≠òÂèñÁöÑÊ†∏ÂøÉÊé•Âè£ÂàùÂßãÂåñ this.messageStore = new DefaultMessageStore(this.messageStoreConfig, this.brokerStatsManager, this.messageArrivingListener, this.brokerConfig); // messageStoreÁöÑÊåáÊ†áÁªüËÆ°Á±ªÔºåÊèê‰æõÊúÄËøë‰∏ÄÂ§©ÁöÑÊ∂àÊÅØÂêûÂêêÈáèÁöÑÁªüËÆ°Êï∞ÊçÆ this.brokerStats = new BrokerStats((DefaultMessageStore) this.messageStore); //load plugin MessageStorePluginContext context = new MessageStorePluginContext(messageStoreConfig, brokerStatsManager, messageArrivingListener, brokerConfig); this.messageStore = MessageStoreFactory.build(context, this.messageStore); // Ê∑ªÂä†Ê∂àÊÅØÂàÜÂèëÂô®ÔºåÂàÜÂèëÂà∞Â∏ÉÈöÜËøáÊª§Âô® this.messageStore.getDispatcherList().addFirst(new CommitLogDispatcherCalcBitMap(this.brokerConfig, this.consumerFilterManager)); &#125; catch (IOException e) &#123; result = false; log.error("Failed to initialize", e); &#125; &#125; // messageStoreÂä†ËΩΩÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂Ôºåcommit logÊñá‰ª∂Ôºåconsumer queueÊñá‰ª∂ÔºåindexÊñá‰ª∂ result = result &amp;&amp; this.messageStore.load(); if (result) &#123; // 3. ÂàùÂßãÂåñNetty Server this.remotingServer = new NettyRemotingServer(this.nettyServerConfig, this.clientHousekeepingService); NettyServerConfig fastConfig = (NettyServerConfig) this.nettyServerConfig.clone(); // ÂàùÂßãÂåñVIPÈÄöÈÅì Netty Server fastConfig.setListenPort(nettyServerConfig.getListenPort() - 2); this.fastRemotingServer = new NettyRemotingServer(fastConfig, this.clientHousekeepingService); // ÂàùÂßãÂåñ‰∏ÄÁ≥ªÂàóÂÆ¢Êà∑Á´ØÊåá‰ª§ÊâßË°åÁöÑÁ∫øÁ®ãÊ±†ÔºåNettyÂ§ÑÁêÜÁöÑ‰ºòÂåñ this.sendMessageExecutor = new BrokerFixedThreadPoolExecutor( this.brokerConfig.getSendMessageThreadPoolNums(), this.brokerConfig.getSendMessageThreadPoolNums(), 1000 * 60, TimeUnit.MILLISECONDS, this.sendThreadPoolQueue, new ThreadFactoryImpl("SendMessageThread_")); this.pullMessageExecutor = new BrokerFixedThreadPoolExecutor( this.brokerConfig.getPullMessageThreadPoolNums(), this.brokerConfig.getPullMessageThreadPoolNums(), 1000 * 60, TimeUnit.MILLISECONDS, this.pullThreadPoolQueue, new ThreadFactoryImpl("PullMessageThread_")); this.queryMessageExecutor = new BrokerFixedThreadPoolExecutor( this.brokerConfig.getQueryMessageThreadPoolNums(), this.brokerConfig.getQueryMessageThreadPoolNums(), 1000 * 60, TimeUnit.MILLISECONDS, this.queryThreadPoolQueue, new ThreadFactoryImpl("QueryMessageThread_")); this.adminBrokerExecutor = Executors.newFixedThreadPool(this.brokerConfig.getAdminBrokerThreadPoolNums(), new ThreadFactoryImpl( "AdminBrokerThread_")); this.clientManageExecutor = new ThreadPoolExecutor( this.brokerConfig.getClientManageThreadPoolNums(), this.brokerConfig.getClientManageThreadPoolNums(), 1000 * 60, TimeUnit.MILLISECONDS, this.clientManagerThreadPoolQueue, new ThreadFactoryImpl("ClientManageThread_")); this.heartbeatExecutor = new BrokerFixedThreadPoolExecutor( this.brokerConfig.getHeartbeatThreadPoolNums(), this.brokerConfig.getHeartbeatThreadPoolNums(), 1000 * 60, TimeUnit.MILLISECONDS, this.heartbeatThreadPoolQueue, new ThreadFactoryImpl("HeartbeatThread_", true)); this.endTransactionExecutor = new BrokerFixedThreadPoolExecutor( this.brokerConfig.getEndTransactionThreadPoolNums(), this.brokerConfig.getEndTransactionThreadPoolNums(), 1000 * 60, TimeUnit.MILLISECONDS, this.endTransactionThreadPoolQueue, new ThreadFactoryImpl("EndTransactionThread_")); this.consumerManageExecutor = Executors.newFixedThreadPool(this.brokerConfig.getConsumerManageThreadPoolNums(), new ThreadFactoryImpl( "ConsumerManageThread_")); // Â∞ÜËøô‰∫õÁ∫øÁ®ãÊ±†Ê∑ªÂä†Âà∞Netty Pipeline‰∏≠ this.registerProcessor(); // 4. ÊâìÂç∞brokerÁöÑÊ∂àÊÅØÂêûÂêê‰ø°ÊÅØÂà∞Êó•ÂøóÊñá‰ª∂ÂÆöÊó∂‰ªªÂä°ÔºåÊØèÂ§©0ÁÇπËÆ∞ÂΩï‰∏ÄÊ¨° final long initialDelay = UtilAll.computNextMorningTimeMillis() - System.currentTimeMillis(); final long period = 1000 * 60 * 60 * 24; this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; BrokerController.this.getBrokerStats().record(); &#125; catch (Throwable e) &#123; log.error("schedule record error.", e); &#125; &#125; &#125;, initialDelay, period, TimeUnit.MILLISECONDS); // ËÆ∞ÂΩïconsumerOffetÂà∞Êñá‰ª∂ÂÆöÊó∂‰ªªÂä°,ÈªòËÆ§5Áßí‰∏ÄÊ¨° this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; BrokerController.this.consumerOffsetManager.persist(); &#125; catch (Throwable e) &#123; log.error("schedule persist consumerOffset error.", e); &#125; &#125; &#125;, 1000 * 10, this.brokerConfig.getFlushConsumerOffsetInterval(), TimeUnit.MILLISECONDS); // ËÆ∞ÂΩïconsumer filterÂà∞Êñá‰ª∂‰∏≠ÂÆöÊó∂‰ªªÂä°,10Áßí‰∏ÄÊ¨° this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; BrokerController.this.consumerFilterManager.persist(); &#125; catch (Throwable e) &#123; log.error("schedule persist consumer filter error.", e); &#125; &#125; &#125;, 1000 * 10, 1000 * 10, TimeUnit.MILLISECONDS); // ÂÆöÊó∂Ê£ÄÊü•consumerÁöÑÊ∂àË¥πËÆ∞ÂΩïÔºåÂ¶ÇÊûúÂª∂Êó∂Â§™Â§ß,Âàôdisable consumer,‰∏çÂÜçÂæÄËøô‰∏™consumerÊäïÈÄíÊ∂àÊÅØ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; BrokerController.this.protectBroker(); &#125; catch (Throwable e) &#123; log.error("protectBroker error.", e); &#125; &#125; &#125;, 3, 3, TimeUnit.MINUTES); // ÊâìÂç∞ÂΩìÂâçQueue sizeÊó•Âøó this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; BrokerController.this.printWaterMark(); &#125; catch (Throwable e) &#123; log.error("printWaterMark error.", e); &#125; &#125; &#125;, 10, 1, TimeUnit.SECONDS); // ÊâìÂç∞dispatchËêΩÂêéÊÉÖÂÜµ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; log.info("dispatch behind commit log &#123;&#125; bytes", BrokerController.this.getMessageStore().dispatchBehindBytes()); &#125; catch (Throwable e) &#123; log.error("schedule dispatchBehindBytes error.", e); &#125; &#125; &#125;, 1000 * 10, 1000 * 60, TimeUnit.MILLISECONDS); // ÂÆöÊó∂Êõ¥Êñ∞nameserv address‰ø°ÊÅØ if (this.brokerConfig.getNamesrvAddr() != null) &#123; this.brokerOuterAPI.updateNameServerAddressList(this.brokerConfig.getNamesrvAddr()); log.info("Set user specified name server address: &#123;&#125;", this.brokerConfig.getNamesrvAddr()); &#125; else if (this.brokerConfig.isFetchNamesrvAddrByAddressServer()) &#123; this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; BrokerController.this.brokerOuterAPI.fetchNameServerAddr(); &#125; catch (Throwable e) &#123; log.error("ScheduledTask fetchNameServerAddr exception", e); &#125; &#125; &#125;, 1000 * 10, 1000 * 60 * 2, TimeUnit.MILLISECONDS); &#125; // Â¶ÇÊûúÊòØbrokerÊòØslaveÔºåÂêØÂä®ÂÆöÊó∂‰ªªÂä°ÔºåÊØèÂàÜÈíü‰ªémasterÂêåÊ≠•ÈÖçÁΩÆÂíåoffset if (BrokerRole.SLAVE == this.messageStoreConfig.getBrokerRole()) &#123; if (this.messageStoreConfig.getHaMasterAddress() != null &amp;&amp; this.messageStoreConfig.getHaMasterAddress().length() &gt;= 6) &#123; this.messageStore.updateHaMasterAddress(this.messageStoreConfig.getHaMasterAddress()); this.updateMasterHAServerAddrPeriodically = false; &#125; else &#123; this.updateMasterHAServerAddrPeriodically = true; &#125; this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; BrokerController.this.slaveSynchronize.syncAll(); &#125; catch (Throwable e) &#123; log.error("ScheduledTask syncAll slave exception", e); &#125; &#125; &#125;, 1000 * 10, 1000 * 60, TimeUnit.MILLISECONDS); &#125; else &#123; //Â¶ÇÊûúbrokerÊòØmasterÔºåÂÆöÊó∂ÊâìÂç∞slaveÂª∂Êó∂ÊÉÖÂÜµ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; BrokerController.this.printMasterAndSlaveDiff(); &#125; catch (Throwable e) &#123; log.error("schedule printMasterAndSlaveDiff error.", e); &#125; &#125; &#125;, 1000 * 10, 1000 * 60, TimeUnit.MILLISECONDS); &#125; // ÁúÅÁï•... // ÂàùÂßãÂåñ‰∫ãÂä°Ê∂àÊÅØservice initialTransaction(); initialAcl(); initialRpcHooks(); &#125; return result;&#125; ‰ª£Á†ÅÈÄªËæëËøòÊòØÈùûÂ∏∏ÁÆÄÂçïÁöÑÔºå‰∏ÄÁúãÂ∞±Áü•ÈÅì‰ªñÂú®Âπ≤‰ªÄ‰πà~ BrokerControllerÂêØÂä®ÂΩìBrokerControllerÂàùÂßãÂåñÂÆåÊàê‰πãÂêéÔºåÊàë‰ª¨Áúãorg.apache.rocketmq.broker.BrokerController#start()ÊñπÊ≥ïÔºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364public void start() throws Exception &#123; // ÂêØÂä®Ê∂àÊÅØÂ≠òÂÇ®ÊúçÂä° if (this.messageStore != null) &#123; this.messageStore.start(); &#125; // ÂêØÂä®Netty ServerÊé•Êî∂ËØ∑Ê±Ç if (this.remotingServer != null) &#123; this.remotingServer.start(); &#125; // ÂêØÂä®VIP Channel Netty Server if (this.fastRemotingServer != null) &#123; this.fastRemotingServer.start(); &#125; // ÂêØÂä®TLSÁ≠æÂêçÊñá‰ª∂Ê£ÄÊµãÊúçÂä° if (this.fileWatchService != null) &#123; this.fileWatchService.start(); &#125; // ÂêØÂä®BrokerÁöÑNetty Client if (this.brokerOuterAPI != null) &#123; this.brokerOuterAPI.start(); &#125; // ÂêØÂä®PushConsumerÁöÑËØ∑Ê±Ç Hold ÊúçÂä° (ÂêéÈù¢‰ºöÂ±ïÂºÄ) if (this.pullRequestHoldService != null) &#123; this.pullRequestHoldService.start(); &#125; // ÁõëÊéßÂÆ¢Êà∑Á´ØËøûÊé•ÔºåÂÆöÊó∂Ê£ÄÊü•ProducerÔºåConsumerÂíåFilterÊòØÂê¶ÈïøÊó∂Èó¥Êú™Êî∂Âà∞ÂøÉË∑≥ if (this.clientHousekeepingService != null) &#123; this.clientHousekeepingService.start(); &#125; // ÂêØÂä®Filter Server if (this.filterServerManager != null) &#123; this.filterServerManager.start(); &#125; // Ê≥®ÂÜåBrokerÂà∞Namesrv this.registerBrokerAll(true, false, true); // ÂÆöÊó∂ÂêëNamesrvÂèëÂøÉË∑≥ÔºåÂ¶ÇÊûúÊúâÂèòÂåñÂàôÂêåÊ≠•Broker‰ø°ÊÅØ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; BrokerController.this.registerBrokerAll(true, false, brokerConfig.isForceRegister()); &#125; catch (Throwable e) &#123; log.error("registerBrokerAll Exception", e); &#125; &#125; &#125;, 1000 * 10, Math.max(10000, Math.min(brokerConfig.getRegisterNameServerPeriod(), 60000)), TimeUnit.MILLISECONDS); if (this.brokerStatsManager != null) &#123; this.brokerStatsManager.start(); &#125; // ÂêØÂä®BrokerFastFailureÊúçÂä°ÔºåÂÆöÊó∂Ê∏ÖÁêÜÈïøÊó∂Èó¥Êú™ÊâßË°åÁöÑÂÆ¢Êà∑Á´ØËØ∑Ê±Ç if (this.brokerFastFailure != null) &#123; this.brokerFastFailure.start(); &#125; // Â¶ÇÊûúÊòØMasterÔºåÂºÄÂêØ‰∫ãÂä°Ê∂àÊÅØÊ£ÄÊü• if (BrokerRole.SLAVE != messageStoreConfig.getBrokerRole()) &#123; if (this.transactionalMessageCheckService != null) &#123; log.info("Start transaction service!"); this.transactionalMessageCheckService.start(); &#125; &#125;&#125; ‰ªéÊï¥‰∏™ËøáÁ®ãÊù•ÁúãËøòÊòØÊØîËæÉÁÆÄÂçïÁöÑÔºåÊ∞¥Êñá‰∏ÄÁØáÔºå‰ΩÜÊòØÂêéÈù¢‰ºöÁªßÁª≠ÂàÜÊûêBrokerÁöÑÂêÑ‰∏™‰ΩúÁî®ÁöÑÂÆûÁé∞„ÄÇ]]></content>
      <categories>
        <category>RocketMQÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>RocketMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RocketMQÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîConsumer]]></title>
    <url>%2F2019%2F06%2F18%2FRocketMQ%E6%BA%90%E7%A0%81%2FRocketMQ%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94Consumer%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂΩìÊ∂àÊÅØËææÂà∞Broker‰πãÂêéÔºåÂ∞±Á≠âÁùÄConsumerÂéªconsume‰∫ÜÂëÄ~ Ê∂àË¥πÊñπÂºè PullConsumerÔºöÊ∂àË¥πËÄÖ‰∏ªÂä®Ë∞ÉÁî®pullÊñπÊ≥ïÊù•Ëé∑ÂèñÊ∂àÊÅØÔºåÊ≤°ÊúâÂàôËøîÂõû PushConsumerÔºöËôΩÁÑ∂Âêç‰∏∫PushÔºå‰ΩÜÊòØÊòØÊ∂àË¥πËÄÖ‰∏ªÂä®Âæ™ÁéØÂèëÈÄÅPullËØ∑Ê±ÇÂà∞brokerÔºåÂ¶ÇÊûúÊ≤°ÊúâÊ∂àÊÅØÔºåbroker‰ºöÊääËØ∑Ê±ÇÊîæÂÖ•Á≠âÂæÖÈòüÂàóÔºåÊñ∞Ê∂àÊÅØÂà∞ËææÂêéËøîÂõûresponse ÊâÄ‰ª•Êú¨Ë¥®‰∏äÔºå‰∏§ÁßçÊñπÂºèÈÉΩÊòØÈÄöËøáÊ∂àË¥πËÄÖ‰∏ªÂä®PullÊù•ÂÆûÁé∞ÁöÑ„ÄÇ Ê∂àË¥πÊ®°ÂºèConsumerÁöÑÊ∂àË¥πÊ®°ÂºèÂú®ÂàùÂßãÂåñconsumerÊó∂ËÆæÁΩÆÁöÑÔºå‰∏ªË¶ÅÊúâ‰∏ãÈù¢‰∏§ÁßçÔºö BroadcastÊ®°ÂºèÔºöÊ∂àÊÅØ‰ºöÂèëÈÄÅÁªôgroupÂÜÖÊâÄÊúâconsumer ClusterÊ®°ÂºèÔºöÊØèÊù°Ê∂àÊÅØÂè™‰ºöÂèëÈÄÅÁªôgroupÂÜÖÁöÑ‰∏Ä‰∏™consumerÔºå‰ΩÜÊòØClusterÊ®°ÂºèÁöÑÊîØÊåÅÊ∂àË¥πÂ§±Ë¥•ÈáçÂèëÔºå‰ªéËÄå‰øùËØÅÊ∂àÊÅØ‰∏ÄÂÆöË¢´Ê∂àË¥π ‰ΩøÁî®ÊñπÂºèËøôÊ¨°Êàë‰ª¨‰∏ªË¶ÅÁúãÁúãPushConsumerÔºå‰ª•ClusterÊ®°ÂºèÊ∂àË¥πÁöÑÊ∫êÁ†ÅÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºåÂõ†‰∏∫ËøôÁßçÊñπÂºèÁõ∏ÂØπÊù•ËØ¥ÊòØÊúÄÂ§çÊùÇÁöÑ‰∏ÄÁßç„ÄÇ‰æãÂ≠êÂÖ∂ÂÆû‰πüÊòØÂú®‰πãÂâçÁéØÂ¢ÉÊê≠Âª∫ÈÇ£ËæπÊñáÁ´†‰∏≠‰æãÂ≠êÔºö 1234567891011121314151617181920212223242526272829303132public class Consumer &#123; public static void main(String[] args) throws InterruptedException, MQClientException &#123; // ÊåáÂÆöÊ∂àË¥πËÄÖÁªÑÁöÑPushConsumer DefaultMQPushConsumer consumer = new DefaultMQPushConsumer("please_rename_unique_group_name_4"); // ÊåáÊòéNamesrv consumer.setNamesrvAddr("127.0.0.1:9876"); // ÊåáÂÆöÊ∂àË¥πÂºÄÂßã‰ΩçÁΩÆ consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET); // ËÆ¢ÈòÖTopic consumer.subscribe("TopicTest", "*"); // ÊåáÂÆöÂõûË∞ÉÈÄªËæë consumer.registerMessageListener(new MessageListenerConcurrently() &#123; @Override public ConsumeConcurrentlyStatus consumeMessage(List&lt;MessageExt&gt; msgs, ConsumeConcurrentlyContext context) &#123; System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs); return ConsumeConcurrentlyStatus.CONSUME_SUCCESS; &#125; &#125;); // ÂêØÂä® consumer.start(); System.out.printf("Consumer Started.%n"); &#125;&#125; ConsumerÂêØÂä®‰πãÂâçÂÖ∂ÂÆûÂú®ProducerÂàÜÊûêÈáåÈù¢Â∏¶ËøáConsumerÔºåÊâÄ‰ª•ÈÄªËæë‰πüÊòØÁ±ª‰ººÁöÑ„ÄÇ DefaultMQPushConsumerÂàùÂßãÂåñÂíåProducer‰∏ÄÊ†∑ÂåÖË£Ö‰∫Ü‰∏Ä‰∏™DefaultMQPushConsumerImplÔºå‰∏ãÈù¢‰ª£Á†ÅÔºö 1234567891011121314151617 // org.apache.rocketmq.client.consumer.DefaultMQPushConsumer public DefaultMQPushConsumer(final String consumerGroup) &#123; this(consumerGroup, null, new AllocateMessageQueueAveragely()); &#125; public DefaultMQPushConsumer(final String consumerGroup, RPCHook rpcHook, AllocateMessageQueueStrategy allocateMessageQueueStrategy) &#123; this.consumerGroup = consumerGroup; // ÈªòËÆ§Âπ≥ÂùáÂàÜÈÖç this.allocateMessageQueueStrategy = allocateMessageQueueStrategy; // ÊûÑÈÄ†ÂÆûÈôÖÁ±ª defaultMQPushConsumerImpl = new DefaultMQPushConsumerImpl(this, rpcHook); &#125;// org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl public DefaultMQPushConsumerImpl(DefaultMQPushConsumer defaultMQPushConsumer, RPCHook rpcHook) &#123; this.defaultMQPushConsumer = defaultMQPushConsumer; this.rpcHook = rpcHook; &#125; DefaultMQPushConsumerÂêØÂä®ÂÆûË¥®Â∞±ÊòØdefaultMQPushConsumerImplÂêØÂä®Ôºå‰∏ãÈù¢‰ª£Á†ÅÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103 // org.apache.rocketmq.client.consumer.DefaultMQPushConsumerpublic void start() throws MQClientException &#123; // ÂÆûË¥®defaultMQPushConsumerImplÂêØÂä® this.defaultMQPushConsumerImpl.start(); // ÁúÅÁï•... &#125;// org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl public synchronized void start() throws MQClientException &#123; switch (this.serviceState) &#123; case CREATE_JUST: log.info("the consumer [&#123;&#125;] start beginning. messageModel=&#123;&#125;, isUnitMode=&#123;&#125;", this.defaultMQPushConsumer.getConsumerGroup(), this.defaultMQPushConsumer.getMessageModel(), this.defaultMQPushConsumer.isUnitMode()); this.serviceState = ServiceState.START_FAILED; // Âü∫Êú¨ÂèÇÊï∞Ê£ÄÊü• this.checkConfig(); // Â∞ÜDefaultMQPushConsumerÁöÑËÆ¢ÈòÖ‰ø°ÊÅØcopyÂà∞RebalanceService‰∏≠ // Â¶ÇÊûúÊòØclusterÊ®°ÂºèÔºåÂ¶ÇÊûúËÆ¢ÈòÖ‰∫Ütopic,ÂàôËá™Âä®ËÆ¢ÈòÖ%RETRY%groupnameÔºå‰πüÂä†ÂÖ•Âà∞RebalanceService‰∏≠ this.copySubscription(); if (this.defaultMQPushConsumer.getMessageModel() == MessageModel.CLUSTERING) &#123; // Â¶ÇÊûúInstanceNameÂèÇÊï∞ÂÄº‰∏∫DEFAULTÂàô‰øÆÊîπ‰∏∫PID this.defaultMQPushConsumer.changeInstanceNameToPID(); &#125; // Êñ∞Âª∫‰∏Ä‰∏™MQClientInstance,ÂÆ¢Êà∑Á´ØÁÆ°ÁêÜÁ±ª, Âçï‰æãÔºå‰∏Ä‰∏™ËøõÁ®ã‰∏≠Âè™Êúâ‰∏Ä‰∏™ // ÊâÄÊúâÁöÑi/oÁ±ªÊìç‰ΩúÁî±ÂÆÉÁÆ°ÁêÜÔºåÁºìÂ≠òÂÆ¢Êà∑Á´ØÂíåtopic‰ø°ÊÅØÔºåÂêÑÁßçserviceÔºåÂæàÈáçË¶Å this.mQClientFactory = MQClientManager.getInstance().getAndCreateMQClientInstance(this.defaultMQPushConsumer, this.rpcHook); this.rebalanceImpl.setConsumerGroup(this.defaultMQPushConsumer.getConsumerGroup()); this.rebalanceImpl.setMessageModel(this.defaultMQPushConsumer.getMessageModel()); this.rebalanceImpl.setAllocateMessageQueueStrategy(this.defaultMQPushConsumer.getAllocateMessageQueueStrategy()); this.rebalanceImpl.setmQClientFactory(this.mQClientFactory); // PullRequestÂ∞ÅË£ÖÂÆûÁé∞Á±ªÔºåÂ∞ÅË£Ö‰∫ÜÂíåbrokerÁöÑÈÄö‰ø°Êé•Âè£ this.pullAPIWrapper = new PullAPIWrapper( mQClientFactory, this.defaultMQPushConsumer.getConsumerGroup(), isUnitMode()); // Ê∂àÊÅØË¢´ÂÆ¢Êà∑Á´ØËøáÊª§Êó∂‰ºöÂõûË∞ÉÁöÑÈí©Â≠ê this.pullAPIWrapper.registerFilterMessageHook(filterMessageHookList); // consumerÂÆ¢Êà∑Á´ØÊ∂àË¥πoffsetÊåÅ‰πÖÂåñ if (this.defaultMQPushConsumer.getOffsetStore() != null) &#123; this.offsetStore = this.defaultMQPushConsumer.getOffsetStore(); &#125; else &#123; switch (this.defaultMQPushConsumer.getMessageModel()) &#123; // ÂπøÊí≠Ê∂àÊÅØÊú¨Âú∞ÊåÅ‰πÖÂåñoffset case BROADCASTING: this.offsetStore = new LocalFileOffsetStore(this.mQClientFactory, this.defaultMQPushConsumer.getConsumerGroup()); break; // ÈõÜÁæ§Ê®°ÂºèbrokerÊåÅ‰πÖÂåñoffset case CLUSTERING: this.offsetStore = new RemoteBrokerOffsetStore(this.mQClientFactory, this.defaultMQPushConsumer.getConsumerGroup()); break; default: break; &#125; this.defaultMQPushConsumer.setOffsetStore(this.offsetStore); &#125; // Â¶ÇÊûúÊòØÂπøÊí≠Ê®°ÂºèÂàô‰ªéÊú¨Âú∞Êñá‰ª∂‰∏≠loadÔºåÂ¶ÇÊûúÊòØÈõÜÁæ§Ê®°Âºè‰∏çÂÅöÊìç‰Ωú this.offsetStore.load(); // Ê∂àÊÅØÊ∂àË¥πÊúçÂä°ÔºåÈ°∫Â∫èÂíåÂπ∂ÂèëÊ∂àÊÅØÈÄªËæë‰∏çÂêå,Êé•Êî∂Ê∂àÊÅØÂπ∂Ë∞ÉÁî®listenerÊ∂àË¥πÔºåÂ§ÑÁêÜÊ∂àË¥πÁªìÊûú if (this.getMessageListenerInner() instanceof MessageListenerOrderly) &#123; this.consumeOrderly = true; this.consumeMessageService = new ConsumeMessageOrderlyService(this, (MessageListenerOrderly) this.getMessageListenerInner()); &#125; else if (this.getMessageListenerInner() instanceof MessageListenerConcurrently) &#123; this.consumeOrderly = false; this.consumeMessageService = new ConsumeMessageConcurrentlyService(this, (MessageListenerConcurrently) this.getMessageListenerInner()); &#125; // ÂêØÂä®Á≠âÂæÖÂ§ÑÁêÜÊ∂àÊÅØÊúçÂä°ÔºàÂÆöÊó∂ÊúçÂä°Ôºâ this.consumeMessageService.start(); // Ê≥®ÂÜåConsumer boolean registerOK = mQClientFactory.registerConsumer(this.defaultMQPushConsumer.getConsumerGroup(), this); if (!registerOK) &#123; this.serviceState = ServiceState.CREATE_JUST; this.consumeMessageService.shutdown(); throw new MQClientException("The consumer group[" + this.defaultMQPushConsumer.getConsumerGroup() + "] has been created before, specify another name please." + FAQUrl.suggestTodo(FAQUrl.GROUP_NAME_DUPLICATE_URL), null); &#125; // mqClientÂêØÂä® mQClientFactory.start(); log.info("the consumer [&#123;&#125;] start OK.", this.defaultMQPushConsumer.getConsumerGroup()); // ÊîπÂèòÁä∂ÊÄÅ this.serviceState = ServiceState.RUNNING; break; case RUNNING: case START_FAILED: case SHUTDOWN_ALREADY: throw new MQClientException("The PushConsumer service state not OK, maybe started once, " + this.serviceState + FAQUrl.suggestTodo(FAQUrl.CLIENT_SERVICE_NOT_OK), null); default: break; &#125; // Êõ¥Êñ∞Topic‰ø°ÊÅØ this.updateTopicSubscribeInfoWhenSubscriptionChanged(); this.mQClientFactory.checkClientInBroker(); // ÂèëÈÄÅÂøÉË∑≥ this.mQClientFactory.sendHeartbeatToAllBrokerWithLock(); // ÂÅö‰∏ÄÊ¨°rebalance this.mQClientFactory.rebalanceImmediately(); &#125; ËøôÈáåÊúâ‰∏§‰∏™ÁÇπËØ¥‰∏Ä‰∏ãÔºö %RETRY% +groupnameÔºöÂ¶ÇÊûúconsumerÊòØclusterÊ®°ÂºèÔºåÂπ∂‰∏îËÆ¢ÈòÖ‰∫ÜTopicAÁöÑÊ∂àÊÅØÔºåÈÇ£ÂÆ¢Êà∑Á´Ø‰ºöËá™Âä®ËÆ¢ÈòÖ%RETRY% + +groupname„ÄÇÊàë‰ª¨Áü•ÈÅìconsumerÊ∂àË¥πÊ∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•ÁöÑËØùÔºåbrokerÊòØ‰ºöÂª∂Êó∂‰∏ÄÂÆöÁöÑÊó∂Èó¥ÈáçÊñ∞Êé®ÈÄÅÁöÑÔºåÈáçÊñ∞Êé®ÈÄÅ‰∏çÊòØË∑üÂÖ∂ÂÆÉÊñ∞Ê∂àÊÅØ‰∏ÄËµ∑ËøáÊù•ÔºåËÄåÊòØÈÄöËøáÂçïÁã¨ÁöÑ%RETRY%ËøáÊù•„ÄÇ RebalanceServiceÂàÜÈÖçÁ≠ñÁï•ÔºöRebalanceÊîØÊåÅÂ§öÁßçÂàÜÈÖçÁ≠ñÁï•ÔºåÊØîÂ¶ÇÂπ≥ÂùáÂàÜÈÖç„ÄÅ‰∏ÄËá¥ÊÄßHashÁ≠âÔºåÈªòËÆ§ÈááÁî®Âπ≥ÂùáÂàÜÈÖçÁ≠ñÁï•(AVG)„ÄÇ MQClientInstanceÂêØÂä®Âú®ËÆ≤ProducerÁöÑÊó∂ÂÄôÂ∑≤ÁªèËÆ≤ËøáMQClientInstanceÁöÑÂêØÂä®ËøáÁ®ãÔºåÂõ†‰∏∫ProducerÂíåConsumerÂÖ±Áî®‰∏Ä‰∏™MQClientInstanceÔºå‰∏ãÈù¢Êàë‰ª¨ÂÜçÊù•Áúã‰∏Ä‰∏ãConsumerÁõ∏ÂÖ≥ÈÄªËæëÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051 // org.apache.rocketmq.client.impl.factory.MQClientInstancepublic void start() throws MQClientException &#123; synchronized (this) &#123; switch (this.serviceState) &#123; case CREATE_JUST: // ÁúÅÁï•‰∏çÁõ∏ÂÖ≥... // ÂºÄÂêØÂêÑÁßçÂÆöÊó∂‰ªªÂä° this.startScheduledTask(); // ÂºÄÂêØÊãâÊ∂àÊÅØÊúçÂä°(Consumer) this.pullMessageService.start(); // ÂºÄÂêØË¥üËΩΩÂùáË°°ÊúçÂä°Ôºå‰∏Ä‰∏™Á∫øÁ®ãÂÆöÊó∂Ëß¶Âèërebalance(20Áßí‰∏ÄÊ¨°) this.rebalanceService.start(); // ÂàùÂßãÂåñ‰∏Ä‰∏™Ëá™Áî®ÁöÑproducerÔºå`CLIENT_INNER_PRODUCER` // ‰∏ªË¶ÅÁî®‰∫éÂú®Ê∂àË¥πÂ§±Ë¥•ÊàñËÄÖË∂ÖÊó∂ÂêéÂèëÈÄÅÈáçËØïÁöÑÊ∂àÊÅØÁªôbroker this.defaultMQProducer.getDefaultMQProducerImpl().start(false); this.serviceState = ServiceState.RUNNING; break; // ÁúÅÁï•‰∏çÁõ∏ÂÖ≥... &#125; &#125; &#125; private void startScheduledTask() &#123; // ÁúÅÁï•‰∏çÁõ∏ÂÖ≥... // ÊåÅ‰πÖÂåñÊ∂àË¥πËÄÖÁöÑOffset // ‰øùÂ≠òÊ∂àË¥πËøõÂ∫¶ÔºåÂπøÊí≠Ê∂àÊÅØÂ≠òÂú®Êú¨Âú∞ÔºåÈõÜÁæ§Ê∂àÊÅØ‰∏ä‰º†Âà∞ÊâÄÊúâÁöÑbroker this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; MQClientInstance.this.persistAllConsumerOffset(); &#125; catch (Exception e) &#123; log.error("ScheduledTask persistAllConsumerOffset exception", e); &#125; &#125; &#125;, 1000 * 10, this.clientConfig.getPersistConsumerOffsetInterval(), TimeUnit.MILLISECONDS); // Ê†πÊçÆË¥üËΩΩË∞ÉÊï¥Êú¨Âú∞Â§ÑÁêÜÊ∂àÊÅØÁöÑÁ∫øÁ®ãÊ±†corePoolÂ§ßÂ∞è this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; MQClientInstance.this.adjustThreadPool(); &#125; catch (Exception e) &#123; log.error("ScheduledTask adjustThreadPool exception", e); &#125; &#125; &#125;, 1, 1, TimeUnit.MINUTES); &#125; Âà∞ËøôÈáåConsumerÁöÑÁõ∏ÂÖ≥ÂàùÂßãÂåñÂ∑•‰ΩúÂ∞±ÂÅöÂÆå‰∫ÜÔºå‰∏ãÈù¢Â∞±‰ºöÂéªÊ∂àË¥πÊ∂àÊÅØ‰∫Ü„ÄÇ Ê∂àÊÅØÊ∂àË¥πËøôÂùóÈÄªËæëÊúâÁÇπÂ§çÊùÇÔºå‰∏∫‰∫ÜÂ§ßÂÆ∂‰∏çË¢´ÁªÜËäÇÁªïÊôïÔºåËøôÈáåÁîª‰∫Ü‰∏Ä‰∏ãÊó∂Â∫èÂõæÔºåÂ¶Ç‰∏ãÔºö RebalanceImplËß¶ÂèëPullÊ∂àÊÅØËøòËÆ∞ÂæódefaultMQPushConsumerImplÂêØÂä®‰ª£Á†Å‰∏≠ÊúÄÂêé‰∏ÄË°åÊâßË°å‰∫Üthis.mQClientFactory.rebalanceImmediately()ÔºåÂøòËÆ∞‰∫ÜÔºåÂèØ‰ª•ÂõûÂ§¥ÁúãÁúãÔºåËøôÈáå‰ºöÁ¨¨‰∏ÄÊ¨°Ëß¶ÂèëPullÊ∂àÊÅØ„ÄÇÊàë‰ª¨ÁúãÁúã‰ª£Á†ÅÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120 // org.apache.rocketmq.client.impl.factory.MQClientInstancepublic void rebalanceImmediately() &#123; // ‰πãÂâçËØ¥ËøárebalanceServiceÂ∞±ÊòØ‰∏Ä‰∏™Á∫øÁ®ãÔºåÁªßÊâø‰∫éServiceThread this.rebalanceService.wakeup(); &#125;// org.apache.rocketmq.common.ServiceThread public void wakeup() &#123; // ËøôÈáå‰∏ªË¶ÅÊòØÂî§ÈÜírebalanceServiceÔºåÁî®Êù•‰∫ÜÂéüÂ≠êÁ±ªÂíåÈó≠ÈîÅ‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ® if (hasNotified.compareAndSet(false, true)) &#123; waitPoint.countDown(); // notify &#125; &#125;// org.apache.rocketmq.client.impl.consumer.rebalanceService public void run() &#123; while (!this.isStopped()) &#123; // ÈªòËÆ§20s this.waitForRunning(waitInterval); this.mqClientFactory.doRebalance(); &#125; &#125;// org.apache.rocketmq.client.impl.factory.MQClientInstance public void doRebalance() &#123; // ÊØè‰∏Ä‰∏™ConsumerÈÉΩË¶ÅÂÅödoRebalanceÊìç‰Ωú for (Map.Entry&lt;String, MQConsumerInner&gt; entry : this.consumerTable.entrySet()) &#123; MQConsumerInner impl = entry.getValue(); if (impl != null) &#123; try &#123; impl.doRebalance(); &#125; catch (Throwable e) &#123; log.error("doRebalance exception", e); &#125; &#125; &#125; &#125; // org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl public void doRebalance() &#123; if (!this.pause) &#123; this.rebalanceImpl.doRebalance(this.isConsumeOrderly()); &#125; &#125;// org.apache.rocketmq.client.impl.consumer.RebalanceImpl private void rebalanceByTopic(final String topic, final boolean isOrder) &#123; switch (messageModel) &#123; case BROADCASTING: &#123; Set&lt;MessageQueue&gt; mqSet = this.topicSubscribeInfoTable.get(topic); if (mqSet != null) &#123; boolean changed = this.updateProcessQueueTableInRebalance(topic, mqSet, isOrder); if (changed) &#123; this.messageQueueChanged(topic, mqSet, mqSet); log.info("messageQueueChanged &#123;&#125; &#123;&#125; &#123;&#125; &#123;&#125;", consumerGroup, topic, mqSet, mqSet); &#125; &#125; else &#123; log.warn("doRebalance, &#123;&#125;, but the topic[&#123;&#125;] not exist.", consumerGroup, topic); &#125; break; &#125; case CLUSTERING: &#123; // ‰ªéË∑ØÁî±‰ø°ÊÅØ‰∏≠Ëé∑ÂèñtopicÂØπÂ∫îÊâÄÊúâÁöÑQueue Set&lt;MessageQueue&gt; mqSet = this.topicSubscribeInfoTable.get(topic); // ‰ªébrokerËé∑ÂèñÊâÄÊúâÂêå‰∏Ä‰∏™groupÁöÑÊâÄÊúâConsumer ID(192.168.1.28@83721) List&lt;String&gt; cidAll = this.mQClientFactory.findConsumerIdList(topic, consumerGroup); if (null == mqSet) &#123; if (!topic.startsWith(MixAll.RETRY_GROUP_TOPIC_PREFIX)) &#123; log.warn("doRebalance, &#123;&#125;, but the topic[&#123;&#125;] not exist.", consumerGroup, topic); &#125; &#125; if (null == cidAll) &#123; log.warn("doRebalance, &#123;&#125; &#123;&#125;, get consumer id list failed", consumerGroup, topic); &#125; if (mqSet != null &amp;&amp; cidAll != null) &#123; List&lt;MessageQueue&gt; mqAll = new ArrayList&lt;MessageQueue&gt;(); mqAll.addAll(mqSet); // Â∞ÜmqÂíåcidÈÉΩÊéíÂ•ΩÂ∫è Collections.sort(mqAll); Collections.sort(cidAll); // ÊåâÁÖßÂàùÂßãÂåñÊòØÊåáÂÆöÁöÑÂàÜÈÖçÁ≠ñÁï•ÔºàÈªòËÆ§Âπ≥ÂùáÔºâÔºåËé∑ÂèñConsumerÂàÜÈÖçÁöÑMQÂàóË°® AllocateMessageQueueStrategy strategy = this.allocateMessageQueueStrategy; List&lt;MessageQueue&gt; allocateResult = null; try &#123; allocateResult = strategy.allocate( this.consumerGroup, this.mQClientFactory.getClientId(), mqAll, cidAll); &#125; catch (Throwable e) &#123; log.error("AllocateMessageQueueStrategy.allocate Exception. allocateMessageQueueStrategyName=&#123;&#125;", strategy.getName(), e); return; &#125; Set&lt;MessageQueue&gt; allocateResultSet = new HashSet&lt;MessageQueue&gt;(); if (allocateResult != null) &#123; allocateResultSet.addAll(allocateResult); &#125; // Êõ¥Êñ∞rebalanceImpl‰∏≠ÁöÑprocessQueueÁî®Êù•ÁºìÂ≠òÊî∂Âà∞ÁöÑÊ∂àÊÅØ // ÂØπ‰∫éÊñ∞Âä†ÂÖ•ÁöÑQueueÔºåÊèê‰∫§‰∏ÄÊ¨°PullRequest // ÂØπ‰∫éÊñ∞ÂêØÂä®ÁöÑconsumerÊù•ËØ¥ÔºåÊâÄÊúâÁöÑqueueÈÉΩÊòØÊñ∞Ê∑ªÂä†ÁöÑÔºåÊâÄ‰ª•ÊâÄÊúâqueueÈÉΩ‰ºöËß¶ÂèëPullRequest boolean changed = this.updateProcessQueueTableInRebalance(topic, allocateResultSet, isOrder); if (changed) &#123; log.info( "rebalanced result changed. allocateMessageQueueStrategyName=&#123;&#125;, group=&#123;&#125;, topic=&#123;&#125;, clientId=&#123;&#125;, mqAllSize=&#123;&#125;, cidAllSize=&#123;&#125;, rebalanceResultSize=&#123;&#125;, rebalanceResultSet=&#123;&#125;", strategy.getName(), consumerGroup, topic, this.mQClientFactory.getClientId(), mqSet.size(), cidAll.size(), allocateResultSet.size(), allocateResultSet); // ÂèëÈÄÅ‰∏ÄÊ¨°ÂøÉË∑≥ this.messageQueueChanged(topic, mqSet, allocateResultSet); &#125; &#125; break; &#125; default: break; &#125; &#125; ËøôÈáåÊúâ‰∏§‰∏™ÁÇπÈáçÁÇπÁúãÁúãÔºö QueueÂàÜÈÖçÁ≠ñÁï•Êàë‰ª¨ÁúãËøô‰∏™ÊñπÊ≥ïAllocateMessageQueueStrategy#allocate()Ôºå‰ªñÊúâ‰∏ãÈù¢Âá†ÁßçÂÆûÁé∞Ôºö AllocateMessageQueueAveragelyÔºöËøôÊòØÈªòËÆ§ÁöÑÂàÜÈÖçÊñπÂºèÔºå‰∏Ä‰∏™consumerÂàÜÂà∞Âú®Âπ≥ÂùáÁöÑÊÉÖÂÜµ‰∏ãÂàÜÂà∞ËøûÁª≠ÁöÑqueueÔºåÂæÖ‰ºöÊàë‰ª¨‰ºöÁúãÁúã‰ª£Á†Å AllocateMessageQueueAveragelyByCircleÔºö Âíå‰∏äÈù¢Á±ª‰ººÔºå‰ΩÜÊòØÂàÜÂà∞ÁöÑqueue‰∏çÊòØËøûÁª≠ÁöÑ„ÄÇÊØîÂ¶Ç‰∏ÄÂÖ±12‰∏™QueueÔºå3‰∏™consumerÔºåÂàôÁ¨¨‰∏Ä‰∏™consumerÊé•Êî∂queue1Ôºå4Ôºå7Ôºå9ÁöÑÊ∂àÊÅØ AllocateMachineRoomNearbyÔºöÂ∞ÜqueueÂÖàÊåâÁÖßbrokerÂàíÂàÜÂá†‰∏™computer roomÔºå‰∏çÂêåÁöÑconsumerÂè™Ê∂àË¥πÊüêÂá†‰∏™broker‰∏äÁöÑÊ∂àÊÅØ AllocateMessageQueueByMachineRoomÔºöÊ†πÊçÆcomputer roomËøõË°åhashÂàÜÈÖçÈòüÂàó AllocateMessageQueueByConfigÔºöÂú®Áî®Êà∑ÂêØÂä®Êó∂ÊåáÂÆöÊ∂àË¥πÂì™‰∫õQueueÁöÑÊ∂àÊÅØ AllocateMessageQueueConsistentHashÔºö‰ΩøÁî®‰∏ÄËá¥ÊÄßhashÁÆóÊ≥ïÊù•ÂàÜÈÖçQueueÔºåÁî®Êà∑ÈúÄËá™ÂÆö‰πâËôöÊãüËäÇÁÇπÁöÑÊï∞Èáè ÁÑ∂Âêé‰∏ãÈù¢Êàë‰ª¨ÁúãÁúãÈªòËÆ§ÁöÑAllocateMessageQueueAveragely: 123456789101112131415161718public List&lt;MessageQueue&gt; allocate(String consumerGroup, String currentCID, List&lt;MessageQueue&gt; mqAll, List&lt;String&gt; cidAll) &#123; // ÁúÅÁï•... int index = cidAll.indexOf(currentCID); int mod = mqAll.size() % cidAll.size(); // 1. mqÊï∞Èáè &lt;= consumerÊï∞ÈáèÔºåsize = 1 // 2. Âê¶ÂàôÔºåsize = mqÊï∞Èáè / consumerÊï∞ÈáèÔºå‰ΩôÊï∞ÊòØÂá†ÂàôÂâçÂá†‰∏™consumerÁöÑsize+1,ËøôÊ†∑ÊâÄÊúâÁöÑqueueÈÉΩ‰ºöÊúâconsumerÊ∂àË¥π int averageSize = mqAll.size() &lt;= cidAll.size() ? 1 : (mod &gt; 0 &amp;&amp; index &lt; mod ? mqAll.size() / cidAll.size() + 1 : mqAll.size() / cidAll.size()); int startIndex = (mod &gt; 0 &amp;&amp; index &lt; mod) ? index * averageSize : index * averageSize + mod; int range = Math.min(averageSize, mqAll.size() - startIndex); // ‰ªéÁ¨¨‰∏Ä‰∏™consumerÂºÄÂßãÂàÜÈÖçÔºåÊØè‰∏™ÂàÜavgSize‰∏™ËøûÁª≠ÁöÑQueueÔºå for (int i = 0; i &lt; range; i++) &#123; result.add(mqAll.get((startIndex + i) % mqAll.size())); &#125; return result;&#125; Êèê‰∫§PullËØ∑Ê±Ç‰∏äÈù¢Êàë‰ª¨ËØ¥ËøáÂØπ‰∫éÊñ∞Âä†ÂÖ•ÁöÑQueueÔºåÊèê‰∫§‰∏ÄÊ¨°PullRequestÔºåÈÇ£‰πàÊàë‰ª¨Â∞±ÂèØ‰ª•ÁúãÁúãorg.apache.rocketmq.client.impl.consumer.RebalanceImpl#updateProcessQueueTableInRebalanceÊñπÊ≥ïÔºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364 private boolean updateProcessQueueTableInRebalance(final String topic, final Set&lt;MessageQueue&gt; mqSet, final boolean isOrder) &#123; boolean changed = false; // ÁúÅÁï• List&lt;PullRequest&gt; pullRequestList = new ArrayList&lt;PullRequest&gt;(); for (MessageQueue mq : mqSet) &#123; // Â¶ÇÊûúÊòØÊñ∞Âä†ÂÖ•ÁöÑQueue if (!this.processQueueTable.containsKey(mq)) &#123; if (isOrder &amp;&amp; !this.lock(mq)) &#123; log.warn("doRebalance, &#123;&#125;, add a new mq failed, &#123;&#125;, because lock failed", consumerGroup, mq); continue; &#125; // ‰ªéoffset store‰∏≠ÁßªÈô§ËøáÊó∂ÁöÑÊï∞ÊçÆ this.removeDirtyOffset(mq); ProcessQueue pq = new ProcessQueue(); // Ëé∑ÂèñËµ∑ÂßãÊ∂àË¥πoffset long nextOffset = this.computePullFromWhere(mq); if (nextOffset &gt;= 0) &#123; // ‰∏∫Êñ∞ÁöÑQueueÂàùÂßãÂåñ‰∏Ä‰∏™ProcessQueueÔºåÁî®Êù•ÁºìÂ≠òÊî∂Âà∞ÁöÑÊ∂àÊÅØ ProcessQueue pre = this.processQueueTable.putIfAbsent(mq, pq); if (pre != null) &#123; log.info("doRebalance, &#123;&#125;, mq already exists, &#123;&#125;", consumerGroup, mq); &#125; else &#123; log.info("doRebalance, &#123;&#125;, add a new mq, &#123;&#125;", consumerGroup, mq); // ÂØπÊñ∞Âä†ÁöÑqueueÂàùÂßãÂåñ‰∏Ä‰∏™PullRequest PullRequest pullRequest = new PullRequest(); pullRequest.setConsumerGroup(consumerGroup); pullRequest.setNextOffset(nextOffset); pullRequest.setMessageQueue(mq); pullRequest.setProcessQueue(pq); pullRequestList.add(pullRequest); changed = true; &#125; &#125; else &#123; log.warn("doRebalance, &#123;&#125;, add new mq failed, &#123;&#125;", consumerGroup, mq); &#125; &#125; &#125; // ÂàÜÂèëpull requestÂà∞PullMessageServiceÊãâÂèñÊ∂àÊÅØ this.dispatchPullRequest(pullRequestList); return changed; &#125;// org.apache.rocketmq.client.impl.consumer.RebalancePushImpl public void dispatchPullRequest(List&lt;PullRequest&gt; pullRequestList) &#123; for (PullRequest pullRequest : pullRequestList) &#123; // ÊâßË°åÊãâÂèñÊ∂àÊÅØ this.defaultMQPushConsumerImpl.executePullRequestImmediately(pullRequest); log.info("doRebalance, &#123;&#125;, add a new pull request &#123;&#125;", consumerGroup, pullRequest); &#125; &#125;// org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl public void executePullRequestImmediately(final PullRequest pullRequest) &#123; this.mQClientFactory.getPullMessageService().executePullRequestImmediately(pullRequest); &#125;// org.apache.rocketmq.client.impl.consumer.PullMessageService public void executePullRequestImmediately(final PullRequest pullRequest) &#123; try &#123; // Â∞Üpull request ÊîæÂÖ•Âà∞pullRequestQueue‰∏≠ this.pullRequestQueue.put(pullRequest); &#125; catch (InterruptedException e) &#123; log.error("executePullRequestImmediately pullRequestQueue.put", e); &#125; &#125; Ê∂àÊÅØÊãâÂèñÊúçÂä°Êàë‰ª¨Âú®MQClientInstanceÂêØÂä®ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÁúãÂà∞Êàë‰ª¨ÂêØÂä®‰∫Ü‰∏Ä‰∏™Ê∂àÊÅØÊãâÂèñÁöÑÂÆöÊó∂ÊúçÂä°„ÄÇËøôÈáåÊàë‰ª¨‰πüÂ∞±Áü•ÈÅìÂÖ∂ÂÆûPullMessageService‰πüÊòØ‰∏Ä‰∏™Á∫øÁ®ãÔºåÊàë‰ª¨ÂÖàÁúãrunÊñπÊ≥ïÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159 // org.apache.rocketmq.client.impl.consumer.PullMessageServicepublic void run() &#123; log.info(this.getServiceName() + " service started"); while (!this.isStopped()) &#123; try &#123; // Âèñpull request ËøõË°åÊãâÂèñ PullRequest pullRequest = this.pullRequestQueue.take(); this.pullMessage(pullRequest); &#125; catch (InterruptedException ignored) &#123; &#125; catch (Exception e) &#123; log.error("Pull Message Service Run Method exception", e); &#125; &#125; log.info(this.getServiceName() + " service end"); &#125; private void pullMessage(final PullRequest pullRequest) &#123; final MQConsumerInner consumer = this.mQClientFactory.selectConsumer(pullRequest.getConsumerGroup()); if (consumer != null) &#123; DefaultMQPushConsumerImpl impl = (DefaultMQPushConsumerImpl) consumer; // ÂÆûË¥® impl.pullMessage(pullRequest); &#125; else &#123; log.warn("No matched consumer for the PullRequest &#123;&#125;, drop it", pullRequest); &#125; &#125;// org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl public void pullMessage(final PullRequest pullRequest) &#123; // ÊãøÂà∞ÁºìÂ≠òÊ∂àÊÅØÁöÑÈòüÂàó final ProcessQueue processQueue = pullRequest.getProcessQueue(); // ... // ËÆæÁΩÆÊãâÂèñÊó∂Èó¥Êà≥ pullRequest.getProcessQueue().setLastPullTimestamp(System.currentTimeMillis()); // ... // Êü•ÁúãÊ∂àÊÅØÁºìÂ≠òÈòüÂàóÁöÑÊ∂àÊÅØÊï∞Èáè‰ª•ÂèäÂ§ßÂ∞è long cachedMessageCount = processQueue.getMsgCount().get(); long cachedMessageSizeInMiB = processQueue.getMsgSize().get() / (1024 * 1024); // Â¶ÇÊûúÂ†ÜÁßØÊú™Â§ÑÁêÜÁöÑÊ∂àÊÅØÊï∞ÈáèËøáÂ§ö(Â§ß‰∫éÈªòËÆ§1000Êù°)ÔºåÂàôÊîæÂõûpull requestÈòüÂàó,Âª∂Êó∂ÊâßË°åÔºàÈªòËÆ§50msÔºâ if (cachedMessageCount &gt; this.defaultMQPushConsumer.getPullThresholdForQueue()) &#123; this.executePullRequestLater(pullRequest, PULL_TIME_DELAY_MILLS_WHEN_FLOW_CONTROL); // ... return; &#125; // Â¶ÇÊûúÂ†ÜÁßØÊú™Â§ÑÁêÜÁöÑÊ∂àÊÅØÁöÑÂ§ßÂ∞èËøáÂ§ßÔºàÂ§ß‰∫é100MBÔºâÔºåÂêå‰∏äÈù¢ÁöÑÈÄªËæë if (cachedMessageSizeInMiB &gt; this.defaultMQPushConsumer.getPullThresholdSizeForQueue()) &#123; this.executePullRequestLater(pullRequest, PULL_TIME_DELAY_MILLS_WHEN_FLOW_CONTROL); // ... return; &#125; // Êó†Â∫èÊ∂àÊÅØÔºåÊ∂àÊÅØoffsetË∑®Â∫¶ËøáÂ§ßÔºåÂêå‰∏äÈù¢ÁöÑÈÄªËæë if (!this.consumeOrderly) &#123; if (processQueue.getMaxSpan() &gt; this.defaultMQPushConsumer.getConsumeConcurrentlyMaxSpan()) &#123; this.executePullRequestLater(pullRequest, PULL_TIME_DELAY_MILLS_WHEN_FLOW_CONTROL); // ... return; &#125; &#125; else &#123; // ... &#125; &#125; // Ê£ÄÊü•ËÆ¢ÈòÖÂÖ≥Á≥ªÊúâÊ≤°ÊúâÂèòÂåñÔºåÊúâÂèØËÉΩÂú®Âª∂Êó∂ÊúüÈó¥ÔºåtopicÊàñËÄÖconsumerÁöÑÈÖçÁΩÆÈÉΩÂèëÁîü‰∫ÜÂèòÂåñÔºåÈúÄË¶ÅÈáçÊñ∞Â§ÑÁêÜ final SubscriptionData subscriptionData = this.rebalanceImpl.getSubscriptionInner().get(pullRequest.getMessageQueue().getTopic()); if (null == subscriptionData) &#123; this.executePullRequestLater(pullRequest, PULL_TIME_DELAY_MILLS_WHEN_EXCEPTION); log.warn("find the consumer's subscription failed, &#123;&#125;", pullRequest); return; &#125; final long beginTimestamp = System.currentTimeMillis(); // Pull CommandÂèëÈÄÅÂêéÁöÑÂõûË∞É PullCallback pullCallback = new PullCallback() &#123; @Override public void onSuccess(PullResult pullResult) &#123; if (pullResult != null) &#123; // Ê∂àÊÅØÈ¢ÑÂ§ÑÁêÜÔºåÂÆ¢Êà∑Á´ØÂÜçÊ¨°ËøáÊª§ÔºåËÆæÁΩÆminOffsetÂíåmaxOffset pullResult = DefaultMQPushConsumerImpl.this.pullAPIWrapper.processPullResult(pullRequest.getMessageQueue(), pullResult, subscriptionData); switch (pullResult.getPullStatus()) &#123; case FOUND: long prevRequestOffset = pullRequest.getNextOffset(); pullRequest.setNextOffset(pullResult.getNextBeginOffset()); long pullRT = System.currentTimeMillis() - beginTimestamp; DefaultMQPushConsumerImpl.this.getConsumerStatsManager().incPullRT(pullRequest.getConsumerGroup(), pullRequest.getMessageQueue().getTopic(), pullRT); long firstMsgOffset = Long.MAX_VALUE; // Â¶ÇÊûúËé∑ÂèñÂà∞ÁöÑÊ∂àÊÅØÊï∞‰∏∫0ÔºåÂàôÁ´ãÂç≥ÂèëËµ∑‰∏ã‰∏ÄÊ¨°pull if (pullResult.getMsgFoundList() == null || pullResult.getMsgFoundList().isEmpty()) &#123; DefaultMQPushConsumerImpl.this.executePullRequestImmediately(pullRequest); &#125; else &#123; firstMsgOffset = pullResult.getMsgFoundList().get(0).getQueueOffset(); DefaultMQPushConsumerImpl.this.getConsumerStatsManager().incPullTPS(pullRequest.getConsumerGroup(), pullRequest.getMessageQueue().getTopic(), pullResult.getMsgFoundList().size()); // Ê∂àÊÅØÊîæÂÖ•ProcessQueue boolean dispatchToConsume = processQueue.putMessage(pullResult.getMsgFoundList()); // Ê∂àË¥πÊ∂àÊÅØÊúçÂä°ÔºàÁ∫øÁ®ãÊ±†ÔºâÔºåË∞ÉÁî®messageListenerÂ§ÑÁêÜÔºåÂ§ÑÁêÜÂÆåÊàê‰ºöÈÄöÁü•ProcessQueue DefaultMQPushConsumerImpl.this.consumeMessageService.submitConsumeRequest( pullResult.getMsgFoundList(), processQueue, pullRequest.getMessageQueue(), dispatchToConsume); // ÂÜçÊ¨°Êèê‰∫§pull request if (DefaultMQPushConsumerImpl.this.defaultMQPushConsumer.getPullInterval() &gt; 0) &#123; DefaultMQPushConsumerImpl.this.executePullRequestLater(pullRequest, DefaultMQPushConsumerImpl.this.defaultMQPushConsumer.getPullInterval()); &#125; else &#123; DefaultMQPushConsumerImpl.this.executePullRequestImmediately(pullRequest); &#125; &#125; if (pullResult.getNextBeginOffset() &lt; prevRequestOffset || firstMsgOffset &lt; prevRequestOffset) &#123; log.warn( "[BUG] pull message result maybe data wrong, nextBeginOffset: &#123;&#125; firstMsgOffset: &#123;&#125; prevRequestOffset: &#123;&#125;", pullResult.getNextBeginOffset(), firstMsgOffset, prevRequestOffset); &#125; break; case NO_NEW_MSG: // ... break; case OFFSET_ILLEGAL: // ... break; default: break; &#125; &#125; &#125; // ... &#125; try &#123; // Ë∞ÉÁî®NettyÂéªÂèëÈÄÅPull CommandÔºåÂÖ∂ÂÆûËøôÂêéÈù¢Â∞±ÂíåÁîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰∏çËøáËøôÈáåÊòØÂºÇÊ≠•ÂèëÈÄÅÊ∂àÊÅØ // ÂºÇÊ≠•ÂÆåÊàê‰πãÂêé‰ºöÊâßË°åpullCallback this.pullAPIWrapper.pullKernelImpl( pullRequest.getMessageQueue(), subExpression, subscriptionData.getExpressionType(), subscriptionData.getSubVersion(), pullRequest.getNextOffset(), this.defaultMQPushConsumer.getPullBatchSize(), sysFlag, commitOffsetValue, BROKER_SUSPEND_MAX_TIME_MILLIS, CONSUMER_TIMEOUT_MILLIS_WHEN_SUSPEND, CommunicationMode.ASYNC, pullCallback ); &#125; catch (Exception e) &#123; log.error("pullKernelImpl exception", e); this.executePullRequestLater(pullRequest, PULL_TIME_DELAY_MILLS_WHEN_EXCEPTION); &#125; &#125; Ê∂àÊÅØÊ∂àË¥π‰∏äÈù¢Êàë‰ª¨Â∑≤ÁªèËØ¥Ëøá‰∫ÜÂΩìÊ∂àÊÅØÊãâÂèñÂÆå‰πãÂêé‰ºöÊâßË°åPullCallbackÔºåÂÖ∑‰Ωì‰∏ÄÁÇπÂ∞±ÊòØ‰ºöÊâßË°åÂà∞org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService.submitConsumeRequest()ÔºåÊàë‰ª¨ÁúãÁúãÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178 // org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyServicepublic void submitConsumeRequest( final List&lt;MessageExt&gt; msgs, final ProcessQueue processQueue, final MessageQueue messageQueue, final boolean dispatchToConsume) &#123; final int consumeBatchSize = this.defaultMQPushConsumer.getConsumeMessageBatchMaxSize(); // ÁúãÊòØÂê¶ÈúÄË¶ÅÊâπÈáèÊ∂àË¥πÔºåÈªòËÆ§ÈòàÂÄºÊòØ1 if (msgs.size() &lt;= consumeBatchSize) &#123; // ÂàõÂª∫‰∏Ä‰∏™Ê∂àË¥π‰ªªÂä° ConsumeRequest consumeRequest = new ConsumeRequest(msgs, processQueue, messageQueue); try &#123; this.consumeExecutor.submit(consumeRequest); &#125; catch (RejectedExecutionException e) &#123; this.submitConsumeRequestLater(consumeRequest); &#125; &#125; else &#123; // ÂàõÂª∫ÊâπÈáèÊ∂àË¥π‰ªªÂä° for (int total = 0; total &lt; msgs.size(); ) &#123; List&lt;MessageExt&gt; msgThis = new ArrayList&lt;MessageExt&gt;(consumeBatchSize); for (int i = 0; i &lt; consumeBatchSize; i++, total++) &#123; if (total &lt; msgs.size()) &#123; msgThis.add(msgs.get(total)); &#125; else &#123; break; &#125; &#125; ConsumeRequest consumeRequest = new ConsumeRequest(msgThis, processQueue, messageQueue); try &#123; this.consumeExecutor.submit(consumeRequest); &#125; catch (RejectedExecutionException e) &#123; for (; total &lt; msgs.size(); total++) &#123; msgThis.add(msgs.get(total)); &#125; this.submitConsumeRequestLater(consumeRequest); &#125; &#125; &#125; &#125;// Áî±‰∫éConsumeRequestÊòØ‰∏Ä‰∏™‰ªªÂä°ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÁúãÁúãÂÆÉÁöÑrunÊñπÊ≥ï public void run() &#123; // ... // ÂæóÂà∞ÊîπÊ∂àÊÅØÁöÑListener MessageListenerConcurrently listener = ConsumeMessageConcurrentlyService.this.messageListener; ConsumeConcurrentlyContext context = new ConsumeConcurrentlyContext(messageQueue); ConsumeConcurrentlyStatus status = null; ConsumeMessageContext consumeMessageContext = null; if (ConsumeMessageConcurrentlyService.this.defaultMQPushConsumerImpl.hasHook()) &#123; consumeMessageContext = new ConsumeMessageContext(); consumeMessageContext.setConsumerGroup(defaultMQPushConsumer.getConsumerGroup()); consumeMessageContext.setProps(new HashMap&lt;String, String&gt;()); consumeMessageContext.setMq(messageQueue); consumeMessageContext.setMsgList(msgs); consumeMessageContext.setSuccess(false); ConsumeMessageConcurrentlyService.this.defaultMQPushConsumerImpl.executeHookBefore(consumeMessageContext); &#125; long beginTimestamp = System.currentTimeMillis(); boolean hasException = false; ConsumeReturnType returnType = ConsumeReturnType.SUCCESS; try &#123; ConsumeMessageConcurrentlyService.this.resetRetryTopic(msgs); if (msgs != null &amp;&amp; !msgs.isEmpty()) &#123; for (MessageExt msg : msgs) &#123; MessageAccessor.setConsumeStartTimeStamp(msg, String.valueOf(System.currentTimeMillis())); &#125; &#125; // listenerÊâßË°åÂõûË∞ÉÈÄªËæë status = listener.consumeMessage(Collections.unmodifiableList(msgs), context); &#125; catch (Throwable e) &#123; log.warn("consumeMessage exception: &#123;&#125; Group: &#123;&#125; Msgs: &#123;&#125; MQ: &#123;&#125;", RemotingHelper.exceptionSimpleDesc(e), ConsumeMessageConcurrentlyService.this.consumerGroup, msgs, messageQueue); hasException = true; &#125; long consumeRT = System.currentTimeMillis() - beginTimestamp; // ËÆæÁΩÆÊ∂àË¥πÁªìÊûú if (null == status) &#123; if (hasException) &#123; returnType = ConsumeReturnType.EXCEPTION; &#125; else &#123; returnType = ConsumeReturnType.RETURNNULL; &#125; &#125; else if (consumeRT &gt;= defaultMQPushConsumer.getConsumeTimeout() * 60 * 1000) &#123; returnType = ConsumeReturnType.TIME_OUT; &#125; else if (ConsumeConcurrentlyStatus.RECONSUME_LATER == status) &#123; returnType = ConsumeReturnType.FAILED; &#125; else if (ConsumeConcurrentlyStatus.CONSUME_SUCCESS == status) &#123; returnType = ConsumeReturnType.SUCCESS; &#125; if (ConsumeMessageConcurrentlyService.this.defaultMQPushConsumerImpl.hasHook()) &#123; consumeMessageContext.getProps().put(MixAll.CONSUME_CONTEXT_TYPE, returnType.name()); &#125; // ... if (!processQueue.isDropped()) &#123; // Â§ÑÁêÜÊ∂àË¥πÁªìÊûú ConsumeMessageConcurrentlyService.this.processConsumeResult(status, context, this); &#125; else &#123; log.warn("processQueue is dropped without process consume result. messageQueue=&#123;&#125;, msgs=&#123;&#125;", messageQueue, msgs); &#125; &#125;// org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService public void processConsumeResult( final ConsumeConcurrentlyStatus status, final ConsumeConcurrentlyContext context, final ConsumeRequest consumeRequest ) &#123; int ackIndex = context.getAckIndex(); if (consumeRequest.getMsgs().isEmpty()) return; // ËÆæÁΩÆÊ∂àË¥πÁä∂ÊÄÅ switch (status) &#123; // Ê∂àË¥πÊàêÂäü case CONSUME_SUCCESS: if (ackIndex &gt;= consumeRequest.getMsgs().size()) &#123; ackIndex = consumeRequest.getMsgs().size() - 1; &#125; int ok = ackIndex + 1; int failed = consumeRequest.getMsgs().size() - ok; this.getConsumerStatsManager().incConsumeOKTPS(consumerGroup, consumeRequest.getMessageQueue().getTopic(), ok); this.getConsumerStatsManager().incConsumeFailedTPS(consumerGroup, consumeRequest.getMessageQueue().getTopic(), failed); break; // ÈáçÊñ∞Ê∂àË¥π case RECONSUME_LATER: ackIndex = -1; this.getConsumerStatsManager().incConsumeFailedTPS(consumerGroup, consumeRequest.getMessageQueue().getTopic(), consumeRequest.getMsgs().size()); break; default: break; &#125; switch (this.defaultMQPushConsumer.getMessageModel()) &#123; // broadcastÊ®°ÂºèÔºåÂ§ÑÁêÜÂ§±Ë¥•Ôºå‰∏çÂÅöÂ§ÑÁêÜ case BROADCASTING: for (int i = ackIndex + 1; i &lt; consumeRequest.getMsgs().size(); i++) &#123; MessageExt msg = consumeRequest.getMsgs().get(i); log.warn("BROADCASTING, the message consume failed, drop it, &#123;&#125;", msg.toString()); &#125; break; case CLUSTERING: List&lt;MessageExt&gt; msgBackFailed = new ArrayList&lt;MessageExt&gt;(consumeRequest.getMsgs().size()); for (int i = ackIndex + 1; i &lt; consumeRequest.getMsgs().size(); i++) &#123; MessageExt msg = consumeRequest.getMsgs().get(i); // ClusterÊ®°ÂºèÔºåÂ∞ÜÊ∂àÊÅØÂèëÂõûbrokerÔºåËÆ©brokerÈáçÊñ∞ÂèëÈÄÅ // ‰∏ÄÂÖ±Êúâ‰∏§ÁßçÊñπÂºèËÆ©brokerÈáçÂèë(ÊúâÂÖ¥Ë∂£Ëá™Â∑±ÂéªÁúãÁúã): // 1. ÂÖàÂ∞ùËØïÁªôbrokerÂèëÈÄÅsend_msg_backÁöÑÂëΩ‰ª§Ôºå // 2. Â¶ÇÊûúÂ§±Ë¥•‰∫ÜÔºåÂàôÈÄöËøáconsumerÈ¢ÑÁïôÁöÑproducerÁªô%RETRY%groupnameÂèëÈÄÅÊ∂àÊÅØÔºåÁ≠â‰∫éÊòØËá™Â∑±ÁªôËá™Â∑±Âèë‰∏ÄÊù°Ê∂àÊÅØ„ÄÇ boolean result = this.sendMessageBack(msg, context); if (!result) &#123; msg.setReconsumeTimes(msg.getReconsumeTimes() + 1); msgBackFailed.add(msg); &#125; &#125; if (!msgBackFailed.isEmpty()) &#123; consumeRequest.getMsgs().removeAll(msgBackFailed); // ÂèëÂõûbrokerÂ§±Ë¥•ÔºåÂàôÂÜçÊ¨°Â∞ùËØïÊú¨Âú∞Ê∂àË¥π this.submitConsumeRequestLater(msgBackFailed, consumeRequest.getProcessQueue(), consumeRequest.getMessageQueue()); &#125; break; default: break; &#125; // Â∞ÜÊ∂àË¥πÂâçÁºìÂ≠òÁöÑÊ∂àÊÅØÊ∏ÖÈô§ long offset = consumeRequest.getProcessQueue().removeMessage(consumeRequest.getMsgs()); if (offset &gt;= 0 &amp;&amp; !consumeRequest.getProcessQueue().isDropped()) &#123; this.defaultMQPushConsumerImpl.getOffsetStore().updateOffset(consumeRequest.getMessageQueue(), offset, true); &#125; &#125; Âà∞ËøôÈáåÔºåÊàë‰ª¨‰πüÂü∫Êú¨‰∏äÂêßÊ∂àÊÅØÊ∂àË¥πÁöÑÊµÅÁ®ãËµ∞ÂÆå‰∫ÜÔºå Áé∞Âú®ÂèØ‰ª•ÂÜçÂõûÂ§¥ÁúãÁúãÊµÅÁ®ãÂõæÔºåÂ¶ÇÊûúËÉΩÂØπÁöÑ‰∏äÂ∞±OKÂï¶ÔºÅ ÂèÇËÄÉ RocketMQÊ∫êÁ†ÅËß£Êûê(Âõõ)-Consumer]]></content>
      <categories>
        <category>RocketMQÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>RocketMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SeataÊ∫êÁ†ÅËß£Êûê‚Äî‚ÄîÁéØÂ¢ÉÊê≠Âª∫]]></title>
    <url>%2F2019%2F06%2F16%2FSeata%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FSeata%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E2%80%94%E2%80%94%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö2019 Âπ¥ 1 ÊúàÔºåÈòøÈáåÂ∑¥Â∑¥‰∏≠Èó¥‰ª∂Âõ¢ÈòüÂèëËµ∑‰∫ÜÂºÄÊ∫êÈ°πÁõÆ FescarÔºàFast &amp; EaSy Commit And RollbackÔºâÔºåÂíåÁ§æÂå∫‰∏ÄËµ∑ÂÖ±Âª∫ÂºÄÊ∫êÂàÜÂ∏ÉÂºè‰∫ãÂä°Ëß£ÂÜ≥ÊñπÊ°à„ÄÇFescar ÁöÑÊÑøÊôØÊòØËÆ©ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÁöÑ‰ΩøÁî®ÂÉèÊú¨Âú∞‰∫ãÂä°ÁöÑ‰ΩøÁî®‰∏ÄÊ†∑ÔºåÁÆÄÂçïÂíåÈ´òÊïàÔºåÂπ∂ÈÄêÊ≠•Ëß£ÂÜ≥ÂºÄÂèëËÄÖ‰ª¨ÈÅáÂà∞ÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä°ÊñπÈù¢ÁöÑÊâÄÊúâÈöæÈ¢ò„ÄÇ‰∏∫‰∫ÜÊâìÈÄ†Êõ¥‰∏≠Á´ã„ÄÅÊõ¥ÂºÄÊîæ„ÄÅÁîüÊÄÅÊõ¥Âä†‰∏∞ÂØåÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä°ÂºÄÊ∫êÁ§æÂå∫ÔºåÁªèËøáÁ§æÂå∫Ê†∏ÂøÉÊàêÂëòÁöÑÊäïÁ•®ÔºåÂ§ßÂÆ∂ÂÜ≥ÂÆöÂØπ Fescar ËøõË°åÂìÅÁâåÂçáÁ∫ßÔºåÂπ∂Êõ¥Âêç‰∏∫ SeataÔºåÊÑè‰∏∫ÔºöSimple Extensible Autonomous Transaction ArchitectureÔºåÊòØ‰∏ÄÂ•ó‰∏ÄÁ´ôÂºèÂàÜÂ∏ÉÂºè‰∫ãÂä°Ëß£ÂÜ≥ÊñπÊ°à„ÄÇ ÂâçÁΩÆËøòÊòØÈÇ£Âè•ËØùÔºöÊ∫êÁ†ÅÔºåÊòØÂéüÁêÜÁöÑÂÖ∑Ë±°ÂåñÂéüÁêÜÔºåÊòØ‰ª£Á†ÅÁöÑÊäΩË±°Âåñ ÊâÄ‰ª•Âú®ÂºÄÂßãÁúãÊ∫êÁ†ÅÂâç‰∏ÄÂÆöË¶ÅÂ•ΩÂ•Ω‰∫ÜËß£SeataÁöÑ‰ΩøÁî®ÊñπÂºè‰ª•ÂèäÂéüÁêÜÔºåÂñúÊ¨¢SeataÁöÑwiki„ÄÇ ‰æùËµñÂ∑•ÂÖ∑ Git Maven JDK1.8 IntelliJ IDEA Mysql Ê∫êÁ†ÅÊãâÂèñÂ•ΩÂÉèÊòØÂú®fescarÂçáÁ∫ßÂà∞seataÁöÑÊó∂ÂÄôÔºåÈ°πÁõÆÂ∞ÜsamplesÊäΩÂá∫Êàê‰∏Ä‰∏™Áã¨Á´ãÁöÑÈ°πÁõÆ‰∫ÜÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÊãâ‰∏§‰∏™Â∑•Á®ãÁöÑ‰ª£Á†ÅÔºö seata seata-samples 12git clone https://github.com/seata/seata.gitgit clone https://github.com/seata/seata-samples.git ÁéØÂ¢ÉÊê≠Âª∫ÂêØÂä®Seata ServerÂú®seataÂ∑•Á®ã‰∏≠ÊâæÂà∞io.seata.server.ServerÔºåÁõ¥Êé•ÁÇπÂáªËøêË°åmainÊñπÊ≥ïÂç≥ÂèØÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫Êó•ÂøóÔºö 12019-06-16 09:11:11.542 INFO [main]io.seata.core.rpc.netty.AbstractRpcRemotingServer.start:176 -Server started ... ÂêØÂä®Seata-samplesseata-samplesÈ°πÁõÆ‰∏≠Êèê‰æõ‰∫ÜÂêÑÁßçDemoÔºåÊàë‰ª¨ËøôÈáåÈÄâÊã©ÊúÄÁÆÄÂçïÁöÑ‰∏ÄÁßçÂ•Ω‰∫Ü‚Äî‚Äîdubbo„ÄÇ ÂàùÂßãÂåñÊï∞ÊçÆÂ∫ì‰ΩøÁî®mysql ÂàõÂª∫Êï∞ÊçÆÂ∫ìÔºöfescar_demo ÊâßË°åseata-samples/dubbo/src/main/resources/sql/dubbo_biz.sql ÊâßË°åseata-samples/dubbo/src/main/resources/sql/undo_log.sql ÂêØÂä®Âü∫Á°ÄÊúçÂä° DubboAccountServiceStarter ÊâæÂà∞io.seata.samples.dubbo.starter.DubboAccountServiceStarterÔºåÁõ¥Êé•ÁÇπÂáªËøêË°åmainÊñπÊ≥ïÔºåÂú®ÂΩìÂâçÁ∫øÁ®ã‰∏ãÔºåÊàë‰ª¨Ê≤°ÊúâÁúãÂà∞Êó•ÂøóÔºå‰ΩÜÊòØÂú®ServerÁ´ØÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏ãÈù¢ÁöÑÊó•ÂøóÔºåÂ∞±‰ª£Á†ÅRmÂ∑≤ÁªèÊ≥®ÂÜåÊàêÂäüÂï¶ÔºåÂêåÊó∂Âú®Êï∞ÊçÆÂ∫ìaccount_tblË°®‰∏≠ÊèíÂÖ•‰∫Ü‰∏ÄÊù°ËÆ∞ÂΩïÔºö 122019-06-16 09:32:45.562 INFO [ServerHandlerThread_1_500]io.seata.core.rpc.DefaultServerMessageListenerImpl.onRegRmMessage:112 -rm register success,message:RegisterRMRequest&#123;resourceIds='jdbc:mysql://127.0.0.1:3306/seata', applicationId='dubbo-demo-account-service', transactionServiceGroup='my_test_tx_group'&#125;,channel:[id: 0xcbff48be, L:/127.0.0.1:8091 - R:/127.0.0.1:54122]2019-06-16 09:32:48.139 INFO [NettyServerNIOWorker_2_8]io.seata.core.rpc.DefaultServerMessageListenerImpl.onRegTmMessage:128 -checkAuth for client:127.0.0.1:54123 vgroup:my_test_tx_group ok DubboStorageServiceStarter ÊâæÂà∞io.seata.samples.dubbo.starter.DubboStorageServiceStarterÔºåÁõ¥Êé•ÁÇπÂáªËøêË°åmainÊñπÊ≥ïÔºåÂú®ÂΩìÂâçÁ∫øÁ®ã‰∏ãÔºåÊàë‰ª¨Ê≤°ÊúâÁúãÂà∞Êó•ÂøóÔºå‰ΩÜÊòØÂú®ServerÁ´ØÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏ãÈù¢ÁöÑÊó•ÂøóÔºåÂ∞±‰ª£Á†ÅRmÂ∑≤ÁªèÊ≥®ÂÜåÊàêÂäüÂï¶ÔºåÂêåÊó∂Âú®Êï∞ÊçÆÂ∫ìstorage_tblË°®‰∏≠ÊèíÂÖ•‰∫Ü‰∏ÄÊù°ËÆ∞ÂΩïÔºö 122019-06-16 09:41:06.227 INFO [ServerHandlerThread_2_500]io.seata.core.rpc.DefaultServerMessageListenerImpl.onRegRmMessage:112 -rm register success,message:RegisterRMRequest&#123;resourceIds='jdbc:mysql://127.0.0.1:3306/seata', applicationId='dubbo-demo-storage-service', transactionServiceGroup='my_test_tx_group'&#125;,channel:[id: 0xf37dc389, L:/127.0.0.1:8091 - R:/127.0.0.1:54214]2019-06-16 09:41:08.969 INFO [NettyServerNIOWorker_4_8]io.seata.core.rpc.DefaultServerMessageListenerImpl.onRegTmMessage:128 -checkAuth for client:127.0.0.1:54215 vgroup:my_test_tx_group ok DubboOrderServiceStarter ÊâæÂà∞io.seata.samples.dubbo.DubboOrderServiceStarterÔºåÁõ¥Êé•ÁÇπÂáªËøêË°åmainÊñπÊ≥ïÔºåÂú®ÂΩìÂâçÁ∫øÁ®ã‰∏ãÔºåÊàë‰ª¨Ê≤°ÊúâÁúãÂà∞Êó•ÂøóÔºå‰ΩÜÊòØÂú®ServerÁ´ØÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏ãÈù¢ÁöÑÊó•ÂøóÔºåÂ∞±‰ª£Á†ÅRmÂ∑≤ÁªèÊ≥®ÂÜåÊàêÂäüÂï¶Ôºö 122019-06-16 09:44:18.384 INFO [ServerHandlerThread_3_500]io.seata.core.rpc.DefaultServerMessageListenerImpl.onRegRmMessage:112 -rm register success,message:RegisterRMRequest&#123;resourceIds='jdbc:mysql://127.0.0.1.200:3306/seata', applicationId='dubbo-demo-order-service', transactionServiceGroup='my_test_tx_group'&#125;,channel:[id: 0xe370a8ab, L:/127.0.0.1:8091 - R:/127.0.0.1:54259]2019-06-16 09:44:21.333 INFO [NettyServerNIOWorker_6_8]io.seata.core.rpc.DefaultServerMessageListenerImpl.onRegTmMessage:128 -checkAuth for client:127.0.0.1:54261 vgroup:my_test_tx_group ok ÊµãËØïÂàÜÂ∏ÉÂºè‰∫ãÂä°ÊâæÂà∞io.seata.samples.dubbo.DubboBusinessTester ËøôÈáåÊâßË°åÁöÑÊòØ‰∏Ä‰∏™Ë¥≠‰π∞ÁöÑÊñπÊ≥ïÔºå‰ºöÂÖàË∞ÉÁî®Â∫ìÂ≠òÊúçÂä°Êâ£ÂáèÂ∫ìÂ≠òÔºåÁÑ∂ÂêéË∞ÉÁî®ËÆ¢ÂçïÊúçÂä°Áîü‰∫ßËÆ¢ÂçïÔºåÂú®ÁîüÊàêËÆ¢Âçï‰πãÂâçÔºå‰ªñËøò‰ºöË∞ÉÁî®Êâ£ÂáèË¥¶Êà∑‰ΩôÈ¢ùÁöÑÊúçÂä°ÔºåËøôÊ†∑‰ºöÂΩ¢Êàê‰∏Ä‰∏™ÂæÆÊúçÂä°ÈìæË∑Ø„ÄÇ Ê≠£Â∏∏Êèê‰∫§Êàë‰ª¨ÂÖàÊääio.seata.samples.dubbo.service.impl#purchaseÊñπÊ≥ï‰∏≠ÁöÑÂºÇÂ∏∏ÁªôÊ≥®ÈáäÊéâÔºö 1234567public void purchase(String userId, String commodityCode, int orderCount) &#123; LOGGER.info("purchase begin ... xid: " + RootContext.getXID()); storageService.deduct(commodityCode, orderCount); orderService.create(userId, commodityCode, orderCount); // throw new RuntimeException("xxx");&#125; ÁÑ∂ÂêéÁÇπÂáªËøêË°åio.seata.samples.dubbo.DubboBusinessTester#mainÊñπÊ≥ïÔºåÊàë‰ª¨ÁúãÂà∞ÊñπÊ≥ïÊ≠£Â∏∏ÁªìÊùüÔºåÂπ∂‰∏îË°®‰∏≠Êï∞ÊçÆÂèëÈÄÅ‰∫ÜÂ¶Ç‰∏ãÂèòÂåñÔºö ÂºÇÂ∏∏ÂõûÊªöÊàë‰ª¨ÂÖàÊääio.seata.samples.dubbo.service.impl#purchaseÊñπÊ≥ï‰∏≠ÁöÑÂºÇÂ∏∏ÁöÑÊ≥®ÈáäÁªôÊîæÂºÄ, ‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÁúãÂà∞ÂõûÊªöÁöÑËøáÁ®ãÔºåÊàë‰ª¨Âú®ÊäõÂá∫ÂºÇÂ∏∏ÁöÑÈÇ£‰∏ÄË°å‰ª£Á†ÅÂâçÈù¢Âä†‰∏äÊñ≠ÁÇπÔºåÁÑ∂ÂêédebugËøêË°åio.seata.samples.dubbo.DubboBusinessTester#mainÊñπÊ≥ïÔºåÊâßË°åÂà∞Êñ≠ÁÇπÔºåÊàë‰ª¨ÁúãÁúãÊï∞ÊçÆÂ∫ìÁöÑÂèòÂåñÔºö Êàë‰ª¨ÁúãÂà∞Êï∞ÊçÆÂÖ∂ÂÆûÈÉΩÂ∑≤ÁªèÊúâ‰∫Ü‰∏Ä‰∫õÂèòÂåñÔºåÁÑ∂ÂêéÁúãÁúãÂæàÈáçË¶ÅÁöÑ undo_logË°®ÔºåÂèëÁé∞ÂÆÉ‰πüÁîüÊàê‰∫Ü‰∏Ä‰∫õËÆ∞ÂΩïÔºå‰∏çËøáËøôÈáåÂÖà‰∏çÁÆ°Ôºö Êàë‰ª¨ÊîæÂºÄÊñ≠ÁÇπ‰πãÂêéÁúãÂà∞ÊñπÊ≥ïÊâßË°åÊäõÂá∫‰∫ÜÂºÇÂ∏∏ÔºåÂêåÊó∂Ë°®‰∏≠Êï∞ÊçÆÂèòÊàê‰∫Ü‰∏äÈù¢Ê≠£Â∏∏Êèê‰∫§ÁöÑÊï∞ÊçÆÔºåÂêåÊó∂undo_logË°®‰πüË¢´Ê∏ÖÁ©∫‰∫ÜÔºå‰ªéËøôÈáåÂèØ‰ª•ÁúãÂá∫seataÁ°ÆÂÆûÊòØÂ∏ÆÊàë‰ª¨ÂÆûÁé∞‰∫ÜÂàÜÂ∏ÉÂºè‰∫ãÂä°„ÄÇ ÁªìÊùüÂ•Ω‰∫ÜÔºåÁéØÂ¢ÉÂà∞ËøôÈáåÂ∞±Êê≠Âª∫ÁªìÊùü‰∫ÜÔºåÂÖ≥‰∫éseata‰ª£Á†Å‰∏äÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÁöÑÔºåÊàë‰ª¨ÊÖ¢ÊÖ¢Êù•ÂàÜÊûê~ ÂèÇËÄÉ Seata Wiki]]></content>
      <categories>
        <category>SeataÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>Seata</tag>
        <tag>ÂàÜÂ∏ÉÂºè‰∫ãÂä°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RocketMQÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîProducer]]></title>
    <url>%2F2019%2F06%2F15%2FRocketMQ%E6%BA%90%E7%A0%81%2FRocketMQ%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94Producer%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰ΩøÁî®MQÔºåÁ¨¨‰∏ÄÊ≠•ÊûÑÈÄ†ProducerÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÂºÄÂßãÂèëÈÄÅÊ∂àÊÅØÂï¶ÔºÅ ÂèëÈÄÅÊñπÂºèproducerÂèëÈÄÅÊ∂àÊÅØÊîØÊåÅ3ÁßçÊñπÂºèÔºåÂêåÊ≠•„ÄÅÂºÇÊ≠•ÂíåOneway„ÄÇ ÂêåÊ≠•ÂèëÈÄÅÔºöÂÆ¢Êà∑Á´ØÊèê‰∫§Ê∂àÊÅØÂà∞brokerÂêé‰ºöÁ≠âÂæÖËøîÂõûÁªìÊûú„ÄÇÊúâÂèØÈù†ÊÄß‰øùÈöú„ÄÇ ÂºÇÊ≠•ÂèëÈÄÅÔºöË∞ÉÁî®ÂèëÈÄÅÊé•Âè£Êó∂‰ºöÊ≥®ÂÜå‰∏Ä‰∏™callbackÁ±ªÔºåÂèëÈÄÅÁ∫øÁ®ãÁªßÁª≠ÂÖ∂ÂÆÉ‰∏öÂä°ÈÄªËæëÔºåproducerÂú®Êî∂Âà∞brokerÁªìÊûúÂêéÂõûË∞É„ÄÇÂΩìÊ∂àÊÅØÁªìÊûú‰∏çÂΩ±ÂìçÊ≠£Â∏∏‰∏öÂä°ÈÄªËæëÁöÑÊó∂ÂÄô‰ΩøÁî®„ÄÇ OnewayÔºöProducerÊèê‰∫§Ê∂àÊÅØÂêéÔºåÊó†ËÆ∫brokerÊòØÂê¶Ê≠£Â∏∏Êé•Êî∂Ê∂àÊÅØÈÉΩ‰∏çÂÖ≥ÂøÉ„ÄÇÈÄÇÂêà‰∫éËøΩÊ±ÇÈ´òÂêûÂêê„ÄÅËÉΩÂÆπÂøçÊ∂àÊÅØ‰∏¢Â§±ÁöÑÂú∫ÊôØÔºåÊØîÂ¶ÇÊó•ÂøóÊî∂ÈõÜ„ÄÇ ‰ΩøÁî®ÊñπÂºèÊàë‰ª¨‰∏ªË¶ÅËÆ≤ÂêåÊ≠•ÂèëÈÄÅÔºåÂºÇÊ≠•ÂèëÈÄÅÂíåOnewayÊñπÂºèÂíå‰∫ãÂä°Ê∂àÊÅØÂ∏¶ËøáÔºåÂêåÊ≠•ÂèëÈÄÅ‰æãÂ≠êÂ∞±ÊòØÁéØÂ¢ÉÊê≠Âª∫‰∏≠ProducerÁöÑ‰æãÂ≠êÔºö123456789101112131415161718192021222324252627public class Producer &#123; public static void main(String[] args) throws MQClientException, InterruptedException &#123; // ÂÆû‰æãÂåñ‰∏Ä‰∏™Producer DefaultMQProducer producer = new DefaultMQProducer("please_rename_unique_group_name"); // ÊåáÊòéNamesrv producer.setNamesrvAddr("127.0.0.1:9876"); producer.start(); for (int i = 0; i &lt; 1000; i++) &#123; try &#123; Message msg = new Message("TopicTest" /* Topic */, "TagA" /* Tag */, ("Hello RocketMQ " + i).getBytes(RemotingHelper.DEFAULT_CHARSET) /* Message body */ ); SendResult sendResult = producer.send(msg); System.out.printf("%s%n", sendResult); &#125; catch (Exception e) &#123; e.printStackTrace(); Thread.sleep(1000); &#125; &#125; producer.shutdown(); &#125;&#125; ‰∏äÈù¢Êàë‰ª¨ÂÆû‰æãÂåñ‰∏Ä‰∏™DefaultMQProducerÔºåËÆæÁΩÆgroup nameÂíånameservÁöÑÂú∞ÂùÄ„ÄÇProducerÂêØÂä®ÂêéÂ∞±ÂèØ‰ª•ÂæÄÊåáÂÆöÁöÑtopicÂèëÈÄÅÊ∂àÊÅØÂï¶ÔºÅ ProducerÂêØÂä®DefaultMQProducerÂàùÂßãÂåñ‰∏ãÈù¢‰ª£Á†Å:1234567891011121314151617181920212223242526272829// org.apache.rocketmq.client.producer.DefaultMQProducerpublic DefaultMQProducer(final String producerGroup) &#123; this(producerGroup, null);&#125;public DefaultMQProducer(final String producerGroup, RPCHook rpcHook) &#123; this.producerGroup = producerGroup; // DefaultMQProducerÂåÖË£Ö‰∫ÜDefaultMQProducerImpl defaultMQProducerImpl = new DefaultMQProducerImpl(this, rpcHook);&#125;public DefaultMQProducerImpl(final DefaultMQProducer defaultMQProducer, RPCHook rpcHook) &#123; this.defaultMQProducer = defaultMQProducer; this.rpcHook = rpcHook; // ÊûÑÈÄ†‰∫Ü‰∏Ä‰∏™ÂêåÊ≠•ÂèëÈÄÅÁ∫øÁ®ãÊ±† this.asyncSenderThreadPoolQueue = new LinkedBlockingQueue&lt;Runnable&gt;(50000); this.defaultAsyncSenderExecutor = new ThreadPoolExecutor( Runtime.getRuntime().availableProcessors(), Runtime.getRuntime().availableProcessors(), 1000 * 60, TimeUnit.MILLISECONDS, this.asyncSenderThreadPoolQueue, new ThreadFactory() &#123; private AtomicInteger threadIndex = new AtomicInteger(0); @Override public Thread newThread(Runnable r) &#123; return new Thread(r, "AsyncSenderExecutor_" + this.threadIndex.incrementAndGet()); &#125; &#125;);&#125; DefaultMQProducerÂêØÂä®‰∏ãÈù¢‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465// org.apache.rocketmq.client.producer.DefaultMQProducerpublic void start() throws MQClientException &#123; // Ë∞ÉÁî®ÂÆûÈôÖÁöÑÂÆûÁé∞Á±ª this.defaultMQProducerImpl.start(); if (null != traceDispatcher) &#123; try &#123; traceDispatcher.start(this.getNamesrvAddr()); &#125; catch (MQClientException e) &#123; log.warn("trace dispatcher start failed ", e); &#125; &#125;&#125;// org.apache.rocketmq.client.impl.producer.DefaultMQProducerImplpublic void start() throws MQClientException &#123; this.start(true);&#125;public void start(final boolean startFactory) throws MQClientException &#123; switch (this.serviceState) &#123; case CREATE_JUST: // Â¶ÇÊûú‰∏ãÈù¢ÁöÑËøáÁ®ã‰∏≠Âá∫Èîô‰∫ÜÔºåÈÇ£‰πàserviceStateÂ∞±‰∏∫START_FAILED this.serviceState = ServiceState.START_FAILED; // Ê£ÄÊü•group nameÊòØÂê¶ÂêàÈÄÇ this.checkConfig(); // Êõ¥ÊîπdefaultMQProducerÁöÑÂêçÁß∞‰∏∫ËøõÁ®ãid if (!this.defaultMQProducer.getProducerGroup().equals(MixAll.CLIENT_INNER_PRODUCER_GROUP)) &#123; this.defaultMQProducer.changeInstanceNameToPID(); &#125; // MQClientManager‰∏∫Âçï‰æãÔºåÂàõÂª∫mQClientFactory // ‰∏Ä‰∏™ËøõÁ®ãÂè™‰ºöÂ≠òÂú®‰∏Ä‰∏™MQClientInstanceÔºå ËÆæÁΩÆclientId ÔºàIP@PIDÔºâ this.mQClientFactory = MQClientManager.getInstance().getAndCreateMQClientInstance(this.defaultMQProducer, rpcHook); // ÂêëmQClientFactoryÊ≥®ÂÜådefaultMQProducer boolean registerOK = mQClientFactory.registerProducer(this.defaultMQProducer.getProducerGroup(), this); if (!registerOK) &#123; this.serviceState = ServiceState.CREATE_JUST; throw new MQClientException("The producer group[" + this.defaultMQProducer.getProducerGroup() + "] has been created before, specify another name please." + FAQUrl.suggestTodo(FAQUrl.GROUP_NAME_DUPLICATE_URL), null); &#125; // Ê∑ªÂä†ÈªòËÆ§ÁöÑtopicPublishInfo this.topicPublishInfoTable.put(this.defaultMQProducer.getCreateTopicKey(), new TopicPublishInfo()); if (startFactory) &#123; // Ê†∏ÂøÉ // ÂêØÂä®MQClientInstance mQClientFactory.start(); &#125; log.info("the producer [&#123;&#125;] start OK. sendMessageWithVIPChannel=&#123;&#125;", this.defaultMQProducer.getProducerGroup(), this.defaultMQProducer.isSendMessageWithVIPChannel()); // ÂêØÂä®ÂÆåÊàê this.serviceState = ServiceState.RUNNING; break; case RUNNING: case START_FAILED: case SHUTDOWN_ALREADY: throw new MQClientException("The producer service state not OK, maybe started once, " + this.serviceState + FAQUrl.suggestTodo(FAQUrl.CLIENT_SERVICE_NOT_OK), null); default: break; &#125; // ÂêëÊâÄÊúâbrokerÂèëÈÄÅ‰∏ÄÊ¨°ÂøÉË∑≥ this.mQClientFactory.sendHeartbeatToAllBrokerWithLock();&#125; Êàë‰ª¨ÁúãÂà∞DefaultMQProducer ÁöÑstartÁöÑËøáÁ®ã‰∏ªË¶ÅÂ∞±ÊòØÂàùÂßãÂåñÂíåÂêØÂä®‰∏Ä‰∏™MQClientInstanceÔºåÂ∞ÜproducerÊ≥®ÂÜåÂà∞instance‰∏≠„ÄÇÊàë‰ª¨Êù•Áúã‰∏ãMQClientInstanceÁöÑÂêØÂä®ËøáÁ®ã„ÄÇ MQClientInstanceÂêØÂä®‰∏ãÈù¢ÊòØÂêØÂä®‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839404142public void start() throws MQClientException &#123; synchronized (this) &#123; switch (this.serviceState) &#123; case CREATE_JUST: this.serviceState = ServiceState.START_FAILED; // If not specified,looking address from name server // Â¶ÇÊûúNameservAddr‰∏∫Á©∫ÔºåÂ∞ùËØï‰ªéhttp serverËé∑ÂèñnameservÁöÑÂú∞ÂùÄ // ËøôÈáåÁúãÂá∫ÈÄÇÂêà‰∫éÊúâÁªü‰∏ÄÈÖçÁΩÆ‰∏≠ÂøÉÁöÑÁ≥ªÁªü if (null == this.clientConfig.getNamesrvAddr()) &#123; this.mQClientAPIImpl.fetchNameServerAddr(); &#125; // Start request-response channel // ÂàùÂßãÂåñNettyÂÆ¢Êà∑Á´Ø this.mQClientAPIImpl.start(); // Start various schedule tasks // ÂºÄÂêØÂêÑÁßçÂÆöÊó∂‰ªªÂä° this.startScheduledTask(); // Start pull service // producerÂíåconsumerÂÖ¨Áî®‰∏Ä‰∏™MQClientInstanceÁöÑÂÆûÁé∞ // ÂºÄÂêØÊãâÊ∂àÊÅØÊúçÂä°(Consumer) this.pullMessageService.start(); // Start rebalance service // ÂºÄÂêØË¥üËΩΩÂùáË°°ÊúçÂä° this.rebalanceService.start(); // Start push service // ÂºÄÂêØProducer this.defaultMQProducer.getDefaultMQProducerImpl().start(false); log.info("the client factory [&#123;&#125;] start OK", this.clientId); // Êõ¥ÊîπclientÁä∂ÊÄÅ this.serviceState = ServiceState.RUNNING; break; case RUNNING: break; case SHUTDOWN_ALREADY: break; case START_FAILED: throw new MQClientException("The Factory object[" + this.getClientId() + "] has been created before, and failed.", null); default: break; &#125; &#125; Êàë‰ª¨ÂèØ‰ª•ÁúãÁúãÂÆÉËµ∑‰∫ÜÂì™‰∫õÂÆöÊó∂‰ªªÂä°Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869private void startScheduledTask() &#123; if (null == this.clientConfig.getNamesrvAddr()) &#123; // Ëé∑ÂèñnameservÂú∞ÂùÄ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; MQClientInstance.this.mQClientAPIImpl.fetchNameServerAddr(); &#125; catch (Exception e) &#123; log.error("ScheduledTask fetchNameServerAddr exception", e); &#125; &#125; &#125;, 1000 * 10, 1000 * 60 * 2, TimeUnit.MILLISECONDS); &#125; // ‰ªénameservÊõ¥Êñ∞topicRouteInfo this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; MQClientInstance.this.updateTopicRouteInfoFromNameServer(); &#125; catch (Exception e) &#123; log.error("ScheduledTask updateTopicRouteInfoFromNameServer exception", e); &#125; &#125; &#125;, 10, this.clientConfig.getPollNameServerInterval(), TimeUnit.MILLISECONDS); // Ê∏ÖÈô§Â∑≤Áªè‰∏ãÁ∫øÁöÑbrokerÔºåÂπ∂ÂèëÈÄÅÂøÉË∑≥ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; MQClientInstance.this.cleanOfflineBroker(); MQClientInstance.this.sendHeartbeatToAllBrokerWithLock(); &#125; catch (Exception e) &#123; log.error("ScheduledTask sendHeartbeatToAllBroker exception", e); &#125; &#125; &#125;, 1000, this.clientConfig.getHeartbeatBrokerInterval(), TimeUnit.MILLISECONDS); // ÊåÅ‰πÖÂåñÊ∂àË¥πËÄÖÁöÑOffset(Consumer) this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; MQClientInstance.this.persistAllConsumerOffset(); &#125; catch (Exception e) &#123; log.error("ScheduledTask persistAllConsumerOffset exception", e); &#125; &#125; &#125;, 1000 * 10, this.clientConfig.getPersistConsumerOffsetInterval(), TimeUnit.MILLISECONDS); // Âä®ÊÄÅË∞ÉÊï¥Ê∂àË¥πËÄÖÁöÑÁ∫øÁ®ãÊ±†ÔºàConsumerÔºâ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; try &#123; MQClientInstance.this.adjustThreadPool(); &#125; catch (Exception e) &#123; log.error("ScheduledTask adjustThreadPool exception", e); &#125; &#125; &#125;, 1, 1, TimeUnit.MINUTES);&#125; Âà∞ËøôÈáåÔºåÊàë‰ª¨ÁöÑProducerÂ∞±ÂêØÂä®ÂÆåÊàê‰∫ÜÔºåÊé•‰∏ãÊù•Êàë‰ª¨Â∞±ÂèØ‰ª•ÁúãÁúãÂÆÉÊòØÊÄé‰πàÂèëÈÄÅÊ∂àÊÅØÂï¶ÔºÅ Ê∂àÊÅØÂèëÈÄÅProducerÈªòËÆ§ÈááÁî®ÂêåÊ≠•ÊñπÂºèÂèëÈÄÅÊ∂àÊÅØÔºåÂ¶ÇÊàë‰ª¨ÁöÑÁ§∫‰æãÔºåÊé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãËøô‰∏™ÊñπÊ≥ïDefaultMQProducer.send( Message msg)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293// org.apache.rocketmq.client.producer.DefaultMQProducerpublic SendResult send( Message msg) throws MQClientException, RemotingException, MQBrokerException, InterruptedException &#123; return this.defaultMQProducerImpl.send(msg);&#125;// org.apache.rocketmq.client.producer.defaultMQProducerImpl// Ë∂ÖÊó∂Êó∂Èó¥3Áßípublic SendResult send( Message msg) throws MQClientException, RemotingException, MQBrokerException, InterruptedException &#123; return send(msg, this.defaultMQProducer.getSendMsgTimeout());&#125;// ÂèØ‰ª•ÁúãÂà∞ÈªòËÆ§ÈááÁî®ÂêåÊ≠•ÊñπÂºèpublic SendResult send(Message msg, long timeout) throws MQClientException, RemotingException, MQBrokerException, InterruptedException &#123; return this.sendDefaultImpl(msg, CommunicationMode.SYNC, null, timeout);&#125;// ÂÆûÈôÖÂèëÈÄÅÈÄªËæëprivate SendResult sendDefaultImpl( Message msg, final CommunicationMode communicationMode, final SendCallback sendCallback, final long timeout) throws MQClientException, RemotingException, MQBrokerException, InterruptedException &#123; // Ê£ÄÊü•clientÁä∂ÊÄÅÊòØÂê¶ÊòØruning this.makeSureStateOK(); // ÂèÇÊï∞Ê†°È™åÔºåÊ∂àÊÅØ‰∏çËÉΩÂèëÁªôÁ≥ªÁªüÈ¢ÑÁïôÁöÑtopicÔºåÊ∂àÊÅØ‰Ωì‰∏çËÉΩË∂ÖËøáÊúÄÂ§ßÈïøÂ∫¶4MÔºåÊàñËÄÖÊòØÁ©∫Ê∂àÊÅØ Validators.checkMessage(msg, this.defaultMQProducer); final long invokeID = random.nextLong(); long beginTimestampFirst = System.currentTimeMillis(); long beginTimestampPrev = beginTimestampFirst; long endTimestamp = beginTimestampFirst; // Ê†πÊçÆÊ∂àÊÅØÁöÑtopicÔºåËé∑ÂèñËØ•topicÁöÑË∑ØÁî±‰ø°ÊÅØ TopicPublishInfo topicPublishInfo = this.tryToFindTopicPublishInfo(msg.getTopic()); if (topicPublishInfo != null &amp;&amp; topicPublishInfo.ok()) &#123; boolean callTimeout = false; MessageQueue mq = null; Exception exception = null; SendResult sendResult = null; // ÈáçËØïÊ¨°Êï∞ÔºåÂêåÊ≠•Ê®°Âºè‰∏ãÈªòËÆ§‰∏∫3Ê¨° int timesTotal = communicationMode == CommunicationMode.SYNC ? 1 + this.defaultMQProducer.getRetryTimesWhenSendFailed() : 1; int times = 0; String[] brokersSent = new String[timesTotal]; for (; times &lt; timesTotal; times++) &#123; // ËÆ∞ÂΩï‰∏äÊ¨°ÁöÑÂèëÈÄÅÁöÑbroker String lastBrokerName = null == mq ? null : mq.getBrokerName(); // ‰ªéÊâÄÊúâtopicÂèØÁî®queue‰∏≠ÈÄâÊã©‰∏Ä‰∏™queueÔºåÊúâ‰∏çÂêåÁöÑÁ≠ñÁï• MessageQueue mqSelected = this.selectOneMessageQueue(topicPublishInfo, lastBrokerName); if (mqSelected != null) &#123; mq = mqSelected; // ËÆ∞ÂΩï‰∏ãÂΩìÂâçÁöÑbroker brokersSent[times] = mq.getBrokerName(); try &#123; beginTimestampPrev = System.currentTimeMillis(); long costTime = beginTimestampPrev - beginTimestampFirst; if (timeout &lt; costTime) &#123; callTimeout = true; break; &#125; // ÂèëÈÄÅÊ∂àÊÅØ sendResult = this.sendKernelImpl(msg, mq, communicationMode, sendCallback, topicPublishInfo, timeout - costTime); endTimestamp = System.currentTimeMillis(); // Êõ¥Êñ∞Êú¨Ê¨°Ë∞ÉÁî®Êó∂Èó¥Âà∞MQFaultStrategy‰∏≠ this.updateFaultItem(mq.getBrokerName(), endTimestamp - beginTimestampPrev, false); switch (communicationMode) &#123; // ÂºÇÊ≠•ÂíåONEWAYÊñπÂºèË∞ÉÁî®ÂêéÂ∞±Áõ¥Êé•ËøîÂõû‰∫Ü case ASYNC: return null; case ONEWAY: return null; case SYNC: // ÂèëÈÄÅÊ≤°ÊàêÂäü if (sendResult.getSendStatus() != SendStatus.SEND_OK) &#123; // Â¶ÇÊûúbrokerÂ≠òÂÇ®Â§±Ë¥•ÔºåÂà§Êñ≠ÊòØÂê¶Ë¶ÅÈáçËØï if (this.defaultMQProducer.isRetryAnotherBrokerWhenNotStoreOK()) &#123; continue; &#125; &#125; return sendResult; default: break; &#125; &#125; catch (RemotingException e) &#123; // ÁúÅÁï•ÂºÇÂ∏∏ &#125; &#125; // ÊàêÂäüÂàôËøîÂõûÁªìÊûú if (sendResult != null) &#123; return sendResult; &#125; // ÁúÅÁï•‰∏çÈáçË¶ÅÈÄªËæë&#125; ‰∏äÈù¢ÂÆåÊï¥ÁöÑÂèëÈÄÅÈÄªËæë‰ø°ÊÅØÈáèËøòÊòØÊØîËæÉÂ§ßÁöÑÔºåÊàë‰ª¨ÂÖ∑‰ΩìÁúãÁúãÂá†‰∏™ÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇ Ëé∑ÂèñtopicË∑ØÁî±‰ø°ÊÅØÂÖ≥Ê≥®DefaultMQProducerImpl#tryToFindTopicPublishInfo()ÊñπÊ≥ï:1234567891011121314151617181920private TopicPublishInfo tryToFindTopicPublishInfo(final String topic) &#123; // ‰ªéÊú¨Âú∞ÁºìÂ≠òËé∑ÂèñÔºå‰πãÂâçÁúãÂà∞ËøáÊúâÂÆöÊó∂‰ªªÂä°‰ºöÂÆöÊó∂Êõ¥Êñ∞Ëøô‰∏™ÁºìÂ≠ò TopicPublishInfo topicPublishInfo = this.topicPublishInfoTable.get(topic); if (null == topicPublishInfo || !topicPublishInfo.ok()) &#123; // Â¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂàô‰ªéNamesrvÂä†ÈîÅÊõ¥Êñ∞TopicRouteInfo Ôºå‰ΩøÁî®Netty this.topicPublishInfoTable.putIfAbsent(topic, new TopicPublishInfo()); this.mQClientFactory.updateTopicRouteInfoFromNameServer(topic); topicPublishInfo = this.topicPublishInfoTable.get(topic); &#125; if (topicPublishInfo.isHaveTopicRouterInfo() || topicPublishInfo.ok()) &#123; // Ëã•Ëé∑ÂèñÁöÑ TopicÂèëÂ∏É‰ø°ÊÅØÊó∂ÂÄôÂèØÁî®ÔºåÂàôËøîÂõû return topicPublishInfo; &#125; else &#123; // ÂΩì‰ªéNamesrvËé∑Âèñ‰∏çÂà∞Êó∂ÔºåÂ¶ÇÊûúÂÖÅËÆ∏brokerËá™Âä®ÂàõÂª∫topic‰ø°ÊÅØÂàôËá™Âä®ÂàõÂª∫Âπ∂Êõ¥Êñ∞ this.mQClientFactory.updateTopicRouteInfoFromNameServer(topic, true, this.defaultMQProducer); topicPublishInfo = this.topicPublishInfoTable.get(topic); return topicPublishInfo; &#125;&#125; QueueÈÄâÂèñÁ≠ñÁï•QueueÁöÑÈÄâÂèñÊòØÈááÁî®ËΩÆËØ¢ÁöÑÊñπÂºèÔºåÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÂºÄÂêØÂª∂ËøüÂÆπÈîôÔºåÈÇ£‰πàÂú®ËΩÆËØ¢ÁöÑÊó∂ÂÄô‰ºöÂä†ÂÖ•brokerÂèØÁî®ÊÄßÁöÑÂà§Êñ≠„ÄÇÂÖ≥Ê≥®DefaultMQProducerImpl#selectOneMessageQueue()ÊñπÊ≥ï:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849private MQFaultStrategy mqFaultStrategy = new MQFaultStrategy();public MessageQueue selectOneMessageQueue(final TopicPublishInfo tpInfo, final String lastBrokerName) &#123; return this.mqFaultStrategy.selectOneMessageQueue(tpInfo, lastBrokerName);&#125;// org.apache.rocketmq.client.latency.MQFaultStrategypublic MessageQueue selectOneMessageQueue(final TopicPublishInfo tpInfo, final String lastBrokerName) &#123; // Â¶ÇÊûúÂºÄÂêØ‰∫ÜÂª∂Êó∂ÂÆπÈîô if (this.sendLatencyFaultEnable) &#123; try &#123; // È¶ñÂÖàËé∑Âèñ‰∏äÊ¨°‰ΩøÁî®ÁöÑQueue index+1ÔºåËøô‰∏™indexÊòØÊîæÂú®ThreadLocal‰∏ã // ÂÆûÁé∞‰∫ÜËΩÆËØ¢ÁöÑÊïàÊûúÔºå‰ΩÜÊòØÂú®ÈáçËØïÁöÑÊó∂ÂÄôÊòØ‰∏∫‰∫ÜÈÄâÊã©‰∏ä‰∏ÄÊ¨°ÂèëÈÄÅÁöÑbroker int index = tpInfo.getSendWhichQueue().getAndIncrement(); for (int i = 0; i &lt; tpInfo.getMessageQueueList().size(); i++) &#123; int pos = Math.abs(index++) % tpInfo.getMessageQueueList().size(); if (pos &lt; 0) pos = 0; // ÊâæÂà∞indexÂØπÂ∫îÁöÑqueue MessageQueue mq = tpInfo.getMessageQueueList().get(pos); // Â¶ÇÊûúqueueÂØπÂ∫îÁöÑbrokerÂèØÁî®ÔºàÊ†πÊçÆfaultItemTableÂà§Êñ≠ÔºâÔºåÂàô‰ΩøÁî®ËØ•broker if (latencyFaultTolerance.isAvailable(mq.getBrokerName())) &#123; // Á¨¨‰∏ÄÊ¨°ÂèëÈÄÅÊàñËÄÖÊòØÈáçËØïÔºåÁõ¥Êé•ÈÄâ if (null == lastBrokerName || mq.getBrokerName().equals(lastBrokerName)) return mq; &#125; &#125; // Â¶ÇÊûúÊ≤°Êâæ‰∏™ÂêàÈÄÇÁöÑbrokerÔºåÂàô‰ªéÊâÄÊúâÁöÑbroker‰∏≠ÈÄâÊã©‰∏Ä‰∏™Áõ∏ÂØπÂêàÈÄÇÁöÑÔºåÂπ∂‰∏îÊòØÂèØÂÜôÁöÑbroker // Áõ∏ÂØπÂêàÈÄÇÊòØÊåá ÂèØÁî®/Âª∂Ëøü‰Ωé/‰∏äÊ¨°‰∏çÂèØÁî®Êó∂Èó¥Êó© final String notBestBroker = latencyFaultTolerance.pickOneAtLeast(); int writeQueueNums = tpInfo.getQueueIdByBroker(notBestBroker); if (writeQueueNums &gt; 0) &#123; final MessageQueue mq = tpInfo.selectOneMessageQueue(); if (notBestBroker != null) &#123; mq.setBrokerName(notBestBroker); mq.setQueueId(tpInfo.getSendWhichQueue().getAndIncrement() % writeQueueNums); &#125; return mq; &#125; else &#123; latencyFaultTolerance.remove(notBestBroker); &#125; &#125; catch (Exception e) &#123; log.error("Error occurred when selecting message queue", e); &#125; return tpInfo.selectOneMessageQueue(); &#125; // Êú™ÂºÄÂêØÂª∂Êó∂ÂÆπÈîôÔºåÁõ¥Êé•ÊåâÈ°∫Â∫èÈÄâ‰∏ã‰∏Ä‰∏™ return tpInfo.selectOneMessageQueue(lastBrokerName);&#125; ÂÖ≥‰∫équeueÈÄâÊã©ÊúâÂæàÂ§öÁªÜËäÇÂèØ‰ª•ËØ¥ÔºåÁúã‰ª•ÂêéÊòØ‰∏çÊòØÂçïÁã¨ÊãéÂá∫Êù•ËØ¥‰∏Ä‰∏ãÔºåËøôÈáåÁªô‰∏™Âª∂ËøüÁöÑÁªìËÆ∫ÔºöÂΩìÂèëÈÄÅÊó∂Èïø‰Ωé‰∫é100msÊó∂ÔºåËÆæÁΩÆbroker‰∏çÂèØÁî®Êó∂Èïø‰∏∫0Ôºå‰πãÂêé‰æùÊ¨°Â¢ûÂä†ÔºåÂ¶ÇÊûúË∂ÖËøá15ÁßíÔºåÂàôÊúâ10ÂàÜÈíü‰∏çÂèØÁî®„ÄÇÂèØ‰ª•ÁúãÂà∞Â¶ÇÊûú‰∏äÊ¨°ÂèëÈÄÅÂ§±Ë¥•ÁöÑËØùÔºå‰πüÊòØ10ÂàÜÈíü‰∏çÂèØÁî®ÔºåÂ¶ÇÊûúÈáçËØïËÇØÂÆö‰∏ç‰ºöÈÄâÊã©Áõ∏ÂêåÁöÑbrokerÔºåÂç≥‰∏ç‰ºöÈÄâÊã©‰∏çÂèØÁî®ÁöÑbroker„ÄÇ Ê∂àÊÅØÂèëÈÄÅÂÖ≥Ê≥®DefaultMQProducerImpl#sendKernelImpl()ÊñπÊ≥ï:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138private SendResult sendKernelImpl(final Message msg, final MessageQueue mq, final CommunicationMode communicationMode, final SendCallback sendCallback, final TopicPublishInfo topicPublishInfo, final long timeout) throws MQClientException, RemotingException, MQBrokerException, InterruptedException &#123; long beginStartTime = System.currentTimeMillis(); // Ê†πÊçÆbrokerName‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñbrokerÁöÑÂú∞ÂùÄ String brokerAddr = this.mQClientFactory.findBrokerAddressInPublish(mq.getBrokerName()); // Â¶ÇÊûúÂú∞ÂùÄ‰∏∫Á©∫ÔºåÂàô‰ªénamesrv‰∏≠ÂÜçËé∑Âèñ‰∏ÄÊ¨° if (null == brokerAddr) &#123; tryToFindTopicPublishInfo(mq.getTopic()); // ÈáçÊñ∞Ëé∑Âèñ brokerAddr = this.mQClientFactory.findBrokerAddressInPublish(mq.getBrokerName()); &#125; SendMessageContext context = null; if (brokerAddr != null) &#123; // ÂàáÊç¢Âà∞VIP channel // BrokerÂêØÂä®Êó∂‰ºöÂºÄÂêØ2‰∏™Á´ØÂè£Êé•Êî∂ÂÆ¢Êà∑Á´ØÊï∞ÊçÆÔºåÂÖ∂‰∏≠‰∏Ä‰∏™Á´ØÂè£Âè™Êé•Êî∂producerÁöÑÊ∂àÊÅØÔºå‰∏çÊé•ÂèóconsumerÁöÑÊãâÂèñËØ∑Ê±ÇÔºåË¢´Áß∞‰∏∫VIP channel brokerAddr = MixAll.brokerVIPChannel(this.defaultMQProducer.isSendMessageWithVIPChannel(), brokerAddr); byte[] prevBody = msg.getBody(); try &#123; //for MessageBatch,ID has been set in the generating process // Â¶ÇÊûú‰∏çÊòØÊâπÈáèÂèëÈÄÅÂàôÂÆ¢Êà∑Á´ØËÆæÁΩÆÁöÑid if (!(msg instanceof MessageBatch)) &#123; MessageClientIDSetter.setUniqID(msg); &#125; int sysFlag = 0; boolean msgBodyCompressed = false; // Â¶ÇÊûúÊ∂àÊÅØbodyËøáÈïøÔºåÂàôÂéãÁº©Âπ∂ËÆæÁΩÆÊ†áËÆ∞‰Ωç if (this.tryToCompressMessage(msg)) &#123; sysFlag |= MessageSysFlag.COMPRESSED_FLAG; msgBodyCompressed = true; &#125; // ‰∫ãÂä°Ê∂àÊÅØÊ†áËÆ∞ final String tranMsg = msg.getProperty(MessageConst.PROPERTY_TRANSACTION_PREPARED); if (tranMsg != null &amp;&amp; Boolean.parseBoolean(tranMsg)) &#123; sysFlag |= MessageSysFlag.TRANSACTION_PREPARED_TYPE; &#125; // ÁúÅÁï•‰∏çÈáçË¶ÅÈÄªËæë // ËÆæÁΩÆÊ∂àÊÅØÂ§¥ SendMessageRequestHeader requestHeader = new SendMessageRequestHeader(); requestHeader.setProducerGroup(this.defaultMQProducer.getProducerGroup()); requestHeader.setTopic(msg.getTopic()); requestHeader.setDefaultTopic(this.defaultMQProducer.getCreateTopicKey()); requestHeader.setDefaultTopicQueueNums(this.defaultMQProducer.getDefaultTopicQueueNums()); requestHeader.setQueueId(mq.getQueueId()); requestHeader.setSysFlag(sysFlag); requestHeader.setBornTimestamp(System.currentTimeMillis()); requestHeader.setFlag(msg.getFlag()); requestHeader.setProperties(MessageDecoder.messageProperties2String(msg.getProperties())); requestHeader.setReconsumeTimes(0); requestHeader.setUnitMode(this.isUnitMode()); requestHeader.setBatch(msg instanceof MessageBatch); // Ë¶ÅÊ±ÇÈáçÊñ∞ÂèëÈÄÅÁöÑÊ∂àÊÅØÔºåËÆæÁΩÆÈáçËØïÊ¨°Êï∞ÂíåÂª∂Êó∂Êó∂Èó¥ if (requestHeader.getTopic().startsWith(MixAll.RETRY_GROUP_TOPIC_PREFIX)) &#123; String reconsumeTimes = MessageAccessor.getReconsumeTime(msg); if (reconsumeTimes != null) &#123; requestHeader.setReconsumeTimes(Integer.valueOf(reconsumeTimes)); MessageAccessor.clearProperty(msg, MessageConst.PROPERTY_RECONSUME_TIME); &#125; String maxReconsumeTimes = MessageAccessor.getMaxReconsumeTimes(msg); if (maxReconsumeTimes != null) &#123; requestHeader.setMaxReconsumeTimes(Integer.valueOf(maxReconsumeTimes)); MessageAccessor.clearProperty(msg, MessageConst.PROPERTY_MAX_RECONSUME_TIMES); &#125; &#125; SendResult sendResult = null; // ÈÄöËøáNettyClientÂèëÈÄÅÊ∂àÊÅØÂà∞Broker switch (communicationMode) &#123; case ASYNC: Message tmpMessage = msg; if (msgBodyCompressed) &#123; //If msg body was compressed, msgbody should be reset using prevBody. //Clone new message using commpressed message body and recover origin massage. //Fix bug:https://github.com/apache/rocketmq-externals/issues/66 tmpMessage = MessageAccessor.cloneMessage(msg); msg.setBody(prevBody); &#125; long costTimeAsync = System.currentTimeMillis() - beginStartTime; if (timeout &lt; costTimeAsync) &#123; throw new RemotingTooMuchRequestException("sendKernelImpl call timeout"); &#125; // ÂÆûÈôÖÂèëÈÄÅÊ∂àÊÅØÁöÑ‰ΩçÁΩÆ sendResult = this.mQClientFactory.getMQClientAPIImpl().sendMessage( brokerAddr, mq.getBrokerName(), tmpMessage, requestHeader, timeout - costTimeAsync, communicationMode, sendCallback, topicPublishInfo, this.mQClientFactory, this.defaultMQProducer.getRetryTimesWhenSendAsyncFailed(), context, this); break; case ONEWAY: case SYNC: long costTimeSync = System.currentTimeMillis() - beginStartTime; if (timeout &lt; costTimeSync) &#123; throw new RemotingTooMuchRequestException("sendKernelImpl call timeout"); &#125; sendResult = this.mQClientFactory.getMQClientAPIImpl().sendMessage( brokerAddr, mq.getBrokerName(), msg, requestHeader, timeout - costTimeSync, communicationMode, context, this); break; default: assert false; break; &#125; if (this.hasSendMessageHook()) &#123; context.setSendResult(sendResult); this.executeSendMessageHookAfter(context); &#125; return sendResult; &#125; catch (RemotingException e) &#123; // ... ÁúÅÁï•ÂºÇÂ∏∏Â§ÑÁêÜ &#125; finally &#123; msg.setBody(prevBody); &#125; &#125; throw new MQClientException("The broker[" + mq.getBrokerName() + "] not exist", null);&#125; Âà∞ËøôÈáåÂ∞±ÁªìÊùü‰∫ÜÔºÅÈô§‰∫ÜÈòüÂàóÈÄâÊã©ÈÄªËæëÊúâÁÇπÂ§çÊùÇÔºåÂÖ∂‰ªñËøòÂ•ΩÔºå‰ΩÜÊòØËøòÊòØË¶ÅÂ•ΩÂ•ΩÂéª‰Ωì‰ºö~ ÂèÇËÄÉ RocketMQÊ∫êÁ†ÅËß£Êûê(‰∏â)-Producer RocketMQÊ∫êÁ†ÅËß£ËØª‚Äî‚ÄîÊ∂àÊÅØÂèëÈÄÅ‰πãÈÄâÊã©ÈòüÂàóÂπ∂ÂèëÈÄÅ]]></content>
      <categories>
        <category>RocketMQÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>RocketMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RocketMQÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîNamesrv]]></title>
    <url>%2F2019%2F06%2F09%2FRocketMQ%E6%BA%90%E7%A0%81%2FRocketMQ%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94Namesrv%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöNameSrvÊòØRocketMQÁöÑÊ≥®ÂÜå‰∏≠ÂøÉÔºå‰øùÂ≠òÊâÄÊúâBroker„ÄÅTopicÁöÑÂÖÉÊï∞ÊçÆ„ÄÇBrokerÂêØÂä®Âêé‰ºöÂêënamesrvÂèëÈÄÅÂøÉË∑≥Ôºånamesrv‰πü‰ºöÂÆöÊó∂Ê£ÄÊµãbrokerÁöÑÂèØÁî®ÊÄßÔºåÂπ∂ÁßªÈô§‰∏çÂèØÁî®ÁöÑbroker„ÄÇÂØπ‰∫éÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÊù•ËØ¥ÔºåÂÆÉÊèê‰æõ‰∫ÜBrokerÁöÑÊü•ËØ¢ÊúçÂä°„ÄÇ NameSrvÂêØÂä®Êàë‰ª¨ÊåâÁÖßÊåâÁÖß‰∏ä‰∏ÄÁØáÁéØÂ¢ÉÊê≠Âª∫ÁöÑ#org.apache.rocketmq.namesrv.NameServerInstanceTestÂá∫ÂèëÔºåÊàë‰ª¨ÁúãÂà∞MainÂáΩÊï∞ÔºåÂ¶Ç‰∏ãÔºö1234567891011public static void main(String[] args) throws Exception &#123; NamesrvConfig namesrvConfig1 = new NamesrvConfig(); NettyServerConfig nettyServerConfig1 = new NettyServerConfig(); nettyServerConfig1.setListenPort(9876); NamesrvController nameSrvController1 = new NamesrvController(namesrvConfig1, nettyServerConfig1); nameSrvController1.initialize(); nameSrvController1.start(); // ‰∏çËÆ©‰∏ªÊñπÊ≥ïÁªìÊùü Thread.sleep(DateUtils.MILLIS_PER_DAY);&#125; Êàë‰ª¨ÂèëÁé∞‰∏ªË¶ÅÊúâ‰∏â‰∏™Ê≠•È™§Ôºö ÊûÑÈÄ†NamesrvController ÂàùÂßãÂåñNamesrvController ÂêØÂä®NamesrvController ÂèØËßÅNamesrvControllerÊòØÂÖ≥ÈîÆÔºåË¥üË¥£ÂàùÂßãÂåñÂíåÂêéÂè∞‰ªªÂä°ÂêØÂä®„ÄÇ ÊûÑÈÄ†NamesrvControllerorg.apache.rocketmq.namesrv.NamesrvControllerÁöÑÊûÑÈÄ†ÂáΩÊï∞Â¶Ç‰∏ãÔºö123456789101112131415161718public NamesrvController(NamesrvConfig namesrvConfig, NettyServerConfig nettyServerConfig) &#123; // namesrvÂèÇÊï∞ÈÖçÁΩÆ this.namesrvConfig = namesrvConfig; // nettyÁöÑÂèÇÊï∞ÈÖçÁΩÆ this.nettyServerConfig = nettyServerConfig; // KVConfigManagerÁªëÂÆöNamesrvController this.kvConfigManager = new KVConfigManager(this); // ÂàùÂßãÂåñRouteInfoManagerÔºåÂæàÈáçË¶Å this.routeInfoManager = new RouteInfoManager(); // ÁõëÂê¨ÂÆ¢Êà∑Á´ØËøûÊé•(Channel)ÁöÑÂèòÂåñÔºåÈÄöÁü•RouteInfoManagerÊ£ÄÊü•brokerÊòØÂê¶ÊúâÂèòÂåñ this.brokerHousekeepingService = new BrokerHousekeepingService(this); this.configuration = new Configuration( log, this.namesrvConfig, this.nettyServerConfig ); // namesrvÁöÑÈÖçÁΩÆÂèÇÊï∞‰ºö‰øùÂ≠òÂà∞Á£ÅÁõòÊñá‰ª∂‰∏≠ this.configuration.setStorePathFromConfig(this.namesrvConfig, "configStorePath");&#125; ÂÖ∂‰∏≠‰∏ªË¶ÅÁöÑÂ∞±ÊòØorg.apache.rocketmq.namesrv.routeinfo.RouteInfoManager ÂÆÉË¥üË¥£ÁºìÂ≠òÊï¥‰∏™ÈõÜÁæ§ÁöÑbroker‰ø°ÊÅØÔºå‰ª•ÂèätopicÂíåqueueÁöÑÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇÊàë‰ª¨ÁúãÁúãÁöÑÂÜÖÈÉ®ÊûÑÈÄ†Ôºö1234567891011121314// ËØªÂÜôÈîÅÔºåÊéßÂà∂Âπ∂ÂèëËØªÂÜôprivate final ReadWriteLock lock = new ReentrantReadWriteLock();// TopicÂíåBrokerÁöÑQueueÁöÑMapÔºå‰øùÂ≠ò‰∫ÜtopicÂú®ÊØè‰∏™broker‰∏äÁöÑËØªÂÜôQueueÁöÑ‰∏™Êï∞private final HashMap&lt;String/* topic */, List&lt;QueueData&gt;&gt; topicQueueTable;// Ê≥®ÂÜåÂà∞namesrv‰∏äÁöÑÊâÄÊúâBrokerÔºåÊåâÁÖßbrokernameÂàÜÁªÑÔºåBroker‰ΩøÁî®brokerNameÊù•Ê†áËØÜ‰∏ª‰ªéÂÖ≥Á≥ªprivate final HashMap&lt;String/* brokerName */, BrokerData&gt; brokerAddrTable;// brokerÁöÑÈõÜÁæ§ÂØπÂ∫îÂÖ≥Á≥ªÔºå‰ΩøÁî®clusterNameÊù•Âà§Êñ≠Â§ö‰∏™brokerÊòØ‰∏çÊòØÂ±û‰∫éÂêå‰∏Ä‰∏™ÈõÜÁæ§„ÄÇ// ÂØπ‰∫éÂêå‰∏Ä‰∏™cluster‰∏ãÁöÑbrokerÔºåproducerÂú®ÂèëÈÄÅÊ∂àÊÅØÊó∂Âè™‰ºöÈÄâÊã©ÂèëÈÄÅÁªôÂÖ∂‰∏≠‰∏Ä‰∏™private final HashMap&lt;String/* clusterName */, Set&lt;String/* brokerName */&gt;&gt; clusterAddrTable;// brokerÊúÄÊñ∞ÁöÑÂøÉË∑≥Êó∂Èó¥ÂíåÈÖçÁΩÆÁâàÊú¨Âè∑Ôºånameserv‰ºöËÆ∞ÂΩïbrokerAddrÁöÑÊúÄÂêéÊ¥ªË∑ÉÊó∂Èó¥Ôºå// Â¶ÇÊûúË∂ÖËøá‰∏ÄÂÆöÊó∂Èó¥Ê≤°ÊúâÂøÉË∑≥ÊàñÂÖ∂‰ªñÊï∞ÊçÆ‰∫§‰∫íÔºå‰ºöËÆ§‰∏∫brokerÂ∑≤‰∏ãÁ∫øprivate final HashMap&lt;String/* brokerAddr */, BrokerLiveInfo&gt; brokerLiveTable;// brokerÂíåFilterServerÁöÑÂØπÂ∫îÂÖ≥Á≥ªprivate final HashMap&lt;String/* brokerAddr */, List&lt;String&gt;/* Filter Server */&gt; filterServerTable; RouteInfoManagerÁöÑÊâÄÊúâÊï∞ÊçÆÈÄöËøáHashMapÁºìÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÈÄöËøáËØªÂÜôÈîÅÊù•ÊéßÂà∂Âπ∂ÂèëÊõ¥Êñ∞„ÄÇËøôÊ†∑ÂèØÊúÄÂ§ßÁ®ãÂ∫¶ÁöÑÊèêÈ´òÂÆ¢Êà∑Á´ØÊü•ËØ¢Êï∞ÊçÆÁöÑÈÄüÂ∫¶„ÄÇ ÂàùÂßãÂåñNamesrvControllerÊàë‰ª¨ÁúãÁúãÂÆÉÁöÑÂàùÂßãÂåñÊñπÊ≥ïÔºö1234567891011121314151617181920212223242526272829303132333435public boolean initialize() &#123; // ÂàùÂßãÂåñKVConfigManager this.kvConfigManager.load(); // ÂàùÂßãÂåñnetty server this.remotingServer = new NettyRemotingServer(this.nettyServerConfig, this.brokerHousekeepingService); // ÂàùÂßãÂåñÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÂ§ÑÁêÜÁöÑÁ∫øÁ®ãÊ±† this.remotingExecutor = Executors.newFixedThreadPool(nettyServerConfig.getServerWorkerThreads(), new ThreadFactoryImpl("RemotingExecutorThread_")); // Ê≥®ÂÜåDefaultRequestProcessorÔºåÊâÄÊúâÁöÑÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÈÉΩ‰ºöËΩ¨ÁªôËøô‰∏™ProcessorÊù•Â§ÑÁêÜ // ÂÆÉÁöÑÈÄªËæëÂà∞Êó∂ÂÄô‰ºöÂá∫Áé∞Âú®NettyServerHandlerÈáå this.registerProcessor(); // ÂêØÂä®ÂÆöÊó∂Ë∞ÉÂ∫¶ÔºåÊØè10ÁßíÈíüÊâ´ÊèèÊâÄÊúâBrokerÔºåÊ£ÄÊü•Â≠òÊ¥ªÁä∂ÊÄÅ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; NamesrvController.this.routeInfoManager.scanNotActiveBroker(); &#125; &#125;, 5, 10, TimeUnit.SECONDS); // Êó•ÂøóÊâìÂç∞ÁöÑË∞ÉÂ∫¶Âô®ÔºåÂÆöÊó∂ÊâìÂç∞kvConfigManagerÁöÑÂÜÖÂÆπ this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() &#123; @Override public void run() &#123; NamesrvController.this.kvConfigManager.printAllPeriodically(); &#125; &#125;, 1, 10, TimeUnit.MINUTES); // ÁõëÂê¨sslËØÅ‰π¶Êñá‰ª∂ÂèòÂåñ if (TlsSystemConfig.tlsMode != TlsMode.DISABLED) &#123; // Register a listener to reload SslContext // ÁúÅÁï•Êó†Áî®ÈÄªËæë &#125; return true;&#125; Êàë‰ª¨ÂèØ‰ª•Á®çÂæÆÁúãÁúãÂÆÉÊòØÊÄéÊ†∑Ë∏¢Âá∫Êó†ÊïàÈìæÊé•ÁöÑÔºå‰ª£Á†ÅÂú®org.apache.rocketmq.namesrv.routeinfo.RouteInfoManager‰∏≠Ôºö12345678910111213public void scanNotActiveBroker() &#123; Iterator&lt;Entry&lt;String, BrokerLiveInfo&gt;&gt; it = this.brokerLiveTable.entrySet().iterator(); while (it.hasNext()) &#123; Entry&lt;String, BrokerLiveInfo&gt; next = it.next(); long last = next.getValue().getLastUpdateTimestamp(); // ÈªòËÆ§120Áßí if ((last + BROKER_CHANNEL_EXPIRED_TIME) &lt; System.currentTimeMillis()) &#123; RemotingUtil.closeChannel(next.getValue().getChannel()); it.remove(); this.onChannelDestroy(next.getKey(), next.getValue().getChannel()); &#125; &#125;&#125; ÂêØÂä®NamesrvControllerÂêØÂä®ÁöÑËøáÁ®ãÂ∞±ÊòØÂêØÂä®netty serverÂºÄÂßãÊé•Êî∂ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678public void start() throws Exception &#123; // ÂºÄÂêØNetty Server this.remotingServer.start(); // ÁõëÂê¨sslÊñá‰ª∂ÂèòÂåñÔºåÂèØ‰ª•ÂÆûÊó∂Êõ¥Êñ∞ËØÅ‰π¶ if (this.fileWatchService != null) &#123; this.fileWatchService.start(); &#125;&#125; Âà∞ËøôÈáåÔºåNamesrvÂ∞±ÂêØÂä®ÂÆåÊàê‰∫ÜÔºå‰∏ãÈù¢Êàë‰ª¨Â∞ÜËÆ≤‰∏Ä‰∏ãÂÆÉÊúÄÈáçË¶ÅÁöÑ‰∏§‰∏™ÂäüËÉΩBrokerÊ≥®ÂÜåÔºàÁÆ°ÁêÜÔºâÂíåBrokerÊü•ËØ¢„ÄÇ DefaultRequestProcessorËØ∑Ê±ÇÂ§ÑÁêÜÂú®ËÆ≤BrokerÊ≥®ÂÜåÔºàÁÆ°ÁêÜÔºâÂíåBrokerÊü•ËØ¢‰πãÂâçÊàë‰ª¨Ë¶ÅÂ∞Ü‰∏Ä‰∏ãDefaultRequestProcessorÔºåÂõ†‰∏∫ÊâÄÊúâËØ∑Ê±ÇÈÉΩ‰ºöË¢´ÂÆÉÂ§ÑÁêÜÔºåÂú®‰∏äÈù¢ÂàùÂßãÂåñÁöÑËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨‰πüÁúãÂà∞‰∫ÜÂÆÉË¢´Ê≥®ÂÜåÂà∞NettyÁöÑPipeline‰∏ä„ÄÇ‰∏ãÈù¢ÊàëÂ∞±ÁúãÁúãorg.apache.rocketmq.namesrv.processor.DefaultRequestProcessor #processRequestÊñπÊ≥ïÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜËØ∑Ê±ÇÁöÑÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657public RemotingCommand processRequest(ChannelHandlerContext ctx, RemotingCommand request) throws RemotingCommandException &#123; // ÁúÅÁï•Êó†Áî®ÈÄªËæë switch (request.getCode()) &#123; case RequestCode.PUT_KV_CONFIG: return this.putKVConfig(ctx, request); case RequestCode.GET_KV_CONFIG: return this.getKVConfig(ctx, request); case RequestCode.DELETE_KV_CONFIG: return this.deleteKVConfig(ctx, request); case RequestCode.QUERY_DATA_VERSION: return queryBrokerTopicConfig(ctx, request); // BrokerÊ≥®ÂÜå case RequestCode.REGISTER_BROKER: Version brokerVersion = MQVersion.value2Version(request.getVersion()); if (brokerVersion.ordinal() &gt;= MQVersion.Version.V3_0_11.ordinal()) &#123; return this.registerBrokerWithFilterServer(ctx, request); &#125; else &#123; return this.registerBroker(ctx, request); &#125; // BrokerÊ≥®ÈîÄ case RequestCode.UNREGISTER_BROKER: return this.unregisterBroker(ctx, request); // Ê†πÊçÆTopicÊãøÂà∞BrokerË∑ØÁî±‰ø°ÊÅØ case RequestCode.GET_ROUTEINTO_BY_TOPIC: return this.getRouteInfoByTopic(ctx, request); // ÊãøÂà∞BrokerÈõÜÁæ§‰ø°ÊÅØ case RequestCode.GET_BROKER_CLUSTER_INFO: return this.getBrokerClusterInfo(ctx, request); case RequestCode.WIPE_WRITE_PERM_OF_BROKER: return this.wipeWritePermOfBroker(ctx, request); case RequestCode.GET_ALL_TOPIC_LIST_FROM_NAMESERVER: return getAllTopicListFromNameserver(ctx, request); case RequestCode.DELETE_TOPIC_IN_NAMESRV: return deleteTopicInNamesrv(ctx, request); case RequestCode.GET_KVLIST_BY_NAMESPACE: return this.getKVListByNamespace(ctx, request); case RequestCode.GET_TOPICS_BY_CLUSTER: return this.getTopicsByCluster(ctx, request); case RequestCode.GET_SYSTEM_TOPIC_LIST_FROM_NS: return this.getSystemTopicListFromNs(ctx, request); case RequestCode.GET_UNIT_TOPIC_LIST: return this.getUnitTopicList(ctx, request); case RequestCode.GET_HAS_UNIT_SUB_TOPIC_LIST: return this.getHasUnitSubTopicList(ctx, request); case RequestCode.GET_HAS_UNIT_SUB_UNUNIT_TOPIC_LIST: return this.getHasUnitSubUnUnitTopicList(ctx, request); case RequestCode.UPDATE_NAMESRV_CONFIG: return this.updateConfig(ctx, request); case RequestCode.GET_NAMESRV_CONFIG: return this.getConfig(ctx, request); default: break; &#125; return null;&#125; Â§ÑÁêÜÂô®Ê†πÊçÆRemotingCommand‰∏≠ÁöÑËØ∑Ê±ÇÁ†ÅÂ∞ÜÊâßË°åÂÖ∑‰ΩìÁöÑËØ∑Ê±ÇÈÄªËæëÔºå‰∏ãÈù¢Êàë‰ª¨ÈáçÁÇπÂàÜÊûê‰∏Ä‰∏ãBrokerÊ≥®ÂÜåÂíåÊü•ËØ¢„ÄÇ BrokerÊ≥®ÂÜåÊ†πÊçÆ‰∏äÈù¢DefaultRequestProcessorÁöÑÂ§ÑÁêÜÈÄªËæëÔºåÊàë‰ª¨ÊâæÂà∞#registerBrokerÊñπÊ≥ïÔºö1234567891011121314151617181920212223242526272829303132333435363738public RemotingCommand registerBroker(ChannelHandlerContext ctx, RemotingCommand request) throws RemotingCommandException &#123; final RemotingCommand response = RemotingCommand.createResponseCommand(RegisterBrokerResponseHeader.class); final RegisterBrokerResponseHeader responseHeader = (RegisterBrokerResponseHeader) response.readCustomHeader(); final RegisterBrokerRequestHeader requestHeader = (RegisterBrokerRequestHeader) request.decodeCommandCustomHeader(RegisterBrokerRequestHeader.class); // ... ÁúÅÁï•Ê†°È™å // topicÁõ∏ÂÖ≥ÈÖçÁΩÆ TopicConfigSerializeWrapper topicConfigWrapper; if (request.getBody() != null) &#123; topicConfigWrapper = TopicConfigSerializeWrapper.decode(request.getBody(), TopicConfigSerializeWrapper.class); &#125; else &#123; topicConfigWrapper = new TopicConfigSerializeWrapper(); topicConfigWrapper.getDataVersion().setCounter(new AtomicLong(0)); topicConfigWrapper.getDataVersion().setTimestamp(0); &#125; // Ê†πÊçÆbroker‰∏äÊä•ÁöÑ‰ø°ÊÅØÊõ¥Êñ∞namesrvÁöÑRouteInfo RegisterBrokerResult result = this.namesrvController.getRouteInfoManager().registerBroker( requestHeader.getClusterName(), requestHeader.getBrokerAddr(), requestHeader.getBrokerName(), requestHeader.getBrokerId(), requestHeader.getHaServerAddr(), topicConfigWrapper, null, ctx.channel() ); // ËøîÂõûmasterÂíåhaserverÂú∞ÂùÄ responseHeader.setHaServerAddr(result.getHaServerAddr()); responseHeader.setMasterAddr(result.getMasterAddr()); // Â∞ÜtopicÁöÑKVÈÖçÁΩÆ‰ø°ÊÅØÈÄöËøáresponseËøîÂõû byte[] jsonValue = this.namesrvController.getKvConfigManager().getKVListByNamespace(NamesrvUtil.NAMESPACE_ORDER_TOPIC_CONFIG); response.setBody(jsonValue); response.setCode(ResponseCode.SUCCESS); response.setRemark(null); return response;&#125; ‰∏ãÈù¢Êàë‰ª¨ÁªßÁª≠ÁúãÁúãÂ¶Ç‰ΩïÊõ¥Êñ∞namesrvÁöÑRouteInfoÔºåÊâæÂà∞org.apache.rocketmq.namesrv.routeinfo.RouteInfoManager#registerBrokerÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384public RegisterBrokerResult registerBroker( final String clusterName, final String brokerAddr, final String brokerName, final long brokerId, final String haServerAddr, final TopicConfigSerializeWrapper topicConfigWrapper, final List&lt;String&gt; filterServerList, final Channel channel) &#123; RegisterBrokerResult result = new RegisterBrokerResult(); try &#123; try &#123; // Êõ¥Êñ∞Âä†ÈîÅ this.lock.writeLock().lockInterruptibly(); // Êõ¥Êñ∞clusterÂíåbrokerÂØπÂ∫îÂÖ≥Á≥ª Set&lt;String&gt; brokerNames = this.clusterAddrTable.get(clusterName); if (null == brokerNames) &#123; brokerNames = new HashSet&lt;String&gt;(); this.clusterAddrTable.put(clusterName, brokerNames); &#125; brokerNames.add(brokerName); boolean registerFirst = false; // Êõ¥Êñ∞brokernameÂíåbrokerdataÁöÑÂàÜÁªÑ BrokerData brokerData = this.brokerAddrTable.get(brokerName); if (null == brokerData) &#123; registerFirst = true; brokerData = new BrokerData(clusterName, brokerName, new HashMap&lt;Long, String&gt;()); this.brokerAddrTable.put(brokerName, brokerData); &#125; String oldAddr = brokerData.getBrokerAddrs().put(brokerId, brokerAddr); registerFirst = registerFirst || (null == oldAddr); // Â¶ÇÊûúÊòØmaster brokerÔºåÁ¨¨‰∏ÄÊ¨°Ê≥®ÂÜåÊàñËÄÖÊòØtopic‰ø°ÊÅØÂèëÁîüÂèòÂåñ‰∫ÜÔºåÊõ¥Êñ∞topicQueueTable if (null != topicConfigWrapper &amp;&amp; MixAll.MASTER_ID == brokerId) &#123; if (this.isBrokerTopicConfigChanged(brokerAddr, topicConfigWrapper.getDataVersion()) || registerFirst) &#123; ConcurrentMap&lt;String, TopicConfig&gt; tcTable = topicConfigWrapper.getTopicConfigTable(); if (tcTable != null) &#123; for (Map.Entry&lt;String, TopicConfig&gt; entry : tcTable.entrySet()) &#123; this.createAndUpdateQueueData(brokerName, entry.getValue()); &#125; &#125; &#125; &#125; // Êõ¥Êñ∞brokerÁöÑÂøÉË∑≥Êó∂Èó¥ BrokerLiveInfo prevBrokerLiveInfo = this.brokerLiveTable.put(brokerAddr, new BrokerLiveInfo( System.currentTimeMillis(), topicConfigWrapper.getDataVersion(), channel, haServerAddr)); if (null == prevBrokerLiveInfo) &#123; log.info("new broker registered, &#123;&#125; HAServer: &#123;&#125;", brokerAddr, haServerAddr); &#125; // Êõ¥Êñ∞filter server table if (filterServerList != null) &#123; if (filterServerList.isEmpty()) &#123; this.filterServerTable.remove(brokerAddr); &#125; else &#123; this.filterServerTable.put(brokerAddr, filterServerList); &#125; &#125; // Â¶ÇÊûúÊòØslave brokerÊ≥®ÂÜåÔºåÂ¶ÇÊûúmasterÂ≠òÂú®ÔºåÂàôËøîÂõûmaster broker‰ø°ÊÅØ if (MixAll.MASTER_ID != brokerId) &#123; String masterAddr = brokerData.getBrokerAddrs().get(MixAll.MASTER_ID); if (masterAddr != null) &#123; BrokerLiveInfo brokerLiveInfo = this.brokerLiveTable.get(masterAddr); if (brokerLiveInfo != null) &#123; result.setHaServerAddr(brokerLiveInfo.getHaServerAddr()); result.setMasterAddr(masterAddr); &#125; &#125; &#125; &#125; finally &#123; this.lock.writeLock().unlock(); &#125; &#125; catch (Exception e) &#123; log.error("registerBroker Exception", e); &#125; return result;&#125; BrokerÊü•ËØ¢Ê†πÊçÆ‰∏äÈù¢DefaultRequestProcessorÁöÑÂ§ÑÁêÜÈÄªËæëÔºåÊàë‰ª¨ÊâæÂà∞#getRouteInfoByTopicÊñπÊ≥ïÔºö12345678910111213141516171819202122232425262728public RemotingCommand getRouteInfoByTopic(ChannelHandlerContext ctx, RemotingCommand request) throws RemotingCommandException &#123; final RemotingCommand response = RemotingCommand.createResponseCommand(null); final GetRouteInfoRequestHeader requestHeader = (GetRouteInfoRequestHeader) request.decodeCommandCustomHeader(GetRouteInfoRequestHeader.class); // ‰ªéRouteInfoManager‰∏≠Ëé∑ÂèñtopicÁöÑBroker‰ø°ÊÅØ TopicRouteData topicRouteData = this.namesrvController.getRouteInfoManager().pickupTopicRouteData(requestHeader.getTopic()); // Â¶ÇÊûúÊîØÊåÅÈ°∫Â∫èÊ∂àÊÅØÔºåÂàôÂ°´ÂÖÖKVConfig‰ø°ÊÅØ if (topicRouteData != null) &#123; if (this.namesrvController.getNamesrvConfig().isOrderMessageEnable()) &#123; String orderTopicConf = this.namesrvController.getKvConfigManager().getKVConfig(NamesrvUtil.NAMESPACE_ORDER_TOPIC_CONFIG, requestHeader.getTopic()); topicRouteData.setOrderTopicConf(orderTopicConf); &#125; byte[] content = topicRouteData.encode(); response.setBody(content); response.setCode(ResponseCode.SUCCESS); response.setRemark(null); return response; &#125; response.setCode(ResponseCode.TOPIC_NOT_EXIST); response.setRemark("No topic route info in name server for the topic: " + requestHeader.getTopic() + FAQUrl.suggestTodo(FAQUrl.APPLY_TOPIC_URL)); return response;&#125; ‰∏ãÈù¢Êàë‰ª¨ÁªßÁª≠ÁúãÁúãÂ¶Ç‰ΩïÊü•ÊâænamesrvÁöÑRouteInfoÔºåÊâæÂà∞org.apache.rocketmq.namesrv.routeinfo.RouteInfoManager#pickupTopicRouteDataÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354public TopicRouteData pickupTopicRouteData(final String topic) &#123; TopicRouteData topicRouteData = new TopicRouteData(); boolean foundQueueData = false; boolean foundBrokerData = false; Set&lt;String&gt; brokerNameSet = new HashSet&lt;String&gt;(); List&lt;BrokerData&gt; brokerDataList = new LinkedList&lt;BrokerData&gt;(); topicRouteData.setBrokerDatas(brokerDataList); HashMap&lt;String, List&lt;String&gt;&gt; filterServerMap = new HashMap&lt;String, List&lt;String&gt;&gt;(); topicRouteData.setFilterServerTable(filterServerMap); try &#123; try &#123; // Ëé∑ÂèñËØªÈîÅ this.lock.readLock().lockInterruptibly(); // Ëé∑ÂèñÊâÄÊúâÊîØÊåÅËØ•topicÁöÑbrokerÁöÑqueueÈÖçÁΩÆ List&lt;QueueData&gt; queueDataList = this.topicQueueTable.get(topic); if (queueDataList != null) &#123; topicRouteData.setQueueDatas(queueDataList); foundQueueData = true; // Ëé∑ÂèñBrokerName Set Iterator&lt;QueueData&gt; it = queueDataList.iterator(); while (it.hasNext()) &#123; QueueData qd = it.next(); brokerNameSet.add(qd.getBrokerName()); &#125; // Ê†πÊçÆbrokerNameËé∑Âèñbroker‰∏ª‰ªéÂú∞ÂùÄ‰ª•ÂèäËøáÊª§Âô®‰ø°ÊÅØ for (String brokerName : brokerNameSet) &#123; BrokerData brokerData = this.brokerAddrTable.get(brokerName); if (null != brokerData) &#123; BrokerData brokerDataClone = new BrokerData(brokerData.getCluster(), brokerData.getBrokerName(), (HashMap&lt;Long, String&gt;) brokerData .getBrokerAddrs().clone()); brokerDataList.add(brokerDataClone); foundBrokerData = true; for (final String brokerAddr : brokerDataClone.getBrokerAddrs().values()) &#123; List&lt;String&gt; filterServerList = this.filterServerTable.get(brokerAddr); filterServerMap.put(brokerAddr, filterServerList); &#125; &#125; &#125; &#125; &#125; finally &#123; this.lock.readLock().unlock(); &#125; &#125; catch (Exception e) &#123; log.error("pickupTopicRouteData Exception", e); &#125; if (foundBrokerData &amp;&amp; foundQueueData) &#123; return topicRouteData; &#125; return null;&#125; ÊÄªÁªìÂà∞Ê≠§ÔºåÊàë‰ª¨Â∞±‰ªãÁªçÂÆåÂï¶ÔºÅÂÖ∂ÂÆûÁÆÄÂçïÊù•ÁúãÔºåNamesrvÂÖ∂ÂÆû‰∏Ä‰∏™Áî®NettyÂÜôÁöÑ‰∏Ä‰∏™NettyRemotingServerÔºåÂú®NamesrvÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÈªòËÆ§Â§ÑÁêÜÂô®DefaultRequestProcessorÔºåÂú®Ëøô‰∏™Â§ÑÁêÜÂô®‰∏≠‰ºöÊ†πÁªùÂÖ∑‰ΩìÁöÑËØ∑Ê±ÇÁ†ÅÂéªÂÅö‰∏Ä‰∫õÊõ¥Êñ∞RouteInfoManagerÁöÑÊìç‰ΩúÔºåÂú®RouteInfoManager‰∏≠Âà©Áî®HashMap‰øùÂ≠ò‰∫ÜÂêÑÁßçÂÖ≥Á≥ªÊò†Â∞ÑÔºåÂ∞±Ëøô‰πàÁÆÄÂçïÔºåÈÇ£‰πàÂà∞ËøôÈáåÁªìÊùüÂï¶ÔºÅ ÂèÇËÄÉ RocketMQÊ∫êÁ†ÅËß£Êûê(‰∫å)-nameserv]]></content>
      <categories>
        <category>RocketMQÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>RocketMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DDD Flag]]></title>
    <url>%2F2019%2F06%2F09%2FDDD%2FDDD%20Flag%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∏äÂë®ÁúãÂÆå‰∫ÜEric Evans ÁöÑ„ÄäÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°‚ÄîËΩØ‰ª∂Ê†∏ÂøÉÂ§çÊùÇÊÄßÂ∫îÂØπ‰πãÈÅì„ÄãÔºåÂΩ±ÂìçÊØîËæÉÊ∑±ÁöÑÂ∞±ÊòØÊòØËøôÊ†∑‰∏ÄÂè•ËØù‚Äî‚ÄîËΩØ‰ª∂ÁöÑÊ†∏ÂøÉÊòØÂÖ∂‰∏∫Áî®Êà∑Ëß£ÂÜ≥È¢ÜÂüüÁõ∏ÂÖ≥ÈóÆÈ¢òÁöÑËÉΩÂäõ„ÄÇ ÂâçË®ÄÁúãËä±ÊòØËä±ÔºåÁúãËä±‰∏çÊòØËä±ÔºåÁúãËä±ÊòØËä±„ÄÇËøôÊòØ‰∏Ä‰∏™ËøáÁ®ã„ÄÇÊàëÊÉ≥ÊâÄÊúâ‰∫∫Âú®Â≠¶‰π†‰∏Ä‰∏™‰∏úË•øÈÉΩÊòØËøôÊ†∑‰∏Ä‰∏™ËøáÁ®ã„ÄÇÂú®Âøô‰∫éCRUDÁöÑËøáÁ®ã‰∏≠ÔºåÊàëÊúÄÂàùÁúãÂæÖ‰∏öÂä°Âè™ÊòØËßâÂæó‰ªñÂ∞±ÊòØ‰∏Ä‰∏™Ëá™ÁÑ∂ÁöÑ‰∏öÂä°ÈÄªËæëÔºåÁÖßÁùÄÂÜôÂ∞±ÂÆå‰∫ã‰∫ÜÔºåËøôÂ§Ñ‰∫éÁ¨¨‰∏ÄÊ≠•ÔºõÂΩìÁúãÂÆå„ÄäÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°‚ÄîËΩØ‰ª∂Ê†∏ÂøÉÂ§çÊùÇÊÄßÂ∫îÂØπ‰πãÈÅì„Äã‰πãÂêéÔºåÂèëÁé∞Âú®ËøõË°å‰∏öÂä°ÁºñÁ†ÅÁöÑÊó∂ÂÄôÊàë‰ª¨Êõ¥Â∫îËØ•ÂæÄÈ¢ÜÂüü‰∏äÈù†ËøëÔºåÊúÄÂ•ΩËÉΩÂΩ¢Êàê‰∏ÄÂ•óÈ¢ÜÂüüÊ®°ÂºèÔºå‰ΩÜÊòØÂéüÊù•ÁöÑ‰∏öÂä°ÈÄªËæëÂ∑≤Áªè‰∏çÊòØÁÆÄÂçïÁöÑ‰∏öÂä°ÈÄªËæë‰∫ÜÔºåËøôÊòØÁ¨¨‰∫åÊ≠•ÔºåËÄåÊàëÂ•ΩÂÉèÂ∞±Â§Ñ‰∫éËøô‰∏ÄÊ≠•Ôºõ‰ΩÜÊòØÊàëÁõ∏‰ø°‰ª•ÂêéËÉΩÁÜüÁªÉÁöÑ‰ΩøÁî®È¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÁöÑÊó∂ÂÄôÔºåÈÇ£Êó∂ÂÄô‰∏öÂä°ÂèàÊòØ‰∏öÂä°‰∫ÜÔºåËææÂà∞Á¨¨‰∏âÊ≠•„ÄÇFlag hereÔºÅ Ê°à‰æã È¢ÜÂüüÈ©±Âä®ËÆæËÆ°Âú®‰∫íËÅîÁΩë‰∏öÂä°ÂºÄÂèë‰∏≠ÁöÑÂÆûË∑µ ‰∫§ÊòìÁ≥ªÁªü - È¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÊµÖÊûê Á¨¨‰∫å‰∏™ÊòØËá™Â∑±ÁõÆÂâçÁöÑÈáçÁÇπÔºåÂ∏åÊúõÊé•‰∏ãÊù•ËÉΩÂ•ΩÂ•ΩÁêÜËß£Âπ∂‰∏îÂÆûË∑µÔºÅÔºÅÔºÅ]]></content>
      <categories>
        <category>DDD</category>
      </categories>
      <tags>
        <tag>DDD</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÜçÁúãÂçïÂÖÉÊµãËØï]]></title>
    <url>%2F2019%2F06%2F09%2F%E8%B5%9E%2F%E5%86%8D%E7%9C%8B%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂØπ‰∫éÂ§ßÈÉ®ÂàÜÂºÄÂèëÊù•ËØ¥ÔºåÂÜôÂçïÂÖÉÊµãËØïÊó∂‰∏Ä‰ª∂Â§ö‰πàÁóõËã¶ÁöÑ‰∫ãÂëÄÔºÅ ÂçïÂÖÉÊµãËØï‰ªãÁªç‰ªÄ‰πàÊòØÂçïÂÖÉÊµãËØïÂçïÂÖÉÊµãËØïÊòØÊåáÂØπËΩØ‰ª∂‰∏≠ÁöÑÊúÄÂ∞èÂèØÊµãËØïÂçïÂÖÉËøõË°åÊ£ÄÊü•ÂíåÈ™åËØÅ„ÄÇÁõ∏‰ø°Â§ßÂ§öÊï∞ÈÉΩÁúãËßÅËøáËøôÂπÖÊµãËØïÊ®°ÂûãÂõæÔºåÊ†πÊçÆÊµãËØïÈáëÂ≠óÂ°îÂéüÁêÜÔºåË∂äÂæÄ‰∏äÂ±ÇÁöÑÊµãËØïÔºåÊâÄÈúÄÁöÑÊµãËØïÊäïÂÖ•ÊØî‰æãË∂äÂ§ßÔºåÊïàÊûú‰πüË∂äÂ∑ÆÔºåËÄåÂçïÂÖÉÊµãËØïÁöÑÊàêÊú¨Ë¶ÅÂ∞èÁöÑÂ§öÔºå‰πüÊõ¥ÂÆπÊòìÂèëÁé∞ÈóÆÈ¢ò„ÄÇËØùËôΩÁÑ∂Ëøô‰πàËØ¥Ôºå‰ΩÜÊòØÂÜôÂçïÂÖÉÊµãËØïÂØπ‰∫éÂ§ßÈÉ®ÂàÜÂºÄÂèëÊù•ËØ¥‰æùÁÑ∂ÊòØ‰∏Ä‰ª∂ÂæàËõãÁñºÁöÑ‰∫ã„ÄÇÂú®‰ª•ÂâçÊ≤°ÊúâQAÁöÑÂπ¥‰ª£ÔºåTDDÂçïÂÖÉÊµãËØïÈ©±Âä®ÂºÄÂèë‰ª•ÂâçËøòÊòØÂæàÁÅ´ÁöÑÔºåÁé∞Âú®Â∞±‰∏çÁü•ÈÅì‰∫Ü„ÄÇÂõ†‰∏∫ÈÇ£‰∏™Êó∂ÂÄôÊ≤°ÊúâQAÔºåÂºÄÂèëÈÉΩÂæóÈù†Ëá™Â∑±ÊµãËØïÔºåÂú®ÈáçÊûÑÈ°πÁõÆÊó∂ÔºåÈÄöËøáÂçïÂÖÉÊµãËØïÂèØ‰ª•Âø´ÈÄüÁöÑ‰∫ÜËß£Âà∞Ëá™Â∑±ÈáçÊûÑÊó∂ÂèëÁîüÁöÑ‰øÆÊîπÔºåÁÑ∂ÂêéÈáçÊñ∞‰øÆÊ≠£„ÄÇ‰ΩÜÊòØÁé∞Âú®Êúâ‰∏ì‰∏öÁöÑQAÂêåÂ≠¶Ôºå‰ªñ‰ª¨‰ºöÂÜôÈõÜÊàêÊµãËØïÔºåÂØºËá¥‰∫ÜÂºÄÂèëÊõ¥Âä†‰∏çÊÉ≥ÂÜôÂçïÂÖÉÊµãËØï‰∫Ü„ÄÇ‰ΩÜÊòØÂæàÂ§öÂÖ¨Âè∏ÈÉΩ‰ºöÊúâÂçïÂÖÉÊµãËØïÁöÑÁ°¨ÊÄßË¶ÅÊ±ÇÂä†‰∏äË∞ÅÁü•ÈÅìQAÊòØ‰∏çÊòØ‰∏Ä‰∏™ÂíåËîºÂèØ‰∫≤ÁöÑÂ∞èÂßêÂßêÔºåÊâÄ‰ª•ÂçïÂÖÉÊµãËØïËøòÊòØÂæóÂÜôÔºå‰∏çÁÆ°Áî®‰∏çÁî®Âæó‰∏äÔºå‰∏á‰∏ÄÁî®Âæó‰∏äÂë¢Ôºü ÂçïÂÖÉÊµãËØïÂíåÈõÜÊàêÊµãËØïÂçïÂÖÉÊµãËØïÂíåÈõÜÊàêÊµãËØïÁöÑÁïåÁ∫øÊàëÁõ∏‰ø°Â§ßÈÉ®ÂàÜÂºÄÂèë‰πüÊòØ‰∏çÊ∏ÖÊô∞ÁöÑ„ÄÇÊàë‰πü‰∏çÊòØÁâπÂà´Ê∏ÖÊ•ö„ÄÇ‰∏™‰∫∫ÁêÜËß£ÂçïÂÖÉÊµãËØïÈíàÂØπ‰∫é‰∏ÄÂùó‰∏öÂä°ÈÄªËæëÊúÄÂ∞èÁöÑÂçïÂÖÉÔºåÂèØ‰ª•ÁÆÄÂçïÁêÜËß£‰∏∫‰∏Ä‰∏™Á±ªÁöÑÊñπÊ≥ï„ÄÇ‰∏Ä‰∏™ÂçïÂÖÉÊµãËØï‰∏çÂ∫îËØ•ÂåÖÂê´Â§ñÈÉ®‰æùËµñÁöÑÈÄªËæëÔºåÂèç‰πãÂ∞±ÊòØÈõÜÊàêÊµãËØï‰∫Ü„ÄÇ ‰ΩÜÊòØ‰∏Ä‰∏™serviceÁöÑ‰∏Ä‰∏™Êé•Âè£ÂÆûÁé∞‰∏ÄËà¨ÈÉΩ‰ºö‰æùËµñÂæàÂ§öÁ¨¨‰∏âÊñπÔºö1.Êú¨Âú∞ÂÖ∂ÂÆÉÁöÑservice 2.daoË∞ÉÁî® 3.rpcË∞ÉÁî® 4.ÂæÆÊúçÂä°Ë∞ÉÁî®ÔºåÁ≠âÁ≠â„ÄÇÁõ∏‰ø°Â§ßÂÆ∂‰∏ÄÂÆöË∫´ÊúâÊÑüÂèó„ÄÇ ‰ΩÜÊòØÊàë‰ª¨ÈÅáÂà∞ÁöÑÂ∞±ÊòØËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåÈÇ£Êàë‰ª¨ËøòÊÄé‰πàÂÜôÂçïÂÖÉÊµãËØïÂëÄÔºüÁ≠îÊ°àÊòØMOCK„ÄÇÁé∞Âú®ÊúâÂæàÂ§öMockÁöÑÂºÄÊ∫êÊ°ÜÊû∂ÊØîÂ¶ÇÔºömockitoÔºåeasymockÔºåËøòÊúâÊõ¥Âº∫Â§ßÁöÑpowermockÔºåÊúÄÂêéÊîæ‰∫Ü‰ΩøÁî®ÂèÇËÄÉÈìæÊé•„ÄÇÈÇ£‰πàÈóÆÈ¢òÊù•‰∫ÜÔºåÊó¢ÁÑ∂Êàë‰ª¨ÂèØ‰ª•mockÁ¨¨‰∏âÊñπËøúÁ®ã‰æùËµñÔºå‰∏∫‰Ωï‰∏çmock dao„ÄÅlocal serviceÂë¢ÔºüÊ≤°ÈîôÂ§ñÈÉ®‰æùËµñÂÖ®ÈÉ®mockÊéâÔºåÂ∞±ÊòØÂçïÂÖÉÊµãËØï‰∫Ü„ÄÇÂõ†‰∏∫Êàë‰ª¨Âè™ÂÖ≥ÂøÉÊâÄÊµãËØïÁöÑÊñπÊ≥ïÁöÑ‰∏öÂä°ÈÄªËæëÔºå‰πüÂ∞±ÊòØÁúüÊ≠£È´òÂÜÖËÅöÁöÑÈÄªËæëÂçïÂÖÉ‰∫Ü„ÄÇ Êúâ‰∫ÜMockÔºåÊàë‰ª¨ÂèëÁé∞ÔºöÊ≤°Êúâ‰ªÄ‰πàÊï∞ÊçÆÊòØÈÄ†‰∏çÂá∫Êù•ÁöÑÔºåËÄå‰∏îËøò‰∏ç‰∫ßÁîü‰ªª‰ΩïËÑèÊï∞ÊçÆÔºå Ë∑ëcaseÊõ¥Âø´‰∫ÜÔºåÂõ†‰∏∫‰∏çÁî®ÂêØÂä®Êï¥‰∏™È°πÁõÆ„ÄÇÊòØ‰∏çÊòØÊï¥‰∏™‰∏ñÁïåÈÉΩÊ∏ÖÊô∞‰∫ÜÔºå‰ΩÜÊòØ‰∏ÄÊÉ≥ÂèàÊúâÁÇπÂÆ≥ÊÄïÔºåÊØïÁ´üÈÉΩmock‰∫ÜËøòÊµãËØï‰∏™È∏°ÂÑø„ÄÇËøòÊòØÂõûÂà∞ÂØπÂçïÂÖÉÊµãËØïÂæóÁêÜËß£ÔºåÂçïÂÖÉÊµãËØïÂ∫îËØ•Âè™ÈíàÂØπ‰∫éÁõÆÊ†áÊñπÊ≥ïÁöÑ‰∏öÂä°ÈÄªËæëÊµãËØïÔºådao„ÄÅÂÖ∂ÂÆÉserviceÂ∫îËØ•Âú®ÂÆÉ‰ª¨Ëá™Ë∫´ÁöÑÂçïÂÖÉÊµãËØïÂéªÊµãËØï„ÄÇÂØπ‰∫é‰æùËµñÁöÑÁ¨¨‰∏âÊñπÔºåÊàë‰ª¨Â∫îËØ•‰ø°‰ªªÂÆÉ‰ª¨ËÉΩÊ≠£Á°ÆÁöÑÂÆåÊàêÊàë‰ª¨ÊâÄÈ¢ÑÊúüÁöÑ„ÄÇÊàë‰ª¨Â∫îËØ•È™åËØÅÁöÑÂÜÖÂÆπÊòØÔºöÊñπÊ≥ïÊòØÂê¶Ë¢´Ë∞ÉÁî®ÔºåË∞ÉÁî®ÁöÑÊ¨°Êï∞ÂØπ‰∏çÂØπÔºåË∞ÉÁî®ÂèÇÊï∞ÂØπ‰∏çÂØπÔºåÂè™Ë¶ÅËøô‰∏â‰∏™È™åËØÅÈÄöËøáÔºåÂ∞±OK‰∫Ü„ÄÇMockitoÊ°ÜÊû∂ÁöÑverifyÊé•Âè£Â∞±ÊòØÂÅöËøô‰ª∂‰∫ãÊÉÖÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†ÁêÜËß£‰∫Ü‰∏äËø∞ÂÜÖÂÆπÔºåÈÇ£‰πà‰Ω†Â∞±ÂºÄÁ™ç‰∫ÜÔºåUT‰∏çÂú®ÂèòÂæóËøô‰πàÈöæÂÜô„ÄÇ ÂçïÂÖÉÊµãËØïËßÑËåÉÂ•ΩÁöÑÂçïÂÖÉÊµãËØïÂøÖÈ°ªÈÅµÂÆàAIR ÂéüÂàôAÔºöAutomaticÔºàËá™Âä®ÂåñÔºâI: IndependentÔºàÁã¨Á´ãÊÄßÔºâR: RepeatableÔºàÂèØÈáçÂ§çÔºâ ÂçïÂÖÉÊµãËØïÂøÖÈ°ªÊòØÂÖ®Ëá™Âä®ÁöÑÔºåÈùû‰∫§‰∫íÂºèÁöÑÔºåÂøÖÈ°ª‰ΩøÁî®assert È™åËØÅÔºå‰∏çËÉΩ‰ΩøÁî® System.out.println ËÇâÁúºËßÇÂØüÊâßË°åÁªìÊûúÔºåÊó†ÂèÇÊñπÊ≥ïÊµãËØïÂêéÔºåÈúÄË¶Å‰ΩøÁî®verify ËøõË°åÈ™åËØÅ ‰øùÊåÅÂçïÂÖÉÊµãËØïÁöÑÁã¨Á´ãÊÄß„ÄÇÂçïÂÖÉÊµãËØïÁî®‰æã‰πãÈó¥‰∏çËÉΩÁõ∏‰∫íË∞ÉÁî®Ôºå‰∏çËÉΩ‰æùËµñÊâßË°åÁöÑÂÖàÂêéÈ°∫Â∫è ÂçïÂÖÉÊµãËØïÊòØÂèØ‰ª•ÈáçÂ§çÊâßË°åÁöÑÔºå‰∏çËÉΩÂèóÂà∞Â§ñÁïåÁéØÂ¢ÉÁöÑÂΩ±Âìç ‰∏öÂä°‰∏≠‰ΩøÁî®‰∫Ülocalcache„ÄÅredis ÁºìÂ≠òÁöÑÔºåÊâßË°åÊµãËØïÁî®‰æãÂâçÔºåÂÖàÊ∏ÖÁêÜÁºìÂ≠ò DB ÁöÑÊµãËØïÔºå‰∏çÂèØ‰ª•‰æùËµñÁúüÂÆûÁöÑDBÔºåÈúÄË¶ÅÁî® H2 ÊµãËØïÊ°ÜÊû∂mock Êï∞ÊçÆÂ±ÇÔºå‰ΩøÁî®ÊñπÂºèÔºöhttp://www.h2database.com/html/main.html ÊâÄÊúâÁöÑÁ¨¨‰∏âÊñπ dubbo Ë∞ÉÁî®Ôºå‰πüÈúÄË¶Åmock Ë∞ÉÔºå‰∏çÂèØ‰ª•ÁúüÂÆûË∞ÉÁî®„ÄÇ ÊâÄÊúâÁöÑ‰∏≠Èó¥‰ª∂mock Êéâ„ÄÇ ÂçïÂÖÉÊµãËØïÂøÖÈ°ªÂÜôÂú®Â¶Ç‰∏ãÂ∑•Á®ãÁõÆÂΩï‰∏≠: src/test/javaÔºå‰∏çÂÖÅËÆ∏ÂÜôÂú®‰∏öÂä°‰ª£Á†ÅÁõÆÂΩï‰∏ã„ÄÇÁ¶ÅÊ≠¢ÈÄöËøáÂú®‰∏öÂä°‰ª£Á†ÅÁ±ª‰∏≠ÂÜô main ÂáΩÊï∞ËøõË°åÊµãËØï ÂçïÂÖÉÊµãËØïÁöÑBCDE ÂéüÂàôÔºå‰øùËØÅË¢´ÊµãÊ®°ÂùóÁöÑ‰∫§‰ªòË¥®Èáè B: BorderÔºåËæπÁïåÂÄºÊµãËØïÔºåÂåÖÊã¨Âæ™ÁéØËæπÁïå„ÄÅÁâπÊÆäÂèñÂÄº„ÄÅÁâπÊÆäÊó∂Èó¥ÁÇπ„ÄÅÊï∞ÊçÆÈ°∫Â∫èÁ≠â„ÄÇ CÔºöCorrectÔºåÊ≠£Á°ÆÁöÑËæìÂÖ•ÔºåÂπ∂ÂæóÂà∞È¢ÑÊúüÁªìÊûú„ÄÇ D: DesignÔºå‰∏éËÆæËÆ°ÊñáÊ°£ÁªìÂêàÔºåÁºñÂÜôÊµãËØïÁî®‰æã E: ErrorÔºåÈîôËØØÁöÑ‰ø°ÊÅØËæìÂÖ•ÔºåÂæóÂà∞È¢ÑÊúüÁªìÊûú ÂçïÂÖÉÊµãËØïÂÆûË∑µÂçïÂÖÉÊµãËØïÁöÑËøáÁ®ã ÂçïÂÖÉÊµãËØïÁöÑÁºñÂÜôÔºå‰∏ªË¶ÅÂåÖÂê´‰ª•‰∏ãÂá†‰∏™Èò∂ÊÆµÔºö Êï∞ÊçÆÂáÜÂ§áÔºöÂú®ÁºñÂÜôÊµãËØïÁî®‰æãÂâçÔºåÂ∞§ÂÖ∂ÊòØDaoÂ±ÇÔºåÈúÄË¶Å‰æùËµñÂà∞‰∏Ä‰∫õÊï∞ÊçÆÔºåÊï∞ÊçÆÊù•Ê∫ê‰∏ÄËà¨ÊòØÊï∞ÊçÆÂ∫ìÔºåËÄåÊûÑÈÄ†Êï∞ÊçÆÔºåÂèà‰∏çËÉΩ‰æùËµñ DAO Â±ÇÁöÑ‰ª£Á†ÅÔºåÈúÄË¶Å‰ΩøÁî®ÂéüÁîüjdbc ÂéªÊèíÂÖ•Êï∞ÊçÆÔºåÊµãËØï‰ª£Á†ÅÁºñÂÜôÊïàÁéá‰Ωé„ÄÇ ÊûÑÈÄ†ÂèÇÊï∞ÂèäÊâìÊ°©ÔºàstubÔºâÔºöË∞ÉÁî®ÊñπÊ≥ïÈúÄË¶Å‰º†ÈÄíÂÖ•ÂèÇÔºåÊúâÊó∂ÂÄô‰∏Ä‰∏™ÂÖ•ÂèÇÂçÅÂá†‰∏™ÂèÇÊï∞ÈúÄË¶Å setÔºåset ÊñπÊ≥ïÂÜôÂÆåÔºå‰ª£Á†ÅÂ∑≤ÁªèÂÜô‰∫ÜÂçÅÊù•Ë°å‰∫Ü„ÄÇ ÊâßË°åÊµãËØïÔºöËøô‰∏ÄÊ≠•ÊØîËæÉÁÆÄÂçïÔºåÁõ¥Êé•Ë∞ÉÁî®Ë¢´ÊµãÊñπÊ≥ïÂç≥ÂèØ„ÄÇ ÁªìÊûúÈ™åËØÅÔºöËøôÈáåÈô§‰∫ÜÈ™åËØÅË¢´ÊµãÊñπÊ≥ïÁöÑËøîÂõûÂÄºÂ§ñÔºåËøòÈúÄË¶ÅÈ™åËØÅÊèíÂÖ•Âà∞Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑ Êï∞ÊçÆÊòØÂê¶Ê≠£Á°ÆÔºåÊüêÂ§ñÈÉ®ÊñπÊ≥ïË¢´Ë∞ÉÁî®ËøánÊ¨°ÊàñÊú™Ë∞ÉÁî®Ëøá„ÄÇ ÂøÖË¶ÅÁöÑÊ∏ÖÁêÜÔºöÂØπÊâìÊ°©ËøõË°åÊ∏ÖÁêÜÔºåÂØπÊï∞ÊçÆÂ∫ìËÑèÊï∞ÊçÆËøõË°åÊ∏ÖÁêÜ„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÂü∫‰∫é‰∏äÈù¢ÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ÈááÁî®Â¶Ç‰∏ãÁöÑËß£ÂÜ≥ÊñπÊ°àÔºöspring-test+powermock +h2Êï∞ÊçÆÂ∫ì ÁöÑÊµãËØïÊ°ÜÊû∂ H2Êï∞ÊçÆÂ∫ìH2Êï∞ÊçÆÂ∫ìÈùûÂ∏∏ÈÄÇÂêàÂú®ÊµãËØïÁ®ãÂ∫è‰∏≠‰ΩøÁî®ÔºåÁ®ãÂ∫èÂÖ≥Èó≠Êó∂Ëá™Âä®Ê∏ÖÁêÜÊï∞ÊçÆÔºåH2 Êï∞ÊçÆÂ∫ìÁöÑË°®ÁªìÊûÑÂàùÂßãÂåñÊòØÈÄöËøá jdbc:initialize-database Ê†áÁ≠æÂÆûÁé∞ÁöÑÔºåÂçïÂÖÉÊµãËØï‰∏≠‰ΩøÁî® H2 Êï∞ÊçÆÂ∫ìÈùûÂ∏∏ÁÆÄÂçïÔºå‰ªÖÈúÄ‰øÆÊîπ jdbc ËøûÊé•Âç≥ÂèØ„ÄÇ powermockpowermockÊîØÊåÅÈùôÊÄÅÊñπÊ≥ï mockÔºåÂêåÊó∂ÂÖºÂÆπ mockitoÔºåpowermock Á§∫‰æãÔºö1234567891011121314@RunWith(PowerMockRunner.class)public class XXXXTest &#123; @InjectMocks private YourTestService yourTestService; @Mock private YourRPCClient yourRPCClient; @Test private void test_method() &#123; // ÊûÑÈÄ†ÂèÇÊï∞ÔºåËøôÈáåÂèØ‰ª•‰ΩøÁî®jsonÊûÑÈÄ† &#125; ÂèÇËÄÉ Mockito‰∏éPowerMockÁöÑ‰ΩøÁî®Âü∫Á°ÄÊïôÁ®ã ÊúâËµûÂçïÂÖÉÊµãËØïÂÆûË∑µ H2Êï∞ÊçÆÂ∫ì powermock]]></content>
      <categories>
        <category>Ëµû</category>
      </categories>
      <tags>
        <tag>ÂçïÂÖÉÊµãËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RocketMQÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîÁéØÂ¢ÉÊê≠Âª∫]]></title>
    <url>%2F2019%2F06%2F08%2FRocketMQ%E6%BA%90%E7%A0%81%2FRocketMQ%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁªà‰∫éË¶ÅÂºÄÂßã‰∫ÜÂêóÔºå‰∏ÄÁõ¥ÊÉ≥Â•ΩÂ•ΩÂºÑÊ∏ÖÊ•ö‰∏ÄÊ¨æMQÔºå‰Ωú‰∏∫‰∏ÄÂêçJavaerÔºåËÇØÂÆöÈÄâÊã©RocketMQÔºåÂ∏åÊúõ‰ªäÂ§©ÊòØ‰∏Ä‰∏™Â•ΩÂºÄÂßãÔºÅ ÂâçÁΩÆÂú®ÁúãÊ∫êÁ†ÅÂâçÂ§ßÂÆ∂ÈÉΩËá≥Â∞ëÂ∫îËØ•‰ΩøÁî®ËøáRocketMQÔºåÂπ∂‰∏î‰∫ÜËß£ÂÆÉÁöÑÁõ∏ÂÖ≥ÂéüÁêÜÔºåÊâÄ‰ª•ËøôÈáå‰∏¢Âá∫‰∏§‰∏™ÈìæÊé•ÔºåËôΩÁÑ∂ÊúâÁÇπËÄÅ~ RocketMQ Áî®Êà∑ÊåáÂçó RocketMQ ÂéüÁêÜÁÆÄ‰ªã ‰æùËµñÂ∑•ÂÖ∑ Git Maven JDK1.8 IntelliJ IDEA Ê∫êÁ†ÅÊãâÂèñ‰ªéÂÆòÊñπ‰ªìÂ∫ì https://github.com/apache/rocketmq ÈÄöËøáGitÊãâÂèñ‰ª£Á†ÅÂà∞Êú¨Âú∞ÔºåÂú®2019.6.8ÁúãÂà∞ÊúÄÊñ∞ÁöÑreleaseÁâàÊú¨ÊòØ4.5.1Ôºå‰ΩÜÊòØ‰∏∫‰∫ÜÂíåËäãËâøÂ§ß‰Ω¨‰øùÊåÅ‰∏ÄËá¥ÔºåÊàë‰πüÈÄâÊã©‰∫Ü4.4.0ÁâàÊú¨ÔºåÊâÄ‰ª•Â∞Ü‰ª£Á†ÅÊãâÂèñÂà∞Êú¨Âú∞‰πãÂêéÔºåÊàë‰ª¨ÂàáÊç¢Âà∞4.4.0ÂàÜÊîØ„ÄÇ 12git clone https://github.com/apache/rocketmq.gitgit checkout -b release-4.4.0 origin/release-4.4.0 ÁÑ∂ÂêéÊàë‰ª¨Â∞±ÂèØ‰ª•ÁúãÊòØÊê≠Âª∫Ë∞ÉËØïÁéØÂ¢ÉÂï¶~ ÁéØÂ¢ÉÊê≠Âª∫ÂêØÂä® RocketMQ NamesrvÊâìÂºÄ org.apache.rocketmq.namesrv.NameServerInstanceTest ÂçïÂÖÉÊµãËØïÁ±ªÔºåÂèÇËÄÉ #startup() ÊñπÊ≥ïÔºåÊàë‰ª¨ÁºñÂÜô #main(String[] args) ÈùôÊÄÅÊñπÊ≥ïÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234567891011public static void main(String[] args) throws Exception &#123; NamesrvConfig namesrvConfig1 = new NamesrvConfig(); NettyServerConfig nettyServerConfig1 = new NettyServerConfig(); nettyServerConfig1.setListenPort(9876); NamesrvController nameSrvController1 = new NamesrvController(namesrvConfig1, nettyServerConfig1); nameSrvController1.initialize(); nameSrvController1.start(); // ‰∏çËÆ©‰∏ªÊñπÊ≥ïÁªìÊùü Thread.sleep(DateUtils.MILLIS_PER_DAY);&#125; ËøêË°å‰πãÂêéÔºåËæìÂá∫Â¶Ç‰∏ãÊó•ÂøóÂ∞±‰ª£Ë°®OKÂï¶~ 1214:41:41.202 [NettyEventExecutor] INFO RocketmqRemoting - NettyEventExecutor service started14:41:41.203 [FileWatchService] INFO RocketmqCommon - FileWatchService service started ÂêØÂä® RocketMQ BrokerÊâìÂºÄ org.apache.rocketmq.broker.BrokerControllerTest ÂçïÂÖÉÊµãËØïÁ±ªÔºåÂèÇËÄÉ #testBrokerRestart() ÊñπÊ≥ïÔºåÊàë‰ª¨ÁºñÂÜô #main(String[] args) ÊñπÊ≥ïÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234567891011121314151617public static void main(String[] args) throws Exception &#123; // ËÆæÁΩÆÁâàÊú¨Âè∑ÔºåÂæàÂÖ≥ÈîÆÔºå‰∏çÁÑ∂topicÂàõÂª∫‰∏çÊàêÂäü System.setProperty(RemotingCommand.REMOTING_VERSION_KEY, Integer.toString(MQVersion.CURRENT_VERSION)); final BrokerConfig brokerConfig = new BrokerConfig(); brokerConfig.setBrokerName("broker-a"); brokerConfig.setNamesrvAddr("127.0.0.1:9876"); BrokerController brokerController = new BrokerController( brokerConfig, new NettyServerConfig(), new NettyClientConfig(), new MessageStoreConfig()); assertThat(brokerController.initialize()); brokerController.start(); // ‰∏çËÆ©‰∏ªÊñπÊ≥ïÁªìÊùü Thread.sleep(DateUtils.MILLIS_PER_DAY); &#125; ËøêË°å‰πãÂêéÔºåËôΩÁÑ∂Âú®broker‰∏ãÈù¢‰ªÄ‰πàÊó•ÂøóÈÉΩÊ≤°ÊúâÔºå‰ΩÜÊòØÂú®NamesrvÂ∑≤ÁªèÁúãÂà∞‰∫ÜbrokerÁöÑÊ≥®ÂÜåÊó•ÂøóÔºåÂ¶Ç‰∏ãÔºö 1234515:19:21.437 [NettyServerCodecThread_4] INFO RocketmqRemoting - NETTY SERVER PIPELINE: channelRegistered 127.0.0.1:5888715:19:21.437 [NettyServerCodecThread_4] INFO RocketmqRemoting - NETTY SERVER PIPELINE: channelActive, the channel[127.0.0.1:58887]15:19:21.460 [RemotingExecutorThread_7] DEBUG RocketmqNamesrv - receive request, 103 127.0.0.1:58887 RemotingCommand [code=103, language=JAVA, version=293, opaque=0, flag(B)=0, remark=null, extFields=&#123;brokerId=0, bodyCrc32=2135245619, clusterName=DefaultCluster, brokerAddr=192.168.1.28:8888, haServerAddr=192.168.1.28:10912, compressed=false, brokerName=broker-a&#125;, serializeTypeCurrentRPC=JSON]15:19:21.461 [RemotingExecutorThread_7] INFO RocketmqNamesrv - new topic registered, RMQ_SYS_TRANS_HALF_TOPIC QueueData [brokerName=broker-a, readQueueNums=1, writeQueueNums=1, perm=6, topicSynFlag=0]15:19:21.461 [RemotingExecutorThread_7] INFO RocketmqNamesrv - new broker registered, 192.168.1.28:8888 HAServer: 192.168.1.28:10912 ÂêØÂä® RocketMQ ProducerÊâìÂºÄ org.apache.rocketmq.example.quickstart.Producer Á§∫‰æãÁ±ªÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657public class Producer &#123; public static void main(String[] args) throws MQClientException, InterruptedException &#123; /* * Instantiate with a producer group name. */ DefaultMQProducer producer = new DefaultMQProducer("please_rename_unique_group_name"); /* * Specify name server addresses. * &lt;p/&gt; * * Alternatively, you may specify name server addresses via exporting environmental variable: NAMESRV_ADDR * &lt;pre&gt; * &#123;@code * producer.setNamesrvAddr("name-server1-ip:9876;name-server2-ip:9876"); * &#125; * &lt;/pre&gt; */ /* * Launch the instance. */ // ÊåáÊòéNamesrv producer.setNamesrvAddr("127.0.0.1:9876"); producer.start(); for (int i = 0; i &lt; 1000; i++) &#123; try &#123; /* * Create a message instance, specifying topic, tag and message body. */ Message msg = new Message("TopicTest" /* Topic */, "TagA" /* Tag */, ("Hello RocketMQ " + i).getBytes(RemotingHelper.DEFAULT_CHARSET) /* Message body */ ); /* * Call send message to deliver message to one of brokers. */ SendResult sendResult = producer.send(msg); System.out.printf("%s%n", sendResult); &#125; catch (Exception e) &#123; e.printStackTrace(); Thread.sleep(1000); &#125; &#125; /* * Shut down once the producer instance is not longer in use. */ producer.shutdown(); &#125;&#125; Ê†πÊçÆÊ≥®ÈáäÔºåÊàë‰ª¨ÈúÄË¶ÅÊåáÊòéNamesrvÂú∞ÂùÄ:producer.setNamesrvAddr(&quot;127.0.0.1:9876&quot;); ËøêË°å‰πãÂêéÂ∞±‰ºöÂèëÈÄÅ1000Êù°Ê∂àÊÅØÂï¶ÔºåÁÑ∂ÂêéÂ∞±‰ºöÊñ≠ÂºÄ‰∏éNamesrvÔºåbrokerÁöÑËøûÊé•ÔºåÊó•ÂøóÂ¶Ç‰∏ãÔºö 1234SendResult [sendStatus=SEND_OK, msgId=C0A8011C69E618B4AAC22757459803E7, offsetMsgId=C0A8011C000022B80000000000057CB0, messageQueue=MessageQueue [topic=TopicTest, brokerName=broker-a, queueId=0], queueOffset=499]15:20:30.889 [NettyClientSelector_1] INFO RocketmqRemoting - closeChannel: close the connection to remote address[192.168.1.28:8888] result: true15:20:30.890 [NettyClientSelector_1] INFO RocketmqRemoting - closeChannel: close the connection to remote address[192.168.1.28:8886] result: true15:20:30.891 [NettyClientSelector_1] INFO RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true ÂêØÂä® RocketMQ ProducerÊâìÂºÄ org.apache.rocketmq.example.quickstart.Consumer Á§∫‰æãÁ±ªÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public class Consumer &#123; public static void main(String[] args) throws InterruptedException, MQClientException &#123; /* * Instantiate with specified consumer group name. */ DefaultMQPushConsumer consumer = new DefaultMQPushConsumer("please_rename_unique_group_name_4"); /* * Specify name server addresses. * &lt;p/&gt; * * Alternatively, you may specify name server addresses via exporting environmental variable: NAMESRV_ADDR * &lt;pre&gt; * &#123;@code * consumer.setNamesrvAddr("name-server1-ip:9876;name-server2-ip:9876"); * &#125; * &lt;/pre&gt; */ // ÊåáÊòéNamesrv consumer.setNamesrvAddr("127.0.0.1:9876"); /* * Specify where to start in case the specified consumer group is a brand new one. */ consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET); /* * Subscribe one more more topics to consume. */ consumer.subscribe("TopicTest", "*"); /* * Register callback to execute on arrival of messages fetched from brokers. */ consumer.registerMessageListener(new MessageListenerConcurrently() &#123; @Override public ConsumeConcurrentlyStatus consumeMessage(List&lt;MessageExt&gt; msgs, ConsumeConcurrentlyContext context) &#123; System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs); return ConsumeConcurrentlyStatus.CONSUME_SUCCESS; &#125; &#125;); /* * Launch the consumer instance. */ consumer.start(); System.out.printf("Consumer Started.%n"); &#125;&#125; Ê†πÊçÆÊ≥®ÈáäÔºåÊàë‰ª¨ËøôÈáå‰πüÈúÄË¶ÅÊåáÊòéNamesrvÂú∞ÂùÄ:consumer.setNamesrvAddr(&quot;127.0.0.1:9876&quot;); ÁñØÁãÇÊ∂àË¥πÁöÑÊó•ÂøóÂ¶Ç‰∏ãÔºö 123Consumer Started.ConsumeMessageThread_3 Receive New Messages: [MessageExt [queueId=1, storeSize=178, queueOffset=250, sysFlag=0, bornTimestamp=1559978428786, bornHost=/192.168.1.28:58898, storeTimestamp=1559978428830, storeHost=/192.168.1.28:8888, msgId=C0A8011C000022B8000000000002BEB2, commitLogOffset=179890, bodyCRC=613185359, reconsumeTimes=0, preparedTransactionOffset=0, toString()=Message&#123;topic='TopicTest', flag=0, properties=&#123;MIN_OFFSET=0, MAX_OFFSET=500, CONSUME_START_TIME=1559978752764, UNIQ_KEY=C0A8011C69E618B4AAC227573D700000, WAIT=true, TAGS=TagA&#125;, body=[72, 101, 108, 108, 111, 32, 82, 111, 99, 107, 101, 116, 77, 81, 32, 48], transactionId='null'&#125;]] ... It`s over !! ÊÄªÁªìÂæàÂñúÊ¨¢‰∏ãÈù¢ÁöÑËØùÔºö Ê∫êÁ†ÅÔºåÊòØÂéüÁêÜÁöÑÂÖ∑Ë±°ÂåñÂéüÁêÜÔºåÊòØ‰ª£Á†ÅÁöÑÊäΩË±°Âåñ]]></content>
      <categories>
        <category>RocketMQÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>RocketMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSAPPËØªÂêéÊÑü]]></title>
    <url>%2F2019%2F05%2F26%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%2FCSAPP%E8%AF%BB%E5%90%8E%E6%84%9F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂØπ‰∫é‰∏Ä‰∏™ÈùûÁßëÁè≠ÁöÑÁ®ãÂ∫èÂëòÔºåËÆ°ÁÆóÊú∫Âü∫Á°ÄÂèØËÉΩÊ∞∏ËøúÈÉΩÊòØ‰ªñÁöÑÊ¢¶È≠á„ÄÇÊàë‰πü‰∏ç‰æãÂ§ñÔºåËôΩÁÑ∂‰πãÂâç‰πüÁúãËøáËÆ°ÁÆóÊú∫ÁªÑÊàêÔºåÊìç‰ΩúÁ≥ªÁªüÔºåËÆ°ÁÆóÊú∫ÁΩëÁªúÔºåÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÔºå‰ΩÜÊòØÂèØËÉΩÈÉΩÊòØËá™Â≠¶ÔºåÁÑ∂ÂêéÊúâÁÇπÊµÆ‰∫éË°®Èù¢ÔºåËÆ©Ëá™Â∑±ÁöÑÂøÉÈáå‰∏ÄÁõ¥ÈÉΩ‰∏çÂ§™Ë∏èÂÆû„ÄÇCSAPPÊòØËá™Â∑±‰∏ÄÁõ¥ÊÉ≥ËØªÁöÑ‰π¶Ôºå‰ΩÜÊòØÂæàÂ§öÊó∂ÂÄôÁúã‰∫Ü‰∏§Á´†Â∞±ÊîæÂºÉ‰∫ÜÔºåËøôÊ¨°ÁÆóÊòØÂùöÊåÅ‰∫Ü3‰∏™ÊòüÊúüÁúãÂÆå‰∫ÜÂÆÉÔºåÁÑ∂ÂêéÂèëË°®Ê∞¥Êñá‰∏ÄÁØáÔºÅËØÅÊòéËá™Â∑±Êù•Ëøáü§£ ÂÜÖÂÆπ‰ªãÁªçÂú®Á®ãÂ∫èÁöÑ‰∏ñÁïåÔºå‰∏á‰∫ãÁ¶ª‰∏çÂºÄHelloWorldÔºåÊú¨‰π¶‰πüËøòÊòØ‰ªé‰∏Ä‰∏™helloworldÂêëÊàë‰ª¨‰ªãÁªç‰∫Ü‰∏Ä‰∏™helloworldÁ®ãÂ∫èÊòØÊÄé‰πàËøêË°åÁöÑÔºå‰ªéÁºñËØëÂà∞Ê∂âÂèäÁöÑÁ°¨‰ª∂‰ª•ÂèäÊìç‰ΩúÁ≥ªÁªüÔºåÁΩëÁªúÈÄö‰ø°ÔºåÂÖàÊääÂ§ßÊ¶ÇÁöÑÊ¶ÇÂøµÊù•‰∫Ü‰∏ÄÂ•óÔºåÁÑ∂ÂêéÂ∞±ÂºÄÂßãÊ≠£ÊñáÂï¶ÔºÅÔºÅÂÖà‰ªéÊï∞ÊçÆÁöÑË°®Á§∫ÂºÄÂßãÔºàÁâõÈÄºÔºâÔºåËá™ÁÑ∂ËÄåÁÑ∂ÂºïÂá∫Á®ãÂ∫èÁöÑË°®Á§∫ÔºàÈáçÁÇπÂú®‰∫éÊ±áÁºñÔºâÔºåÊé•ÁùÄËÆ≤Ëß£‰∫ÜÂ§ÑÁêÜÂô®ÊòØÂ¶Ç‰ΩïÊâßË°åÊ±áÁºñÊåá‰ª§ÁöÑÔºàÂ§ÑÁêÜÂô®ÊòØÊÄé‰πàÂ∑•‰ΩúÁöÑÔºâÔºåËøôÈáåÂèàÊ∂âÂèäÂà∞‰∫ÜÂ≠òÂÇ®Âô®Áõ∏ÂÖ≥ÂÜÖÂÆπÔºàÂ≠òÂÇ®Âô®Â±±ÔºâÔºõÊé•ÁùÄ‰ªãÁªçÊéßÂà∂ÊµÅÔºàÊ∂âÂèäÂà∞ËøõÁ®ãÔºå‰ø°Âè∑Ôºâ„ÄÅËôöÊãüÂÜÖÂ≠òÔºàÂä®ÊÄÅÂàÜÈÖçÔºåÂûÉÂúæÊêúÈõÜÔºâÁ≠âÈ´òÁ∫ßËØùÈ¢òÔºåËøô‰πãÂêéÂºÄÂßãÊ∂âÂèäËØ∏Â¶ÇI/O„ÄÅÁΩëÁªúÁºñÁ®ã„ÄÅÂπ∂ÂèëÁºñÁ®ãÁ≠âÁü•ËØÜ„ÄÇÊÄª‰πãÔºåÂπ≤Ë¥ßÊª°Êª°Ôºå‰ΩÜÊòØÈúÄË¶ÅÊå∫Ëä±Êó∂Èó¥ÁöÑÔºåÂìéÔºåÊáí‰∫ÜÊáí‰∫ÜÔºÅÔºÅÔºÅ Êï¥‰ΩìÊÑüÂèóËøôÊú¨‰π¶Ê∂âÂèäÁöÑÁÇπËøòÊòØËõÆÂ§öÁöÑÔºåÂÉèÊòØ‰∏ÄÊú¨ËÆ°ÁÆóÊú∫ÁªÑÊàêÂíåÊìç‰ΩúÁ≥ªÁªüÁöÑÁªÑÂêà‰π¶Á±çÔºå‰ΩÜÊòØÂèØËÉΩ‰πüÊòØÂõ†‰∏∫ÁªÑÂêàÔºåÊúâ‰∫õÁÇπÂ∞±ËÆ≤ÂæóÊ≤°ÊúâÈÇ£‰πàÁªÜ‰∫ÜÔºå‰ΩÜÊòØÂú®‰π¶ÈáåÈÉΩÂèØ‰ª•ÁªôÂá∫Áõ∏Â∫îÁöÑÂ≠¶‰π†Âª∫ËÆÆÂíåÂèÇËÄÉÊñáÁåÆÔºåÊàëËßâÂæóÂæà‰∏çÈîô„ÄÇÂÖ∂ÂÆûËøôÊú¨‰π¶ËøòÈÖçÂ•ó‰∫ÜÁõ∏Â∫îÁöÑÂÆûÈ™åÔºåËøô‰∏™ÂÆûÈ™åËøòÊòØÊúâ‰∏ÄÂÆöÈöæÂ∫¶ÁöÑÔºåÊâÄ‰ª•Ëá™Â∑±Â∞±‰∏ç‰∫Ü‰∫Ü‰πã‰∫ÜÔºåÂ∏åÊúõ‰ª•ÂêéÊúâÊú∫‰ºöÂÜçÊù•Êêû‰∏ÄÈÅçÔºåÁõ∏‰ø°Êî∂Ëé∑‰∏ÄÂÆöÊå∫Â§ß„ÄÇÊÄªÁöÑÊù•ËØ¥ÔºåËøôÊú¨‰π¶ËøòÊòØÁªôÊàëËß£Á≠î‰∫Ü‰∏Ä‰∫õÁñëÊÉëÂíåÂä†Ê∑±‰∏Ä‰∫õÂç∞Ë±°ÔºåÂ∞§ÂÖ∂ÊòØÂú®Êìç‰ΩúÁ≥ªÁªüÊñπÈù¢„ÄÇÂàöÂ•ΩÂÄüÁî®‰πãÂâçÂêå‰∫ãËØ¥ÁöÑ‰∏ÄÂè•ËØùÔºö‰∏çÂêåÁöÑÊó∂ÂÄôÔºåËØªÁõ∏ÂêåÁöÑ‰∏úË•øÔºå‰ªñÁöÑÊÑüÂèóÂíåÊî∂Ëé∑‰∏ÄÂÆöÊòØ‰∏çÂêåÁöÑ„ÄÇ ÁñëÈóÆËôΩËØ¥ÁúãÂÆå‰∫ÜËøôÊú¨‰π¶Ôºå‰ΩÜÊòØËá™Â∑±ËøòÊòØÊúâÂæàÂ§öÂú∞ÊñπÊ≤°ÊúâÁêÜËß£Ôºå‰ª•Âêé‰∏ÄÂÆö‰ºöÂÜçÁúã‰∏ÄÊ¨°ÁöÑ„ÄÇËøôÈáåÊÉ≥ÁïôÁªôËá™Â∑±‰∏Ä‰∏™ÈóÆÈ¢òÔºåËÆ©Ëá™Â∑±Ë∂äÊù•Ë∂äËø∑Á≥äÁöÑÈóÆÈ¢òÔºàÂ∏åÊúõÊ∏ÖÊ•öÁöÑ‰∫∫‰πüËÉΩÂëäËØâÊàëËøô‰∏™Â∞èËèúÈ∏°ÔºåÂìàÂìàÔºâÔºöËÆ°ÁÆóÊú∫‰ªéÊâìÂºÄÁîµÊ∫êÂêéÊòØÊÄé‰πàËøêË°åÁöÑÔºüÔºà‰ªéÁ°¨‰ª∂Âà∞ËΩØ‰ª∂Ôºâ ÂèÇËÄÉ ‰∏çÂë®Â±±‰ΩúÂìÅÈõÜ]]></content>
      <categories>
        <category>ËÆ°ÁÆóÊú∫Âü∫Á°Ä</category>
      </categories>
      <tags>
        <tag>ËÆ°ÁÆóÊú∫ÁªÑÊàê</tag>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JVMÊ∫êÁ†Å‚Äî‚ÄîÂäùÈÄÄÂæÖËµ∑Ëà™]]></title>
    <url>%2F2019%2F04%2F26%2FJVM%E6%BA%90%E7%A0%81%2FJVM%E6%BA%90%E7%A0%81%E2%80%94%E2%80%94%E5%8A%9D%E9%80%80%E5%BE%85%E8%B5%B7%E8%88%AA%2F</url>
    <content type="text"><![CDATA[Âéü‰ª•‰∏∫ÂèØ‰ª•Âπ≥ÁªìËá™Â∑±Áï•ÊáÇÁöÑC++ÂéªÁúãJVMÊ∫êÁ†ÅÔºå‰ΩÜÊòØÁ≠âÂà∞Ëá™Â∑±ÁúüÊ≠£ÂéªÊâìÂºÄÊ∫êÁ†ÅÔºåÂ∞±ÁÆóÊòØÂØπÁùÄÂçöÂÆ¢ÁúãÔºå‰πüÊòØÂçÅÂàÜÂêÉÂäõÔºåËøòÁúã‰∫ÜÁü•‰πéRÂ§ßÂØπÁúãJVMÊ∫êÁ†ÅÁöÑÁúãÊ≥ï„ÄÇSOÔºåÊàëË¢´Ëá™Â∑±ÂíåRÂ§ßÂäùÈÄÄ‰∫ÜÔºåÂèØËÉΩÁõÆÂâçÁöÑËá™Â∑±Ëøò‰∏çÈÄÇÂêàÂéªÁúãÔºåÂ∏åÊúõËá™Â∑±‰ª•ÂêéÊúâÈúÄË¶ÅÊúâÊ¢¶ÊÉ≥ÂÜçÊù•ÁúãÔºÅ ÂäùÈÄÄRÂ§ßÂÖ≥‰∫é Java JVMÊÄé‰πàÂ≠¶‰π†ÂïäÔºü‰ªéÂì™ÊñπÈù¢ÂÖ•ÊâãÔºüÁöÑÂõûÁ≠î ËøôÂÆåÂÖ®ÂèñÂÜ≥‰∫éÈ¢ò‰∏ªÊòØ‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶‰π†JVMÔºåÊÉ≥Â≠¶Âà∞Â§öÊ∑±„ÄÇÂâçÈù¢ @ÊõπÊó≠‰∏ú Âíå @Scott ËØ¥ÂæóÂæàÂØπ„ÄÇÂ¶ÇÊûúÊÑüËßâÊë∏‰∏çÊ∏Ö‰∏úÂçóË•øÂåóÁöÑËØùËØ∑ËØïËØï‰ªéÊàëÂú®Ë±ÜÁì£‰∏äÂèëÁöÑË±ÜÂçïÂºÄÂßãÂêßÔºö‰ªéË°®Âà∞ÈáåÂ≠¶‰π†JVMÂÆûÁé∞Â¶ÇÊûú‰∏Ä‰∏äÊù•Â∞±ÊÉ≥ÈÄöËøáÈòÖËØªOpenJDKÈáåÁöÑHotSpot VMÁöÑÊ∫êÁ†ÅÊù•ÂÖ•ÊâãÂ≠¶‰π†JVMÔºåÈÇ£‰πàÊàëÊé®ËçêÂÖàËØªËØªÊàë‰πãÂâçÂÜôÁöÑ‰∏Ä‰∏™ÊºîÁ§∫Á®øÔºö‰∏∫Âï•Âà´ËØªHotSpot VMÁöÑÊ∫êÁ†Å ËôΩÁÑ∂ËØ¥Áé∞Âú®‰∏çÁúã‰∫ÜÔºå‰ΩÜÊòØËá™Â∑±ËøòÊòØÁïôÂú®Âá†‰∏™JVMËß£ÊûêÁõ∏ÂÖ≥ÂçöÂÆ¢Ôºö JVMÊ∫êÁ†ÅÂàÜÊûê JVMÊ∫êÁ†ÅÊè≠Áßò ÊÄªÁªì‰ΩÜË°åÂ•Ω‰∫ãÔºåËé´ÈóÆÂâçÁ®ã Áä∂ÊÄÅÔºöÊÑüËßâ‰ªÄ‰πàÈÉΩÊáÇ‰∏ÄÁÇπÔºåÂèàÊÑüËßâ‰ªÄ‰πàÈÉΩ‰∏çÊáÇ ‚Äî‚Äî ‰∏çÂ§üÊ∑±ÂÖ•]]></content>
      <categories>
        <category>JVMÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JVMÊ∫êÁ†Å‚Äî‚ÄîMac‰∏ãÁºñËØëJDK]]></title>
    <url>%2F2019%2F04%2F25%2FJVM%E6%BA%90%E7%A0%81%2FJVM%E6%BA%90%E7%A0%81%E2%80%94%E2%80%94Mac%E4%B8%8B%E7%BC%96%E8%AF%91JDK%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂ•ΩÂÉèÊòØÂú®Â§ßÂõõÁöÑÊó∂ÂÄôÔºåËá™Â∑±ÊåâÁÖß„ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„ÄãÂéªÁºñËØëJDKÊ≤°ÊúâÊàêÂäüÔºÅ‰ΩÜÊòØÂú®ÊúÄËøëÁªèÂéÜ‰∏Ä‰∫õÈù¢ËØï‰πãÂêéÔºåÊÑüÂà∞JVMÁªùÂØπÊòØÈù¢ËØïÁöÑ‰∏ÄÂùóÈáçÁÇπÔºåËÄåÁúãÊ∫êÁ†ÅÁªùÂØπÊòØ‰Ω†Ê∑±ÂÖ•ÁêÜËß£JVMÁöÑ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÁÇπÔºÅÂú®ÁúãÊ∫êÁ†ÅÔºåÂ∞±ÈúÄË¶ÅË∞ÉËØïÔºåÈÇ£‰πàÁºñËØëËá™Â∑±JDKË∂äÊòØÂøÖÁÑ∂ÁöÑ„ÄÇËøôÊ¨°Êàë‰ª¨Âú®Mac‰∏ãÂéªÁºñËØëOpenJDK9ÔºÅÔºÅÔºÅ 4.24ÁúãÂÆåÂ§çËÅî4ÔºåËÑëÂ≠êÂ§™Â§öÁöÑÁÇπÂåñ‰∏∫Áà±‰Ω†‰∏âÂçÉÈÅçÔºÅ ËøõÂÖ•‰ªäÂ§©ÁöÑÊ≠£È¢òÔºÅÔºÅÔºÅ ÂáÜÂ§áÂÖ≥‰∫éÁºñËØëJDKÔºåÂÖ∂ÂÆûÂú®ÂÆòÊñπÁöÑÊ∫êÁ†ÅÂåÖ‰∏ãÊúâ‰∏™Â∏ÆÂä©Êñá‰ª∂Ôºàopenjdk/common/building.html/mdÔºâ„ÄÇËøô‰∏™Êñá‰ª∂‰ºöÂëäËØâÊàë‰ª¨Âú®ÁºñËØëJDK‰πãÂâçÈúÄË¶ÅÂÅöÁöÑÂáÜÂ§á‰ª•ÂèäÁºñËØëÁöÑÊ≠•È™§„ÄÇÂÖ∑‰ΩìÁöÑÂ§ßÂÆ∂ÂèØ‰ª•‰ªîÁªÜÈòÖËØªÁúãÁúã„ÄÇ‰∏ãÊ¨°Âè™ËÆ≤Ëø∞Ëá™Â∑±ËøôÊ¨°ÊâÄÁºñËØëÁöÑËøáÁ®ãÔºÅ Êàë‰ª¨ÈúÄË¶ÅÂáÜÂ§á‰∏Ä‰∫õ‰∏úË•øÔºåÈ¶ñÂÖà‰Ω†ÈúÄË¶ÅÂáÜÂ§á homebrewÔºåhomwbrewÊòØmac‰∏ãÁöÑÂåÖÁÆ°ÁêÜÂô®ÔºåÂ¶ÇÊûú‰Ω†ÁöÑmac‰∏äÊ≤°ÊúâÂÆâË£ÖÔºåÂèØ‰ª•ÊåâÁÖß‰∏ãÈù¢ÁöÑÊñπÂºèÊù•ÂÆâË£ÖÔºö1/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" homwbrew‰∏ãËΩΩÂÆåÊàê‰πãÂêéÔºåÊé•‰∏ãÊù•ÂáÜÂ§áÁºñËØëÁéØÂ¢ÉÔºö ÂÆâË£ÖopenjdkÁöÑÁâàÊú¨ÁÆ°ÁêÜÂ∑•ÂÖ∑mercurialÔºàhgÔºâ ÂÆâË£ÖccacheÂíåfreetypeÔºåccacheÁî®Êù•Âä†ÈÄüÁºñËØëÔºåfreetypeÂú®ÁºñËØëËøáÁ®ã‰πü‰ºö‰æùËµñÂà∞ ÂÆâË£ÖËÑöÊú¨‰∏∫Ôºö123brew install mercurialbrew install ccachebrew install freetype ÂáÜÂ§áÂ•Ω‰πãÂêéÂ∞±ÂèØ‰ª•ÂºÄÂßãÂÖ∑‰ΩìÁöÑÊìç‰Ωú‰∫ÜÔºÅ ‰∏ãËΩΩÊ∫êÁ†ÅÂÆòÊñπÊé®ËçêhghgÔºöMercurial source code management systemÊàë‰∏∫Ê∫êÁ†Å‰∏ìÈó®ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÁõÆÂΩï ~/jvm ÔºåÁÑ∂ÂêéËøêË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ôºö12cd ~/jvmhg clone http://hg.openjdk.java.net/jdk9/jdk9 jdk9 ËøôÊù°ÂëΩ‰ª§ËøêË°å‰πãÂêéÔºåopenjdkÁöÑÊ∫êÁ†ÅÂπ∂Ê≤°Êúâ‰∏ãËΩΩ‰∏ãÊù•ÔºåÊàë‰ª¨ÈöèÂêéËøõÂÖ•Âà∞~/jvm/jdk9ÁõÆÂΩïÔºå‰ºöÂèëÁé∞Êúâ‰∏Ä‰∏™ get_source.sh ÁöÑÊñá‰ª∂ÔºåË∞ÉÁî®Ëøô‰∏™ËÑöÊú¨‰∏ãËΩΩÂÆåÊï¥ÁöÑÊ∫êÁ†Å‰πãÂâçÔºåÈúÄË¶ÅÂÅö‰∏Ä‰∏ãÁÆÄÂçïÁöÑ‰øÆÊîπÔºå‰∏çÁÑ∂ÂèØËÉΩ‰Ω†Âú®‰∏ãËΩΩÊ∫êÁ†ÅÁöÑËøáÁ®ã‰∏≠‰ºöÊï∞Ê¨°‰∏≠Êñ≠„ÄÇ12345# Get clones of all absent nested repositories (harmless if already exist)sh ./common/bin/hgforest.sh clone "$@" || exit $?# Update all existing repositories to the latest sourcessh ./common/bin/hgforest.sh pull -u Êàë‰ª¨Êää‰∏äÈù¢Âá†Ë°åÁöÑËÑöÊú¨Âà†ÊéâÔºåÊõøÊç¢Êàê‰∏ãÈù¢ÁöÑËÑöÊú¨Ôºö123456789101112131415# Get clones of all absent nested repositories (harmless if already exist)sh ./common/bin/hgforest.sh clone "$@"while [ $? -ne 0 ]do sh ./common/bin/hgforest.sh clone "$@"done# Update all existing repositories to the latest sourcessh ./common/bin/hgforest.sh pull -uwhile [ $? -ne 0 ]do sh ./common/bin/hgforest.sh pull -udone ÁÑ∂ÂêéÔºåÊÑâÂø´Âú∞Ë∞ÉÁî®Ôºö1bash ./get_source.sh Êú¨‰∫∫Ë°®Á§∫Ëøô‰∏™Ëøô‰∏™ÊñπÊ≥ïÊàëÊ≤°ÊúâÊàêÂäüÔºåhhh„ÄÇÊàëÂú®ÊâßË°åhg clone ÁöÑÊó∂ÂÄôÂ∞±‰∏ÄÁõ¥Êä•ÁΩëÁªúÈîôËØØÔºåÂèØËÉΩÊòØÁî±‰∫éthe great wallÂêßÔºåËøòÂ•ΩÊúâ‰∏ãÈù¢ÁöÑÊñπÊ≥ï„ÄÇ github121. https://github.com/unofficial-openjdk/openjdk/2. https://github.com/dmlloyd/openjdk ÊàëÈÄâÊã©‰∫ÜÁ¨¨‰∫å‰∏™ÔºåÂàáÊç¢Âà∞‰∫Üjdk/jdk9ÂàÜÊîØÔºåÂõ†‰∏∫Êàë‰ª¨ËøôÊ¨°Ë¶ÅÁºñËØëjdk9„ÄÇÊìç‰ΩúÂ¶Ç‰∏ãÔºö1234cd ~/jvmgit clone https://github.com/dmlloyd/openjdk.gitcd openjdkgit checkout -b jdk9 origin/jdk9/jdk9 Ëøô‰∏™ËøòÊòØÊå∫È°∫Âà©ÁöÑÔºåÂìàÂìàÔºÅ configureÊàë‰ª¨ÂÖàËøõË°åÁºñËØëÂâçÁöÑÈÖçÁΩÆÔºàÊ£ÄÊü•ÔºâÔºö1./configure --with-target-bits=64 --with-freetype=/usr/local/Cellar/freetype/2.8.1 --enable-ccache --with-jvm-variants=server,client --with-boot-jdk-jvmargs="-Xlint:deprecation -Xlint:unchecked" --disable-zip-debug-info --disable-warnings-as-errors --with-debug-level=slowdebug 2&gt;&amp;1 | tee configure_mac_x64.log ÊúâÊó•ÂøóÔºåÂá∫ÈóÆÈ¢òÊü•ÈóÆÈ¢ò‰πüÂæàÊñπ‰æøÔºÅÊ≥®ÊÑèÔºå‰∏äÈù¢ÁöÑfreetypeÔºåÈúÄË¶ÅÊõøÊç¢ÊàêÊú¨Êú∫ÂÆûÈôÖÂÆâË£ÖÁöÑÁâàÊú¨ Â¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÁöÑÊèêÁ§∫ÔºåÈÇ£‰πàÊÅ≠Âñú‰Ω†ÔºåÊé•‰∏ãÊù•Â∞±ÂèØ‰ª•ÊâßË°åÁºñËØë‰∫ÜÔºö123456789101112131415161718192021222324252627282930====================================================The existing configuration has been successfully updated in/Users/rex/jvm/openjdk/build/macosx-x86_64-normal-serverANDclient-slowdebugusing configure arguments '--with-target-bits=64 --with-freetype=/usr/local/Cellar/freetype/2.10.0 --enable-ccache --with-jvm-variants=server,client --with-boot-jdk-jvmargs='-Xlint:deprecation -Xlint:unchecked' --disable-warnings-as-errors --with-debug-level=slowdebug'.Configuration summary:* Debug level: slowdebug* HS debug level: debug* JDK variant: normal* JVM variants: server client* OpenJDK target: OS: macosx, CPU architecture: x86, address length: 64* Version string: 9-internal+0-adhoc.rex.openjdk (9-internal)Tools summary:* Boot JDK: java version "9" Java(TM) SE Runtime Environment (build 9+181) Java HotSpot(TM) 64-Bit Server VM (build 9+181, mixed mode) (at /Library/Java/JavaVirtualMachines/jdk-9.jdk/Contents/Home)* Toolchain: clang (clang/LLVM from Xcode 9.4.1)* C Compiler: Version 9.1.0 (at /usr/bin/clang)* C++ Compiler: Version 9.1.0 (at /usr/bin/clang++)Build performance summary:* Cores to use: 4* Memory limit: 8192 MB* ccache status: Active (3.6)NOTE: You have requested to build more than one version of the JVM, whichwill result in longer build times.WARNING: The result of this configuration has overridden an olderconfiguration. You *should* run 'make clean' to make sure you get aproper build. Failure to do so might result in strange build problems. makeÊàë‰ª¨ÊâßË°å‰∏ãÈù¢ÁöÑÊìç‰ΩúÔºö12export LANG=Cmake all LOG=debug 2&gt;&amp;1 | tee make_mac_x64.log Â¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÁöÑÊèêÁ§∫ÔºåÈÇ£‰πàÊÅ≠Âñú‰Ω†Ôºå‰Ω†ÁöÑËøêÊ∞îÂ§™Â•Ω‰∫ÜÔºÅÔºÅÔºÅ1234567891011----- Build times -------Start 2019-04-25 18:55:19End 2019-04-25 19:00:5700:05:38 TOTAL-------------------------if test -f /Users/rex/jvm/openjdk/build/macosx-x86_64-normal-serverANDclient-slowdebug/make-support/exit-with-error ; then \ exit 1 ; \ fi/usr/bin/printf "Finished building target 'all' in configuration 'macosx-x86_64-normal-serverANDclient-slowdebug'\n" &gt; &gt;(/usr/bin/tee -a /Users/rex/jvm/openjdk/build/macosx-x86_64-normal-serverANDclient-slowdebug/build.log) 2&gt; &gt;(/usr/bin/tee -a /Users/rex/jvm/openjdk/build/macosx-x86_64-normal-serverANDclient-slowdebug/build.log &gt;&amp;2) &amp;&amp; waitFinished building target 'all' in configuration 'macosx-x86_64-normal-serverANDclient-slowdebug' ÊúÄÂêéÔºåÈ™åËØÅ‰∏Ä‰∏ã12cd build/macosx-x86_64-normal-serverANDclient-slowdebug/jdk/bin./java -version Âá∫Áé∞‰∏ãÈù¢ÁöÑÊèêÁ§∫Â∞±ÂÆåÁæé‰∫ÜÔºö123openjdk version "9-internal"OpenJDK Runtime Environment (slowdebug build 9-internal+0-adhoc.rex.openjdk)OpenJDK 64-Bit Server VM (slowdebug build 9-internal+0-adhoc.rex.openjdk, mixed mode) ÁºñËØëËøáÁ®ã‰∏≠ÁöÑÈóÆÈ¢òÊ†πÊçÆÂ¢®Ëè≤ÂÆöÂæãÔºö1234‰∏Ä„ÄÅ‰ªª‰Ωï‰∫ãÈÉΩÊ≤°ÊúâË°®Èù¢ÁúãËµ∑Êù•ÈÇ£‰πàÁÆÄÂçïÔºõ‰∫å„ÄÅÊâÄÊúâÁöÑ‰∫ãÈÉΩ‰ºöÊØî‰Ω†È¢ÑËÆ°ÁöÑÊó∂Èó¥ÈïøÔºõ‰∏â„ÄÅ‰ºöÂá∫ÈîôÁöÑ‰∫ãÊÄª‰ºöÂá∫ÈîôÔºõÂõõ„ÄÅÂ¶ÇÊûú‰Ω†ÊãÖÂøÉÊüêÁßçÊÉÖÂÜµÂèëÁîüÔºåÈÇ£‰πàÂÆÉÂ∞±Êõ¥ÊúâÂèØËÉΩÂèëÁîü„ÄÇ Ëøô‰∏™Êó∂Èó¥‰ºöÊØîËæÉÈïøÔºåÂá∫ÈîôÊòØÂ§ßÊ¶ÇÁéá‰∫ã‰ª∂ÔºåËÄåÊàëÂ∞±Á¢∞Âà∞ÁΩë‰∏äËØ•ÊúâÁöÑÊâÄÊúâÈîôÔºÅÔºÅÔºÅÔºÅ XcodeÁâàÊú¨ÈóÆÈ¢òÊàëÁöÑXcodeÁâàÊú¨ÂéüÊù•‰∏∫10+ÔºåXCodeÂçáÁ∫ßÂà∞10‰πãÂêé, Âà†Èô§‰∫ÜÂ∫ïÂ±ÇÁõÆÂΩï‰∏ãÁöÑlibstdc++Êñá‰ª∂„ÄÇÂØºËá¥Âú®JDKÁöÑMakeÊó∂‰ºöÊä•Èîô, Êó†Ê≥ïËØÜÂà´Á±ª‰ººËøôÊ†∑ÁöÑC++ËØ≠Ê≥ï„ÄÇËÄåÂú®XCode9Êó∂ÂØπÂ∫îÊñá‰ª∂ËøòÊòØÂ≠òÂú®ÁöÑ„ÄÇÂÆòÊñπÁªôÂá∫ÁöÑÊÑèÊÄùÊòØlibstdc++Â∑≤ÁªèË¢´Ê†áËÆ∞‰∏∫ËøáÊúü5Âπ¥‰∫Ü, Áé∞Âú®Áªü‰∏Ä‰ΩøÁî®Ëá™Â∑±libc++„ÄÇËøô‰∏™ÈóÆÈ¢òÊúÄÁÆÄÂçïÁöÑÈóÆÈ¢òÂ∞±ÊòØXCodeÁâàÊú¨ÂõûÈÄÄÂà∞9‰πãÂâçÂç≥ÂèØ„ÄÇÈáçÊñ∞‰∏ãËΩΩÂú∞ÂùÄ ‰∏â‰∏™Á©∫ÊåáÈíàËΩ¨Êç¢Êó•ÂøóË¢´Ë¶ÜÁõñ‰∫ÜÔºåÂøòËÆ∞Â≠ò‰∫ÜÔºå‰ΩÜÊòØÂèØËÉΩ‰ºöÂá∫Áé∞ËøôÊ†∑ÁöÑÈóÆÈ¢òÔºå‰∏ãÈù¢ÁöÑÊõ¥ÊîπÁöÑÁ≠îÊ°àÔºö1234567891011#1\. src/hotspot/share/memory/virtualspace.cpp # l585if (base() != NULL) &#123;#2\. src/hotspot/share/opto/lcm.cpp # l42if (Universe::narrow_oop_base() != NULL) &#123; // Implies UseCompressedOops.#3\. src/hotspot/share/opto/loopPredicate.cpp # l915assert(rng-&gt;Opcode() == Op_LoadRange || iff-&gt;is_RangeCheck() || _igvn.type(rng)-&gt;is_int()-&gt;_lo &gt;= 0, "must be"); JVM crash Ëá™Â∑±‰πüÂøòËÆ∞Êà™ÂõæÔºåÊâÄ‰ª•‰πüÁõóÂõæ‰∫ÜÔºö Ëß£ÂÜ≥ÊñπÊ≥ïÔºöBuilding OpenJDK 9 on Mac os ‰∏äÈù¢‰∏â‰∏™ÈóÆÈ¢òÂÖ®Ë¢´Ëá™Â∑±ÈÅáÂà∞‰∫ÜÔºåËøêÊ∞îÁúüÂ•ΩÔºå‰∏çËøáËµ∞Âà∞ËøôÈáåÔºåÁªà‰∫éÊòØÊääJDKÁºñËØëÂ•Ω‰∫ÜÔºÅ ÊÄªÁªì‰ΩÜË°åÂ•Ω‰∫ãÔºåËé´ÈóÆÂâçÁ®ã ÂèÇËÄÉ mac‰∏ãÁºñËØëopenjdk1.9ÂèäÈõÜÊàêclionÂä®ÊÄÅË∞ÉËØï MacOS Mojave(10.14)ÁºñËØëopenjdk9]]></content>
      <categories>
        <category>JVMÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂàÜÂ∏ÉÂºè‰∫ãÂä°]]></title>
    <url>%2F2018%2F12%2F28%2F%E5%88%86%E5%B8%83%E5%BC%8F%2F%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%2F</url>
    <content type="text"><![CDATA[‰ºóÊâÄÂë®Áü•Ôºå‰∫ãÂä°ÂèØ‰ª•‰øùËØÅ‰∏ÄÁªÑÊìç‰ΩúË¶Å‰πàÂÖ®ÈÉΩÊ≠£Á°ÆÊâßË°åÔºåË¶Å‰πàÂÖ®ÈÉΩ‰∏çÊâßË°å„ÄÇÁõÆÂâçÁöÑÊï∞ÊçÆÂ∫ìÂè™ËÉΩÊîØÊåÅÂêå‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∫ãÂä°„ÄÇ‰ΩÜÁé∞Âú®ÁöÑÁ≥ªÁªüÂæÄÂæÄÈááÁî®ÂæÆÊúçÂä°Êû∂ÊûÑÔºå‰∏öÂä°Á≥ªÁªüÊã•ÊúâÁã¨Á´ãÁöÑÊï∞ÊçÆÂ∫ìÔºåÂõ†Ê≠§Â∞±Âá∫Áé∞‰∫ÜË∑®Â§ö‰∏™Êï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°ÈúÄÊ±ÇÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶Å‰ΩøÁî®ÂàÜÂ∏ÉÂºè‰∫ãÂä°Âï¶ÔºÅ ‰ªÄ‰πàÊòØÂàÜÂ∏ÉÂºè‰∫ãÂä°ÔºüÈöèÁùÄÂæÆÊúçÂä°Êû∂ÊûÑÁöÑÊôÆÂèäÔºå‰∏Ä‰∏™Â§ßÂûã‰∏öÂä°Á≥ªÁªüÂæÄÂæÄÁî±Ëã•Âπ≤‰∏™Â≠êÁ≥ªÁªüÊûÑÊàêÔºåËøô‰∫õÂ≠êÁ≥ªÁªüÂèàÊã•ÊúâÂêÑËá™Áã¨Á´ãÁöÑÊï∞ÊçÆÂ∫ì„ÄÇÂæÄÂæÄ‰∏Ä‰∏™‰∏öÂä°ÊµÅÁ®ãÈúÄË¶ÅÁî±Â§ö‰∏™Â≠êÁ≥ªÁªüÂÖ±ÂêåÂÆåÊàêÔºåËÄå‰∏îËøô‰∫õÊìç‰ΩúÂèØËÉΩÈúÄË¶ÅÂú®‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÂÆåÊàê„ÄÇÂú®ÂæÆÊúçÂä°Á≥ªÁªü‰∏≠ÔºåËøô‰∫õ‰∏öÂä°Âú∫ÊôØÊòØÊôÆÈÅçÂ≠òÂú®ÁöÑ„ÄÇÊ≠§Êó∂ÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅÂú®Êï∞ÊçÆÂ∫ì‰πã‰∏äÈÄöËøáÊüêÁßçÊâãÊÆµÔºåÂÆûÁé∞ÊîØÊåÅË∑®Êï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°ÊîØÊåÅÔºåËøôÂ∞±ÊòØÂàÜÂ∏ÉÂºè‰∫ãÂä°„ÄÇ ÊúÄÂÖ∏ÂûãÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä°‰æãÂ≠êÂ∞±ÊòØÁî®Êà∑‰∏ãÂçïËøáÁ®ãÔºåÊàë‰ª¨ÊåâÊúÄÁÆÄÂçïÁöÑÊù•ËØ¥ÔºåËÇØÂÆö‰ºöÊúâ‰∏ãÈù¢‰∏§‰∏™Ê≠•È™§Ôºö Áî®Êà∑‰∏ãÂçïÔºåËÆ¢ÂçïÁ≥ªÁªü‰ºöÁîüÊàê‰∏ÄÊù°ËÆ¢Âçï ËÆ¢ÂçïÂàõÂª∫ÊàêÂäüÂêéÔºåÊîØ‰ªòÁ≥ªÁªüËøõË°åÊîØ‰ªò ‰∏äÈù¢‰∏§‰∏™Ê≠•È™§ÂàÜÂà´ÊòØÂú®ËÆ¢ÂçïÁ≥ªÁªüÂíåÊîØ‰ªòÁ≥ªÁªü‰∏≠ÂÆåÊàê„ÄÇ‰ª•ÂâçÊàë‰ª¨Âú®ÂçïÊú∫ËøêË°åÁöÑÊÉÖÂÜµ‰∏ãÂæàÂÆπÊòìÂ∞±Ëß£ÂÜ≥„ÄÇ‰ΩÜÊòØÂú®Áé∞Âú®Ëøô‰∏™ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÔºåËøô‰∏§‰∏™Ê≠•È™§Ê∂âÂèä‰∏§‰∏™Á≥ªÁªüÔºåÊ∂âÂèä‰∏§‰∏™Êï∞ÊçÆÂ∫ìÔºåÊ≠§Êó∂Êàë‰ª¨ÂøÖÈ°ªÂú®Êï∞ÊçÆÂ∫ìÂíåÂ∫îÁî®Á≥ªÁªü‰πãÈó¥ÔºåÈÄöËøáÊüêÈ°πÊâãÊÆµÔºåÂÆûÁé∞ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÔºåË¶Å‰πàÂÖ®ÈÉΩÊ≠£Á°ÆÊâßË°åÔºåË¶Å‰πàÂÖ®ÈÉΩ‰∏çÊâßË°å„ÄÇ ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÂçèËÆÆ‰∏§Èò∂ÊÆµÊèê‰∫§ÂçèËÆÆ 2PCÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåÊØè‰∏™ËäÇÁÇπËôΩÁÑ∂ÂèØ‰ª•Áü•ÊôìËá™Â∑±ÁöÑÊìç‰ΩúÊó∂ÊàêÂäüÊàñËÄÖÂ§±Ë¥•ÔºåÂç¥Êó†Ê≥ïÁü•ÈÅìÂÖ∂‰ªñËäÇÁÇπÁöÑÊìç‰ΩúÁöÑÊàêÂäüÊàñÂ§±Ë¥•„ÄÇÂΩì‰∏Ä‰∏™‰∫ãÂä°Ë∑®Ë∂äÂ§ö‰∏™ËäÇÁÇπÊó∂Ôºå‰∏∫‰∫Ü‰øùÊåÅ‰∫ãÂä°ÁöÑACIDÁâπÊÄßÔºåÈúÄË¶ÅÂºïÂÖ•‰∏Ä‰∏™‰Ωú‰∏∫ÂçèË∞ÉËÄÖÁöÑÁªÑ‰ª∂Êù•Áªü‰∏ÄÊéåÊéßÊâÄÊúâËäÇÁÇπ(Áß∞‰ΩúÂèÇ‰∏éËÄÖ)ÁöÑÊìç‰ΩúÁªìÊûúÂπ∂ÊúÄÁªàÊåáÁ§∫Ëøô‰∫õËäÇÁÇπÊòØÂê¶Ë¶ÅÊääÊìç‰ΩúÁªìÊûúËøõË°åÁúüÊ≠£ÁöÑÊèê‰∫§(ÊØîÂ¶ÇÂ∞ÜÊõ¥Êñ∞ÂêéÁöÑÊï∞ÊçÆÂÜôÂÖ•Á£ÅÁõòÁ≠âÁ≠â)„ÄÇÂõ†Ê≠§Ôºå‰∫åÈò∂ÊÆµÊèê‰∫§ÁöÑÁÆóÊ≥ïÊÄùË∑ØÂèØ‰ª•Ê¶ÇÊã¨‰∏∫ÔºöÂèÇ‰∏éËÄÖÂ∞ÜÊìç‰ΩúÊàêË¥•ÈÄöÁü•ÂçèË∞ÉËÄÖÔºåÂÜçÁî±ÂçèË∞ÉËÄÖÊ†πÊçÆÊâÄÊúâÂèÇ‰∏éËÄÖÁöÑÂèçÈ¶àÊÉÖÊä•ÂÜ≥ÂÆöÂêÑÂèÇ‰∏éËÄÖÊòØÂê¶Ë¶ÅÊèê‰∫§Êìç‰ΩúËøòÊòØ‰∏≠Ê≠¢Êìç‰Ωú„ÄÇ ‰∏§Èò∂ÊÆµÂáÜÂ§áÈò∂ÊÆµÔºàÊäïÁ•®Èò∂ÊÆµÔºâ‰∫ãÂä°ÂçèË∞ÉËÄÖ(‰∫ãÂä°ÁÆ°ÁêÜÂô®)ÁªôÊØè‰∏™ÂèÇ‰∏éËÄÖ(ËµÑÊ∫êÁÆ°ÁêÜÂô®)ÂèëÈÄÅPrepareÊ∂àÊÅØÔºåÊØè‰∏™ÂèÇ‰∏éËÄÖË¶Å‰πàÁõ¥Êé•ËøîÂõûÂ§±Ë¥•(Â¶ÇÊùÉÈôêÈ™åËØÅÂ§±Ë¥•)ÔºåË¶Å‰πàÂú®Êú¨Âú∞ÊâßË°å‰∫ãÂä°ÔºåÂÜôÊú¨Âú∞ÁöÑredoÂíåundoÊó•ÂøóÔºå‰ΩÜ‰∏çÊèê‰∫§ÔºåÂà∞Ëææ‰∏ÄÁßç‚Äú‰∏á‰∫ã‰ø±Â§áÔºåÂè™Ê¨†‰∏úÈ£é‚ÄùÁöÑÁä∂ÊÄÅ„ÄÇ Êèê‰∫§Èò∂ÊÆµÔºàÊâßË°åÈò∂ÊÆµÔºâÂ¶ÇÊûúÂçèË∞ÉËÄÖÊî∂Âà∞‰∫ÜÂèÇ‰∏éËÄÖÁöÑÂ§±Ë¥•Ê∂àÊÅØÊàñËÄÖË∂ÖÊó∂ÔºåÁõ¥Êé•ÁªôÊØè‰∏™ÂèÇ‰∏éËÄÖÂèëÈÄÅÂõûÊªö(Rollback)Ê∂àÊÅØÔºõÂê¶ÂàôÔºåÂèëÈÄÅÊèê‰∫§(Commit)Ê∂àÊÅØÔºõÂèÇ‰∏éËÄÖÊ†πÊçÆÂçèË∞ÉËÄÖÁöÑÊåá‰ª§ÊâßË°åÊèê‰∫§ÊàñËÄÖÂõûÊªöÊìç‰ΩúÔºåÈáäÊîæÊâÄÊúâ‰∫ãÂä°Â§ÑÁêÜËøáÁ®ã‰∏≠‰ΩøÁî®ÁöÑÈîÅËµÑÊ∫ê„ÄÇ(Ê≥®ÊÑè:ÂøÖÈ°ªÂú®ÊúÄÂêéÈò∂ÊÆµÈáäÊîæÈîÅËµÑÊ∫ê) Áº∫ÁÇπ ÂêåÊ≠•ÈòªÂ°ûÈóÆÈ¢ò„ÄÇÊâßË°åËøáÁ®ã‰∏≠ÔºåÊâÄÊúâÂèÇ‰∏éËäÇÁÇπÈÉΩÊòØ‰∫ãÂä°ÈòªÂ°ûÂûãÁöÑ„ÄÇÂΩìÂèÇ‰∏éËÄÖÂç†ÊúâÂÖ¨ÂÖ±ËµÑÊ∫êÊó∂ÔºåÂÖ∂‰ªñÁ¨¨‰∏âÊñπËäÇÁÇπËÆøÈóÆÂÖ¨ÂÖ±ËµÑÊ∫ê‰∏çÂæó‰∏çÂ§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅ„ÄÇ ÂçïÁÇπÊïÖÈöú„ÄÇÁî±‰∫éÂçèË∞ÉËÄÖÁöÑÈáçË¶ÅÊÄßÔºå‰∏ÄÊó¶ÂçèË∞ÉËÄÖÂèëÁîüÊïÖÈöú„ÄÇÂèÇ‰∏éËÄÖ‰ºö‰∏ÄÁõ¥ÈòªÂ°û‰∏ãÂéª„ÄÇÂ∞§ÂÖ∂Âú®Á¨¨‰∫åÈò∂ÊÆµÔºåÂçèË∞ÉËÄÖÂèëÁîüÊïÖÈöúÔºåÈÇ£‰πàÊâÄÊúâÁöÑÂèÇ‰∏éËÄÖËøòÈÉΩÂ§Ñ‰∫éÈîÅÂÆö‰∫ãÂä°ËµÑÊ∫êÁöÑÁä∂ÊÄÅ‰∏≠ÔºåËÄåÊó†Ê≥ïÁªßÁª≠ÂÆåÊàê‰∫ãÂä°Êìç‰Ωú„ÄÇÔºàÂ¶ÇÊûúÊòØÂçèË∞ÉËÄÖÊåÇÊéâÔºåÂèØ‰ª•ÈáçÊñ∞ÈÄâ‰∏æ‰∏Ä‰∏™ÂçèË∞ÉËÄÖÔºå‰ΩÜÊòØÊó†Ê≥ïËß£ÂÜ≥Âõ†‰∏∫ÂçèË∞ÉËÄÖÂÆïÊú∫ÂØºËá¥ÁöÑÂèÇ‰∏éËÄÖÂ§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅÁöÑÈóÆÈ¢òÔºâ Êï∞ÊçÆ‰∏ç‰∏ÄËá¥„ÄÇÂú®‰∫åÈò∂ÊÆµÊèê‰∫§ÁöÑÈò∂ÊÆµ‰∫å‰∏≠ÔºåÂΩìÂçèË∞ÉËÄÖÂêëÂèÇ‰∏éËÄÖÂèëÈÄÅcommitËØ∑Ê±Ç‰πãÂêéÔºåÂèëÁîü‰∫ÜÂ±ÄÈÉ®ÁΩëÁªúÂºÇÂ∏∏ÊàñËÄÖÂú®ÂèëÈÄÅcommitËØ∑Ê±ÇËøáÁ®ã‰∏≠ÂçèË∞ÉËÄÖÂèëÁîü‰∫ÜÊïÖÈöúÔºåËøôÂõûÂØºËá¥Âè™Êúâ‰∏ÄÈÉ®ÂàÜÂèÇ‰∏éËÄÖÊé•ÂèóÂà∞‰∫ÜcommitËØ∑Ê±Ç„ÄÇËÄåÂú®ËøôÈÉ®ÂàÜÂèÇ‰∏éËÄÖÊé•Âà∞commitËØ∑Ê±Ç‰πãÂêéÂ∞±‰ºöÊâßË°åcommitÊìç‰Ωú„ÄÇ‰ΩÜÊòØÂÖ∂‰ªñÈÉ®ÂàÜÊú™Êé•Âà∞commitËØ∑Ê±ÇÁöÑÊú∫Âô®ÂàôÊó†Ê≥ïÊâßË°å‰∫ãÂä°Êèê‰∫§„ÄÇ‰∫éÊòØÊï¥‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰æøÂá∫Áé∞‰∫ÜÊï∞ÊçÆÈÉ®‰∏ÄËá¥ÊÄßÁöÑÁé∞Ë±°„ÄÇ ‰∫åÈò∂ÊÆµÊó†Ê≥ïËß£ÂÜ≥ÁöÑÈóÆÈ¢òÔºöÂçèË∞ÉËÄÖÂÜçÂèëÂá∫commitÊ∂àÊÅØ‰πãÂêéÂÆïÊú∫ÔºåËÄåÂîØ‰∏ÄÊé•Êî∂Âà∞ËøôÊù°Ê∂àÊÅØÁöÑÂèÇ‰∏éËÄÖÂêåÊó∂‰πüÂÆïÊú∫‰∫Ü„ÄÇÈÇ£‰πàÂç≥‰ΩøÂçèË∞ÉËÄÖÈÄöËøáÈÄâ‰∏æ Áî±‰∫é‰∫åÈò∂ÊÆµÊèê‰∫§Â≠òÂú®ÁùÄËØ∏Â¶ÇÂêåÊ≠•ÈòªÂ°û„ÄÅÂçïÁÇπÈóÆÈ¢ò„ÄÅËÑëË£ÇÁ≠âÁº∫Èô∑ÔºåÊâÄ‰ª•ÔºåÁ†îÁ©∂ËÄÖ‰ª¨Âú®‰∫åÈò∂ÊÆµÊèê‰∫§ÁöÑÂü∫Á°Ä‰∏äÂÅö‰∫ÜÊîπËøõÔºåÊèêÂá∫‰∫Ü‰∏âÈò∂ÊÆµÊèê‰∫§„ÄÇ ‰∏âÈò∂ÊÆµÊèê‰∫§ÂçèËÆÆ 3PC‰∏é‰∏§Èò∂ÊÆµÊèê‰∫§‰∏çÂêåÁöÑÊòØÔºå‰∏âÈò∂ÊÆµÊèê‰∫§Êúâ‰∏§‰∏™ÊîπÂä®ÁÇπÔºö ÂºïÂÖ•Ë∂ÖÊó∂Êú∫Âà∂„ÄÇÂêåÊó∂Âú®ÂçèË∞ÉËÄÖÂíåÂèÇ‰∏éËÄÖ‰∏≠ÈÉΩÂºïÂÖ•Ë∂ÖÊó∂Êú∫Âà∂„ÄÇ Âú®Á¨¨‰∏ÄÈò∂ÊÆµÂíåÁ¨¨‰∫åÈò∂ÊÆµ‰∏≠ÊèíÂÖ•‰∏Ä‰∏™ÂáÜÂ§áÈò∂ÊÆµ„ÄÇ‰øùËØÅ‰∫ÜÂú®ÊúÄÂêéÊèê‰∫§Èò∂ÊÆµ‰πãÂâçÂêÑÂèÇ‰∏éËäÇÁÇπÁöÑÁä∂ÊÄÅÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ ‰∏âÈò∂ÊÆµCanCommitÈò∂ÊÆµ ‰∫ãÂä°ËØ¢ÈóÆ ÂçèË∞ÉËÄÖÂêëÂèÇ‰∏éËÄÖÂèëÈÄÅCanCommitËØ∑Ê±Ç„ÄÇËØ¢ÈóÆÊòØÂê¶ÂèØ‰ª•ÊâßË°å‰∫ãÂä°Êèê‰∫§Êìç‰Ωú„ÄÇÁÑ∂ÂêéÂºÄÂßãÁ≠âÂæÖÂèÇ‰∏éËÄÖÁöÑÂìçÂ∫î„ÄÇ ÂìçÂ∫îÂèçÈ¶à ÂèÇ‰∏éËÄÖÊé•Âà∞CanCommitËØ∑Ê±Ç‰πãÂêéÔºåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÂÖ∂Ëá™Ë∫´ËÆ§‰∏∫ÂèØ‰ª•È°∫Âà©ÊâßË°å‰∫ãÂä°ÔºåÂàôËøîÂõûYesÂìçÂ∫îÔºåÂπ∂ËøõÂÖ•È¢ÑÂ§áÁä∂ÊÄÅ„ÄÇÂê¶ÂàôÂèçÈ¶àNo PreCommitÈò∂ÊÆµ‰∏§ÁßçÊÉÖÂÜµÔºöÂÅáÂ¶ÇÂçèË∞ÉËÄÖ‰ªéÊâÄÊúâÁöÑÂèÇ‰∏éËÄÖËé∑ÂæóÁöÑÂèçÈ¶àÈÉΩÊòØYesÂìçÂ∫îÔºö ÂèëÈÄÅÈ¢ÑÊèê‰∫§ËØ∑Ê±Ç ÂçèË∞ÉËÄÖÂêëÂèÇ‰∏éËÄÖÂèëÈÄÅPreCommitËØ∑Ê±ÇÔºåÂπ∂ËøõÂÖ•PreparedÈò∂ÊÆµ„ÄÇ ‰∫ãÂä°È¢ÑÊèê‰∫§ ÂèÇ‰∏éËÄÖÊé•Êî∂Âà∞PreCommitËØ∑Ê±ÇÂêéÔºå‰ºöÊâßË°å‰∫ãÂä°Êìç‰ΩúÔºåÂπ∂Â∞ÜundoÂíåredo‰ø°ÊÅØËÆ∞ÂΩïÂà∞‰∫ãÂä°Êó•Âøó‰∏≠„ÄÇ ÂìçÂ∫îÂèçÈ¶à Â¶ÇÊûúÂèÇ‰∏éËÄÖÊàêÂäüÁöÑÊâßË°å‰∫Ü‰∫ãÂä°Êìç‰ΩúÔºåÂàôËøîÂõûACKÂìçÂ∫îÔºåÂêåÊó∂ÂºÄÂßãÁ≠âÂæÖÊúÄÁªàÊåá‰ª§„ÄÇ ÂÅáÂ¶ÇÊúâ‰ªª‰Ωï‰∏Ä‰∏™ÂèÇ‰∏éËÄÖÂêëÂçèË∞ÉËÄÖÂèëÈÄÅ‰∫ÜNoÂìçÂ∫îÔºåÊàñËÄÖÁ≠âÂæÖË∂ÖÊó∂‰πãÂêéÔºö ÂèëÈÄÅ‰∏≠Êñ≠ËØ∑Ê±Ç ÂçèË∞ÉËÄÖÂêëÊâÄÊúâÂèÇ‰∏éËÄÖÂèëÈÄÅabortËØ∑Ê±Ç„ÄÇ ‰∏≠Êñ≠‰∫ãÂä° ÂèÇ‰∏éËÄÖÊî∂Âà∞Êù•Ëá™ÂçèË∞ÉËÄÖÁöÑabortËØ∑Ê±Ç‰πãÂêéÔºàÊàñË∂ÖÊó∂‰πãÂêéÔºå‰ªçÊú™Êî∂Âà∞ÂçèË∞ÉËÄÖÁöÑËØ∑Ê±ÇÔºâÔºåÊâßË°å‰∫ãÂä°ÁöÑ‰∏≠Êñ≠„ÄÇ doCommitÈò∂ÊÆµ‰∏§ÁßçÊÉÖÂÜµÔºöÂçèË∞ÉËÄÖÊé•Êî∂Âà∞ÂèÇ‰∏éËÄÖÂèëÈÄÅÁöÑACKÂìçÂ∫îÔºö ÂèëÈÄÅÊèê‰∫§ËØ∑Ê±Ç ÂçèË∞ÉÊé•Êî∂Âà∞ÂèÇ‰∏éËÄÖÂèëÈÄÅÁöÑACKÂìçÂ∫îÔºåÈÇ£‰πà‰ªñÂ∞Ü‰ªéÈ¢ÑÊèê‰∫§Áä∂ÊÄÅËøõÂÖ•Âà∞Êèê‰∫§Áä∂ÊÄÅ„ÄÇÂπ∂ÂêëÊâÄÊúâÂèÇ‰∏éËÄÖÂèëÈÄÅdoCommitËØ∑Ê±Ç„ÄÇ ‰∫ãÂä°Êèê‰∫§ ÂèÇ‰∏éËÄÖÊé•Êî∂Âà∞doCommitËØ∑Ê±Ç‰πãÂêéÔºåÊâßË°åÊ≠£ÂºèÁöÑ‰∫ãÂä°Êèê‰∫§„ÄÇÂπ∂Âú®ÂÆåÊàê‰∫ãÂä°Êèê‰∫§‰πãÂêéÈáäÊîæÊâÄÊúâ‰∫ãÂä°ËµÑÊ∫ê„ÄÇ ÂìçÂ∫îÂèçÈ¶à ‰∫ãÂä°Êèê‰∫§ÂÆå‰πãÂêéÔºåÂêëÂçèË∞ÉËÄÖÂèëÈÄÅAckÂìçÂ∫î„ÄÇ ÂÆåÊàê‰∫ãÂä° ÂçèË∞ÉËÄÖÊé•Êî∂Âà∞ÊâÄÊúâÂèÇ‰∏éËÄÖÁöÑackÂìçÂ∫î‰πãÂêéÔºåÂÆåÊàê‰∫ãÂä°„ÄÇ ÂçèË∞ÉËÄÖÊ≤°ÊúâÊé•Êî∂Âà∞ÂèÇ‰∏éËÄÖÂèëÈÄÅÁöÑACKÂìçÂ∫îÔºåÊàñËÄÖÂìçÂ∫îË∂ÖÊó∂Ôºö ÂèëÈÄÅ‰∏≠Êñ≠ËØ∑Ê±Ç ÂçèË∞ÉËÄÖÂêëÊâÄÊúâÂèÇ‰∏éËÄÖÂèëÈÄÅabortËØ∑Ê±Ç ‰∫ãÂä°ÂõûÊªö ÂèÇ‰∏éËÄÖÊé•Êî∂Âà∞abortËØ∑Ê±Ç‰πãÂêéÔºåÂà©Áî®ÂÖ∂Âú®Èò∂ÊÆµ‰∫åËÆ∞ÂΩïÁöÑundo‰ø°ÊÅØÊù•ÊâßË°å‰∫ãÂä°ÁöÑÂõûÊªöÊìç‰ΩúÔºåÂπ∂Âú®ÂÆåÊàêÂõûÊªö‰πãÂêéÈáäÊîæÊâÄÊúâÁöÑ‰∫ãÂä°ËµÑÊ∫ê„ÄÇ ÂèçÈ¶àÁªìÊûú ÂèÇ‰∏éËÄÖÂÆåÊàê‰∫ãÂä°ÂõûÊªö‰πãÂêéÔºåÂêëÂçèË∞ÉËÄÖÂèëÈÄÅACKÊ∂àÊÅØ ‰∏≠Êñ≠‰∫ãÂä° ÂçèË∞ÉËÄÖÊé•Êî∂Âà∞ÂèÇ‰∏éËÄÖÂèçÈ¶àÁöÑACKÊ∂àÊÅØ‰πãÂêéÔºåÊâßË°å‰∫ãÂä°ÁöÑ‰∏≠Êñ≠„ÄÇ 2PC‰∏é3PCÁöÑÂå∫Âà´Áõ∏ÂØπ‰∫é2PCÔºå3PC‰∏ªË¶ÅËß£ÂÜ≥ÁöÑÂçïÁÇπÊïÖÈöúÈóÆÈ¢òÔºåÂπ∂ÂáèÂ∞ëÈòªÂ°ûÔºåÂõ†‰∏∫‰∏ÄÊó¶ÂèÇ‰∏éËÄÖÊó†Ê≥ïÂèäÊó∂Êî∂Âà∞Êù•Ëá™ÂçèË∞ÉËÄÖÁöÑ‰ø°ÊÅØ‰πãÂêéÔºå‰ªñ‰ºöÈªòËÆ§ÊâßË°åcommit„ÄÇ ËÄå‰∏ç‰ºö‰∏ÄÁõ¥ÊåÅÊúâ‰∫ãÂä°ËµÑÊ∫êÂπ∂Â§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅ„ÄÇ‰ΩÜÊòØËøôÁßçÊú∫Âà∂‰πü‰ºöÂØºËá¥Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢òÔºåÂõ†‰∏∫ÔºåÁî±‰∫éÁΩëÁªúÂéüÂõ†ÔºåÂçèË∞ÉËÄÖÂèëÈÄÅÁöÑabortÂìçÂ∫îÊ≤°ÊúâÂèäÊó∂Ë¢´ÂèÇ‰∏éËÄÖÊé•Êî∂Âà∞ÔºåÈÇ£‰πàÂèÇ‰∏éËÄÖÂú®Á≠âÂæÖË∂ÖÊó∂‰πãÂêéÊâßË°å‰∫ÜcommitÊìç‰Ωú„ÄÇËøôÊ†∑Â∞±ÂíåÂÖ∂‰ªñÊé•Âà∞abortÂëΩ‰ª§Âπ∂ÊâßË°åÂõûÊªöÁöÑÂèÇ‰∏éËÄÖ‰πãÈó¥Â≠òÂú®Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÁöÑÊÉÖÂÜµ„ÄÇ ÂàÜÂ∏ÉÂºèËß£ÂÜ≥ÊñπÊ°àÂâçË®ÄÂΩì‰Ω†ËßâÂæó‰Ω†ÁöÑÁ≥ªÁªü‰∏≠‰ΩøÁî®ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÁöÑÊó∂ÂÄôÔºå‰Ω†‰∏ÄÂÆöË¶ÅÈóÆÈóÆËá™Â∑±ÁúüÁöÑÈúÄË¶ÅÂêó?ÂæàÂ§öÊó∂ÂÄôÊàë‰ª¨Âπ∂‰∏çÈúÄË¶ÅÔºå‰πüËÆ∏Êàë‰ª¨Âè™Ë¶ÅÂ∞Ü‰∏§‰∏™ÂæÆÊúçÂä°ËÅöÂêàÊàê‰∏Ä‰∏™ÂçïÊú∫ÊúçÂä°Ôºå‰ªéËÄåÂèØ‰ª•‰ΩøÁî®Êï∞ÊçÆÂ∫ìÁöÑÊú¨Âú∞‰∫ãÂä°„ÄÇÂõ†‰∏∫‰Ω†Âè™Ë¶Å‰ΩøÁî®‰∫ÜÂàÜÂ∏ÉÂºè‰∫ãÂä°ÔºåÂøÖÁÑ∂‰ºöÂ¢ûÂä†Á≥ªÁªüÁöÑÂ§çÊùÇÂ∫¶„ÄÇ ÂΩìÁÑ∂ÊúâÊó∂ÂÄôÊàë‰ª¨ÊòØÁúüÁöÑÈúÄË¶ÅÔºå‰∏ãÈù¢Êàë‰ª¨‰ªãÁªçÂá†ÁßçÂ∏∏ËßÅÁöÑÊñπÊ°àÔºÅ Âü∫‰∫éXAÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä° Âü∫‰∫éXAÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä°ÂÖ∂ÂÆûÂ∞±ÊòØ2PCÂçèËÆÆÁöÑÂÆûÁé∞„ÄÇÊâÄ‰ª•ÂÆÉÊØîËæÉÁÆÄÂçïÔºåÊàêÊú¨ËæÉ‰ΩéÔºå‰ΩÜÊòØÂÖ∂ÂçïÁÇπÈóÆÈ¢òÔºå‰ª•Âèä‰∏çËÉΩÊîØÊåÅÈ´òÂπ∂Âèë(Áî±‰∫éÂêåÊ≠•ÈòªÂ°û)‰æùÁÑ∂ÊòØÂÖ∂ÊúÄÂ§ßÁöÑÂº±ÁÇπ„ÄÇ‰ΩÜÊòØMysql„ÄÅOracleÈÉΩÂú®‰ΩøÁî®ËøôÁßçÊñπÊ°à„ÄÇ Âü∫‰∫éÊ∂àÊÅØÁöÑÊúÄÁªà‰∏ÄËá¥ÊÄßÊñπÊ°àËøôÁßçÂÆûÁé∞ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÁöÑÊñπÂºèÈúÄË¶ÅÈÄöËøáÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Êù•ÂÆûÁé∞„ÄÇÂÅáËÆæÊúâAÂíåB‰∏§‰∏™Á≥ªÁªüÔºåÂàÜÂà´ÂèØ‰ª•Â§ÑÁêÜ‰ªªÂä°AÂíå‰ªªÂä°B„ÄÇÊ≠§Êó∂Á≥ªÁªüA‰∏≠Â≠òÂú®‰∏Ä‰∏™‰∏öÂä°ÊµÅÁ®ãÔºåÈúÄË¶ÅÂ∞Ü‰ªªÂä°AÂíå‰ªªÂä°BÂú®Âêå‰∏Ä‰∏™‰∫ãÂä°‰∏≠Â§ÑÁêÜ„ÄÇ‰∏ãÈù¢Êù•‰ªãÁªçÂü∫‰∫éÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Êù•ÂÆûÁé∞ËøôÁßçÂàÜÂ∏ÉÂºè‰∫ãÂä°„ÄÇ Âú®Á≥ªÁªüAÂ§ÑÁêÜ‰ªªÂä°AÂâçÔºåÈ¶ñÂÖàÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÂèëÈÄÅ‰∏ÄÊù°Ê∂àÊÅØ Ê∂àÊÅØ‰∏≠Èó¥‰ª∂Êî∂Âà∞ÂêéÂ∞ÜËØ•Êù°Ê∂àÊÅØÊåÅ‰πÖÂåñÔºå‰ΩÜÂπ∂‰∏çÊäïÈÄí„ÄÇÊ≠§Êó∂‰∏ãÊ∏∏Á≥ªÁªüB‰ªçÁÑ∂‰∏çÁü•ÈÅìËØ•Êù°Ê∂àÊÅØÁöÑÂ≠òÂú®„ÄÇ Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ÊåÅ‰πÖÂåñÊàêÂäüÂêéÔºå‰æøÂêëÁ≥ªÁªüAËøîÂõû‰∏Ä‰∏™Á°ÆËÆ§Â∫îÁ≠îÔºõ Á≥ªÁªüAÊî∂Âà∞Á°ÆËÆ§Â∫îÁ≠îÂêéÔºåÂàôÂèØ‰ª•ÂºÄÂßãÂ§ÑÁêÜ‰ªªÂä°AÔºõ ‰ªªÂä°AÂ§ÑÁêÜÂÆåÊàêÂêéÔºåÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÂèëÈÄÅCommitËØ∑Ê±Ç„ÄÇËØ•ËØ∑Ê±ÇÂèëÈÄÅÂÆåÊàêÂêéÔºåÂØπÁ≥ªÁªüAËÄåË®ÄÔºåËØ•‰∫ãÂä°ÁöÑÂ§ÑÁêÜËøáÁ®ãÂ∞±ÁªìÊùü‰∫ÜÔºåÊ≠§Êó∂ÂÆÉÂèØ‰ª•Â§ÑÁêÜÂà´ÁöÑ‰ªªÂä°‰∫Ü„ÄÇ ‰ΩÜcommitÊ∂àÊÅØÂèØËÉΩ‰ºöÂú®‰º†ËæìÈÄî‰∏≠‰∏¢Â§±Ôºå‰ªéËÄåÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Âπ∂‰∏ç‰ºöÂêëÁ≥ªÁªüBÊäïÈÄíËøôÊù°Ê∂àÊÅØÔºå‰ªéËÄåÁ≥ªÁªüÂ∞±‰ºöÂá∫Áé∞‰∏ç‰∏ÄËá¥ÊÄß„ÄÇËøô‰∏™ÈóÆÈ¢òÁî±Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ÁöÑ‰∫ãÂä°ÂõûÊü•Êú∫Âà∂ÂÆåÊàêÔºå‰∏ãÊñá‰ºö‰ªãÁªç„ÄÇ Ê∂àÊÅØ‰∏≠Èó¥‰ª∂Êî∂Âà∞CommitÊåá‰ª§ÂêéÔºå‰æøÂêëÁ≥ªÁªüBÊäïÈÄíËØ•Ê∂àÊÅØÔºå‰ªéËÄåËß¶Âèë‰ªªÂä°BÁöÑÊâßË°åÔºõ ÂΩì‰ªªÂä°BÊâßË°åÂÆåÊàêÂêéÔºåÁ≥ªÁªüBÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ËøîÂõû‰∏Ä‰∏™Á°ÆËÆ§Â∫îÁ≠îÔºåÂëäËØâÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ËØ•Ê∂àÊÅØÂ∑≤ÁªèÊàêÂäüÊ∂àË¥πÔºåÊ≠§Êó∂ÔºåËøô‰∏™ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÂÆåÊàê„ÄÇ ‰ªé‰∏äÈù¢ÁöÑËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂá∫Ôºö Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ÊâÆÊºîËÄÖÂàÜÂ∏ÉÂºè‰∫ãÂä°ÂçèË∞ÉËÄÖÁöÑËßíËâ≤„ÄÇ Á≥ªÁªüAÂÆåÊàê‰ªªÂä°AÂêéÔºåÂà∞‰ªªÂä°BÊâßË°åÂÆåÊàê‰πãÈó¥Ôºå‰ºöÂ≠òÂú®‰∏ÄÂÆöÁöÑÊó∂Èó¥Â∑Æ„ÄÇÂú®Ëøô‰∏™Êó∂Èó¥Â∑ÆÂÜÖÔºåÊï¥‰∏™Á≥ªÁªüÂ§Ñ‰∫éÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÁöÑÁä∂ÊÄÅÔºå‰ΩÜËøôÁü≠ÊöÇÁöÑ‰∏ç‰∏ÄËá¥ÊÄßÊòØÂèØ‰ª•Êé•ÂèóÁöÑÔºåÂõ†‰∏∫ÁªèËøáÁü≠ÊöÇÁöÑÊó∂Èó¥ÂêéÔºåÁ≥ªÁªüÂèàÂèØ‰ª•‰øùÊåÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºåÊª°Ë∂≥BASEÁêÜËÆ∫„ÄÇ ‰∏äËø∞ËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûú‰ªªÂä°AÂ§ÑÁêÜÂ§±Ë¥•ÔºåÈÇ£‰πàÈúÄË¶ÅËøõÂÖ•ÂõûÊªöÊµÅÁ®ãÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö Ëã•Á≥ªÁªüAÂú®Â§ÑÁêÜ‰ªªÂä°AÊó∂Â§±Ë¥•ÔºåÈÇ£‰πàÂ∞±‰ºöÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÂèëÈÄÅRollbackËØ∑Ê±Ç„ÄÇÂíåÂèëÈÄÅCommitËØ∑Ê±Ç‰∏ÄÊ†∑ÔºåÁ≥ªÁªüAÂèëÂÆå‰πãÂêé‰æøÂèØ‰ª•ËÆ§‰∏∫ÂõûÊªöÂ∑≤ÁªèÂÆåÊàêÔºåÂÆÉ‰æøÂèØ‰ª•ÂéªÂÅöÂÖ∂‰ªñÁöÑ‰∫ãÊÉÖ„ÄÇ Ê∂àÊÅØ‰∏≠Èó¥‰ª∂Êî∂Âà∞ÂõûÊªöËØ∑Ê±ÇÂêéÔºåÁõ¥Êé•Â∞ÜËØ•Ê∂àÊÅØ‰∏¢ÂºÉÔºåËÄå‰∏çÊäïÈÄíÁªôÁ≥ªÁªüBÔºå‰ªéËÄå‰∏ç‰ºöËß¶ÂèëÁ≥ªÁªüBÁöÑ‰ªªÂä°B„ÄÇ ‰∏äÈù¢ÊâÄ‰ªãÁªçÁöÑCommitÂíåRollbackÈÉΩÂ±û‰∫éÁêÜÊÉ≥ÊÉÖÂÜµÔºå‰ΩÜÂú®ÂÆûÈôÖÁ≥ªÁªü‰∏≠ÔºåCommitÂíåRollbackÊåá‰ª§ÈÉΩÊúâÂèØËÉΩÂú®‰º†ËæìÈÄî‰∏≠‰∏¢Â§±„ÄÇÈÇ£‰πàÂΩìÂá∫Áé∞ËøôÁßçÊÉÖÂÜµÁöÑÊó∂ÂÄôÔºåÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÊòØÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÂë¢Ôºü‚Äî‚ÄîÁ≠îÊ°àÂ∞±ÊòØË∂ÖÊó∂ËØ¢ÈóÆÊú∫Âà∂„ÄÇ ÊâÄ‰ª•Á≥ªÁªüAÈô§‰∫ÜÂÆûÁé∞Ê≠£Â∏∏ÁöÑ‰∏öÂä°ÊµÅÁ®ãÂ§ñÔºåËøòÈúÄÊèê‰æõ‰∏Ä‰∏™‰∫ãÂä°ËØ¢ÈóÆÁöÑÊé•Âè£Ôºå‰æõÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Ë∞ÉÁî®„ÄÇÂΩìÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Êî∂Âà∞‰∏ÄÊù°‰∫ãÂä°ÂûãÊ∂àÊÅØÂêé‰æøÂºÄÂßãËÆ°Êó∂ÔºåÂ¶ÇÊûúÂà∞‰∫ÜË∂ÖÊó∂Êó∂Èó¥‰πüÊ≤°Êî∂Âà∞Á≥ªÁªüAÂèëÊù•ÁöÑCommitÊàñRollbackÊåá‰ª§ÁöÑËØùÔºåÂ∞±‰ºö‰∏ªÂä®Ë∞ÉÁî®Á≥ªÁªüAÊèê‰æõÁöÑ‰∫ãÂä°ËØ¢ÈóÆÊé•Âè£ËØ¢ÈóÆËØ•Á≥ªÁªüÁõÆÂâçÁöÑÁä∂ÊÄÅ„ÄÇËØ•Êé•Âè£‰ºöËøîÂõû‰∏âÁßçÁªìÊûúÔºö Êèê‰∫§ Ëã•Ëé∑ÂæóÁöÑÁä∂ÊÄÅÊòØ‚ÄúÊèê‰∫§‚ÄùÔºåÂàôÂ∞ÜËØ•Ê∂àÊÅØÊäïÈÄíÁªôÁ≥ªÁªüB„ÄÇ ÂõûÊªö Ëã•Ëé∑ÂæóÁöÑÁä∂ÊÄÅÊòØ‚ÄúÂõûÊªö‚ÄùÔºåÂàôÁõ¥Êé•Â∞ÜÊù°Ê∂àÊÅØ‰∏¢ÂºÉ„ÄÇ Â§ÑÁêÜ‰∏≠ Ëã•Ëé∑ÂæóÁöÑÁä∂ÊÄÅÊòØ‚ÄúÂ§ÑÁêÜ‰∏≠‚ÄùÔºåÂàôÁªßÁª≠Á≠âÂæÖ„ÄÇ ‰∏äÊ∏∏ÁöÑÁöÑÊ∂àÊÅØÊäïÈÄí‰øùËØÅ‰∫ÜÔºåÈÇ£‰πà‰∏ãÊ∏∏ÁöÑÊ∂àÊÅØÊäïÈÄíÁöÑÂèØÈù†ÊÄß‰øùËØÅÊÄé‰πàËß£ÂÜ≥Âë¢Ôºü ÂΩì‰∏äÊ∏∏Á≥ªÁªüÊâßË°åÂÆå‰ªªÂä°Âπ∂ÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Êèê‰∫§‰∫ÜCommitÊåá‰ª§ÂêéÔºå‰æøÂèØ‰ª•Â§ÑÁêÜÂÖ∂‰ªñ‰ªªÂä°‰∫ÜÔºåÊ≠§Êó∂ÂÆÉÂèØ‰ª•ËÆ§‰∏∫‰∫ãÂä°Â∑≤ÁªèÂÆåÊàêÔºåÊé•‰∏ãÊù•Ê∂àÊÅØ‰∏≠Èó¥‰ª∂‰∏ÄÂÆö‰ºö‰øùËØÅÊ∂àÊÅØË¢´‰∏ãÊ∏∏Á≥ªÁªüÊàêÂäüÊ∂àË¥πÊéâÔºÅÈÇ£‰πàËøôÊòØÊÄé‰πàÂÅöÂà∞ÁöÑÂë¢ÔºüËøôÁî±Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ÁöÑÊäïÈÄíÊµÅÁ®ãÊù•‰øùËØÅ„ÄÇÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Âêë‰∏ãÊ∏∏Á≥ªÁªüÊäïÈÄíÂÆåÊ∂àÊÅØÂêé‰æøËøõÂÖ•ÈòªÂ°ûÁ≠âÂæÖÁä∂ÊÄÅÔºå‰∏ãÊ∏∏Á≥ªÁªü‰æøÁ´ãÂç≥ËøõË°å‰ªªÂä°ÁöÑÂ§ÑÁêÜÔºå‰ªªÂä°Â§ÑÁêÜÂÆåÊàêÂêé‰æøÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ËøîÂõûÂ∫îÁ≠î„ÄÇÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Êî∂Âà∞Á°ÆËÆ§Â∫îÁ≠îÂêé‰æøËÆ§‰∏∫ËØ•‰∫ãÂä°Â§ÑÁêÜÂÆåÊØïÔºÅÂ¶ÇÊûúÊ∂àÊÅØÂú®ÊäïÈÄíËøáÁ®ã‰∏≠‰∏¢Â§±ÔºåÊàñÊ∂àÊÅØÁöÑÁ°ÆËÆ§Â∫îÁ≠îÂú®ËøîÂõûÈÄî‰∏≠‰∏¢Â§±ÔºåÈÇ£‰πàÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Âú®Á≠âÂæÖÁ°ÆËÆ§Â∫îÁ≠îË∂ÖÊó∂‰πãÂêéÂ∞±‰ºöÈáçÊñ∞ÊäïÈÄíÔºåÁõ¥Âà∞‰∏ãÊ∏∏Ê∂àË¥πËÄÖËøîÂõûÊ∂àË¥πÊàêÂäüÂìçÂ∫î‰∏∫Ê≠¢„ÄÇÂΩìÁÑ∂Ôºå‰∏ÄËà¨Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ÂèØ‰ª•ËÆæÁΩÆÊ∂àÊÅØÈáçËØïÁöÑÊ¨°Êï∞ÂíåÊó∂Èó¥Èó¥ÈöîÔºåÂ¶ÇÊûúÈáçËØïÂ§öÊ¨°‰πãÂêé‰ªçÁÑ∂ÊäïÈÄíÂ§±Ë¥•ÔºåÈÇ£‰πàËøôÊù°Ê∂àÊÅØÂ∞±ÈúÄË¶Å‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ Â¶ÇÊûúÊ∂àË¥πË∂ÖÊó∂ÔºåÂàôÈúÄË¶Å‰∏ÄÁõ¥ÈáçËØïÔºåËøôÈáåÂ∞±‰ºöÂá∫Áé∞‰∏Ä‰∏™ÈóÆÈ¢òÔºöÊ∂àÊÅØÊé•Êî∂Á´ØÈúÄË¶Å‰øùËØÅÂπÇÁ≠â„ÄÇËøôÂèàÊòØÂè¶Â§ñ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÊØîÂ¶Ç‰ΩøÁî®ÁâàÊú¨ÊéßÂà∂„ÄÇ ËøôÈáåËøòÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØÔºå‰∏äÊ∏∏Á≥ªÁªüAÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Êèê‰∫§Commit/RollbackÊ∂àÊÅØÈááÁî®ÁöÑÊòØÂºÇÊ≠•ÊñπÂºèÔºåÊ∂àÊÅØ‰∏≠Èó¥‰ª∂Âíå‰∏ãÊ∏∏Á≥ªÁªü‰πãÈó¥‰∏∫‰ªÄ‰πàË¶ÅÈááÁî®ÂêåÊ≠•ÈÄö‰ø°Âë¢Ôºü Ê∏∏Á≥ªÁªüÂíåÊ∂àÊÅØ‰∏≠Èó¥‰ª∂‰πãÈó¥ÈááÁî®ÂºÇÊ≠•ÈÄö‰ø°ÊòØ‰∏∫‰∫ÜÊèêÈ´òÁ≥ªÁªüÂπ∂ÂèëÂ∫¶„ÄÇ‰∏öÂä°Á≥ªÁªüÁõ¥Êé•ÂíåÁî®Êà∑Êâì‰∫§ÈÅìÔºåÁî®Êà∑‰ΩìÈ™åÂ∞§‰∏∫ÈáçË¶ÅÔºåÂõ†Ê≠§ËøôÁßçÂºÇÊ≠•ÈÄö‰ø°ÊñπÂºèËÉΩÂ§üÊûÅÂ§ßÁ®ãÂ∫¶Âú∞Èôç‰ΩéÁî®Êà∑Á≠âÂæÖÊó∂Èó¥„ÄÇÊ≠§Â§ñÔºåÂºÇÊ≠•ÈÄö‰ø°Áõ∏ÂØπ‰∫éÂêåÊ≠•ÈÄö‰ø°ËÄåË®ÄÔºåÊ≤°Êúâ‰∫ÜÈïøÊó∂Èó¥ÁöÑÈòªÂ°ûÁ≠âÂæÖÔºåÂõ†Ê≠§Á≥ªÁªüÁöÑÂπ∂ÂèëÊÄß‰πüÂ§ßÂ§ßÂ¢ûÂä†„ÄÇ‰ΩÜÂºÇÊ≠•ÈÄö‰ø°ÂèØËÉΩ‰ºöÂºïËµ∑Commit/RollbackÊåá‰ª§‰∏¢Â§±ÁöÑÈóÆÈ¢òÔºåËøôÂ∞±Áî±Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ÁöÑË∂ÖÊó∂ËØ¢ÈóÆÊú∫Âà∂Êù•Âº•Ë°•„ÄÇ Ê∂àÊÅØÊÅØ‰∏≠Èó¥‰ª∂Âíå‰∏ãÊ∏∏Á≥ªÁªü‰πãÈó¥ÈááÁî®ÂêåÊ≠•ÈÄö‰ø°ÊòØÂõ†‰∏∫ÂêåÊ≠•ËôΩÁÑ∂Èôç‰ΩéÁ≥ªÁªüÂπ∂ÂèëÂ∫¶Ôºå‰ΩÜÂÆûÁé∞ÊàêÊú¨ËæÉ‰Ωé„ÄÇÂõ†Ê≠§ÔºåÂú®ÂØπÂπ∂ÂèëÂ∫¶Ë¶ÅÊ±Ç‰∏çÊòØÂæàÈ´òÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàñËÄÖÊúçÂä°Âô®ËµÑÊ∫êËæÉ‰∏∫ÂÖÖË£ïÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄâÊã©ÂêåÊ≠•Êù•Èôç‰ΩéÁ≥ªÁªüÁöÑÂ§çÊùÇÂ∫¶„ÄÇ TCCÁºñÁ®ãÂºèË°•ÂÅøÊÄß‰∫ãÂä° TCCÂç≥‰∏∫Try Confirm CancelÔºåÂÆÉÂ±û‰∫éË°•ÂÅøÂûãÂàÜÂ∏ÉÂºè‰∫ãÂä°„ÄÇÈ°æÂêçÊÄù‰πâÔºåTCCÂÆûÁé∞ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄÂÖ±Êúâ‰∏â‰∏™Ê≠•È™§Ôºö TryÔºöÂ∞ùËØïÂæÖÊâßË°åÁöÑ‰∏öÂä° Ëøô‰∏™ËøáÁ®ãÂπ∂Êú™ÊâßË°å‰∏öÂä°ÔºåÂè™ÊòØÂÆåÊàêÊâÄÊúâ‰∏öÂä°ÁöÑ‰∏ÄËá¥ÊÄßÊ£ÄÊü•ÔºåÂπ∂È¢ÑÁïôÂ•ΩÊâßË°åÊâÄÈúÄÁöÑÂÖ®ÈÉ®ËµÑÊ∫ê ConfirmÔºöÊâßË°å‰∏öÂä° Ëøô‰∏™ËøáÁ®ãÁúüÊ≠£ÂºÄÂßãÊâßË°å‰∏öÂä°ÔºåÁî±‰∫éTryÈò∂ÊÆµÂ∑≤ÁªèÂÆåÊàê‰∫Ü‰∏ÄËá¥ÊÄßÊ£ÄÊü•ÔºåÂõ†Ê≠§Êú¨ËøáÁ®ãÁõ¥Êé•ÊâßË°åÔºåËÄå‰∏çÂÅö‰ªª‰ΩïÊ£ÄÊü•„ÄÇÂπ∂‰∏îÂú®ÊâßË°åÁöÑËøáÁ®ã‰∏≠Ôºå‰ºö‰ΩøÁî®Âà∞TryÈò∂ÊÆµÈ¢ÑÁïôÁöÑ‰∏öÂä°ËµÑÊ∫ê„ÄÇ CancelÔºöÂèñÊ∂àÊâßË°åÁöÑ‰∏öÂä° Ëã•‰∏öÂä°ÊâßË°åÂ§±Ë¥•ÔºåÂàôËøõÂÖ•CancelÈò∂ÊÆµÔºåÂÆÉ‰ºöÈáäÊîæÊâÄÊúâÂç†Áî®ÁöÑ‰∏öÂä°ËµÑÊ∫êÔºåÂπ∂ÂõûÊªöConfirmÈò∂ÊÆµÊâßË°åÁöÑÊìç‰Ωú„ÄÇ Â∞±‰∏æ‰∏ãÂçïÊîØ‰ªòÁöÑ‰æãÂ≠êÔºöTryÔºö ‰ªéÁî®Êà∑Ë¥¶Êà∑Êâ£Èô§100ÂÖÉÔºàÈ¢ÑÁïô‰∏öÂä°ËµÑÊ∫êÔºâ ConfirmÔºö ËÆ¢ÂçïÁîüÊàê ÂïÜÊà∑Ë¥¶Êà∑Â¢ûÂä†100ÂÖÉ ConcelÔºö Â∞ÜÁî®Êà∑Ë¥¶Êà∑Â¢ûÂä†100ÂÖÉ Â∞ÜÂïÜÊà∑Ë¥¶Êà∑ÂáèÂéª100ÂÖÉ Âá∫Áé∞‰ªª‰ΩïÂºÇÂ∏∏ÔºåÈáäÊîæÊâÄÊúâÂç†Áî®ÁöÑ‰∏öÂä°ËµÑÊ∫êÔºåÂπ∂ÂõûÊªöConfirmÈò∂ÊÆµÊâßË°åÁöÑÊìç‰Ωú„ÄÇ ÂØπ‰∫éTCCÊù•ËØ¥ÈÄÇÂêà‰∏Ä‰∫õ: Âº∫ÈöîÁ¶ªÊÄßÔºå‰∏•Ê†º‰∏ÄËá¥ÊÄßË¶ÅÊ±ÇÁöÑÊ¥ªÂä®‰∏öÂä°„ÄÇ ÊâßË°åÊó∂Èó¥ËæÉÁü≠ÁöÑ‰∏öÂä° ÂèÇËÄÉ Â∏∏Áî®ÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä°Ëß£ÂÜ≥ÊñπÊ°à ÂÜçÊúâ‰∫∫ÈóÆ‰Ω†ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÔºåÊääËøôÁØáÊâîÁªô‰ªñ ÂÖ≥‰∫éÂàÜÂ∏ÉÂºè‰∫ãÂä°„ÄÅ‰∏§Èò∂ÊÆµÊèê‰∫§ÂçèËÆÆ„ÄÅ‰∏âÈò∂Êèê‰∫§ÂçèËÆÆ]]></content>
      <categories>
        <category>ÂàÜÂ∏ÉÂºè</category>
      </categories>
      <tags>
        <tag>ÂàÜÂ∏ÉÂºè‰∫ãÂä°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂàÜÂ∏ÉÂºèÈîÅ]]></title>
    <url>%2F2018%2F12%2F27%2F%E5%88%86%E5%B8%83%E5%BC%8F%2F%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%2F</url>
    <content type="text"><![CDATA[Âú®ÂçïÊú∫Âú∫ÊôØ‰∏ãÔºåÂèØ‰ª•‰ΩøÁî®ËØ≠Ë®ÄÁöÑÂÜÖÁΩÆÈîÅÔºàÂ¶ÇJDK‰∏≠ÁöÑReentrantLcokÊàñËÄÖsynchronizedÔºâÊù•ÂÆûÁé∞ËøõÁ®ãÂêåÊ≠•„ÄÇ‰ΩÜÊòØÂú®ÂàÜÂ∏ÉÂºèÂú∫ÊôØ‰∏ãÔºåÈúÄË¶ÅÂêåÊ≠•ÁöÑËøõÁ®ãÂèØËÉΩ‰Ωç‰∫é‰∏çÂêåÁöÑËäÇÁÇπ‰∏äÔºåÈÇ£‰πàÂ∞±ÈúÄË¶Å‰ΩøÁî®ÂàÜÂ∏ÉÂºèÈîÅ„ÄÇ ÂàÜÂ∏ÉÂºèÈîÅÊÄßË¥® Ëé∑ÂèñÈîÅÂíåÈáäÊîæÈîÅÁöÑÊÄßËÉΩË¶ÅÂ•Ω Âà§Êñ≠ÊòØÂê¶Ëé∑ÂæóÈîÅÂøÖÈ°ªÊòØÂéüÂ≠êÊÄßÁöÑÔºåÂê¶ÂàôÂèØËÉΩÂØºËá¥Â§ö‰∏™ËØ∑Ê±ÇÈÉΩËé∑ÂèñÂà∞ÈîÅ ÁΩëÁªú‰∏≠Êñ≠ÊàñÂÆïÊú∫Êó†Ê≥ïÈáäÊîæÈîÅÊó∂ÔºåÈîÅÂøÖÈ°ªË¢´Ê∏ÖÈô§Ôºå‰∏çÁÑ∂‰ºöÂèëÁîüÊ≠ªÈîÅ ÂèØÈáçÂÖ•Ëé∑ÂèñÈîÅ ÂèØ‰ª•‰∏∫ÈòªÂ°ûÈîÅÂíåÈùûÈòªÂ°ûÈîÅÔºåÈòªÂ°ûÈîÅÂç≥Ê≤°ÊúâËé∑ÂèñÂà∞ÈîÅÔºåÂàôÁªßÁª≠Á≠âÂæÖËé∑ÂèñÈîÅÔºõÈùûÈòªÂ°ûÈîÅÂç≥Ê≤°ÊúâËé∑ÂèñÂà∞ÈîÅÂêéÔºå‰∏çÁªßÁª≠Á≠âÂæÖÔºåÁõ¥Êé•ËøîÂõûÈîÅÂ§±Ë¥•„ÄÇ ÂàÜÂ∏ÉÂºèÈîÅÂÆûÁé∞ÊñπÂºèÊï∞ÊçÆÂ∫ìÈîÅÂü∫‰∫éMySQLÈîÅË°®ËØ•ÂÆûÁé∞ÊñπÂºèÂÆåÂÖ®‰æùÈù†Êï∞ÊçÆÂ∫ìÂîØ‰∏ÄÁ¥¢ÂºïÊù•ÂÆûÁé∞„ÄÇÂΩìÊÉ≥Ë¶ÅËé∑ÂæóÈîÅÊó∂ÔºåÂç≥ÂêëÊï∞ÊçÆÂ∫ì‰∏≠ÊèíÂÖ•‰∏ÄÊù°ËÆ∞ÂΩïÔºåÈáäÊîæÈîÅÊó∂Â∞±Âà†Èô§ËøôÊù°ËÆ∞ÂΩï„ÄÇËøôÁßçÊñπÂºèÂ≠òÂú®‰ª•‰∏ãÂá†‰∏™ÈóÆÈ¢òÔºö ÈîÅÊ≤°ÊúâÂ§±ÊïàÊó∂Èó¥ÔºåËß£ÈîÅÂ§±Ë¥•‰ºöÂØºËá¥Ê≠ªÈîÅÔºåÂÖ∂‰ªñÁ∫øÁ®ãÊó†Ê≥ïÂÜçËé∑ÂèñÂà∞ÈîÅÔºåÂõ†‰∏∫ÂîØ‰∏ÄÁ¥¢ÂºïinsertÈÉΩ‰ºöËøîÂõûÂ§±Ë¥•„ÄÇ Âè™ËÉΩÊòØÈùûÈòªÂ°ûÈîÅÔºåinsertÂ§±Ë¥•Áõ¥Êé•Â∞±Êä•Èîô‰∫ÜÔºåÊó†Ê≥ïËøõÂÖ•ÈòüÂàóËøõË°åÈáçËØï„ÄÇ ‰∏çÂèØÈáçÂÖ•ÔºåÂêå‰∏ÄÁ∫øÁ®ãÂú®Ê≤°ÊúâÈáäÊîæÈîÅ‰πãÂâçÊó†Ê≥ïÂÜçËé∑ÂèñÂà∞ÈîÅ„ÄÇ ÈááÁî®‰πêËßÇÈîÅÂ¢ûÂä†ÁâàÊú¨Âè∑Ê†πÊçÆÁâàÊú¨Âè∑Â≠óÊÆµÊù•Âà§Êñ≠Êõ¥Êñ∞‰πãÂâçÊúâÊ≤°ÊúâÂÖ∂‰ªñÁ∫øÁ®ãÊõ¥Êñ∞ËøáÔºåÂ¶ÇÊûúË¢´Êõ¥Êñ∞ËøáÔºåÂàôËé∑ÂèñÈîÅÂ§±Ë¥•„ÄÇ ÁºìÂ≠òÈîÅÂπ≥Êó∂‰ΩøÁî®ÁöÑÊúÄÂ§öÁöÑÂ∞±ÊòØredisÔºåËøôÈáå‰ªãÁªç‰∏§ÁßçredisÁöÑÂàÜÂ∏ÉÂºèÈîÅ„ÄÇ Âü∫‰∫ésetnx„ÄÅexpire‰∏§‰∏™ÂëΩ‰ª§Êù•ÂÆûÁé∞Âü∫‰∫ésetnxÔºàset if not existÔºâÁöÑÁâπÁÇπÔºåÂΩìÁºìÂ≠òÈáåkey‰∏çÂ≠òÂú®Êó∂ÔºåÊâç‰ºöÂéªsetÔºåÂê¶ÂàôÁõ¥Êé•ËøîÂõûfalse„ÄÇÂ¶ÇÊûúËøîÂõûtrueÂàôËé∑ÂèñÂà∞ÈîÅÔºåÂê¶ÂàôËé∑ÂèñÈîÅÂ§±Ë¥•Ôºå‰∏∫‰∫ÜÈò≤Ê≠¢Ê≠ªÈîÅÔºåÊàë‰ª¨ÂÜçÁî®expireÂëΩ‰ª§ÂØπËøô‰∏™keyËÆæÁΩÆ‰∏Ä‰∏™Ë∂ÖÊó∂Êó∂Èó¥Êù•ÈÅøÂÖç„ÄÇ ‰ΩÜÊòØËøôÈáåÁúã‰ººÂÆåÁæéÔºåÂÆûÂàôÊúâÁº∫Èô∑ÔºåÂΩìÊàë‰ª¨setnxÊàêÂäüÂêéÔºåÁ∫øÁ®ãÂèëÁîüÂºÇÂ∏∏‰∏≠Êñ≠ÔºåexpireËøòÊ≤°Êù•ÁöÑÂèäËÆæÁΩÆÔºåÈÇ£‰πàÂ∞±‰ºö‰∫ßÁîüÊ≠ªÈîÅ„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥‰∏äËØâÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ÈááÁî®redis2.6.12ÁâàÊú¨‰ª•ÂêéÁöÑsetÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÈÄâÈ°πÔºö EX seconds ‚Äì ËÆæÁΩÆÈîÆkeyÁöÑËøáÊúüÊó∂Èó¥ÔºåÂçï‰ΩçÊó∂Áßí PX milliseconds ‚Äì ËÆæÁΩÆÈîÆkeyÁöÑËøáÊúüÊó∂Èó¥ÔºåÂçï‰ΩçÊó∂ÊØ´Áßí NX ‚Äì Âè™ÊúâÈîÆkey‰∏çÂ≠òÂú®ÁöÑÊó∂ÂÄôÊâç‰ºöËÆæÁΩÆkeyÁöÑÂÄº XX ‚Äì Âè™ÊúâÈîÆkeyÂ≠òÂú®ÁöÑÊó∂ÂÄôÊâç‰ºöËÆæÁΩÆkeyÁöÑÂÄº RedLockÁÆóÊ≥ïredlockÁÆóÊ≥ïÊòØredis‰ΩúËÄÖÊé®ËçêÁöÑ‰∏ÄÁßçÂàÜÂ∏ÉÂºèÈîÅÂÆûÁé∞ÊñπÂºèÔºåÁÆóÊ≥ïÁöÑÂÜÖÂÆπÂ¶Ç‰∏ãÔºö Ëé∑ÂèñÂΩìÂâçÊó∂Èó¥Ôºõ Â∞ùËØï‰ªéN‰∏™Áõ∏‰∫íÁã¨Á´ãredisÂÆ¢Êà∑Á´ØËé∑ÂèñÈîÅÔºõ ËÆ°ÁÆóËé∑ÂèñÊâÄÊúâÈîÅÊ∂àËÄóÁöÑÊó∂Èó¥ÔºåÂΩì‰∏î‰ªÖÂΩìÂÆ¢Êà∑Á´Ø‰ªéÂ§öÊï∞ËäÇÁÇπ(N/2+1)Ëé∑ÂèñÈîÅÔºåÂπ∂‰∏îËé∑ÂèñÈîÅÁöÑÊó∂Èó¥Â∞è‰∫éÈîÅÁöÑÊúâÊïàÊó∂Èó¥ÔºåËÆ§‰∏∫Ëé∑ÂæóÈîÅÔºõ ÈáçÊñ∞ËÆ°ÁÆóÊúâÊïàÊúüÊó∂Èó¥ÔºåÂéüÊúâÊïàÊó∂Èó¥ÂáèÂéªËé∑ÂèñÈîÅÊ∂àËÄóÁöÑÊó∂Èó¥Ôºõ Âà†Èô§ÊâÄÊúâÂÆû‰æãÁöÑÈîÅ redlockÁÆóÊ≥ïÁõ∏ÂØπ‰∫éÂçïËäÇÁÇπredisÈîÅÂèØÈù†ÊÄßË¶ÅÊõ¥È´òÔºå‰ΩÜÊòØÂÆûÁé∞Ëµ∑Êù•Êù°‰ª∂‰πüËæÉ‰∏∫ËãõÂàª„ÄÇ ÂøÖÈ°ªÈÉ®ÁΩ≤5‰∏™ËäÇÁÇπÊâçËÉΩËÆ©RedlockÁöÑÂèØÈù†ÊÄßÊõ¥Âº∫„ÄÇ ÈúÄË¶ÅËØ∑Ê±Ç5‰∏™ËäÇÁÇπÊâçËÉΩËé∑ÂèñÂà∞ÈîÅÔºåÈÄöËøáFutureÁöÑÊñπÂºèÔºåÂÖàÂπ∂ÂèëÂêë5‰∏™ËäÇÁÇπËØ∑Ê±ÇÔºåÂÜç‰∏ÄËµ∑Ëé∑ÂæóÂìçÂ∫îÁªìÊûúÔºåËÉΩÁº©Áü≠ÂìçÂ∫îÊó∂Èó¥Ôºå‰∏çËøáËøòÊòØÊØîÂçïËäÇÁÇπredisÈîÅË¶ÅËÄóË¥πÊõ¥Â§öÊó∂Èó¥„ÄÇ ÁÑ∂ÂêéÁî±‰∫éÂøÖÈ°ªËé∑ÂèñÂà∞5‰∏™ËäÇÁÇπ‰∏≠ÁöÑ3‰∏™‰ª•‰∏äÔºåÊâÄ‰ª•ÂèØËÉΩÂá∫Áé∞Ëé∑ÂèñÈîÅÂÜ≤Á™ÅÔºåÂç≥Â§ßÂÆ∂ÈÉΩËé∑Âæó‰∫Ü1-2ÊääÈîÅÔºåÁªìÊûúË∞Å‰πü‰∏çËÉΩËé∑ÂèñÂà∞ÈîÅÔºåËøô‰∏™ÈóÆÈ¢òÔºåredis‰ΩúËÄÖÂÄüÈâ¥‰∫ÜraftÁÆóÊ≥ïÁöÑÁ≤æÈ´ìÔºåÈÄöËøáÂÜ≤Á™ÅÂêéÂú®ÈöèÊú∫Êó∂Èó¥ÂºÄÂßãÔºåÂèØ‰ª•Â§ßÂ§ßÈôç‰ΩéÂÜ≤Á™ÅÊó∂Èó¥Ôºå‰ΩÜÊòØËøôÈóÆÈ¢òÂπ∂‰∏çËÉΩÂæàÂ•ΩÁöÑÈÅøÂÖçÔºåÁâπÂà´ÊòØÂú®Á¨¨‰∏ÄÊ¨°Ëé∑ÂèñÈîÅÁöÑÊó∂ÂÄôÔºåÊâÄ‰ª•Ëé∑ÂèñÈîÅÁöÑÊó∂Èó¥ÊàêÊú¨Â¢ûÂä†‰∫Ü„ÄÇ Â¶ÇÊûú5‰∏™ËäÇÁÇπÊúâ2‰∏™ÂÆïÊú∫ÔºåÊ≠§Êó∂ÈîÅÁöÑÂèØÁî®ÊÄß‰ºöÊûÅÂ§ßÈôç‰ΩéÔºåÈ¶ñÂÖàÂøÖÈ°ªÁ≠âÂæÖËøô‰∏§‰∏™ÂÆïÊú∫ËäÇÁÇπÁöÑÁªìÊûúË∂ÖÊó∂ÊâçËÉΩËøîÂõûÔºåÂè¶Â§ñÂè™Êúâ3‰∏™ËäÇÁÇπÔºåÂÆ¢Êà∑Á´ØÂøÖÈ°ªËé∑ÂèñÂà∞ËøôÂÖ®ÈÉ®3‰∏™ËäÇÁÇπÁöÑÈîÅÊâçËÉΩÊã•ÊúâÈîÅÔºåÈöæÂ∫¶‰πüÂä†Â§ß‰∫Ü„ÄÇ Â¶ÇÊûúÂá∫Áé∞ÁΩëÁªúÂàÜÂå∫ÔºåÈÇ£‰πàÂèØËÉΩÂá∫Áé∞ÂÆ¢Êà∑Á´ØÊ∞∏Ëøú‰πüÊó†Ê≥ïËé∑ÂèñÈîÅÁöÑÊÉÖÂÜµÔºå‰ªã‰∫éËøôÁßçÊÉÖÂÜµÔºå‰∏ãÈù¢Êàë‰ª¨Êù•Áúã‰∏ÄÁßçÊõ¥ÂèØÈù†ÁöÑÂàÜÂ∏ÉÂºèÈîÅzookeeperÈîÅ„ÄÇ zookeeperÈîÅZookeeperÊäΩË±°Ê®°ÂûãZookeeper Êèê‰æõ‰∫Ü‰∏ÄÁßçÊ†ëÂΩ¢ÁªìÊûÑÁ∫ßÁöÑÂëΩÂêçÁ©∫Èó¥Ôºå/app1/p_1 ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ‰∏∫ /app1„ÄÇ ËäÇÁÇπÁ±ªÂûã Ê∞∏‰πÖËäÇÁÇπÔºö‰∏ç‰ºöÂõ†‰∏∫‰ºöËØùÁªìÊùüÊàñËÄÖË∂ÖÊó∂ËÄåÊ∂àÂ§±; ‰∏¥Êó∂ËäÇÁÇπÔºöÂ¶Ç‰Ωï‰ºöËØùÁªìÊùüÊàñËÄÖË∂ÖÊó∂Â∞±‰ºöÊ∂àÂ§±; ÊúâÂ∫èËäÇÁÇπÔºö‰ºöÂú®ËäÇÁÇπÂêçÁöÑÂêéÈù¢Âä†‰∏Ä‰∏™Êï∞Â≠óÂêéÁºÄÔºåÂπ∂‰∏îÊòØÊúâÂ∫èÁöÑÔºå‰æãÂ¶ÇÁîüÊàêÁöÑÊúâÂ∫èËäÇÁÇπ‰∏∫ /lock/node-0000000000ÔºåÂÆÉÁöÑ‰∏ã‰∏Ä‰∏™ÊúâÂ∫èËäÇÁÇπÂàô‰∏∫ /lock/node-0000000001Ôºå‰ª•Ê≠§Á±ªÊé®„ÄÇ ÁõëÂê¨Âô®‰∏∫‰∏Ä‰∏™ËäÇÁÇπÊ≥®ÂÜåÁõëÂê¨Âô®ÔºåÂú®ËäÇÁÇπÁä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂Ôºå‰ºöÁªôÂÆ¢Êà∑Á´ØÂèëÈÄÅÊ∂àÊÅØ„ÄÇÂΩìÂâçzookeeperÊúâÂ¶Ç‰∏ãÂõõÁßç‰∫ã‰ª∂Ôºö1ÔºâËäÇÁÇπÂàõÂª∫Ôºõ2ÔºâËäÇÁÇπÂà†Èô§Ôºõ3ÔºâËäÇÁÇπÊï∞ÊçÆ‰øÆÊîπÔºõ4ÔºâÂ≠êËäÇÁÇπÂèòÊõ¥„ÄÇ ÂàÜÂ∏ÉÂºèÈîÅÂÆûÁé∞ ÂàõÂª∫‰∏Ä‰∏™ÈîÅÁõÆÂΩï /lockÔºõ ÂΩì‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÈúÄË¶ÅËé∑ÂèñÈîÅÊó∂ÔºåÂú® /lock ‰∏ãÂàõÂª∫‰∏¥Êó∂ÁöÑ‰∏îÊúâÂ∫èÁöÑÂ≠êËäÇÁÇπÔºõÂÆ¢Êà∑Á´ØËé∑Âèñ /lock ‰∏ãÁöÑÂ≠êËäÇÁÇπÂàóË°®ÔºåÂà§Êñ≠Ëá™Â∑±ÂàõÂª∫ÁöÑÂ≠êËäÇÁÇπÊòØÂê¶‰∏∫ÂΩìÂâçÂ≠êËäÇÁÇπÂàóË°®‰∏≠Â∫èÂè∑ÊúÄÂ∞èÁöÑÂ≠êËäÇÁÇπÔºåÂ¶ÇÊûúÊòØÂàôËÆ§‰∏∫Ëé∑ÂæóÈîÅÔºõÂê¶ÂàôÁõëÂê¨Ëá™Â∑±ÁöÑÂâç‰∏Ä‰∏™Â≠êËäÇÁÇπÔºåËé∑ÂæóÂ≠êËäÇÁÇπÁöÑÂèòÊõ¥ÈÄöÁü•ÂêéÈáçÂ§çÊ≠§Ê≠•È™§Áõ¥Ëá≥Ëé∑ÂæóÈîÅÔºõ ÊâßË°å‰∏öÂä°‰ª£Á†Å ‰∏öÂä°‰ª£Á†ÅÊâßË°åÂÆåÊàêÂêéÔºåÂà†Èô§ÂØπÂ∫îÁöÑÂ≠êËäÇÁÇπ„ÄÇ Êúâ‰∫õ‰∫∫‰ºöÂú®Ê≠•È™§2‰∏≠Ëé∑ÂèñÂ≠êËäÇÁÇπÂàóË°®‰∏éËÆæÁΩÆÁõëÂê¨Ëøô‰∏§Ê≠•Êìç‰ΩúÁöÑÂ≠òÂú®ÂéüÂ≠êÊÄßÈóÆÈ¢òÔºåËÄÉËôëËøô‰πà‰∏™Âú∫ÊôØÔºöÂÆ¢Êà∑Á´ØaÂØπÂ∫îÂ≠êËäÇÁÇπ‰∏∫/lock/lock-0000000000ÔºåÂÆ¢Êà∑Á´ØbÂØπÂ∫îÂ≠êËäÇÁÇπ‰∏∫/lock/lock-0000000001ÔºåÂÆ¢Êà∑Á´ØbËé∑ÂèñÂ≠êËäÇÁÇπÂàóË°®Êó∂ÂèëÁé∞Ëá™Â∑±‰∏çÊòØÂ∫èÂè∑ÊúÄÂ∞èÁöÑÔºå‰ΩÜÊòØÂú®ËÆæÁΩÆÁõëÂê¨Âô®ÂâçÂÆ¢Êà∑Á´ØaÂÆåÊàê‰∏öÂä°ÊµÅÁ®ãÂà†Èô§‰∫ÜÂ≠êËäÇÁÇπ/lock/lock-0000000000ÔºåÂÆ¢Êà∑Á´ØbËÆæÁΩÆÁöÑÁõëÂê¨Âô®Â≤Ç‰∏çÊòØ‰∏¢Â§±‰∫ÜËøô‰∏™‰∫ã‰ª∂‰ªéËÄåÂØºËá¥Ê∞∏ËøúÁ≠âÂæÖ‰∫ÜÔºüËøô‰∏™ÈóÆÈ¢ò‰∏çÂ≠òÂú®ÁöÑ„ÄÇÂõ†‰∏∫zookeeperÊèê‰æõÁöÑAPI‰∏≠ËÆæÁΩÆÁõëÂê¨Âô®ÁöÑÊìç‰Ωú‰∏éËØªÊìç‰ΩúÊòØÂéüÂ≠êÊâßË°åÁöÑÔºå‰πüÂ∞±ÊòØËØ¥Âú®ËØªÂ≠êËäÇÁÇπÂàóË°®Êó∂ÂêåÊó∂ËÆæÁΩÆÁõëÂê¨Âô®Ôºå‰øùËØÅ‰∏ç‰ºö‰∏¢Â§±‰∫ã‰ª∂„ÄÇ ÁæäÁæ§ÊïàÂ∫î‰∏Ä‰∏™ËäÇÁÇπÊú™Ëé∑ÂæóÈîÅÔºåÂè™ÈúÄË¶ÅÁõëÂê¨Ëá™Â∑±ÁöÑÂâç‰∏Ä‰∏™Â≠êËäÇÁÇπÔºåËøôÊòØÂõ†‰∏∫Â¶ÇÊûúÁõëÂê¨ÊâÄÊúâÁöÑÂ≠êËäÇÁÇπÔºåÈÇ£‰πà‰ªªÊÑè‰∏Ä‰∏™Â≠êËäÇÁÇπÁä∂ÊÄÅÊîπÂèòÔºåÂÖ∂ÂÆÉÊâÄÊúâÂ≠êËäÇÁÇπÈÉΩ‰ºöÊî∂Âà∞ÈÄöÁü•ÔºàÁæäÁæ§ÊïàÂ∫îÔºâÔºåËÄåÊàë‰ª¨Âè™Â∏åÊúõÂÆÉÁöÑÂêé‰∏Ä‰∏™Â≠êËäÇÁÇπÊî∂Âà∞ÈÄöÁü•„ÄÇ ÂèÇËÄÉ ÊµÖË∞àÂàÜÂ∏ÉÂºèÈîÅ Âü∫‰∫éZookeeperÁöÑÂàÜÂ∏ÉÂºèÈîÅ Âü∫‰∫éredisÁöÑÂàÜÂ∏ÉÂºèÈîÅÂÆûÁé∞]]></content>
      <categories>
        <category>ÂàÜÂ∏ÉÂºè</category>
      </categories>
      <tags>
        <tag>ÂàÜÂ∏ÉÂºèÈîÅ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[consistent hashing algorithm]]></title>
    <url>%2F2018%2F12%2F27%2F%E5%88%86%E5%B8%83%E5%BC%8F%2Fconsistent%20hashing%20algorithm%20%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®ÂàÜÂ∏ÉÂºèÈõÜÁæ§‰∏≠ÔºåÂØπÊú∫Âô®ÁöÑÊ∑ªÂä†Âà†Èô§ÔºåÊàñËÄÖÊú∫Âô®ÊïÖÈöúÂêéËá™Âä®ËÑ±Á¶ªÈõÜÁæ§Ëøô‰∫õÊìç‰ΩúÊòØÂàÜÂ∏ÉÂºèÈõÜÁæ§ÁÆ°ÁêÜÊúÄÂü∫Êú¨ÁöÑÂäüËÉΩ„ÄÇÂ¶ÇÊûúÈááÁî®Â∏∏Áî®ÁöÑhash(object)%NÁÆóÊ≥ïÔºåÈÇ£‰πàÂú®ÊúâÊú∫Âô®Ê∑ªÂä†ÊàñËÄÖÂà†Èô§ÂêéÔºåÂæàÂ§öÂéüÊúâÁöÑÊï∞ÊçÆÂ∞±Êó†Ê≥ïÊâæÂà∞‰∫ÜÔºåËøôÊó∂ÂÄô‰∏ÄËá¥ÊÄßÂìàÂ∏åÁÆóÊ≥ïÂ∞±Á´ôÂá∫Êù•‰∫ÜÔºÅ ËÉåÊôØ‰∏ÄËá¥ÊÄßhashÁÆóÊ≥ïÂú®1997Âπ¥Áî±È∫ªÁúÅÁêÜÂ∑•Â≠¶Èô¢ÊèêÂá∫ÁöÑ‰∏ÄÁßçÂàÜÂ∏ÉÂºèÂìàÂ∏åÔºàDHTÔºâÂÆûÁé∞ÁÆóÊ≥ïÔºåËÆæËÆ°ÁõÆÊ†áÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Âõ†ÁâπÁΩë‰∏≠ÁöÑÁÉ≠ÁÇπ(Hot spot)ÈóÆÈ¢òÔºåÂàùË°∑ÂíåCARPÂçÅÂàÜÁ±ª‰ºº„ÄÇ‰∏ÄËá¥ÊÄßhash‰øÆÊ≠£‰∫ÜCARP‰ΩøÁî®ÁöÑÁÆÄ ÂçïÂìàÂ∏åÁÆóÊ≥ïÂ∏¶Êù•ÁöÑÈóÆÈ¢òÔºå‰ΩøÂæóÂàÜÂ∏ÉÂºèÂìàÂ∏åÔºàDHTÔºâÂèØ‰ª•Âú®P2PÁéØÂ¢É‰∏≠ÁúüÊ≠£ÂæóÂà∞Â∫îÁî®„ÄÇ Âõõ‰∏™ÂÆö‰πâ‰∫ÜÂú®Âä®ÊÄÅÂèòÂåñÁöÑCacheÁéØÂ¢É‰∏≠ÔºåÂà§ÂÆöÂìàÂ∏åÁÆóÊ≥ïÂ•ΩÂùèÁöÑÂõõ‰∏™ÂÆö‰πâÔºö Âπ≥Ë°°ÊÄß(Balance)Âπ≥Ë°°ÊÄßÊòØÊåáÂìàÂ∏åÁöÑÁªìÊûúËÉΩÂ§üÂ∞ΩÂèØËÉΩÂàÜÂ∏ÉÂà∞ÊâÄÊúâÁöÑÁºìÂÜ≤‰∏≠ÂéªÔºåËøôÊ†∑ÂèØ‰ª•‰ΩøÂæóÊâÄÊúâÁöÑÁºìÂÜ≤Á©∫Èó¥ÈÉΩÂæóÂà∞Âà©Áî®„ÄÇÂæàÂ§öÂìàÂ∏åÁÆóÊ≥ïÈÉΩËÉΩÂ§üÊª°Ë∂≥Ëøô‰∏ÄÊù°‰ª∂„ÄÇ ÂçïË∞ÉÊÄß(Monotonicity)ÂçïË∞ÉÊÄßÊòØÊåáÂ¶ÇÊûúÂ∑≤ÁªèÊúâ‰∏Ä‰∫õÂÜÖÂÆπÈÄöËøáÂìàÂ∏åÂàÜÊ¥æÂà∞‰∫ÜÁõ∏Â∫îÁöÑÁºìÂÜ≤‰∏≠ÔºåÂèàÊúâÊñ∞ÁöÑÁºìÂÜ≤Âä†ÂÖ•Âà∞Á≥ªÁªü‰∏≠ÔºåÂìàÂ∏åÁöÑÁªìÊûúÂ∫îËÉΩÂ§ü‰øùËØÅÂéüÊúâÂ∑≤ÂàÜÈÖçÁöÑÂÜÖÂÆπÂèØ‰ª•Ë¢´Êò†Â∞ÑÂà∞ÂéüÊúâÁöÑÊàñËÄÖÊñ∞ÁöÑÁºìÂÜ≤‰∏≠ÂéªÔºåËÄå‰∏ç‰ºöË¢´Êò†Â∞ÑÂà∞ÊóßÁöÑÁºìÂÜ≤ÈõÜÂêà‰∏≠ÁöÑÂÖ∂‰ªñÁºìÂÜ≤Âå∫„ÄÇ ÂàÜÊï£ÊÄß(Spread)Âú®ÂàÜÂ∏ÉÂºèÁéØÂ¢É‰∏≠ÔºåÂΩìÁªàÁ´ØÂ∏åÊúõÈÄöËøáÂìàÂ∏åËøáÁ®ãÂ∞ÜÂÜÖÂÆπÊò†Â∞ÑÂà∞ÁºìÂÜ≤‰∏äÊó∂ÔºåÁî±‰∫é‰∏çÂêåÁªàÁ´ØÊâÄËßÅÁöÑÁºìÂÜ≤ËåÉÂõ¥ÊúâÂèØËÉΩ‰∏çÂêåÔºå‰ªéËÄåÂØºËá¥ÂìàÂ∏åÁöÑÁªìÊûú‰∏ç‰∏ÄËá¥ÔºåÊúÄÁªàÁöÑÁªìÊûúÊòØÁõ∏ÂêåÁöÑÂÜÖÂÆπË¢´‰∏çÂêåÁöÑÁªàÁ´ØÊò†Â∞ÑÂà∞‰∏çÂêåÁöÑÁºìÂÜ≤Âå∫‰∏≠„ÄÇËøôÁßçÊÉÖÂÜµÊòæÁÑ∂ÊòØÂ∫îËØ•ÈÅøÂÖçÁöÑ„ÄÇ Ë¥üËΩΩÂùáË°°(Load)Ë¥üËΩΩÂùáË°°ÂÆûÈôÖ‰∏äÊòØ‰ªéÂè¶‰∏Ä‰∏™ËßíÂ∫¶ÁúãÂæÖÂàÜÊï£ÊÄßÈóÆÈ¢ò„ÄÇÊó¢ÁÑ∂‰∏çÂêåÁöÑÁªàÁ´ØÂèØËÉΩÂ∞ÜÁõ∏ÂêåÁöÑÂÜÖÂÆπÊò†Â∞ÑÂà∞‰∏çÂêåÁöÑÁºìÂÜ≤Âå∫‰∏≠ÔºåÈÇ£‰πàÂØπ‰∫é‰∏Ä‰∏™ÁâπÂÆöÁöÑÁºìÂÜ≤Âå∫ËÄåË®ÄÔºå‰πüÂèØËÉΩË¢´‰∏çÂêåÁöÑÁî®Êà∑Êò†Â∞Ñ‰∏∫‰∏çÂêå ÁöÑÂÜÖÂÆπ„ÄÇ‰∏éÂàÜÊï£ÊÄß‰∏ÄÊ†∑ÔºåËøôÁßçÊÉÖÂÜµ‰πüÊòØÂ∫îÂΩìÈÅøÂÖçÁöÑ„ÄÇ ÁªìÊûÑËÆæËÆ°ÁéØÂΩ¢HashÁ©∫Èó¥ÊåâÁÖßÂ∏∏Áî®ÁöÑhashÁÆóÊ≥ïÊù•Â∞ÜÂØπÂ∫îÁöÑkeyÂìàÂ∏åÂà∞‰∏Ä‰∏™ÂÖ∑Êúâ2^32Ê¨°Êñπ‰∏™Ê°∂ÁöÑÁ©∫Èó¥‰∏≠ÔºåÂç≥0~(2\^32)-1ÁöÑÊï∞Â≠óÁ©∫Èó¥‰∏≠„ÄÇÁé∞Âú®Êàë‰ª¨ÂèØ‰ª•Â∞ÜËøô‰∫õÊï∞Â≠óÂ§¥Â∞æÁõ∏ËøûÔºåÊÉ≥Ë±°Êàê‰∏Ä‰∏™Èó≠ÂêàÁöÑÁéØÂΩ¢„ÄÇÂ¶Ç‰∏ãÂõæÔºö Êï∞ÊçÆÊò†Â∞ÑÂà∞ÁéØ‰∏äÁé∞Âú®Êàë‰ª¨Â∞Üobject1„ÄÅobject2„ÄÅobject3„ÄÅobject4Âõõ‰∏™ÂØπË±°ÈÄöËøáÁâπÂÆöÁöÑHashÂáΩÊï∞ËÆ°ÁÆóÂá∫ÂØπÂ∫îÁöÑkeyÂÄºÔºåÁÑ∂ÂêéÊï£ÂàóÂà∞HashÁéØ‰∏ä„ÄÇÂ¶Ç‰∏ãÂõæ: Êú∫Âô®Êò†Â∞ÑÂà∞ÁéØ‰∏äÁé∞Âú®Êàë‰ª¨Â∞ÜNODE1ÔºåNODE2ÔºåNODE3‰∏âÂè∞Êú∫Âô®ÔºåÈÄöËøáHashÁÆóÊ≥ïÂæóÂà∞ÂØπÂ∫îÁöÑKEYÂÄºÔºåÊò†Â∞ÑÂà∞ÁéØ‰∏≠ÔºåÂ¶Ç‰∏ãÂõæÔºö ÊÄßË¥®Áª¥Êä§ÈÄöËøáhashÂáΩÊï∞Êª°Ë∂≥ÂàÜÊï£ÊÄßÂíåË¥üËΩΩÂùáË°°ÊòØÊòæËÄåÊòìËßÅÁöÑÔºå‰∏ãÈù¢Êàë‰ª¨ÈáçÁÇπÂàÜÊûêÂçïË∞ÉÊÄßÂíåÂπ≥Ë°°ÊÄß„ÄÇ ÂçïË∞ÉÊÄßÊàë‰ª¨Áúã‰∏ãÈù¢‰∏§ÁßçÊÉÖÂÜµÔºö Êú∫Âô®ÁöÑÊ∑ªÂä†Â¶ÇÊûúÂæÄÈõÜÁæ§‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑËäÇÁÇπNODE4ÔºåÈÄöËøáÂØπÂ∫îÁöÑÂìàÂ∏åÁÆóÊ≥ïÂæóÂà∞KEY4ÔºåÂπ∂Êò†Â∞ÑÂà∞ÁéØ‰∏≠ÔºåÂ¶Ç‰∏ãÂõæÊåâÁÖßÂæÄÈ°∫Êó∂ÈíàËøÅÁßªÁöÑËßÑÂàôÔºåÈÇ£‰πàobject2Â∞ÜË¢´ËøÅÁßªÂà∞‰∫ÜNODE4‰∏≠ÔºåÂÖ∂ÂÆÉÂØπË±°Ëøò‰øùÊåÅËøôÂéüÊúâÁöÑÂ≠òÂÇ®‰ΩçÁΩÆ„ÄÇ Êú∫Âô®ÁöÑÂà†Èô§Â¶ÇÊûúNODE2Âõ†‰∏∫ÊïÖÈöúË¢´Âà†Èô§‰∫ÜÔºåÂ¶Ç‰∏ãÂõæÔºöÊåâÁÖßÂæÄÈ°∫Êó∂ÈíàËøÅÁßªÁöÑËßÑÂàôÔºåobject3Â∞Ü‰ºöË¢´ËøÅÁßªÂà∞NODE3‰∏≠ÔºåËøôÊ†∑‰ªÖ‰ªÖÊòØobject3ÁöÑÊò†Â∞Ñ‰ΩçÁΩÆÂèëÁîü‰∫ÜÂèòÂåñÔºåÂÖ∂ÂÆÉÁöÑÂØπË±°Ê≤°Êúâ‰ªª‰ΩïÁöÑÊîπÂä®„ÄÇ ÈÄöËøáÂØπËäÇÁÇπÁöÑÊ∑ªÂä†ÂíåÂà†Èô§ÁöÑÂàÜÊûêÔºå‰∏ÄËá¥ÊÄßÂìàÂ∏åÁÆóÊ≥ïÂú®‰øùÊåÅ‰∫ÜÂçïË∞ÉÊÄßÁöÑÂêåÊó∂ÔºåÊï∞ÊçÆÁöÑËøÅÁßªÈáèËææÂà∞‰∫ÜÊúÄÂ∞èÔºåËøôÊ†∑ÁöÑÁÆóÊ≥ïÂØπÂàÜÂ∏ÉÂºèÈõÜÁæ§Êù•ËØ¥ÊòØÈùûÂ∏∏ÂêàÈÄÇÁöÑÔºåÈÅøÂÖç‰∫ÜÂ§ßÈáèÊï∞ÊçÆËøÅÁßªÔºåÂáèÂ∞è‰∫ÜÊúçÂä°Âô®ÁöÑÁöÑÂéãÂäõ„ÄÇ Âπ≥Ë°°ÊÄßÂ¶ÇÊûú‰∏äÈù¢Âè™ÈÉ®ÁΩ≤‰∫ÜNODE1ÂíåNODE3‰∏§‰∏™ËäÇÁÇπÔºåobject1Â≠òÂÇ®Âà∞‰∫ÜNODE1‰∏≠ÔºåËÄåobject2„ÄÅobject3„ÄÅobject4ÈÉΩÂ≠òÂÇ®Âà∞‰∫ÜNODE3‰∏≠ÔºåËøôÊ†∑Â∞±ÁÖßÊàê‰∫ÜÈùûÂ∏∏‰∏çÂπ≥Ë°°ÁöÑÁä∂ÊÄÅ„ÄÇÂú®‰∏ÄËá¥ÊÄßÂìàÂ∏åÁÆóÊ≥ï‰∏≠Ôºå‰∏∫‰∫ÜÂ∞ΩÂèØËÉΩÁöÑÊª°Ë∂≥Âπ≥Ë°°ÊÄßÔºåÂÖ∂ÂºïÂÖ•‰∫ÜËôöÊãüËäÇÁÇπ„ÄÇ ËôöÊãüËäÇÁÇπÔºö ÊòØÂÆûÈôÖËäÇÁÇπÔºàÊú∫Âô®ÔºâÂú® hash Á©∫Èó¥ÁöÑÂ§çÂà∂ÂìÅÔºà replica ÔºâÔºå‰∏ÄÂÆûÈôÖ‰∏™ËäÇÁÇπÔºàÊú∫Âô®ÔºâÂØπÂ∫î‰∫ÜËã•Âπ≤‰∏™‚ÄúËôöÊãüËäÇÁÇπ‚ÄùÔºåËøô‰∏™ÂØπÂ∫î‰∏™Êï∞‰πüÊàê‰∏∫‚ÄúÂ§çÂà∂‰∏™Êï∞‚ÄùÔºå‚ÄúËôöÊãüËäÇÁÇπ‚ÄùÂú® hash Á©∫Èó¥‰∏≠‰ª•hashÂÄºÂùáÂåÄÊéíÂàó„ÄÇ Áé∞Âú®Êàë‰ª¨‰ª•2‰∏™ÂâØÊú¨ÔºàÂ§çÂà∂‰∏™Êï∞Ôºâ‰∏∫‰æãÔºåËøôÊ†∑Êï¥‰∏™hashÁéØ‰∏≠Â∞±Â≠òÂú®‰∫Ü4‰∏™ËôöÊãüËäÇÁÇπÔºåÊúÄÂêéÂØπË±°Êò†Â∞ÑÁöÑÂÖ≥Á≥ªÂõæÂ¶Ç‰∏ãÔºö Ê†πÊçÆ‰∏äÂõæÂèØÁü•ÂØπË±°ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºöobject1-&gt;NODE1-1Ôºåobject2-&gt;NODE1-2Ôºåobject3-&gt;NODE3-2Ôºåobject4-&gt;NODE3-1„ÄÇÈÄöËøáËôöÊãüËäÇÁÇπÁöÑÂºïÂÖ•ÔºåÂØπË±°ÁöÑÂàÜÂ∏ÉÂ∞±ÊØîËæÉÂùáË°°‰∫Ü„ÄÇÈÇ£‰πàÂú®ÂÆûÈôÖÊìç‰Ωú‰∏≠ÔºåÊ≠£ÁúüÁöÑÂØπË±°Êü•ËØ¢ÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÂë¢ÔºüÂØπË±°‰ªéhashÂà∞ËôöÊãüËäÇÁÇπÂà∞ÂÆûÈôÖËäÇÁÇπÁöÑËΩ¨Êç¢Â¶Ç‰∏ãÂõæÔºö ‰ª£Á†ÅÂÆûÁé∞ÂèØ‰ª•Áúã‰∏Ä‰∏ãÂèÇËÄÉ2„ÄÇ ÂèÇËÄÉ ÊØèÂ§©ËøõÊ≠•‰∏ÄÁÇπÁÇπ‚Äî‚Äî‰∫îÂàÜÈíüÁêÜËß£‰∏ÄËá¥ÊÄßÂìàÂ∏åÁÆóÊ≥ï(consistent hashing) ÂéüÂõæÊà≥ÁùÄÔºÅÔºÅÔºÅ ÂØπ‰∏ÄËá¥ÊÄßHashÁÆóÊ≥ïÔºåJava‰ª£Á†ÅÂÆûÁé∞ÁöÑÊ∑±ÂÖ•Á†îÁ©∂]]></content>
      <categories>
        <category>ÂàÜÂ∏ÉÂºè</category>
      </categories>
      <tags>
        <tag>consistent hashing algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RaftÁÆóÊ≥ï]]></title>
    <url>%2F2018%2F12%2F26%2F%E5%88%86%E5%B8%83%E5%BC%8F%2FRaft%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂç†ÂùëÔºÅÔºÅÔºÅÔºÅ ‰∏çÂêå‰∫éPaxosÁÆóÊ≥ïÁõ¥Êé•‰ªéÂàÜÂ∏ÉÂºè‰∏ÄËá¥ÊÄßÈóÆÈ¢òÂá∫ÂèëÊé®ÂØºÂá∫Êù•ÔºåRaftÁÆóÊ≥ïÂàôÊòØ‰ªéÂ§öÂâØÊú¨Áä∂ÊÄÅÊú∫ÁöÑËßíÂ∫¶ÊèêÂá∫ÔºåÁî®‰∫éÁÆ°ÁêÜÂ§öÂâØÊú¨Áä∂ÊÄÅÊú∫ÁöÑÊó•ÂøóÂ§çÂà∂„ÄÇËá™Â∑±ÁõÆÂâç‰πüÁêÜËß£ÂæóËøò‰∏çÈÄèÂΩªÔºåÊâÄ‰ª•Áïô‰∏ãÈìæÊé•ÔºåÂæÖÂêéÁª≠Âä†Ê∑±ÁêÜËß£‰πãÂêéÂÜçÂÅöÊï¥ÁêÜ„ÄÇ ÂèÇËÄÉ Raft: Understandable Distributed Consensus Raft‰∏ÄËá¥ÊÄßÁÆóÊ≥ïÁ¨îËÆ∞ ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂ≠¶‰π†2-RaftÁÆóÊ≥ïÂàÜÊûê‰∏éÂÆûÁé∞ RaftÁÆóÊ≥ïËØ¶Ëß£ [ÂèØ‰ª•ÁªßÁª≠Áúã‰ªñÁöÑÁõ∏ÂÖ≥ÂçöÂÆ¢] raft-java]]></content>
      <categories>
        <category>ÂàÜÂ∏ÉÂºè</category>
      </categories>
      <tags>
        <tag>Raft</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PaxosÁÆóÊ≥ï]]></title>
    <url>%2F2018%2F12%2F26%2F%E5%88%86%E5%B8%83%E5%BC%8F%2FPaxos%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂç†ÂùëÔºÅÔºÅÔºÅÔºÅ PaxosÁÆóÊ≥ïÂú®ÂàÜÂ∏ÉÂºèÈ¢ÜÂüüÂÖ∑ÊúâÈùûÂ∏∏ÈáçË¶ÅÁöÑÂú∞‰Ωç„ÄÇGoogle ChubbyÁöÑ‰ΩúËÄÖMike BurrowsËØ¥ËøáËøô‰∏™‰∏ñÁïå‰∏äÂè™Êúâ‰∏ÄÁßç‰∏ÄËá¥ÊÄßÁÆóÊ≥ïÔºåÈÇ£Â∞±ÊòØPaxosÔºåÂÖ∂ÂÆÉÁöÑÁÆóÊ≥ïÈÉΩÊòØÊÆãÊ¨°ÂìÅ„ÄÇËá™Â∑±ÁêÜËß£ÂæóËøò‰∏çÈÄèÂΩªÔºåÊâÄ‰ª•Áïô‰∏ãÈìæÊé•ÔºåÂæÖÂêéÁª≠Âä†Ê∑±ÁêÜËß£‰πãÂêéÂÜçÂÅöÊï¥ÁêÜ„ÄÇ ÂèÇËÄÉ ÂÄ™Ë∂Ö. ‰ªé Paxos Âà∞ ZooKeeper : ÂàÜÂ∏ÉÂºè‰∏ÄËá¥ÊÄßÂéüÁêÜ‰∏éÂÆûË∑µ [M]. ÁîµÂ≠êÂ∑•‰∏öÂá∫ÁâàÁ§æ, 2015. Paxos By Example ÂàÜÂ∏ÉÂºèÁ≥ªÂàóÊñáÁ´†‚Äî‚ÄîPaxosÁÆóÊ≥ïÂéüÁêÜ‰∏éÊé®ÂØº MyPaxos]]></content>
      <categories>
        <category>ÂàÜÂ∏ÉÂºè</category>
      </categories>
      <tags>
        <tag>Paxos</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂü∫Á°Ä]]></title>
    <url>%2F2018%2F12%2F26%2F%E5%88%86%E5%B8%83%E5%BC%8F%2F%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöËá™Â∑±Ëøô‰∏ÄÊÆµÊó∂Èó¥ÈÉΩÂú®Â≠¶‰π†ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁõ∏ÂÖ≥ÁöÑ‰∏úË•øÔºå‰ΩÜÊòØÈÉΩ‰∏çÊàêÁ≥ªÁªüÔºåÊâÄ‰ª•ËøôÈáåÂ∞Ü‰ºöÊÄªÁªìÁõÆÂâçÂ≠¶‰π†ÁöÑÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁõ∏ÂÖ≥ÂÜÖÂÆπÔºåËøôÈáåËÆ≤‰ºöÊÄªÁªìÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑÁõ∏ÂÖ≥Ê¶ÇÂøµÔºåÊåÅÁª≠Êõ¥Êñ∞‚Ä¶„ÄÇ CAPÁêÜËÆ∫2000Âπ¥7ÊúàÔºåÂä†Â∑ûÂ§ßÂ≠¶‰ºØÂÖãÂà©ÂàÜÊ†°ÁöÑEric BrewerÊïôÊéàÂú®ACM PODC‰ºöËÆÆ‰∏äÊèêÂá∫CAPÁåúÊÉ≥„ÄÇ2Âπ¥ÂêéÔºåÈ∫ªÁúÅÁêÜÂ∑•Â≠¶Èô¢ÁöÑSeth GilbertÂíåNancy Lynch‰ªéÁêÜËÆ∫‰∏äËØÅÊòé‰∫ÜCAP„ÄÇ‰πãÂêéÔºåCAPÁêÜËÆ∫Ê≠£ÂºèÊàê‰∏∫ÂàÜÂ∏ÉÂºèËÆ°ÁÆóÈ¢ÜÂüüÁöÑÂÖ¨ËÆ§ÂÆöÁêÜ„ÄÇ CAPÁêÜËÆ∫‰∏∫Ôºö‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÊúÄÂ§öÂè™ËÉΩÂêåÊó∂Êª°Ë∂≥‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâ„ÄÅÂèØÁî®ÊÄßÔºàAvailabilityÔºâÂíåÂàÜÂå∫ÂÆπÈîôÊÄßÔºàPartition toleranceÔºâËøô‰∏âÈ°π‰∏≠ÁöÑ‰∏§È°π„ÄÇ ‰∏ãÈù¢‰∏æ‰∏™‰æãÂ≠êÔºö ÂÅáËÆæÊúâ‰∏§Âè∞Êú∫Âô®A„ÄÅBÔºå‰∏§ËÄÖ‰πãÈó¥‰∫íÁõ∏ÂêåÊ≠•‰øùÊåÅÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÇÁé∞Âú®BÁî±‰∫éÁΩëÁªúÂéüÂõ†‰∏çËÉΩ‰∏éAÈÄö‰ø°(Network Partition)ÔºåÂÅáËÆæÊüê‰∏™clientÂêëAÂÜôÂÖ•Êï∞ÊçÆÔºåÁé∞Âú®Êúâ‰∏§ÁßçÈÄâÊã©Ôºö AÊãíÁªùÂÜôÂÖ•ÔºåËøôÊ†∑ËÉΩ‰øùËØÅ‰∏éBÁöÑ‰∏ÄËá¥ÊÄßÔºå‰ΩÜÊòØÁâ∫Áâ≤‰∫ÜÂèØÁî®ÊÄß AÂÖÅËÆ∏ÂÜôÂÖ•Ôºå‰ΩÜÊòØËøôÊ†∑Â∞±‰∏çËÉΩ‰øùËØÅ‰∏éBÁöÑ‰∏ÄËá¥ÊÄß‰∫Ü Network PartitionÊòØÂøÖÁÑ∂ÁöÑÔºåÁΩëÁªúÈùûÂ∏∏ÂèØËÉΩÂá∫Áé∞ÈóÆÈ¢òÔºàÊñ≠Á∫ø„ÄÅË∂ÖÊó∂ÔºâÔºåÂõ†Ê≠§CAPÁêÜËÆ∫‰∏ÄËà¨Âè™ËÉΩAPÊàñCPÔºåËÄåCA‰∏ÄËà¨ËæÉÈöæÂÆûÁé∞„ÄÇ CP: Ë¶ÅÂÆûÁé∞‰∏ÄËá¥ÊÄßÔºåÂàôÈúÄË¶Å‰∏ÄÂÆöÁöÑ‰∏ÄËá¥ÊÄßÁÆóÊ≥ïÔºå‰∏ÄËà¨ÊòØÂü∫‰∫éÂ§öÊï∞Ê¥æË°®ÂÜ≥ÁöÑÔºåÂ¶ÇPaxosÂíåRaft AP: Ë¶ÅÂÆûÁé∞ÂèØÁî®ÊÄßÔºåÂàôË¶ÅÊúâ‰∏ÄÂÆöÁöÑÁ≠ñÁï•ÂÜ≥ËÆÆÂà∞Â∫ïÁî®Âì™‰∏™Êï∞ÊçÆÔºåÂπ∂‰∏îÊï∞ÊçÆ‰∏ÄËà¨Ë¶ÅËøõË°åÂÜó‰ΩôÂ§á‰ªΩ(replication) ÂΩìÁÑ∂ÔºåÂú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåAÂèØ‰ª•ÂÖàÂÖÅËÆ∏ÂÜôÂÖ•ÔºåÁ≠âBÁöÑÁΩëÁªúÊÅ¢Â§ç‰ª•ÂêéÂÜçÂêåÊ≠•Ëá≥BÔºàÊ†πÊçÆCAPÂéüÁêÜËøôÊ†∑‰∏çËÉΩ‰øùËØÅÂº∫‰∏ÄËá¥ÊÄß‰∫ÜÔºå‰ΩÜÊòØÂèØ‰ª•ËÄÉËôëÂÆûÁé∞ÊúÄÁªà‰∏ÄËá¥ÊÄßÔºâ„ÄÇ ‰∏ãÂõæÂàöÂ•ΩÂ±ïÁ§∫‰∫ÜCA,CP,APÁ≥ªÁªüÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºö Âà©Áî®2PCÂçèËÆÆÂ±û‰∫éCAÔºåÂ¶ÇÔºåmysqlÁ≠âÔºå‰ªñ‰ª¨‰∏ªË¶ÅÈÄöËøáÂ§çÂà∂ÁöÑÊñπÂºèÊù•‰øùËØÅÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄß„ÄÇ Âà©Áî®GossipÂçèËÆÆÂ±û‰∫éAPÔºåÂ¶ÇÔºåredis-cluster„ÄÅcassandraÔºåEureka‰ªñ‰ª¨ÊòØÈÄöËøáÂÆûÁé∞‚ÄúÊúÄÁªà‰∏ÄËá¥ÊÄß‚ÄùÊù•‰øùËØÅAP„ÄÇ Âà©Áî®PaxosÂçèËÆÆÂ±û‰∫éCPÔºåÂ¶ÇredisÔºàÂ§ömasterÔºâÔºåhbaseÔºåËøô‰∫õÊï∞ÊçÆÂ∫ìÈõÜÁæ§ÔºåËäÇÁÇπÊúâÂèØËÉΩ‰ºöÂõ†‰∏∫Êó†Ê≥ïÁ°Æ‰øùÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßËÄåÊãíÁªùÊèê‰æõÊúçÂä°„ÄÇ BASEÁêÜËÆ∫BASEÁêÜËÆ∫ÊòØÁî±eBayÁöÑÊû∂ÊûÑÂ∏àDan PritchettÊ∫ê‰∫éÂØπÂ§ßËßÑÊ®°ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑÂÆûË∑µÊÄªÁªìÔºåÂú®ACM‰∏äÂèëË°®ÊñáÁ´†ÊèêÂá∫BASEÁêÜËÆ∫ÔºåBASEÁêÜËÆ∫ÊòØÂØπCAPÁêÜËÆ∫ÁöÑÂª∂‰º∏ÔºåÊ†∏ÂøÉÊÄùÊÉ≥ÊòØÂç≥‰ΩøÊó†Ê≥ïÂÅöÂà∞Âº∫‰∏ÄËá¥ÊÄßÔºàStrong ConsistencyÔºåCAPÁöÑ‰∏ÄËá¥ÊÄßÂ∞±ÊòØÂº∫‰∏ÄËá¥ÊÄßÔºâÔºå‰ΩÜÂ∫îÁî®ÂèØ‰ª•ÈááÁî®ÈÄÇÂêàÁöÑÊñπÂºèËææÂà∞ÊúÄÁªà‰∏ÄËá¥ÊÄßÔºàEventual ConsitencyÔºâ„ÄÇ BASEÁêÜËÆ∫‰∏∫ÔºöÂü∫Êú¨ÂèØÁî®ÔºàBasically AvailableÔºâ„ÄÅËΩØÁä∂ÊÄÅÔºà Soft StateÔºâ„ÄÅÊúÄÁªà‰∏ÄËá¥ÊÄßÔºà Eventual ConsistencyÔºâ„ÄÇ Âü∫Êú¨ÂèØÁî®Âü∫Êú¨ÂèØÁî®ÊòØÊåáÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂú®Âá∫Áé∞ÊïÖÈöúÁöÑÊó∂ÂÄôÔºåÂÖÅËÆ∏ÊçüÂ§±ÈÉ®ÂàÜÂèØÁî®ÊÄßÔºåÂç≥‰øùËØÅÊ†∏ÂøÉÂèØÁî®„ÄÇ ÁîµÂïÜÂ§ß‰øÉÊó∂Ôºå‰∏∫‰∫ÜÂ∫îÂØπËÆøÈóÆÈáèÊøÄÂ¢ûÔºåÈÉ®ÂàÜÁî®Êà∑ÂèØËÉΩ‰ºöË¢´ÂºïÂØºÂà∞ÈôçÁ∫ßÈ°µÈù¢ÔºåÊúçÂä°Â±Ç‰πüÂèØËÉΩÂè™Êèê‰æõÈôçÁ∫ßÊúçÂä°„ÄÇËøôÂ∞±ÊòØÊçüÂ§±ÈÉ®ÂàÜÂèØÁî®ÊÄßÁöÑ‰ΩìÁé∞„ÄÇ ËΩØÁä∂ÊÄÅËΩØÁä∂ÊÄÅÊòØÊåáÂÖÅËÆ∏Á≥ªÁªüÂ≠òÂú®‰∏≠Èó¥Áä∂ÊÄÅÔºåËÄåËØ•‰∏≠Èó¥Áä∂ÊÄÅ‰∏ç‰ºöÂΩ±ÂìçÁ≥ªÁªüÊï¥‰ΩìÂèØÁî®ÊÄß„ÄÇ ÂàÜÂ∏ÉÂºèÂ≠òÂÇ®‰∏≠‰∏ÄËà¨‰∏Ä‰ªΩÊï∞ÊçÆËá≥Â∞ë‰ºöÊúâ‰∏â‰∏™ÂâØÊú¨ÔºåÂÖÅËÆ∏‰∏çÂêåËäÇÁÇπÈó¥ÂâØÊú¨ÂêåÊ≠•ÁöÑÂª∂Êó∂Â∞±ÊòØËΩØÁä∂ÊÄÅÁöÑ‰ΩìÁé∞„ÄÇmysql replicationÁöÑÂºÇÊ≠•Â§çÂà∂‰πüÊòØ‰∏ÄÁßç‰ΩìÁé∞„ÄÇ ÊúÄÁªà‰∏ÄËá¥ÊÄßÊúÄÁªà‰∏ÄËá¥ÊÄßÊòØÊåáÁ≥ªÁªü‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆÂâØÊú¨ÁªèËøá‰∏ÄÂÆöÊó∂Èó¥ÂêéÔºåÊúÄÁªàËÉΩÂ§üËææÂà∞‰∏ÄËá¥ÁöÑÁä∂ÊÄÅ„ÄÇÂº±‰∏ÄËá¥ÊÄßÂíåÂº∫‰∏ÄËá¥ÊÄßÁõ∏ÂèçÔºåÊúÄÁªà‰∏ÄËá¥ÊÄßÊòØÂº±‰∏ÄËá¥ÊÄßÁöÑ‰∏ÄÁßçÁâπÊÆäÊÉÖÂÜµ„ÄÇ ACIDÂíåBASEÁöÑÂå∫Âà´‰∏éËÅîÁ≥ªACIDÊòØ‰º†ÁªüÊï∞ÊçÆÂ∫ìÂ∏∏Áî®ÁöÑËÆæËÆ°ÁêÜÂøµÔºåËøΩÊ±ÇÂº∫‰∏ÄËá¥ÊÄßÊ®°Âûã„ÄÇ BASEÊîØÊåÅÁöÑÊòØÂ§ßÂûãÂàÜÂ∏ÉÂºèÁ≥ªÁªüÔºåÁâ∫Áâ≤ÊéâÂØπ‰∏ÄËá¥ÊÄßÁöÑÁ∫¶ÊùüÔºà‰ΩÜÂÆûÁé∞ÊúÄÁªà‰∏ÄËá¥ÊÄßÔºâÔºåÊù•Êç¢Âèñ‰∏ÄÂÆöÁöÑÂèØÁî®ÊÄß„ÄÇ ACIDÂíåBASE‰ª£Ë°®‰∫Ü‰∏§ÁßçÊà™ÁÑ∂Áõ∏ÂèçÁöÑËÆæËÆ°Âì≤Â≠¶„ÄÇ Âú®Ëã±Êñá‰∏≠ÔºåACIDÂíåBASEÂàÜÂà´ÊòØ‚ÄúÈÖ∏‚ÄùÂíå‚ÄúÁ¢±‚ÄùÔºåÁúã‰ººÂØπÁ´ãÔºåÂÆûÂàôÊòØÂàÜÂà´ÂØπCAP‰∏âÁâπÊÄßÁöÑ‰∏çÂêåÂèñËàç„ÄÇÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªüËÆæËÆ°ÁöÑÂú∫ÊôØ‰∏≠ÔºåÁ≥ªÁªüÁªÑ‰ª∂ÂØπ‰∏ÄËá¥ÊÄßË¶ÅÊ±ÇÊòØ‰∏çÂêåÁöÑÔºåÂõ†Ê≠§ACIDÂíåBASEÂèà‰ºöÁªìÂêà‰ΩøÁî®„ÄÇ FLP ImpossibilityLeaseÊú∫Âà∂QuorumÊú∫Âà∂ConsensusÈóÆÈ¢òÊó∂Â∫èÈóÆÈ¢òÂèÇËÄÉ ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂü∫Á°ÄÊÄªÁªì ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÁöÑFLP‰∏çÂèØËÉΩÂéüÁêÜ„ÄÅCAPÁêÜËÆ∫‰∏éBASEÁêÜËÆ∫]]></content>
      <categories>
        <category>ÂàÜÂ∏ÉÂºè</category>
      </categories>
      <tags>
        <tag>ÂàÜÂ∏ÉÂºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacÁâàÁôæÂ∫¶ÁΩëÁõòÈ£ûÈÄü‰∏ãËΩΩ]]></title>
    <url>%2F2018%2F10%2F31%2F%E5%B7%A5%E5%85%B7%2FMac%E7%89%88%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E9%A3%9E%E9%80%9F%E4%B8%8B%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁôæÂ∫¶ÁΩëÁõò‰∏äÊúâÂæàÂ§öËµÑÊ∫êÔºå‰πãÂâçÂú®Mac‰∏ä‰∏ÄÁõ¥Ê≤°ÊúâÊâæÂà∞Â•ΩÁöÑÂä†ÈÄüÊñπÊ≥ïÊàñËÄÖÁ†¥Ëß£ËΩØ‰ª∂ÔºåËøôÊ¨°Áªà‰∫éÊâæÂà∞‰∫ÜÔºåËØ∑ÈÄüÈÄüÊà≥ËøõÊù•ÔºÅÔºÅ È°πÁõÆÂú∞ÂùÄProxyee Down Proxyee Down ÊòØ‰∏ÄÊ¨æÂºÄÊ∫êÁöÑÂÖçË¥π HTTP È´òÈÄü‰∏ãËΩΩÂô®ÔºåÂ∫ïÂ±Ç‰ΩøÁî®nettyÂºÄÂèëÔºåÊîØÊåÅËá™ÂÆö‰πâ HTTP ËØ∑Ê±Ç‰∏ãËΩΩ‰∏îÊîØÊåÅÊâ©Â±ïÂäüËÉΩÔºåÂèØ‰ª•ÈÄöËøáÂÆâË£ÖÊâ©Â±ïÂÆûÁé∞ÁâπÊÆäÁöÑ‰∏ãËΩΩÈúÄÊ±Ç„ÄÇ ÊúÄËøëËßÜÈ¢ëÊïôÁ®ã‰ª•Âêé‰πüÂèØËÉΩÂ∞±‰∏çÊñ∞‰∫ÜÔºÅÔºÅ Âø´Âø´‰øùÂ≠òÔºå2018ÊúÄÊñ∞ÁôæÂ∫¶‰∫ë‰∏çÈôêÂà∂ÊñπÊ≥ïproxyee down-2018.9.19Ôºå‰∫≤ÊµãÈÄüÂ∫¶Ëææ10M]]></content>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîReentrantReadWriteLock]]></title>
    <url>%2F2018%2F09%2F13%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94ReentrantReadWriteLock%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöËØªÂÜôÂàÜÁ¶ªÊòØËß£ÂÜ≥Âπ∂ÂèëÁì∂È¢àÁöÑÂ∏∏Áî®Á≠ñÁï•ÔºåÂú®Java‰∏≠‰πüÊúâÂÖ∂ÂÆûÁé∞‚Äî‚ÄîReentrantReadWriteLockÔºåÂÆÉËÉΩÂ§üÊúâÊïàÁöÑÊèêÈ´òËØªÊØîÂÜôÂ§öÁöÑÂú∫ÊôØ‰∏ãÁöÑÁ®ãÂ∫èÊÄßËÉΩ„ÄÇ Ê¶ÇËßàReentrantReadWriteLockÊòØÈÄöËøá‰∏§ÊääÈîÅÂÆûÁé∞ËØªÂÜôÂàÜÁ¶ªÁöÑÔºåÂàÜÂà´ÊòØËØªÈîÅÂíåÂÜôÈîÅ„ÄÇÂÆÉÁöÑÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö12345678public class ReentrantReadWriteLock implements ReadWriteLock, java.io.Serializable &#123; // ËØªÈîÅ private final ReentrantReadWriteLock.ReadLock readerLock; // ÂÜôÈîÅ private final ReentrantReadWriteLock.WriteLock writerLock; // ÂêåÊ≠•Âô® final Sync sync; ÂÜôÈîÅÂÜôÈîÅ‰∏ªË¶ÅÊòØÈÄöËøáÈáçÂÜôÂêåÊ≠•Âô®ÁöÑtryAcquireÂíåtryReleaseÂÆûÁé∞ÔºåÂÖ∂‰ªñÈÄªËæëÈÉΩÂèØ‰ª•ÂèÇËÄÉAQSÁöÑËß£Êûê„ÄÇ tryAcquire123456789101112131415161718192021222324252627282930313233343536// Syncstatic final int SHARED_SHIFT = 16;// ÈáçÂÖ•ÊúÄÂ§ßÊ¨°Êï∞static final int MAX_COUNT = (1 &lt;&lt; SHARED_SHIFT) - 1;// Áã¨Âç†ÈîÅÔºàÂÜôÈîÅÔºâÊé©Á†Åstatic final int EXCLUSIVE_MASK = (1 &lt;&lt; SHARED_SHIFT) - 1;protected final boolean tryAcquire(int acquires) &#123; Thread current = Thread.currentThread(); int c = getState(); // Áî® state &amp; 65535 ÂæóÂà∞‰Ωé 16 ‰ΩçÁöÑÂÄº int w = exclusiveCount(c); if (c != 0) &#123; // (Note: if c != 0 and w == 0 then shared count != 0) // Â¶ÇÊûú state ‰∏çÊòØ0Ôºå‰∏î‰Ωé16‰ΩçÊòØ0ÔºåËØ¥ÊòéÂÜôÈîÅÊòØÁ©∫Èó≤ÁöÑÔºåËØªÈîÅË¢´Èú∏Âç†‰∫Ü„ÄÇÈÇ£‰πà‰πü‰∏çËÉΩÊãøÈîÅÔºåËøîÂõû fasle„ÄÇ‰øùËØÅ‰∫ÜËØªÁöÑÊó∂ÂÄô‰∏çËÉΩÂÜô„ÄÇ // Â¶ÇÊûú‰Ωé 16 ‰Ωç‰∏çÊòØ0ÔºåËØ¥ÊòéÂÜôÈîÅË¢´Èú∏Âç†‰∫ÜÔºåÊ≠§Êó∂Â¶ÇÊûúÊåÅÊúâÈîÅÁöÑ‰∏çÊòØÂΩìÂâçÁ∫øÁ®ãÔºåÈÇ£‰πàËøôÊ¨°ÊãøÈîÅÊòØÂ§±Ë¥•ÁöÑ„ÄÇËøîÂõû fasle„ÄÇ if (w == 0 || current != getExclusiveOwnerThread()) return false; // ËøôÈáåÊó∂ÂÄôÂ∫îËØ•ÊòØÂÜôÈáçÂÖ•ÈîÅÔºåÂ¶ÇÊûúÂÜôÈáçÂÖ•Ê¨°Êï∞Ë∂ÖËøáÊúÄÂ§ßÂÄº 65535ÔºåÂ∞±‰ºöÊ∫¢Âá∫ if (w + exclusiveCount(acquires) &gt; MAX_COUNT) throw new Error("Maximum lock count exceeded"); // Reentrant acquire setState(c + acquires); return true; &#125; // writerShouldBlock Âà§Êñ≠ÊòØÂê¶Â∫îËØ•ÈòªÂ°û // 1. ÂÖ¨Âπ≥ÈîÅÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÈòüÂàó‰∏≠ÊúâÁ≠âÂæÖÈîÅÁöÑÁ∫øÁ®ãÔºåÂàôËøîÂõûtureÔºåÂ∫îËØ•ÈòªÂ°û // 2. ÈùûÂÖ¨Âπ≥ÈîÅÊÉÖÂÜµ‰∏ãÔºåËøîÂõûfalseÔºå‰∏çÂ∫îËØ•ÈòªÂ°ûÔºåÁõ¥Êé•ÂèÇ‰∏éÁ´û‰∫â if (writerShouldBlock() || !compareAndSetState(c, c + acquires)) return false; // Á´û‰∫âÂà∞ÈîÅÔºåËÆæÁΩÆÁã¨Âç†Á∫øÁ®ã setExclusiveOwnerThread(current); return true;&#125; tryRelease12345678910111213protected final boolean tryRelease(int releases) &#123; // ÊòØÂê¶ÊåÅÊúâÈîÅ if (!isHeldExclusively()) throw new IllegalMonitorStateException(); // ËÆæÁΩÆstateÁä∂ÊÄÅ int nextc = getState() - releases; // ËÆ°ÁÆóÂÜôÈîÅÁöÑÁä∂ÊÄÅÔºà‰Ωé16‰ΩçÔºâÔºåÂ¶ÇÊûúÊòØ0ÔºåËØ¥ÊòéÊòØÂê¶ÊàêÂäü boolean free = exclusiveCount(nextc) == 0; if (free) setExclusiveOwnerThread(null); setState(nextc); return free;&#125; ËØªÈîÅÂÜôÈîÅ‰∏ªË¶ÅÊòØÈÄöËøáÈáçÂÜôÂêåÊ≠•Âô®ÁöÑtryAcquireSharedÂíåtryReleaseSharedÂÆûÁé∞ÔºåÂÖ∂‰ªñÈÄªËæëÈÉΩÂèØ‰ª•ÂèÇËÄÉAQSÁöÑËß£Êûê„ÄÇ tryAcquireShared12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758// Sync// ÂÖ±‰∫´ÔºàËØªÈîÅÔºâÈáçÂÖ•Ê¨°Êï∞Âü∫Êï∞static final int SHARED_UNIT = (1 &lt;&lt; SHARED_SHIFT);// Á¨¨‰∏Ä‰∏™Ëé∑ÂæóËØªÈîÅÁöÑÁ∫øÁ®ãprivate transient Thread firstReader = null;// Á¨¨‰∏Ä‰∏™Ëé∑ÂæóËØªÈîÅÁöÑÁ∫øÁ®ãÁöÑÈáçÂÖ•Ê¨°Êï∞ËÆ°Êï∞Âô®private transient int firstReaderHoldCount;// ÊúÄÂêé‰∏Ä‰∏™Ëé∑ÂèñËØªÈîÅÁöÑÁ∫øÁ®ãÁöÑËÆ°Êï∞Âô®ÔºåÂ≠òÊîæÂú®ThreadLocal‰∏≠private transient HoldCounter cachedHoldCounter;protected final int tryAcquireShared(int unused) &#123; Thread current = Thread.currentThread(); int c = getState(); // Áî® state &amp; 65535 ÂæóÂà∞‰Ωé 16 ‰ΩçÁöÑÂÄº ‰∏çÁ≠â‰∫é0ÔºåÂÜôÈîÅË¢´Èú∏Âç†‰∫Ü // ‰∏î // ÊåÅÊúâÈîÅÁöÑ‰∏çÊòØÂΩìÂâçÁ∫øÁ®ã // ‰øùËØÅ‰∫ÜÂÜôÁöÑÊó∂ÂÄô‰∏çËÉΩËØª if (exclusiveCount(c) != 0 &amp;&amp; getExclusiveOwnerThread() != current) // Ëé∑ÂèñÈîÅÂ§±Ë¥• return -1; // Â¶ÇÊûúÂÜôÈîÅÊ≤°ÊúâË¢´Èú∏Âç†ÔºåÂàôÂ∞ÜÈ´ò16‰ΩçÁßªÂà∞‰Ωé16‰Ωç int r = sharedCount(c); // readerShouldBlockÂà§Êñ≠ÊòØÂê¶Â∫îËØ•ÈòªÂ°û ÂíåÂÜôÈîÅÈÄªËæë‰∏ÄËá¥ // ÂÜôÈîÅÈáçÂÖ•Ê¨°Êï∞‰∏çË∂ÖËøáÊúÄÂ§ßÂÄº 65535 // ËÆæÁΩÆstateÊàêÂäü (Áõ∏ÂΩì‰∫éÈ´ò16‰ΩçÂä†1) if (!readerShouldBlock() &amp;&amp; r &lt; MAX_COUNT &amp;&amp; compareAndSetState(c, c + SHARED_UNIT)) &#123; // ËØªÈîÅÁ©∫Èó≤ if (r == 0) &#123; firstReader = current; // ËÆ°Êï∞Âô®‰∏∫1 firstReaderHoldCount = 1; // Á¨¨‰∏Ä‰∏™ËØªÁ∫øÁ®ãÊòØÂΩìÂâçÁ∫øÁ®ã &#125; else if (firstReader == current) &#123; // ËÆ°Êï∞Âô®Âä†1 firstReaderHoldCount++; &#125; else &#123; HoldCounter rh = cachedHoldCounter; // Â¶ÇÊûúÊúÄÂêé‰∏Ä‰∏™Á∫øÁ®ãËÆ°Êï∞Âô®ÊòØ null ÊàñËÄÖ‰∏çÊòØÂΩìÂâçÁ∫øÁ®ã if (rh == null || rh.tid != getThreadId(current)) // Êñ∞Âª∫‰∏Ä‰∏™ HoldCounter ÂØπË±° cachedHoldCounter = rh = readHolds.get(); // Â¶ÇÊûú‰∏çÊòØ nullÔºå‰∏î count ÊòØ 0 else if (rh.count == 0) // Â∞±Â∞Ü‰∏ä‰∏™Á∫øÁ®ãÁöÑ HoldCounter Ë¶ÜÁõñÊú¨Âú∞ÁöÑÔºàÊÄßËÉΩËÄÉËôëÔºåÁõ∏ÂΩì‰∫éÁºìÂ≠òÔºâ readHolds.set(rh); // ËÆ°Êï∞Âô®Âä†1 rh.count++; &#125; // Ëé∑ÂæóÈîÅÊàêÂäü return 1; &#125; // Ê≠ªÂæ™ÁéØËé∑ÂèñËØªÈîÅÔºåÂíåtryReleaseSharedÈÄªËæëÁ±ª‰ººÔºåÂè™ÊúâÂ§ö‰∫ÜÊ≠ªÂæ™ÁéØ return fullTryAcquireShared(current);&#125; ÈîÅÈôçÁ∫ßÂú®tryAcquireSharedËøò‰ΩìÁé∞‰∫ÜÈîÅÈôçÁ∫ßÁöÑÊ¶ÇÂøµ„ÄÇÊ¶ÇÂøµÂ¶Ç‰∏ãÔºö ÈáçÂÖ•ËøòÂÖÅËÆ∏‰ªéÂÜôÂÖ•ÈîÅÈôçÁ∫ß‰∏∫ËØªÂèñÈîÅÔºåÂÖ∂ÂÆûÁé∞ÊñπÂºèÊòØÔºöÂÖàËé∑ÂèñÂÜôÂÖ•ÈîÅÔºåÁÑ∂ÂêéËé∑ÂèñËØªÂèñÈîÅÔºåÊúÄÂêéÈáäÊîæÂÜôÂÖ•ÈîÅ„ÄÇ‰ΩÜÊòØÔºå‰ªéËØªÂèñÈîÅÂçáÁ∫ßÂà∞ÂÜôÂÖ•ÈîÅÊòØ‰∏çÂèØËÉΩÁöÑ„ÄÇ ‰ΩìÁé∞Âú®‰ª£Á†Å‰∏≠Â¶Ç‰∏ãÔºö1234// tryAcquireShared ÊàñËÄÖ fullTryAcquireShared‰∏≠if (exclusiveCount(c) != 0) &#123; if (getExclusiveOwnerThread() != current) return -1; ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂ∞±‰ΩìÁé∞Âá∫ÔºöÂΩìÂÜôÈîÅË¢´ÊåÅÊúâÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÂΩìÂâçÊòØÁ∫øÁ®ãÊòØÊåÅÊúâÂÜôÈîÅÁöÑÈÇ£‰∏™Á∫øÁ®ãÔºåÂèØ‰ª•ÁªßÁª≠Ëé∑ÂæóËØªÈîÅ„ÄÇ ÊÄªÂæóÊù•ËØ¥Â∞±ÊèêÈ´ò‰∫ÜÊÄßËÉΩ„ÄÇ tryReleaseShared123456789101112131415161718192021222324252627282930313233343536373839// ÂΩìÂâçÁ∫øÁ®ãÈáçÂÖ•Ê¨°Êï∞ËÆ°Êï∞Âô®private transient ThreadLocalHoldCounter readHolds;protected final boolean tryReleaseShared(int unused) &#123; Thread current = Thread.currentThread(); // Â¶ÇÊûúÊòØÁ¨¨‰∏Ä‰∏™Á∫øÁ®ã if (firstReader == current) &#123; // Â¶ÇÊûúÊòØ 1ÔºåÂ∞ÜÁ¨¨‰∏Ä‰∏™Á∫øÁ®ãËÆæÁΩÆÊàê null if (firstReaderHoldCount == 1) firstReader = null; // Â¶ÇÊûú‰∏çÊòØ 1ÔºåÂáè‰∏ÄÊìç‰Ωú else firstReaderHoldCount--; // Â¶ÇÊûú‰∏çÊòØÂΩìÂâçÁ∫øÁ®ã &#125; else &#123; HoldCounter rh = cachedHoldCounter; // Â¶ÇÊûúÊúÄÂêé‰∏Ä‰∏™Á∫øÁ®ãËÆ°Êï∞Âô®ÊòØ null ÊàñËÄÖÁºìÂ≠òÊâÄÂ±ûÁ∫øÁ®ã‰∏çÊòØÂΩìÂâçÁ∫øÁ®ã if (rh == null || rh.tid != getThreadId(current)) // Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÁöÑËÆ°Êï∞Âô® rh = readHolds.get(); int count = rh.count; // Â¶ÇÊûúËÆ°Êï∞Âô®Â∞è‰∫éÁ≠â‰∫é‰∏ÄÔºåÂ∞±Áõ¥Êé•Âà†Èô§ËÆ°Êï∞Âô® if (count &lt;= 1) &#123; readHolds.remove(); if (count &lt;= 0) throw unmatchedUnlockException(); &#125; // ÂØπËÆ°Êï∞Âô®Âáè‰∏Ä --rh.count; &#125; // Ê≠ªÂæ™ÁéØ‰ΩøÁî® CAS ‰øÆÊîπÁä∂ÊÄÅ for (;;) &#123; int c = getState(); int nextc = c - SHARED_UNIT; if (compareAndSetState(c, nextc)) // ‰øÆÊîπÊàêÂäüÂêéÔºåÂ¶ÇÊûúÊòØ 0ÔºåË°®Á§∫ËØªÈîÅÂíåÂÜôÈîÅÈÉΩÁ©∫Èó≤ÔºåÂàôÂèØ‰ª•Âî§ÈÜíÂêéÈù¢ÁöÑÁ≠âÂæÖÁ∫øÁ®ã return nextc == 0; &#125;&#125; ÊÄªÁªìÂÖ≥‰∫éËØªÂÜôÈîÅÔºåÂÆÉÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™ËØªÈîÅ‰∏Ä‰∏™ÂÜôÈîÅÔºåËØªÈîÅÊòØÂÖ±‰∫´ÁöÑÔºåÂÜôÈîÅÊòØÁã¨Âç†ÁöÑ„ÄÇÁÑ∂ÂêéÊàë‰ª¨ÂÜçÁêÜËß£ÈîÅÈôçÁ∫ßÁöÑÁõ∏ÂÖ≥Ê¶ÇÂøµÂ∞±Ë°å‰∫ÜÔºåÂΩìÁÑ∂Ëøô‰∏ÄÂàáÈÉΩÊòØÈúÄË¶ÅÂª∫Á´ãÂú®ËØªAQSÁöÑÁêÜËß£‰πã‰∏ä„ÄÇ ÂèÇËÄÉ JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîAbstractQueuedSynchronizer Âπ∂ÂèëÁºñÁ®ã‰πã‚Äî‚ÄîÂÜôÈîÅÊ∫êÁ†ÅÂàÜÊûê Âπ∂ÂèëÁºñÁ®ã‰πã‚Äî‚ÄîËØªÈîÅÊ∫êÁ†ÅÂàÜÊûê(Ëß£ÈáäÂÖ≥‰∫éÈîÅÈôçÁ∫ßÁöÑ‰∫âËÆÆ)]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>ÈîÅ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîReentrantLock]]></title>
    <url>%2F2018%2F09%2F13%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94ReentrantLock%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöËôΩÁÑ∂Êúâ‰∫ÜsynchronizedËøôÁßçÂÜÖÁΩÆÁöÑÈîÅÂäüËÉΩÔºå‰ΩÜÊòØÂú®JDK5‰πãÂêéÂèàÊñ∞Â¢û‰∫ÜLockÊé•Âè£ÔºåÂÆÉÁöÑÂÆûÁé∞Á±ªÂèØÊØîÂÜÖÁΩÆÁöÑÈîÅÂº∫Â§ßÂ§ö‰∫Ü„ÄÇ‰ªäÂ§©Êàë‰ª¨‰∏ªË¶ÅÁúãÁúãÂÆÉÁöÑÂÆûÁé∞Á±ª‰πã‰∏ÄReentrantLock„ÄÇ Ê¶ÇËßàÂú®Áúã‰πãÂâçÔºåÊàë‰ª¨‰∏ÄÂÆöË¶ÅÂØπAbstractQueuedSynchronizerÁÜüÊÇâÔºå‰∏çÁÜüÊÇâÁöÑÂèØ‰ª•ÂèÇËÄÉÊàëËøôÁØáÊñáÁ´†‚Äî‚ÄîJDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîAbstractQueuedSynchronizer Êàë‰ª¨ÂÖàÁúãÁúã‰ªñÁöÑÂÆö‰πâÔºö1234567891011121314151617181920public class ReentrantLock implements Lock, java.io.Serializable &#123; // ÂêåÊ≠•Âô®(ÂèØÈÄâÊã©ÂÖ¨Âπ≥ÂêåÊ≠•Âô®ÊàñËÄÖÈùûÂÖ¨Âπ≥ÂêåÊ≠•Âô®) private final Sync sync; // ÈªòËÆ§ÈùûÂÖ¨Âπ≥ÈîÅ public ReentrantLock() &#123; sync = new NonfairSync(); &#125; // fair‰∏∫trueÊó∂ÔºåÈááÁî®ÂÖ¨Âπ≥ÈîÅÁ≠ñÁï• public ReentrantLock(boolean fair) &#123; sync = fair ? new FairSync() : new NonfairSync(); &#125; public void lock() &#123; sync.lock(); &#125; public void unlock() &#123; sync.release(1); &#125;&#125; ÂêåÊ≠•Âô®ÊäΩË±°Á±ª1234567891011121314151617181920212223242526272829303132333435363738394041424344454647abstract static class Sync extends AbstractQueuedSynchronizer &#123; abstract void lock(); // ÈùûÂÖ¨Âπ≥ÁöÑTryAcquire final boolean nonfairTryAcquire(int acquires) &#123; final Thread current = Thread.currentThread(); int c = getState(); // ‰∏∫0ÔºåÂàôÂèØËé∑ÂæóÈîÅÔºåËøõË°åCASÊìç‰ΩúËÆæÁΩÆstateÔºåÂπ∂ËÆæÁΩÆÂΩìÂâçÁ∫øÁ®ã‰∏∫Áã¨Âç†Á∫øÁ®ã if (c == 0) &#123; if (compareAndSetState(0, acquires)) &#123; setExclusiveOwnerThread(current); return true; &#125; &#125; // ÈáçÂÖ•ÈîÅÁöÑ‰ΩìÁé∞ // Â¶ÇÊûúÂΩìÂâçÁ∫øÁ®ã‰∏∫Áã¨Âç†Á∫øÁ®ãÔºåÂàôÂèØÈáçÂÖ• else if (current == getExclusiveOwnerThread()) &#123; // ÈáçÂÖ•Ê¨°Êï∞Â¢ûÂä† int nextc = c + acquires; if (nextc &lt; 0) // overflow throw new Error("Maximum lock count exceeded"); setState(nextc); return true; &#125; // Ëé∑ÂèñÂ§±Ë¥• return false; &#125; // ÈáäÊîæÈîÅ protected final boolean tryRelease(int releases) &#123; // Êà™ÂèñÈáäÊîæÊ¨°Êï∞ int c = getState() - releases; if (Thread.currentThread() != getExclusiveOwnerThread()) throw new IllegalMonitorStateException(); boolean free = false; // ÈáçÂÖ•Ê¨°Êï∞Ë¶ÅÂáèÂà∞0ÔºåÊâçÊòØÁúüÊ≠£ÂæóÈáäÊîæ‰∫ÜÈîÅ if (c == 0) &#123; free = true; setExclusiveOwnerThread(null); &#125; setState(c); return free; &#125; // Áª¥Êä§‰∫Ü‰∏Ä‰∏™Êù°‰ª∂ÈòüÂàó final ConditionObject newCondition() &#123; return new ConditionObject(); &#125;&#125; ÂÖ¨Âπ≥ÈîÅÂÖ¨Âπ≥ÈîÅÊòØÊåáÂ¶ÇÊûúÂêåÊ≠•Âô®ÁöÑÈòüÂàó‰∏≠ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖÔºåÂêéÊù•ÁöÑÁ∫øÁ®ãÂàôÁõ¥Êé•Âä†ÂÖ•Âà∞ÈòüÂàó‰∏≠ÂÖ¨Âπ≥ÂêåÊ≠•Âô®ÂÆûÁé∞Ôºö123456789101112131415161718192021222324252627282930static final class FairSync extends Sync &#123; final void lock() &#123; // AQSÂàÜÊûêÈÄªËæë acquire(1); &#125; // ÂÖ¨Âπ≥ÂÆûÁé∞ protected final boolean tryAcquire(int acquires) &#123; final Thread current = Thread.currentThread(); int c = getState(); // ÂèØËé∑ÂæóÈîÅ if (c == 0) &#123; // Â¶ÇÊûúÂêåÊ≠•Âô®ÁöÑÈòüÂàó‰∏≠Ê≤°ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖ ÊàñËÄÖ CASÊàêÂäü ÊàñËÄÖËÆæÁΩÆÁã¨Âç†Á∫øÁ®ãÊàêÂäü // ÂÖ¨Âπ≥ÁöÑ‰ΩìÁé∞ if (!hasQueuedPredecessors() &amp;&amp; compareAndSetState(0, acquires)) &#123; setExclusiveOwnerThread(current); return true; &#125; &#125; // ÂèØÈáçÂÖ• else if (current == getExclusiveOwnerThread()) &#123; int nextc = c + acquires; if (nextc &lt; 0) throw new Error("Maximum lock count exceeded"); setState(nextc); return true; &#125; return false; &#125;&#125; ÈùûÂÖ¨Âπ≥ÈîÅÈùûÂÖ¨Âπ≥ÈîÅÊòØÊåáÂêéÊù•ÁöÑÁ∫øÁ®ã‰πüÊúâÂêåÊ†∑ÁöÑ‰ºòÂÖàÁ∫ß„ÄÇ ÈùûÂÖ¨Âπ≥ÂêåÊ≠•Âô®ÂÆûÁé∞Ôºö1234567891011121314151617static final class NonfairSync extends Sync &#123; final void lock() &#123; // Âà©Áî®CASÊäästate‰ªé0ËÆæÁΩÆ‰∏∫1 // ÊàêÂäüÂàôËé∑ÂæóÈîÅ if (compareAndSetState(0, 1)) setExclusiveOwnerThread(Thread.currentThread()); else // ËøõÂÖ•AQSÂàÜÊûêÈÄªËæë acquire(1); &#125; protected final boolean tryAcquire(int acquires) &#123; // ÈùûÂÖ¨Âπ≥Ëé∑Âèñ return nonfairTryAcquire(acquires); &#125;&#125; Êù°‰ª∂ÂèòÈáèConditionSynchronized‰∏≠ÔºåÊâÄÊúâÁöÑÁ∫øÁ®ãÈÉΩÂú®Âêå‰∏Ä‰∏™objectÁöÑÊù°‰ª∂ÈòüÂàó‰∏äÁ≠âÂæÖ„ÄÇËÄåReentrantLock‰∏≠ÔºåÊØè‰∏™conditionÈÉΩÁª¥Êä§‰∫Ü‰∏Ä‰∏™Êù°‰ª∂ÈòüÂàó„ÄÇÊàë‰ª¨ÂÖàÁúãÁúãÂú®ÂêåÊ≠•Âô®ÂÆö‰πâÁöÑConditionObjectÂØπË±°„ÄÇ123456public class ConditionObject implements Condition, java.io.Serializable &#123; // Êù°‰ª∂ÈòüÂàóÁöÑÂ§¥ËäÇÁÇπ private transient Node firstWaiter; // Êù°‰ª∂ÈòüÂàóÁöÑÂ∞æËäÇÁÇπ private transient Node lastWaiter;&#125; Êàë‰ª¨ÂÖ≥Ê≥®ÂÆÉÁöÑ‰∏§‰∏™Ê†∏ÂøÉÊñπÊ≥ï(Êù°‰ª∂ÂèòÈáèCondition‰∏∫‰∫ÜËß£ÂÜ≥Object.wait/notify/notifyAllÈöæ‰ª•‰ΩøÁî®ÁöÑÈóÆÈ¢ò)Ôºö12void await() throws InterruptedException;void signal(); awaitÈòªÂ°ûÁ∫øÁ®ã12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364public final void await() throws InterruptedException &#123; // Â¶ÇÊûúÁ∫øÁ®ãË¢´‰∏≠Êñ≠ÔºåÂàôÊäõÂá∫ÂºÇÂ∏∏ if (Thread.interrupted()) throw new InterruptedException(); // 1. Â∞ÜÁ∫øÁ®ãÊ∑ªÂä†Âà∞Êù°‰ª∂Á≠âÂæÖÈòüÂàó Node node = addConditionWaiter(); // 2. ÈáäÊîæÊåÅÊúâÁöÑÈîÅ int savedState = fullyRelease(node); int interruptMode = 0; // ÊòØÂê¶Âú®AQSÁöÑÂêåÊ≠•ÈòüÂàó‰∏≠ while (!isOnSyncQueue(node)) &#123; // 3. ‰∏çÊòØÂàôÊåÇËµ∑ËØ•Á∫øÁ®ã LockSupport.park(this); if ((interruptMode = checkInterruptWhileWaiting(node)) != 0) break; &#125; // 4. Ë¢´Âî§ÈÜíÂêéÔºåÈÄöËøáacquireQueuedÊñπÊ≥ïÈáçÊñ∞Á´û‰∫âÈîÅÔºåÂèÇËÄÉAQS if (acquireQueued(node, savedState) &amp;&amp; interruptMode != THROW_IE) interruptMode = REINTERRUPT; // Ê∏ÖÁêÜÂèñÊ∂àËäÇÁÇπ if (node.nextWaiter != null) unlinkCancelledWaiters(); // Êä•Âëä‰∏≠Êñ≠‰ø°ÊÅØ if (interruptMode != 0) reportInterruptAfterWait(interruptMode);&#125;// 1. Â∞ÜÁ∫øÁ®ãÊ∑ªÂä†Âà∞Êù°‰ª∂Á≠âÂæÖÈòüÂàóprivate Node addConditionWaiter() &#123; Node t = lastWaiter; // Â¶ÇÊûúÊúÄÂêé‰∏Ä‰∏™ËäÇÁÇπÊòØÂèñÊ∂àÁä∂ÊÄÅ if (t != null &amp;&amp; t.waitStatus != Node.CONDITION) &#123; // ‰ªéÈòüÂàóÂà†Èô§ÂèñÊ∂àËäÇÁÇπ unlinkCancelledWaiters(); t = lastWaiter; &#125; // Á∫øÁ®ãÂåÖË£ÖÊàêËäÇÁÇπ Node node = new Node(Thread.currentThread(), Node.CONDITION); if (t == null) firstWaiter = node; else t.nextWaiter = node; lastWaiter = node; return node;&#125;// 2. ÈáäÊîæÊåÅÊúâÁöÑÈîÅfinal int fullyRelease(Node node) &#123; // Ê†áËÆ∞ÊòØÂê¶Â§±Ë¥•ÔºåÂ§±Ë¥•ÂàôÂ∞ÜËäÇÁÇπËÆæ‰∏∫ÂèñÊ∂àÁä∂ÊÄÅ boolean failed = true; try &#123; int savedState = getState(); // releaseÂèØ‰ª•ÂèÇËÄÉAQSÁöÑËß£Êûê if (release(savedState)) &#123; failed = false; return savedState; &#125; else &#123; throw new IllegalMonitorStateException(); &#125; &#125; finally &#123; if (failed) node.waitStatus = Node.CANCELLED; &#125;&#125; signalÂî§ÈÜíÁ∫øÁ®ã1234567891011121314151617181920212223242526272829303132public final void signal() &#123; // ÂΩìÂâçÁ∫øÁ®ãÊòØÂê¶ÊåÅÊúâÈîÅ if (!isHeldExclusively()) throw new IllegalMonitorStateException(); Node first = firstWaiter; if (first != null) doSignal(first);&#125;private void doSignal(Node first) &#123; do &#123; if ( (firstWaiter = first.nextWaiter) == null) lastWaiter = null; first.nextWaiter = null; // ÊâæÂà∞Â∫ïÈÉ®‰∏™ÈùûÂèñÊ∂àËäÇÁÇπÔºåÈÅáÂà∞ÂèñÊ∂àËäÇÁÇπÂ∞±ËøõË°åÂà†Èô§ &#125; while (!transferForSignal(first) &amp;&amp; (first = firstWaiter) != null);&#125;final boolean transferForSignal(Node node) &#123; // Â∞ÜÁä∂ÊÄÅËÆæÁΩÆ‰∏∫0Ôºå‰∏çË°åÂ∞±ÂèñÊ∂àËØ•ËäÇÁÇπ if (!compareAndSetWaitStatus(node, Node.CONDITION, 0)) return false; // Â∞ÜËäÇÁÇπÊîæÂÖ•Âà∞ÂêåÊ≠•ÈòüÂàó‰∏≠ Node p = enq(node); int ws = p.waitStatus; if (ws &gt; 0 || !compareAndSetWaitStatus(p, ws, Node.SIGNAL)) // Âî§ÈÜíÁ∫øÁ®ã LockSupport.unpark(node.thread); return true;&#125; ÊÄªÁªìReetrantLockËøòÊèê‰æõ‰∫ÜÂÖ∂ÂÆÉÂäüËÉΩÔºåÂåÖÊã¨ÂÆöÊó∂ÁöÑÈîÅÁ≠âÂæÖ„ÄÅÂèØ‰∏≠Êñ≠ÁöÑÈîÅÁ≠âÂæÖ„ÄÅÂÖ¨Âπ≥ÊÄß„ÄÅ‰ª•ÂèäÂÆûÁé∞ÈùûÂùóÁªìÊûÑÁöÑÂä†ÈîÅ„ÄÅConditionÔºåÂØπÁ∫øÁ®ãÁöÑÁ≠âÂæÖÂíåÂî§ÈÜíÁ≠âÊìç‰ΩúÊõ¥Âä†ÁÅµÊ¥ª„ÄÇ‰ΩÜÊòØÂÜÖÁΩÆÈîÅÔºàSynchronizedÔºâ‰∏éReentrantLockÁõ∏ÊØîÊúâ‰æãÂ§ñ‰∏Ä‰∏™‰ºòÁÇπÂ∞±ÊòØÂú®Á∫øÁ®ãËΩ¨ÂÇ®‰∏≠ËÉΩÁªôÂá∫Âú®Âì™‰∫õË∞ÉÁî®Â∏ß‰∏≠Ëé∑Âæó‰∫ÜÂì™‰∫õÈîÅÔºåÂπ∂ËÉΩÂ§üÊ£ÄÊµãÂíåËØÜÂà´ÂèëÁîüÊ≠ªÈîÅÁöÑÁ∫øÁ®ã„ÄÇÂõ†‰∏∫ReentrantÁöÑÈùûÂùóÁä∂ÁâπÊÄßÊÑèÂë≥ÁùÄËé∑ÂèñÈîÅÁöÑÊìç‰Ωú‰∏çËÉΩ‰∏éÁâπÂÆöÁöÑÊ†àÂ∏ßÂÖ≥ËÅîËµ∑Êù•„ÄÇÁõ∏ÊØî‰πã‰∏ãÂÜÖÁΩÆÈîÅÊòØJVMÁöÑÂÜÖÁΩÆÂ±ûÊÄßÔºåÊâÄ‰ª•Êú™Êù•Êõ¥ÂèØËÉΩÊèêÂçásynchronizedËÄå‰∏çÊòØReentrantLockÁöÑÊÄßËÉΩÔºåËÄåÁÖßÁõÆÂâçÁöÑË∂ãÂäøÊù•ÁúãÁ°ÆÂÆûÂ¶ÇÊ≠§„ÄÇ ÂèÇËÄÉ JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîAbstractQueuedSynchronizer Ê∑±ÂÖ•ÊµÖÂá∫ReentrantLock]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>ÈîÅ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîAbstractQueuedSynchronizer]]></title>
    <url>%2F2018%2F09%2F11%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94AbstractQueuedSynchronizer%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöjava.util.concurrent.locksÂåÖ‰∏≠ÊúâÂæàÂ§öLockÁöÑÂÆûÁé∞Á±ªÔºåÂÜÖÈÉ®ÂÆûÁé∞ÈÉΩ‰æùËµñAbstractQueuedSynchronizerÔºàAQSÔºâÁ±ªÔºå‰ªäÂ§©Êàë‰ª¨Â∞±ÁúãÁúãAQSÂ¶Ç‰ΩïÂÆåÊàê‰ª£Á†ÅÂùóÁöÑÂπ∂ÂèëËÆøÈóÆÊéßÂà∂„ÄÇ Ê¶ÇËßàÊäΩË±°ÈòüÂàóÂêåÊ≠•Âô®AQSÊòØÁî®Êù•ÊûÑÂª∫ÈîÅÊàñÂÖ∂‰ªñÂêåÊ≠•ÁªÑ‰ª∂ÁöÑÂü∫Á°ÄÊ°ÜÊû∂ÔºåÂÜÖÈÉ®‰ΩøÁî®‰∏Ä‰∏™intÊàêÂëòÂèòÈáèstateË°®Á§∫ÂêåÊ≠•Áä∂ÊÄÅÔºåÈÄöËøáÂÜÖÁΩÆÁöÑFIFOÈòüÂàóÊù•ÂÆåÊàêËµÑÊ∫êËé∑ÂèñÁ∫øÁ®ãÁöÑÊéíÈòüÂ∑•‰ΩúÔºåÂÖ∂‰∏≠ÂÜÖÈÉ®ÂêåÊ≠•Áä∂ÊÄÅstateÔºåÁ≠âÂæÖÈòüÂàóÁöÑÂ§¥ËäÇÁÇπheadÂíåÂ∞æËäÇÁÇπheadÔºåÈÉΩÊòØÈÄöËøávolatile‰øÆÈ•∞Ôºå‰øùËØÅ‰∫ÜÂ§öÁ∫øÁ®ã‰πãÈó¥ÁöÑÂèØËßÅÔºåÂêåÊó∂Ëøô‰∫õÁä∂ÊÄÅ‰∏äÁöÑÊìç‰ΩúÈÉΩÁî®ÈÄöËøáCASÊìç‰ΩúÊù•‰øùÊåÅÂêåÊ≠•„ÄÇ Ê†∏ÂøÉÊàêÂëòÂèòÈáèÂ¶Ç‰∏ãÔºö123456// Á≠âÂæÖÈòüÂàóÂ§¥ËäÇÁÇπÔºåÊáíÂä†ËΩΩprivate transient volatile Node head;// Á≠âÂæÖÈòüÂàóÂ∞æËäÇÁÇπÔºåÊáíÂä†ËΩΩprivate transient volatile Node tail;// ÂêåÊ≠•Áä∂ÊÄÅprivate volatile int state; Êï¥‰∏™AQSÁöÑÁ§∫ÊÑèÂõæÂ¶Ç‰∏ãÔºö Á≠âÂæÖÈòüÂàó‰∏äÈù¢ËØ¥Âà∞AQSÊòØÈÄöËøáÂÜÖÁΩÆÁöÑÈòüÂàó(LH lockÂÆûÁé∞Ôºå‰∏çÊáÇÁöÑÂú®ÂêéÈù¢ÂèÇËÄÉ‰∏≠ÊâæÂà∞Ëß£Èáä)Êù•ÂÆåÊàêÂêåÊ≠•ÁöÑÔºåÊàë‰ª¨Â∞±ÂÖàÁúãÁúãÈòüÂàóÁöÑÂÆö‰πâÔºö123456789101112131415161718192021222324252627282930/** * +------+ prev +-----+ +-----+ * head | | &lt;---- | | &lt;---- | | tail * +------+ +-----+ +-----+ */static final class Node &#123; // Ê†áËÆ∞Ë°®Á§∫ËäÇÁÇπÊ≠£Âú®ÂÖ±‰∫´Ê®°Âºè‰∏≠Á≠âÂæÖ static final Node SHARED = new Node(); // Ê†áËÆ∞Ë°®Á§∫ËäÇÁÇπÊ≠£Âú®Áã¨Âç†Ê®°Âºè‰∏ãÁ≠âÂæÖ static final Node EXCLUSIVE = null; // waitStatusÂÄºË°®Á§∫Á∫øÁ®ãÂèñÊ∂à static final int CANCELLED = 1; // waitStatusÂÄºË°®Á§∫ÂΩìÂâçÁ∫øÁ®ãÁöÑÂêéÁªßÁ∫øÁ®ãÈúÄË¶ÅË¢´Âî§ÈÜí // ‰∏ÄËà¨ÂèëÁîüÊÉÖÂÜµÊòØÔºöÂΩìÂâçÁ∫øÁ®ãÁöÑÂêéÁªßÁ∫øÁ®ãÂ§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅÔºåËÄåÂΩìÂâçÁ∫øÁ®ãË¢´releaseÊàñcancel static final int SIGNAL = -1; // waitStatusÂÄºË°®Á§∫Á∫øÁ®ãÁ≠âÂæÖConditionÂî§ÈÜí static final int CONDITION = -2; // waitStatusÂÄºË°®Á§∫‰∏ã‰∏Ä‰∏™acquireSharedÂ∫îËØ•Êó†Êù°‰ª∂‰º†Êí≠,ÈÉΩËé∑ÂæóÂÖ±‰∫´ÈîÅ static final int PROPAGATE = -3; // Ë°®Á§∫ËäÇÁÇπÁä∂ÊÄÅÂÄºÔºåSIGNALÔºåCANCELLEDÔºåCONDITIONÔºåPROPAGATEÔºå0 volatile int waitStatus; // ÂâçÈ©±ËäÇÁÇπ volatile Node prev; // ÂêéÁªßËäÇÁÇπ volatile Node next; // ÂØπÂ∫îÁ∫øÁ®ã volatile Thread thread; // ËµÑÊ∫êÂÖ±‰∫´ÊñπÂºèÔºöSHARED„ÄÅÁã¨Âç†Ê®°Âºè Node nextWaiter;&#125; ‰ΩøÁî®‰∏çÂêåÁöÑËá™ÂÆö‰πâÂêåÊ≠•Âô®(ÂêéÈù¢‰ºöÊåëÂá†ÁßçËøõË°åÊ∫êÁ†ÅÂàÜÊûê)‰∫âÁî®ÂÖ±‰∫´ËµÑÊ∫êÁöÑÊñπÂºè‰πü‰∏çÂêå„ÄÇËá™ÂÆö‰πâÂêåÊ≠•Âô®Âú®ÂÆûÁé∞Êó∂Âè™ÈúÄË¶ÅÂÆûÁé∞ÂÖ±‰∫´ËµÑÊ∫êstateÁöÑËé∑Âèñ‰∏éÈáäÊîæÊñπÂºèÂç≥ÂèØÔºåËá≥‰∫éÂÖ∑‰ΩìÁ∫øÁ®ãÁ≠âÂæÖÈòüÂàóÁöÑÁª¥Êä§ÔºàÂ¶ÇËé∑ÂèñËµÑÊ∫êÂ§±Ë¥•ÂÖ•Èòü/Âî§ÈÜíÂá∫ÈòüÁ≠âÔºâÔºåAQSÂ∑≤ÁªèÂú®È°∂Â±ÇÂÆûÁé∞Â•Ω‰∫Ü„ÄÇËá™ÂÆö‰πâÂêåÊ≠•Âô®ÂÆûÁé∞Êó∂‰∏ªË¶ÅÂÆûÁé∞‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ïÔºö 12345678910// ËØ•Á∫øÁ®ãÊòØÂê¶Ê≠£Âú®Áã¨Âç†ËµÑÊ∫ê„ÄÇÂè™ÊúâÁî®Âà∞conditionÊâçÈúÄË¶ÅÂéªÂÆûÁé∞ÂÆÉisHeldExclusively();// Áã¨Âç†ÊñπÂºè„ÄÇÂ∞ùËØïËé∑ÂèñËµÑÊ∫êÔºåÊàêÂäüÂàôËøîÂõûtrueÔºåÂ§±Ë¥•ÂàôËøîÂõûfalse„ÄÇtryAcquire(int arg);// Áã¨Âç†ÊñπÂºè„ÄÇÂ∞ùËØïÈáäÊîæËµÑÊ∫êÔºåÊàêÂäüÂàôËøîÂõûtrueÔºåÂ§±Ë¥•ÂàôËøîÂõûfalse„ÄÇtryRelease(int arg);// ÂÖ±‰∫´ÊñπÂºè„ÄÇÂ∞ùËØïËé∑ÂèñËµÑÊ∫ê„ÄÇË¥üÊï∞Ë°®Á§∫Â§±Ë¥•Ôºõ0Ë°®Á§∫ÊàêÂäüÔºå‰ΩÜÊ≤°ÊúâÂâ©‰ΩôÂèØÁî®ËµÑÊ∫êÔºõÊ≠£Êï∞Ë°®Á§∫ÊàêÂäüÔºå‰∏îÊúâÂâ©‰ΩôËµÑÊ∫êtryAcquireShared(int arg);// ÂÖ±‰∫´ÊñπÂºè„ÄÇÂ∞ùËØïÈáäÊîæËµÑÊ∫êÔºåÊàêÂäüÂàôËøîÂõûtrueÔºåÂ§±Ë¥•ÂàôËøîÂõûfalse„ÄÇtryReleaseShared(int arg) ‰∏ÄËà¨Êù•ËØ¥ÔºåËá™ÂÆö‰πâÂêåÊ≠•Âô®Ë¶Å‰πàÊòØÁã¨Âç†ÊñπÊ≥ïÔºåË¶Å‰πàÊòØÂÖ±‰∫´ÊñπÂºèÔºå‰ªñ‰ª¨‰πüÂè™ÈúÄÂÆûÁé∞tryAcquire-tryRelease„ÄÅtryAcquireShared-tryReleaseShared‰∏≠ÁöÑ‰∏ÄÁßçÂç≥ÂèØ„ÄÇ‰ΩÜAQS‰πüÊîØÊåÅËá™ÂÆö‰πâÂêåÊ≠•Âô®ÂêåÊó∂ÂÆûÁé∞Áã¨Âç†ÂíåÂÖ±‰∫´‰∏§ÁßçÊñπÂºèÔºåÂ¶ÇReentrantReadWriteLock„ÄÇ‰∏ãÈù¢ÊàëÂ∞ÜÂàÜÂà´ÂØπÁã¨Âç†ÈîÅÁöÑÁÆ°ÁêÜÊµÅÁ®ã acquire-release Âíå ÂÖ±‰∫´ÈîÅÁÆ°ÁêÜÊµÅÁ®ã acquireShared-releaseShare ËøõË°åÂàÜÊûê„ÄÇ acquire-releaseacquireacquireÊñπÊ≥ïÊòØÁã¨Âç†Ê®°Âºè‰∏ãÁ∫øÁ®ãËé∑ÂèñÂÖ±‰∫´ËµÑÊ∫êÁöÑÈ°∂Â±ÇÂÖ•Âè£„ÄÇÂ¶ÇÊûúËé∑ÂèñÂà∞ËµÑÊ∫êÔºåÁ∫øÁ®ãÁõ¥Êé•ËøîÂõûÔºåÂê¶ÂàôËøõÂÖ•Á≠âÂæÖÈòüÂàóÔºåÁõ¥Âà∞Ëé∑ÂèñÂà∞ËµÑÊ∫ê‰∏∫Ê≠¢Ôºå‰∏îÊï¥‰∏™ËøáÁ®ãÂøΩÁï•‰∏≠Êñ≠ÁöÑÂΩ±Âìç„ÄÇÂÆÉÂ∞ÜË¢´LockÊé•Âè£ÁöÑlockÊñπÊ≥ïË∞ÉÁî®„ÄÇÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121public final void acquire(int arg) &#123; if (!tryAcquire(arg) &amp;&amp; acquireQueued(addWaiter(Node.EXCLUSIVE), arg)) selfInterrupt();&#125;// 1. ÂΩìÂâçÁ∫øÁ®ãÈÄöËøátryAcquire()Â∞ùËØïËé∑ÂèñÈîÅ„ÄÇËé∑ÂèñÊàêÂäüÁöÑËØùÔºåÁõ¥Êé•ËøîÂõûÔºõÂ∞ùËØïÂ§±Ë¥•ÁöÑËØùÔºåËøõÂÖ•Âà∞Á≠âÂæÖÈòüÂàóÊéíÂ∫èÁ≠âÂæÖ„ÄÇ// ‰∫§Áî±Ëá™ÂÆö‰πâÂêåÊ≠•Âô®ÂéªÂÆûÁé∞Ôºå‰∏ªË¶ÅÊòØËÆæÁΩÆÂêåÊ≠•StateÔºåËé∑ÂèñÊàêÂäüËøîÂõûtrueÔºåÂ§±Ë¥•ËøîÂõûfalseprotected boolean tryAcquire(int arg) &#123; throw new UnsupportedOperationException();&#125;// 2. ÂΩìÂâçÁ∫øÁ®ãÂú®Â∞ùËØïÂ§±Ë¥•ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÖàÈÄöËøáaddWaiter(Node.EXCLUSIVE)Êù•Â∞ÜÂΩìÂâçÁ∫øÁ®ãÂä†ÂÖ•Âà∞CLHÈòüÂàóÊú´Â∞æ„ÄÇ// Ê†πÊçÆÂΩìÂâçÁ∫øÁ®ãÂíåÊ®°ÂºèÂàõÂª∫ËäÇÁÇπÂπ∂ÂÖ•Èòüprivate Node addWaiter(Node mode) &#123; // Ê†πÊçÆÂΩìÂâçÁ∫øÁ®ãÂíåÊ®°ÂºèÂàõÂª∫ËäÇÁÇπ Node node = new Node(Thread.currentThread(), mode); // tailËäÇÁÇπ‰∏ç‰∏∫Á©∫ÔºåÂ∞ùËØïÂø´ÈÄüÊñπÂºèÁõ¥Êé•ÊîæÂà∞ÈòüÂ∞æ Node pred = tail; if (pred != null) &#123; node.prev = pred; // Âà©Áî®UnsafeÁöÑCASÊìç‰ΩúÔºå‰∏ãÈù¢Â∞Ü‰∏çÂÜçÊèê if (compareAndSetTail(pred, node)) &#123; pred.next = node; return node; &#125; &#125; // tailËäÇÁÇπ‰∏∫Á©∫ÔºåË∞ÉÁî®enqÊñπÊ≥ï enq(node); return node;&#125;// Â∞ÜËäÇÁÇπÂÖ•ÈòüÔºåÂ¶ÇÊûúÊúâÂøÖË¶ÅÂàùÂßãÂåñÈòüÂàóprivate Node enq(final Node node) &#123; // CASËá™ÊóãÔºåÁõ¥Âà∞ÊàêÂäüÂä†ÂÖ•ÈòüÂ∞æ for (;;) &#123; Node t = tail; // Êú´Á´ØËäÇÁÇπ‰∏∫Á©∫ if (t == null) &#123; // Must initialize // ÂàõÂª∫Â§¥ËäÇÁÇπÔºåÂπ∂Âà©Áî®CASÊìç‰ΩúËÆæÁΩÆÂ§¥ËäÇÁÇπ if (compareAndSetHead(new Node())) // Â∞ÜÂ∞æËäÇÁÇπÊåáÈíà‰πüÊåáÂêëÂ§¥ËäÇÁÇπ tail = head; &#125; else &#123; // Ê≠£Â∏∏ÂÖ•Èòü node.prev = t; if (compareAndSetTail(t, node)) &#123; t.next = node; return t; &#125; &#125; &#125;&#125;// 3. ÂΩìÂâçÁ∫øÁ®ãÊâßË°åÂÆåaddWaiter(Node.EXCLUSIVE)‰πãÂêéÔºåË∞ÉÁî®acquireQueued()Êù•Ëé∑ÂèñÈîÅÔºåÂõ†‰∏∫Ëøô‰∏™Êó∂ÂÄôÂèØËÉΩÂâçÈù¢ÁöÑÁ∫øÁ®ãÂ∑≤ÁªèÈáäÊîæ‰∫ÜÈîÅ„ÄÇ// Â¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãËé∑ÂèñÂà∞‰∫ÜÈîÅÔºåÂàôËøîÂõûÔºõÂê¶ÂàôÔºåÂΩìÂâçÁ∫øÁ®ãË¢´ÊåÇËµ∑ÔºåÁõ¥Âà∞Âî§ÈÜíÂπ∂ÈáçÊñ∞Ëé∑ÂèñÈîÅ‰∫ÜÊâçËøîÂõû„ÄÇfinal boolean acquireQueued(final Node node, int arg) &#123; //Ê†áËÆ∞ÊòØÂê¶ÊàêÂäüÊãøÂà∞ËµÑÊ∫ê boolean failed = true; try &#123; //Ê†áËÆ∞Á≠âÂæÖËøáÁ®ã‰∏≠ÊòØÂê¶Ë¢´‰∏≠Êñ≠Ëøá boolean interrupted = false; // Ëá™Êóã for (;;) &#123; // ÊãøÂà∞ÂâçÈ©±ËäÇÁÇπ final Node p = node.predecessor(); // Â¶ÇÊûúÂâçÈ©±ËäÇÁÇπÊòØheadËäÇÁÇπ Âπ∂‰∏î Ëé∑ÂèñÈîÅÊàêÂäü // ËøôÈáåÊ∂âÂèäÂà∞ÈîÅÁöÑÂÖ¨Âπ≥ÊÄßÈóÆÈ¢òÔºå‰ΩìÁé∞‰∫ÜÈùûÂÖ¨Âπ≥ÊÄß if (p == head &amp;&amp; tryAcquire(arg)) &#123; // Â∞ÜÂΩìÂâçËäÇÁÇπËÆæÁΩÆ‰∏∫headËäÇÁÇπ // headÊâÄÊåáÁöÑÁªìÁÇπÔºåÂ∞±ÊòØÂΩìÂâçËé∑ÂèñÂà∞ÈîÅÁöÑÈÇ£‰∏™ÁªìÁÇπÊàñnull(ÂàùÂßãÂåñÊó∂) setHead(node); p.next = null; // help GC failed = false; // ËøîÂõûÁ≠âÂæÖËøáÁ®ã‰∏≠ÊòØÂê¶Ë¢´‰∏≠Êñ≠Ëøá return interrupted; &#125; // Â¶ÇÊûú‰∏äÈù¢ÁöÑÊù°‰ª∂‰∏çÊàêÁ´ãÔºåÂàôÊåÇËµ∑ÂΩìÂâçÁ∫øÁ®ãÔºåÁ≠âÂæÖË¢´Âî§ÈÜíÊàñËÄÖ‰∏≠Êñ≠ if (shouldParkAfterFailedAcquire(p, node) &amp;&amp; parkAndCheckInterrupt()) interrupted = true; &#125; &#125; finally &#123; // Â¶ÇÊûúËé∑ÂèñÈîÅÂá∫ÈîôÔºåÂàôËÆæÁΩÆ‰∏∫ÂèñÊ∂àÁä∂ÊÄÅ if (failed) cancelAcquire(node); &#125;&#125;// Âú®Ëé∑ÂèñÈîÅÂ§±Ë¥•‰πãÂêéÊ£ÄÊü•ÂíåÊõ¥Êñ∞ËäÇÁÇπÁöÑÁä∂ÊÄÅÔºåËøîÂõûÂΩìÂâçÁ∫øÁ®ãÊòØÂê¶Â∫îËØ•ÈòªÂ°û(Ë¢´Âî§ÈÜí)private static boolean shouldParkAfterFailedAcquire(Node pred, Node node) &#123; // ÊãøÂà∞ÂâçÈ©±ËäÇÁÇπÁöÑÁ≠âÂæÖÁä∂ÊÄÅ int ws = pred.waitStatus; // Á≠âÂæÖÁä∂ÊÄÅ‰∏∫SIGNALÔºà-1Ôºâ if (ws == Node.SIGNAL) return true; // Á≠âÂæÖÁä∂ÊÄÅ‰∏∫CANCELLED(1) if (ws &gt; 0) &#123; // ÂæÄÂâçÊâæÂà∞ÊúÄËøëÊúâÊïàÁöÑËäÇÁÇπ do &#123; node.prev = pred = pred.prev; &#125; while (pred.waitStatus &gt; 0); pred.next = node; // Á≠âÂæÖÁä∂ÊÄÅ‰∏∫ÂÖ∂‰ªñÊÉÖÂÜµ &#125; else &#123; // Â∞ÜÁä∂ÊÄÅËÆæÁΩÆ‰∏∫SIGNAL compareAndSetWaitStatus(pred, ws, Node.SIGNAL); &#125; return false;&#125;// 4. ÂΩìÂâçÁ∫øÁ®ãÂú®ÊâßË°åacquireQueued()Êó∂Ôºå‰ºöËøõÂÖ•Âà∞CLHÈòüÂàó‰∏≠‰ºëÁú†Á≠âÂæÖÔºåÁõ¥Âà∞Ëé∑ÂèñÈîÅ‰∫ÜÊâçËøîÂõûÔºÅ// ÈòªÂ°ûÂπ∂Ê£ÄÊü•ÊòØÂê¶‰∏≠Êñ≠ÔºåÁõ¥Âà∞ÂΩìÂâçÁ∫øÁ®ãË¢´Âî§ÈÜíÊâç‰ªéparkAndCheckInterrupt()‰∏≠ËøîÂõûprivate final boolean parkAndCheckInterrupt() &#123; LockSupport.park(this); // ËøîÂõû‰∏≠Êñ≠Áä∂ÊÄÅÔºåÂπ∂Ê∏ÖÈô§‰∏≠Êñ≠Ê†áÂøóÔºå‰∏≠Êñ≠Âπ∂‰∏ç‰ºöÂèñÊ∂àÈîÅÔºåÂ¶ÇÊûú‰∏≠Êñ≠‰ºöÂÜçÊ¨°Ë¢´ÈòªÂ°û return Thread.interrupted();&#125;// 5. Â¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãÂú®‰ºëÁú†Á≠âÂæÖËøáÁ®ã‰∏≠Ë¢´‰∏≠Êñ≠ËøáÔºåacquireQueued‰ºöËøîÂõûtrueÔºåÊ≠§Êó∂ÂΩìÂâçÁ∫øÁ®ã‰ºöË∞ÉÁî®selfInterrupt()Êù•Ëá™Â∑±ÁªôËá™Â∑±‰∫ßÁîü‰∏Ä‰∏™‰∏≠Êñ≠„ÄÇstatic void selfInterrupt() &#123; // ËÆ∞ÂΩï‰∏≠Êñ≠Ê†áÂøó Thread.currentThread().interrupt();&#125; releasereleaseÊñπÊ≥ïÊòØÁã¨Âç†Ê®°ÂºèÁ∫øÁ®ãÈáäÊîæËµÑÊ∫êÁöÑÂÖ•Âè£„ÄÇÂÆÉÂ∞ÜË¢´LockÊé•Âè£ÁöÑreleaseÊñπÊ≥ïË∞ÉÁî®„ÄÇÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536public final boolean release(int arg) &#123; if (tryRelease(arg)) &#123; // ÊâæÂà∞Â§¥ËäÇÁÇπ Node h = head; // Â§¥ËäÇÁÇπ‰∏ç‰∏∫Á©∫ ‰∏î Â§¥ËäÇÁÇπÁ≠âÂæÖÁä∂ÊÄÅ‰∏ç‰∏∫0 if (h != null &amp;&amp; h.waitStatus != 0) // Âî§ÈÜíÁ≠âÂæÖÈòüÂàóÁöÑ‰∏ã‰∏Ä‰∏™Á∫øÁ®ã unparkSuccessor(h); return true; &#125; return false;&#125;// 1. ÂΩìÂâçÁ∫øÁ®ãÈÄöËøátryRelease(arg)Â∞ùËØïÈáäÊîæÈîÅÔºåÊàêÂäüÂàôËøîÂõûtrueÔºåÂ§±Ë¥•ÂàôËøîÂõûfalse„ÄÇprotected boolean tryRelease(int arg) &#123; throw new UnsupportedOperationException();&#125;// 2. ÂΩìÂâçÁ∫øÁ®ãÈáäÊîæÈîÅÊàêÂäüÂêéÔºåÂî§ÈÜíÁ≠âÂæÖÈòüÂàóÁöÑ‰∏ã‰∏Ä‰∏™Á∫øÁ®ãprivate void unparkSuccessor(Node node) &#123; // Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÁä∂ÊÄÅ int ws = node.waitStatus; // Â¶ÇÊûúÁä∂ÊÄÅ &lt; 0ÔºåÂàôËÆæÁΩÆÁä∂ÊÄÅ‰∏∫0 if (ws &lt; 0) compareAndSetWaitStatus(node, ws, 0); Node s = node.next; // ËäÇÁÇπ‰∏∫Á©∫ ÊàñËÄÖ waitStatus &gt; 0 Ôºå‰ªéÊúÄÂêéÂºÄÂßãÂêëÂâçÂØªÊâæÔºåÊâæÂà∞waitStatusÂ∞è‰∫éÁ≠â‰∫é0ÁöÑËäÇÁÇπ // Ê∂âÂèäÂà∞‰∫ÜÂº±‰∏ÄËá¥ÊÄßÁöÑÈóÆÈ¢òÔºànextÊåáÈíàÂú®Êúâ‰∏™Áü≠ÊöÇÁû¨Èó¥‰∏ç‰∏ÄÂÆöÂ≠òÂú®Ôºâ if (s == null || s.waitStatus &gt; 0) &#123; s = null; for (Node t = tail; t != null &amp;&amp; t != node; t = t.prev) if (t.waitStatus &lt;= 0) s = t; &#125; // Âî§ÈÜíÂêéÁªßËäÇÁÇπÂØπÂ∫îÁöÑÁ∫øÁ®ã if (s != null) LockSupport.unpark(s.thread);&#125; acquireShared-releaseShareacquireSharedacquireShared(int arg)ÊòØÂÖ±‰∫´Ê®°Âºè‰∏ãÁ∫øÁ®ãËé∑ÂèñÂÖ±‰∫´ËµÑÊ∫êÁöÑÈ°∂Â±ÇÂÖ•Âè£„ÄÇÂÆÉ‰ºöËé∑ÂèñÊåáÂÆöÈáèÁöÑËµÑÊ∫êÔºåËé∑ÂèñÊàêÂäüÂàôÁõ¥Êé•ËøîÂõûÔºåËé∑ÂèñÂ§±Ë¥•ÂàôËøõÂÖ•Á≠âÂæÖÈòüÂàóÔºåÁõ¥Âà∞Ëé∑ÂèñÂà∞ËµÑÊ∫ê‰∏∫Ê≠¢ÔºåÊï¥‰∏™ËøáÁ®ãÂøΩÁï•‰∏≠Êñ≠„ÄÇÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263public final void acquireShared(int arg) &#123; if (tryAcquireShared(arg) &lt; 0) doAcquireShared(arg);&#125;// 1. ÂΩìÂâçÁ∫øÁ®ãÈÄöËøátryAcquireShared(int arg)Â∞ùËØïËé∑ÂèñÈîÅÔºåË¥üÂÄº‰ª£Ë°®Ëé∑ÂèñÂ§±Ë¥•Ôºõ0‰ª£Ë°®Ëé∑ÂèñÊàêÂäüÔºå‰ΩÜÊ≤°ÊúâÂâ©‰ΩôËµÑÊ∫êÔºõÊ≠£Êï∞Ë°®Á§∫Ëé∑ÂèñÊàêÂäüÔºåËøòÊúâÂâ©‰ΩôËµÑÊ∫êÔºåÂÖ∂‰ªñÁ∫øÁ®ãËøòÂèØ‰ª•ÂéªËé∑Âèñ// ‰∫§Áî±Ëá™ÂÆö‰πâÂêåÊ≠•Âô®ÂéªÂÆûÁé∞Ôºå‰∏ªË¶ÅÊòØËÆæÁΩÆÂêåÊ≠•Stateprotected int tryAcquireShared(int arg) &#123; throw new UnsupportedOperationException();&#125;// 2. ÂΩìÂâçÁ∫øÁ®ãÈÄöËøádoAcquireShared(int arg)Â∞ÜÂΩìÂâçÁ∫øÁ®ãÂä†ÂÖ•Á≠âÂæÖÈòüÂàóÂ∞æÈÉ®‰ºëÊÅØÔºåÁõ¥Âà∞ÂÖ∂‰ªñÁ∫øÁ®ãÈáäÊîæËµÑÊ∫êÂî§ÈÜíËá™Â∑±ÔºåËá™Â∑±ÊàêÂäüÊãøÂà∞Áõ∏Â∫îÈáèÁöÑËµÑÊ∫êÂêéÊâçËøîÂõûprivate void doAcquireShared(int arg) &#123; // Âä†ÂÖ•ÈòüÂàóÂ∞æÈÉ® final Node node = addWaiter(Node.SHARED); // Ê†áËÆ∞ÊòØÂê¶ÊàêÂäü boolean failed = true; try &#123; // Ê†áËÆ∞ÊòØÂê¶Ë¢´‰∏≠Êñ≠ boolean interrupted = false; // Ëá™Êóã for (;;) &#123; // ÊãøÂà∞ÂâçÈ©±ËäÇÁÇπ final Node p = node.predecessor(); // Ê≠§Êó∂nodeËäÇÁÇπË¢´Âî§ÈÜí if (p == head) &#123; // Â∞ùËØïËé∑ÂæóËµÑÊ∫ê int r = tryAcquireShared(arg); if (r &gt;= 0) &#123; //Â∞ÜheadÊåáÂêëËá™Â∑±ÔºåËøòÊúâÂâ©‰ΩôËµÑÊ∫êÂèØ‰ª•ÂÜçÂî§ÈÜí‰πãÂêéÁöÑÁ∫øÁ®ã setHeadAndPropagate(node, r); p.next = null; // help GC // Â¶ÇÊûúÁ≠âÂæÖËøáÁ®ã‰∏≠Ë¢´‰∏≠Êñ≠ËøáÔºåËÆ∞ÂΩï‰∏≠Êñ≠Ê†áËÆ∞ if (interrupted) selfInterrupt(); failed = false; return; &#125; &#125; // ‰∏éÁã¨Âç†Ê®°ÂºèÁ±ª‰ºº if (shouldParkAfterFailedAcquire(p, node) &amp;&amp; parkAndCheckInterrupt()) interrupted = true; &#125; &#125; finally &#123; if (failed) cancelAcquire(node); &#125;&#125;private void setHeadAndPropagate(Node node, int propagate) &#123; // Â∞ÜheadÊåáÈíàÊåáÂêëËá™Â∑± Node h = head; setHead(node); // Âî§ÈÜíÂêéÁªßËäÇÁÇπ if (propagate &gt; 0 || h == null || h.waitStatus &lt; 0 || (h = head) == null || h.waitStatus &lt; 0) &#123; Node s = node.next; if (s == null || s.isShared()) // ÂÖ≥Ê≥®ËøôÈáå doReleaseShared(); &#125;&#125; releaseSharedoReleaseShared()ÊòØÂÖ±‰∫´Ê®°Âºè‰∏ãÁ∫øÁ®ãÈáäÊîæÂÖ±‰∫´ËµÑÊ∫êÁöÑÈ°∂Â±ÇÂÖ•Âè£„ÄÇÂÆÉ‰ºöÈáäÊîæÊåáÂÆöÈáèÁöÑËµÑÊ∫êÔºåÂ¶ÇÊûúÂΩªÂ∫ïÈáäÊîæ‰∫ÜÔºàÂç≥state=0Ôºâ,ÂÆÉ‰ºöÂî§ÈÜíÁ≠âÂæÖÈòüÂàóÈáåÁöÑÂÖ∂‰ªñÁ∫øÁ®ãÊù•Ëé∑ÂèñËµÑÊ∫ê„ÄÇÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334public final boolean releaseShared(int arg) &#123; if (tryReleaseShared(arg)) &#123; doReleaseShared(); return true; &#125; return false;&#125;// 1. ÂΩìÂâçÁ∫øÁ®ãÈÄöËøátryReleaseShared(int arg)Â∞ùËØïÈáäÊîæÈîÅÔºåÊàêÂäüËøîÂõûtrueÔºåÂ§±Ë¥•ËøîÂõûfalse// ‰∫§Áî±Ëá™ÂÆö‰πâÂêåÊ≠•Âô®ÂéªÂÆûÁé∞Ôºå‰∏ªË¶ÅÊòØËÆæÁΩÆÂêåÊ≠•Stateprotected boolean tryReleaseShared(int arg) &#123; throw new UnsupportedOperationException();&#125;// 2. ÂΩìÂâçÁ∫øÁ®ãÈÄöËøádoReleaseShared()Âî§ÈÜíÂêéÁªßËäÇÁÇπprivate void doReleaseShared() &#123; for (;;) &#123; Node h = head; if (h != null &amp;&amp; h != tail) &#123; int ws = h.waitStatus; if (ws == Node.SIGNAL) &#123; if (!compareAndSetWaitStatus(h, Node.SIGNAL, 0)) continue; // Âî§ÈÜíÁ∫øÁ®ã unparkSuccessor(h); &#125; else if (ws == 0 &amp;&amp; !compareAndSetWaitStatus(h, 0, Node.PROPAGATE)) continue; // loop on failed CAS &#125; if (h == head) // loop if head changed break; &#125;&#125; ÊÄªÁªìÁü•ÈÅì‰∫ÜAQSÁöÑÂéüÁêÜÔºåÈîÅÁöÑÂéüÁêÜÂ∫îËØ•‰πüÂ∞±‰∏çÈöæ‰∫Ü„ÄÇËøôÊ¨°Êàë‰ª¨ÂÜç‰∏ÄÊ¨°ËßÅÂà∞CASÁöÑÂ®ÅÂäõ„ÄÇÂΩìÁÑ∂ËøôÊ¨°Êúâ‰∫õËøòÊòØÊúâ‰∏ÄÁÇπËø∑ÊÉëÔºåÂêéÈù¢ÊúâÊú∫‰ºöÂÜçÊù•Ë°•ÂÖÖÔºÅ ÂèÇËÄÉ CLHÈîÅ „ÄÅMCSÈîÅ JavaÂ§öÁ∫øÁ®ãÔºöAQSÊ∫êÁ†ÅÂàÜÊûê]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>ÈîÅ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîThreadPoolExecutor]]></title>
    <url>%2F2018%2F09%2F07%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94ThreadPoolExecutor%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁõ∏‰ø°Â§ßÂÆ∂Â∑≤ÁªèÊî∂Âà∞‰∫ÜExecutorÊ°ÜÊû∂‰ª•ÂèäÁ∫øÁ®ãÊ±†Â∏¶Êù•ÁöÑÂ•ΩÂ§ÑÔºåÂÆÉÊúâÁùÄÁ•ûÂ•áÁöÑËÉΩÂäõÔºåÈÇ£Êàë‰ª¨Êù•ÁúãÁúãÂÆÉÊòØÊÄé‰πàÂÆûÁé∞ËøôÁßçÁ•ûÂ•áÁöÑËÉΩÂäõÁöÑÔºÅ ËØ¶ÁªÜÊ≥®ÈáäÔºöÊ∫êÁ†ÅÂàÜÊûêÂú∞ÂùÄ Ê¶ÇËø∞Áî®ËøáÁöÑ‰∫∫Â∫îËØ•ÈÉΩÂæàÁÜüÊÇâ‰∫ÜÔºå‰∏çËøáËøòÊÉ≥ÂõûÈ°æ‰∏Ä‰∏ãÁöÑËøòÊòØÂèØ‰ª•ÁúãÁúãËá™Â∑±‰πãÂâçÁúã„ÄäJavaÂπ∂ÂèëÂÆûÊàòÁºñÁ®ã„ÄãÊÄªÁªìÁöÑÂá†Á´†Á¨îËÆ∞Ôºö JavaÂπ∂Âèë5‰ªªÂä°ÊâßË°å JavaÂπ∂Âèë7Á∫øÁ®ãÊ±†ÁöÑ‰ΩøÁî® ‰æãÂ≠êJDKËá™Â∏¶ÁöÑÂì™Âá†ÁßçÁ∫øÁ®ãÊ±†Á±ªÂûãÔºåÂ∞±‰∏çÂ§öÂ±ïÁ§∫‰∫ÜÔºåËøôÈáåÊàë‰ª¨Êù•ÁúãÁúãËá™ÂÆö‰πâÁ∫øÁ®ãÊ±†„ÄÇ1234567891011121314151617181920212223public class ExecutorTest &#123; public static void main(String[] args) &#123; ExecutorService executorService = new ThreadPoolExecutor(5,20, 0, TimeUnit.MILLISECONDS ,new LinkedBlockingDeque&lt;&gt;(1024), Executors.defaultThreadFactory(), new ThreadPoolExecutor.AbortPolicy()); for (int i = 0; i &lt; 10; i++) &#123; executorService.execute(new MyTask()); &#125; &#125;&#125;class MyTask implements Runnable &#123; @Override public void run() &#123; System.out.println("Thread IDÔºö" + Thread.currentThread().getId()); try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125; ËæìÂá∫Ôºö12345678910Thread IDÔºö10Thread IDÔºö12Thread IDÔºö11Thread IDÔºö14Thread IDÔºö13Thread IDÔºö10Thread IDÔºö11Thread IDÔºö12Thread IDÔºö14Thread IDÔºö13 ÁªìÂêàËÆæÁΩÆÁöÑÂèÇÊï∞ÔºåÂ§ßÂÆ∂ÊòØ‰∏çÊòØÈöêÈöêÂèëÁé∞‰∫Ü‰ªÄ‰πàÔºüÊ®°Á≥äÁöÑËØ∑ÂæÄ‰∏ãÁúã„ÄÇ ÊûÑÈÄ†Êàë‰ª¨‰∏ªË¶ÅËøòÊòØËÆ∞‰ΩèËøô7‰∏™ÂèÇÊï∞ÁöÑÂê´‰πâÔºö123456789101112131415161718192021222324252627// ‰øùÈöúÁ∫øÁ®ãÊ±†ËøêË°åÁöÑÊúÄÂ∞ëÁöÑÁ∫øÁ®ãÊï∞private volatile int corePoolSize;// ÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÔºåÂÆÉÊî∂Âà∞CAPACITY((2^29)-1)ÁöÑÈôêÂà∂private volatile int maximumPoolSize;// ÂΩìÁ∫øÁ®ãÊÄªÊï∞Ë∂ÖÂ§öcorePoolSizeÊó∂ÔºåÂ¶ÇÊûúÁ∫øÁ®ãÁ©∫Èó≤Ë∂ÖËøáËøô‰∏™Êó∂Èó¥(ÁªìÂêàunitÊó∂Èó¥Âçï‰Ωç)ÔºåÂ∞ÜË¢´ÂõûÊî∂private volatile long keepAliveTime;// ÂΩìÁ∫øÁ®ãÊ±†Êù•‰∏çÂèäÊâßË°å‰ªªÂä°Êó∂Ôºå‰ºöÂ∞Ü‰ªªÂä°ÊöÇÊó∂ÊîæÂú®ÈòüÂàó‰∏≠ÔºåÁ≠âÂæÖÂêéÁª≠Â§ÑÁêÜprivate final BlockingQueue&lt;Runnable&gt; workQueue;// Á∫øÁ®ãÂ∑•ÂéÇprivate volatile ThreadFactory threadFactory;// ÂΩìÁ∫øÁ®ãÊ±†È•±ÂíåÊàñËÄÖ‰ºòÈõÖÂÖ≥Èó≠ÁöÑÊó∂ÂÄôË∞ÉÁî®private volatile RejectedExecutionHandler handler;public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) &#123; this.corePoolSize = corePoolSize; this.maximumPoolSize = maximumPoolSize; this.workQueue = workQueue; this.keepAliveTime = unit.toNanos(keepAliveTime); this.threadFactory = threadFactory; this.handler = handler;&#125; executeÊúÄ‰∏∫‰∏Ä‰∏™ExecutorÔºåexecuteÊòØ‰ªñÊúÄÊ†∏ÂøÉÁöÑÊñπÊ≥ïÔºåÊàë‰ª¨ÁúãÁúãÂÆÉÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºü123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137/** * ctlÔºàÁ∫øÁ®ãÊ±†ÊéßÂà∂Áä∂ÊÄÅÔºâÂåÖÂê´‰∫Ü‰∏§‰∏™Ê¶ÇÂøµ * 1. workerCountÔºö‰ª£Ë°®ÊúâÊïàÁöÑÁ∫øÁ®ãÊï∞ * 2. runStateÔºö‰ª£Ë°®‰∫ÜËøêË°åÁä∂ÊÄÅ */private final AtomicInteger ctl = new AtomicInteger(ctlOf(RUNNING, 0));// ‰øùÂ≠òÂ∑•‰ΩúÁ∫øÁ®ãprivate final HashSet&lt;Worker&gt; workers = new HashSet&lt;Worker&gt;();public void execute(Runnable command) &#123; if (command == null) throw new NullPointerException(); /* * ‰∏ªË¶ÅÊúâ‰∏ãÈù¢‰∏â‰∏™Ê≠•È™§: * * 1. Âà§Êñ≠ÂΩìÂâçÁöÑÁ∫øÁ®ãÊï∞ÊòØÂê¶Â∞è‰∫écorePoolSize * Â¶ÇÊûúÊòØÔºå‰ΩøÁî®‰º†ËøõÊù•ÁöÑ‰ªªÂä°ÈÄöËøáaddWordÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÔºåÂ¶ÇÊûúËÉΩÂÆåÊàêÊñ∞Á∫øÁ®ãÂàõÂª∫exexuteÊñπÊ≥ïÁªìÊùüÔºåÊàêÂäüÊèê‰∫§‰ªªÂä° * * 2. Âú®Á¨¨‰∏ÄÊ≠•Ê≤°ÊúâÂÆåÊàê‰ªªÂä°Êèê‰∫§ÔºõÁä∂ÊÄÅ‰∏∫ËøêË°åÂπ∂‰∏îËÉΩÂê¶ÊàêÂäüÂä†ÂÖ•‰ªªÂä°Âà∞Â∑•‰ΩúÈòüÂàóÂêéÔºåÂÜçËøõË°å‰∏ÄÊ¨°check * Â¶ÇÊûúÁä∂ÊÄÅÂú®‰ªªÂä°Âä†ÂÖ•ÈòüÂàóÂêéÂèò‰∏∫‰∫ÜÈùûËøêË°åÔºàÊúâÂèØËÉΩÊòØÂú®ÊâßË°åÂà∞ËøôÈáåÁ∫øÁ®ãÊ±†shutdown‰∫ÜÔºâÔºåÈùûËøêË°åÁä∂ÊÄÅ‰∏ãÂΩìÁÑ∂ÊòØÈúÄË¶ÅrejectÔºõÁÑ∂ÂêéÂÜçÂà§Êñ≠ÂΩìÂâçÁ∫øÁ®ãÊï∞ÊòØÂê¶‰∏∫0ÔºàÊúâÂèØËÉΩËøô‰∏™Êó∂ÂÄôÁ∫øÁ®ãÊï∞Âèò‰∏∫‰∫Ü0ÔºâÔºåÂ¶ÇÊòØÔºåÊñ∞Â¢û‰∏Ä‰∏™Á∫øÁ®ãÔºõ * * 3. Â¶ÇÊûú‰∏çËÉΩÂä†ÂÖ•‰ªªÂä°Âà∞Â∑•‰ΩúÈòüÂàóÔºåÂ∞ÜÂ∞ùËØï‰ΩøÁî®‰ªªÂä°Êñ∞Â¢û‰∏Ä‰∏™Á∫øÁ®ã * Â¶ÇÊûúÂ§±Ë¥•ÔºåÂàôÊòØÁ∫øÁ®ãÊ±†Â∑≤ÁªèshutdownÊàñËÄÖÁ∫øÁ®ãÊ±†Â∑≤ÁªèËææÂà∞È•±ÂíåÁä∂ÊÄÅÔºåÊâÄ‰ª•rejectËøô‰∏™‰ªñ‰ªªÂä° */ int c = ctl.get(); // ÂÆûÈôÖÁ∫øÁ®ãÊï∞Â∞è‰∫éÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ if (workerCountOf(c) &lt; corePoolSize) &#123; // Â¢ûÂä†‰∏Ä‰∏™Á∫øÁ®ã if (addWorker(command, true)) return; // Êõ¥Êñ∞Á∫øÁ®ãÊ±†Áä∂ÊÄÅ c = ctl.get(); &#125; // ÂΩìÁ∫øÁ®ãÊ±†Â§Ñ‰∫éËøêË°åÁä∂ÊÄÅ ‰∏î Ê∑ªÂä†ËøõÈòüÂàóÊàêÂäü if (isRunning(c) &amp;&amp; workQueue.offer(command)) &#123; // ÂÜçÊ¨°ÂØπÁ∫øÁ®ãÊ±†Áä∂ÊÄÅÊ£ÄÊü• int recheck = ctl.get(); // Á∫øÁ®ãÊ±†Áä∂ÊÄÅ‰∏çÊòØËøêË°åÁä∂ÊÄÅÔºå‰∏î‰ªéÈòüÂàóÂà†Èô§ËØ•‰ªªÂä°ÊàêÂäü if (! isRunning(recheck) &amp;&amp; remove(command)) // ÊãíÁªù‰ªªÂä° reject(command); // Â¶ÇÊûúÂΩìÂâçÂ∑•‰ΩúÁ∫øÁ®ãÊï∞Èáè‰∏∫0ÔºàÁ∫øÁ®ãÊ±†Â∑≤ÂÖ≥Èó≠Ôºâ else if (workerCountOf(recheck) == 0) // Ê∑ªÂä†‰∏Ä‰∏™ null Âà∞ÈòüÂàó‰∏≠ addWorker(null, false); &#125; // Â¶ÇÊûúÊ∑ªÂä†ÈòüÂàóÂ§±Ë¥•ÔºåÂàôÂàõÂª∫‰∏Ä‰∏™‰ªªÂä°Á∫øÁ®ã else if (!addWorker(command, false)) // Â¶ÇÊûúÂ§±Ë¥•ÔºàÈ•±ÂíåÔºâÔºåÂàôÊãíÁªù reject(command);&#125;// Êñ∞Â¢ûÁ∫øÁ®ãprivate boolean addWorker(Runnable firstTask, boolean core) &#123; // JavaÊ†áÁ≠æ retry: // Ê≠ªÂæ™ÁéØ for (;;) &#123; int c = ctl.get(); // Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÊ±†Áä∂ÊÄÅ int rs = runStateOf(c); // Check if queue empty only if necessary. // ‰∏ãÈù¢ÁöÑÈÄªËæëÂèØ‰ª•Êîπ‰∏∫ËøôÊ†∑ // rs &gt;= shutdown &amp;&amp; (rs != shutdown || firstTask != null || workQueue.isEmpty()) // Ë°®Á§∫‰∏ãÈù¢ËøôÂá†ÁßçÊÉÖÂÜµÂùá‰∏çÊé•ÂèóÊñ∞‰ªªÂä° // 1. rs &gt; shutdown // 2. rs &gt;= shutdown &amp;&amp; firstTask != null // 3. rs &gt;= shutdown &amp;&amp; workQueue.isEmppty if (rs &gt;= SHUTDOWN &amp;&amp; ! (rs == SHUTDOWN &amp;&amp; firstTask == null &amp;&amp; ! workQueue.isEmpty())) return false; for (;;) &#123; // Ëé∑ÂèñÁ∫øÁ®ãÊ±†‰∏≠Á∫øÁ®ãÊï∞Èáè int wc = workerCountOf(c); // Â¶ÇÊûúË∂ÖÂá∫ÂÆπÈáèÊàñËÄÖË∂ÖÂá∫Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ÊàñÊúÄÂ§ßÁ∫øÁ®ãÊï∞(Áî±coreÂÜ≥ÂÆö) if (wc &gt;= CAPACITY || wc &gt;= (core ? corePoolSize : maximumPoolSize)) return false; // Á∫øÁ®ãÂÆâÂÖ®Â¢ûÂä†Â∑•‰ΩúÁ∫øÁ®ãÊï∞ if (compareAndIncrementWorkerCount(c)) // / Ë∑≥Âá∫retry break retry; c = ctl.get(); // Re-read ctl // Â¶ÇÊûúÁ∫øÁ®ãÊ±†Áä∂ÊÄÅÂèëÁîüÂèòÂåñÔºåÈáçÊñ∞Âæ™ÁéØ if (runStateOf(c) != rs) continue retry; &#125; &#125; // Á∫øÁ®ãÊ∑ªÂä†ÊàêÂäü boolean workerStarted = false; boolean workerAdded = false; Worker w = null; try &#123; // Worker‰ª£ÁêÜ‰∫Ü‰ªªÂä°ÂØπË±°ÔºåÂèØ‰ª•ÁúãÂÖ∂ÊûÑÈÄ†ÊñπÊ≥ï w = new Worker(firstTask); final Thread t = w.thread; if (t != null) &#123; final ReentrantLock mainLock = this.mainLock; mainLock.lock(); try &#123; // ÊãøÂà∞Á∫øÁ®ãÊ±†Áä∂ÊÄÅ int rs = runStateOf(ctl.get()); // RUNNINGÁä∂ÊÄÅ || SHUTDONWÁä∂ÊÄÅ‰∏ãÊ∏ÖÁêÜÈòüÂàó‰∏≠Ââ©‰ΩôÁöÑ‰ªªÂä° if (rs &lt; SHUTDOWN || (rs == SHUTDOWN &amp;&amp; firstTask == null)) &#123; if (t.isAlive()) // precheck that t is startable throw new IllegalThreadStateException(); // Â∞ÜÊñ∞ÂàõÂª∫ÁöÑÁ∫øÁ®ãÊîæËøõÁ∫øÁ®ãSetÈáå workers.add(w); // Êõ¥Êñ∞Á∫øÁ®ãÊ±†Á∫øÁ®ãÊï∞‰∏î‰∏çË∂ÖËøáÊúÄÂ§ßÂÄº int s = workers.size(); if (s &gt; largestPoolSize) largestPoolSize = s; workerAdded = true; &#125; &#125; finally &#123; mainLock.unlock(); &#125; // ÂêØÂä®Êñ∞Ê∑ªÂä†ÁöÑÁ∫øÁ®ãÔºåËøô‰∏™Á∫øÁ®ãÈ¶ñÂÖàÊâßË°åfirstTaskÔºåÁÑ∂Âêé‰∏çÂÅúÁöÑ‰ªéÈòüÂàó‰∏≠Âèñ‰ªªÂä°ÊâßË°å if (workerAdded) &#123; // Âú®‰∏ã‰∏ÄËäÇworker‰∏≠ÂàÜÊûê t.start(); workerStarted = true; &#125; &#125; &#125; finally &#123; // Á∫øÁ®ãÂêØÂä®Â§±Ë¥•ÔºåÂàô‰ªéwokers‰∏≠ÁßªÈô§wÂπ∂ÈÄíÂáèwokerCount if (! workerStarted) // ÈÄíÂáèwokerCount‰ºöËß¶ÂèëtryTerminateÊñπÊ≥ï addWorkerFailed(w); &#125; return workerStarted;&#125; workerworkerÂØπË±°‰ª£ÁêÜ‰∫Ü‰ªªÂä°ÔºåÊàë‰ª¨ÁúãÁúãÂÆÉÁöÑÂÆûÁé∞Ôºö1234567891011121314151617181920212223242526272829// ‰ª£ÁêÜ‰ªªÂä°ÊâßË°åÁöÑÁ∫øÁ®ãfinal Thread thread;// Á¨¨‰∏Ä‰∏™‰ªªÂä°Runnable firstTask;Worker(Runnable firstTask) &#123; setState(-1); // inhibit interrupts until runWorker this.firstTask = firstTask; // ËøôÈáåÂ∞±Áî®Âà∞Êàë‰ª¨Âú®‰æãÂ≠ê‰∏≠ÁöÑ‰º†ÂÖ•ÁöÑÂ∑•ÂéÇÔºàÊ≥®ÊÑèÊòØËøô‰∏™thisÔºåÂ∞ÜworkerËá™Â∑±‰Ωú‰∏∫‰∏Ä‰∏™RunnabelÔºâ this.thread = getThreadFactory().newThread(this);&#125;// DefaultThreadFactorypublic Thread newThread(Runnable r) &#123; // ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÔºåÂêéÈù¢Â∞±ÊòØÁ∫øÁ®ãÂêç‰∫ÜÔºåÂú®ÊûÑÈÄ†Â∑•ÂéÇÁöÑÊó∂ÂÄôÂ∞±Á°ÆÂÆö‰∫Ü Thread t = new Thread(group, r, namePrefix + threadNumber.getAndIncrement(), 0); if (t.isDaemon()) t.setDaemon(false); if (t.getPriority() != Thread.NORM_PRIORITY) t.setPriority(Thread.NORM_PRIORITY); return t;&#125;// workÊâßË°å‰ªªÂä°public void run() &#123; // Ëøô‰∏™ÊñπÊ≥ïÂ§™Ê†∏ÂøÉÔºåÂçïÁã¨ÊãøÂá∫Êù• runWorker(this);&#125; runWorker‰∏ªË¶ÅÁöÑÂ∑•‰ΩúÂ∞±ÊòØÁ¨¨‰∏ÄÊ¨°ÂêØÂä®‰ºöÊâßË°åÂàùÂßãÂåñ‰º†ËøõÊù•ÁöÑ‰ªªÂä°firstTaskÔºõÁÑ∂Âêé‰ºöÂæ™ÁéØ‰ªéworkQueue‰∏≠Âèñ‰ªªÂä°ÊâßË°åÔºåÂ¶ÇÊûúÈòüÂàó‰∏∫Á©∫ÂàôÁ≠âÂæÖkeepAliveTimeËøô‰πàÈïøÊó∂Èó¥„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899final void runWorker(Worker w) &#123; Thread wt = Thread.currentThread(); // ÊãøÂà∞firstTask Runnable task = w.firstTask; // Á≠âÂæÖgc w.firstTask = null; // ÂÖÅËÆ∏‰∏≠Êñ≠ w.unlock(); // allow interrupts boolean completedAbruptly = true; try &#123; // task‰∏ç‰∏∫Á©∫ Êàñ ÈòüÂàó‰∏ç‰∏∫Á©∫ ÂÖ≥Ê≥®getTaskÊñπÊ≥ïËß£Êûê while (task != null || (task = getTaskÊñπÊ≥ïËß£Êûê()) != null) &#123; w.lock(); // ‰∏≠Êñ≠Â§ÑÁêÜ if ((runStateAtLeast(ctl.get(), STOP) || (Thread.interrupted() &amp;&amp; runStateAtLeast(ctl.get(), STOP))) &amp;&amp; !wt.isInterrupted()) wt.interrupt(); try &#123; // ÊâßË°åÂâçÈí©Â≠ê beforeExecute(wt, task); Throwable thrown = null; try &#123; // Ë∞ÉÁî®‰ªªÂä°ÁöÑrunÊñπÊ≥ï task.run(); &#125; catch (RuntimeException x) &#123; thrown = x; throw x; &#125; catch (Error x) &#123; thrown = x; throw x; &#125; catch (Throwable x) &#123; thrown = x; throw new Error(x); &#125; finally &#123; // ÊâßË°åÂêéÈí©Â≠ê afterExecute(task, thrown); &#125; &#125; finally &#123; // Á≠âÂæÖgc task = null; w.completedTasks++; w.unlock(); &#125; &#125; completedAbruptly = false; &#125; finally &#123; // WorkerÁöÑÂñÑÂêéÔºå‰ªéÁ∫øÁ®ãÊ±†‰∏≠ÁßªÈô§Ë∂ÖÊó∂ÊàñËÄÖÂá∫Áé∞ÂºÇÂ∏∏ÁöÑÁ∫øÁ®ã processWorkerExit(w, completedAbruptly); &#125;&#125;// Âèñ‰ªªÂä°ÔºåËøôÈáåÂÖ≥Ê≥®Ë∂ÖÊó∂ÈóÆÈ¢ò‰ª•ÂèäkeepAliveTimeËµ∑‰ΩúÁî®ÁöÑ‰ª£Á†ÅÊÆµprivate Runnable getTask() &#123; // Ë∂ÖÊó∂Ê†áÂøó‰Ωç boolean timedOut = false; // Did the last poll() time out? for (;;) &#123; // Ëé∑ÂèñÁ∫øÁ®ãÊ±†Áä∂ÊÄÅ int c = ctl.get(); int rs = runStateOf(c); // Check if queue empty only if necessary. // Êúâ‰∏ãÈù¢‰∏§ÁßçÊÉÖÂÜµÊàêÁ´ã // 1. rs &gt; SHUTDOWN ÊâÄ‰ª•rsËá≥Â∞ëÁ≠â‰∫éSTOP,ËøôÊó∂‰∏çÂÜçÂ§ÑÁêÜÈòüÂàó‰∏≠ÁöÑ‰ªªÂä° // 2. rs = SHUTDOWN ÊâÄ‰ª•rs&gt;=STOPËÇØÂÆö‰∏çÊàêÁ´ãÔºåËøôÊó∂ËøòÈúÄË¶ÅÂ§ÑÁêÜÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°Èô§ÈùûÈòüÂàó‰∏∫Á©∫ if (rs &gt;= SHUTDOWN &amp;&amp; (rs &gt;= STOP || workQueue.isEmpty())) &#123; // ‰ªãÁªç‰πãÂâçÔºåÈÄíÂáèworkerCountÂÄº decrementWorkerCount(); return null; &#125; int wc = workerCountOf(c); // Ê†áËÆ∞‰ªéÈòüÂàó‰∏≠Âèñ‰ªªÂä°Êó∂ÊòØÂê¶ËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥ boolean timed = allowCoreThreadTimeOut || wc &gt; corePoolSize; // 1. Â¶ÇÊûúËøêË°åÁ∫øÁ®ãÊï∞Ë∂ÖËøá‰∫ÜÊúÄÂ§ßÁ∫øÁ®ãÊï∞Ôºå‰ΩÜÊòØÁºìÂ≠òÈòüÂàóÂ∑≤ÁªèÁ©∫‰∫ÜÔºåËøôÊó∂ÈÄíÂáèworkerÊï∞Èáè // 2. Â¶ÇÊûúËÆæÁΩÆÊúâÊ†∏ÂøÉÁ∫øÁ®ãÊúâË∂ÖÊó∂Êó∂Èó¥Ë¶ÅÊ±ÇÊàñËÄÖÁ∫øÁ®ãÊï∞ËøúÂ§ß‰∫éÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ ‰∏î ÁºìÂ≠òÈòüÂàóÂ∑≤ÁªèÁ©∫‰∫ÜËøôÊó∂ÈÄíÂáèworkerÊï∞Èáè if ((wc &gt; maximumPoolSize || (timed &amp;&amp; timedOut)) &amp;&amp; (wc &gt; 1 || workQueue.isEmpty())) &#123; if (compareAndDecrementWorkerCount(c)) return null; continue; &#125; // Ê≤°ÊúâËÆæÁΩÆÊ†∏ÂøÉÁ∫øÁ®ãÊúâË∂ÖÊó∂Êó∂Èó¥Ë¶ÅÊ±ÇÊàñËÄÖÁ∫øÁ®ãÊï∞ËøúÂ∞è‰∫éÊ†∏ÂøÉÁ∫øÁ®ãÊï∞Â∞±takeÔºåÂê¶ÂàôÂ∞±Â∏¶keepAliveTimeÂæópoll try &#123; Runnable r = timed ? workQueue.poll(keepAliveTime, TimeUnit.NANOSECONDS) : workQueue.take(); if (r != null) return r; // Ë∂ÖÊó∂ timedOut = true; &#125; catch (InterruptedException retry) &#123; // Á∫øÁ®ãË¢´‰∏≠Êñ≠ÈáçËØï timedOut = false; &#125; &#125;&#125; submitÂΩìÊàë‰ª¨ÂØπ‰∫éÁ∫øÁ®ãÊâßË°å‰∏çÈúÄË¶ÅËøîÂõûÁªìÊûúÊó∂ÔºåÁõ¥Êé•Ë∞ÉÁî®Á∫øÁ®ãÁöÑexecuteÊñπÊ≥ïÊù•Êèê‰∫§‰ªªÂä°Â∞±Â•Ω‰∫Ü„ÄÇÁÑ∂ËÄåÂæàÂ§öÊó∂ÂÄôÊàë‰ª¨ÈúÄË¶ÅÁ∫øÁ®ãÊâßË°åÁöÑËøîÂõûÁªìÊûúÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅË∞ÉÁî®submitÊñπÊ≥ïÊù•Êèê‰∫§‰ªªÂä°„ÄÇËôΩÁÑ∂ÂÆÉÊúÄÂêé‰πü‰ºöË∞ÉÁî®Âà∞executeÊñπÊ≥ïÔºå‰ΩÜÊòØ‰ªñ‰ª¨ÂÖ∑‰Ωì‰∏çÂêåÂú®Âì™ÈáåÔºåÊàë‰ª¨Êù•ÁúãÁúãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970// submitÊñπÊ≥ïÊù•Ëá™‰∫éAbstractExecutorServicepublic Future&lt;?&gt; submit(Runnable task) &#123; if (task == null) throw new NullPointerException(); // Â∞ÜtaskËøõË°å‰∫ÜÂ∞ÅË£Ö RunnableFuture&lt;Void&gt; ftask = newTaskFor(task, null); // Ââ©‰∏ãÁöÑÂ∞±‰∏ÄÊ†∑‰∫Ü execute(ftask); return ftask;&#125;// AbstractExecutorServiceprotected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) &#123; // Â∞ÜRunnableÂ∞ÅË£ÖÊàêFutureTask return new FutureTask&lt;T&gt;(runnable, value);&#125;// FutureTaskpublic FutureTask(Runnable runnable, V result) &#123; // Â∞ÜRunnableÂ∞ÅË£ÖÊàêcallable this.callable = Executors.callable(runnable, result); // Á°Æ‰øùcallableÁöÑÂèØËßÅÊÄß this.state = NEW;&#125;// Ê†πÊçÆÂâçÈù¢ÁöÑexecuteÊñπÊ≥ïÁöÑÂàÜÊûêÔºåÊàë‰ª¨Áü•ÈÅìÊúÄÂêéÁöÑÊâßË°å‰ºöË∞ÉÁî®Âà∞FutureTaskÁöÑrunÊñπÊ≥ïpublic void run() &#123; // Áä∂ÊÄÅ‰∏ç‰∏∫NEWÊàñËÄÖUNSAFE‰∏çÊàêÂäüÔºåÂàôËøêË°åÂ§±Ë¥• if (state != NEW || !UNSAFE.compareAndSwapObject(this, runnerOffset, null, Thread.currentThread())) return; try &#123; // ÊúÄÁªàÂèàË∞ÉÁî®Âà∞‰∫ÜFutureTask‰øùËØÅÁöÑCallableÂØπË±° Callable&lt;V&gt; c = callable; // callable‰∏ç‰∏∫Á©∫‰∏îÁä∂ÊÄÅ‰∏∫NEW if (c != null &amp;&amp; state == NEW) &#123; V result; boolean ran; try &#123; // ÂæóÂà∞ËøîÂõûÂÄº result = c.call(); ran = true; &#125; catch (Throwable ex) &#123; result = null; ran = false; // Â¶ÇÊûúÊúâÂºÇÂ∏∏ÔºåËÆæÁΩÆÂºÇÂ∏∏ setException(ex); &#125; if (ran) // ËÆæÁΩÆËøîÂõûÂÄºÔºå set(result); &#125; &#125; finally &#123; runner = null; int s = state; if (s &gt;= INTERRUPTING) handlePossibleCancellationInterrupt(s); &#125;&#125;protected void set(V v) &#123; // ËÆæÁΩÆËøîÂõûÂÄºÔºå‰πüÂ∞ÜÁä∂ÊÄÅNEWÂèò‰∏∫COMPLETING if (UNSAFE.compareAndSwapInt(this, stateOffset, NEW, COMPLETING)) &#123; outcome = v; // ÂÆåÊàê‰πãÂêéÂ∞ÜÁä∂ÊÄÅËÆæÁΩÆ‰∏∫NORMAl UNSAFE.putOrderedInt(this, stateOffset, NORMAL); // final state // ËøõË°åÂèòÈáèÊ∏ÖÁêÜÂ∑•‰Ωú finishCompletion(); &#125;&#125; Âú®Êàë‰ª¨submit‰πãÂêé‰ºöÂæóÂà∞‰∏Ä‰∏™FutureÔºåÊàë‰ª¨Ë¶ÅÊÉ≥Âà∞ËøîÂõûÂÄºÔºåÊàë‰ª¨Âè™Ë¶ÅË∞ÉÁî®getÊñπÊ≥ïÔºö1234567891011121314151617181920public V get() throws InterruptedException, ExecutionException &#123; // ÊãøÂà∞Áä∂ÊÄÅ int s = state; // Êú™ÂÆåÊàêÔºåÂàôÈòªÂ°ûÁ≠âÂæÖÂÆåÊàêÔºåËøôÈáåÂèØ‰ª•ËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥ if (s &lt;= COMPLETING) s = awaitDone(false, 0L); // ËøòÈúÄË¶ÅÊ†πÊçÆÁä∂ÊÄÅÂà§Êñ≠ÊòØÂê¶ËøîÂõûÂÄº return report(s);&#125;private V report(int s) throws ExecutionException &#123; Object x = outcome; // Â¶ÇÊûúÁä∂ÊÄÅ‰∏∫NORMALÔºåÂàôËøîÂõûÂÄº if (s == NORMAL) return (V)x; // Â¶ÇÊûúÁä∂ÊÄÅ‰∏∫CACELLEDÔºåÂàô‰ª£Ë°®‰ªªÂä°ÂëóÂèñÊ∂àÔºåÊäõÂá∫ÂºÇÂ∏∏ if (s &gt;= CANCELLED) throw new CancellationException(); throw new ExecutionException((Throwable)x);&#125; ËøôÈáåÂü∫Êú¨Â∞±Ë¶ÜÁõñ‰∫ÜËøêË°åÊó∂ÁöÑËøáÁ®ãÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÂæàÂ•ΩÂæóÁêÜËß£Êàë‰ª¨ÔºåÂΩì‰ªªÂä°Êú™ÂÆåÊàêÁöÑÊó∂ÂÄôÔºå‰ºöÂèëÁîüÈòªÂ°ûÁ≠âÂæÖÁöÑÊÉÖÂÜµ„ÄÇ ÊÄªÁªìÈÄöËøá‰∏äÈù¢Êàë‰ª¨Âü∫Êú¨Áü•ÈÅì‰∫ÜÁ∫øÁ®ãÊ±†ÁöÑÂÆûÁé∞ÂéüÁêÜ„ÄÇÁÑ∂ÂêéÂ∞±ÊòØËøêÁî®Ëøô‰∫õÂéüÁêÜÂØπÁ∫øÁ®ãÊ±†ËøõË°åË∞É‰ºò‰∫Ü„ÄÇËøôÈáåÂÖ≥ÈîÆËøòÊòØË∞ÉÊï¥Âì™‰∫õÊûÑÈÄ†Êó∂ÁöÑÂèÇÊï∞„ÄÇ ÂèÇËÄÉ JavaÂπ∂Âèë5‰ªªÂä°ÊâßË°å JavaÂπ∂Âèë7Á∫øÁ®ãÊ±†ÁöÑ‰ΩøÁî®]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>JDK</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîThreadLocal]]></title>
    <url>%2F2018%2F09%2F07%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94ThreadLocal%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂèØËÉΩÂ§ßÂÆ∂ÂØπThreadLocalËøô‰∏™Á±ªÊó¢ÁÜüÊÇâÂèàÈôåÁîüÔºåÁúãÂà∞ÂæóÂ§öÁî®Âà∞ÂæóÂ∞ë„ÄÇ ËØ¶ÁªÜÊ≥®ÈáäÔºöÊ∫êÁ†ÅÂàÜÊûêÂú∞ÂùÄ Ê¶ÇËßàËØ•Á±ªÊèê‰æõ‰∫ÜÁ∫øÁ®ãÂ±ÄÈÉ® (thread-local) ÂèòÈáè„ÄÇThreadLocal ÂÆû‰æãÈÄöÂ∏∏ÊòØÁ±ª‰∏≠ÁöÑ private static Â≠óÊÆµÔºåÂÆÉ‰ª¨Â∏åÊúõÂ∞ÜÁä∂ÊÄÅ‰∏éÊüê‰∏Ä‰∏™Á∫øÁ®ãÔºà‰æãÂ¶ÇÔºåÁî®Êà∑ ID Êàñ‰∫ãÂä° IDÔºâÁõ∏ÂÖ≥ËÅî„ÄÇ ÊØè‰∏™Á∫øÁ®ãÈÉΩ‰øùÊåÅÂØπÂÖ∂Á∫øÁ®ãÂ±ÄÈÉ®ÂèòÈáèÂâØÊú¨ÁöÑÈöêÂºèÂºïÁî®ÔºåÂè™Ë¶ÅÁ∫øÁ®ãÊòØÊ¥ªÂä®ÁöÑÂπ∂‰∏î ThreadLocal ÂÆû‰æãÊòØÂèØËÆøÈóÆÁöÑÔºõÂú®Á∫øÁ®ãÊ∂àÂ§±‰πãÂêéÔºåÂÖ∂Á∫øÁ®ãÂ±ÄÈÉ®ÂÆû‰æãÁöÑÊâÄÊúâÂâØÊú¨ÈÉΩ‰ºöË¢´ÂûÉÂúæÂõûÊî∂ÔºàÈô§ÈùûÂ≠òÂú®ÂØπËøô‰∫õÂâØÊú¨ÁöÑÂÖ∂‰ªñÂºïÁî®Ôºâ Â∫îÁî®ÔºöÂú®ÂçïÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫è‰∏≠ÂèØËÉΩ‰ºöÁª¥ÊåÅ‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÊï∞ÊçÆÂ∫ìËøûÊé•ÔºåÂπ∂Âú®Á®ãÂ∫èÂêØÂä®Êó∂ÂàùÂßãÂåñËøô‰∏™ËøûÊé•ÂØπË±°Ôºå‰ªéËÄåÈÅøÂÖçÂú®Ë∞ÉÁî®ÊØè‰∏™ÊñπÊ≥ïÊó∂ÈÉΩË¶Å‰º†ÈÄí‰∏Ä‰∏™ConnectionÂØπË±°„ÄÇÁî±‰∫éJDBCÁöÑËøûÊé•ÂØπË±°‰∏ç‰∏ÄÂÆöÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÂõ†Ê≠§ÔºåÂΩìÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÂú®Ê≤°ÊúâÂçèÂêåÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®ÂÖ®Â±ÄÂèòÈáèÊó∂ÔºåÂ∞±‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÈÄöËøáÂ∞ÜJDBCÁöÑËøûÊé•‰øùÂ≠òÂà∞ThreadLocalÂØπË±°‰∏≠ÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩ‰ºöÊã•ÊúâÂ±û‰∫éËá™Â∑±ÁöÑËøûÊé•„ÄÇ ‰ΩøÁî®12345678910111213141516171819202122232425public class ThreadLocalTest &#123; public static void main(String[] args) &#123; ThreadLocal&lt;String&gt; myThreadLocal = new MyThreadLocal&lt;String&gt;(); // ËæìÂá∫leonard System.out.println(myThreadLocal.get()); myThreadLocal.set("rex"); // ËæìÂá∫rex System.out.println(myThreadLocal.get()); myThreadLocal.remove(); // ËæìÂá∫leonard System.out.println(myThreadLocal.get()); &#125;&#125;class MyThreadLocal&lt;T&gt; extends ThreadLocal&lt;T&gt; &#123; @Override protected T initialValue() &#123; return (T) "leonard"; &#125;&#125; getËøîÂõûÁ∫øÁ®ãÂ±ÄÈÉ®ÂèòÈáèÁöÑÂΩìÂâçÁ∫øÁ®ãÂâØÊú¨‰∏≠ÁöÑÂÄº„ÄÇÂ¶ÇÊûúÂΩìÂâçÁ∫øÁ®ã‰∏≠‰øùÂ≠òÁöÑÂèòÈáèÂâØÊú¨Ê≤°ÊúâÂÄºÔºåÂàôÂÖàÂ∞ÜË∞ÉÁî® initialValue() ÊñπÊ≥ïÂàùÂßãÂåñÁÑ∂ÂêéËøîÂõûÂÄº„ÄÇ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677public T get() &#123; // ÊãøÂà∞ÂΩìÂâçÁ∫øÁ®ã Thread t = Thread.currentThread(); // ÊãøÂà∞ ThreadLocalMap Ëøô‰∏™Map ThreadLocalMap map = getMap(t); if (map != null) &#123; // ÊãøÂà∞ËäÇÁÇπ ThreadLocalMap.Entry e = map.getEntry(this); if (e != null) &#123; @SuppressWarnings("unchecked") // ËøîÂõû‰øùÂ≠òÁöÑÂÄº T result = (T)e.value; return result; &#125; &#125; // ‰∏çÂ≠òÂú®ËøôÊ†∑ÁöÑmapÔºåÂàôËÆæÁΩÆÂàùÂßãÂåñÔºåÁÑ∂ÂêéËøîÂõûÂÄº return setInitialValue();&#125;// ÊãøÂà∞‰∏éThreadLocalÂÖ≥ËÅîÁöÑMapThreadLocalMap getMap(Thread t) &#123; // ‰∏éÂΩìÂâçÁ∫øÁ®ãÁªëÂÆö return t.threadLocals;&#125;// ThreadLocalÁöÑÊï∞ÊçÆÁªìÊûÑÊòØ‰∏Ä‰∏™HashMap// ËäÇÁÇπÊòØÁªßÊâø‰∫Ü WeakReference(Âº±ÂºïÁî®)// Â¶ÇÊûú‰∏Ä‰∏™ÂØπË±°ÂÖ∑ÊúâÂº±ÂºïÁî®ÔºåÂú®GCÁ∫øÁ®ãÊâ´ÊèèÂÜÖÂ≠òÂå∫ÂüüÁöÑËøáÁ®ã‰∏≠Ôºå‰∏çÁÆ°ÂΩìÂâçÂÜÖÂ≠òÁ©∫Èó¥Ë∂≥Â§ü‰∏éÂê¶ÔºåÈÉΩ‰ºöÂõûÊî∂ÂÜÖÂ≠ò// Êàë‰ª¨ÂÖ≥Ê≥®getEntryÊñπÊ≥ïprivate Entry getEntry(ThreadLocal&lt;?&gt; key) &#123; // ÊãøÂà∞Êï∞ÁªÑ‰∏ãÊ†á int i = key.threadLocalHashCode &amp; (table.length - 1); Entry e = table[i]; // HashÂÄºÊ≤°ÊúâÂÜ≤Á™Å if (e != null &amp;&amp; e.get() == key) return e; // HashÂÄºÂÜ≤Á™Å else return getEntryAfterMiss(key, i, e);&#125;private Entry getEntryAfterMiss(ThreadLocal&lt;?&gt; key, int i, Entry e) &#123; Entry[] tab = table; int len = tab.length; while (e != null) &#123; // ÊãøÂà∞ËäÇÁÇπÂØπÂ∫îÁöÑThreadLocal(key) Âº±ÂºïÁî® ThreadLocal&lt;?&gt; k = e.get(); if (k == key) return e; if (k == null) // Ê∏ÖÁêÜÊï∞ÁªÑ expungeStaleEntry(i); // Â≠òÂÇ®Âà∞‰∏ã‰∏Ä‰∏™‰∏ãÊ†áÈáåÔºàÂ§ÑÁêÜHashÂÜ≤Á™ÅÈááÁî®ÁöÑÊòØÁ∫øÊÄßÊé¢ÊµãÊ≥ïÔºâ else i = nextIndex(i, len); e = tab[i]; &#125; return null;&#125;// ËÆæÁΩÆÂàùÂßãÂåñÁöÑÂÄºÔºåÁÑ∂ÂêéËøîÂõûprivate T setInitialValue() &#123; // ÊãøÂà∞ÂàùÂßãÂÄº T value = initialValue(); // ÊãøÂà∞ÂΩìÂâçÁ∫øÁ®ã Thread t = Thread.currentThread(); // ÊãøÂà∞ÂΩìÂâçÁ∫øÁ®ãÁöÑThreadLocalMap ThreadLocalMap map = getMap(t); // MapÂ∑≤ÁªèÂ≠òÂú® if (map != null) // ËÆæÁΩÆThreadLocalÂØπÂ∫îÁöÑÂÄº map.set(this, value); // Map‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Map else createMap(t, value); // ËøîÂõûËØ•ÂÄº return value;&#125; SetÂ∞ÜÁ∫øÁ®ãÂ±ÄÈÉ®ÂèòÈáèÂú®ÂΩìÂâçÁ∫øÁ®ãÂâØÊú¨‰∏≠ÁöÑÂÄºËÆæÁΩÆ‰∏∫ÊåáÂÆöÂÄº„ÄÇÂ§ßÈÉ®ÂàÜÂ≠êÁ±ª‰∏çÈúÄË¶ÅÈáçÂÜôÊ≠§ÊñπÊ≥ïÔºåÂÆÉ‰ª¨Âè™‰æùÈù† initialValue() ÊñπÊ≥ïÊù•ËÆæÁΩÆÁ∫øÁ®ãÂ±ÄÈÉ®ÂèòÈáèÁöÑÂÄº„ÄÇ12345678910111213141516171819202122232425262728293031323334public void set(T value) &#123; // ÊãøÂà∞ÂΩìÂâçÁ∫øÁ®ã Thread t = Thread.currentThread(); // ÊãøÂà∞ÂΩìÂâçÁ∫øÁ®ãÁöÑThreadLocalMap ThreadLocalMap map = getMap(t); // Â¶ÇÊûúMap‰∏ç‰∏∫Á©∫ÔºåÂàôÁõ¥Êé•ËÆæÁΩÆÂÄº if (map != null) map.set(this, value); // Â¶ÇÊûúMap‰∏∫Á©∫ÔºåÂàôÂàõÂª∫MapÔºåÁÑ∂ÂêéËÆæÁΩÆÂÄº else createMap(t, value);&#125;void createMap(Thread t, T firstValue) &#123; t.threadLocals = new ThreadLocalMap(this, firstValue);&#125;ThreadLocalMap(ThreadLocal&lt;?&gt; firstKey, Object firstValue) &#123; // ËÆæÁΩÆÂàùÂßãÂÆπÈáèÔºåÈªòËÆ§16 table = new Entry[INITIAL_CAPACITY]; // ÊâæÂà∞‰∏ãÊ†á int i = firstKey.threadLocalHashCode &amp; (INITIAL_CAPACITY - 1); // ËÆæÁΩÆÂÄº table[i] = new Entry(firstKey, firstValue); // ËÆæÁΩÆsize size = 1; // ËÆæÁΩÆÈòàÂÄº setThreshold(INITIAL_CAPACITY);&#125;private void setThreshold(int len) &#123; // ËÆæÁΩÆÈòàÂÄº‰∏∫ 16 * 2 / 3 = 10 threshold = len * 2 / 3;&#125; Êàë‰ª¨ÂÜçÊù•ÁúãÁúãMapÁöÑsetÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172private void set(ThreadLocal&lt;?&gt; key, Object value) &#123; Entry[] tab = table; int len = tab.length; // Ê†πÊçÆ ThreadLocal ÁöÑ HashCode ÂæóÂà∞ÂØπÂ∫îÁöÑ‰∏ãÊ†á int i = key.threadLocalHashCode &amp; (len-1); // È¶ñÂÖàÈÄöËøá‰∏ãÊ†áÊâæÂØπÂ∫îÁöÑentryÂØπË±° for (Entry e = tab[i]; e != null; e = tab[i = nextIndex(i, len)]) &#123; ThreadLocal&lt;?&gt; k = e.get(); // ÊîπÂèòÂÖ∂ÂÄº if (k == key) &#123; e.value = value; return; &#125; // Â¶ÇÊûúkeyË¢´ GC ÂõûÊî∂‰∫ÜÔºåÂ∞±‰ºöÂèò‰∏∫nullÔºàÂõ†‰∏∫ÊòØËΩØÂºïÁî®ÔºâÔºåÂàôÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ entry ÂØπË±°Â°´ÂÖÖËØ•ÊßΩ if (k == null) &#123; // Ëøô‰∏™ÊñπÊ≥ïÂèØ‰ª•Â•ΩÂ•ΩÁúãÁúã replaceStaleEntry(key, value, i); return; &#125; &#125; // ÂØπË±°‰∏çÂ≠òÂú®ÔºåÂàôÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ entryÂØπË±° tab[i] = new Entry(key, value); // size + 1 int sz = ++size; // Â¶ÇÊûúÊ≤°ÊúâÊ∏ÖÈô§Â§ö‰ΩôÁöÑentry Âπ∂‰∏îÊï∞ÁªÑÈïøÂ∫¶ËææÂà∞‰∫ÜÈòÄÂÄºÔºåÂàôÊâ©ÂÆπ if (!cleanSomeSlots(i, sz) &amp;&amp; sz &gt;= threshold) // Êâ©ÂÆπ rehash();&#125;private void rehash() &#123; // Ê∏ÖÊ•öÈôàÊóßÁöÑËäÇÁÇπ expungeStaleEntries(); // Use lower threshold for doubling to avoid hysteresis // Â¶ÇÊûúsizeÂ§ß‰∫é0.75ÂÄçÈòàÂÄº„ÄÇÂéüÊù•ÊòØ2/3Ôºå ÂàôË¥üËΩΩÂõ†Â≠êÁõ∏ÂΩì‰∫é‰∏∫0.5ÔºåËøôÊòØÂú®Á¨¨‰∏ÄÊ¨°ÁöÑÊó∂ÂÄô // Âú®È¶ñÊ¨°Êâ©ÂÆπ‰πãÂêéÔºåË¥üËΩΩÂõ†Â≠êËøòÊòØ0.75 if (size &gt;= threshold - threshold / 4) resize();&#125;private void resize() &#123; Entry[] oldTab = table; int oldLen = oldTab.length; // Êâ©ÂÆπ‰∏∫ÂéüÊù•ÁöÑ‰∏§ÂÄç int newLen = oldLen * 2; Entry[] newTab = new Entry[newLen]; int count = 0; for (int j = 0; j &lt; oldLen; ++j) &#123; Entry e = oldTab[j]; if (e != null) &#123; ThreadLocal&lt;?&gt; k = e.get(); if (k == null) &#123; e.value = null; // Help the GC &#125; else &#123; int h = k.threadLocalHashCode &amp; (newLen - 1); while (newTab[h] != null) h = nextIndex(h, newLen); newTab[h] = e; count++; &#125; &#125; &#125; setThreshold(newLen); size = count; table = newTab;&#125; romoveÁßªÈô§Ê≠§Á∫øÁ®ãÂ±ÄÈÉ®ÂèòÈáèÂú®ÂΩìÂâçÁ∫øÁ®ãÁöÑÂÄº„ÄÇ12345678910111213141516171819202122232425public void remove() &#123; // ÂæóÂà∞ÂΩìÂâçÁ∫øÁ®ãÁöÑMap ThreadLocalMap m = getMap(Thread.currentThread()); if (m != null) m.remove(this);&#125;// Ë∞ÉÁî®ThreadLocalMapÁöÑremoveÊñπÊ≥ïprivate void remove(ThreadLocal&lt;?&gt; key) &#123; Entry[] tab = table; int len = tab.length; int i = key.threadLocalHashCode &amp; (len-1); // ÈÄöËøáÁ∫øÊÄßÊé¢ÊµãÊ≥ïÊâæÂà∞ key ÂØπÂ∫îÁöÑ entry for (Entry e = tab[i]; e != null; e = tab[i = nextIndex(i, len)]) &#123; if (e.get() == key) &#123; // Â∞ÜThreadLocalËÆæÁΩÆ‰∏∫null e.clear(); // Ê∏ÖÁêÜÊâÄÊúâÁöÑ key ‰∏∫ null ÁöÑ entry expungeStaleEntry(i); return; &#125; &#125;&#125; ÊÄªÁªìThreadLocalÊó†ÈôêÂ•ΩÔºå‰ΩÜÊòØ‰πü‰ºöÊúâÈóÆÈ¢òÔºåÊØîÂ¶ÇÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÈóÆÈ¢òÔºàÂèØ‰ª•Âú®ÂêéÈù¢ÁöÑÂèÇËÄÉÁêÜËß£Ëøô‰∏™ÈóÆÈ¢òÔºâÔºå‰∏∫‰∫ÜÈò≤Ê≠¢Ëøô‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨ÈúÄË¶ÅÊØèÊ¨°‰ΩøÁî®ÂÆåThreadLocalÔºåÈÉΩË∞ÉÁî®ÂÆÉÁöÑremove()ÊñπÊ≥ïÔºåÊ∏ÖÈô§Êï∞ÊçÆ„ÄÇ ÂèÇËÄÉ Âπ∂ÂèëÁºñÁ®ã‰πã ThreadLocal Ê∫êÁ†ÅÂâñÊûê Ê∑±ÂÖ•ÂàÜÊûê ThreadLocal ÂÜÖÂ≠òÊ≥ÑÊºèÈóÆÈ¢ò ‰ΩøÁî®ThreadLocal‰∏çÂΩìÂèØËÉΩ‰ºöÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÈú≤]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>JDK</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîLinkedHashMap]]></title>
    <url>%2F2018%2F09%2F06%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94LinkedHashMap%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂ¶ÇÊûúÊúâËøôÊ†∑‰∏ÄÁßçÊÉÖÂΩ¢ÔºåÊàë‰ª¨ÈúÄË¶ÅÊåâÁÖßÂÖÉÁ¥†ÊèíÂÖ•ÁöÑÈ°∫Â∫èÊù•ËÆøÈóÆÂÖÉÁ¥†ÔºåËøô‰∏™Êó∂ÂÄôLinkedHashMapÂ§ßÂ±ïË∫´Êâã‰∫ÜÔºåÂÆÉ‰øùÂ≠òÁùÄÂÖÉÁ¥†ÊèíÂÖ•ÁöÑÈ°∫Â∫èÔºåÂπ∂‰∏îÂèØ‰ª•ÊåâÁÖßÊàë‰ª¨ÊèíÂÖ•ÁöÑÈ°∫Â∫èËøõË°åËÆøÈóÆ„ÄÇ ËØ¶ÁªÜÊ≥®ÈáäÔºöÊ∫êÁ†ÅÂàÜÊûêÂú∞ÂùÄ Ê¶ÇËßàLinkedHashMap ÁªßÊâøËá™ HashMapÔºåÂú® HashMap Âü∫Á°Ä‰∏äÔºåÈÄöËøáÁª¥Êä§‰∏ÄÊù°ÂèåÂêëÈìæË°®ÔºåËß£ÂÜ≥‰∫Ü HashMap ‰∏çËÉΩÈöèÊó∂‰øùÊåÅÈÅçÂéÜÈ°∫Â∫èÂíåÊèíÂÖ•È°∫Â∫è‰∏ÄËá¥ÁöÑÈóÆÈ¢ò„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåLinkedHashMap ÂØπËÆøÈóÆÈ°∫Â∫è‰πüÊèê‰æõ‰∫ÜÁõ∏ÂÖ≥ÊîØÊåÅ„ÄÇÂú®‰∏Ä‰∫õÂú∫ÊôØ‰∏ãÔºåËØ•ÁâπÊÄßÂæàÊúâÁî®ÔºåÊØîÂ¶ÇÁºìÂ≠ò„ÄÇÂú®ÂÆûÁé∞‰∏äÔºåLinkedHashMap ÂæàÂ§öÊñπÊ≥ïÁõ¥Êé•ÁªßÊâøËá™ HashMapÔºå‰ªÖ‰∏∫Áª¥Êä§ÂèåÂêëÈìæË°®Ë¶ÜÂÜô‰∫ÜÈÉ®ÂàÜÊñπÊ≥ï„ÄÇ ÂÆÉÁöÑÁªìÊûÑÁ§∫ÊÑèÂõæÂ¶Ç‰∏ãÔºö ÊûÑÈÄ†‰∏ªË¶ÅÂ∞±ÊòØËÆæÁΩÆÂàùÂßãÂÆπÈáè„ÄÅË¥üËΩΩÂõ†Â≠êÂíåËø≠‰ª£È°∫Â∫è1234567891011121314// ÂèåÂêëÈìæË°®ÁöÑÂ§¥ÔºåÊúÄ‰πÖËÆøÈóÆÁöÑtransient LinkedHashMap.Entry&lt;K,V&gt; head;// ÂèåÂêëÈìæË°®ÁöÑÂ∞æÔºåÊúÄÊñ∞ËÆøÈóÆÁöÑtransient LinkedHashMap.Entry&lt;K,V&gt; tail;// ÈªòËÆ§‰∏∫falseÔºåËø≠‰ª£È°∫Â∫èÊòØÊåâÁÖßÊèíÂÖ•È°∫Â∫èÔºåÂΩì‰∏∫trueÊó∂ÔºåËø≠‰ª£È°∫Â∫èÊòØÊåâÁÖßËÆøÈóÆ‰ø°ÊÅØÔºåÊúÄËøëËÆøÈóÆÂú®Â∞æÈÉ®final boolean accessOrder;public LinkedHashMap(int initialCapacity, float loadFactor, boolean accessOrder) &#123; // ÂêéÈù¢ÂíåHashMap‰∏ÄÊ†∑ super(initialCapacity, loadFactor); this.accessOrder = accessOrder;&#125; Â¢ûLinkedHashMap Êú¨Ë∫´Âπ∂Ê≤°ÊúâË¶ÜÂÜôÁà∂Á±ªÁöÑ put ÊñπÊ≥ïÔºåËÄåÊòØÁõ¥Êé•‰ΩøÁî®‰∫ÜÁà∂Á±ªÁöÑÂÆûÁé∞„ÄÇ‰ΩÜÂú® HashMap ‰∏≠Ôºåput ÊñπÊ≥ïÊèíÂÖ•ÁöÑÊòØ HashMap ÂÜÖÈÉ®Á±ª Node Á±ªÂûãÁöÑËäÇÁÇπÔºåËØ•Á±ªÂûãÁöÑËäÇÁÇπÂπ∂‰∏çÂÖ∑Â§á‰∏é LinkedHashMap ÂÜÖÈÉ®Á±ª Entry ÂèäÂÖ∂Â≠êÁ±ªÂûãËäÇÁÇπÁªÑÊàêÈìæË°®ÁöÑËÉΩÂäõ„ÄÇ‰∏ãÈù¢Â∞ÜÂ±ïÁ§∫Âª∫Á´ãÈìæË°®ÁöÑÈÄªËæëÔºåÂÖ∂‰∏≠ÂíåHashMapÁõ∏ÂêåÁöÑ‰ª£Á†ÅËøôÈáåÂ∞±‰∏çÂ§öËØ¥Ôºå‰∏çÁü•ÈÅìÁöÑÂèØ‰ª•Âú®ÂÖàÈòÖËØªÂú®ÂêéÈù¢ÂèÇËÄÉÊèêÂà∞ÁöÑHashMapËß£Êûê„ÄÇ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// 1. Ë∞ÉÁî®HashMapÁöÑputÊñπÊ≥ïpublic V put(K key, V value) &#123; return putVal(hash(key), key, value, false, true);&#125;// 2. Ë∞ÉÁî®HashMapÁöÑputValÊñπÊ≥ïfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123; // ... // ÂÖ≥ÈîÆÂ∞±Âú®ËøôÈáåÔºåËøôÈáå‰ºöËß¶ÂèëÂ§öÊÄÅÔºåÂéªË∞ÉÁî®LinkedHashMapÁöÑÊñπÊ≥ï tab[i] = newNode(hash, key, value, null); // ...&#125;// 3. Â§öÊÄÅË∞ÉÁî®LinkedHashMapÁöÑnewNodeÊñπÊ≥ïNode&lt;K,V&gt; newNode(int hash, K key, V value, Node&lt;K,V&gt; e) &#123; // ÁîüÊàêLinkedHashMapÈúÄË¶ÅÁöÑËäÇÁÇπ LinkedHashMap.Entry&lt;K,V&gt; p = new LinkedHashMap.Entry&lt;K,V&gt;(hash, key, value, e); // Â∞Ü Entry Êé•Âú®ÂèåÂêëÈìæË°®ÁöÑÂ∞æÈÉ® linkNodeLast(p); return p;&#125;// Êàë‰ª¨ÂèØ‰ª•Áúã‰∏Ä‰∏ãËøôÁßçËäÇÁÇπÁöÑÊï∞ÊçÆÁªìÊûÑstatic class Entry&lt;K,V&gt; extends HashMap.Node&lt;K,V&gt; &#123; // Êã•ÊúâÂâçÂêéÊåáÈíà Entry&lt;K,V&gt; before, after; Entry(int hash, K key, V value, Node&lt;K,V&gt; next) &#123; super(hash, key, value, next); &#125;&#125;// 4. Â∞ÜÊñ∞Âª∫ÁöÑËäÇÁÇπÊé•Âú®ÂèåÂêëÈìæË°®ÁöÑÂ∞æÈÉ®private void linkNodeLast(LinkedHashMap.Entry&lt;K,V&gt; p) &#123; // ÊãøÂà∞‰∏∫ËäÇÁÇπ LinkedHashMap.Entry&lt;K,V&gt; last = tail; tail = p; // Â¶ÇÊûúÂ∞æËäÇÁÇπ‰∏çÂ≠òÂú®ÔºåÂàô‰ª£Ë°®‰∫ÜÈìæË°®Êú™ÁîüÊàê if (last == null) head = p; // ËÆæÁΩÆÊåáÈíà else &#123; p.before = last; last.after = p; &#125;&#125;// 5. ÂêéÈù¢ÁöÑÂÜÖÂÆπÂ∞±ÂíåHashMap‰∏ÄÊØõ‰∏ÄÊ†∑‰∫Ü Âà†‰∏éÊèíÂÖ•Êìç‰Ωú‰∏ÄÊ†∑ÔºåLinkedHashMap Âà†Èô§Êìç‰ΩúÁõ∏ÂÖ≥ÁöÑ‰ª£Á†Å‰πüÊòØÁõ¥Êé•Áî®Áà∂Á±ªÁöÑÂÆûÁé∞„ÄÇÂú®Âà†Èô§ËäÇÁÇπÊó∂ÔºåÁà∂Á±ªÁöÑÂà†Èô§ÈÄªËæëÂπ∂‰∏ç‰ºö‰øÆÂ§ç LinkedHashMap ÊâÄÁª¥Êä§ÁöÑÂèåÂêëÈìæË°®„ÄÇÁª¥Êä§Êìç‰ΩúÈÉΩÂú®Âà†Èô§ÂèäËäÇÁÇπÂêéÁöÑÂõûË∞ÉÊñπÊ≥ï afterNodeRemoval ‰∏≠„ÄÇLinkedHashMap Ë¶ÜÂÜôËØ•ÊñπÊ≥ïÔºåÂπ∂Âú®ËØ•ÊñπÊ≥ï‰∏≠ÂÆåÊàê‰∫ÜÁßªÈô§Ë¢´Âà†Èô§ËäÇÁÇπÁöÑÊìç‰Ωú„ÄÇÂàÜÊûêÊñπÊ≥ïÂêå‰∏ä„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445// 1. Ë∞ÉÁî®HashMapÁöÑremoveÊñπÊ≥ïpublic boolean remove(Object key, Object value) &#123; return removeNode(hash(key), key, value, true, true) != null;&#125;// 2. Ë∞ÉÁî®HashMapÁöÑremoveNodeÊñπÊ≥ïfinal Node&lt;K,V&gt; removeNode(int hash, Object key, Object value, boolean matchValue, boolean movable) &#123; // ... // ÂØπÂ∫îÂêÑÁßçÁ±ªÂûãÁöÑËäÇÁÇπÂà†Èô§„ÄÇËøô‰∫õÈÉΩ‰∏ç‰ºöÊîπÂèòÈìæË°®ÁöÑÁªìÊûÑ if (node != null &amp;&amp; (!matchValue || (v = node.value) == value || (value != null &amp;&amp; value.equals(v)))) &#123; if (node instanceof TreeNode) ((TreeNode&lt;K,V&gt;)node).removeTreeNode(this, tab, movable); else if (node == p) tab[index] = node.next; else p.next = node.next; ++modCount; --size; // ÂÖ≥ÈîÆÁöÑÊù•‰∫ÜÔºåËøô‰∏™Êìç‰ΩúÂú®HashMapÊòØÊ≤°ÊúâÂÆûÁé∞ÁöÑÔºå‰ΩÜÊòØÂú®LinkedHashMap‰∏≠ÂÆûÁé∞‰∫Ü afterNodeRemoval(node); return node; // ...&#125;// 3. Ë∞ÉÁî®LinkedHashMapÊñπÊ≥ïÁöÑafterNodeRemovalÊìç‰ΩúÊù•Ë∞ÉÊï¥ÈìæË°®ÁªìÊûÑvoid afterNodeRemoval(Node&lt;K,V&gt; e) &#123; // unlink // ÊãøÂà∞Âà†Èô§ËäÇÁÇπ‰ª•ÂèäÂÆÉÁöÑÂâçÈ©±ËäÇÁÇπÂíåÂêéÁªßËäÇÁÇπ LinkedHashMap.Entry&lt;K,V&gt; p = (LinkedHashMap.Entry&lt;K,V&gt;)e, b = p.before, a = p.after; // Â∞ÜËøô‰∏§‰∏™ÊåáÈíàÁΩÆÁ©∫ p.before = p.after = null; // Â¶ÇÊûúÂâçÈ©±ËäÇÁÇπ‰∏∫Á©∫ÔºåÂàô‰∏∫Â§¥ËäÇÁÇπ if (b == null) head = a; else // ËøûÊé•ÂâçÂêé‰∏§‰∏™ÁïåÂÆöÂïä b.after = a; // Â¶ÇÊûúÂâçÈ©±ËäÇÁÇπ‰∏∫Á©∫ÔºåÂàô‰∏∫Â∞æËäÇÁÇπ if (a == null) tail = b; else a.before = b;&#125; Êîπ‰∏éÊèíÂÖ•Êìç‰Ωú‰∏ÄÊ†∑ÔºåLinkedHashMap ÊîπÊìç‰ΩúÁõ∏ÂÖ≥ÁöÑ‰ª£Á†Å‰πüÊòØÁõ¥Êé•Áî®Áà∂Á±ªÁöÑÂÆûÁé∞„ÄÇÂàÜÊûêÊñπÊ≥ïÂêå‰∏ä„ÄÇ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// 1. Ë∞ÉÁî®HashMapÁöÑreplaceÊñπÊ≥ïpublic V replace(K key, V value) &#123; Node&lt;K,V&gt; e; // ÂâçÈù¢ÁöÑÊìç‰ΩúÈÉΩÂíåHashMap‰∏ÄËá¥ if ((e = getNode(hash(key), key)) != null) &#123; V oldValue = e.value; e.value = value; // ÈáçÁÇπÂú®‰øÆÊîπ‰πãÂêé‰ºöÊâßË°åËøôÊ†∑‰∏Ä‰∏™ÂõûË∞ÉÊìç‰Ωú afterNodeAccess(e); return oldValue; &#125; return null;&#125;// 2. Ë∞ÉÁî®LinkedHashMapÁöÑafterNodeAccessËÆøÈóÆÂõûË∞ÉÊñπÊ≥ïÊù•Ë∞ÉÊï¥ÈìæË°®‰ΩçÁΩÆ// Â∞ÜÊúÄËøëËÆøÈóÆÁöÑËäÇÁÇπÔºåÊîæÂú®ÈìæË°®ÊúÄÂêévoid afterNodeAccess(Node&lt;K,V&gt; e) &#123; // move node to last LinkedHashMap.Entry&lt;K,V&gt; last; // ÂΩìaccessOrder‰∏∫ture ‰∏î ËÆøÈóÆÁöÑ‰∏çÊòØÂ∞æÈÉ®ËäÇÁÇπÊó∂ÊâçËøõË°å‰∏ãÈù¢ÁöÑ‰∏ÄÈ°øÊìç‰Ωú if (accessOrder &amp;&amp; (last = tail) != e) &#123; // ÊãøÂà∞ËÆøÈóÆËäÇÁÇπ‰ª•ÂèäÂÆÉÁöÑÂâçÈ©±ËäÇÁÇπÂíåÂêéÁªßËäÇÁÇπ LinkedHashMap.Entry&lt;K,V&gt; p = (LinkedHashMap.Entry&lt;K,V&gt;)e, b = p.before, a = p.after; // ÂêéÁªßËäÇÁÇπÁΩÆÁ©∫ p.after = null; // ÂâçÈ©±ËäÇÁÇπ‰∏∫Â§¥ËäÇÁÇπ if (b == null) head = a; else b.after = a; // ËøôÈáåÁöÑif/elseÊÑüËßâ‰πüÈÉΩÊ≤°Áî®ÔºåÂõ†‰∏∫ÈÉΩÁ°ÆÂÆö‰∏çÊòØÂ∞æËäÇÁÇπ‰∫Ü if (a != null) a.before = b; else last = b; // Ë°®Á§∫‰∏ç‰ºö‰ºöÁ©∫ÔºåÂõ†‰∏∫ÈÉΩËÆøÈóÆÂà∞ÂÖÉÁ¥†‰∫Ü if (last == null) head = p; else &#123; p.before = last; last.after = p; &#125; // Â∞ÜËÆøÈóÆËäÇÁÇπÊîæÂà∞Â∞æÈÉ® tail = p; ++modCount; &#125;&#125; Êü•Êü•Êìç‰ΩúË¶ÜÁõñ‰∫ÜHashMapÁöÑÊñπÊ≥ïÔºå‰ΩÜÊòØ‰πüÂè™ÊòØÊ∑ªÂä†afterNodeAccessÊìç‰ΩúÂà§Êñ≠„ÄÇ123456789public V get(Object key) &#123; Node&lt;K,V&gt; e; if ((e = getNode(hash(key), key)) == null) return null; // ÂîØ‰∏Ä‰∏çÂêåÁöÑÂú∞ÊñπÔºåÂΩìaccessOrder‰∏∫trueÊó∂ÔºåÂàôË∞ÉÊï¥ÈìæË°®ÔºåÂíåÂú®ÊîπÊìç‰ΩúÁöÑÂàÜÊûê‰∏ÄÊ†∑ if (accessOrder) afterNodeAccess(e); return e.value;&#125; ÂÆûÁé∞ LRU ÁºìÂ≠òLRU ÁºìÂ≠òÔºöLRUÔºàLeast Recently UsedÔºåÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÔºâÁÆóÊ≥ïÊ†πÊçÆÊï∞ÊçÆÁöÑÂéÜÂè≤ËÆøÈóÆËÆ∞ÂΩïÊù•ËøõË°åÊ∑òÊ±∞Êï∞ÊçÆÔºåÂÖ∂Ê†∏ÂøÉÊÄùÊÉ≥ÊòØ‚ÄúÂ¶ÇÊûúÊï∞ÊçÆÊúÄËøëË¢´ËÆøÈóÆËøáÔºåÈÇ£‰πàÂ∞ÜÊù•Ë¢´ËÆøÈóÆÁöÑÂá†Áéá‰πüÊõ¥È´ò‚Äù„ÄÇ Â§ßÂÆ∂ÁúãÂà∞‰∏äÈù¢ÁöÑÂÆö‰πâÂ∞±ËÉΩÊÉ≥Âà∞Â∞±ÊòØÂú®‰∏ÄÂÆöÊù°‰ª∂‰∏ãÂà†Èô§HeadËäÇÁÇπÂòõÔºåÂõ†‰∏∫ÊúÄËøëËÆøÈóÆËøáÁöÑÈÉΩ‰ºöË¢´ÊîæÂú®ÈìæË°®Â∞æÈÉ®ÔºåÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑ‰∏ÄÂÆöÊòØÊäïËäÇÁÇπ„ÄÇÈÇ£‰πàLinkedHashMapÂú®Âì™Èáå‰∏∫Êàë‰ª¨Áïô‰∏ã‰∫ÜÂÆûÁé∞ÁöÑÊé•Âè£ÔºåÊàë‰ª¨ÁúãÁúã‰∏ãÈù¢ÁöÑÊ∫êÁ†ÅÔºö1234567891011121314151617181920212223// ÂèØÁî®‰∫éÂÆûÁé∞LRUÁºìÂ≠òÔºåevictÂ∞±Ë°®Á§∫Âà†Èô§ÁöÑÊÑèÊÄùvoid afterNodeInsertion(boolean evict) &#123; // possibly remove eldest LinkedHashMap.Entry&lt;K,V&gt; first; // Ê†πÊçÆÊù°‰ª∂Âà§Êñ≠ÊòØÂê¶ÁßªÈô§ÊúÄËøëÊúÄÂ∞ëË¢´ËÆøÈóÆÁöÑËäÇÁÇπÔºå‰∏ªË¶ÅÂ∞±ÊòØremoveEldestEntryÊñπÊ≥ï if (evict &amp;&amp; (first = head) != null &amp;&amp; removeEldestEntry(first)) &#123; K key = first.key; // Âà†Èô§ËäÇÁÇπ removeNode(hash(key), key, null, false, true); &#125;&#125;// ÈªòËÆ§Ëøî‰ºöfalseÔºåÂ∞±ÊòØ‰∏çÂà†Èô§protected boolean removeEldestEntry(Map.Entry&lt;K,V&gt; eldest) &#123; return false;&#125;// ÂΩìÁÑ∂Âú®Ê∫êÁ†ÅÊ≥®Èáä‰∏≠‰πü‰∏∫Êàë‰ª¨ÈáçÂÜôÊèê‰æõ‰∫Ü‰æãÂ≠êprivate static final int MAX_ENTRIES = 100;protected boolean removeEldestEntry(Map.Entry eldest) &#123; // ÂΩìÂ§ß‰∫éÊüê‰∏™ÈòàÂÄºÔºåÂ∞±ÁßªÈô§ÊúÄËÄÅÁöÑ return size() &gt; MAX_ENTRIES;&#125; ÂèÇËÄÉ LinkedHashMap Ê∫êÁ†ÅËØ¶ÁªÜÂàÜÊûêÔºàJDK1.8Ôºâ JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîHashMap Java ‰∏≠ÊúÄÂ§ßÁöÑÊï∞ÊçÆÁªìÊûÑÔºöLinkedHashMap ‰∫ÜËß£‰∏Ä‰∏ãÔºü]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>LinkedHashMap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîTreeMap]]></title>
    <url>%2F2018%2F09%2F06%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94TreeMap%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰Ω†ÊÉ≥Âà©Áî®ÁöÑMapÈ´òÊïàÁöÑÊü•ÊâæÊïàÁéáÔºåÂèàÊÉ≥Êã•Êúâ‰∏Ä‰∏™ÊúâÂ∫èÁöÑMapÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÁî®Âà∞TreeMap‰∫Ü! ËØ¶ÁªÜÊ≥®ÈáäÔºöÊ∫êÁ†ÅÂàÜÊûêÂú∞ÂùÄ Ê¶ÇËßàTreeMapÈõÜÂêàÊòØÂü∫‰∫éÁ∫¢ÈªëÊ†ëÔºàRed-Black treeÔºâÁöÑ NavigableMapÂÆûÁé∞„ÄÇËØ•MapÊ†πÊçÆÂÖ∂ÈîÆÁöÑËá™ÁÑ∂È°∫Â∫èËøõË°åÊéíÂ∫èÔºåÊàñËÄÖÊ†πÊçÆÂàõÂª∫MapÊó∂Êèê‰æõÁöÑ Comparator ËøõË°åÊéíÂ∫èÔºåÂÖ∑‰ΩìÂèñÂÜ≥‰∫é‰ΩøÁî®ÁöÑÊûÑÈÄ†ÊñπÊ≥ï„ÄÇ‰Ω†ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄË¶ÅÈÄâÊã©ÊéíÂ∫èÁöÑÊñπÂºè„ÄÇ ÂÖ≥‰∫é‰∏çÂêåÊ≠•ÈÉΩÂíå‰πãÂâçËß£ÊûêÁöÑÈùûÂêåÊ≠•ÂÆπÂô®Á±ª‰ºº„ÄÇ ÊûÑÈÄ†Âú®Ê¶ÇËßà‰∏≠ËØ¥Âà∞Êàë‰ª¨ÂèØ‰ª•Âú®ÂÆÉÊûÑÈÄ†Êó∂‰º†ÈÄíComparatorÊù•ÂÜ≥ÂÆöÊéíÂ∫èÁöÑÊñπÊ≥ïÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±ÁúãÁúãËøô‰∏™ÊûÑÈÄ†ÊñπÊ≥ï„ÄÇ12345678910// ÊØîËæÉÂô®private final Comparator&lt;? super K&gt; comparator;// Ê†πËäÇÁÇπprivate transient Entry&lt;K,V&gt; root;// ÈõÜÂêàÂ§ßÂ∞èprivate transient int size = 0;public TreeMap(Comparator&lt;? super K&gt; comparator) &#123; this.comparator = comparator;&#125; Â¢ûÊàë‰ª¨ÁúãÂá∫Âú®ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠Âè™ÊòØËÆæÁΩÆ‰∫ÜÂ±ûÊÄßÔºåÂπ∂Ê≤°ÊúâÁúüÊ≠£ÊûÑÂª∫Á∫¢ÈªëÊ†ëÔºåÈÇ£‰πàÂÆÉ‰∏ÄÂÆöÂú®Á¨¨‰∏ÄÊ¨°putÊìç‰ΩúÈáå„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566public V put(K key, V value) &#123; // Ëé∑ÂèñÊ†πËäÇÁÇπ Entry&lt;K,V&gt; t = root; // Â¶ÇÊûúÊ†πËäÇÁÇπ‰∏∫Á©∫ÔºåÂàôËØ•ÂÖÉÁ¥†ÁΩÆ‰∏∫Ê†πËäÇÁÇπ if (t == null) &#123; compare(key, key); // type (and possibly null) check // Êñ∞Âª∫ËäÇÁÇπ root = new Entry&lt;&gt;(key, value, null); // ÊîπÂèòÈõÜÂêàÂ§ßÂ∞èÂíå‰øÆÊîπÊ¨°Êï∞ size = 1; modCount++; return null; &#125; int cmp; Entry&lt;K,V&gt; parent; // split comparator and comparable paths // Ëé∑ÂæókeyÊØîËæÉÂô® Comparator&lt;? super K&gt; cpr = comparator; // Â¶ÇÊûúÊØîËæÉÂô®ÂØπË±°‰∏ç‰∏∫Á©∫Ôºå‰πüÂ∞±ÊòØËá™ÂÆö‰πâ‰∫ÜÊØîËæÉÂô® if (cpr != null) &#123; do &#123; // Âæ™ÁéØÊØîËæÉÂπ∂Á°ÆÂÆöÂÖÉÁ¥†Â∫îÊèíÂÖ•ÁöÑ‰ΩçÁΩÆ(‰πüÂ∞±ÊòØÊâæÂà∞ËØ•ÂÖÉÁ¥†ÁöÑÁà∂ËäÇÁÇπ) parent = t; cmp = cpr.compare(key, t.key); // ÂæÖÊèíÂÖ•ÂÖÉÁ¥†ÁöÑkeyÂ∞è‰∫éÂΩìÂâç‰ΩçÁΩÆÂÖÉÁ¥†ÁöÑkeyÔºåÂàôÊü•ËØ¢Â∑¶Â≠êÊ†ë if (cmp &lt; 0) t = t.left; // ÂæÖÊèíÂÖ•ÂÖÉÁ¥†ÁöÑkeyÂ§ß‰∫éÂΩìÂâç‰ΩçÁΩÆÂÖÉÁ¥†ÁöÑkeyÔºåÂàôÊü•ËØ¢Âè≥Â≠êÊ†ë else if (cmp &gt; 0) t = t.right; // Áõ∏Á≠âÂàôÊõøÊç¢ÂÖ∂value else return t.setValue(value); &#125; while (t != null); &#125; // Â¶ÇÊûúÊØîËæÉÂô®ÂØπË±°‰∏∫Á©∫Ôºå‰ΩøÁî®ÈªòËÆ§ÁöÑÊØîËæÉÊú∫Âà∂ else &#123; // ÈªòËÆ§Êú∫Âà∂‰∏ã‰∏çÂÖÅËÆ∏ËÆæÁΩÆ null key if (key == null) throw new NullPointerException(); @SuppressWarnings("unchecked") Comparable&lt;? super K&gt; k = (Comparable&lt;? super K&gt;) key; // Âíå‰∏äÈù¢ÁöÑÂæ™ÁéØÂÅöÂêåÊ†∑ÁöÑ‰∫ã do &#123; parent = t; cmp = k.compareTo(t.key); if (cmp &lt; 0) t = t.left; else if (cmp &gt; 0) t = t.right; else return t.setValue(value); &#125; while (t != null); &#125; // Ê†πÊçÆkeyÊâæÂà∞Áà∂ËäÇÁÇπÂêéÊñ∞Âª∫‰∏Ä‰∏™ËäÇÁÇπ Entry&lt;K,V&gt; e = new Entry&lt;&gt;(key, value, parent); if (cmp &lt; 0) parent.left = e; else parent.right = e; // Ë∞ÉÊï¥Á∫¢ÈªëÊ†ë fixAfterInsertion(e); size++; modCount++; return null;&#125; Â§ßÊ¶ÇÁöÑÊµÅÁ®ãÂ¶Ç‰∏ãÔºö Âà§Êñ≠Ê†πËäÇÁÇπÊòØÂê¶‰∏∫Á©∫Ôºå‰∏∫Á©∫ÔºåÂàôËØ•ËäÇÁÇπÂ∞±ÊòØÊ†πËäÇÁÇπ Ê†πÊçÆÊØîËæÉÂô®(ÂèØËÉΩÊòØÂ§ñÈÉ®‰º†ËøõÊù•ÁöÑÔºå‰πüÂèØËÉΩÊòØÈªòËÆ§ÁöÑ)ÔºåÊâæÂà∞Áà∂ËäÇÁÇπ„ÄÇ ÊèíÂÖ•ËäÇÁÇπ‰πãÂêéÔºåÂ∞±ÈúÄË¶ÅÁî®Á∫¢ÈªëÊ†ëÁöÑ‰øÆÊ≠£‰∫Ü„ÄÇ Âà†12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public V remove(Object key) &#123; // Âà©Áî®ÊØîËæÉÂô®‰∫åÂàÜÊü•Êâæ Entry&lt;K,V&gt; p = getEntry(key); if (p == null) return null; V oldValue = p.value; // Á∫¢ÈªëÊ†ëÂà†Èô§ deleteEntry(p); return oldValue;&#125;final Entry&lt;K,V&gt; getEntry(Object key) &#123; // Offload comparator-based version for sake of performance if (comparator != null) return getEntryUsingComparator(key); if (key == null) throw new NullPointerException(); @SuppressWarnings("unchecked") Comparable&lt;? super K&gt; k = (Comparable&lt;? super K&gt;) key; Entry&lt;K,V&gt; p = root; // ÊôÆÈÄöÁöÑ‰∫åÂàÜÊü•Êâæ while (p != null) &#123; int cmp = k.compareTo(p.key); if (cmp &lt; 0) p = p.left; else if (cmp &gt; 0) p = p.right; else return p; &#125; return null;&#125;final Entry&lt;K,V&gt; getEntryUsingComparator(Object key) &#123; @SuppressWarnings("unchecked") K k = (K) key; Comparator&lt;? super K&gt; cpr = comparator; // ÊôÆÈÄöÁöÑ‰∫åÂàÜÊü•Êâæ if (cpr != null) &#123; Entry&lt;K,V&gt; p = root; while (p != null) &#123; int cmp = cpr.compare(k, p.key); if (cmp &lt; 0) p = p.left; else if (cmp &gt; 0) p = p.right; else return p; &#125; &#125; return null;&#125; ÊîπÊâæÂà∞ËØ•keyÂØπÂ∫îÁöÑËäÇÁÇπÔºåÁÑ∂ÂêéÊõøÊç¢ËØ•ÂÄº1234567891011public V replace(K key, V value) &#123; // ÊâæÂà∞ËäÇÁÇπ Entry&lt;K,V&gt; p = getEntry(key); // ÊõøÊç¢ÂÄº if (p!=null) &#123; V oldValue = p.value; p.value = value; return oldValue; &#125; return null;&#125; Êü•‰∏ÄÊâπ‰ª•getFirstEntry()ÔºågetLastEntry()‰∏∫Âü∫Á°ÄÁöÑËé∑ÂèñÂ§¥ÂíåÂ∞æÂÖÉÁ¥†ÁöÑÊñπÊ≥ïÔºåÂÖ∂‰∏≠ÂåÖÊã¨ÔºöfirstKey()ÔºålastKey()ÔºõfirstEntry()ÔºålastEntry()ÔºõpollFirstEntry()ÔºåpollLastEntry()12345678910111213141516171819// ËøîÂõûÁ¨¨‰∏Ä‰∏™ËäÇÁÇπ(ÂÄºÊúÄÂ∞èÁöÑËäÇÁÇπ)final Entry&lt;K,V&gt; getFirstEntry() &#123; Entry&lt;K,V&gt; p = root; if (p != null) // ‰∏ÄÁõ¥ÈÅçÂéÜÂ∑¶Â≠êÊ†ë while (p.left != null) p = p.left; return p;&#125;// ËøîÂõûÊúÄÂêé‰∏Ä‰∏™ËäÇÁÇπ(ÂÄºÊúÄÂ§ßÁöÑËäÇÁÇπ)final Entry&lt;K,V&gt; getLastEntry() &#123; Entry&lt;K,V&gt; p = root; if (p != null) // ‰∏ÄÁõ¥ÈÅçÂéÜÂè≥Â≠êÊ†ë while (p.right != null) p = p.right; return p;&#125;]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>HashMap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîHashSet]]></title>
    <url>%2F2018%2F09%2F06%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94HashSet%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂ¶ÇÊûúÁî®Êù•Êúâ‰∏™ÂéªÈáçÁöÑÈúÄÊ±ÇÔºå‰Ω†ËÇØÂÆö‰ºöÊÉ≥Âà∞Áî®HashSetÔºåÈÇ£Êàë‰ª¨ÁúãÁúãÂÆÉÁöÑÂÆûÁé∞ÔºÅ ËØ¶ÁªÜÊ≥®ÈáäÔºöÊ∫êÁ†ÅÂàÜÊûêÂú∞ÂùÄ Ê¶ÇËßàÂÆÉÊòØÁî±ÂìàÂ∏åË°®ÔºàÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™HashMapÂÆû‰æãÔºâÊîØÊåÅÔºåÊòØ‰∏çÊòØÊúâÁÇπÊÑèÊÄùÔºüÂÆÉ‰∏ç‰øùËØÅsetÁöÑËø≠‰ª£È°∫Â∫èÔºåÊúâ‰∏îÂè™ÂÖÅËÆ∏‰∏Ä‰∏™nullÂÖÉÁ¥†ÔºåÂΩìÁÑ∂ÂÖ∂‰ªñÂÖÉÁ¥†‰∏çËÉΩÈáçÂ§ç„ÄÇ ÂÆÉ‰∏çÊòØÂêåÊ≠•ÂÆπÂô®„ÄÇÂ¶ÇÊûúÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËÆøÈóÆ‰∏Ä‰∏™ÂìàÂ∏åsetÔºåËÄåÂÖ∂‰∏≠Ëá≥Â∞ë‰∏Ä‰∏™Á∫øÁ®ã‰øÆÊîπ‰∫ÜËØ• setÔºåÈÇ£‰πàÂÆÉÂøÖÈ°ª‰øùÊåÅÂ§ñÈÉ®ÂêåÊ≠•„ÄÇËøôÈÄöÂ∏∏ÊòØÈÄöËøáÂØπËá™ÁÑ∂Â∞ÅË£ÖËØ•setÁöÑÂØπË±°ÊâßË°åÂêåÊ≠•Êìç‰ΩúÊù•ÂÆåÊàêÁöÑ„ÄÇÂ¶ÇÊûú‰∏çÂ≠òÂú®ËøôÊ†∑ÁöÑÂØπË±°ÔºåÂàôÂ∫îËØ•‰ΩøÁî® Collections.synchronizedSet ÊñπÊ≥ïÊù•‚ÄúÂåÖË£Ö‚Äù set„ÄÇÊúÄÂ•ΩÂú®ÂàõÂª∫Êó∂ÂÆåÊàêËøô‰∏ÄÊìç‰ΩúÔºå‰ª•Èò≤Ê≠¢ÂØπËØ•setËøõË°åÊÑèÂ§ñÁöÑ‰∏çÂêåÊ≠•ËÆøÈóÆ„ÄÇ ÊâÄÊúâËøô‰∏™Á±ªÁöÑÊñπÊ≥ïËøîÂõûÁöÑËø≠‰ª£Âô®ÈÉΩÊòØÂø´ÈÄüÂ§±Ë¥•ÁöÑ ÔºöÂ¶ÇÊûúÊò†Â∞ÑÂú®Ëø≠‰ª£Âô®ÂàõÂª∫‰πãÂêéÁöÑ‰ªª‰ΩïÊó∂Èó¥Ë¢´ÁªìÊûÑÂú∞‰øÆÊîπÔºåÈô§‰∫ÜÈÄöËøáËø≠‰ª£Âô®Ëá™Â∑±ÁöÑremoveÊñπÊ≥ï‰πãÂ§ñÔºåËø≠‰ª£Âô®Â∞ÜÊäõÂá∫‰∏Ä‰∏™ConcurrentModificationException„ÄÇÔºàËÄÅÁîüÈïøË∞àÔºâ ÊûÑÈÄ†ÂÖ≥‰∫éHashSetÁöÑÊìç‰Ωú(‰∏ãÈù¢ÈÉΩÊòØ)ÔºåÂü∫Êú¨‰∏äÈÉΩÊòØÁõ¥Êé•Ë∞ÉÁî®Â∫ïÂ±ÇHashMapÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ïÊù•ÂÆåÊàê„ÄÇÊâÄ‰ª•Âú®ÂêéÈù¢ÂèÇËÄÉÊâæÂà∞Ëá™Â∑±ÂÖ≥‰∫éHashMapÁöÑÊñáÁ´†„ÄÇ123456789// ÁúüÁöÑÊìç‰ΩúÁöÑÊâßË°åËÄÖprivate transient HashMap&lt;E,Object&gt; map;// ÂÆö‰πâ‰∏Ä‰∏™"ËôöÊãü"ÁöÑObjectÂØπË±°‰Ωú‰∏∫HashMapÁöÑvalueprivate static final Object PRESENT = new Object();// ÊûÑÈÄ†HashMappublic HashSet(int initialCapacity) &#123; map = new HashMap&lt;&gt;(initialCapacity);&#125; Â¢ûÂú®HashMapÊñ∞Â¢û‰∏Ä‰∏™ÈîÆÂÄºÂØπ123public boolean add(E e) &#123; return map.put(e, PRESENT)==null;&#125; Âà†Âú®HashMapÂà†Èô§‰∏Ä‰∏™ÈîÆÂÄºÂØπ123public boolean remove(Object o) &#123; return map.remove(o)==PRESENT;&#125; Êü•Âú®HashMapÊü•ÊâækeyÊòØÂê¶Â≠òÂú®123public boolean contains(Object o) &#123; return map.containsKey(o);&#125; ÊÄªÁªìÊ∞¥Êñá‰∏ÄÁØáÔºåÂè™Ë¶ÅËÆ∞‰Ωè‰∏ÄÁÇπÔºåÂ∞±ÊòØÂè™Ë¶ÅÁêÜËß£‰∫ÜHashMapÔºåHashSet is so easyÔºÅÔºÅ ÂèÇËÄÉ JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîHashMap]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>HashSet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîConcurrentHashMap]]></title>
    <url>%2F2018%2F09%2F04%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94ConcurrentHashMap%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöHashMapÊòØÊàë‰ª¨Âπ≥Êó∂ÂºÄÂèëËøáÁ®ã‰∏≠Áî®ÁöÑÊØîËæÉÂ§öÁöÑÈõÜÂêàÔºå‰ΩÜÂÆÉÊòØÈùûÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇËß£ÂÜ≥ÊñπÊ°àÊúâHashtableÂíåCollections.synchronizedMap(hashMap)Ôºå‰∏çËøáËøô‰∏§‰∏™ÊñπÊ°àÂü∫Êú¨‰∏äÊòØÂØπËØªÂÜôËøõË°åÂä†ÈîÅÊìç‰ΩúÔºåÊÄßËÉΩÂèØÊÉ≥ËÄåÁü•„ÄÇÊâÄ‰ª•ÊÑüË∞¢Doug LeaÁªôÊàë‰ª¨Â∏¶Êù•‰∫ÜÂπ∂ÂèëÂÆâÂÖ®ÁöÑConcurrentHashMap„ÄÇ ËØ¶ÁªÜÊ≥®ÈáäÔºöÊ∫êÁ†ÅÂàÜÊûêÂú∞ÂùÄ Ê¶ÇËßàConcurrentHashMap ÊòØ‰∏Ä‰∏™Âπ∂ÂèëÊï£ÂàóÊò†Â∞ÑË°®ÁöÑÂÆûÁé∞ÔºåÂÆÉÂÖÅËÆ∏ÂÆåÂÖ®Âπ∂ÂèëÁöÑËØªÂèñÔºåÂπ∂‰∏îÊîØÊåÅÁªôÂÆöÊï∞ÈáèÁöÑÂπ∂ÂèëÊõ¥Êñ∞„ÄÇÂÆÉÈááÁî®CASÊìç‰ΩúÂíåÂÜÖÁΩÆÈîÅsynchronizedÊù•ÂÆûÁé∞ÂêåÊ≠• ÊûÑÈÄ†‰∏ªË¶ÅÂ∞±ÊòØËÆæÁΩÆÂàùÂßãÂÆπÈáèÂíåË¥üËΩΩÂõ†Â≠ê„ÄÇÔºàÂæàÂ§öÂú®HashMap‰∏≠‰ªãÁªçËøáÁöÑÂèòÈáèÂíåÂ∏∏ÈáèÔºåËøôÈáåÂ∞±‰∏çÂÜçÊ¨°‰ªãÁªç‰∫ÜÔºâ12345678910111213141516171819202122// ÈªòËÆ§‰∏∫nullÔºåÂàùÂßãÂåñÂèëÁîüÂú®Á¨¨‰∏ÄÊ¨°ÊèíÂÖ•Êìç‰ΩúÔºåÈªòËÆ§Â§ßÂ∞è‰∏∫16ÁöÑÊï∞ÁªÑÔºåÁî®Êù•Â≠òÂÇ®NodeËäÇÁÇπÊï∞ÊçÆÔºåÊâ©ÂÆπÊó∂Â§ßÂ∞èÊÄªÊòØ2ÁöÑÂπÇÊ¨°Êñπtransient volatile Node&lt;K,V&gt;[] table;// ÈªòËÆ§‰∏∫nullÔºåÊâ©ÂÆπÊó∂Êñ∞ÁîüÊàêÁöÑÊï∞ÁªÑÔºåÂÖ∂Â§ßÂ∞è‰∏∫ÂéüÊï∞ÁªÑÁöÑ‰∏§ÂÄçprivate transient volatile Node&lt;K,V&gt;[] nextTable;// ÈªòËÆ§‰∏∫0ÔºåÁî®Êù•ÊéßÂà∂tableÁöÑÂàùÂßãÂåñÂíåÊâ©ÂÆπÊìç‰Ωú// -1ÔºöË°®Á§∫tableÊ≠£Âú®ÂàùÂßãÂåñ// -NÔºöË°®Á§∫ÊúâN-1‰∏™Á∫øÁ®ãÊ≠£Âú®ËøõË°åÊâ©ÂÆπÊìç‰Ωú// ÈùûË¥üÊÉÖÂÜµ// Â¶ÇÊûútableÊú™ÂàùÂßãÂåñÔºåË°®Á§∫tableÈúÄË¶ÅÂàùÂßãÂåñÁöÑÂ§ßÂ∞è// Â¶ÇÊûútableÂàùÂßãÂåñÂÆåÊàêÔºåË°®Á§∫tableÁöÑÈòàÂÄºÔºåÈªòËÆ§ÊòØtableÂ§ßÂ∞èÁöÑ0.75ÂÄçprivate transient volatile int sizeCtl;// Ê†πÊçÆinitialCapacityÂàùÂßãÂåñ// initialCapacity + (initialCapacity &gt;&gt;&gt; 1) + 1)Ê≤°ÁúãÊáÇÔºåÁü•ÈÅìÁöÑËØ∑call meÔºàÈöæÈÅìÂíå0.75ÊúâÂÖ≥Á≥ªÔºüÔºâpublic ConcurrentHashMap(int initialCapacity) &#123; // ... int cap = ((initialCapacity &gt;= (MAXIMUM_CAPACITY &gt;&gt;&gt; 1)) ? MAXIMUM_CAPACITY : tableSizeFor(initialCapacity + (initialCapacity &gt;&gt;&gt; 1) + 1)); // Â§çÂà∂Áªô sizeCtl this.sizeCtl = cap;&#125; Â¢ûÊñ∞Â¢ûËäÇÁÇπÔºåÂèØËÉΩ‰ºöÔºàÂπ∂ÂèëÔºâÊâ©ÂÆπ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219// ÈÄöËøáUnsafeÊãøÂà∞sizeCtlÁöÑÂú∞ÂùÄprivate static final long SIZECTL;// ÈÄöËøáUnsafeÊãøÂà∞baseCountÁöÑÂú∞ÂùÄprivate static final long BASECOUNT;// ÁßªÂä®ËäÇÁÇπÁöÑhashÂÄºÔºåÂè™Âú®transfer(Êâ©ÂÆπÊñπÊ≥ï‰∏≠)Êñ∞Âª∫ForwardingNodeËÆæÁΩÆstatic final int MOVED = -1;public V put(K key, V value) &#123; return putVal(key, value, false);&#125;final V putVal(K key, V value, boolean onlyIfAbsent) &#123; if (key == null || value == null) throw new NullPointerException(); // ÂØπhashCodeËøõË°åÂÜçÊï£Âàó // ÁÆóÊ≥ï‰∏∫(h ^ (h &gt;&gt;&gt; 16)) &amp; HASH_BITS(0x7fffffff) int hash = spread(key.hashCode()); // ÂáÜÂ§áÈÅçÂéÜtable int binCount = 0; // ËøôËæπÂä†‰∫Ü‰∏Ä‰∏™Âæ™ÁéØÔºåÂ∞±ÊòØ‰∏çÊñ≠ÁöÑÂ∞ùËØï for (Node&lt;K,V&gt;[] tab = table;;) &#123; Node&lt;K,V&gt; f; int n, i, fh; if (tab == null || (n = tab.length) == 0) // ÂàùÂßãÂåñtable tab = initTable(); // Ëé∑ÂèñÂØπÂ∫î‰∏ãÊ†áËäÇÁÇπÔºåÂ¶ÇÊûúÊòØÁ©∫ÔºåÁõ¥Êé•ÊèíÂÖ• else if ((f = tabAt(tab, i = (n - 1) &amp; hash)) == null) &#123; // CAS ËøõË°åÊèíÂÖ• if (casTabAt(tab, i, null, new Node&lt;K,V&gt;(hash, key, value, null))) break; // no lock when adding to empty bin &#125; // Â¶ÇÊûú hash ÂÜ≤Á™Å‰∫Ü // ‰∏î hash ÂÄº‰∏∫ -1(MOVED)ÔºåËØ¥ÊòéÊòØ ForwardingNode ÂØπË±°ÔºàËøôÊòØ‰∏Ä‰∏™Âç†‰ΩçÁ¨¶ÂØπË±°Ôºå‰øùÂ≠ò‰∫ÜÊâ©ÂÆπÂêéÁöÑÂÆπÂô®Ôºâ // Ë°®Á§∫‰∫ÜÊ≠£Âú®Êâ©ÂÆπÔºåÈúÄË¶ÅÂ∏ÆÂä© Map ËøõË°åÊâ©ÂÆπÔºå‰ª•Âä†Âø´ÈÄüÂ∫¶ else if ((fh = f.hash) == MOVED) tab = helpTransfer(tab, f); // Â¶ÇÊûú hash ÂÜ≤Á™Å‰∫ÜÔºå‰∏î hash ÂÄº‰∏ç‰∏∫ -1 else &#123; V oldVal = null; // ÂêåÊ≠• f ËäÇÁÇπÔºåÈò≤Ê≠¢Â¢ûÂä†ÈìæË°®ÁöÑÊó∂ÂÄôÂØºËá¥ÈìæË°®ÊàêÁéØ(‰ºöÂá∫Áé∞Ê≠ªÂæ™ÁéØ) synchronized (f) &#123; // Â¶ÇÊûúÂØπÂ∫îÁöÑ‰∏ãÊ†á‰ΩçÁΩÆ ÁöÑËäÇÁÇπÊ≤°ÊúâÊîπÂèò if (tabAt(tab, i) == f) &#123; // Âπ∂‰∏î f ËäÇÁÇπÁöÑhash ÂÄº Â§ß‰∫é0 if (fh &gt;= 0) &#123; // ÈìæË°®ÈïøÂ∫¶ binCount = 1; // Ê≠ªÂæ™ÁéØÔºåÁõ¥Âà∞Â∞ÜÂÄºÊ∑ªÂä†Âà∞ÈìæË°®Â∞æÈÉ®ÔºåÂπ∂ËÆ°ÁÆóÈìæË°®ÁöÑÈïøÂ∫¶ for (Node&lt;K,V&gt; e = f;; ++binCount) &#123; K ek; // ÈÅáÂà∞ÈáçÂ§çÁöÑkeyÔºåÊ†πÊçÆÊ†áÂøó‰ΩçË¶ÜÁõñ if (e.hash == hash &amp;&amp; ((ek = e.key) == key || (ek != null &amp;&amp; key.equals(ek)))) &#123; oldVal = e.val; if (!onlyIfAbsent) e.val = value; break; &#125; Node&lt;K,V&gt; pred = e; // Â∞æÈÉ®ÊèíÂÖ• if ((e = e.next) == null) &#123; pred.next = new Node&lt;K,V&gt;(hash, key, value, null); break; &#125; &#125; &#125; // Â¶ÇÊûú f ËäÇÁÇπÁöÑ has Â∞è‰∫é0 Âπ∂‰∏îf ÊòØ Ê†ëÁ±ªÂûã else if (f instanceof TreeBin) &#123; Node&lt;K,V&gt; p; binCount = 2; // ÊèíÂÖ•Ê†ë‰∏≠ if ((p = ((TreeBin&lt;K,V&gt;)f).putTreeVal(hash, key, value)) != null) &#123; oldVal = p.val; if (!onlyIfAbsent) p.val = value; &#125; &#125; &#125; &#125; if (binCount != 0) &#123; // ÈìæË°®ÈïøÂ∫¶Â§ß‰∫éÁ≠â‰∫é8Êó∂ÔºåÂ∞ÜËØ•ËäÇÁÇπÊîπÊàêÁ∫¢ÈªëÊ†ëÊ†ë if (binCount &gt;= TREEIFY_THRESHOLD) treeifyBin(tab, i); if (oldVal != null) return oldVal; break; &#125; &#125; &#125; // Âà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÊâ©ÂÆπCAS addCount(1L, binCount); return null;&#125;// ÂàùÂßãÂåñtableprivate final Node&lt;K,V&gt;[] initTable() &#123; Node&lt;K,V&gt;[] tab; int sc; while ((tab = table) == null || tab.length == 0) &#123; // Â¶ÇÊûú‰∏Ä‰∏™Á∫øÁ®ãÂèëÁé∞sizeCtl&lt;0ÔºåÊÑèÂë≥ÁùÄÂè¶Â§ñÁöÑÁ∫øÁ®ãÊâßË°åCASÊìç‰ΩúÊàêÂäü // ÂΩìÂâçÁ∫øÁ®ãÂè™ÈúÄË¶ÅËÆ©Âá∫cpuÊó∂Èó¥Áâá if ((sc = sizeCtl) &lt; 0) Thread.yield(); // lost initialization race; just spin // CAS ‰øÆÊîπ sizeCtl ÁöÑÂÄº‰∏∫-1 else if (U.compareAndSwapInt(this, SIZECTL, sc, -1)) &#123; try &#123; if ((tab = table) == null || tab.length == 0) &#123; // sc Âú®ÂàùÂßãÂåñÁöÑÊó∂ÂÄôÁî®Êà∑ÂèØËÉΩ‰ºöËá™ÂÆö‰πâÔºåÂ¶ÇÊûúÊ≤°ÊúâËá™ÂÆö‰πâÔºåÂàôÊòØÈªòËÆ§ÁöÑ16 int n = (sc &gt; 0) ? sc : DEFAULT_CAPACITY; @SuppressWarnings("unchecked") Node&lt;K,V&gt;[] nt = (Node&lt;K,V&gt;[])new Node&lt;?,?&gt;[n]; table = tab = nt; // ËÆ°ÁÆóÂêé‰Ωú‰∏∫Êâ©ÂÆπÁöÑÈòÄÂÄº(Áõ∏ÂΩì‰∫é‰πò‰ª•0.75) sc = n - (n &gt;&gt;&gt; 2); &#125; &#125; finally &#123; sizeCtl = sc; &#125; break; &#125; &#125; return tab;&#125;/** * Helps transfer if a resize is in progress. * Â¶ÇÊûúÊ≠£Âú®Êâ©ÂÆπÔºåÂàôÂ∏ÆÂä©Êâ©ÂÆπ */final Node&lt;K,V&gt;[] helpTransfer(Node&lt;K,V&gt;[] tab, Node&lt;K,V&gt; f) &#123; Node&lt;K,V&gt;[] nextTab; int sc; // Â¶ÇÊûú table ‰∏çÊòØÁ©∫ ‰∏î node ËäÇÁÇπÊòØËΩ¨ÁßªËäÇÁÇπ // // ‰∏î node ËäÇÁÇπÁöÑ nextTableÔºàÊñ∞ tableÔºâ ‰∏çÊòØÁ©∫ if (tab != null &amp;&amp; (f instanceof ForwardingNode) &amp;&amp; (nextTab = ((ForwardingNode&lt;K,V&gt;)f).nextTable) != null) &#123; // Ê†πÊçÆ length ÂæóÂà∞‰∏Ä‰∏™Ê†áËØÜÁ¨¶Âè∑ int rs = resizeStamp(tab.length); // Â¶ÇÊûú nextTab Ê≤°ÊúâË¢´Âπ∂Âèë‰øÆÊîπ ‰∏î tab ‰πüÊ≤°ÊúâË¢´Âπ∂Âèë‰øÆÊîπ ‰∏î sizeCtl &lt; 0 ÔºàËØ¥ÊòéËøòÂú®Êâ©ÂÆπÔºâ while (nextTab == nextTable &amp;&amp; table == tab &amp;&amp; (sc = sizeCtl) &lt; 0) &#123; // Â¶ÇÊûú sizeCtl Êó†Á¨¶Âè∑Âè≥Áßª 16 ‰∏çÁ≠â‰∫é rs Ôºà scÂâç 16 ‰ΩçÂ¶ÇÊûú‰∏çÁ≠â‰∫éÊ†áËØÜÁ¨¶ÔºåÂàôÊ†áËØÜÁ¨¶ÂèòÂåñ‰∫ÜÔºâ // ÊàñËÄÖ sizeCtl == rs + 1 ÔºàÊâ©ÂÆπÁªìÊùü‰∫ÜÔºå‰∏çÂÜçÊúâÁ∫øÁ®ãËøõË°åÊâ©ÂÆπÔºâÔºàÈªòËÆ§Á¨¨‰∏Ä‰∏™Á∫øÁ®ãËÆæÁΩÆ sc ==rs Â∑¶Áßª 16 ‰Ωç + 2ÔºåÂΩìÁ¨¨‰∏Ä‰∏™Á∫øÁ®ãÁªìÊùüÊâ©ÂÆπ‰∫ÜÔºåÂ∞±‰ºöÂ∞Ü sc Âáè‰∏Ä„ÄÇËøô‰∏™Êó∂ÂÄôÔºåsc Â∞±Á≠â‰∫é rs + 1Ôºâ // ÊàñËÄÖ sizeCtl == rs + 65535 ÔºàÂ¶ÇÊûúËææÂà∞ÊúÄÂ§ßÂ∏ÆÂä©Á∫øÁ®ãÁöÑÊï∞ÈáèÔºåÂç≥ 65535Ôºâ // ÊàñËÄÖËΩ¨Áßª‰∏ãÊ†áÊ≠£Âú®Ë∞ÉÊï¥ ÔºàÊâ©ÂÆπÁªìÊùüÔºâ // ÁªìÊùüÂæ™ÁéØÔºåËøîÂõû table if ((sc &gt;&gt;&gt; RESIZE_STAMP_SHIFT) != rs || sc == rs + 1 || sc == rs + MAX_RESIZERS || transferIndex &lt;= 0) break; // Â¶ÇÊûú‰ª•‰∏äÈÉΩ‰∏çÊòØ, Â∞Ü sizeCtl + 1, ÔºàË°®Á§∫Â¢ûÂä†‰∫Ü‰∏Ä‰∏™Á∫øÁ®ãÂ∏ÆÂä©ÂÖ∂Êâ©ÂÆπÔºâ if (U.compareAndSwapInt(this, SIZECTL, sc, sc + 1)) &#123; // Êâ©ÂÆπ transfer(tab, nextTab); break; &#125; &#125; return nextTab; &#125; return table;&#125;// Âà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÊâ©ÂÆπÔºåÈúÄË¶ÅÂàôËøõË°åÊâ©ÂÆπprivate final void addCount(long x, int check) &#123; CounterCell[] as; long b, s; // Â¶ÇÊûúËÆ°Êï∞ÁõíÂ≠ê‰∏çÊòØÁ©∫ ÊàñËÄÖ ‰øÆÊîπ baseCount Â§±Ë¥• if ((as = counterCells) != null || !U.compareAndSwapLong(this, BASECOUNT, b = baseCount, s = b + x)) &#123; CounterCell a; long v; int m; boolean uncontended = true; // Â¶ÇÊûúËÆ°Êï∞ÁõíÂ≠êÊòØÁ©∫ÔºàÂ∞öÊú™Âá∫Áé∞Âπ∂ÂèëÔºâÊàñËÄÖ ÈöèÊú∫Âèñ‰Ωô‰∏Ä‰∏™Êï∞ÁªÑ‰ΩçÁΩÆ‰∏∫Á©∫ // ÊàñËÄÖ ‰øÆÊîπËøô‰∏™ÊßΩ‰ΩçÁöÑÂèòÈáèÂ§±Ë¥•ÔºàÂá∫Áé∞Âπ∂Âèë‰∫ÜÔºâ if (as == null || (m = as.length - 1) &lt; 0 || (a = as[ThreadLocalRandom.getProbe() &amp; m]) == null || !(uncontended = U.compareAndSwapLong(a, CELLVALUE, v = a.value, v + x))) &#123; // CASÂ¢ûÂä† fullAddCount(x, uncontended); return; &#125; if (check &lt;= 1) return; // ÁªüËÆ°size s = sumCount(); &#125; // Â¶ÇÊûúÈúÄË¶ÅÊ£ÄÊü•,Ê£ÄÊü•ÊòØÂê¶ÈúÄË¶ÅÊâ©ÂÆπÔºåÂú® putVal ÊñπÊ≥ïË∞ÉÁî®Êó∂ÔºåÈªòËÆ§Â∞±ÊòØË¶ÅÊ£ÄÊü•ÁöÑ„ÄÇ if (check &gt;= 0) &#123; Node&lt;K,V&gt;[] tab, nt; int n, sc; // Â¶ÇÊûúmap.size() Â§ß‰∫é sizeCtlÔºàËææÂà∞Êâ©ÂÆπÈòàÂÄºÈúÄË¶ÅÊâ©ÂÆπÔºâ // ‰∏îtable ‰∏çÊòØÁ©∫Ôºõ‰∏î table ÁöÑÈïøÂ∫¶Â∞è‰∫é 1 &lt;&lt; 30„ÄÇÔºàÂèØ‰ª•Êâ©ÂÆπÔºâ while (s &gt;= (long)(sc = sizeCtl) &amp;&amp; (tab = table) != null &amp;&amp; (n = tab.length) &lt; MAXIMUM_CAPACITY) &#123; int rs = resizeStamp(n // Â¶ÇÊûúÊ≠£Âú®Êâ©ÂÆπ if (sc &lt; 0) &#123; // Â¶ÇÊûú sc ÁöÑ‰Ωé 16 ‰Ωç‰∏çÁ≠â‰∫é Ê†áËØÜÁ¨¶ÔºàÊ†°È™åÂºÇÂ∏∏ sizeCtl ÂèòÂåñ‰∫ÜÔºâ // Â¶ÇÊûú sc == Ê†áËØÜÁ¨¶ + 1 ÔºàÊâ©ÂÆπÁªìÊùü‰∫ÜÔºå‰∏çÂÜçÊúâÁ∫øÁ®ãËøõË°åÊâ©ÂÆπÔºâÔºàÈªòËÆ§Á¨¨‰∏Ä‰∏™Á∫øÁ®ãËÆæÁΩÆ sc ==rs Â∑¶Áßª 16 ‰Ωç + 2ÔºåÂΩìÁ¨¨‰∏Ä‰∏™Á∫øÁ®ãÁªìÊùüÊâ©ÂÆπ‰∫ÜÔºåÂ∞±‰ºöÂ∞Ü sc Âáè‰∏Ä„ÄÇËøô‰∏™Êó∂ÂÄôÔºåsc Â∞±Á≠â‰∫é rs + 1Ôºâ // Â¶ÇÊûú sc == Ê†áËØÜÁ¨¶ + 65535ÔºàÂ∏ÆÂä©Á∫øÁ®ãÊï∞Â∑≤ÁªèËææÂà∞ÊúÄÂ§ßÔºâ // Â¶ÇÊûú nextTable == nullÔºàÁªìÊùüÊâ©ÂÆπ‰∫ÜÔºâ // Â¶ÇÊûú transferIndex &lt;= 0 (ËΩ¨ÁßªÁä∂ÊÄÅÂèòÂåñ‰∫Ü) // ÁªìÊùüÂæ™ÁéØ if ((sc &gt;&gt;&gt; RESIZE_STAMP_SHIFT) != rs || sc == rs + 1 || sc == rs + MAX_RESIZERS || (nt = nextTable) == null || transferIndex &lt;= 0) break; // Â¶ÇÊûúÂèØ‰ª•Â∏ÆÂä©Êâ©ÂÆπÔºåÈÇ£‰πàÂ∞Ü sc Âä† 1. Ë°®Á§∫Â§ö‰∫Ü‰∏Ä‰∏™Á∫øÁ®ãÂú®Â∏ÆÂä©Êâ©ÂÆπ if (U.compareAndSwapInt(this, SIZECTL, sc, sc + 1)) // Êâ©ÂÆπ(ÊúâÁÇπÂ§çÊùÇÔºåËÆæËÆ°Âà∞Âπ∂ÂèëÊâ©ÂÆπÔºåÂèØ‰ª•Âú®ÂêéÈù¢ÁöÑÂèÇËÄÉÊâæÂà∞ÊñáÁ´†ÔºåËøôÈáåÂ∞±‰∏çÂàÜÊûê‰∫Ü) transfer(tab, nt); &#125; // Â¶ÇÊûú‰∏çÂú®Êâ©ÂÆπÔºåÂ∞Ü sc Êõ¥Êñ∞ÔºöÊ†áËØÜÁ¨¶Â∑¶Áßª 16 ‰Ωç ÁÑ∂Âêé + 2. ‰πüÂ∞±ÊòØÂèòÊàê‰∏Ä‰∏™Ë¥üÊï∞„ÄÇÈ´ò 16 ‰ΩçÊòØÊ†áËØÜÁ¨¶Ôºå‰Ωé 16 ‰ΩçÂàùÂßãÊòØ 2. else if (U.compareAndSwapInt(this, SIZECTL, sc, (rs &lt;&lt; RESIZE_STAMP_SHIFT) + 2)) // Êõ¥Êñ∞ sizeCtl ‰∏∫Ë¥üÊï∞ÂêéÔºåÂºÄÂßãÊâ©ÂÆπ„ÄÇ transfer(tab, null); // ÁªüËÆ°size s = sumCount(); &#125; &#125;&#125; Âà†Ê†πÊçÆkeyÂà†Èô§ÈîÆÂÄºÂØπÔºåÂ¶ÇÊûúkey‰∏çÂ≠òÂú®Ôºå‰ªÄ‰πà‰πü‰∏çÂÅö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990public V remove(Object key) &#123; return replaceNode(key, null, null);&#125;// Áî®Êñ∞cvÂèñ‰ª£ÂéüÊù•ÁöÑvalueÔºåÂ¶ÇÊûúvalueÊòØnullÔºåÂ∞±‰ª£Ë°®Âà†Èô§final V replaceNode(Object key, V value, Object cv) &#123; // ËÆ°ÁÆókeyÁöÑhashÂÄº int hash = spread(key.hashCode()); for (Node&lt;K,V&gt;[] tab = table;;) &#123; Node&lt;K,V&gt; f; int n, i, fh; // table‰∏∫Á©∫ Êàñ ÂÆπÈáè‰∏∫0 Êàñ ‰∏çÂ≠òÂú® if (tab == null || (n = tab.length) == 0 || (f = tabAt(tab, i = (n - 1) &amp; hash)) == null) break; // Ê≠£Âú®Êâ©ÂÆπ else if ((fh = f.hash) == MOVED) // ÂçèÂä©Êâ©ÂÆπ tab = helpTransfer(tab, f); else &#123; V oldVal = null; boolean validated = false; // ÂêåÊ≠•Âà†Èô§ synchronized (f) &#123; // Ê°∂‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÁªìÁÇπÊ≤°ÊúâÂèëÁîüÂèòÂåñ if (tabAt(tab, i) == f) &#123; // ÊõøÊç¢ÈìæË°®‰∏≠ÁöÑËäÇÁÇπ if (fh &gt;= 0) &#123; validated = true; for (Node&lt;K,V&gt; e = f, pred = null;;) &#123; K ek; if (e.hash == hash &amp;&amp; ((ek = e.key) == key || (ek != null &amp;&amp; key.equals(ek)))) &#123; V ev = e.val; if (cv == null || cv == ev || (ev != null &amp;&amp; cv.equals(ev))) &#123; oldVal = ev; // value‰∏ç‰∏∫nullÔºåÊõøÊç¢ if (value != null) e.val = value; // value‰∏∫nullÔºåÂà†Èô§ else if (pred != null) // ÂâçÈ©±ÁöÑÂêéÁªß‰∏∫eÁöÑÂêéÁªßÔºåÂç≥Âà†Èô§‰∫ÜeÁªìÁÇπ pred.next = e.next; else setTabAt(tab, i, e.next); &#125; break; &#125; pred = e; if ((e = e.next) == null) break; &#125; &#125; // ÊõøÊç¢Á∫¢ÈªëÊ†ë‰∏≠ÁöÑËäÇÁÇπ else if (f instanceof TreeBin) &#123; validated = true; TreeBin&lt;K,V&gt; t = (TreeBin&lt;K,V&gt;)f; TreeNode&lt;K,V&gt; r, p; if ((r = t.root) != null &amp;&amp; (p = r.findTreeNode(hash, key, null)) != null) &#123; V pv = p.val; if (cv == null || cv == pv || (pv != null &amp;&amp; cv.equals(pv))) &#123; oldVal = pv; // value‰∏ç‰∏∫nullÔºåÊõøÊç¢ if (value != null) p.val = value; // value‰∏∫nullÔºåÂà†Èô§ else if (t.removeTreeNode(p)) // ËøîÂõû‰∏∫trueÔºåÂéªÊ†ëÂåñ setTabAt(tab, i, untreeify(t.first)); &#125; &#125; &#125; &#125; &#125; if (validated) &#123; if (oldVal != null) &#123; if (value == null) // ÊÄªÊï∞-1 addCount(-1L, -1); return oldVal; &#125; break; &#125; &#125; &#125; return null;&#125; Êîπ123456public boolean replace(K key, V oldValue, V newValue) &#123; if (key == null || oldValue == null || newValue == null) throw new NullPointerException(); // ÂØπ‰∫éreplaceNodeÊñπÊ≥ïÂú®Âà†Èô§Êìç‰Ωú‰∏≠Â∑≤ÁªèËß£ÊûêËøá‰∫Ü return replaceNode(key, newValue, oldValue) != null;&#125; Êü•Ê†πÊçÆkeyËé∑Âèñvalue12345678910111213141516171819202122232425public V get(Object key) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; e, p; int n, eh; K ek; // ËÆ°ÁÆókeyÁöÑhash int h = spread(key.hashCode()); // table‰∏ç‰∏∫Á©∫ if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (e = tabAt(tab, (n - 1) &amp; h)) != null) &#123; // Âà§Êñ≠Â§¥ËäÇÁÇπÊòØÂê¶Á¨¶Âêà if ((eh = e.hash) == h) &#123; if ((ek = e.key) == key || (ek != null &amp;&amp; key.equals(ek))) return e.val; &#125; // Âú®Ê†ë‰∏≠Êü•ÊâæÔºåÂ∞è‰∫é0ÁöÑ‰ª£Ë°®‰∫ÜÊ†ëÁöÑÊ†πËäÇÁÇπÔºåÂõ†‰∏∫Ê†ëÁöÑÊ†πËäÇÁÇπÁöÑÂìàÂ∏åÂÄº‰∏∫TREEBINÔºà-2Ôºâ else if (eh &lt; 0) // Ë∞ÉÁî®Á∫¢ÈªëÊ†ëÁöÑÊü•ÊâæÊñπÊ≥ï return (p = e.find(h, key)) != null ? p.val : null; // Âú®ÈìæË°®‰∏≠Êü•Êâæ while ((e = e.next) != null) &#123; if (e.hash == h &amp;&amp; ((ek = e.key) == key || (ek != null &amp;&amp; key.equals(ek)))) return e.val; &#125; &#125; return null;&#125; ÊÄªÁªìConcurrentHashMap ÊòØ Doug Lea ÁöÑÁ•û‰ΩúÔºåÂèØ‰ª•ËØ¥ÊòØÁ≤æÂΩ©Áªù‰º¶ÔºåÊÄªÁöÑÊù•ËØ¥Ôºå‰ΩøÁî®‰∫Ü CASÔºàÊâ©ÂÆπÂπ∂ÂèëÔºâ Âíå synchronized Êù•‰øùËØÅ‰∫Ü put Êìç‰ΩúÂπ∂ÂèëÊó∂ÁöÑÂç±Èô©ÔºàÁâπÂà´ÊòØÈìæË°®ÔºåÈò≤Ê≠¢‰∫ÜÊ≠ªÂæ™ÁéØÁöÑÂèëÁîüÔºâÔºåÂú®ËØªÊñπÊ≥ïÂÆåÂÖ®Ê≤°ÊúâÈîÅÔºåÂÆåÂÖ®Âπ∂ÂèëÔºåÁõ∏ÊØîÂÖ∂‰ªñÁ∫øÁ®ãÂÆâÂÖ®ÁöÑMapÔºåÂÆÉÁöÑÊÄßËÉΩÁúüÊòØÊù†Êù†Êª¥„ÄÇÂÜôÂÆåÊâçÂèëÁé∞Ëá™Â∑±Âè™ÊòØÊâì‰∫ÜÊ≥®ÈáäÔºåËøòÊ≤°ÊúâÊ¶ÇÊã¨ÊÄßÁöÑËØùËØ≠ÔºåÁº∫Â∞ë‰∫ÜÊÄªÁªìÔºå‰ª•ÂêéÈúÄË¶ÅÊ≥®ÊÑè„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåConcurrentHashMapËÇØÂÆö‰∏çÊòØ‰∏ÄÈÅçÊñáÁ´†Â∞±ËÉΩËØ¥ÂÆå‰∫ÜÔºå‰ª•ÂêéËøòÈúÄË¶ÅÂü∫Á°ÄÂõûÈ°æÔºåÁªßÁª≠Ë°•ÂÖÖ„ÄÇ ÂèÇËÄÉ javaÂÜÖÂ≠òÊ®°Âûã java‰∏≠ÁöÑUnsafe Ê∑±ÂÖ•ÊµÖÂá∫CAS Ê∑±ÂÖ•ÊµÖÂá∫javaÂêåÊ≠•Âô®AQS Ê∑±ÂÖ•ÊµÖÂá∫ReentrantLock JavaÂπ∂ÂèëÂÆπÂô®ConcurrentHashMapÂéüÁêÜÂèäHashMapÊ≠ªÂæ™ÁéØÂéüÂõ†ÁöÑÂàÜÊûê ConcurrentHashMap Ê∫êÁ†ÅÈòÖËØªÂ∞èÁªì Ê∑±ÂÖ•ÊµÖÂá∫ConcurrentHashMap1.8]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>ConcurrentHashMap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîHashMap]]></title>
    <url>%2F2018%2F09%2F03%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94HashMap%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®CollectionÊé•Âè£‰∏≠Áî®ÁöÑÊúÄÂ§öÁöÑÊòØArrayListÔºåÂú®MapÊé•Âè£‰∏≠Áî®ÁöÑÊúÄÂ§öÁöÑ‰∏ÄÂÆöÊòØHashMapÔºåÊàë‰ª¨‰ªäÂ§©Â∞±Êù•ÁúãÁúãHashMapÔºÅ ËØ¶ÁªÜÊ≥®ÈáäÔºöÊ∫êÁ†ÅÂàÜÊûêÂú∞ÂùÄ Ê¶ÇËßàÂÆÉÊòØÂü∫‰∫éÂìàÂ∏åË°®ÂÆûÁé∞ÁöÑMapÊé•Âè£ÔºåÂÖÅËÆ∏nullÁöÑÂÄºÂíånullÈîÆ„ÄÇ HashMapÁöÑ‰∏Ä‰∏™ÂÆû‰æãÊúâ‰∏§‰∏™ÂΩ±ÂìçÂÖ∂ÊÄßËÉΩÁöÑÂèÇÊï∞Ôºö ÂàùÂßãÂÆπÈáèÂíåË¥üËΩΩÂõ†Â≠ê„ÄÇÂÆπÈáèÊòØÂìàÂ∏åË°®‰∏≠ÁöÑÊ°∂Êï∞ÔºåÂàùÂßãÂÆπÈáèÂè™ÊòØÂàõÂª∫ÂìàÂ∏åË°®Êó∂ÁöÑÂÆπÈáè„ÄÇ Ë¥üËΩΩÂõ†Â≠êÊòØÂú®ÂÆπÈáèËá™Âä®Â¢ûÂä†‰πãÂâçÂÖÅËÆ∏ÂìàÂ∏åË°®ÂÖÖÊª°Á®ãÂ∫¶ÁöÑÂ∫¶Èáè„ÄÇ ÂΩìÂú®Êï£ÂàóË°®‰∏≠ÁöÑÊù°ÁõÆÁöÑÊï∞ÈáèË∂ÖËøá‰∫ÜË¥üËΩΩÂõ†Êï∞ÂíåÂÆπÈáèÁöÑ‰πòÁßØÔºåÂìàÂ∏åË°®Â∞ÜË¢´ÈáçÊñ∞Êï£Âàó ÔºàÂç≥ÂÜÖÈÉ®Êï∞ÊçÆÁªìÊûÑË¢´ÈáçÂª∫ÔºâÔºå‰ΩøÂæóÂìàÂ∏åË°®ÂÖ∑ÊúâÊ°∂ÁöÑÂ§ßÁ∫¶‰∏§ÂÄç„ÄÇ ‰Ωú‰∏∫‰∏ÄËà¨ËßÑÂàôÔºåÈªòËÆ§Ë¥üËΩΩÂõ†Â≠êÔºà0.75ÔºâÊèê‰æõ‰∫ÜÊó∂Èó¥ÂíåÁ©∫Èó¥ÊàêÊú¨‰πãÈó¥ÁöÑËâØÂ•ΩÊäò‰∏≠„ÄÇ Êõ¥È´òÁöÑÂÄº‰ºöÈôç‰ΩéÁ©∫Èó¥ÂºÄÈîÄÔºå‰ΩÜ‰ºöÂ¢ûÂä†Êü•ÊâæÊàêÊú¨ÔºàÂèçÊò†Âú®HashMapÁ±ªÁöÑÂ§ßÈÉ®ÂàÜÊìç‰Ωú‰∏≠ÔºåÂåÖÊã¨getÂíåput Ôºâ„ÄÇ Âú®ËÆæÁΩÆÂÖ∂ÂàùÂßãÂÆπÈáèÊó∂ÔºåÂ∫îËÄÉËôëMap‰∏≠È¢ÑÊúüÁöÑÊù°ÁõÆÊï∞ÂèäÂÖ∂Ë¥üËΩΩÂõ†Â≠êÔºå‰ª•‰æøÊúÄÂ∞èÂåñÈáçÊñ∞Êï£ÂàóÊìç‰ΩúÁöÑÊï∞Èáè„ÄÇ Â¶ÇÊûúÂàùÂßãÂÆπÈáèÂ§ß‰∫éÊúÄÂ§ßÊù°ÁõÆÊï∞Èô§‰ª•Ë¥üËΩΩÂõ†Â≠êÔºåÂàô‰∏ç‰ºöÂèëÁîüÈáçÊñ∞Êï£ÂàóÊìç‰Ωú„ÄÇ Ê≥®ÊÑèÔºåHashMap‰∏çÂêåÊ≠•„ÄÇ Â¶ÇÊûúÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËÆøÈóÆÂìàÂ∏åÊò†Â∞ÑÔºåÂπ∂‰∏îËá≥Â∞ëÊúâ‰∏Ä‰∏™Á∫øÁ®ãÂú®ÁªìÊûÑ‰∏ä‰øÆÊîπ‰∫ÜÊò†Â∞ÑÔºåÈÇ£‰πàÂÆÉÂøÖÈ°ªÂú®Â§ñÈÉ®ËøõË°åÂêåÊ≠•„ÄÇ ÔºàÁªìÊûÑ‰øÆÊîπÊòØÊ∑ªÂä†ÊàñÂà†Èô§‰∏Ä‰∏™ÊàñÂ§ö‰∏™Êò†Â∞ÑÁöÑ‰ªª‰ΩïÊìç‰Ωú;‰ªÖÊîπÂèò‰∏éÂÆû‰æãÂ∑≤ÁªèÂåÖÂê´ÁöÑKeyÁõ∏ÂÖ≥ËÅîÁöÑÂÄº‰∏çÊòØÁªìÊûÑ‰øÆÊîπ„ÄÇÔºâËøôÈÄöÂ∏∏ÈÄöËøáÂØπËá™ÁÑ∂Âú∞Â∞ÅË£ÖÊò†Â∞ÑÁöÑ‰∏Ä‰∫õÂØπË±°ÔºàConcurrentMapÁ≠âÔºâËøõË°åÂêåÊ≠•Êù•ÂÆûÁé∞„ÄÇ Â¶ÇÊûúÊ≤°ÊúâËøôÊ†∑ÁöÑÂØπË±°Â≠òÂú®ÔºåÂ∫îËØ•‰ΩøÁî®Collections.synchronizedMapÊñπÊ≥ï‚ÄúÂåÖË£Ö‚Äù„ÄÇ ÊâÄÊúâËøô‰∏™Á±ªÁöÑÊñπÊ≥ïËøîÂõûÁöÑËø≠‰ª£Âô®ÈÉΩÊòØÂø´ÈÄüÂ§±Ë¥•ÁöÑ ÔºöÂ¶ÇÊûúÊò†Â∞ÑÂú®Ëø≠‰ª£Âô®ÂàõÂª∫‰πãÂêéÁöÑ‰ªª‰ΩïÊó∂Èó¥Ë¢´ÁªìÊûÑÂú∞‰øÆÊîπÔºåÈô§‰∫ÜÈÄöËøáËø≠‰ª£Âô®Ëá™Â∑±ÁöÑremoveÊñπÊ≥ï‰πãÂ§ñÔºåËø≠‰ª£Âô®Â∞ÜÊäõÂá∫‰∏Ä‰∏™ConcurrentModificationException „ÄÇ ÊûÑÈÄ†Âú®ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠‰∏ªË¶ÅÂ∞±ÊòØËÆæÁΩÆÂàùÂßãÂÆπÈáèÂíåË¥üËΩΩÂõ†Â≠êÔºåÂ¶Ç‰∏ãÈù¢Ôºö123456789101112131415161718192021222324252627282930313233// ÊúÄÂ§ßÂÆπÈáèstatic final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;// ÈªòËÆ§ÂàùÂßãÂÆπÈáèÔºå‰∏ÄÂÆöÊòØ2ÁöÑnÊ¨°ÊñπÔºåËøôÈáåÊòØ16static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4;// ÈªòËÆ§Ë¥üËΩΩÂõ†Â≠êÔºåËøôÈáåÊòØ0.75static final float DEFAULT_LOAD_FACTOR = 0.75f;// ËøôÈáåÊòØMapÂ≠òÊîæÊù°ÁõÆÁöÑÈòàÂÄºint threshold;// ÂàùÂßãÁöÑËäÇÁÇπÊï∞ÁªÑÔºåËøôÈáåNodeÊòØ‰∏™ÂèåÂêëËäÇÁÇπÈìæË°®Ôºà‰∏ãÈù¢Ê≥®Èáä‰∏≠‰ºöÁõ¥Êé•ËØ¥tableÔºâtransient Node&lt;K,V&gt;[] table;public HashMap(int initialCapacity) &#123; this(initialCapacity, DEFAULT_LOAD_FACTOR);&#125;public HashMap(int initialCapacity, float loadFactor) &#123; // ... this.loadFactor = loadFactor; // ÂèØËÉΩÂ§ßÂÆ∂ËßâÂæóÈòàÂÄºÂ∫îËØ•ÈúÄË¶Å‰πò‰ª•Ë¥üËΩΩÂõ†Â≠êÔºåÂÖàÂà´ÊÄ•ÔºåÂæÄÂêéÁúã this.threshold = tableSizeFor(initialCapacity);&#125;// Ê†πÊçÆÊâÄÁªôÁöÑÁõÆÊ†áÂÆπÈáèËøîÂõûÂ§ß‰∫éÊàñÁ≠â‰∫é2ÁöÑÂπÇÊ¨°Êñπ// ÊÑüËßâËøôÈáåÂêäÁÇ∏Â§©ÔºåÁúã‰∏çÊáÇÁöÑÂèØ‰ª•ÁúãÂêéÈù¢ÂèÇËÄÉÁöÑÂçöÂÆ¢static final int tableSizeFor(int cap) &#123; // ËøôÈáå‰∏ÄÂÆöË¶ÅÂáè1Ôºå‰∏çÁÑ∂ÂØπ‰∫éÊú¨Êù•Â∞±ÊòØ2ÁöÑÂπÇÊ¨°ÊñπÁöÑÊï∞Ôºå‰ºöÂèòÊàêÂéüÊù•ÁöÑ‰∏§ÂÄç int n = cap - 1; n |= n &gt;&gt;&gt; 1; n |= n &gt;&gt;&gt; 2; n |= n &gt;&gt;&gt; 4; n |= n &gt;&gt;&gt; 8; n |= n &gt;&gt;&gt; 16; return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;&#125; ËøôÈáåËß£Á≠î‰∏Ä‰∏ã‰∏∫‰ªÄ‰πàË¶ÅÊòØ2ÁöÑÂπÇÊ¨°ÊñπÔºüÈ¶ñÂÖàÊèê‰∏Ä‰∏™‰∏úË•øÂ∞±ÊòØÊï£ÂàóÂà∞HashMap‰∏≠ÊòØÈÄöËøá‰∏ãÈù¢ÁöÑÂÖ¨ÂºèÔºöhash &amp;(cap-1) ÂÅáËÆæcapÂÆπÈáè‰∏∫15„ÄÅ16ÔºåÈÇ£‰πà‰ªñ‰ª¨Âáè1‰πãÂêéÁöÑ‰∫åËøõÂà∂Ë°®Ëææ‰∏∫1110„ÄÅ1111ÔºåÈÇ£‰πà0001„ÄÅ0011„ÄÅ0101„ÄÅ0111, 1001„ÄÅ1011„ÄÅ1101Ëøô‰∫õÊ°∂Â∞ÜÊ∞∏Ëøú‰∏ç‰ºöË¢´Áî®Âà∞„ÄÇÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å2ÁöÑÂπÇÊ¨°Êñπ„ÄÇ ËøôÈáåÊó¢ÁÑ∂ÁúãÂà∞‰∫ÜhashÊàë‰ª¨Â∞±Áúã‰∏Ä‰∏ãHashMapÁöÑhashÂáΩÊï∞‰ºòÂåñÔºö12345static final int hash(Object key) &#123; int h; // ËøôÈáåÂè´Êâ∞Âä®ÂáΩÊï∞(Âä†ÂÖ•È´ò‰ΩçÁâπÂæÅ)ÔºåÂáèÂ∞ëhashÁ¢∞ÊíûÔºåÂÖ∑‰ΩìÁöÑÂèØ‰ª•ÁúãÂêéÈù¢ÂèÇËÄÉÈáåÁöÑÊñáÁ´† return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);&#125; Â¢ûËøôÈáå‰ºöÊúâÂæàÂ§öÁªÜËäÇÔºåÈúÄË¶ÅËÄêÂøÉÊÖ¢ÊÖ¢Áúã„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172// hashÂÜ≤Á™ÅÁöÑÈìæË°®Ê†ëÂåñÈòàÂÄºÔºàËá≥Â∞ë‰∏∫8Ôºâstatic final int TREEIFY_THRESHOLD = 8;// ‰ªéÊ†ëËøòÂéü‰∏∫ÈìæË°®ÈòàÂÄºÔºàÂ∞è‰∫é6Ôºâstatic final int UNTREEIFY_THRESHOLD = 6;// Â¢ûÂä†ÈîÆÂÄºÂØπÔºåÂ¶ÇÊûúkeyÂ∑≤Â≠òÂú®ÔºåÂàôË¶ÜÁõñpublic V put(K key, V value) &#123; // ËøîÂõûÁîüÊàêÁöÑËäÇÁÇπ return putVal(hash(key), key, value, false, true);&#125;final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; // ÂàùÂßãËäÇÁÇπÊï∞ÁªÑtable‰∏∫Á©∫ÊàñËÄÖÈïøÂ∫¶‰∏∫0 if ((tab = table) == null || (n = tab.length) == 0) // ÁîüÊàêËäÇÁÇπÊï∞ÁªÑÔºàËøôÈáå‰ºöÊ∂âÂèäÂà∞ÂàùÂßãÂåñtableÊàñÊâ©ÂÆπÔºå‰∏ãÈù¢‰ºöËØ¥ÔºâÔºåÂπ∂ËøîÂõûÈïøÂ∫¶ n = (tab = resize()).length; // //Â¶ÇÊûúÊñ∞Â≠òÊîæÁöÑhashÂÄºÊ≤°ÊúâÂÜ≤Á™ÅÔºåÂàôÊîæÂÖ•tab if ((p = tab[i = (n - 1) &amp; hash]) == null) tab[i] = newNode(hash, key, value, null); else &#123; // Âê¶ÂàôÂ∞±ÊòØ‰∫ßÁîü‰∫ÜhashÂÜ≤Á™Å Node&lt;K,V&gt; e; K k; // Â¶ÇÊûúhashÂÄºÁõ∏Á≠â‰∏îkeyÂÄºÁõ∏Á≠â, Âàô‰ª§eÊåáÂêëÂÜ≤Á™ÅÁöÑÂ§¥ËäÇÁÇπ if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) e = p; // Â¶ÇÊûúÂ§¥ËäÇÁÇπÁöÑkeyÂÄº‰∏éÊñ∞ÊèíÂÖ•ÁöÑkeyÂÄº‰∏çÁ≠â, Âπ∂‰∏îÂ§¥ÁªìÁÇπÊòØTreeNodeÁ±ªÂûã,ËØ¥ÊòéËØ•hashÂÄºÂÜ≤Á™ÅÊòØÈááÁî®Á∫¢ÈªëÊ†ëËøõË°åÂ§ÑÁêÜ else if (p instanceof TreeNode) // Âº∫ËΩ¨‰∏∫TreeNodeÔºåÊèíÂÖ•ÈªëÁ∫¢Ê†ë(Êú¨ÁØáÊñáÁ´†‰∏çË∞àÈªëÁ∫¢Ê†ëÁöÑÊìç‰ΩúÔºåÂÖ∑‰ΩìÁöÑÈªëÁ∫¢Ê†ëÊìç‰ΩúÁúãÂêéÁª≠ÂçöÊñáÔºå‰∏ãÂêå) e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); // Âê¶ÂàôÂ∞±ÊòØÈááÁî®ÈìæË°®Â§ÑÁêÜhashÂÄºÂÜ≤Á™Å else &#123; // ÈÅçÂéÜÂÜ≤Á™ÅÈìæË°®, binCountËÆ∞ÂΩïhashÂÄºÂÜ≤Á™ÅÈìæË°®‰∏≠ËäÇÁÇπ‰∏™Êï∞ for (int binCount = 0; ; ++binCount) &#123; // //ÂΩìÈÅçÂéÜÂà∞ÂÜ≤Á™ÅÈìæË°®ÁöÑÂ∞æÈÉ®Êó∂ if ((e = p.next) == null) &#123; p.next = newNode(hash, key, value, null); // ÂÜ≤Á™ÅÈìæË°®ËäÇÁÇπÂ§ß‰∫é8‰∏™ if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st // Á∫¢ÈªëÊ†ëÂåñ treeifyBin(tab, hash); break; &#125; //Â¶ÇÊûúÂú®ÂÜ≤Á™ÅÈìæË°®‰∏≠ÊâæÂà∞Áõ∏ÂêåkeyÂÄºÁöÑËäÇÁÇπÔºåÁõ¥Êé•Áî®Êñ∞ÁöÑvalueË¶ÜÁõñÂéüÊù•ÁöÑvalueÂÄºÂç≥ÂèØ if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; p = e; &#125; &#125; if (e != null) &#123; // existing mapping for key V oldValue = e.value; // Âà§Êñ≠onlyIfAbsentÊòØÂê¶Ë¶ÜÁõñ // trueË°®Á§∫‰ªÖÂΩì&lt;key,value&gt;‰∏çÂ≠òÂú®Êó∂ËøõË°åÊèíÂÖ•, ‰∏∫falseË°®Á§∫Âº∫Âà∂Ë¶ÜÁõñ if (!onlyIfAbsent || oldValue == null) e.value = value; // Â§ÑÁêÜËÆøÈóÆÂõûË∞ÉÂä®‰Ωú afterNodeAccess(e); return oldValue; &#125; &#125; // ‰øÆÊîπÊ¨°Êï∞Ëá™Â¢û ++modCount; // ÂΩìÈîÆÂÄºÂØπÊï∞ÈáèsizeËææÂà∞‰∏¥ÁïåÂÄºthreholdÂêé, ÈúÄË¶ÅËøõË°åÊâ©ÂÆπÊìç‰Ωú if (++size &gt; threshold) resize(); // Â§ÑÁêÜÊèíÂÖ•ÂõûË∞ÉÂä®‰Ωú afterNodeInsertion(evict); return null;&#125; ÂàùÂßãÂåñtableÊàñËÄÖÂØπtableËøõË°åÊâ©ÂÆπ(ÈªòËÆ§2ÂÄç)12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697final Node&lt;K,V&gt;[] resize() &#123; // //oldTabÂèòÈáèÊåáÂêëÂéüÊù•ÁöÑÊï∞ÁªÑ Node&lt;K,V&gt;[] oldTab = table; // Áî®Êù•Âà§Êñ≠ÊòØÊâ©ÂÆπËøòÊòØÂàùÂßãÂåñ int oldCap = (oldTab == null) ? 0 : oldTab.length; // oldThrÂèòÈáè‰øùÂ≠òÂéüÊù•Êï∞ÁªÑÁöÑÈòàÂÄº int oldThr = threshold; int newCap, newThr = 0; // Â¶ÇÊûúÂéüÊù•Â∞±Êúâ‰∏úË•øÔºåÂ∞±ËøõË°åÊâ©ÂÆπÊìç‰Ωú if (oldCap &gt; 0) &#123; // ÂΩìÂ§ß‰∫éÊúÄÂ§ßÂÆπÈáèÊó∂Ôºå‰∏çÊâ©ÂÆπÔºåÂè™ÊòØÊîπÂèòÈòàÂÄº if (oldCap &gt;= MAXIMUM_CAPACITY) &#123; threshold = Integer.MAX_VALUE; return oldTab; &#125; // &lt;&lt; Ë°®Á§∫‰πò‰ª•2ÔºåÂèò‰∏∫ÂéüÊù•ÁöÑ2ÂÄçÔºàÂú®Êìç‰ΩúÈªòËÆ§Â§ßÂ∞èÁöÑÊÉÖÂÜµ‰∏ãÔºâ else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp; oldCap &gt;= DEFAULT_INITIAL_CAPACITY) // Êñ∞ÈòàÂÄº‰πüÂèò‰∏∫ÂéüÊù•ÁöÑ2ÂÄç newThr = oldThr &lt;&lt; 1; // double threshold &#125; // oldCap=0, ËØ¥ÊòéÂéüÊù•ÁöÑtableÊï∞ÁªÑ‰∏∫nullÔºåÂºÄÂßãÂàùÂßãÂåñ // Êñ∞ÂàõÂª∫ÁöÑÂÆπÂô®ÂÆπÈáè‰∏∫ÂéüÊù•ÂÆπÂô®‰∏≠ËÆæÂÆöÁöÑ‰∏¥ÁïåÂÄºÔºà16Ôºâ else if (oldThr &gt; 0) // initial capacity was placed in threshold newCap = oldThr; else &#123; // zero initial threshold signifies using defaults // Âú®Ê≤°ÊúâËÆæÁΩÆÈòàÂÄºÁöÑÊÉÖÂÜµ‰∏ã newCap = DEFAULT_INITIAL_CAPACITY; // ÂàùÂßãÈòàÂÄº=ÈªòËÆ§Ë¥üËΩΩÂõ†Â≠ê*ÈªòËÆ§ÂàùÂßãÂåñÂÆπÈáè newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY); &#125; if (newThr == 0) &#123; // ËøôÈáåÂØπÂ∫îÁöÑËÆæÁΩÆ‰∫ÜÈòàÂÄºÁöÑÊÉÖÂÜµ‰∏ãÁöÑÂàùÂßãÂåñÔºåËÆæÁΩÆÈòàÂÄº float ft = (float)newCap * loadFactor; newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ? (int)ft : Integer.MAX_VALUE); &#125; // ÁªôthresholdÂ§çÂà∂ÔºåËøôÈáåÂ∫îËØ•‰πüÂ∞±Ëß£Á≠î‰∫ÜÂÜçÊûÑÈÄ†ÈÇ£ËäÇÊèêÂá∫ÁöÑÁñëÈóÆ‰∫Ü threshold = newThr; // ÂàõÂª∫Êñ∞Êï∞ÁªÑ @SuppressWarnings(&#123;"rawtypes","unchecked"&#125;) Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap]; table = newTab; if (oldTab != null) &#123; // Â¶ÇÊûúÂéüÊù•ÁöÑÊï∞ÁªÑ‰∏≠Â≠òÂú®ÂÄº, ÈúÄË¶ÅÂ∞ÜÂéüÊù•Êï∞ÁªÑ‰∏≠ÁöÑÂÄº‰øùÂ≠òÂà∞Êñ∞Êï∞ÁªÑ‰∏≠ for (int j = 0; j &lt; oldCap; ++j) &#123; Node&lt;K,V&gt; e; if ((e = oldTab[j]) != null) &#123;„ÄÅ // ÈáäÊîæÁöÑÂØπË±°ÂèäÊó∂ÁΩÆÁ©∫ÔºåÁ≠âÂæÖgcÂõûÊî∂ oldTab[j] = null; if (e.next == null) // ÈáçÊñ∞hashËøõÂÖ•Êñ∞ÁöÑÊï∞ÁªÑ newTab[e.hash &amp; (newCap - 1)] = e; //Â¶ÇÊûúÂéüÊù•Ëøô‰∏™ËäÇÁÇπÂ∑≤ÁªèËΩ¨Âåñ‰∏∫Á∫¢ÈªëÊ†ë‰∫ÜÔºå //ÈÇ£‰πàÊàë‰ª¨ÂéªÂ∞ÜÊ†ë‰∏äÁöÑËäÇÁÇπrehash‰πãÂêéÊ†πÊçÆhashÂÄºÊîæÂà∞Êñ∞Âú∞Êñπ else if (e instanceof TreeNode) ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap); else &#123; // preserve order // ËøôËØ¥ÊòéÂéüÊù•Êï∞ÁªÑ‰∏≠‰øùÂ≠òÁöÑhashÂÄºÂ≠òÂú®ÂÜ≤Á™Å, ‰ΩÜÊòØÂπ∂Ê≤°ÊúâÈááÁî®Á∫¢ÈªëÊ†ëÂØπÂÜ≤Á™ÅÁöÑHashÂÄºËøõË°åÁÆ°ÁêÜ, ËÄåÊòØÈááÁî®NodeÈìæË°®ËøõË°åÁÆ°ÁêÜ Node&lt;K,V&gt; loHead = null, loTail = null; Node&lt;K,V&gt; hiHead = null, hiTail = null; Node&lt;K,V&gt; next; do &#123; next = e.next; // Â¶ÇÊûú‰∏∫ÁúüÔºåË°®ÊòéÂú®Êâ©ÂÆπÂêé(e.hash &amp; (newCap - 1))Ëøò‰ºöÂíåe.hash &amp; (oldCap - 1)‰∏ÄÊ†∑ // Â¶ÇÊûú‰∏∫ÂÅáÔºåË°®ÂêçËøô‰∫õËäÇÁÇπÂ∞ÜhashÂú®ÔºàÂΩìÂâç‰∏ãÊ†á + oldCapÔºâ‰∏ã // ‰∏çÊáÇÁöÑÂèØ‰ª•Âú®ÊÄùËÄÉü§î‰∏Ä‰∏ã,‰ΩøÁî®ËøôÁßçÊìç‰ΩúÔºåÂèØ‰ª•ÂáèÂ∞ëÈáçÊñ∞HashËÆ°ÁÆó if ((e.hash &amp; oldCap) == 0) &#123; if (loTail == null) loHead = e; else loTail.next = e; loTail = e; &#125; else &#123; if (hiTail == null) hiHead = e; else hiTail.next = e; hiTail = e; &#125; &#125; while ((e = next) != null); if (loTail != null) &#123; loTail.next = null; newTab[j] = loHead; &#125; if (hiTail != null) &#123; hiTail.next = null; newTab[j + oldCap] = hiHead; &#125; &#125; &#125; &#125; &#125; // //ËøîÂõûÊñ∞Êï∞ÁªÑÁöÑÂºïÁî® return newTab;&#125; Âà†123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263//Âà†Èô§keyÂØπÂ∫îÁöÑÈîÆÂÄºÂØπpublic V remove(Object key) &#123; Node&lt;K,V&gt; e; return (e = removeNode(hash(key), key, null, false, true)) == null ? null : e.value;&#125;// Âà†Èô§ËäÇÁÇπ// ÂèÇÊï∞hash‰∏∫keyÁöÑhashÂÄº;// ÂèÇÊï∞key‰∏∫Ë¶ÅÂà†Èô§ÁöÑkeyÈîÆ;// ÂèÇÊï∞value‰∏∫keyÂØπÂ∫îÁöÑvalue;// ÂèÇÊï∞matchValue‰∏∫trueË°®ÊòéÂè™ÊúâkeyÂú®HashMap‰∏≠ÂØπÂ∫îÂÄº‰∏∫valueÊó∂ÊâçÂà†Èô§; ‰∏∫falseË°®Á§∫Âº∫Âà∂Âà†Èô§;final Node&lt;K,V&gt; removeNode(int hash, Object key, Object value, boolean matchValue, boolean movable) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, index; // Âú®table‰∏≠Êü•ÊâæÂØπÂ∫îhashÂÄº if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (p = tab[index = (n - 1) &amp; hash]) != null) &#123; Node&lt;K,V&gt; node = null, e; K k; V v; // ÂΩìÂ§¥ËäÇÁÇπÂ∞±ÂåπÈÖçÂà∞‰∫Ü if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) node = p; else if ((e = p.next) != null) &#123; // Â¶ÇÊûúÂ§¥ËäÇÁÇπÊòØ‰∏™Ê†ëËäÇÁÇπ if (p instanceof TreeNode) // ‰ªéÁ∫¢ÈªëÊ†ë‰∏≠ÊâæÂèñËäÇÁÇπ node = ((TreeNode&lt;K,V&gt;)p).getTreeNode(hash, key); else &#123; // ‰ªéÈìæË°®‰∏≠ÊâæÂèñËäÇÁÇπ do &#123; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) &#123; node = e; break; &#125; p = e; &#125; while ((e = e.next) != null); &#125; &#125; // ÂåπÈÖçÊâæÂà∞ÁöÑËäÇÁÇπÁöÑÂÄº if (node != null &amp;&amp; (!matchValue || (v = node.value) == value || (value != null &amp;&amp; value.equals(v)))) &#123; // Ê†ë‰∏≠ if (node instanceof TreeNode) ((TreeNode&lt;K,V&gt;)node).removeTreeNode(this, tab, movable); else if (node == p) // È¶ñËäÇÁÇπ tab[index] = node.next; else // ÈìæË°®‰∏≠ p.next = node.next; ++modCount; --size; afterNodeRemoval(node); // ËøîÂõûÂà†Èô§ÁöÑËäÇÁÇπ return node; &#125; &#125; return null;&#125; ÊîπÊîπÂèòÂØπÂ∫îkeyÁöÑÂÄº1234567891011121314151617181920212223242526272829303132333435public boolean replace(K key, V oldValue, V newValue) &#123; Node&lt;K,V&gt; e; V v; // Ê†πÊçÆkeyÊâæÂá∫ËäÇÁÇπ if ((e = getNode(hash(key), key)) != null &amp;&amp; ((v = e.value) == oldValue || (v != null &amp;&amp; v.equals(oldValue)))) &#123; e.value = newValue; afterNodeAccess(e); return true; &#125; return false;&#125;final Node&lt;K,V&gt; getNode(int hash, Object key) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k; // ÊâæÂá∫Ê°∂ÁöÑÂ§¥ÁªìÁÇπ if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (first = tab[(n - 1) &amp; hash]) != null) &#123; // Âà§Êñ≠Â§¥ËäÇÁÇπ if (first.hash == hash &amp;&amp; // always check first node ((k = first.key) == key || (key != null &amp;&amp; key.equals(k)))) return first; if ((e = first.next) != null) &#123; // Âú®Ê†ë‰∏≠Êâæ if (first instanceof TreeNode) return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key); // Âú®ÈìæË°®‰∏≠Êâæ do &#123; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; &#125; while ((e = e.next) != null); &#125; &#125; return null;&#125; Êü•Ê†πÊçÆkeyÊü•ÊâæÂÄº12345public V get(Object key) &#123; Node&lt;K,V&gt; e; // ËøôÈáåÁöÑgetNodeÂíå‰∏äÈù¢Ëß£ÊûêÁöÑ‰∏ÄÊ†∑ return (e = getNode(hash(key), key)) == null ? null : e.value;&#125; ÂèÇËÄÉ HashMapÊ∫êÁ†ÅÊ≥®Ëß£ ‰πã ÈùôÊÄÅÂ∑•ÂÖ∑ÊñπÊ≥ïhash()„ÄÅtableSizeFor()ÔºàÂõõÔºâ HashMap‰∏≠ÁöÑhashÂáΩÊï∞ Âº∫Êé®üëçÔºöJavaÊ∫êÁ†ÅÂàÜÊûêÔºöÂÖ≥‰∫é HashMap 1.8 ÁöÑÈáçÂ§ßÊõ¥Êñ∞]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>HashMap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîArrayList]]></title>
    <url>%2F2018%2F09%2F02%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2FJDK%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E2%80%94%E2%80%94ArrayList%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂ§ßÂÆ∂Âú®ÈõÜÂêàÊ°ÜÊû∂‰∏≠Áî®ÁöÑÊúÄÂ§ö‰∏ÄÂÆöÊòØArrayListÂêßÔºå‰ªäÂ§©Êàë‰ª¨Â∞±Êù•‰∏ÄÊé¢Á©∂Á´üÔºÅ ËØ¶ÁªÜÊ≥®ÈáäÔºöÊ∫êÁ†ÅÂàÜÊûêÂú∞ÂùÄ Ê¶ÇËßàArrayListÊòØÂü∫‰∫éÂèØÂèòÊï∞ÁªÑÂÆûÁé∞‰∫ÜÔºåÂÖÅËÆ∏ÂåÖÊã¨ null Âú®ÂÜÖÁöÑÊâÄÊúâÂÖÉÁ¥†„ÄÇ ÊØè‰∏™ ArrayList ÂÆû‰æãÈÉΩÊúâ‰∏Ä‰∏™ÂÆπÈáè„ÄÇËØ•ÂÆπÈáèÊòØÊåáÁî®Êù•Â≠òÂÇ®ÂàóË°®ÂÖÉÁ¥†ÁöÑÊï∞ÁªÑÁöÑÂ§ßÂ∞è„ÄÇÂÆÉÊÄªÊòØËá≥Â∞ëÁ≠â‰∫éÂàóË°®ÁöÑÂ§ßÂ∞è„ÄÇÈöèÁùÄÂêë ArrayList ‰∏≠‰∏çÊñ≠Ê∑ªÂä†ÂÖÉÁ¥†ÔºåÂÖ∂ÂÆπÈáè‰πüËá™Âä®Â¢ûÈïø„ÄÇ Âú®Ê∑ªÂä†Â§ßÈáèÂÖÉÁ¥†ÂâçÔºåÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•‰ΩøÁî® ensureCapacity Êìç‰ΩúÊù•Â¢ûÂä† ArrayList ÂÆû‰æãÁöÑÂÆπÈáè„ÄÇËøôÂèØ‰ª•ÂáèÂ∞ëÈÄíÂ¢ûÂºèÂÜçÂàÜÈÖçÁöÑÊï∞Èáè„ÄÇ Ê≥®ÊÑèÔºö Ê≠§ÂÆûÁé∞‰∏çÊòØÂêåÊ≠•ÁöÑ„ÄÇÂ¶ÇÊûúÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËÆøÈóÆ‰∏Ä‰∏™ ArrayList ÂÆû‰æãÔºåËÄåÂÖ∂‰∏≠Ëá≥Â∞ë‰∏Ä‰∏™Á∫øÁ®ã‰ªéÁªìÊûÑ‰∏ä‰øÆÊîπ‰∫ÜÂàóË°®ÔºåÈÇ£‰πàÂÆÉÂøÖÈ°ª‰øùÊåÅÂ§ñÈÉ®ÂêåÊ≠•„ÄÇÔºàÁªìÊûÑ‰∏äÁöÑ‰øÆÊîπÊòØÊåá‰ªª‰ΩïÊ∑ªÂä†ÊàñÂà†Èô§‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÖÉÁ¥†ÁöÑÊìç‰ΩúÔºåÊàñËÄÖÊòæÂºèË∞ÉÊï¥Â∫ïÂ±ÇÊï∞ÁªÑÁöÑÂ§ßÂ∞èÔºõ‰ªÖ‰ªÖËÆæÁΩÆÂÖÉÁ¥†ÁöÑÂÄº‰∏çÊòØÁªìÊûÑ‰∏äÁöÑ‰øÆÊîπ„ÄÇÔºâËøô‰∏ÄËà¨ÈÄöËøáÂØπËá™ÁÑ∂Â∞ÅË£ÖËØ•ÂàóË°®ÁöÑÂØπË±°ËøõË°åÂêåÊ≠•Êìç‰ΩúÊù•ÂÆåÊàê„ÄÇÂ¶ÇÊûú‰∏çÂ≠òÂú®ËøôÊ†∑ÁöÑÂØπË±°ÔºåÂàôÂ∫îËØ•‰ΩøÁî® Collections.synchronizedList ÊñπÊ≥ïÂ∞ÜËØ•ÂàóË°®‚ÄúÂåÖË£Ö‚ÄùËµ∑Êù•„ÄÇËøôÊúÄÂ•ΩÂú®ÂàõÂª∫Êó∂ÂÆåÊàêÔºå‰ª•Èò≤Ê≠¢ÊÑèÂ§ñÂØπÂàóË°®ËøõË°å‰∏çÂêåÊ≠•ÁöÑËÆøÈóÆ„ÄÇ Ê≠§Á±ªÁöÑ iterator Âíå listIterator ÊñπÊ≥ïËøîÂõûÁöÑËø≠‰ª£Âô®ÊòØÂø´ÈÄüÂ§±Ë¥•ÁöÑÔºöÂú®ÂàõÂª∫Ëø≠‰ª£Âô®‰πãÂêéÔºåÈô§ÈùûÈÄöËøáËø≠‰ª£Âô®Ëá™Ë∫´ÁöÑ remove Êàñ add ÊñπÊ≥ï‰ªéÁªìÊûÑ‰∏äÂØπÂàóË°®ËøõË°å‰øÆÊîπÔºåÂê¶ÂàôÂú®‰ªª‰ΩïÊó∂Èó¥‰ª•‰ªª‰ΩïÊñπÂºèÂØπÂàóË°®ËøõË°å‰øÆÊîπÔºåËø≠‰ª£Âô®ÈÉΩ‰ºöÊäõÂá∫ ConcurrentModificationException„ÄÇ ArrayList‰ªéÁ±ª java.util.AbstractList ÁªßÊâø‰∫ÜÂ≠óÊÆµ modCountÔºåÂú®ËøõË°åÂ∫èÂàóÂåñÊàñËÄÖËø≠‰ª£Á≠âÊìç‰ΩúÊó∂ÔºåÈúÄË¶ÅÊØîËæÉÊìç‰ΩúÂâçÂêé modCount ÊòØÂê¶ÊîπÂèòÔºåÂ¶ÇÊûúÊîπÂèò‰∫ÜÈúÄË¶ÅÊäõÂá∫ ConcurrentModificationException„ÄÇ ÊûÑÈÄ†12345678910111213// ÈªòËÆ§Êï∞ÁªÑÂàùÂßãÂ§ßÂ∞è‰∏∫10private static final int DEFAULT_CAPACITY = 10;public ArrayList(int initialCapacity) &#123; if (initialCapacity &gt; 0) &#123; this.elementData = new Object[initialCapacity]; &#125; else if (initialCapacity == 0) &#123; // ËøîÂõûÁ©∫Êï∞ÁªÑ this.elementData = EMPTY_ELEMENTDATA; &#125; else &#123; throw new IllegalArgumentException("Illegal Capacity: " + initialCapacity); &#125;&#125; Â¢û1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// Êñ∞Â¢ûÂÖÉÁ¥†public boolean add(E e) &#123; // Á°Æ‰øùÂÆπÈáèË∂≥Â§ü ensureCapacityInternal(size + 1); // Increments modCount!! elementData[size++] = e; return true;&#125;private void ensureCapacityInternal(int minCapacity) &#123; // Â¶ÇÊûúÊòØÈªòËÆ§ÂàõÂª∫ÁöÑÊï∞ÁªÑÔºåÂàôÂíåÂÆπÈáèÈªòËÆ§ÂÄºÊØîËæÉ if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123; minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity); &#125; // Á°Æ‰øùÂÆπÈáèË∂≥Â§ü ensureExplicitCapacity(minCapacity);&#125;private void ensureExplicitCapacity(int minCapacity) &#123; // ‰øÆÊîπÊìç‰ΩúÂä†1 modCount++; // overflow-conscious code // Â¶ÇÊûúÈúÄË¶ÅÁöÑÂÆπÈáèÊØîÊï∞ÁªÑÈïøÂ∫¶Â§ßÔºåÂàôËøõË°åÊâ©ÂÆπ if (minCapacity - elementData.length &gt; 0) grow(minCapacity);&#125;private void grow(int minCapacity) &#123; // overflow-conscious code // Êñ∞ÂÆπÈáèÂ∞Ü‰ΩøÂéüÊù•ÁöÑ1.5ÂÄç int oldCapacity = elementData.length; int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); // 1.5ÂÄçËøò‰∏çÂ§üÁöÑËØùÔºåÂ∞±Â∞ÜÂÆπÈáèËÆæÁΩÆ‰∏∫ÈúÄË¶ÅÁöÑÂ§ßÂ∞è if (newCapacity - minCapacity &lt; 0) newCapacity = minCapacity; // Â¶ÇÊûúÊñ∞ÂÆπÈáèÊØîÊúÄÂ§ßÁöÑÊï∞ÁªÑÂÆπÈáèÔºàInteger.MAX_VALUE - 8;ÔºâËøòË¶ÅÂ§ßÔºåÂàôÂàõÂª∫Êõ¥Â§ßÁöÑÂÆπÈáèÔºàInteger.MAX_VALUEÔºâ if (newCapacity - MAX_ARRAY_SIZE &gt; 0) newCapacity = hugeCapacity(minCapacity); // minCapacity is usually close to size, so this is a win: // Arrays.copyOf() ÊòØÊääÂéüÊï∞ÁªÑÊï¥‰∏™Â§çÂà∂Âà∞Êñ∞Êï∞ÁªÑÔºåËøô‰∏™‰ª£‰ª∑ÂæàÈ´ò // Âõ†Ê≠§ÊúÄÂ•ΩÂú®ÂàõÂª∫ ArrayList ÂØπË±°Êó∂Â∞±ÊåáÂÆöÂ§ßÊ¶ÇÁöÑÂÆπÈáèÂ§ßÂ∞èÔºåÂáèÂ∞ëÊâ©ÂÆπÊìç‰ΩúÁöÑÊ¨°Êï∞ elementData = Arrays.copyOf(elementData, newCapacity);&#125;private static int hugeCapacity(int minCapacity) &#123; if (minCapacity &lt; 0) // overflow throw new OutOfMemoryError(); return (minCapacity &gt; MAX_ARRAY_SIZE) ? Integer.MAX_VALUE : MAX_ARRAY_SIZE;&#125; Âà†Âà†Èô§ÈúÄË¶ÅÂ∞Ü index+1 ÂêéÈù¢ÁöÑÂÖÉÁ¥†ÈÉΩÂ§çÂà∂Âà∞ index ‰ΩçÁΩÆ‰∏äÔºåËØ•Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫ O(N)ÔºåÊâÄ‰ª•ArrayList Âà†Èô§ÂÖÉÁ¥†ÁöÑ‰ª£‰ª∑ÊòØÈùûÂ∏∏È´òÁöÑ„ÄÇ123456789101112131415161718public E remove(int index) &#123; // È™åËØÅindexÊòØÂê¶Ë∂ÖÂá∫sizeÂ§ßÂ∞è rangeCheck(index); modCount++; // ÊãøÂà∞ÂÄº E oldValue = elementData(index); // ÁªüËÆ°Ë¶ÅÁßªÂä®ÁöÑ‰ΩçÊï∞ int numMoved = size - index - 1; if (numMoved &gt; 0) // Ë∞ÉÁî®Á≥ªÁªüÊñπÊ≥ïÂºÄÂßãÊã∑Ë¥ù System.arraycopy(elementData, index+1, elementData, index, numMoved); // Âç≥Êó∂ÊîæÂºÄÂºïÁî®ÔºåÁ≠âÂæÖGC elementData[--size] = null; // clear to let GC do its work // ËøîÂõûË¢´Âà†Èô§ÁöÑÂÖÉÁ¥† return oldValue;&#125; Êîπ12345678910public E set(int index, E element) &#123; // È™åËØÅindexÊòØÂê¶Ë∂ÖÂá∫sizeÂ§ßÂ∞è rangeCheck(index); // ÊãøÂá∫ÂéüÂÄº E oldValue = elementData(index); // ËÆæÁΩÆÊñ∞ÂÄº elementData[index] = element; // ËøîÂõûË¢´ÊõøÊç¢ÁöÑÂÄº return oldValue;&#125; Êü•12345678910public E get(int index) &#123; // È™åËØÅindexÊòØÂê¶Ë∂ÖÂá∫sizeÂ§ßÂ∞è rangeCheck(index); return elementData(index);&#125;E elementData(int index) &#123; // ÊãøÂá∫ÂÄº return (E) elementData[index];&#125; Â∫èÂàóÂåñArrayList Âü∫‰∫éÊï∞ÁªÑÂÆûÁé∞ÔºåÂπ∂‰∏îÂÖ∑ÊúâÂä®ÊÄÅÊâ©ÂÆπÁâπÊÄßÔºåÂõ†Ê≠§‰øùÂ≠òÂÖÉÁ¥†ÁöÑÊï∞ÁªÑ‰∏ç‰∏ÄÂÆöÈÉΩ‰ºöË¢´‰ΩøÁî®ÔºåÈÇ£‰πàÂ∞±Ê≤°ÂøÖË¶ÅÂÖ®ÈÉ®ËøõË°åÂ∫èÂàóÂåñ„ÄÇ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// ‰øùÂ≠òÂÖÉÁ¥†ÁöÑÊï∞ÁªÑ elementData ‰ΩøÁî® transient ‰øÆÈ•∞ÔºåËØ•ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÊï∞ÁªÑÈªòËÆ§‰∏ç‰ºöË¢´Â∫èÂàóÂåñtransient Object[] elementData;// Â∫èÂàóÂåñprivate void writeObject(java.io.ObjectOutputStream s) throws java.io.IOException&#123; // Write out element count, and any hidden stuff // ËÆ∞ÂΩï‰øÆÊîπÊ¨°Êï∞ÔºåÂêéÈù¢ÂèØ‰ª•Ê†πÊçÆ‰ªñÂà§Êñ≠ÁªìÊûÑÊòØÂê¶ÂèëÁîü‰∫ÜÂèòÂåñ int expectedModCount = modCount; // ÂÜôÂÖ•ÈùûÈùôÊÄÅÔºåÈùûÊöÇÊó∂Êï∞ÊçÆÂà∞ÊµÅ‰∏≠ s.defaultWriteObject(); // Write out size as capacity for behavioural compatibility with clone() // ÂÜôÂÖ•ÂÖÉÁ¥†‰∏™Êï∞ s.writeInt(size); // Write out all elements in the proper order. // ÂÜôÂÖ•ÂÖÉÁ¥† for (int i=0; i&lt;size; i++) &#123; s.writeObject(elementData[i]); &#125; // ÊØîËæÉÊìç‰ΩúÂâçÂêé modCount ÊòØÂê¶ÊîπÂèòÔºåÂ¶ÇÊûúÊîπÂèò‰∫ÜÈúÄË¶ÅÊäõÂá∫ ConcurrentModificationException„ÄÇ if (modCount != expectedModCount) &#123; throw new ConcurrentModificationException(); &#125;&#125;// ÂèçÂ∫èÂàóÂåñprivate void readObject(java.io.ObjectInputStream s) throws java.io.IOException, ClassNotFoundException &#123; elementData = EMPTY_ELEMENTDATA; // Read in size, and any hidden stuff s.defaultReadObject(); // Read in capacity s.readInt(); // ignored if (size &gt; 0) &#123; // be like clone(), allocate array based upon size not capacity ensureCapacityInternal(size); Object[] a = elementData; // Read in all elements in the proper order. for (int i=0; i&lt;size; i++) &#123; a[i] = s.readObject(); &#125; &#125;&#125;]]></content>
      <categories>
        <category>JDKÊ∫êÁ†ÅÂàÜÊûê</category>
      </categories>
      <tags>
        <tag>ArrayList</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RPCÁü•ËØÜ]]></title>
    <url>%2F2018%2F08%2F10%2F%E5%BE%AE%E6%9C%8D%E5%8A%A1%2FRPC%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöËΩ¨Ëá™ÂæêÈùñÂ≥∞|‰∏™‰∫∫ÂçöÂÆ¢ÁöÑRPC‰∏ìÊ†èÔºå‰∫ÜËß£Ëøô‰∫õÊâçËÉΩÂéªÁúãÁúãRPCÊ°ÜÊû∂ÔºÅÔºÅÔºÅ RPCÁ≥ªÂàóÂçöÂÆ¢ ÁÆÄÂçï‰∫ÜËß£RPCÂÆûÁé∞ÂéüÁêÜ Ê∑±ÂÖ•ÁêÜËß£RPC‰πãÂ∫èÂàóÂåñÁØá‚ÄìKryo Ê∑±ÂÖ•ÁêÜËß£RPC‰πãÂ∫èÂàóÂåñÁØá‚ÄìÊÄªÁªìÁØá Ê∑±ÂÖ•ÁêÜËß£RPC‰πãÂä®ÊÄÅ‰ª£ÁêÜÁØá Ê∑±ÂÖ•ÁêÜËß£ RPC ‰πã‰º†ËæìÁØá Motan‰∏≠‰ΩøÁî®ÂºÇÊ≠•RPCÊé•Âè£ Ê∑±ÂÖ•ÁêÜËß£RPC‰πãÂçèËÆÆÁØá Ê∑±ÂÖ•ÁêÜËß£RPC‰πãÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞ÁØá Ê∑±ÂÖ•ÁêÜËß£ RPC ‰πãÈõÜÁæ§ÁØá ËÆæËÆ°RPCÊé•Âè£Êó∂Ôºå‰Ω†ÊúâËÄÉËôëËøáËøô‰∫õÂêóÔºü ÁÆÄÂçïRPCÂèØ‰ª•ÂèÇËÄÉtodorex/rex_rpc]]></content>
      <categories>
        <category>ÂæÆÊúçÂä°</category>
      </categories>
      <tags>
        <tag>rpc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NettyÊ∫êÁ†Å‰πãÁºñÁ†ÅÂô®]]></title>
    <url>%2F2018%2F08%2F06%2FNetty%E6%BA%90%E7%A0%81%2FNetty%E6%BA%90%E7%A0%81%E4%B9%8B%E7%BC%96%E7%A0%81%E5%99%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∏ä‰∏ÄÁØáÂçöÊñáËÆ≤‰∫ÜËß£Á†ÅÂô®ÂØπÂ∫î‰∫ÜËØª‰∫ã‰ª∂ÔºåËøôÊ¨°Â∞±ËÆ≤‰∏Ä‰∏ãÁºñÁ†ÅÂô®ÔºåÂØπÂ∫î‰∫ÜÂÜô‰∫ã‰ª∂„ÄÇ ÁºñÁ†ÅÂô®Âü∫Á±ªÂú®Netty‰∏≠Ëß£Á†ÅÂô®ÁöÑÂü∫Á±ªÊòØMessageToByteEncoder ÔºåÁÑ∂ÂêéÊàë‰ª¨Ë¶ÅÊòéÁôΩÁöÑÊòØMessageToByteEncoderÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™ChannelOutboundHandlerAdapter„ÄÇ Êàë‰ª¨Âú®‰ΩøÁî®ÁöÑËøáÁ®ã‰∏≠‰∏ªË¶ÅÂ∞±ÊòØË¶ÜÂÜôÂÆÉÁöÑencodeÊñπÊ≥ïÔºö 1protected abstract void encode(ChannelHandlerContext ctx, I msg, ByteBuf out) throws Exception; ‰∏Ä‰∏™ÁºñÁ†ÅÂô®ÁºñÁ†ÅÁöÑËøáÁ®ã‰∏ªË¶ÅÊúâÂ¶Ç‰∏ã6‰∏™Ê≠•È™§Ôºö ÂåπÈÖçÂØπË±° ÂàÜÈÖçÂÜÖÂ≠ò ÁºñÁ†ÅÂÆûÁé∞ ÈáäÊîæÂØπË±° ‰º†Êí≠Êï∞ÊçÆ ÈáäÊîæÂÜÖÂ≠ò ÂΩìÊàë‰ª¨Áü•ÈÅìMessageToByteEncoderÊòØ‰∏Ä‰∏™HandlerÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Â∞±‰ºöÂéªÊâæÂÆÉÂØπ‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÊñπÊ≥ïÔºå‰∏ªË¶ÅÊòØÂÜô‰∫ã‰ª∂ÔºåÊâÄ‰ª•Êàë‰ª¨ÊâæÂà∞ÂÜô‰∫ã‰ª∂Â§ÑÁêÜÊñπÊ≥ïÔºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// step 1public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception &#123; ByteBuf buf = null; try &#123; // Âà§Êñ≠ÊòØÂê¶ËÉΩÂ§üÂ§ÑÁêÜËØ•ÂØπË±° // step 2 if (acceptOutboundMessage(msg)) &#123; // ËÉΩÂ§ÑÁêÜ I cast = (I) msg; // ÂÜÖÂ≠òÂàÜÈÖç(ÈªòËÆ§ÂàÜÈÖçÂ†ÜÂ§ñÂÜÖÂ≠ò ) buf = allocateBuffer(ctx, cast, preferDirect); try &#123; // ÂºÄÂßãË∞ÉÁî®Êàë‰ª¨Ë¶ÜÂÜôÁöÑencodeÊñπÊ≥ï‰∫Ü encode(ctx, cast, buf); &#125; finally &#123; // ÈáäÊîæÂØπË±° ReferenceCountUtil.release(cast); &#125; if (buf.isReadable()) &#123; // ‰º†Êí≠Êï∞ÊçÆÔºå‰∏ÄÁõ¥‰º†Êí≠Âà∞headËäÇÁÇπÂ§ÑÁêÜ ctx.write(buf, promise); &#125; else &#123; // Â¶ÇÊûúÁºñÁ†ÅÊ≤°ÊúâÊàêÂäüÔºåÂàôÊòØÂê¶ÂÜÖÂ≠ò buf.release(); ctx.write(Unpooled.EMPTY_BUFFER, promise); &#125; buf = null; &#125; else &#123; // ‰∏çËÉΩÂ§ÑÁêÜÔºåÂàôÁªßÁª≠‰º†Êí≠ ctx.write(msg, promise); &#125; &#125; catch(EncoderException e) &#123; throw e; &#125; catch(Throwable e) &#123; throw new EncoderException(e); &#125; finally &#123; if (buf != null) &#123; buf.release(); &#125; &#125;&#125;// step 2private final TypeParameterMatcher matcher;public boolean acceptOutboundMessage(Object msg) throws Exception &#123; // step 3 return matcher.match(msg);&#125;// step 3public boolean match(Object msg) &#123; // ‰∏ªË¶ÅÂ∞±ÊòØÂà§Êñ≠msgÊòØÂê¶ÊòØMessageToByteEncoder&lt;I&gt;‰∏≠ÁöÑIÁ±ªÂûã return type.isInstance(msg);&#125; write()‰πãÂâçËá™Â∑±Âú®ChannelPipelineÈÇ£Á´†ÂàÜÊûêÂà∞HeadContextÁöÑwriteÊñπÊ≥ïÔºåÊ≤°ÊúâÁªßÁª≠ÂæÄ‰∏ãÂàÜÊûêÔºåÊàë‰ª¨Âú®ËøôÈáåÂàÜÊûêÔºö ÂÆÉ‰∏ªË¶ÅÊúâËøô‰πàÂá†‰∏™ËøáÁ®ãÔºö directÂåñByteBuf ÊèíÂÖ•ÂÜôÈìæË°® ËÆæÁΩÆÂÜôÁä∂ÊÄÅ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101// step 1public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception &#123; // step 2 unsafe.write(msg, promise);&#125;// step 2public final void write(Object msg, ChannelPromise promise) &#123; // ËØ•ÂØπË±°Ë¥üË¥£ÁºìÂÜ≤ÂÜôËøõÊù•ÁöÑÊï∞ÊçÆ ‰º∞ÁÆóÂá∫ÈúÄË¶ÅÂÜôÂÖ•ÁöÑByteBufÁöÑsize outboundBuffer = this.outboundBuffer; // ... int size; try &#123; // Â∞ÜÂæÖÂÜôÂÖ•ÁöÑÂØπË±°ËøáÊª§,ÊääÊâÄÊúâÁöÑÈùûÁõ¥Êé•ÂÜÖÂ≠òËΩ¨Êç¢ÊàêÁõ¥Êé•ÂÜÖÂ≠òDirectBuffer // step 3 msg = filterOutboundMessage(msg); // ‰º∞ÁÆóÂá∫ÈúÄË¶ÅÂÜôÂÖ•ÁöÑByteBufÁöÑsize size = pipeline.estimatorHandle().size(msg); if (size &lt; 0) &#123; size = 0; &#125; &#125; catch(Throwable t) &#123; safeSetFailure(promise, t); ReferenceCountUtil.release(msg); return; &#125; // Â∞Ü‰ø°ÊÅØÊ∑ªÂä†Âà∞‰º∞ÁÆóÂá∫ÈúÄË¶ÅÂÜôÂÖ•ÁöÑByteBufÁöÑsize // step 4 outboundBuffer.addMessage(msg, size, promise);&#125;// step 3protected final Object filterOutboundMessage(Object msg) &#123; if (msg instanceof ByteBuf) &#123; ByteBuf buf = (ByteBuf) msg; if (buf.isDirect()) &#123; return msg; &#125; // ËΩ¨Êç¢ÊàêÁõ¥Êé•ÂÜÖÂ≠òDirectBuffer return newDirectBuffer(buf); &#125; if (msg instanceof FileRegion) &#123; return msg; &#125;&#125;// step 4 ChannelOutboundBuffer// ‰∏Ä‰∏™ÈìæË°®// Entry(flushedEntry) --&gt; ... Entry(unflushedEntry) --&gt; ... Entry(tailEntry)//// ÊåáÂêëÁ¨¨‰∏Ä‰∏™Â∑≤ÁªèflushÁöÑËäÇÁÇπprivate Entry flushedEntry;// ÊåáÂêëÁ¨¨‰∏Ä‰∏™Êú™flushÁöÑËäÇÁÇπprivate Entry unflushedEntry;// ÊåáÂêëÊú´Â∞æËäÇÁÇπprivate Entry tailEntry;public void addMessage(Object msg, int size, ChannelPromise promise) &#123; // ÂÖ≥Ê≥®Ëøô‰∏â‰∏™ÊåáÈíàtailEntry„ÄÅtailEntry„ÄÅunflushedEntry // ÂÖàÂåÖË£ÖÊàê‰∏Ä‰∏™Entry Entry entry = Entry.newInstance(msg, size, total(msg), promise); // ÊèíÂÖ•ÈìæË°® if (tailEntry == null) &#123; flushedEntry = null; &#125; else &#123; Entry tail = tailEntry; tail.next = entry; &#125; tailEntry = entry; if (unflushedEntry == null) &#123; unflushedEntry = entry; &#125; // ÁªüËÆ°ÂΩìÂâçÈúÄË¶ÅÂÜôÂÖ•Âà∞SocketÁºìÂ≠òÂå∫ÁöÑÂ≠óËäÇ // step 5 incrementPendingOutboundBytes(entry.pendingSize, false);&#125;// step 5private void incrementPendingOutboundBytes(long size, boolean invokeLater) &#123; if (size == 0) &#123; return; &#125; long newWriteBufferSize = TOTAL_PENDING_SIZE_UPDATER.addAndGet(this, size); // ÈªòËÆ§ÁºìÂÜ≤Âå∫‰∏çËÉΩË∂ÖËøá64‰∏™Â≠óËäÇ if (newWriteBufferSize &gt; channel.config().getWriteBufferHighWaterMark()) &#123; // ËÆæÁΩÆÂÜôÁä∂ÊÄÅ setUnwritable(invokeLater); &#125;&#125;// step 6private void setUnwritable(boolean invokeLater) &#123; for (;;) &#123; final int oldValue = unwritable; final int newValue = oldValue | 1; if (UNWRITABLE_UPDATER.compareAndSet(this, oldValue, newValue)) &#123; if (oldValue == 0 &amp;&amp; newValue != 0) &#123; // ‰º†Êí≠‰∏çËÉΩÂÜô‰∫ã‰ª∂ fireChannelWritabilityChanged(invokeLater); &#125; break; &#125; &#125;&#125; flush()write‰∏çËÉΩÂÜô‰∫ÜÂ∞±ÈúÄË¶Åflush‰∫ÜÔºåÊàë‰ª¨ÂêåÊ†∑‰πü‰ªéHeadContextÁöÑflushÊñπÊ≥ïÂºÄÂßãÂàÜÊûêÔºö ÂÆÉ‰∏ªË¶ÅÊúâËøô‰πàÂá†‰∏™Ê≠•È™§Ôºö Ê∑ªÂä†Âà∑Êñ∞Ê†áÂøóÂπ∂ËÆæÁΩÆÂÜôÁä∂ÊÄÅ ÈÅçÂéÜbufferÈòüÂàóÔºåËøáÊª§ByteBuf Ë∞ÉÁî®JDKÂ∫ïÂ±ÇÁöÑAPIËøõË°åËá™ÊóãÂÜô 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113// step 1public void flush(ChannelHandlerContext ctx) throws Exception &#123; // step 2 unsafe.flush();&#125;// step 2public final void flush() &#123; ChannelOutboundBuffer outboundBuffer = this.outboundBuffer; // step 3 outboundBuffer.addFlush(); // step 5 flush0();&#125;// step 3public void addFlush() &#123; // ÊåáÂêëunflushedEntry Entry entry = unflushedEntry; if (entry != null) &#123; if (flushedEntry == null) &#123; flushedEntry = entry; &#125; do &#123; // ËÆæÁΩÆflushÁöÑÊï∞Èáè flushed++; if (!entry.promise.setUncancellable()) &#123; int pending = entry.cancel(); // step 4 decrementPendingOutboundBytes(pending, false, true); &#125; entry = entry.next; &#125; while ( entry != null ); // Â∞ÜunflushedEntryËÆæÁΩÆ‰∏∫null unflushedEntry = null; &#125;&#125;// step 4private void decrementPendingOutboundBytes(long size, boolean invokeLater, boolean notifyWritability) &#123; long newWriteBufferSize = TOTAL_PENDING_SIZE_UPDATER.addAndGet(this, -size); // ÈªòËÆ§ÁºìÂÜ≤Âå∫‰Ωé‰∫é32‰∏™Â≠óËäÇÔºåÂàôÂèØËÆæÁΩÆÂèØÂÜô if (notifyWritability &amp;&amp; newWriteBufferSize &lt; channel.config().getWriteBufferLowWaterMark()) &#123; // ËÆæÁΩÆÂèØÂÜôÁä∂ÊÄÅ setWritable(invokeLater); &#125;&#125;// step 5protected void flush0() &#123; final ChannelOutboundBuffer outboundBuffer = this.outboundBuffer; if (outboundBuffer == null || outboundBuffer.isEmpty()) &#123; return; &#125; // ... // step 6 doWrite(outboundBuffer);&#125;// step 6 NioSocketChannelprotected void doWrite(ChannelOutboundBuffer in) throws Exception &#123; // ÊãøÂà∞Â∫ïÂ±ÇÁöÑSocketChannelÂáÜÂ§áÂºÄÂßãÂ∫ïÂ±ÇÁöÑÊìç‰Ωú SocketChannel ch = javaChannel(); // Ëé∑ÂèñÂæ™ÁéØÊ¨°Êï∞ÔºåÁõ∏ÂΩì‰∫é‰∏Ä‰∏™Ëá™ÊóãÈîÅÔºåÈªòËÆ§16 int writeSpinCount = config().getWriteSpinCount(); do &#123; // Â¶ÇÊûúbufferÈáåÁ©∫ÁöÑ if ( in .isEmpty()) &#123; // Ê∏ÖÁêÜOP_WRITEÔºåÈò≤Ê≠¢ReacotrÁ∫øÁ®ãÂÜçÊ¨°Â§ÑÁêÜËøô‰∏™Channel clearOpWrite(); return; &#125; // Ëé∑ÂèñËÅöÂêàÂÜôÁöÑÊúÄÂ§ßÂ≠óËäÇÊï∞ÔºåÈªòËÆ§Integer.MAX_VALUE int maxBytesPerGatheringWrite = ((NioSocketChannelConfig) config).getMaxBytesPerGatheringWrite(); // ÊääByteBufÈáåÁöÑÊï∞ÊçÆÂÜôÂà∞ÂéüÁîüBufferÈáå // step 7 ByteBuffer[] nioBuffers = in.nioBuffers(1024, maxBytesPerGatheringWrite); int nioBufferCnt = in.nioBufferCount(); // ÂØπÈùûBufferÂØπË±°ÔºàFileRegionÔºâÁöÑÊï∞ÊçÆËøõË°åÊôÆÈÄöÁöÑËØªÂÜô switch (nioBufferCnt) &#123; case 0: // Ê≤°ÊàêÂäüÔºåËá™Êóã‰∏ÄÊ¨° writeSpinCount -= doWrite0( in ); break; case 1: // JDK NIO ÊîØÊåÅ‰∏ÄÊ¨°ÂÜôÂçï‰∏™ByteBuffer ‰ª•Âèä ‰∏ÄÊ¨°ÂÜôÂ§ö‰∏™ByteBufferÁöÑËÅöÈõÜÂÜôÊ®°Âºè // Â¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™bufferÁöÑÊÉÖÂÜµ‰∏ãÔºåÁõ¥Êé•ÊääËøô‰∏™bufferÂÜôËøõÂéª ByteBuffer buffer = nioBuffers[0]; int attemptedBytes = buffer.remaining(); // Ë∞ÉÁî®JDKÂ∫ïÂ±ÇÁöÑAPIËøõË°åÂÜôÔºåÂÆåÊØï final int localWrittenBytes = ch.write(buffer); if (localWrittenBytes &lt;= 0) &#123; incompleteWrite(true); return; &#125; adjustMaxBytesPerGatheringWrite(attemptedBytes, localWrittenBytes, maxBytesPerGatheringWrite); // ÈáäÊîæÁºìÂ≠òÂØπË±° in.removeBytes(localWrittenBytes); --writeSpinCount; break; &#125; default: &#123; // Â§ö‰∏™bufferÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÜônioBufferCnt‰∏™bufferËøõÂéª long attemptedBytes = in.nioBufferSize(); final long localWrittenBytes = ch.write(nioBuffers, 0, nioBufferCnt); if (localWrittenBytes &lt;= 0) &#123; incompleteWrite(true); return; &#125; adjustMaxBytesPerGatheringWrite((int) attemptedBytes, (int) localWrittenBytes, maxBytesPerGatheringWrite); in .removeBytes(localWrittenBytes); --writeSpinCount; break; &#125; &#125; &#125; while ( writeSpinCount &gt; 0 ); incompleteWrite(writeSpinCount &lt; 0);&#125; Áü•ÈÅìwriteÂíåflushÈÇ£‰πàÂ∞±ÂæàÂÆπÊòìÁêÜËß£writeAndFlushÂï¶ÔºÅÔºÅ ÂèÇËÄÉ ettyÊ∫êÁ†ÅÂàÜÊûê‰πãwriteAndFlushÂÖ®Ëß£Êûê NettyÊ∫êÁ†ÅÂàÜÊûê‚Äî‚ÄîflushÊµÅÁ®ã Netty Ê∫êÁ†ÅËß£Êûê ‚Äî‚Äî‚Äî writeAndFlushÊµÅÁ®ãÂàÜÊûê]]></content>
      <categories>
        <category>NettyÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>Netty</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NettyÊ∫êÁ†Å‰πãËß£Á†ÅÂô®]]></title>
    <url>%2F2018%2F08%2F06%2FNetty%E6%BA%90%E7%A0%81%2FNetty%E6%BA%90%E7%A0%81%E4%B9%8B%E8%A7%A3%E7%A0%81%E5%99%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöNettyÂú®Â∏ÆÊàë‰ª¨Ëß£ÂÜ≥ÊÄßËÉΩÁöÑÂêåÊó∂Ôºå‰πüÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÁºñËß£Á†ÅÂô®Êù•‰∏∫Êàë‰ª¨‰∏öÂä°‰∏äÊèê‰æõ‰æøÂà©ÔºåËøôÊ¨°Êàë‰ª¨Â∞±Êù•ÁúãÁúãNettyÁöÑËß£Á†ÅÂô®„ÄÇ Ëß£Á†ÅÂô®Âü∫Á±ªËß£Á†ÅÔºöÂ∞±ÊòØÂ∞Ü‰∫åËøõÂà∂Êï∞ÊçÆÊµÅËß£Á†Å‰∏∫Ëá™ÂÆö‰πâÊï∞ÊçÆÂåÖ„ÄÇ Âú®Netty‰∏≠Ëß£Á†ÅÂô®ÁöÑÂü∫Á±ªÊòØByteToMessageDecoderÔºåÁÑ∂ÂêéÊàë‰ª¨Ë¶ÅÊòéÁôΩÁöÑÊòØByteToMessageDecoderÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™ChannelInboundHandlerAdapter„ÄÇ ‰∏Ä‰∏™Ëß£Á†ÅÂô®Ëß£Á†ÅÁöÑËøáÁ®ã‰∏ªË¶ÅÊúâÂ¶Ç‰∏ã‰∏â‰∏™Ê≠•È™§Ôºö Á¥ØÂä†Â≠óËäÇÊµÅ Ë∞ÉÁî®Â≠êÁ±ªÁöÑdecodeÊñπÊ≥ïËøõË°åËß£Êûê Â∞ÜËß£ÊûêÂà∞ÁöÑByteBufÂêë‰∏ã‰º†Êí≠ ÂΩìÊàë‰ª¨Áü•ÈÅìByteToMessageDecoderÊòØ‰∏Ä‰∏™HandlerÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Â∞±‰ºöÂéªÊâæÂÆÉÂØπ‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÊñπÊ≥ïÔºå‰∏ªË¶ÅÊòØËØª‰∫ã‰ª∂ÔºåÊâÄ‰ª•Êàë‰ª¨ÊâæÂà∞ËØª‰∫ã‰ª∂Â§ÑÁêÜÊñπÊ≥ïÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102// step 1ByteBuf cumulation;public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception &#123; // Ëß£Á†ÅÂô®ÊòØÁõ∏ÂØπ‰∫éByteBufËøõË°åËß£Á†ÅÁöÑ(Âú®ÂÖ•Á´ôÁöÑÊó∂ÂÄôÂ∑≤ÁªèÂ∞ÅË£ÖÂ•Ω‰∫ÜÔºåÂèØ‰ª•ÂèÇËÄÉËá™Â∑±‰πãÂâçÂÖ≥‰∫éPipelineÁöÑÂçöÊñá) if (msg instanceof ByteBuf) &#123; // Â≠òÂÇ®Ëß£Á†ÅÂêéÁöÑÊï∞ÊçÆ List CodecOutputList out = CodecOutputList.newInstance(); try &#123; ByteBuf data = (ByteBuf) msg; // ÊòØÂê¶ÊòØÁ¨¨‰∏ÄÊ¨°Á¥ØÂä† first = cumulation == null; if (first) &#123; // Á¨¨‰∏ÄÊ¨° cumulation = data; &#125; else &#123; // ‰∏çÊòØÁ¨¨‰∏ÄÊ¨°ÔºåÂàôËøõË°åÁ¥ØÂä† // Êàë‰ª¨ÁúãÁúãËøô‰∏™Á¥ØÂä†Âô®ÁöÑcumulateÊñπÊ≥ï step 2 cumulation = cumulator.cumulate(ctx.alloc(), cumulation, data); &#125; // Ë∞ÉÁî®Â≠êÁ±ªÁöÑdecodeÊñπÊ≥ïËøõË°åËß£Êûê // step 3 callDecode(ctx, cumulation, out); &#125; catch(DecoderException e) &#123; throw e; &#125; catch(Exception e) &#123; throw new DecoderException(e); &#125; finally &#123; int size = out.size(); decodeWasNull = !out.insertSinceRecycled(); // Â∞ÜËß£ÊûêÂà∞ÁöÑÂØπË±°Âêë‰∏ãÁªßÁª≠‰º†Êí≠ // step 5 fireChannelRead(ctx, out, size); // ÂõûÊî∂list out.recycle(); &#125; &#125; else &#123; // ‰∏çÊòØByteBufÂ∞±Áõ¥Êé•Âêë‰∏ã‰º†Êí≠ ctx.fireChannelRead(msg); &#125;&#125;// step 2public ByteBuf cumulate(ByteBufAllocator alloc, ByteBuf cumulation, ByteBuf in ) &#123; final ByteBuf buffer; // ÂΩìbufÁöÑÊï∞ÊçÆÂ§ß‰∫écumulationÁöÑÂâ©‰ΩôÂÆπÈáèÊó∂ if (cumulation.writerIndex() &gt; cumulation.maxCapacity() - in.readableBytes() || cumulation.refCnt() &gt; 1 || cumulation.isReadOnly()) &#123; // ËøõË°åÊâ©ÂÆπ(Êâ©ÂÆπÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™ÂÜÖÂ≠òÊã∑Ë¥ùÊìç‰Ωú) buffer = expandCumulation(alloc, cumulation, in.readableBytes()); &#125; else &#123; // ‰∏çÁÑ∂Â∞±‰∏çÊâ©ÂÆπ buffer = cumulation; &#125; // Â∞ÜÊï∞ÊçÆÂÜôÂÖ•buf buffer.writeBytes(in); // ÈáäÊîæ‰º†ÂÖ•ÁöÑbuf in.release(); return buffer;&#125;// step 3protected void callDecode(ChannelHandlerContext ctx, ByteBuf in , List &lt; Object &gt; out) &#123; while ( in .isReadable()) &#123; int outSize = out.size(); // ÁúãlistÊòØÂê¶ÊúâÂØπË±° if (outSize &gt; 0) &#123; // ÊúâÂØπË±°ÂàôÂ∞Ülist‰º†Êí≠Âá∫Âéª fireChannelRead(ctx, out, outSize); // Âπ∂Ê∏ÖÁ©∫list out.clear(); outSize = 0; &#125; // ËÆ∞ÂΩïÂèØËØªÈïøÂ∫¶ int oldInputLength = in.readableBytes(); // ÂºÄÂßãË∞ÉÁî®decodeÊñπÊ≥ï‰∫Ü // step 4 decodeRemovalReentryProtection(ctx, in, out); // ‰ªÄ‰πàÈÉΩÊ≤°ÊúâËß£ÊûêÂá∫Êù•Êó∂ if (outSize == out.size()) &#123; // ‰ª£Ë°®ÂΩìÂâçÁöÑÊï∞ÊçÆ‰∏çËÉΩÊãºË£ÖÊàê‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊï∞ÊçÆÂåÖÔºåbreakÂáÜÂ§áÁ≠âÂæÖ‰∏ã‰∏ÄÊ¨°Êï∞ÊçÆÂåÖ if (oldInputLength == in.readableBytes()) &#123; break; &#125; else &#123; continue; &#125; &#125; &#125;&#125;// step 4final void decodeRemovalReentryProtection(ChannelHandlerContext ctx, ByteBuf in , List &lt; Object &gt; out) throws Exception &#123; // ... // ÂºÄÂßãË∞ÉÁî®Ëß£Á†ÅÂô®Â≠êÁ±ªÁöÑdecodeÊñπÊ≥ï‰∫Ü decode(ctx, in, out); // ...&#125;// step 5static void fireChannelRead(ChannelHandlerContext ctx, CodecOutputList msgs, int numElements) &#123; for (int i = 0; i &lt; numElements; i++) &#123; // msgs.getUnsafe(i)‰øùËØÅÊàêbyteBuf // ËøôÈáåÂèØËÉΩÂ∞±‰ºö‰º†Êí≠Âà∞‰∏öÂä°ÁöÑÂ§ÑÁêÜÂô® ctx.fireChannelRead(msgs.getUnsafe(i)); &#125;&#125; LineBasedFrameDecoderÊàë‰ª¨ÊåëÈÄâ‰∫ÜÂü∫‰∫éÂàÜÈöîÁ¨¶Ëß£Á†ÅÂô®LineBasedFrameDecoderÊù•ÂàÜÊûêÔºåÂÆÉÂèØ‰ª•ÂêåÊó∂Â§ÑÁêÜ \n‰ª•Âèä\r\n‰∏§ÁßçÁ±ªÂûãÁöÑË°åÂàÜÈöîÁ¨¶ÔºåÊàë‰ª¨ÁúãÁúãÂÆÉÁöÑdecodeÊñπÊ≥ïÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778// step 1 (Ëß£Á†ÅÂô®Ê®°Êùø)protected final void decode(ChannelHandlerContext ctx, ByteBuf in , List &lt; Object &gt; out) throws Exception &#123; // step 2 Object decoded = decode(ctx, in); if (decoded != null) &#123; // ÊãÜÈô§‰∏Ä‰∏™Êï∞ÊçÆÂåÖÂ∞±ÊîæËøõListÈáå out.add(decoded); &#125;&#125;// step 2 LineBasedFrameDecoderprivate boolean discarding;protected Object decode(ChannelHandlerContext ctx, ByteBuf buffer) throws Exception &#123; // ÊâæÂà∞Êç¢Ë°åÁ¨¶‰ΩçÁΩÆ final int eol = findEndOfLine(buffer); // Á¨¨‰∏ÄÊ¨°ÊãÜÂåÖ‰∏çÂú®‰∏¢ÂºÉÊ®°Âºè‰∏ã if (!discarding) &#123; // Èùû‰∏¢ÂºÉÊ®°Âºè‰∏ã // ÊâæÂà∞ÂàÜÈöîÁ¨¶ if (eol &gt;= 0) &#123; final ByteBuf frame; final int length = eol - buffer.readerIndex(); final int delimLength = buffer.getByte(eol) == '\r' ? 2 : 1; // Âà§Êñ≠ÊãÜÂåÖÁöÑÈïøÂ∫¶ÊòØÂê¶Â§ß‰∫éÂÖÅËÆ∏ÁöÑÊúÄÂ§ßÈïøÂ∫¶ÔºåmaxLengthÊûÑÈÄ†Êó∂‰º†ÂÖ• if (length &gt; maxLength) &#123; // Ë∂ÖÂá∫ÊúÄÂ§ßÈïøÂ∫¶Âàô‰∏¢ÂºÉËøôÊÆµÊï∞ÊçÆÔºåÊäõÂá∫ÂºÇÂ∏∏ buffer.readerIndex(eol + delimLength); fail(ctx, length); return null; &#125; // Ëß£Á†ÅÊï∞ÊçÆÊòØÂê¶Ë¶ÅÂåÖÂê´ÂàÜÈöîÁ¨¶ if (stripDelimiter) &#123; // ‰∏çÂåÖÂê´ frame = buffer.readRetainedSlice(length); buffer.skipBytes(delimLength); &#125; else &#123; // ÂåÖÂê´ frame = buffer.readRetainedSlice(length + delimLength); &#125; // ËøîÂõûÊãÜÂåÖÂêéÂ∞ÅË£ÖÊàêÁöÑÂ∏ß return frame; &#125; else &#123; // Ê≤°ÊâæÂà∞ÂàÜÈöîÁ¨¶ final int length = buffer.readableBytes(); if (length &gt; maxLength) &#123; // Â¶ÇÊûúÂ§ß‰∫éÊúÄÂ§ßÈïøÂ∫¶ÔºåËøõÂÖ•‰∏¢ÂºÉÊ®°Âºè // ‰øùÂ≠ò‰∏¢ÂºÉÈïøÂ∫¶ discardedBytes = length; buffer.readerIndex(buffer.writerIndex()); discarding = true; offset = 0; if (failFast) &#123; fail(ctx, "over " + discardedBytes); &#125; &#125; // ‰∏çÂ§ß‰∫éÔºåÂàôËøîÂõûnull return null; &#125; &#125; else &#123; // ‰∏¢ÂºÉÊ®°Âºè‰∏ã if (eol &gt;= 0) &#123; // ÊâæÂà∞ÂàÜÂâ≤Á¨¶ final int length = discardedBytes + eol - buffer.readerIndex(); final int delimLength = buffer.getByte(eol) == '\r' ? 2 : 1; buffer.readerIndex(eol + delimLength); discardedBytes = 0; discarding = false; if (!failFast) &#123; fail(ctx, length); &#125; &#125; else &#123; // ‰øùÂ≠ò‰∏¢ÂºÉÈïøÂ∫¶ discardedBytes += buffer.readableBytes(); // ÊîπÂèòËØªÊåáÈíà‰ΩçÁΩÆ buffer.readerIndex(buffer.writerIndex()); &#125; return null; &#125;&#125; ÊÄªÁªìÂÖ∂‰ªñÁöÑËß£Á†ÅÂô®‰πüÂèØ‰ª•Ê†πÊçÆLineBasedFrameDecoderÁöÑÊÄùË∑ØÂéªÂàÜÊûê„ÄÇÂΩìÁÑ∂Êàë‰ª¨ÊúÄÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑËøòÊòØÊï¥‰∏™Ëß£Á†ÅÂô®ÁöÑËÆæËÆ°ÊÄùÊÉ≥„ÄÇÂ≠¶‰ºöÂéªÊäΩË±°‰∏ÄÁ±ª‰∏úË•ø„ÄÇ ÂèÇËÄÉ nettyÊ∫êÁ†ÅÂàÜÊûê‰πãÊãÜÂåÖÂô®ÁöÑÂ••Áßò]]></content>
      <categories>
        <category>NettyÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>Netty</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NettyÊ∫êÁ†Å‰πãChannelPipeline]]></title>
    <url>%2F2018%2F08%2F06%2FNetty%E6%BA%90%E7%A0%81%2FNetty%E6%BA%90%E7%A0%81%E4%B9%8BChannelPipeline%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂÖ∂ÂÆûÂâçÈù¢Â∞±Â§öÊ¨°ÊèêÂà∞‰∫ÜChannelPipelineÔºå‰ΩÜÊòØÈÉΩÊ≤°ÊúâËØ¶ÁªÜËØ¥ÊòéChannelPipelineÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºåËøôÈáåÊàë‰ª¨Â∞±ÂÖ∑‰ΩìÁúãÁúãËøô‰∏™ÁÆ°ÁêÜÂ§ÑÁêÜÈÄªËæëÁöÑÊäΩË±°‰ª•ÂèäÂ§ÑÁêÜÈÄªËæëÁöÑÊäΩË±°ChannelHandler„ÄÇ ChannelPipelineÁöÑÂàõÂª∫ÈÄöËøáÂâçÈù¢ÁöÑËÆ≤Ëß£ÔºåÊàë‰ª¨Â∫îËØ•ËøòËÆ∞Âæó‰∏Ä‰∏™ChannelÂØπÂ∫î‰∫Ü‰∏Ä‰∏™ChannelPipelineÔºåËÄåChannelPipeline‰πüÂ∞±ÊòØÂú®ÂàõÂª∫ChannelÁöÑÊó∂ÂÄôÈöè‰πãÂàõÂª∫ÁöÑ„ÄÇÊàë‰ª¨Â∞±‰ªéÈÇ£ÈáåÂºÄÂßã„ÄÇ 1234567891011121314151617181920212223// step 1 AbstractChannelÁöÑÂàõÂª∫protected AbstractChannel(Channel parent) &#123; this.parent = parent; id = newId(); unsafe = newUnsafe(); // step 2 ChannelPipelineÁöÑÂàõÂª∫ pipeline = newChannelPipeline();&#125;// step 2protected DefaultChannelPipeline newChannelPipeline() &#123; // step 3 return new DefaultChannelPipeline(this);&#125;// step 3protected DefaultChannelPipeline(Channel channel) &#123; // ÁªëÂÆöchannel this.channel = ObjectUtil.checkNotNull(channel, "channel"); // ÈªòËÆ§ÂàõÂª∫‰∏Ä‰∏™Áî±Â§¥Â∞æËäÇÁÇπÁöÑÂèåÂêëÈìæË°®ÔºåÊàë‰ª¨ÂèØ‰ª•Áúã‰∏Ä‰∏ãËäÇÁÇπÁöÑÁ±ªÂûã tail = new TailContext(this); head = new HeadContext(this); head.next = tail; tail.prev = head;&#125; ChannelPipelineÂàõÂª∫ÂÆåÊØïÔºÅÔºÅ ËäÇÁÇπÁöÑÊ∑ªÂä†ËäÇÁÇπÁöÑÊ∑ªÂä†Êàë‰ª¨ÂøÖÁÑ∂Ë¶Å‰ªéÊàë‰ª¨ËßÅËøáÁöÑChannelPipelineÁöÑaddLast(handler)ÊñπÊ≥ïÂºÄÂßãÂàÜÊûêÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960// step 1public final ChannelPipeline addLast(ChannelHandler handler) &#123; // step 2 return addLast(null, handler);&#125;// step 2public final ChannelPipeline addLast(String name, ChannelHandler handler) &#123; // step 3 return addLast(null, name, handler);&#125;// step 3public final ChannelPipeline addLast(EventExecutorGroup group, String name, ChannelHandler handler) &#123; final AbstractChannelHandlerContext newCtx; // ÂêåÊ≠• synchronized(this) &#123; // Ê£ÄÊü•ÊòØÂê¶ÊúâÈáçÂ§çËäÇÁÇπ checkMultiplicity(handler); // Â∞ÜhandlerÂåÖË£ÖÊàêËäÇÁÇπ‰∏ä‰∏ãÊñá DefaultChannelHandlerContext // step 4 newCtx = newContext(group, filterName(name, handler), handler); // Ê∑ªÂä†ËäÇÁÇπ step 7 addLast0(newCtx); &#125; // ÂõûË∞ÉÂ§ÑÁêÜÂô®Ë¢´Ê∑ªÂä†ÁöÑÊñπÊ≥ï callHandlerAdded0(newCtx); return this;&#125;// step 4private AbstractChannelHandlerContext newContext(EventExecutorGroup group, String name, ChannelHandler handler) &#123; // step 5 return new DefaultChannelHandlerContext(this, childExecutor(group), name, handler);&#125;// step 5DefaultChannelHandlerContext(DefaultChannelPipeline pipeline, EventExecutor executor, String name, ChannelHandler handler) &#123; // step 6 isInBound,isOutBountÂ∑≤ÁªèÁ°ÆÂÆö‰∫Ü super(pipeline, executor, name, isInbound(handler), isOutbound(handler)); // ÁªëÂÆöhandler this.handler = handler;&#125;// step 6AbstractChannelHandlerContext(DefaultChannelPipeline pipeline, EventExecutor executor, String name, boolean inbound, boolean outbound) &#123; // ËÆæÂÆöÂêçÂ≠ó this.name = ObjectUtil.checkNotNull(name, "name"); // ÁªëÂÆöpipeline this.pipeline = pipeline; // ÁªëÂÆöNioEventLoop this.executor = executor; // Ë°®Á§∫Ëá™Â∑±ÊòØinboundÂ§ÑÁêÜÂô®ËøòÊòØoutboundÂ§ÑÁêÜÂô®ÔºåÂêéÈù¢Ê†πÊçÆËøô‰∏™ÂÄºÊù•Âà§Êñ≠ this.inbound = inbound; this.outbound = outbound;&#125;// step 7private void addLast0(AbstractChannelHandlerContext newCtx) &#123; // Ê∑ªÂä†Âà∞PipelineÁöÑÈÇ£‰∏™ÂèåÂêëÈìæË°®‰∏≠ AbstractChannelHandlerContext prev = tail.prev; newCtx.prev = prev; newCtx.next = tail; prev.next = newCtx; tail.prev = newCtx;&#125; ËäÇÁÇπÁöÑÂà†Èô§ÂíåChannelPipelineÁöÑaddLast(handler)‰∏ÄÊ†∑ÔºåÊàë‰ª¨ÂèØ‰ª•ÊâæÂà∞ChannelPipelineÁöÑremove(handler)ÊñπÊ≥ïÔºö 123456789101112131415161718192021222324252627// step 1public final ChannelPipeline remove(ChannelHandler handler) &#123; // Êàë‰ª¨Áü•ÈÅìËäÇÁÇπÊòØ‰øùËØÅ‰∫ÜhandlerÁöÑAbstractChannelHandlerContext // step 2 remove(getContextOrDie(handler)); return this;&#125;// step 2private AbstractChannelHandlerContext remove(final AbstractChannelHandlerContext ctx) &#123; assert ctx != head &amp;&amp; ctx != tail; // ÂêåÊ≠• synchronized(this) &#123; // step 3 remove0(ctx); &#125; // ÂõûË∞ÉËäÇÁÇπÁöÑÂà†Èô§ÊñπÊ≥ï callHandlerRemoved0(ctx); return ctx;&#125;// step 3private static void remove0(AbstractChannelHandlerContext ctx) &#123; // Â∞±ÊòØÂèåÂêëÈìæË°®ÁöÑÂà†Èô§ AbstractChannelHandlerContext prev = ctx.prev; AbstractChannelHandlerContext next = ctx.next; prev.next = next; next.prev = prev;&#125; ÂÖ•Á´ô‰∫ã‰ª∂ÁöÑ‰º†Êí≠ÂÖ∂ÂÆûÊàë‰ª¨Â∫îËØ•Â∑≤ÁªèÁªèÂéÜËøá‰∫ÜÔºåÊ∫êÂ§¥ÈÉΩÊòØÂú®‰ªéUnsafeÂØπË±°(ÂÆÉË¥üË¥£ÊúÄÂ∫ïÂ±ÇÁöÑIOÊìç‰Ωú)Âá∫ÂèëÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨‰ªéNioEventLoopÁöÑËøô‰∏ÄÊÆµ‰ª£Á†ÅÂá∫ÂèëÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192// step 1private void processSelectedKey(SelectionKey k, AbstractNioChannel ch) &#123; // ... if ((readyOps &amp; (SelectionKey.OP_READ | SelectionKey.OP_ACCEPT)) != 0 || readyOps == 0) &#123; // Êé•ÂèóIO‰∫ã‰ª∂ÔºåËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂú®SeverSocketChannelÂíåSocketChannelÂ§ÑÁêÜÁöÑ‰∫ã‰ª∂ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ // Êàë‰ª¨‰∏ªË¶ÅÂàÜÊûêSocketChannelÁöÑËØª‰∫ã‰ª∂ÔºåÂØπÂ∫îÁöÑUnsafeÂØπË±°ÊòØNioByteUnSafe // step 2 unsafe.read(); &#125;&#125;// step 2 AbstractNioByteChannelÁöÑNioByteUnSafepublic final void read() &#123; final ChannelConfig config = config(); final ChannelPipeline pipeline = pipeline(); // ÂàõÂª∫ByteBufÂàÜÈÖçÂô® final ByteBufAllocator allocator = config.getAllocator(); // ÊéßÂà∂ËøûÊé•Êï∞ final RecvByteBufAllocator.Handle allocHandle = recvBufAllocHandle(); allocHandle.reset(config); ByteBuf byteBuf = null; do &#123; // ÂàÜÈÖç‰∏Ä‰∏™byteBuf byteBuf = allocHandle.allocate(allocator); // ËØªÊï∞ÊçÆ allocHandle.lastBytesRead(doReadBytes(byteBuf)); allocHandle.incMessagesRead(1); readPending = false; // Ëß¶ÂèëËØª‰∫ã‰ª∂ÔºåËøôÊòØÊàë‰ª¨Ë¶ÅÂÖ≥Ê≥®ÁöÑÈáçÁÇπ // step 3 pipeline.fireChannelRead(byteBuf); byteBuf = null; &#125; while ( allocHandle . continueReading ()); allocHandle.readComplete(); // Ëß¶ÂèëËØªÂÆåÊàê‰∫ã‰ª∂ pipeline.fireChannelReadComplete();&#125;// step 3public final ChannelPipeline fireChannelRead(Object msg) &#123; // Âá∫ÂèëÂ§¥ËäÇÁÇπÁöÑËØª‰∫ã‰ª∂ // step 4 AbstractChannelHandlerContext.invokeChannelRead(head, msg); return this;&#125;// step 4static void invokeChannelRead(final AbstractChannelHandlerContext next, Object msg) &#123; final Object m = next.pipeline.touch(ObjectUtil.checkNotNull(msg, "msg"), next); // Ë∞ÉÁî®Â§¥ËäÇÁÇπÁöÑchannelReadÊñπÊ≥ï // step 5 next.invokeChannelRead(m);&#125;// step 5private void invokeChannelRead(Object msg) &#123; // Ë∞ÉÁî®Â§¥ËäÇÁÇπÁöÑchannelReadÊñπÊ≥ï // step 6 ((ChannelInboundHandler) handler()).channelRead(this, msg);&#125;// step 6public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception &#123; // ÁªßÁª≠‰º†ÈÄíËØª‰∫ã‰ª∂ // step 7 ctx.fireChannelRead(msg);&#125;// step 7public ChannelHandlerContext fireChannelRead(final Object msg) &#123; // ÊâæÂà∞‰∏ã‰∏Ä‰∏™ÂÖ•Á´ôËäÇÁÇπ // step 8 findContextInbound // step 9 ‰ºöÈáçÂ§çËøô‰∏™ËøáÁ®ãÔºåÂ¶ÇÊûúÊ∂àÊÅØÊ≤°ÊúâË¢´ÈáäÊîæÔºåÈÇ£‰πàÂ∞Ü‰∏ÄÁõ¥‰º†ÈÄíÂà∞tailËäÇÁÇπ(ÊúÄÂêé‰∏Ä‰∏™inboundËäÇÁÇπpublic void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception &#123; onUnhandledInboundMessage(msg);&#125;) invokeChannelRead(findContextInbound(), msg); return this;&#125;// step 8private AbstractChannelHandlerContext findContextInbound() &#123; AbstractChannelHandlerContext ctx = this; do &#123; ctx = ctx.next; // ÂèØ‰ª•ÁúãÂà∞ÊòØÊ†πÊçÆÊ†áÂøó‰ΩçÊù•Âà§ÂÆöÁöÑ &#125; while (! ctx . inbound ); return ctx;&#125;// step 9 DefaultChannelPipelineÁöÑTailContextpublic void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception &#123; // step 10 onUnhandledInboundMessage(msg);&#125;protected void onUnhandledInboundMessage(Object msg) &#123; // Â¶ÇÊûúÊ∂àÊÅØ‰∏ÄÁõ¥Ê≤°ÊúâË¢´ÈáäÊîæÔºåÂ∞ÜÂú®tailËäÇÁÇπË¢´ÈáäÊîæ ReferenceCountUtil.release(msg);&#125; Âá∫Á´ô‰∫ã‰ª∂ÁöÑ‰º†Êí≠Âá∫Á´ô‰∫ã‰ª∂‰∏ÄËà¨ÊòØÂÜô‰∫ã‰ª∂ÔºåÊúâ‰∏§ÁßçÂÜôÈúÄË¶ÅÂå∫Âà´‰∏Ä‰∏ãÔºöÔºàÊù•Ëá™nettyÊ∫êÁ†Å‰∏≠telnet‰æãÂ≠êÔºâ 12ChannelFuture future = ctx.channel().write(response); // 1ChannelFuture future = ctx.write(response); // 2 Êàë‰ª¨ÂÖàÁúãÁ¨¨‰∏ÄÁßçÔºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455// step 1public void channelRead0(ChannelHandlerContext ctx, String request) throws Exception &#123; // step 2 ChannelFuture future = ctx.channel().write(response);&#125;// step 2 AbstractChannelpublic ChannelFuture write(Object msg) &#123; // step 3 return pipeline.write(msg);&#125;// step 3 DefaultChannelPipelinepublic final ChannelFuture write(Object msg) &#123; // Áõ¥Êé•Ë∞ÉÁî®tailÁöÑÂÜôÊñπÊ≥ï // step 4 return tail.write(msg);&#125;// step 5 AbstractChannelHandlerContextpublic ChannelFuture write(Object msg) &#123; // step 6 return write(msg, newPromise());&#125;// step 6 AbstractChannelHandlerContextpublic ChannelFuture write(final Object msg, final ChannelPromise promise) &#123; // Âä†‰∏äÊòØÂê¶flushÁöÑ‰ø°ÊÅØ // step 7 write(msg, false, promise);&#125;// step 7private void write(Object msg, boolean flush, ChannelPromise promise) &#123; // ÂíåËøõÁ´ôÁõ∏ËØÜÔºåËøôÈáåÊâæÁöÑÂá∫Á´ôËäÇÁÇπ AbstractChannelHandlerContext next = findContextOutbound(); final Object m = pipeline.touch(msg, next); EventExecutor executor = next.executor(); if (flush) &#123; next.invokeWriteAndFlush(m, promise); &#125; else &#123; // Ë∞ÉÁî®‰∏ã‰∏Ä‰∏™Âá∫Á´ôËäÇÁÇπÁöÑÂÜôÊñπÊ≥ï next.invokeWrite(m, promise); &#125;&#125;// step 7private void invokeWrite(Object msg, ChannelPromise promise) &#123; // step 8 invokeWrite0(msg, promise);&#125;// step 8private void invokeWrite0(Object msg, ChannelPromise promise) &#123; // step 9 ‰ºöÁõ¥Êé•Ë∞ÉÁî®Âà∞HeadContextÁöÑwriteÊñπÊ≥ï ((ChannelOutboundHandler) handler()).write(this, msg, promise);&#125;// step 9public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception &#123; // Âà©Áî®unsafeÂÜôÂÖ•(ÊòéÁôΩÊµÅÁ®ãÂ∞±Â•ΩÔºåÂÖ≥‰∫éÂÖ∑‰ΩìÊÄé‰πàÂÜôÂÖ•Â∞ÜÊîæÂà∞ÁºñÁ†ÅÂô®ÁöÑÂçöÊñá‰∏ä) unsafe.write(msg, promise);&#125; Á¨¨‰∫åÁßçÊÉÖÂÜµÔºö 12345678910// step 1public void channelRead0(ChannelHandlerContext ctx, String request) throws Exception &#123; // step 2 ChannelFuture future = ctx.write(response);&#125;// step 2public ChannelFuture write(final Object msg, final ChannelPromise promise) &#123; // Áõ¥Êé•‰ªéÂΩìÂâçËäÇÁÇπÂÜôÔºåÂêéÈù¢Â∞±ÂíåÁ¨¨‰∏ÄÁßçÊÉÖÂÜµ‰∏ÄÊ†∑‰∫Ü write(msg, false, promise);&#125; ÂèÇËÄÉ nettyÊ∫êÁ†ÅÂàÜÊûê‰πãpipeline(‰∏Ä) nettyÊ∫êÁ†ÅÂàÜÊûê‰πãpipeline(‰∫å)]]></content>
      <categories>
        <category>NettyÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>Netty</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NettyÊ∫êÁ†Å‰πãÊñ∞ËøûÊé•Êé•ÂÖ•]]></title>
    <url>%2F2018%2F08%2F06%2FNetty%E6%BA%90%E7%A0%81%2FNetty%E6%BA%90%E7%A0%81%E4%B9%8B%E6%96%B0%E8%BF%9E%E6%8E%A5%E6%8E%A5%E5%85%A5%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰πãÂâçÂØπÊúçÂä°Á´ØÂíåNioEventLoopÈÉΩÊúâ‰∫Ü‰∏ÄÂÆöÁöÑÂàÜÊûêÔºåÁõ∏‰ø°Â§ßÂÆ∂ÁöÑÊúçÂä°Á´ØÂ∫îËØ•Â∑≤ÁªèËôö‰Ωç‰ª•ÂæÖ‰∫Ü„ÄÇÂ•ΩÁöÑÔºåÊàë‰ª¨Áé∞Âú®Â∞±ÂºÄÂßãÂàÜÊûêÊñ∞ËøûÊé•Êé•ÂÖ•„ÄÇ Êñ∞ËøûÊé•Ê£ÄÊµãÁî®ËøáNIOÁöÑ‰∫∫ÈÉΩ‰ºöÁü•ÈÅìÊñ∞ËøûÊé•Ê£ÄÊµãÂ∫îËØ•Âú®Â§ÑÁêÜselectÂá∫Êù•ÁöÑSelectedKey‰∏≠Âá∫Áé∞ÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±‰ªéËøôÂºÄÂßãÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960// step 1private void processSelectedKey(SelectionKey k, AbstractNioChannel ch) &#123; final AbstractNioChannel.NioUnsafe unsafe = ch.unsafe(); eventLoop = ch.eventLoop(); int readyOps = k.readyOps(); if ((readyOps &amp; SelectionKey.OP_CONNECT) != 0) &#123; int ops = k.interestOps(); ops &amp;= ~SelectionKey.OP_CONNECT; k.interestOps(ops); unsafe.finishConnect(); &#125; if ((readyOps &amp; SelectionKey.OP_WRITE) != 0) &#123; ch.unsafe().forceFlush(); &#125; // ‰ºöËøõÂÖ•Âà∞ËøôÈáå(Êé•Êî∂ËøûÊé•) if ((readyOps &amp; (SelectionKey.OP_READ | SelectionKey.OP_ACCEPT)) != 0 || readyOps == 0) &#123; // step 2 unsafe.read(); &#125;&#125;// step 2 AbstractNioMessageChannelpublic void read() &#123; final ChannelConfig config = config(); final ChannelPipeline pipeline = pipeline(); // ÊéßÂà∂ËØªÂèñËøûÊé•ÁöÑÈÄüÁéáÔºåÈªòËÆ§‰∏ÄÊ¨°ËØªÂèñ16‰∏™ËøûÊé• final RecvByteBufAllocator.Handle allocHandle = unsafe().recvBufAllocHandle(); allocHandle.reset(config); do &#123; // step 3 int localRead = doReadMessages(readBuf); // ÂØπËøûÊé•Êï∞Â¢ûÂä† allocHandle.incMessagesRead(localRead); &#125; while ( allocHandle . continueReading ()); int size = readBuf.size(); for (int i = 0; i &lt; size; i++) &#123; readPending = false; // Ëß¶ÂèëËØª‰∫ã‰ª∂ÔºåÁªëÂÆöÂà∞NioEventLoop pipeline.fireChannelRead(readBuf.get(i)); &#125; readBuf.clear(); allocHandle.readComplete(); pipeline.fireChannelReadComplete();&#125;// step 3protected int doReadMessages(List &lt; Object &gt; buf) throws Exception &#123; // ÁÜüÊÇâÁöÑacceptÊñπÊ≥ïÔºåÁÜüÊÇâÁöÑjavaChannel()ÊãøÂà∞serverSocketChannel // step 4 SocketChannel ch = SocketUtils.accept(javaChannel()); // Â∞ÅË£ÖÊàêNioSocketChannelÔºåËøõÂÖ•ÂàõÂª∫ÈÉ®ÂàÜ buf.add(new NioSocketChannel(this, ch));&#125;// step 4public static SocketChannel accept(final ServerSocketChannel serverSocketChannel) throws IOException &#123; // ËøîÂõûSocketChannel(Êñ∞Âá∫Êù•ÁöÑAccessControllerËøòÈúÄË¶ÅÁ†îÁ©∂) return AccessController.doPrivileged(new PrivilegedExceptionAction &lt; SocketChannel &gt; () &#123;@Override public SocketChannel run() throws IOException &#123; return serverSocketChannel.accept(); &#125; &#125;);&#125; Ê£ÄÊµãÂÆåÊØïÔºÅÔºÅÔºÅ ÂàõÂª∫Channel123456789101112131415161718192021222324252627282930// step 1 NioSocketChannelpublic NioSocketChannel(Channel parent, SocketChannel socket) &#123; super(parent, socket); // ÂêåÊ†∑ÂàõÂª∫‰∏Ä‰∏™configÔºåËøôÈáåËÆæÁΩÆ‰∫ÜÁ¶ÅÊ≠¢NagleÁÆóÊ≥ï(ËÆ©Êï∞ÊçÆÂ∞ΩÂø´ÂèëÂá∫ÂéªÔºåËÄå‰∏çÊòØËÆ©Â∞èÊï∞ÊçÆÂåÖÂèòÂ§ßÂÜçÂèë) config = new NioSocketChannelConfig(this, socket.socket());&#125;// step 2 AbstractNioByteChannelprotected AbstractNioByteChannel(Channel parent, SelectableChannel ch) &#123; // ËøôÈáåË¶ÅÂáÜÂ§áÁªëÂÆöËØª‰∫ã‰ª∂‰∫Ü // step 3 super(parent, ch, SelectionKey.OP_READ);&#125;// step 3protected AbstractNioChannel(Channel parent, SelectableChannel ch, int readInterestOp) &#123; // step 4 super(parent); this.ch = ch; // ËÆæÂÆö‰∏∫ÂØπËØª‰∫ã‰ª∂ÊÑüÂÖ¥Ë∂£ this.readInterestOp = readInterestOp; // ËÆæÁΩÆ‰∏∫ÈùûÈòªÂ°û ch.configureBlocking(false);&#125;// step 4protected AbstractChannel(Channel parent) &#123; this.parent = parent; // ‰πüÁªôËá™Â∑±ÂàÜÈÖçËøô‰∫õ‰∏úË•ø id = newId(); unsafe = newUnsafe(); pipeline = newChannelPipeline();&#125; ChannelÊ≥®ÂÜåÁªëÂÆö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// step 1 DefaultChannelPipelinepublic final ChannelPipeline fireChannelRead(Object msg) &#123; // step 2 AbstractChannelHandlerContext.invokeChannelRead(head, msg); return this;&#125;// step 2static void invokeChannelRead(final AbstractChannelHandlerContext next, Object msg) &#123; final Object m = next.pipeline.touch(ObjectUtil.checkNotNull(msg, "msg"), next); // ËøòÊòØÈÇ£‰∏™Á∫øÁ®ãÁîüÊàêÂô® EventExecutor executor = next.executor(); // step 3 next.invokeChannelRead(m);&#125;// step 3private void invokeChannelRead(Object msg) &#123; // step 4 ÂÆÉ‰ºö‰∏ÄÁõ¥ËÆ≤‰∫ã‰ª∂‰º†Êí≠Âà∞ÂÜçÊúçÂä°Á´ØÂêØÂä®ËøáÁ®ã‰∏≠Ê∑ªÂä†Âà∞PipelineÁöÑServerBootstrapAcceptor ((ChannelInboundHandler) handler()).channelRead(this, msg);&#125;// step 4 ServerBootstrapÈáåÁöÑServerBootstrapAcceptorpublic void channelRead(ChannelHandlerContext ctx, Object msg) &#123; final Channel child = (Channel) msg; // ËÆæÁΩÆ‰∏ÄÁ≥ªÂàó‰ø°ÊÅØ child.pipeline().addLast(childHandler); setChannelOptions(child, childOptions, logger); for (Entry &lt; AttributeKey &lt; ?&gt;, Object &gt; e: childAttrs) &#123; child.attr((AttributeKey &lt; Object &gt; ) e.getKey()).set(e.getValue()); &#125; // ÂøΩÁï•ÁªÜËäÇÔºåÂÖ≥Ê≥®registerÊñπÊ≥ï(ËøôÈáåÊòØchildGroup) // step 5 childGroup.register(child);&#125;// step 5 MultithreadEventLoopGrouppublic ChannelFuture register(Channel channel) &#123; // ËøôÈáåÁöÑnextÊñπÊ≥ï‰ºöÂéªÊãøÂà∞‰πãÂâçServerChannelÂàùÂßãÂåñÁöÑEventLoopÊï∞ÁªÑÁöÑ‰∏Ä‰∏™ // step 6 return next().register(channel);&#125;// step 6 SingleThreadEventLooppublic ChannelFuture register(Channel channel) &#123; // ÁúãÂà∞ËøôÈáå‰ºöÂèëÁé∞Ê≥®ÂÜåÊµÅÁ®ãÂü∫Êú¨ÂíåServerSocketChanneÊòØ‰∏ÄÊ†∑ÁöÑ // step 7 return register(new DefaultChannelPromise(channel, this));&#125;// step 7public ChannelFuture register(final ChannelPromise promise) &#123; // ÁúãÂà∞ËøôÈáåÔºåÂâ©‰∏ãÁöÑÂü∫Êú¨‰∏äÂ∞±ÂèØ‰ª•ÂèÇËÄÉÊúçÂä°Á´ØÂêØÂä®ÊµÅÁ®ã‰∫Ü promise.channel().unsafe().register(this, promise);&#125; ÊÄªÁªì ServerSocketChannelÁªëÂÆöÁöÑEventLoopËΩÆËØ¢Âà∞ÊúâÊñ∞ÁöÑËøûÊé•ËøõÂÖ• ÈÄöËøáÂ∞ÅË£ÖjdkÂ∫ïÂ±ÇÁöÑchannelÂàõÂª∫ NioSocketChannel‰ª•Âèä‰∏ÄÁ≥ªÂàóÁöÑnettyÊ†∏ÂøÉÁªÑ‰ª∂ Â∞ÜËØ•cahnnelÈÄöËøáchooserÔºåÈÄâÊã©‰∏Ä‰∏™EventLoopÁªëÂÆö‰∏äÂéª Ê≥®ÂÜåËØª‰∫ã‰ª∂ÔºåÂºÄÂßãÊñ∞ËøûÊé•ÁöÑËØªÂÜôÔºàÂèØ‰ª•ÂèÇËÄÉÊúçÂä°Á´ØÂêØÂä®ÊµÅÁ®ãÔºâ ÂèÇËÄÉ nettyÊ∫êÁ†ÅÂàÜÊûê‰πãÊñ∞ËøûÊé•Êé•ÂÖ•ÂÖ®Ëß£Êûê]]></content>
      <categories>
        <category>NettyÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>Netty</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NettyÊ∫êÁ†Å‰πãNioEventLoop]]></title>
    <url>%2F2018%2F08%2F06%2FNetty%E6%BA%90%E7%A0%81%2FNetty%E6%BA%90%E7%A0%81%E4%B9%8BNioEventLoop%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöË∞àÂà∞NettyÂ∞±ÈÅøÂÖç‰∏ç‰∫ÜÂéªË∞àReactorÊ®°ÂºèÔºå‰∏çÊáÇÁöÑÂêåÂ≠¶ÂêåËá™Ë°åÈù¢ÂêëÊêúÁ¥¢ÂºïÊìé„ÄÇÂú®Netty‰∏≠ÁöÑReactorÁ∫øÁ®ãÁöÑÂÖ∑‰ΩìÂÆûÁé∞Â∞±ÊòØNioEventLoop„ÄÇ NioEventLoopÂàõÂª∫Êàë‰ª¨ÂÖàÊÄªÁªìËøô‰∏™ËøáÁ®ãÁöÑÊµÅÁ®ãÔºö ËÆæÁΩÆEventLoopÊï∞Èáè ÂàõÂª∫Á∫øÁ®ãÂàõÂª∫Âô® ÂàõÂª∫NioEventLoopÔºàÈÖçÁΩÆselectorÂíåtaskQueueÁ≠âÂèÇÊï∞Ôºâ ÂàõÂª∫Á∫øÁ®ãÈÄâÊã©Âô® Êàë‰ª¨ÂõûÂà∞‰∏ä‰∏Ä‰∏™‰æãÂ≠êÁöÑÔºö 12EventLoopGroup bossGroup = new NioEventLoopGroup(1); // Áî®‰∫éÂ§ÑÁêÜserverChannelEventLoopGroup workerGroup = new NioEventLoopGroup(); // Áî®‰∫éÂ§ÑÁêÜchannel Êàë‰ª¨ËøõÂÖ•Âà∞NioEventLoopGroupÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120// step 1public NioEventLoopGroup(int nThreads) &#123; // Ê≤°Êúâ‰º†ÈÄíÁ∫øÁ®ãÊï∞ÔºåÈªòËÆ§‰∏∫0 // step 2 this(nThreads, (Executor) null);&#125;// step 2public NioEventLoopGroup(int nThreads, Executor executor) &#123; // ÁªëÂÆöÈªòËÆ§ÁöÑSelectorProvider // step 3 this(nThreads, executor, SelectorProvider.provider());&#125;// step 4public NioEventLoopGroup(int nThreads, Executor executor, final SelectorProvider selectorProvider) &#123; // ÁªëÂÆöÈªòËÆ§ÁöÑSelectorÁ≠ñÁï•Â∑•ÂéÇÔºåÂèØËÉΩselect()ÈòªÂ°ûÊàñËÄÖÈáçËØï // step 5 this(nThreads, executor, selectorProvider, DefaultSelectStrategyFactory.INSTANCE);&#125;// step 5public NioEventLoopGroup(int nThreads, Executor executor, final SelectorProvider selectorProvider, final SelectStrategyFactory selectStrategyFactory) &#123; // Ë∞ÉÁî®Áà∂Á±ªMultithreadEventLoopGroupÊûÑÈÄ†ÊñπÊ≥ïÔºåÁªëÂÆöRejectedExecutionHandler(ÔºüÔºü) // step 6 super(nThreads, executor, selectorProvider, selectStrategyFactory, RejectedExecutionHandlers.reject());&#125;// step 6 MultithreadEventLoopGroupprotected MultithreadEventLoopGroup(int nThreads, Executor executor, Object...args) &#123; // step 7 Êü•ÁúãÈªòËÆ§Á∫øÁ®ã‰∏™Êï∞ // step 8 super(nThreads == 0 ? DEFAULT_EVENT_LOOP_THREADS: nThreads, executor, args);&#125;// step 7static &#123; // Êàë‰ª¨ÂèëÁé∞ÊòØ‰∏§ÂÄçÁöÑCPUÊ†∏Êï∞(ÂΩìÁÑ∂ËøôÈáåÊòØworkGroup) DEFAULT_EVENT_LOOP_THREADS = Math.max(1, SystemPropertyUtil.getInt("io.netty.eventLoopThreads", NettyRuntime.availableProcessors() * 2));&#125;// step 8protected MultithreadEventExecutorGroup(int nThreads, Executor executor, Object...args) &#123; // ÁªëÂÆö‰∫ÜDefaultEventExecutorChooserÂ∑•ÂéÇ(ËØ•Â∑•ÂéÇÈªòËÆ§ËΩÆËØ¢Á≠ñÁï•) // step 9 this(nThreads, executor, DefaultEventExecutorChooserFactory.INSTANCE, args);&#125;// step 9protected MultithreadEventExecutorGroup(int nThreads, Executor executor, EventExecutorChooserFactory chooserFactory, Object...args) &#123; // ** ÂàõÂª∫Á∫øÁ®ãÂô®ÁîüÊàêÂô® // step 10 executor = new ThreadPerTaskExecutor(newDefaultThreadFactory()); // ‰∫ã‰ª∂ÊâßË°åÂô®Êï∞ÁªÑ children = new EventExecutor[nThreads]; for (int i = 0; i &lt; nThreads; i++) &#123; // ** ÂàõÂª∫ NioEventLoop // step 11 children[i] = newChild(executor, args); &#125; // ** ÂàõÂª∫Á∫øÁ®ãÈÄâÊã©Âô® // step 15 chooser = chooserFactory.newChooser(children); Set &lt; EventExecutor &gt; childrenSet = new LinkedHashSet &lt; EventExecutor &gt; (children.length); Collections.addAll(childrenSet, children); readonlyChildren = Collections.unmodifiableSet(childrenSet);&#125;// step 10public final class ThreadPerTaskExecutor implements Executor &#123; private final ThreadFactory threadFactory; public ThreadPerTaskExecutor(ThreadFactory threadFactory) &#123; // ÁªëÂÆöÁ∫øÁ®ãÂ∑•ÂéÇ this.threadFactory = threadFactory; &#125; @Override public void execute(Runnable command) &#123; threadFactory.newThread(command).start(); &#125;&#125;// step 11protected EventLoop newChild(Executor executor, Object...args) throws Exception &#123; // ÁªëÂÆöSelectStrategyÂíåRejectedExecutionHandler // step 12 return new NioEventLoop(this, executor, (SelectorProvider) args[0], ((SelectStrategyFactory) args[1]).newSelectStrategy(), (RejectedExecutionHandler) args[2]);&#125;// step 12 NioEventLoopprivate volatile int ioRatio = 50;NioEventLoop(NioEventLoopGroup parent, Executor executor, SelectorProvider selectorProvider, SelectStrategy strategy, RejectedExecutionHandler rejectedExecutionHandler) &#123; super(parent, executor, false, DEFAULT_MAX_PENDING_TASKS, rejectedExecutionHandler); // ‰øùÂ≠òselectorProvider provider = selectorProvider; // ËøôÈáåÂàõÂª∫selectorÔºåÈáåÈù¢ÂàõÂª∫‰∫ÜSelectedSelectionKeySet final SelectorTuple selectorTuple = openSelector(); // ‰øùÂ≠òselector ‰∏Ä‰∏™selector‰ºö‰∏é‰∏Ä‰∏™EventLoopÂÅöÂîØ‰∏ÄÁöÑÁªëÂÆö selector = selectorTuple.selector; // ‰øùÂ≠òunwrappedSelector(Ëøô‰∏™Âú®Ââç‰∏ÄÁØáÂçöÊñáÁöÑÊó∂ÂÄôÁî®Âà∞‰∫Ü) unwrappedSelector = selectorTuple.unwrappedSelector; selectStrategy = strategy;&#125;// step 13 SingleThreadEventLoopprotected SingleThreadEventLoop(EventLoopGroup parent, Executor executor, boolean addTaskWakesUp, int maxPendingTasks, RejectedExecutionHandler rejectedExecutionHandler) &#123; // step 14 super(parent, executor, addTaskWakesUp, maxPendingTasks, rejectedExecutionHandler); // ‰øùÂ≠ò‰∫Ü‰∏Ä‰∏™‰ªªÂä°ÈòüÂàó tailTasks = newTaskQueue(maxPendingTasks);&#125;// step 14 SingleThreadEventExecutorprotected SingleThreadEventExecutor(EventExecutorGroup parent, Executor executor, boolean addTaskWakesUp, int maxPendingTasks, RejectedExecutionHandler rejectedHandler) &#123; super(parent); this.addTaskWakesUp = addTaskWakesUp; this.maxPendingTasks = Math.max(16, maxPendingTasks); // ‰øùÂ≠ò Á∫øÁ®ãÂô®ÁîüÊàêÂô® this.executor = ObjectUtil.checkNotNull(executor, "executor"); // ‰ªªÂä°ÈòüÂàó taskQueue = newTaskQueue(this.maxPendingTasks); rejectedExecutionHandler = ObjectUtil.checkNotNull(rejectedHandler, "rejectedHandler");&#125;// step 15public EventExecutorChooser newChooser(EventExecutor[] executors) &#123; // ËøôÈáåÊ†πÊçÆeventLoopÁöÑ‰∏™Êï∞ËøõË°å‰∫Ü‰ºòÂåñ(Ëá™Ë°å‰∫ÜËß£) if (isPowerOfTwo(executors.length)) &#123; return new PowerOfTwoEventExecutorChooser(executors); &#125; else &#123; return new GenericEventExecutorChooser(executors); &#125;&#125; ÂàõÂª∫ÂÆåÊàêÔºÅÔºÅÔºÅ NioEventLoopÂêØÂä®ÂÆÉÁöÑÁ¨¨‰∏ÄÊ¨°ÂêØÂä®ËøòÊòØË¶ÅÂõûÂà∞Ââç‰∏ÄÁØáÂçöÊñáÁöÑËøô‰∏Ä‰∏™Ê≠•È™§‰∏≠Ôºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879// step 1 AbstractBootstrappublic final void register(EventLoop eventLoop, final ChannelPromise promise) &#123; // ÊãøÂà∞‰πãÂâçÁªëÂÆöÁöÑeventLoop AbstractChannel.this.eventLoop = eventLoop; // step 2 ËøõÂÖ•inEventLoopÊñπÊ≥ï‰∏≠ if (eventLoop.inEventLoop()) &#123; register0(promise); &#125; else &#123; // ÊâÄ‰ª•ËøõÂÖ•ËøôÈáå‰∫Ü // step 4 eventLoop.execute(new Runnable() &#123;@Override public void run() &#123; register0(promise); &#125; &#125;); &#125;&#125;// step 2 AbstractEventExecutorpublic boolean inEventLoop() &#123; // Ëøô‰∏™Êó∂ÂÄôÂΩìÂâçÁ∫øÁ®ã‰∏∫‰∏ªÁ∫øÁ®ã // step 3 return inEventLoop(Thread.currentThread());&#125;// step 3 SingleThreadEventExecutorpublic boolean inEventLoop(Thread thread) &#123; // ËØ•Á±ª‰∏≠ÁöÑthread‰∏∫nullÔºåÊâÄÊúâËøîÂõûfalse return thread == this.thread;&#125;// step 4public void execute(Runnable task) &#123; // ËøòÊòØ‰∏ªÁ∫øÁ®ãÔºåËøòÊòØfalse boolean inEventLoop = inEventLoop(); // Â∞Ü‰ªªÂä°Ê∑ªÂä†Âà∞ÈòüÂàó addTask(task); if (!inEventLoop) &#123; // ÂºÄÂêØÁ∫øÁ®ã // step 4 startThread(); &#125; if (!addTaskWakesUp &amp;&amp; wakesUpForTask(task)) &#123; wakeup(inEventLoop); &#125;&#125;// step 4private void startThread() &#123; // state ÈªòËÆ§‰∏∫ST_NOT_STARTEDÊ≤°ÊúâÂêØÂä® if (state == ST_NOT_STARTED) &#123; // ÂéüÂ≠êÊõ¥Êñ∞‰∏∫ÂºÄÂßã if (STATE_UPDATER.compareAndSet(this, ST_NOT_STARTED, ST_STARTED)) &#123; // step 5 doStartThread(); &#125; &#125;&#125;// step 5private void doStartThread() &#123; // ËøòËÆ∞ÂæóÈÇ£‰∏™executorÂêóÔºåÂ∞±ÊòØÈÇ£‰∏™Á∫øÁ®ãÁîüÊàêÂô® // step 6 executor.execute(new Runnable() &#123;@Override public void run() &#123; thread = Thread.currentThread(); // ÊâßË°åËá™Â∑±ÁöÑrunÊñπÊ≥ï // step 8 SingleThreadEventExecutor.this.run(); &#125;);&#125;// step 6 ThreadPerTaskExecutorpublic void execute(Runnable command) &#123; // ÂàõÂª∫Á∫øÁ®ãÂπ∂ÂºÄÂêØÁ∫øÁ®ã // step 7 newThread() // start() ËøîÂõûÂà∞run() step 6 threadFactory.newThread(command).start();&#125;// step 7public Thread newThread(Runnable r) &#123; // ËøôÈáåÂèØ‰ª•ÁúãÂá∫‰∏§ÁÇπÔºå1ÔºåËøîÂõû‰∫Ü‰∏Ä‰∏™‰ºòÂåñËøáÁöÑFastThreadLocalRunnableÔºõ2ÔºåÁúãÂà∞‰∫ÜÁ∫øÁ®ãÂêç // Á∫øÁ®ãÂêçÁöÑÁî±Êù•ÂèØ‰ª•ÁôæÂ∫¶ Thread t = newThread(FastThreadLocalRunnable.wrap(r), prefix + nextId.incrementAndGet()); return t;&#125; ÂêØÂä®ÂÆåÊØï‰∫ÜÔºÅÔºÅÔºÅ NioEventLoopÊâßË°å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243// step 1 ËøôÈáåÂ∞±ÊòØÁúüÁöÑreactorÁ∫øÁ®ãÁúüÊ≠£ÂºÄÂßãÂπ≤Ê¥ªÁöÑÂú∞Êñπprotected void run() &#123; // Ê≠ªÂæ™ÁéØÔºåÂπ≤‰∏â‰ª∂‰∫ã // 1. select // 2. process selected keys // 3. run tasks for (;;) &#123; try &#123; // ËøòÊúâ‰ªªÂä°Âú®ÊâßË°åÁ≠âÁùÄÔºåÊ≤°Êúâ‰∫ÜÔºåÂ∞±ÂºÄÂßãselect switch (selectStrategy.calculateStrategy(selectNowSupplier, hasTasks())) &#123; case SelectStrategy.CONTINUE: continue; case SelectStrategy.SELECT: // 1. ËΩÆËØ¢Ê≥®ÂÜåÂà∞EventLoopÁöÑSelector‰∏äÁöÑÊâÄÊúâchannelIO‰∫ã‰ª∂ // wakenUp Ë°®Á§∫ÊòØÂê¶Â∫îËØ•Âî§ÈÜíÊ≠£Âú®ÈòªÂ°ûÁöÑselectÊìç‰ΩúÔºåÊØèÊ¨°ÂºÄÂßãÈÉΩÁΩÆ‰∏∫false // step 2 select(wakenUp.getAndSet(false)); if (wakenUp.get()) &#123; selector.wakeup(); &#125; // fall through default: &#125; // 2. Â§ÑÁêÜ‰∫ßÁîüIO‰∫ã‰ª∂ÁöÑchannel // step 3 processSelectedKeys(); // 3. Â§ÑÁêÜ‰ªªÂä°ÈòüÂàóÔºå‰ΩÜÊòØ‰∏çËÉΩË∂ÖËøá‰∏Ä‰∏™Êó∂Èó¥ // step 8 runAllTasks(ioTime * (100 - ioRatio) / ioRatio); &#125; &#125;&#125; // step 2 ËΩÆËØ¢Ê≥®ÂÜåÂà∞EventLoopÁöÑSelector‰∏äÁöÑÊâÄÊúâchannelIO‰∫ã‰ª∂private void select(boolean oldWakenUp) throws IOException &#123; Selector selector = this.selector; try &#123; int selectCnt = 0; long currentTimeNanos = System.nanoTime(); // ËÆæÁΩÆÊà™Ê≠¢Êó∂Èó¥(ÂΩìÂâçÊó∂Èó¥ + ÂÆöÊó∂‰ªªÂä°ÁöÑÂ∞ÜË¶ÅÊà™Ê≠¢ÁöÑÊó∂Èó¥) // nettyÈáåÈù¢ÂÆöÊó∂‰ªªÂä°ÈòüÂàóÊòØÊåâÁÖßÂª∂ËøüÊó∂Èó¥‰ªéÂ∞èÂà∞Â§ßËøõË°åÊéíÂ∫è // delayNanos(currentTimeNanos)ÊñπÊ≥ïÂç≥ÂèñÂá∫Á¨¨‰∏Ä‰∏™ÂÆöÊó∂‰ªªÂä°ÁöÑÂª∂ËøüÊó∂Èó¥ long selectDeadLineNanos = currentTimeNanos + delayNanos(currentTimeNanos); for (;;) &#123; long timeoutMillis = (selectDeadLineNanos - currentTimeNanos + 500000L) / 1000000L; // Â¶ÇÊûúË∂ÖÂá∫Êà™Ê≠¢Êó∂Èó¥0.5ms if (timeoutMillis &lt;= 0) &#123; if (selectCnt == 0) &#123; // Â¶ÇÊûúÂú®Ë∑≥Âá∫‰πãÂâçÂèëÁé∞ËøòÊ≤°ÊúâËøõË°åËøáselectÊìç‰ΩúÂ∞±ÊâßË°å‰∏ÄÊ¨°selectNow()(‰∏ç‰ºöÈòªÂ°û) selector.selectNow(); selectCnt = 1; &#125; break; &#125; // ËΩÆËØ¢ËøáÁ®ã‰∏≠ÂèëÁé∞Êúâ‰ªªÂä°Âä†ÂÖ•Ôºå‰∏≠Êñ≠Êú¨Ê¨°ËΩÆËØ¢ if (hasTasks() &amp;&amp; wakenUp.compareAndSet(false, true)) &#123; selector.selectNow(); selectCnt = 1; break; &#125; // ÈòªÂ°ûÊó∂ËΩÆËØ¢ int selectedKeys = selector.select(timeoutMillis); selectCnt++; if (selectedKeys != 0 || oldWakenUp || wakenUp.get() || hasTasks() || hasScheduledTasks()) &#123; // ËøôÈáåËøòÊèê‰æõ‰∫Ü4ÁßçÊñπÂºèÊù•‰∏≠Êñ≠ËΩÆËØ¢ // - ËΩÆËØ¢Âà∞io‰∫ã‰ª∂, // - Áî®Êà∑‰∏ªÂä®Âî§ÈÜí // - ‰ªªÂä°ÈòüÂàóÊúâ‰ªªÂä° // - ÊúâÂÆöÊó∂‰ªªÂä°ÈúÄË¶ÅË¢´Â§ÑÁêÜ break; &#125; // ËøôÈáåÂ∞±ÂæàÈáçË¶Å‰∫ÜÔºåÁúãÁúãNettyÊòØÊÄé‰πàËß£ÂÜ≥JDK NIOÁöÑÁ©∫ËΩÆËÆ≠bugÁöÑ long time = System.nanoTime(); if (time - TimeUnit.MILLISECONDS.toNanos(timeoutMillis) &gt;= currentTimeNanos) &#123; // ÊúâÊïàËΩÆËØ¢ÔºåÈáçÁΩÆÊ†áÂøó‰Ωç selectCnt = 1; &#125; else if (SELECTOR_AUTO_REBUILD_THRESHOLD &gt; 0 &amp;&amp; selectCnt &gt;= SELECTOR_AUTO_REBUILD_THRESHOLD) &#123; // ÂΩìÁ©∫ËΩÆËÆ≠ÁöÑÊ¨°Êï∞Ë∂ÖËøáSELECTOR_AUTO_REBUILD_THRESHOLD(ÈªòËÆ§512)Êó∂ÔºåÂ∞±ÂºÄÂßãÈáçÂª∫Selector // step 3 rebuildSelector(); selector = this.selector; // Select again to populate selectedKeys. selector.selectNow(); selectCnt = 1; break; &#125; currentTimeNanos = time; &#125; &#125;&#125; // step 3public void rebuildSelector() &#123; // step 4 rebuildSelector0();&#125;// step 4private void rebuildSelector0() &#123; final Selector oldSelector = selector; final SelectorTuple newSelectorTuple; // ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑselector newSelectorTuple = openSelector(); int nChannels = 0; for (SelectionKey key: oldSelector.keys()) &#123; Object a = key.attachment(); int interestOps = key.interestOps(); // ÂèñÊ∂àkeyÂú®ÊóßÁöÑselector‰∏äÁöÑ‰∫ã‰ª∂Ê≥®ÂÜå key.cancel(); // Â∞ÜÊâÄÊúâchannelÈáçÊñ∞Ê≥®ÂÜåÂà∞Êñ∞ÁöÑselector‰∏ä SelectionKeynewKey = key.channel().register(newSelectorTuple.unwrappedSelector, interestOps, a); nChannels++; &#125; // eventLoopÁªëÂÆöÊñ∞ÁöÑseletor selector = newSelectorTuple.selector; unwrappedSelector = newSelectorTuple.unwrappedSelector;&#125;// step 5private void processSelectedKeys() &#123; // ÂèØÂÆö‰∏ç‰∏∫Á©∫ÔºåÂõ†‰∏∫Âú®NioEventLoop ÁöÑ openSelectorÊñπÊ≥ï‰∏≠ÂàõÂª∫‰∫Ü if (selectedKeys != null) &#123; // ‰∏∫‰ªÄ‰πàËØ¥SelectedKeysÊòØ‰ºòÂåñËøáÁöÑÔºåÊòØÂõ†‰∏∫ÂéüÁîüÁöÑSelectedKeysÊòØSetÔºåÊ∑ªÂä†‰∏Ä‰∏™‰∫ã‰ª∂‰∏∫O(logn) // ‰ºòÂåñËøáÂêé‰ΩøÁî®Êï∞ÁªÑÊù•Êìç‰ΩúÔºåÊ∑ªÂä†‰∏Ä‰∏™‰∫ã‰ª∂‰∏∫O(1) // ÂÖ∑‰ΩìÁöÑÂèØ‰ª•ÂèÇËÄÉÈó™Áîµ‰æ†ÁöÑÂçöÂÆ¢ÔºåÊàëËøôÈáåÂ∞±‰∏çÂ§öËØ¥‰∫Ü // step 6 processSelectedKeysOptimized(); &#125; else &#123; processSelectedKeysPlain(selector.selectedKeys()); &#125;&#125;// step 6private void processSelectedKeysOptimized() &#123; for (int i = 0; i &lt; selectedKeys.size; ++i) &#123; final SelectionKey k = selectedKeys.keys[i]; // ËÆ©ÂØπË±°ÂèØ‰ª•Ë¢´GC selectedKeys.keys[i] = null; final Object a = k.attachment(); if (a instanceof AbstractNioChannel) &#123; // ÊãøÂà∞Êê∫Â∏¶ÁöÑchannel // step 7 processSelectedKey(k, (AbstractNioChannel) a); &#125; else &#123;@SuppressWarnings("unchecked") NioTask &lt; SelectableChannel &gt; task = (NioTask &lt; SelectableChannel &gt; ) a; processSelectedKey(k, task); &#125; if (needsToSelectAgain) &#123; selectedKeys.reset(i + 1); selectAgain(); i = -1; &#125; &#125;&#125;// step 7private void processSelectedKey(SelectionKey k, AbstractNioChannel ch) &#123; // ÊãøÂà∞NioEventLoopÁöÑUnsafeÂØπË±° final AbstractNioChannel.NioUnsafe unsafe = ch.unsafe(); // ÊãøÂà∞NioEventLoopÁöÑeventLoopÂØπË±° eventLoop = ch.eventLoop(); // ÊãøÂà∞‰∫ã‰ª∂ int readyOps = k.readyOps(); // ËøûÊé•‰∫ã‰ª∂Â§ÑÁêÜ if ((readyOps &amp; SelectionKey.OP_CONNECT) != 0) &#123; int ops = k.interestOps(); // Ëé∑ÂæóÊÑüÂÖ¥Ë∂£ÁöÑ‰∫ã‰ª∂ ops &amp;= ~SelectionKey.OP_CONNECT; // ÈáçÊñ∞Ê≥®ÂÜå k.interestOps(ops); // ÂÆåÊàêÈìæÊé• unsafe.finishConnect(); &#125; // ÂÜô‰∫ã‰ª∂Â§ÑÁêÜ if ((readyOps &amp; SelectionKey.OP_WRITE) != 0) &#123; ch.unsafe().forceFlush(); &#125; // ËØª‰∫ã‰ª∂(work)ÊàñËÄÖÂª∫Á´ãËøûÊé•‰∫ã‰ª∂ÔºàbossÔºâÂ§ÑÁêÜ if ((readyOps &amp; (SelectionKey.OP_READ | SelectionKey.OP_ACCEPT)) != 0 || readyOps == 0) &#123; // ÈÉΩÊòØreadÊñπÊ≥ïÔºåÂè™ÊòØÂÆûÁé∞‰∏çÂêå unsafe.read(); &#125;&#125;// step 8 Â§ÑÁêÜ‰ªªÂä°ÈòüÂàóprotected boolean runAllTasks(long timeoutNanos) &#123; // Â∞ÜÂÆöÊó∂‰ªªÂä°ÊîæÂÖ•ÊôÆÈÄö‰ªªÂä°ÈòüÂàó(ÂÆÉÊòØ‰∏Ä‰∏™Â§öÁîü‰∫ßËÄÖÂçïÊ∂àË¥πËÄÖÈòüÂàó) // step 9 fetchFromScheduledTaskQueue(); // ÊãøÂá∫‰∏Ä‰∏™ÊôÆÈÄö‰ªªÂä° Runnable task = pollTask(); if (task == null) &#123; // ËøêË°åÊî∂Â∞æ‰ªªÂä°ÈòüÂàótailTasks afterRunningAllTasks(); return false; &#125; // ËÆ°ÁÆóÂá∫Êú¨Ê¨°Âæ™ÁéØÁöÑËÉΩÂ§üËøêË°åÁöÑÊúÄÂ§öÊó∂Èó¥ final long deadline = ScheduledFutureTask.nanoTime() + timeoutNanos; long runTasks = 0; long lastExecutionTime; for (;;) &#123; // ÊâßË°å‰ªªÂä°(ËøôÈáå‰∏ÄÂÆöË¶ÅÂ§öË∞ÉËØïÂá†Ê¨°Êâç‰ºöÊúâÊÑüËßâÔºå‰ªªÂä°ÈòüÂàóÁöÑÊÑüËßâ‰∏Ä‰∏ãÂ≠êÂ∞±Âá∫Êù•‰∫Ü) // step 10 safeExecute(task); runTasks++; // Áî±‰∫éScheduledFutureTask.nanoTime()ÊØîËæÉËÄóÊó∂ÔºåÊâÄ‰ª•Ê≤°64Ê¨°ÊØîËæÉ‰∏ÄÊ¨°ÊòØÂê¶Ë∂ÖÊó∂ if ((runTasks &amp; 0x3F) == 0) &#123; lastExecutionTime = ScheduledFutureTask.nanoTime(); if (lastExecutionTime &gt;= deadline) &#123; break; &#125; &#125; task = pollTask(); if (task == null) &#123; lastExecutionTime = ScheduledFutureTask.nanoTime(); break; &#125; &#125; afterRunningAllTasks(); this.lastExecutionTime = lastExecutionTime; return true;&#125;// step 9private boolean fetchFromScheduledTaskQueue() &#123; long nanoTime = AbstractScheduledEventExecutor.nanoTime(); // ÂÆöÊó∂‰ªªÂä°ÈòüÂàóÊòØ‰∏Ä‰∏™‰ºòÂÖàÁ∫ßÈòüÂàóÔºåÂπ∂‰∏î‰ªªÂä°ÂÆûÁé∞‰∫ÜcompareToÊñπÊ≥ïÔºåÂèØ‰ª•ËøîÂõûÂø´ÈúÄË¶ÅË¢´ÊâßË°åÁöÑÂÆöÊó∂‰ªªÂä° Runnable scheduledTask = pollScheduledTask(nanoTime); while (scheduledTask != null) &#123; if (!taskQueue.offer(scheduledTask)) &#123; // Â¶ÇÊûúÊôÆÈÄöÈòüÂàóÊª°‰∫ÜÔºåÂ∞±ÂèàÊîæÂõûÂéª scheduledTaskQueue().add((ScheduledFutureTask &lt; ?&gt;) scheduledTask); return false; &#125; // ÊãøÂà∞ÂÆöÊó∂‰ªªÂä° scheduledTask = pollScheduledTask(nanoTime); &#125; return true;&#125;// step 10protected static void safeExecute(Runnable task) &#123; // Â∞±Âè™ÊòØËøêË°åËøô‰∏™‰ªªÂä°Ôºå‰ΩÜÊòØ‰∏Ä‰∏™Âá∫Èîô‰∫ÜÔºå‰πü‰ºöÁªßÁª≠ËøõË°å‰∏ãÂéª task.run();&#125; ÊâßË°åÂÆåÊØïÔºÅÔºÅÔºÅ ÊÄªÁªìËôΩÁÑ∂ËøòÊòØÊúâÂæàÂ§öÁªÜËäÇÊ≤°ÊúâË∞ÉËØïÂà∞Ôºå‰ΩÜÊòØÂ§ßÊ¶ÇÁöÑÊµÅÁ®ãÂ∫îËØ•ÈÉΩËµ∞‰∫Ü‰∏ÄÈÅçÔºåÂ∏åÊúõÂ§öË∞ÉËØïÔºåÁÑ∂ÂêéÊâç‰ºöÊ∑±ÊÑüEventLoopÁöÑÂêäÔºÅÔºÅ ÂèÇËÄÉ nettyÊ∫êÁ†ÅÂàÜÊûê‰πãÊè≠ÂºÄreactorÁ∫øÁ®ãÁöÑÈù¢Á∫±Ôºà‰∏ÄÔºâ nettyÊ∫êÁ†ÅÂàÜÊûê‰πãÊè≠ÂºÄreactorÁ∫øÁ®ãÁöÑÈù¢Á∫±Ôºà‰∫åÔºâ nettyÊ∫êÁ†ÅÂàÜÊûê‰πãÊè≠ÂºÄreactorÁ∫øÁ®ãÁöÑÈù¢Á∫±Ôºà‰∏âÔºâ]]></content>
      <categories>
        <category>NettyÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>Netty</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NettyÊ∫êÁ†Å‰πãÊúçÂä°Á´ØÂêØÂä®]]></title>
    <url>%2F2018%2F08%2F06%2FNetty%E6%BA%90%E7%A0%81%2FNetty%E6%BA%90%E7%A0%81%E4%B9%8B%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%90%AF%E5%8A%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöNettyÂêØÂä®Âï¶ÔºÅÂºÄÂøÉËÑ∏ÔºÅ‰ΩÜÊòØËøôÂèàÂèØËÉΩÊòØ‰∏ÄÁØáÂèàËá≠ÂèàÈïøÁî±ÁªïÁöÑÊñáÁ´†ÔºåÈúÄË¶ÅÁÇπËÄêÂøÉÔºåÈúÄË¶ÅÁÇπÂä®ÊâãËÉΩÂäõ„ÄÇÊó†Â•àËÑ∏ÔºÅÔºÅÔºÅ Netty ExampleÊàëÈÄâÊã©‰∫ÜNettyÊ∫êÁ†Å‰∏≠ÁöÑEchoServerÊù•‰Ωú‰∏∫‰æãÂ≠êÔºåÂÆÉÂú®io.netty.example.echoÂåÖ‰∏ãÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫ÔºàÂøΩÁï•ÁªÜËäÇÔºå‰∏ìÊ≥®Ê†∏ÂøÉÔºâÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041public final class EchoServer &#123; public static void main(String[] args) throws Exception &#123; static final int PORT = Integer.parseInt(System.getProperty("port", "8007")); // ÈÖçÁΩÆServerÁ´Ø // AbstractBootstrapÁöÑgroup EventLoopGroup bossGroup = new NioEventLoopGroup(1); // ServerBootstrapÁöÑchildGroup EventLoopGroup workerGroup = new NioEventLoopGroup(); final EchoServerHandler serverHandler = new EchoServerHandler(); try &#123; // Âú®ÂÆÉÂàõÂª∫ÁöÑËøáÁ®ã‰∏≠‰ºöÁªëÂÆö‰∏Ä‰∏™ServerBootstrapConfig‰øùÂ≠òÂÆÉÁöÑÂ±ûÊÄß ServerBootstrap b = new ServerBootstrap(); // ÊñπÊ≥ïÈìæÈÖçÁΩÆÁ±ªÔºåÂèØ‰ª•Â≠¶‰π† // ÊúçÂä°Á´ØÁöÑBootstrapÊâçÊúâ‰∏§‰∏™ÂèÇÊï∞ÁöÑgroupÊñπÊ≥ï b.group(bossGroup, workerGroup) // ËÆæÁΩÆAbstractBootstrapÁöÑchannelFactoryÂèÇÊï∞ .channel(NioServerSocketChannel.class) // ËÆæÁΩÆAbstractBootstrapÁöÑoptionsÂèÇÊï∞(Â∏∏ÈáèÊ±†ÂÆûÁé∞ÔºåConcurrentMap),ÂèØ‰ª•Â≠¶‰π† .option(ChannelOption.SO_BACKLOG, 100) // ËÆæÁΩÆAbstractBootstrapÁöÑhandlerÂèÇÊï∞ÔºåËøôÈáåÈÖçÁΩÆ‰∫Ü‰∏Ä‰∏™Êó•ÂøóÂ§ÑÁêÜÁ±ª .handler(new LoggingHandler(LogLevel.INFO)) // ËÆæÁΩÆServerBootstrapÁöÑchildHandlerÂèÇÊï∞ .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() &#123; @Override public void initChannel(SocketChannel ch) throws Exception &#123; ChannelPipeline p = ch.pipeline(); p.addLast(serverHandler); &#125; &#125;); // ÊúçÂä°Á´ØÂêØÂä®(‰∏ÄÂàáÂàÜÊûêÁöÑÊ∫êÂ§¥) ChannelFuture f = b.bind(PORT).sync(); // Á≠âÂæÖÊúçÂä°Á´ØÂÖ≥Èó≠socket f.channel().closeFuture().sync(); &#125; finally &#123; // ‰ºòÈõÖÂÖ≥Èó≠‰∏§ÁªÑÊ≠ªÂæ™ÁéØ bossGroup.shutdownGracefully(); workerGroup.shutdownGracefully(); &#125; &#125;&#125; Ê∫êÁ†ÅÂàÜÊûê‰∏äÈù¢ÁöÑ‰æãÂ≠êÁöÑÊ≥®ÈáäÂ∑≤ÁªèÂæàÊ∏ÖÊ•ö‰∫ÜÔºåÂú®ÂêØÂä®‰πãÂâç‰∏ªË¶ÅÂ∞±ÊòØÂú®ÈÖçÁΩÆÂêØÂä®Á±ªServerBootstrap„ÄÇÁé∞Âú®ÊàëÂ∞±‰∏ãÈù¢ÁöÑÂêØÂä®ÊñπÊ≥ïÂºÄÂßãÊ∑±ÂÖ•ÂàÜÊûê(debugÔºå‰ª£Á†ÅÂ±ïÁ§∫‰ºöÂøΩÁï•ÁªÜËäÇ)Ôºö 1ChannelFuture f = b.bind(PORT).sync(); BootstrapÁõ∏ÂÖ≥Êàë‰ª¨ÂèØ‰ª•ÁúãÁúãËøô‰∏™Á±ªÂπ≤‰∫Ü‰ªÄ‰πàÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109// step 1public ChannelFuture bind(int inetPort) &#123; // ÈÄöËøáÁ´ØÂè£ÁîüÊàê‰∏Ä‰∏™InetSocketAddress // step 2 return bind(new InetSocketAddress(inetPort));&#125;// step 2public ChannelFuture bind(SocketAddress localAddress) &#123; // È™åËØÅgroupÂíåchannelFactoryÊòØÂê¶‰º†ËøõÊù•‰∫Ü validate(); // ÈùûÁ©∫Âà§Êñ≠ÔºåËøôÈáåÂè™ËØ¥‰∏ÄÊ¨°ÔºåÂ§ßÁöÑÂ∑•Á®ãÈ°πÁõÆÔºåÂøÖÈ°ªÈÄöËøáÈò≤Âæ°ÊÄßÁºñÁ®ãÊù•Â¢ûÂº∫È≤ÅÊ£íÊÄß if (localAddress == null) &#123; throw new NullPointerException("localAddress"); &#125; // step 3 return doBind(localAddress);&#125;// step 3private ChannelFuture doBind(final SocketAddress localAddress) &#123; // ÂàùÂßãÂåñserverChannelÔºåÂπ∂Â∞ÜeventloopÊ≥®ÂÜåÂà∞serverChannel‰∏ä // step 4 final ChannelFuture regFuture = initAndRegister(); // Ëé∑ÂèñÂàöÂàöÂàõÂª∫ÁöÑserverChannelÔºåÁî±‰∫é‰πãÂêéÈÉΩ‰∏ç‰ºöÊîπÂèòÔºåÊâÄ‰ª•ËøôÈáåÂèØ‰ª•Áî®final‰øÆÈ•∞ final Channel channel = regFuture.channel(); // ÁªëÂÆöÂú∞ÂùÄ doBind0(regFuture, channel, localAddress, promise);&#125;// step 4final ChannelFuture initAndRegister() &#123; Channel channel = null; // ÁîüÊàê‰∏Ä‰∏™serverChannel // ËøôÈáåÁöÑchannelFactoryÊàë‰ª¨Âú®‰æãÂ≠ê‰ªãÁªçËøáÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂú®Â∑•ÂéÇ‰∏≠Âà©Áî®ÂèçÂ∞ÑÁîüÊàêÂØπÂ∫îÁöÑchannel // ËøôÈáåÊàë‰ª¨‰ºöÂú®NioServerSocketChannelÁ±ª‰∏≠ÂàÜÊûêÂÆÉÊûÑÈÄ†Êó∂‰ºöÂèëÁîü‰ªÄ‰πà(ÂèØ‰ª•Áõ¥Êé•Ë∑≥ËøáÂéªÁúã) channel = channelFactory.newChannel(); // ÂàùÂßãÂåñserverChannel // step 5 init(channel); // config().group()Â∞±ÊòØÈÄöËøáServerBootstrapConfigÊãøÂà∞bossGroupÊ≤°‰ªÄ‰πàÂ•ΩËØ¥ÁöÑÔºåÊàë‰ª¨ÈáçÁÇπÂÖ≥Ê≥®registerÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ËøõÂÖ•EventLoopGroupÂàÜÊûê(ÂèØ‰ª•Áõ¥Êé•Ë∑≥ËøáÂéªÁúã) // MultithreadEventLoopGroupÁöÑ step 1 ChannelFuture regFuture = config().group().register(channel); return regFuture;&#125;// step 5 ServerBootstrapÂÖ∑‰ΩìÂÆûÁé∞private final Map &lt; ChannelOption &lt; ?&gt;,Object &gt; childOptions;private final Map &lt; AttributeKey &lt; ?&gt;,Object &gt; childOptions;private final ServerBootstrapConfig config = new ServerBootstrapConfig(this);private volatile EventLoopGroup childGroup;private volatile ChannelHandler childHandler;void init(Channel channel) throws Exception &#123; // ÊãøÂà∞ËÆæÁΩÆÁöÑAbstractBootstrapÁöÑoptions final Map &lt; ChannelOption &lt; ?&gt;, Object &gt; options = options0(); // ÂêåÊ≠• synchronized(options) &#123; // ËÆæÁΩÆoptionsÔºåË∑ü‰∏ãÂéªÊàë‰ª¨‰ºöÂèëÁé∞Â∞ÜoptionsÊîæÂÖ•NioServerSocketChannelConfig‰∏≠ setChannelOptions(channel, options, logger); &#125; // ÂêåoptionsËÆæÁΩÆ final Map &lt; AttributeKey &lt; ?&gt;, Object &gt; attrs = attrs0(); synchronized(attrs) &#123; for (Entry &lt; AttributeKey &lt; ?&gt;, Object &gt; e: attrs.entrySet()) &#123;@SuppressWarnings("unchecked") AttributeKey &lt; Object &gt; key = (AttributeKey &lt; Object &gt; ) e.getKey(); channel.attr(key).set(e.getValue()); &#125; &#125; // ÊãøÂà∞ChannelPipeline ChannelPipeline p = channel.pipeline(); // ÊãøÂà∞‰πãÂâçÊ≥®ÂÖ•ÁöÑchildGroupÂíåchildHandler final EventLoopGroup currentChildGroup = childGroup; final ChannelHandler currentChildHandler = childHandler; // ËÆæÁΩÆchildOptionsÂíåchildOptionsÔºåËøô‰∫õÊòØÂ∫îÁî®‰∫é‰ª•ÂêéÊñ∞Êé•ÂÖ•ÁöÑchannel final Entry &lt; ChannelOption &lt; ?&gt;, Object &gt; [] currentChildOptions; final Entry &lt; AttributeKey &lt; ?&gt;, Object &gt; [] currentChildAttrs; synchronized(childOptions) &#123; currentChildOptions = childOptions.entrySet().toArray(newOptionArray(0)); &#125; synchronized(childAttrs) &#123; currentChildAttrs = childAttrs.entrySet().toArray(newAttrArray(0)); &#125; // Âä†ÂÖ•Êñ∞ËøûÊé•Â§ÑÁêÜÂô® p.addLast(new ChannelInitializer &lt; Channel &gt; () &#123;@Override public void initChannel(final Channel ch) throws Exception &#123; final ChannelPipeline pipeline = ch.pipeline(); // Â∞Ü‰ºöËé∑ÂæóÊúÄÊó©‰πãÂâçËÆæÁΩÆÁöÑnew LoggingHandler(LogLevel.INFO) ChannelHandler handler = config.handler(); // Êñ∞Â¢û‰∏Ä‰∏™Êñ∞ËøûÊé•Êé•ÂÖ•Âô®ServerBootstrapAcceptorÔºåÂÖ∑‰ΩìÁöÑÂèØ‰ª•Áúã‰πãÂêéÁöÑÂçöÊñá ch.eventLoop().execute(new Runnable() &#123;@Override public void run() &#123; pipeline.addLast(new ServerBootstrapAcceptor(ch, currentChildGroup, currentChildHandler, currentChildOptions, currentChildAttrs)); &#125; &#125;); &#125; &#125;);&#125;// step 6private static void doBind0(final ChannelFuture regFuture, final Channel channel, final SocketAddress localAddress, final ChannelPromise promise) &#123; // ÂèàÊòØÂºÇÊ≠•‰ªªÂä°ÔºåNettyÈöèÂ§ÑÂèØËßÅ channel.eventLoop().execute(new Runnable() &#123;@Override public void run() &#123; if (regFuture.isSuccess()) &#123; // AbstractChannel step 11 channel.bind(localAddress, promise).addListener(ChannelFutureListener.CLOSE_ON_FAILURE); &#125; else &#123; promise.setFailure(regFuture.cause()); &#125; &#125; &#125;);&#125; ChannelÁõ∏ÂÖ≥ÂàõÂª∫‰∏Ä‰∏™NioServerSocketChannelÂØπË±°‰ºöÂèëÁîü‰ªÄ‰πàÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149private static final SelectorProvider DEFAULT_SELECTOR_PROVIDER = SelectorProvider.provider();// ServerSocketChannelÁöÑ‰∏ÄÁ≥ªÂàóÈÖçÁΩÆÂ±ûÊÄßprivate final ServerSocketChannelConfig config;// step 1(ÈªòËÆ§ÊûÑÈÄ†ÂáΩÊï∞)public NioServerSocketChannel() &#123; // step 2Ôºåstep 3 this(newSocket(DEFAULT_SELECTOR_PROVIDER));&#125;// step 2private static ServerSocketChannel newSocket(SelectorProvider provider) &#123; // Âà©Áî®JDK NIO ÂàõÂª∫ÁöÑSeveSocketrChannel return provider.openServerSocketChannel();&#125;// step 3public NioServerSocketChannel(ServerSocketChannel channel) &#123; // step 4 super(null, channel, SelectionKey.OP_ACCEPT); // ÈÖçÁΩÆNioServerSocketChannelConfig(ÂàùÂßãÂåñ‰ºöÁî®Âà∞) config = new NioServerSocketChannelConfig(this, javaChannel().socket());&#125;// step 4 AbstractNioMessageChannelprotected AbstractNioMessageChannel(Channel parent, SelectableChannel ch, int readInterestOp) &#123; // step 5 super(parent, ch, readInterestOp);&#125;// step 5 AbstractNioChannelprivate final SelectableChannel ch;protected final int readInterestOp;protected AbstractNioChannel(Channel parent, SelectableChannel ch, int readInterestOp) &#123; // step 6 super(parent); // ‰øùÂ≠òÂéüÁîüÁöÑServerSocketChannel this.ch = ch; // ‰øùÂ≠òÊÑüÂÖ¥Ë∂£ÁöÑ‰∫ã‰ª∂(SelectionKey.OP_ACCEPTÔºå1&lt;&lt;4) this.readInterestOp = readInterestOp; // Â∞ÜChannelËÆæÁΩÆ‰∏∫ÈùûÈòªÂ°û ch.configureBlocking(false);&#125;// step 6 AbstractChannelprivate final Channel parent;private final ChannelId id;private final Unsafe unsafe;private final DefaultChannelPipeline pipeline;protected AbstractChannel(Channel parent) &#123; this.parent = parent; // ÁîüÊàêchannelÁöÑÂîØ‰∏ÄÊ†áËØÜÔºåËá™Â∑±ÂèØ‰ª•ÂéªÁúãÁúãÂÆûÁé∞ id = newId(); // ÁîüÊàêunsafeÂØπË±°(ËøõË°åÂ∫ïÂ±ÇÁöÑIOÊìç‰Ωú)Ôºå‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÔºåÈúÄË¶ÅÂÖ∑‰ΩìÂÆûÁé∞ÔºåÂÆÉÁöÑÊäΩË±°Á±ª‰πüÂú®AbstractChannel‰∏≠ unsafe = newUnsafe(); // ÁîüÊàêChannelPipeline // step 7 pipeline = newChannelPipeline();&#125;// step 7protected DefaultChannelPipeline newChannelPipeline() &#123; // Êàë‰ª¨Â∞ÜÂú®DefaultChannelPipelineÂàÜÊûê return new DefaultChannelPipeline(this);&#125;// step 8 AbstractChannelpublic final void register(EventLoop eventLoop, final ChannelPromise promise) &#123; // ÁªëÂÆö‰∫ÜeventLoop AbstractChannel.this.eventLoop = eventLoop; // ... ‰∏ìÊ≥®‰∫éÊ†∏ÂøÉ // step 9 register0(promise); // ...&#125;// step 9private void register0(ChannelPromise promise) &#123; // ÂΩìÁÑ∂ÊòØÁ¨¨‰∏ÄÊ¨°Ê≥®ÂÜåÔºåtrue boolean firstRegistration = neverRegistered; // step 10 doRegister(); // Ê≥®ÂÜå‰πãÂêéËÆæÁΩÆÊ†áÂøó‰Ωç neverRegistered = false; registered = true; // pipeline‰πãÂêéÁöÑÂçöÊñá‰ºöËØ¥ pipeline.invokeHandlerAddedIfNeeded(); safeSetSuccess(promise); // Ëß¶ÂèëÊ≥®ÂÜåÂÆåÊàê‰∫ã‰ª∂ÔºåËøò‰ºö‰º†Êí≠pipeline.fireChannelActive(); pipeline.fireChannelRegistered(); // Âà§Êñ≠ÊòØÂê¶ÁªëÂÆöÔºå‰ºöË∞ÉÁî®Â∫ïÂ±ÇNIOÂàõÂª∫ÁöÑchannelÔºåÂ∫îËØ•‰∏∫false // ÈÇ£‰πà‰ªÄ‰πàÊó∂ÂÄôÂª∫Á´ãËøûÊé•ÁöÑÂë¢ÔºåÊÄé‰πàÊâæÔºåÂèØ‰ª•ÂèÇËÄÉÂêéÈù¢ÂàóÂá∫ÁöÑÈó™Áîµ‰æ†ÁöÑÂçöÊñáÔºåËøô‰∏™ÂáΩÊï∞ÂàÜÊûêÂÆå‰∫Ü // Êàë‰ª¨Â∫îËØ•ÂõûÂà∞AbstractBootstrapÁöÑ step 6 ÁªßÁª≠ÂàÜÊûê if (isActive()) &#123; if (firstRegistration) &#123; pipeline.fireChannelActive(); &#125; else if (config().isAutoRead()) &#123; beginRead(); &#125; &#125;&#125;// step 10protected void doRegister() throws Exception &#123; // Âà©Áî®jdkÂ∫ïÂ±ÇÂ∞ÜchannelÊ≥®ÂÜåÂà∞selector‰∏äÔºå0Ë°®Á§∫‰∏çÂÖ≥ÂøÉ‰ªª‰Ωï‰∫ã‰ª∂ÔºåthisÊòØ‰∏∫‰∫ÜÂΩìNIOÊ£ÄÊµãÂà∞‰∫ã‰ª∂Êó∂ÂèØ‰ª•ÂØπnettyÁöÑchannelËøõË°åÊìç‰Ωú selectionKey = javaChannel().register(eventLoop().unwrappedSelector(), 0, this);&#125;// step 11public ChannelFuture bind(SocketAddress localAddress, ChannelPromise promise) &#123; // DefaultChannelPipeline step 2 return pipeline.bind(localAddress, promise);&#125;// step 12public final void bind(final SocketAddress localAddress, final ChannelPromise promise) &#123; // ËÇØÂÆöËøòÊ≤°ÊúâÂª∫Á´ãËøûÊé• boolean wasActive = isActive(); // step 13 doBind(localAddress); // ËøôÈáåisActive()Â∫îËØ•Ë¶ÅËøîÂõûtrue‰∫Ü if (!wasActive &amp;&amp; isActive()) &#123; invokeLater(new Runnable() &#123;@Override public void run() &#123; // Ëß¶ÂèëÁ´ØÂè£ÁªëÂÆö‰∫ã‰ª∂ÔºåÊàë‰ª¨Â∞Ü‰ºöËß¶ÂèëHeadContextÁöÑchannelActiveÊñπÊ≥ï // ChannelPipeline step 5 pipeline.fireChannelActive(); &#125; &#125;); &#125; safeSetSuccess(promise);&#125;// step 13protected void doBind(SocketAddress localAddress) throws Exception &#123; // Âà∞ËøôÈáåÂ∞±ÊòØËøõË°åÂ∫ïÂ±ÇÁöÑÁªëÂÆö if (PlatformDependent.javaVersion() &gt;= 7) &#123; javaChannel().bind(localAddress, config.getBacklog()); &#125; else &#123; javaChannel().socket().bind(localAddress, config.getBacklog()); &#125;&#125;// step 14 AbstractChannelpublic Channel read() &#123; // DefaultChannelPipeline step 7 pipeline.read(); return this;&#125;// step 16 AbstractNioChannelÁöÑAbstractNioUnsafeprotected void doBeginRead() throws Exception &#123; // ËøòËÆ∞ÂæóÂú®ÂàùÂßãÂåñAbstractNioChannelÊó∂‰øùÂ≠òÁöÑreadInterestOpÂíåÂú®channelÊ≥®ÂÜåËøáÁ®ã‰∏≠ÁöÑselectionKeyÂêóÔºå‰∏çËÆ∞ÂæóÂæÄ‰∏äÁúã‰∏ÄÁúã final SelectionKey selectionKey = this.selectionKey; // ÈúÄË¶ÅËØª readPending = true; // ÊãøÂà∞ÂÖ∑‰ΩìÁöÑÂÄºÔºå1&lt;&lt;4=16 final int interestOps = selectionKey.interestOps(); if ((interestOps &amp; readInterestOp) == 0) &#123; // ÂáÜÂ§áÂëäËØâSelectorÈúÄË¶ÅÂÖ≥Ê≥®SelectionKey.OP_ACCEPT‰∫ã‰ª∂ selectionKey.interestOps(interestOps | readInterestOp); &#125;&#125; ChannelPipelineÁõ∏ÂÖ≥12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576// step 1 DefaultChannelPipelinefinal AbstractChannelHandlerContext head;final AbstractChannelHandlerContext tail;private final Channel channel;protected DefaultChannelPipeline(Channel channel) &#123; // ÁªëÂÆöchannel(Â¶ÇÊûú‰∏∫Á©∫ÂàôÊäõÂá∫ÂºÇÂ∏∏ÔºåÂ≠¶‰π†ÂÜôÂ∑•ÂÖ∑Á±ª) this.channel = ObjectUtil.checkNotNull(channel, "channel"); // ÈªòËÆ§ÁöÑ‰∏§‰∏™ËäÇÁÇπ tail = new TailContext(this); head = new HeadContext(this); // ÂΩ¢ÊàêÂèåÂêëÈìæË°® head.next = tail; tail.prev = head;&#125;// step 2 DefaultChannelPipelinepublic final ChannelFuture bind(SocketAddress localAddress, ChannelPromise promise) &#123; // Ëøô‰∏™tail‰πãÂâçÂ∞±ËÆæÁΩÆËøá‰∫Ü // step 3 return tail.bind(localAddress, promise);&#125;// step 3 AbstractChannelHandlerContextpublic ChannelFuture bind(final SocketAddress localAddress, final ChannelPromise promise) &#123; // ÂØªÊâætail‰πãÂâçÁöÑ‰∏Ä‰∏™ËäÇÁÇπ final AbstractChannelHandlerContext next = findContextOutbound(); EventExecutor executor = next.executor(); if (executor.inEventLoop()) &#123; // Ë∞ÉÁî®‰∏ã‰∏Ä‰∏™AbstractChannelHandlerContextÁöÑinvokeBindÊñπÊ≥ïÔºå‰∏ÄÁõ¥Âà∞ÊâæÂà∞HeadContext // step 4 next.invokeBind(localAddress, promise); &#125; else &#123; safeExecute(executor, new Runnable() &#123;@Override public void run() &#123; next.invokeBind(localAddress, promise); &#125; &#125;, promise, null); &#125; return promise;&#125;// step 4public void bind(ChannelHandlerContext ctx, SocketAddress localAddress, ChannelPromise promise) throws Exception &#123; // ÁúãÂà∞unsafeÂ∞±Áü•ÈÅìË¶ÅËøõË°åÂ∫ïÂ±ÇÊìç‰ΩúÁöÑ // ËøõÂÖ• AbstractChannelÁöÑUnsafe step 12 unsafe.bind(localAddress, promise);&#125;// step 5 DefaultChannelPipelineÁöÑHeadContextpublic void channelActive(ChannelHandlerContext ctx) throws Exception &#123; // ÁªëÂÆöÊó∂Èó¥Â∞Ü‰ºö‰∏ÄÁõ¥‰º†Êí≠‰∏ãÂéª ctx.fireChannelActive(); // step 6 Ê∑±ÂÖ•ÂàÜÊûê readIfIsAutoRead();&#125;// step 6 DefaultChannelPipelineÁöÑHeadContextprivate void readIfIsAutoRead() &#123; // Êàë‰ª¨ÂæàÂÆπÊòìÁúãÂà∞isAutoRead()ÊñπÊ≥ïÈªòËÆ§ËøîÂõû‰∏∫1 if (channel.config().isAutoRead()) &#123; // ËøõÂÖ• AbstractChannel step 14 // ÂØπ‰∫éÊúçÂä°Á´ØchannelÁöÑËØªÊù•ËØ¥Â∞±ËØ¥ÂèØ‰ª•ÁªëÂÆöËøûÊé•‰∫Ü channel.read(); &#125;&#125;// step 7 DefaultChannelPipelinepublic final ChannelPipeline read() &#123; // ‰ªétailËäÇÁÇπ‰∏ÄÁõ¥ËøΩÂØªÂà∞headÔºåÊâæÂà∞ unsafe.beginRead() // step 8 tail.read(); return this;&#125;// step 8 DefaultChannelPipelineÁöÑHeadContextpublic final void beginRead() &#123; // ‰ºö‰∏ÄÁõ¥ÊâæÂà∞AbstractNioChannelÁöÑAbstractNioUnsafeÁöÑdoBeginRead step 16 doBeginRead();&#125; EventLoopÁõ∏ÂÖ≥123456789101112131415161718192021// step 1 MultithreadEventLoopGroup@Overridepublic ChannelFuture register(Channel channel) &#123; // next()Â∞Ü‰ºöÈÄöËøáÈÄâÊã©Âô®Ôºà‰πãÂêéÁöÑÂçöÊñá‰ºöËÆ≤Âà∞ÔºâÊãøÂà∞‰∏Ä‰∏™EventLoop // step 2 return next().register(channel);&#125;// step2 SingleThreadEventLooppublic ChannelFuture register(Channel channel) &#123; // step 3 return register(new DefaultChannelPromise(channel, this));&#125;// step 3public ChannelFuture register(final ChannelPromise promise) &#123; // ÈÄöËøáunsafe()ÊñπÊ≥ïÂæóÂà∞UnsafeÂØπË±°ÔºàÁªëÂÆöÂú®channel‰∏äÁöÑÈÇ£‰∏™ÔºâÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅìÔºåÂÆÉË¶ÅÂºÄÂßãÂ∫ïÂ±ÇÊìç‰ΩúÊ≥®ÂÜå‰∫Ü // Êàë‰ª¨Êàë‰ª¨ÂèàË¶ÅÂõûÂà∞AbstractChannelÂéª‰∫ÜÔºåÁúãÁúãÂÆÉÁöÑregisterÊ≥®ÂÜåÊñπÊ≥ï // Channel step 8 promise.channel().unsafe().register(this, promise); return promise;&#125; ÊÄªÁªì ËÆæÁΩÆÂêØÂä®Á±ªÂèÇÊï∞ ÂàõÂª∫ÊúçÂä°Á´ØChannelÔºåÂêåÊó∂ÂàõÂª∫ChannelConfig,ChannelId,ChannelPipeline,ChannelHandler,UnsafeÁ≠â ÂàùÂßãÂåñÊúçÂä°Á´ØChannelÔºåËÆæÁΩÆ‰∏Ä‰∫õattrÔºåoptionÔºå‰ª•ÂèäËÆæÁΩÆÂ≠êchannelÁöÑattrÔºåoptionÔºåÁªôÊúçÂä°Á´ØchannelÊ∑ªÂä†Êñ∞channelÊé•ÂÖ•Âô® Â∞ÜChannelÊ≥®ÂÜåÂà∞SelectorÔºåÂπ∂Ëß¶ÂèëaddHandler,registerÁ≠â‰∫ã‰ª∂ ËøõË°åÁ´ØÂè£ÁªëÂÆöÔºåÂπ∂Ëß¶Âèëactive‰∫ã‰ª∂ÔºåÂêåÊó∂Ê≥®ÂÜåACCEPT‰∫ã‰ª∂ ÂèÇËÄÉ nettyÊ∫êÁ†ÅÂàÜÊûê‰πãÊúçÂä°Á´ØÂêØÂä®ÂÖ®Ëß£Êûê]]></content>
      <categories>
        <category>NettyÊ∫êÁ†Å</category>
      </categories>
      <tags>
        <tag>Netty</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊëÜËÑ±ÁÉÇ‰ª£Á†Å‰πãEffective Java Third Edition]]></title>
    <url>%2F2018%2F07%2F23%2F%E6%91%86%E8%84%B1%E7%83%82%E4%BB%A3%E7%A0%81%2F%E6%91%86%E8%84%B1%E7%83%82%E4%BB%A3%E7%A0%81%E4%B9%8BEffective-Java-Third-Edition%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöË∂äÂ≠¶Ë∂äËø∑Ëå´ÔºåÊúâÊâÄË∞ìÁöÑÈáçÁÇπÂêóÔºüÊàëÂèçÊ≠£Áé∞Âú®ËøòÂºÑ‰∏çÊ∏ÖÊ•öÔºåÊó¢ÁÑ∂ÂºÑ‰∏çÊ∏ÖÊ•öÔºåÈÇ£Â∞±Â•ΩÂ•Ω‰∏ìÊ≥®‰∫éËÑö‰∏ãÂêß„ÄÇÊàëÊõæÁªèÁúãËøá‰∏ÄÈÅçEffective JavaÁ¨¨‰∫åÁâàÔºåÂèØËÉΩÈÇ£‰∏™Êó∂ÂÄôÁöÑ‰ª£Á†ÅÈáèËøò‰∏çÂ§üÂêßÔºå‰∏çËÉΩÁêÜËß£ÂÖ∂Á≤æÈ´ìÔºåÁé∞Âú®ÁúãÁúãÊâçËÉΩÂõûÂë≥‰∏ÄÁÇπ„ÄÇÂàöÂ•Ω‰ªäÂπ¥Âπ¥ÂàùÁ¨¨‰∏âÁâàÔºàËã±ÊñáÁâàÔºâ‰πüÂá∫Êù•ÔºåÊñ∞Â¢û‰∫ÜJava7„ÄÅ8„ÄÅ9ÁöÑ‰∏Ä‰∫õÊù°ÁõÆÔºåËøôÈáå‰πüÂ∞±ÊÉ≥Âàó‰∏Ä‰∫õÁ¨¨‰∏âÁâàÁöÑÁõÆÂΩïÔºå‰æõËá™Â∑±Êü•Êâæ‰∏éÂÆûË∑µÔºåÂ∏åÊúõËá™Â∑±ËÉΩÂ§üÁúãÂà∞Êù°ÁõÆÂ∞±ËÉΩËØ¥Âá∫ÊâÄ‰ª•ÁÑ∂Êù•Ôºå‰πüÊÉ≥ÁøªËØë‰∏Ä‰∏ãÊñ∞Â¢ûÁöÑ‰∏Ä‰∫õÊù°ÁõÆ„ÄÇÂ§ßÂÆ∂‰πüÂèØ‰ª•‰∫íÁõ∏‰∫§ÊµÅ„ÄÇ Á¨¨‰∏ÄÁ´† ÂºïË®ÄÔºàÈáçË¶ÅÔºâÁ¨¨‰∫åÁ´† ÂàõÂª∫ÂíåÈîÄÊØÅÂØπË±°Á¨¨1Êù° ËÄÉËôëÁî®ÈùôÊÄÅÂ∑•ÂéÇÊñπÊ≥ï‰ª£ÊõøÊûÑÈÄ†Âô®ÔºàJava8Ôºå9 Êõ¥Êñ∞ÔºâÁ¨¨2Êù° ÈÅáÂà∞Â§ö‰∏™ÊûÑÈÄ†Âô®ÂèÇÊï∞Êó∂Ë¶ÅËÄÉËôëÁî®Âª∫ÈÄ†ËÄÖÊ®°ÂºèÁ¨¨3Êù° ÈÄöËøáÁßÅÊúâÊûÑÈÄ†Âô®ÊàñËÄÖÊûö‰∏æÁ±ªÂûãÂº∫ÂåñÂçï‰æãÂ±ûÊÄßÁ¨¨4Êù° ÈÄöËøáÁßÅÊúâÊûÑÈÄ†Âô®Âº∫Âåñ‰∏çÂèØÂÆû‰æãÂåñÁöÑËÉΩÂäõÁ¨¨5Êù° ‰æùËµñÊ≥®ÂÖ•‰ºòÂÖàÁ°¨ËøûÊé•ËµÑÊ∫êÔºàÊñ∞Â¢ûÔºâÁ¨¨6Êù° ÈÅøÂÖçÂàõÂª∫‰∏çÂøÖË¶ÅÁöÑÂØπË±°ÔºàJava9 Êõ¥Êñ∞ÔºâÁ¨¨7Êù° Ê∂àÈô§ËøáÊúüÁöÑÂØπË±°ÂºïÁî®Á¨¨8Êù° ÈÅøÂÖç‰ΩøÁî®ÊÄªÁªìÊñπÊ≥ïÂíåÊ∏ÖÁêÜÂô®ÔºàJava 7Ôºå9 Êõ¥Êñ∞ÔºâÁ¨¨9Êù° try-with-resources‰ºòÂÖàtry-finallyÔºàJava 7 Êñ∞Â¢ûÔºâÁ¨¨‰∏âÁ´† ÊâÄÊúâÂØπË±°ÈÄöÁî®ÁöÑÊñπÊ≥ïÁ¨¨10Êù° Ë¶ÜÂÜôequalsÊó∂ÂÄôËØ∑ÈÅµÂÆàÈÄöÁî®ËßÑÂÆöÁ¨¨11Êù° Ë¶ÜÂÜôequalsÊó∂ÂÄôÊÄªË¶ÅË¶ÜÂÜôhashCodeÁ¨¨12Êù° ÂßãÁªàË¶ÜÂÜôtoStringÁ¨¨13Êù° Ë∞®ÊÖéÂæóË¶ÜÂÜôcloneÁ¨¨14Êù° ËÄÉËôëÂÆûÁé∞ComparableÊé•Âè£Á¨¨ÂõõÁ´† Á±ªÂíåÊé•Âè£Á¨¨15Êù° ‰ΩøÁ±ªÂíåÊàêÂëòÂèØËÆøÈóÆÊÄßÊúÄÂ∞èÂåñÔºàJava9 Êõ¥Êñ∞ÔºâÁ¨¨16Êù° Âú®ÂÖ¨ÊúâÁ±ª‰∏≠‰ΩøÁî®ËÆøÈóÆÊñπÊ≥ïËÄåÈùûÂÖ¨ÊúâÂüüÁ¨¨17Êù° ‰ΩøÂèØÂèòÊÄßÊúÄÂ∞èÂåñÁ¨¨18Êù° Â§çÂêà‰ºòÂÖà‰∫éÁªßÊâøÁ¨¨19Êù° Ë¶Å‰πà‰∏∫ÁªßÊâøËÄåËÆæËÆ°Âπ∂Êèê‰æõÊñáÊ°£ÔºåË¶Å‰πàÁ¶ÅÊ≠¢ÁªßÊâøÔºàJava8Ôºå9 Êõ¥Êñ∞ÔºâÁ¨¨20Êù° Êé•Âè£‰ºòÂÖà‰∫éÊäΩË±°Á±ªÁ¨¨21Êù° ‰∏∫Âêé‰ª£ËÆæËÆ°Êé•Âè£ÔºàJava8 Êñ∞Â¢ûÔºâÁ¨¨22Êù° Êé•Âè£Âè™Áî®‰∫éÂÆö‰πâÁ±ªÂûãÁ¨¨23Êù° Á±ªÂ±ÇÊ¨°‰ºòÂÖà‰∫éÊ†áÁ≠æÁ±ªÁ¨¨24Êù° ‰ºòÂÖàËÄÉËôëÈùôÊÄÅÊàêÂëòÁ±ªËÄå‰∏çÊòØÈùûÈùôÊÄÅÊàêÂëòÁ±ªÁ¨¨25Êù° Â∞ÜÊ∫êÊñá‰ª∂ÈôêÂà∂‰∏∫Âçï‰∏™È°∂Â±ÇÁ±ªÔºàÊñ∞Â¢ûÔºâÁ¨¨‰∫îÁ´† Ê≥õÂûãÁ¨¨26Êù° ‰∏çË¶Å‰ΩøÁî®ÂéüÁîüÁ±ªÂûãÁ¨¨27Êù° Ê∂àÈô§ÈùûÈ¶ñÊ£ÄË≠¶ÂëäÁ¨¨28Êù° ÂàóË°®‰ºòÂÖà‰∫éÊï∞ÁªÑÁ¨¨29Êù° ‰ºòÂÖàËÄÉËôëÊ≥õÂûãÁ¨¨30Êù° ‰ºòÂÖàËÄÉËôëÊ≥õÂûãÊñπÊ≥ïÁ¨¨31Êù° ‰ΩøÁî®ÊúâÁïåÈÄöÈÖçÁ¨¶ÊèêÂçáAPIÁÅµÊ¥ªÊÄßÁ¨¨32Êù° Ë∞®ÊÖéÁªÑÂêàÊ≥õÂûãÂíåÂèØÂèòÂèÇÊï∞ÔºàJava 7Ôºå9 Êñ∞Â¢ûÔºâÁ¨¨33Êù° ‰ºòÂÖàËÄÉËôëÁ±ªÂûãÂÆâÂÖ®ÁöÑÂºÇÊûÑÂÆπÂô®Á¨¨ÂÖ≠Á´† Êûö‰∏æÂíåÊ≥®Ëß£Á¨¨34Êù° Áî®enum‰ª£ÊõøintÂ∏∏ÈáèÁ¨¨35Êù° Áî®ÂÆû‰æãÂüü‰ª£ÊõøÂ∫èÊï∞Á¨¨36Êù° Áî®EnumSet‰ª£Êõø‰ΩçÂüüÁ¨¨37Êù° Áî®EnumMap‰ª£ÊõøÂ∫èÊï∞Á¥¢ÂºïÁ¨¨38Êù° Áî®Êé•Âè£Ê®°ÊãüÂèØÊâ©Â±ïÁöÑÊûö‰∏æÁ¨¨39Êù° Ê≥®Ëß£‰ºò‰∫éÂëΩÂêçÊ®°ÂºèÁ¨¨40Êù° ÂùöÊåÅ‰ΩøÁî®OverrideÊ≥®Ëß£Á¨¨41Êù° Ê†áËÆ∞Êé•Âè£ÂÆö‰πâÁ±ªÂûãÁ¨¨‰∏ÉÁ´† LambdaË°®ËææÂºèÂíåÊµÅÁ¨¨42Êù° LambdaË°®ËææÂºè‰ºò‰∫éÂåøÂêçÁ±ªÔºàJava8 Êñ∞Â¢ûÔºâÁ¨¨43Êù° ÊñπÊ≥ïÂºïÁî®‰ºò‰∫éLambdaË°®ËææÂºèÔºàJava8 Êñ∞Â¢ûÔºâÁ¨¨44Êù° ‰ºòÂÖà‰ΩøÁî®Ê†áÂáÜÁöÑÂáΩÊï∞ÂºèÊé•Âè£ÔºàJava8 Êñ∞Â¢ûÔºâÁ¨¨45Êù° Ë∞®ÊÖé‰ΩøÁî®ÊµÅÔºàJava8 Êñ∞Â¢ûÔºâÁ¨¨46Êù° Âú®ÊµÅ‰∏≠‰ºòÂÖà‰ΩøÁî®Êó†ÂâØ‰ΩúÁî®ÁöÑÂáΩÊï∞ÔºàJava8 Êñ∞Â¢ûÔºâÁ¨¨47Êù° Âú®ËøîÂõûÁ±ªÂûã‰∏≠Collection‰ºòÂÖà‰∫éStreamÔºàJava8 Êñ∞Â¢ûÔºâÁ¨¨48Êù° ‰ΩøÁî®Âπ∂Ë°åÊµÅÁöÑÊó∂ÂÄôË¶ÅÂ∞èÂøÉÔºàJava8 Êñ∞Â¢ûÔºâÁ¨¨ÂÖ´Á´† ÊñπÊ≥ïÁ¨¨49Êù° Ê£ÄÊü•ÂèÇÊï∞ÁöÑÊúâÊïàÊÄßÔºàJava7 Êõ¥Êñ∞ÔºâÁ¨¨50Êù° ÂøÖË¶ÅÊó∂ËøõË°å‰øùÊä§ÊÄßÊã∑Ë¥ùÔºàJava8 Êõ¥Êñ∞ÔºâÁ¨¨51Êù° Ë∞®ÊÖéËÆæËÆ°ÊñπÊ≥ïÁ≠æÂêçÁ¨¨52Êù° ÊÖéÁî®ÈáçËΩΩÁ¨¨53Êù° ÊÖéÁî®ÂèØÂèòÂèÇÊï∞Á¨¨54Êù° ËøîÂõûÁ©∫ÈõÜÂêàÊàñËÄÖÊï∞ÁªÑÔºåËÄå‰∏çÊòØnullÁ¨¨55Êù° Ë∞®ÊÖéËøîÂõûOptionalÔºàJava8 Êñ∞Â¢ûÔºâÁ¨¨56Êù° ‰∏∫ÊâÄÊúâÂØºÂá∫ÁöÑAPIÂÖÉÁ¥†ÂÜôÊñáÊ°£Ê≥®ÈáäÔºàJava7Ôºå8Ôºå9 Êõ¥Êñ∞ÔºâÁ¨¨‰πùÁ´† ÈÄöÁî®Á®ãÂ∫èËÆæËÆ°Á¨¨57Êù° Â∞ÜÂ±ÄÈÉ®ÂèòÈáèÁöÑ‰ΩúÁî®ÂüüÊúÄÂ∞èÂåñÁ¨¨58Êù° for-eachÂæ™ÁéØ‰ºòÂÖà‰∫é‰º†ÁªüforÂæ™ÁéØÁ¨¨59Êù° ‰∫ÜËß£Âíå‰ΩøÁî®Á±ªÂ∫ìÔºàJava7Ôºå9 Êõ¥Êñ∞ÔºâÁ¨¨60Êù° Â¶ÇÊûúÈúÄË¶ÅÁ≤æÁ°ÆÁöÑÁ≠îÊ°àÔºåËØ∑ÈÅøÂÖç‰ΩøÁî®floatÂíådoubleÁ¨¨61Êù° Âü∫Êú¨Á±ªÂûã‰ºòÂÖà‰∫éË£ÖÁÆ±Âü∫Êú¨Á±ªÂûãÁ¨¨62Êù° Â¶ÇÊûúÊúâÂÖ∂‰ªñÁ±ªÂûãÊõ¥ÂêàÈÄÇÔºåÂàôÂ∞ΩÈáèÈÅøÂÖç‰ΩøÁî®StringÁ¨¨63Êù° ÂΩìÂøÉStringËøûÊé•ÁöÑÊÄßËÉΩÁ¨¨64Êù° ÈÄöËøáÊé•Âè£ÂºïÁî®ÂØπË±°Á¨¨65Êù° Êé•Âè£‰ºòÂÖà‰∫éÂèçÂ∞ÑÊú∫Âà∂Á¨¨66Êù° Ë∞®ÊÖé‰ΩøÁî®Êú¨Âú∞ÊñπÊ≥ïÁ¨¨67Êù° Ë∞®ÊÖéÂú∞ËøõË°å‰ºòÂåñÁ¨¨68Êù° ÈÅµÂÆàÊôÆÈÅçÊé•ÂèóÁöÑÂëΩÂêçÊÉØ‰æãÁ¨¨ÂçÅÁ´† ÂºÇÂ∏∏Á¨¨69Êù° Âè™ÈíàÂØπÂºÇÂ∏∏ÁöÑÊÉÖÂÜµÊâç‰ΩøÁî®ÂºÇÂ∏∏Á¨¨70Êù° ÂØπÂèØÊÅ¢Â§çÁöÑÊÉÖÂÜµ‰ΩøÁî®ÂèóÊ£ÄÂºÇÂ∏∏ÔºåÂØπÁºñÁ®ãÈîôËØØ‰ΩøÁî®ËøêË°åÊó∂ÂºÇÂ∏∏Á¨¨71Êù° ÈÅøÂÖç‰∏çÂøÖË¶ÅÂú∞‰ΩøÁî®ÂèóÊ£ÄÂºÇÂ∏∏Á¨¨72Êù° ‰ºòÂÖà‰ΩøÁî®Ê†áÂáÜÁöÑÂºÇÂ∏∏Á¨¨73Êù° ÊäõÂá∫‰∏éÊäΩË±°Áõ∏ÂØπÂ∫îÁöÑÂºÇÂ∏∏Á¨¨74Êù° ÊØè‰∏™ÊñπÊ≥ïÊäõÂá∫ÁöÑÂºÇÂ∏∏ÈÉΩË¶ÅÊúâÊñáÊ°£Á¨¨75Êù° Âú®ÁªÜËäÇÊ∂àÊÅØ‰∏≠ÂåÖÂê´ËÉΩÊçïËé∑Â§±Ë¥•ÁöÑ‰ø°ÊÅØÁ¨¨76Êù° Âä™Âäõ‰ΩøÂ§±Ë¥•‰øùÊåÅÂéüÂ≠êÊÄßÁ¨¨77Êù° ‰∏çË¶ÅÈ°æÁï•ÂºÇÂ∏∏Á¨¨ÂçÅ‰∏ÄÁ´† Âπ∂ÂèëÁ¨¨78Êù° ÂêåÊ≠•ËÆøÈóÆÂÖ±‰∫´ÁöÑÂèØÂèòÊï∞ÊçÆÁ¨¨79Êù° ÈÅøÂÖçËøáÂ∫¶ÂêåÊ≠•Á¨¨80Êù° executorsÔºåtaskÔºåstream‰ºòÂÖà‰∫éÁ∫øÁ®ãÔºàJava7Ôºå8Êõ¥Êñ∞ÔºâÁ¨¨81Êù° Âπ∂ÂèëÂ∑•ÂÖ∑‰ºòÂÖà‰∫éwaitÂíånotifyÁ¨¨82Êù° Á∫øÁ®ãÂÆâÂÖ®ÊñáÊ°£ÂåñÁ¨¨83Êù° ÊÖéÁî®Âª∂ËøüÂàùÂßãÂåñÁ¨¨84Êù° ‰∏çË¶Å‰æùËµñÁ∫øÁ®ãË∞ÉÂ∫¶Âô®ÔºàJava7 Êõ¥Êñ∞ÔºâÁ¨¨ÂçÅ‰∫åÁ´† Â∫èÂàóÂåñÁ¨¨85Êù° ÂÖ∂‰ªñÈÄâÊã©‰ºòÂÖà‰∫éJavaÂ∫èÂàóÂåñÔºàÊñ∞Â¢ûÔºâÁ¨¨86Êù° Ë∞®ÊÖéÂÆûÁé∞SerializableÊé•Âè£Á¨¨87Êù° ËÄÉËôë‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑÂ∫èÂàóÂåñÂΩ¢ÂºèÁ¨¨88Êù° ‰øùÊä§ÊÄßÁºñÂÜôreadObjectÊñπÊ≥ïÁ¨¨89Êù° ÂØπ‰∫éÂÆû‰æãÊéßÂà∂ÔºåÊûö‰∏æÁ±ªÂûã‰ºòÂÖà‰∫éreadResolveÁ¨¨90Êù° ËÄÉËôëÁî®Â∫èÂàóÂåñ‰ª£ÁêÜ‰ª£ÊõøÂ∫èÂàóÂåñÂÆû‰æãÂèÇËÄÉ Effective Java Á¨¨‰∏âÁâàÊúâ‰ªÄ‰πàÊñ∞Êñô ËØë „ÄäEffective Java Á¨¨‰∏âÁâà„ÄãÊñ∞Êù°ÁõÆ‰ªãÁªç]]></content>
      <categories>
        <category>ÊëÜËÑ±ÁÉÇ‰ª£Á†Å</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot+Git+Jenkins+DockerÂÆûÁé∞CI/CD]]></title>
    <url>%2F2018%2F07%2F18%2F%E8%BF%90%E7%BB%B4%2FSpringBoot-Git-Jenkins-Docker%E5%AE%9E%E7%8E%B0CI-CD%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁé∞Âú®DevOpsËøô‰πàËøêË°åÔºå‰Ω†Ê≤°ÊúâÁêÜÁî±‰∏çÂéª‰∫ÜËß£Ôºå‰∏çÂéªÂÆûË∑µÔºåËøôÊ¨°Â∞±‰ª•Springboot‰∏∫Â∫ïÔºåÂà©Áî®GitÔºåjenkinsÔºåDockerÂÆûÁé∞ÊåÅÁª≠ÈõÜÊàêÂíåÊåÅÁª≠ÈÉ®ÁΩ≤ÔºÅ ÂºÄÂèëÊµÅÁ®ã‰∏ãÈù¢ÊòØÂ∏∏Áî®ÁöÑÂºÄÂèëÊµÅÁ®ãÂõæÔºö Êàë‰ª¨ÁÆÄÂçïËØ¥ËØ¥ËøôÂº†ÂõæÔºöÈ¶ñÂÖàÊàë‰ª¨‰ºöÂ∞Ü‰ª£Á†ÅÊñá‰ª∂„ÄÅÊµãËØïÊñá‰ª∂‰ª•ÂèäDockerfileÈÉΩÂ≠òÂú®‰ª£Á†Å‰ªìÂ∫ìÈáåÔºåÁâàÊú¨ÊéßÂà∂Âà©Áî®gitÔºåËøôÈáå‰ª£Á†Å‰ªìÂ∫ìÊúâÂæàÂ§öÈÄâÊã©ÔºåÊØîÂ¶Çgithub„ÄÅÁ†Å‰∫ë(Êú¨Ê¨°‰ΩøÁî®)„ÄÅCoding‰ª•ÂèäËá™Â∑±Êê≠Âª∫ÁöÑgitlab„ÄÇÁÑ∂ÂêéÁî±ÊåÅÁª≠ÈõÜÊàêÂ∑•ÂÖ∑ËøõË°åËá™Âä®ÂåñÊûÑÂª∫ÔºåÂåÖÊã¨‰∫ÜÊµãËØï„ÄÅÁºñËØë„ÄÅÊâìÂåÖ„ÄÅÊûÑÂª∫ÈïúÂÉè„ÄÅÊé®ÈÄÅÈïúÂÉèÂà∞‰ªìÂ∫ìÔºàÊúâÂæàÂ§öÈÄâÊã©ÔºåÂ¶ÇdockerÂÆòÊñπ‰ªìÂ∫ìÔºåÊó∂ÈÄüËøê„ÄÅËá™Â∑±Êê≠Âª∫ÁöÑRegistryÔºâ„ÄÅÂêØÂä®ÊúçÂä°Á≠âÊìç‰ΩúÔºåÊåÅÁª≠ÈõÜÊàêÂ∑•ÂÖ∑‰πüÊúâÂæàÂ§öÈÄâÊã©ÔºåÊØîÂ¶ÇJenkins(ËøôÊ¨°‰ΩøÁî®)„ÄÅGitlab CI„ÄÅTrivas CI„ÄÇËøôÈáå‰ΩøÁî®ÁöÑÂÆπÂô®ÊòØDockerÔºåËøôÈáåDockerÁöÑÁºñÊéíÂ∑•ÂÖ∑ÂèØ‰ª•ÈÄâÊã©SwarmÔºå‰πüÂèØ‰ª•ÊòØK8S„ÄÇ Êú¨Ê¨°ÂÆûÁé∞ÊµÅÁ®ãÂ¶Ç‰∏ãÔºö push‰ª£Á†ÅÂà∞Á†Å‰∫ëËß¶ÂèëWebHook Jenkins‰ªéÁ†Å‰∫ëÊãâÂèñ‰ª£Á†Å mavenÊûÑÂª∫‰ª£Á†Å buildÈïúÂÉè pushÈïúÂÉèÂà∞ÈïúÂÉè‰ªìÂ∫ì ÈÉ®ÁΩ≤ÊúçÂä° ÈÖçÁΩÆÂÖ≥‰∫éJdk„ÄÅGit„ÄÅMavenÁöÑÈÖçÁΩÆËøôÈáåÂ∞±‰∏çËØ¥ÔºåËá™Â∑±Èù¢ÂêëÊêúÁ¥¢ÂºïÊìé„ÄÇËøôÈáå‰∏ªË¶ÅËØ¥JenkinsÂíåÁ†Å‰∫ëÁöÑÈÖçÁΩÆ„ÄÇ JenkinsÂÆâË£ÖÈÖçÁΩÆ ‰∏ãËΩΩJenkinsÔºàÈááÁî®warÂåÖÂÆâË£ÖÔºâ Â∞ÜwarÂåÖÊîæÂÖ•TomcatÁöÑwebappsÁõÆÂΩï‰∏ã ËøõÂÖ•YourHostIp:8080/jenkinsË∑ØÂæÑ‰∏ãËøõË°åJenkinsÁöÑÂàùÂßãÂåñÔºåÊàë‰ª¨ËøõÂÖ• Áî®Êà∑Ëá™ÂÆö‰πâÊèí‰ª∂ ÂÆâË£ÖÁïåÈù¢Ôºå‰Ω†ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÊûÑÂª∫ÊñπÂºèÈÄâÊã©ÈúÄË¶ÅÂÆâË£ÖÁöÑÊèí‰ª∂ÔºåÊú¨Ê¨°‰ΩøÁî®ÁöÑPipelinesÊñπÂºèËøõË°åÊûÑÂª∫ÔºåPipelinesÊñπÂºèÊòØJenkins2Êé®ËçêÁöÑÊñπÂºèÔºåÊâÄ‰ª•Êàë‰ª¨ÊûÑÂª∫PipelinesÁõ∏ÂÖ≥ÁöÑÊèí‰ª∂ËøõË°åÂÆâË£ÖÔºåÂΩìÁÑ∂ÂæÖ‰ºöËøõÂÖ•JenkinsÂÆâË£Ö‰πüË°å„ÄÇ ÈÖçÁΩÆÁî®Êà∑ÂêçÂíåÂØÜÁ†Å ÂÖ®Â±ÄÂ∑•ÂÖ∑ÈÖçÁΩÆÔºà‰ªéÁ≥ªÁªüÁÆ°ÁêÜËøõÂÖ•ÂÖ®Â±ÄÂ∑•ÂÖ∑ÈÖçÁΩÆÔºåÈÖçÁΩÆJdk„ÄÅGit„ÄÅMavenÔºâ ÂÆâÂÖ®ÈÖçÁΩÆÔºà‰ªéÁ≥ªÁªüÁÆ°ÁêÜËøõÂÖ•ÂÖ®Â±ÄÂÆâÂÖ®ÈÖçÁΩÆÔºâ,Â¶Ç‰∏ãÂõæÔºö JenkinsÊûÑÂª∫‰ªªÂä° Êñ∞Âª∫‰ªªÂä°ÔºåÊûÑÂª∫‰∏Ä‰∏™ÊµÅÊ∞¥Á∫ø‰ªªÂä°ÔºàPipelineÔºâ Âú®ÈÖçÁΩÆÈáåÊûÑÂª∫Ëß¶ÂèëÂô®ÔºåÂ¶Ç‰∏ãÂõæÔºö ÊûÑÂª∫PipelineËÑöÊú¨ÔºàPipelineËÑöÊú¨ÂÜôÊ≥ïËßÅÂèÇËÄÉÔºâ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758 #!groovy pipeline&#123; agent any //ÂÆö‰πâ‰ªìÂ∫ìÂú∞ÂùÄ environment &#123; REPOSITORY=&quot;https://gitee.com/todorex/springboot_docker_git_jenkins_demo.git&quot; &#125; stages &#123; stage(&apos;Ëé∑Âèñ‰ª£Á†Å&apos;)&#123; steps &#123; echo &quot;start fetch code from git:$&#123;REPOSITORY&#125;&quot; // Ê∏ÖÁ©∫ÂΩìÂâçÁõÆÂΩï deleteDir() // ÊãâÂèñ‰ª£Á†Å git &quot;$&#123;REPOSITORY&#125;&quot; // Ê∏ÖÁ©∫‰πãÂâçÁöÑÂÆπÂô® sh &apos;docker stop $(docker ps -a -q)&apos; sh &apos;docker rm $(docker ps -a -q)&apos; &#125; &#125; stage(&apos;Maven ÊûÑÂª∫&apos;)&#123; steps &#123; echo &quot;start compile&quot; // ÂàáÊç¢ÁõÆÂΩï dir(&apos;demo&apos;) &#123; // ÈáçÊñ∞ÊâìÂåÖ sh &apos;mvn -Dmaven.test.skip=true -U clean install&apos; &#125; &#125; &#125; stage(&apos;ÊûÑÂª∫ÈïúÂÉè&apos;)&#123; steps &#123; echo &quot;start build image&quot; dir(&apos;demo&apos;) &#123; // buildÈïúÂÉè sh &apos;docker build -t todorex/springboot_docker_git_jenkins_demo:1.0 .&apos; // ÁôªÂΩïÈïúÂÉè‰ªìÂ∫ì sh &apos;docker login -u your_username -p your_password&apos; // Êé®ÈÄÅÈïúÂÉèÂà∞ÈïúÂÉè‰ªìÂ∫ì sh &apos;docker push todorex/springboot_docker_git_jenkins_demo:1.0&apos; &#125; &#125; &#125; stage(&apos;ÂêØÂä®ÊúçÂä°&apos;)&#123; steps &#123; echo &quot;start demo&quot; // ÈÉ®ÁΩ≤ÊúçÂä° sh &apos;docker run -d -p 8888:8888 --name=demo todorex/springboot_docker_git_jenkins_demo:1.0&apos; &#125; &#125; &#125;&#125; SSHÁöÑÈÖçÁΩÆ‰∏∫‰∫ÜÈÅøÂÖçjenkinsÊãâÂèñ‰ª£Á†ÅÊó∂ÈúÄË¶ÅËæìÂÖ•ÂØÜÁ†ÅÔºåËøôÈáåÈúÄË¶ÅÈÖçÁΩÆSSHÂÖçÂØÜÁ†ÅÊãâÂèñ„ÄÇÂ¶Ç‰∏ãÂõæÔºö WebHooksÈÖçÁΩÆÂΩì‰Ω†ÊØèÊ¨°ÂØπ‰ª£Á†Å‰ªìÂ∫ìËøõË°åpushÊìç‰ΩúÊó∂Ôºå‰ºöËá™Âä®ÈÄöÁü•jenkinsËøõË°åÊûÑÂª∫ ÊµãËØïËøôÊ¨°È°πÁõÆÁöÑ‰ª£Á†Å‰ªìÂ∫ì‰∏∫Ôºöspringboot_docker_git_jenkins_demo ÂÖ≥‰∫éDockerfile‰ª•Âèädocker-compose.ymlÁöÑÁºñÂÜôÔºåËá™Â∑±‰πüÂéªÈù¢ÂêëÊêúÁ¥¢ÂºïÊìéÁúãÁúãÂêß„ÄÇ ÂΩìÊàë‰ª¨push‰ª£Á†Å‰πãÂêéÔºåjenkinsÂ∞±‰ºöËá™Âä®Â∏ÆÊàë‰ª¨ËøõË°åÊûÑÂª∫„ÄÇÂ¶Ç‰∏ãÂõæÔºö PSÔºöÁ¨¨‰∏ÄÊ¨°ÊØîËæÉÊÖ¢ÊòØÂõ†‰∏∫Ë¶ÅÂÆâË£ÖMaven‰æùËµñÔºåÂêéÈù¢Â∞±Â•Ω‰∫Ü„ÄÇ ÊÄªÁªìËøôÈáåÂè™ÊòØÂ±ïÁ§∫‰∫Ü‰∏Ä‰∏™CI/CDÁöÑÂºÄÂèëÊµÅÁ®ãÔºåÂÖ≥‰∫éÂÖ∑‰ΩìÊäÄÊúØÁªÜËäÇÔºåÊó†ËÆ∫ÊòØJenkinsËøòÊòØDockerÈÉΩÈúÄË¶ÅÊ∑±ÂÖ•Â≠¶‰π†ÔºåÂä†Ê≤πÔºåÈ™öÂπ¥ÔºÅ ÂèÇËÄÉ SpringBoot+Docker+Git+JenkinsÂÆûÁé∞ÁÆÄÊòìÁöÑÊåÅÁª≠ÈõÜÊàêÂíåÊåÅÁª≠ÈÉ®ÁΩ≤ Jenkins pipelineÔºöpipeline ËØ≠Ê≥ïËØ¶Ëß£]]></content>
      <categories>
        <category>ËøêÁª¥</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>Git</tag>
        <tag>Jenkins</tag>
        <tag>Docker</tag>
        <tag>CI</tag>
        <tag>CD</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maven‰ΩøÁî®Êï¥ÁêÜ]]></title>
    <url>%2F2018%2F07%2F06%2F%E5%B7%A5%E5%85%B7%2FMaven%E4%BD%BF%E7%94%A8%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰ΩøÁî®JavaËØ≠Ë®ÄÊù•ÂºÄÂèë‰Ω†ÁöÑÈ°πÁõÆÔºåÂü∫Êú¨‰∏äÈÉΩÂ∞ë‰∏ç‰∫ÜMavenÔºåÂõ†‰∏∫Êúâ‰∫ÜÂÆÉÁúüÊòØÂ§™Êñπ‰æø‰∫ÜÔºÅ ‰ªÄ‰πàÊòØMavenMavenÊòØ‰∏ÄÁßçÁî®Êù•ÁÆ°ÁêÜJavaÈ°πÁõÆÁöÑÂ∑•ÂÖ∑„ÄÅ‰ΩÜ‰∏çÊòØÈÇ£ÁßçÈÇ£ÁßçÁî®Êù•ÁÆ°ÁêÜËµÑÊ∫êËßÑÂàíÂíåË∞ÉÂ∫¶ÁöÑÂ∑•ÂÖ∑„ÄÇÁõ∏ÂèçÔºåÂÆÉÂ§ÑÁêÜÁöÑÊó∂‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑÈ°πÁõÆÊâÄÊ∂âÂèäÁöÑÂêÑÁßç‰ªªÂä°ÔºåÂ¶ÇÁºñËØë„ÄÅÊµãËØï„ÄÅÊâìÂåÖ‰ª•ÂèäÈÉ®ÁΩ≤„ÄÇ MavenÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™ÈÉ®ÂàÜÔºö ‰∏ÄÁªÑÁî®‰∫éÂ§ÑÁêÜÁÆ°ÁêÜ‰æùËµñ(‰ªé‰∏≠Â§Æ‰ªìÂ∫ìÊãâÂèñÁöÑjarÂåÖ)„ÄÅÁõÆÂΩïÁªìÊûÑ‰ª•ÂèäÊûÑÂª∫Â∑•‰ΩúÊµÅÁöÑÁ∫¶ÂÆö„ÄÇ Âü∫‰∫éËøô‰∫õÁ∫¶ÂÆöÂÆûÁé∞ÁöÑÊ†áÂáÜÂåñÂèØ‰ª•ÊûÅÂ§ßÂú∞ÁÆÄÂåñÂºÄÂèëËøáÁ®ã„ÄÇ‰æãÂ¶ÇÔºå‰∏Ä‰∏™Â∏∏Áî®ÁöÑÁõÆÂΩïÁªìÊûÑ‰ΩøÂæóÂºÄÂèëËÄÖÂèØ‰ª•Êõ¥Âä†ÂÆπÊòìË∑ü‰∏ä‰∏çÁÜüÊÇâÁöÑÈ°πÁõÆÁöÑËäÇÂ•è„ÄÇ ‰∏Ä‰∏™Áî®‰∫éÈ°πÁõÆÈÖçÁΩÆÁöÑXML SchemaÔºöÈ°πÁõÆÂØπË±°Ê®°Âûã(Project Object Model)ÔºåÁÆÄÁß∞POM„ÄÇ ÊØè‰∏Ä‰∏™MavenÈ°πÁõÆÈÉΩÊã•Êúâ‰∏Ä‰∏™POMÊñá‰ª∂ÔºåÂπ∂ÂëΩÂêç‰∏∫pom.xmlÔºåÂåÖÂê´MavenÁî®‰∫éÁÆ°ÁêÜËØ•È°πÁõÆÁöÑÊâÄÊúâÁöÑÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇ ‰∏Ä‰∏™ÂßîÊâòÂ§ñÈÉ®ÁªÑ‰ª∂Êù•ÊâßË°åÈ°πÁõÆ‰ªªÂä°ÁöÑÊèí‰ª∂ÁªìÊûÑ„ÄÇ ËøôÁÆÄÂåñ‰∫ÜÊõ¥Êñ∞‰∏ÄÈõÜÊâ©Â±ïMavenËÉΩÂäõÁöÑËøáÁ®ã„ÄÇ MavenÂÆâË£ÖPSÔºö ‰∏äÈù¢ÊèêÂà∞‰∫ÜMavenÂ∏ÆÊàë‰ª¨ÁÆ°ÁêÜ‰æùËµñÔºåÊòØÈÄöËøá‰ªé‰∏≠Â§Æ‰ªìÂ∫ìÊãâÂèñjarÂåÖ(‰æùËµñ)Êù•ÂÆûÁé∞Ôºå‰ΩÜÊòØÁî±‰∫éMavenÁöÑ‰∏≠Â§Æ‰ªìÂ∫ìÂú®ÂõΩÂ§ñÔºåÊãâÂèñ‰ºöÊØîËæÉÊÖ¢ÔºåÊâÄ‰ª•Êàë‰ª¨‰∏ÄËà¨‰ºöÈÄöËøáÈÖçÁΩÆÈòøÈáå‰∫ëÈïúÂÉèÊù•Âä†Âø´ÈÄüÂ∫¶ÔºåÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•NexusÊê≠Âª∫Ëá™Â∑±ÁöÑÁßÅÊúâ‰ªìÂ∫ì„ÄÇ MavenÂÆâË£ÖÊïôÁ®ã ÈÖçÁΩÆÈòøÈáå‰∫ëÈïúÂÉè‰ªìÂ∫ì POMPOMÊñá‰ª∂Â§ßÁ∫≤Â¶Ç‰∏ãÔºö12345678910&lt;project&gt; // Ê†πÂÖÉÁ¥† &lt;groupId/&gt; &lt;artifactId/&gt; &lt;version/&gt; // ‰∏äÈù¢‰∏â‰∏™(GAVÂùêÊ†á)ÂîØ‰∏ÄÂú∞ÂÆö‰πâMavenÈ°πÁõÆÁöÑÂÄº &lt;packaging/&gt; // È°πÁõÆÊâìÂåÖÊñπÂºèÔºåÈªòËÆ§ÂÄºÊòØjar &lt;properties/&gt; // Âú®POM‰∏≠ÂºïÁî®ÁöÑÂ±ûÊÄßÔºå‰∏ÄËà¨‰ºöÊîæÁâàÊú¨‰ø°ÊÅØ &lt;dependencies/&gt; //ÊûÑÂª∫ÂΩìÂâçÈ°πÁõÆÊâÄÈúÄË¶ÅÁöÑÂÖ∂‰ªñMavenÈ°πÁõÆ &lt;build/&gt; // ÊûÑÂª∫ÊîπÈ°πÁõÆÊâÄÈúÄË¶ÅÊâßË°åÁöÑ‰ªªÂä°ÁöÑÈÖçÁΩÆ &lt;profiles/&gt; // ‰∏∫‰∏çÂêåÁöÑÁî®‰æãËá™ÂÆö‰πâPOMÔºå‰∏ÄËà¨Áî®Êù•ÈÖçÁΩÆÁéØÂ¢ÉÁöÑÂàáÊç¢&lt;/project&gt; MavenÊûÑ‰ª∂‰ªª‰ΩïÂèØ‰ª•Ë¢´MavenÁöÑÂùêÊ†áÁ≥ªÁªü(GAV)ÂîØ‰∏ÄÊ†áËØÜÁöÑÂØπË±°ÈÉΩÊòØ‰∏Ä‰∏™MavenÊûÑ‰ª∂„ÄÇ MavenÊûÑ‰ª∂ÁöÑÁ±ªÂûãÁî±pomÊñá‰ª∂ÁöÑÂÖÉÁ¥†ÊåáÂÆö„ÄÇÊúÄÂ∏∏Áî®ÁöÑÂÄºÊòØpom„ÄÅjar„ÄÅear„ÄÅwar‰ª•Âèämaven-plugin„ÄÇ POMÊñá‰ª∂‰ΩøÁî®ÊñπÂºè ÈªòËÆ§ÁöÑÔºöÁî®‰∫éÊûÑÂª∫‰∏Ä‰∏™ÊûÑ‰ª∂ Áà∂POMÔºöÊèê‰æõ‰∏Ä‰∏™Áî±Â≠êÈ°πÁõÆÁªßÊâøÁöÑÂçï‰∏™ÈÖçÁΩÆ‰ø°ÊÅØÊ∫êÔºåÂ≠êÈ°πÁõÆÈÄöËøáÂ£∞ÊòéËøô‰∏™pomÊñá‰ª∂‰Ωú‰∏∫ÂÆÉ‰ª¨ÁöÑÂÖÉÁ¥†ÂÄº ËÅöÂêàÂô®ÔºöÁî®‰∫éÊûÑÂª∫‰∏ÄÁªÑÂ£∞Êòé‰∏∫ÁöÑÈ°πÁõÆÔºåËøô‰∫õÂ≠êÈ°πÁõÆ‰Ωç‰∫éÂÖ∂ÂΩìÂâçËÅöÂêàÂô®È°πÁõÆÁöÑÊñá‰ª∂Â§π‰∏≠ÔºåÊØè‰∏™ÈÉΩÂåÖÂê´Êúâ‰ªñËá™Â∑±ÁöÑpomÊñá‰ª∂ PSÔºö ‰Ωú‰∏∫Áà∂pomÊàñËÄÖËÅöÂêàÂô®ÁöÑpomÊñá‰ª∂ÁöÑÂÖÉÁ¥†ÁöÑÂÄºÂ∞ÜÊòØpom„ÄÇ GAVÂùêÊ†áPOMÂÆö‰πâ‰∫Ü5ÁßçÁß∞‰∏∫ÂùêÊ†áÁöÑÂÖÉÁ¥†ÔºåÁî®‰∫éÊ†áËØÜMavenÊûÑ‰ª∂ÔºåÈ¶ñÂ≠óÊØçÁº©ÂÜôGAVÊåáÁöÑÊòØÂøÖÈ°ªÂßãÁªàÊåáÂÆöÁöÑ3‰∏™ÂùêÊ†á„ÄÅ„ÄÅ ÁöÑÈ¶ñÂ≠óÊØç„ÄÇ ‰∏ãÈù¢ÁöÑÂùêÊ†áÊòØÊåâÁÖß‰ªñ‰ª¨Âú®ÂùêÊ†áË°®ËææÂºè‰∏≠Âá∫Áé∞ÁöÑÈ°∫Â∫èÂàóÂá∫Ôºö ÊòØÈ°πÁõÆÊàñËÄÖÈ°πÁõÆÁªÑÁöÑÂÖ®Â±ÄÂîØ‰∏ÄÊ†áËØÜÁ¨¶„ÄÇËøôÈÄöÂ∏∏ÊòØJavaÊ∫ê‰ª£Á†Å‰ΩøÂëòÂ∑•ÁöÑÂÖ®ÈôêÂÆöÁöÑJavaÂåÖÂêç„ÄÇ‰æãÂ¶ÇÔºåio.netty„ÄÅcom.google„ÄÇ Áî®‰∫éÊ†áËØÜÂíåÊüê‰∏™Áõ∏ÂÖ≥ÁöÑ‰∏çÂêåÁöÑÊûÑ‰ª∂„ÄÇ‰æãÂ¶ÇÔºånetty-all„ÄÅnetty-handler„ÄÇ ÊòØÊåáÂíåÈ°πÁõÆÁõ∏ÂÖ≥ÁöÑ‰∏ªË¶ÅÊûÑ‰ª∂ÁöÑÁ±ªÂûã(ÂØπÂ∫î‰∫éÊûÑ‰ª∂ÁöÑPOMÊñá‰ª∂‰∏≠ÁöÑÂÄº)„ÄÇÂÆÉÁöÑÈªòËÆ§ÂÄºÊòØjarÔºåÊ≠§Â§ñËøòÊúâpom„ÄÅear„ÄÇ Ê†áËØÜ‰∫ÜÊûÑ‰ª∂ÁöÑÁâàÊú¨„ÄÅ‰æãÂ¶Ç1.1„ÄÅ2.0-SNAPSHOT„ÄÅ4.1.9.Final„ÄÇ Áî®‰∫éÂå∫ÂàÜÂ±û‰∫éÁõ∏ÂêåÁöÑPOM‰ΩÜÊòØÂç¥Ë¢´‰ª•‰∏çÂêåÊñπÂºèÊûÑÂª∫ÁöÑÊûÑ‰ª∂„ÄÇ‰æãÂ¶ÇÔºåjavadock„ÄÅsources„ÄÅjdk16„ÄÅjdk17„ÄÇ ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂùêÊ†áË°®ËææÂºèÂÖ∑ÊúâÂ¶Ç‰∏ãÊ†ºÂºèÔºö1actifactId:groupId:packaging:version:classifier POMÊñá‰ª∂ÂøÖÈ°ªÂ£∞ÊòéÂÆÉÊâÄÁÆ°ÁêÜÁöÑÊûÑ‰ª∂ÁöÑÂùêÊ†áÔºå‰∏Ä‰∏™ÂÖ∑ÊúâÂ¶Ç‰∏ãÂùêÊ†áÁöÑÈ°πÁõÆÔºö1234&lt;groupId&gt;io.netty&lt;/groupId&gt;&lt;artifactId&gt;netty-all&lt;/artifactId&gt;&lt;version&gt;4.1.9.Final&lt;/version&gt;&lt;packaging&gt;jar&lt;/packaging&gt; Â∞Ü‰ºö‰∫ßÁîü‰∏Ä‰∏™ÂÖ∑Êúâ‰ª•‰∏ãÊ†ºÂºèÁöÑÂêçÁß∞ÁöÑÊûÑ‰ª∂ÔºöartifactId-&lt;version&gt;.&lt;packaging&gt; ‰æùËµñ‰æùËµñÂºïÂÖ•È°πÁõÆÁöÑ‰æùËµñÊòØÊåáÁºñËØëÂíåÊâßË°åÂÆÉÊâÄÈúÄË¶ÅÁöÑÂ§ñÈÉ®ÊûÑ‰ª∂„ÄÇÂú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÁöÑÈ°πÁõÆÁöÑ‰æùËµñÈ°π‰πü‰ºöÊúâÂÆÉËá™Â∑±ÁöÑ‰æùËµñ„ÄÇÊàë‰ª¨Áß∞Ëøô‰∫õ‰æùËµñ‰∏∫‰Ω†ÁöÑÈ°πÁõÆÁöÑ‰º†ÈÄí‰æùËµñ„ÄÇ‰∏Ä‰∏™Ë¥üË¥£ÁöÑÈ°πÁõÆÂèØËÉΩ‰ºöÊúâ‰∏Ä‰∏™Ê∑±Â±ÇÁ∫ßÁöÑ‰æùËµñÊ†ë„ÄÇMaven Êèê‰æõ‰∫ÜÂêÑÁßçÁî®‰∫éÂ∏ÆÂä©ÁêÜËß£ÂíåÁÆ°ÁêÜÂÆÉÁöÑÂ∑•ÂÖ∑ÔºåÂ¶ÇÊâßË°åmvn dependency:tree„ÄÇ MavenÁöÑÂ£∞ÊòéÂú®POMÁöÑÂÖÉÁ¥†‰∏≠Ôºö12345678910&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId/&gt; &lt;artifactId/&gt; &lt;version/&gt; &lt;type/&gt; &lt;scope/&gt; &lt;systemPath/&gt; &lt;/dependency&gt;&lt;/dependencies&gt; Âú®Â£∞Êòé‰∏≠ÔºåGAVÂùêÊ†áÊòØÂøÖ‰∏çÂèØÂ∞ëÁöÑ„ÄÇtypeÂíåscopeÂÖÉÁ¥†ÂØπ‰∫éÈÇ£‰∫õÂÄº‰∏çÂàÜÂà´ÊòØÈªòËÆ§ÂÄºjarÂíåcompileÁöÑ‰æùËµñÊù•ËØ¥‰πüÊòØÂøÖÈ°ªÁöÑ„ÄÇ ÂÖ≥‰∫éscopeÊåáÁöÑÊòØ‰æùËµñËåÉÂõ¥ÔºåÂç≥classpathÔºåMavenÈáåÊúâ3Á±ª‰æùËµñËåÉÂõ¥Ôºö ÁºñËØë ÊµãËØï ËøêË°å ÂÖÉÁ¥†ÂÖ∑Êúâ‰ª•‰∏ãÂÄºÔºà‰æùËµñËåÉÂõ¥ÔºâÔºö compileÔºöÁºñËØëÔºàÈªòËÆ§Ôºâ runtimeÔºöËøêË°å providedÔºöÂØπ‰∫éÁºñËØëÂíåÊµãËØïÊúâÊïàÔºåËøêË°åÊó∂Êó†Êïà testÔºöÊµãËØï importÔºö‰ΩøÁî®Âú®‰∏≠ÔºåÂØºÂÖ•ÂÖ∂‰ªñÈ°πÁõÆÁöÑ systemPathÔºö‰∏éprovided‰∏ÄÁõ¥Ôºå‰ΩÜÊòØÈúÄË¶ÅÊåáÂÆö‰æùËµñÊñá‰ª∂ÁöÑÁªùÂØπ‰ΩçÁΩÆ ‰æùËµñÁÆ°ÁêÜPOMÁöÑÂÖÉÁ¥†ÂèØ‰ª•ÂåÖÂê´Ë¢´ÂÖ∂‰ªñÈ°πÁõÆ‰ΩøÁî®ÁöÑÂ£∞ÊòéÔºà‰ΩÜ‰∏çÊãâÂèñÔºâÔºåËøôÊ†∑ÁöÑPOMÁöÑÂ≠êÈ°πÁõÆ‰ºöËá™Âä®ÁªßÊâøËøô‰∫õÂ£∞ÊòéÔºåÂÖ∂‰ªñÈ°πÁõÆÂèØ‰ª•Áî®Ëøá‰ΩøÁî®ÂÖÉÁ¥†ÂÄºÊù•ÂØºÂÖ•‰ªñ‰ª¨„ÄÇ ÂºïÁî®‰∫ÜÂÖÉÁ¥†ÁöÑÈ°πÁõÆÂèØ‰ª•‰ΩøÁî®ÂÆÉÊâÄÂ£∞ÊòéÁöÑ‰æùËµñÔºåËÄå‰∏çÈúÄË¶ÅÊåáÂÆö‰ªñ‰ª¨ÁöÑÂùêÊ†áÔºåÂ¶ÇÊûú‰∏≠ÁöÑÂú®Á®çÂêéÊîπÂèòÔºåÂàôÊâÄÊúâÂ∫îÁî®ÂÆÉÁöÑpomÈÉΩ‰ºöÊîπÂèò„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÔºöÂú®ÂéüPOM‰∏≠ÁöÑÊâÄÊúâÁâàÊú¨ÈÉΩÂà©Áî®ÂÖÉÁ¥†ÊéßÂà∂„ÄÇ ÊûÑ‰ª∂ÁöÑÁîüÂëΩÂë®ÊúüMavenÁöÑÁîüÂëΩÂë®ÊúüÂ∞±ÊòØ‰∏∫‰∫ÜÂØπÊâÄÊúâÁöÑÊûÑÂª∫ËøáÁ®ãËøõË°åÊäΩË±°ÂíåÁªü‰∏Ä„ÄÇËøô‰∏™ÁîüÂëΩÂë®ÊúüÂåÖÂê´‰∫ÜÈ°πÁõÆÁöÑÊ∏ÖÁêÜ„ÄÅÂàùÂßãÂåñ„ÄÅÁºñËØë„ÄÅÊµãËØï„ÄÅÊâìÂåÖ„ÄÅÈõÜÊàêÊµãËØï„ÄÅÈ™åËØÅ„ÄÅÈÉ®ÁΩ≤ÂíåÁ´ôÁÇπÁîüÊàêÁ≠âÂá†‰πéÊâÄÊúâÊûÑÂª∫Ê≠•È™§„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂá†ÊâÄÊâÄÊúâÁöÑÈ°πÁõÆÁöÑÊûÑÂª∫ÔºåÈÉΩËÉΩÊò†Â∞ÑÂà∞ËøôÊ†∑‰∏Ä‰∏™ÁîüÂëΩÂë®Êúü‰∏ä„ÄÇ MavenÊã•Êúâ‰∏âÂ•óÁõ∏‰∫íÁã¨Á´ãÁîüÂëΩÂë®ÊúüÔºå‰ªñ‰ª¨ÂàÜÂà´‰∏∫clean„ÄÅdefaultÂíåsite„ÄÇcleanÁîüÂëΩÂë®ÊúüÁöÑÁõÆÁöÑÊòØÊ∏ÖÁêÜÈ°πÁõÆ„ÄÅdefaultÁîüÂëΩÂë®ÊúüÁöÑÁõÆÁöÑÊòØÊûÑÂª∫È°πÁõÆ„ÄÅsiteÁîüÂëΩÂë®ÊúüÁöÑÁõÆÁöÑÊòØÂª∫Á´ãÈ°πÁõÆÁ´ôÁÇπ„ÄÇÊØè‰∏™ÁîüÂëΩÂë®ÊúüÂåÖÂê´‰∏Ä‰∫õÈò∂ÊÆµÔºåËøô‰∫õÈò∂ÊÆµÊòØÊúâÈ°∫Â∫èÁöÑÔºåÂπ∂‰∏îÂêéÈù¢ÁöÑÈò∂ÊÆµ‰æùËµñ‰∫éÂâçÈù¢ÁöÑÈò∂ÊÆµ„ÄÇ‰ΩÜÊòØ‰∏âÂ•óÁîüÂëΩÂë®ÊúüÊú¨Ë∫´ÊòØÁõ∏‰∫íÁã¨Á´ãÁöÑ„ÄÇÊàë‰ª¨ÊåâÁÖßÊó•Â∏∏ÁöÑÈúÄÊ±ÇÔºåÊàë‰ª¨Âè™ËØ¥Ââç‰∏§‰∏™„ÄÇ cleanÁîüÂëΩÂë®ÊúüÂÆÉÂåÖÂê´‰∏â‰∏™Èò∂ÊÆµÔºö pre-cleanÔºöÊâßË°åÊ∏ÖÁêÜÂâçË¶ÅÂÆåÊàêÁöÑÂ∑•‰Ωú„ÄÇ cleanÔºöÊ∏ÖÁêÜ‰∏ä‰∏ÄÊ¨°ÊûÑÂª∫ÁîüÊàêÁöÑÊñá‰ª∂„ÄÇ post-cleanÔºöÊâßË°å‰∏Ä‰∫õÊ∏ÖÁêÜÂêéÈúÄË¶ÅÂÆåÊàêÁöÑÂ∑•‰Ωú„ÄÇ defaultÁîüÂëΩÂë®ÊúüdefaultÁîüÂëΩÂë®ÊúüÂÆö‰πâ‰∫ÜÁúüÊ≠£ÊûÑÂª∫Êó∂ÊâÄÈúÄË¶ÅÊâßË°åÁöÑËÄåÊâÄÊúâÊ≠•È™§ÔºåËøôÈáå‰πüÂè™ÊòØÂàóÂá∫ÈáçË¶ÅÁöÑÈò∂ÊÆµÔºö validateÔºöÊ£ÄÊü•È°πÁõÆÊòØÂê¶Ê≠£Á°Æ compileÔºöÁºñËØëÈ°πÁõÆÁöÑÊ∫ê‰ª£Á†Å testÔºö‰ΩøÁî®ÂçïÂÖÉÊµãËØïÊ°ÜÊû∂ËøõË°åÊµãËØïÔºåÊµãËØï‰ª£Á†Å‰∏ç‰ºöË¢´ÊâìÂåÖÈÉ®ÁΩ≤ packageÔºöÂ∞ÜÁºñËØëÁöÑ‰ª£Á†ÅÊâìÂåÖ‰∏∫ÂèØÂèëÂ∏ÉÁöÑÊ†ºÂºèÔºåÂ¶Çjar verifyÔºöÈ™åËØÅËΩØ‰ª∂ÂåÖÊòØÂê¶ÊúâÊïà installÔºöÂ∞ÜÂåÖÂÆâË£ÖÂà∞Êú¨Âú∞‰ªìÂ∫ì‰∏≠ÔºåÂèØ‰ª•‰æõÊú¨Âú∞ÂÖ∂‰ªñMavenÈ°πÁõÆ‰ΩøÁî® deployÔºöÂ∞ÜÂåÖÂ§çÂà∂Âà∞ËøúÁ®ã‰ªìÂ∫ì‰∏≠ÔºåÂèØ‰ª•‰æõÂÖ∂‰ªñÂºÄÂèë‰∫∫Âëò‰ΩøÁî® Êèí‰ª∂ËôΩÁÑ∂MavenÂçèË∞É‰∫ÜÊâÄÊúâÊûÑÂª∫ÁîüÂëΩÂë®ÊúüÈò∂ÊÆµÁöÑÊâßË°åÔºå‰ΩÜÊòØ‰ªñÂπ∂Ê≤°ÊúâÁõ¥Êé•ÂÆûÁé∞ÂÆÉ‰ª¨ÔºåËÄåÊòØÂ∞Ü‰ªñ‰ª¨ÂßîÊâòÁªô‰∫ÜÊèí‰ª∂„ÄÇËøô‰∫õÊèí‰ª∂ÊòØmaven-pluginÁ±ªÂûãÁöÑÊûÑ‰ª∂(ÊâìÂåÖ‰∏∫JARÊñá‰ª∂)„ÄÇMaven‰∏∫Ê†áÂáÜÊûÑ‰ª∂ÁîüÂëΩÂë®ÊúüÊâÄÂÆö‰πâÁöÑÊâÄÊúâ‰ªªÂä°ÈÉΩÊèê‰æõ‰∫ÜÊèí‰ª∂Ôºå‰ΩÜÊõ¥Â§öÁöÑÊòØÁî±Á¨¨‰∏âÊñπÁîü‰∫ßÁöÑÔºåÁî®‰∫éÂ§ÑÁêÜÂêÑÁßçËá™ÂÆö‰πâÁöÑ‰ªªÂä°„ÄÇ Êèí‰ª∂ÁõÆÊ†áÊØè‰∏™Êèí‰ª∂ÈÉΩÊúâÂæàÂ§öÂäüËÉΩÔºåÊØè‰∏™Êèí‰ª∂ÂäüËÉΩÂØπÂ∫î‰∫ÜÊèí‰ª∂‰∏Ä‰∏™ÁõÆÊ†á„ÄÇÂ¶ÇÊàë‰ª¨‰πãÂâçÂàÜÊûê‰æùËµñÁöÑmaven-dependency-pluginÔºåÂÆÉÂ∞±ÊúâÂçÅÂ§ö‰∏™ÁõÆÊ†áÔºåÂ¶Ç‰∏ãÔºö1234// ÂëΩ‰ª§Ë°åÂÜíÂè∑ÂâçÈù¢ÊòØÊèí‰ª∂ÔºåÂÜíÂè∑ÂêéÈù¢ÊòØÁõÆÊ†áÔºàÂäüËÉΩÔºâmvn dependency:analyzemvn dependency:treemvn dependency:list Êèí‰ª∂ÁªëÂÆöMavenÁöÑÁîüÂëΩÂë®Êúü‰∏éÊèí‰ª∂Áõ∏‰∫íÁªëÂÆöÔºåÁî®‰ª•ÂÆåÊàêÂÆûÈôÖÁöÑÊûÑÂª∫‰ªªÂä°„ÄÇ ÂÜÖÁΩÆÁªëÂÆö‰∏∫‰∫ÜËÆ©Áî®Êà∑Âá†‰πé‰∏çÁî®‰ªª‰ΩïÈÖçÁΩÆÂ∞±ËÉΩÊûÑÂª∫MavenÈ°πÁõÆÔºåMaven‰∏∫‰∏Ä‰∫õ‰∏ªË¶ÅÁöÑÁîüÂëΩÂë®ÊúüÈò∂ÊÆµÁªëÂÆö‰∫ÜÂæàÂ§öÊèí‰ª∂ÁöÑÁõÆÊ†áÔºåÂ¶ÇÔºö maven-clean-plugin:cleanÁªëÂÆö‰∫Üclean maven-compiler-plugin:compileÁªëÂÆö‰∫Ücompile maven-surefire-plugin:testÁªëÂÆö‰∫Ütest maven-jar-plugin:jarÁªëÂÆöpackageÈªòËÆ§ maven-install-plugin:installÁªëÂÆö‰∫Üinstall Ëá™ÂÆö‰πâÁªëÂÆöÈô§‰∫ÜÂÜÖÁΩÆÁªëÂÆö‰πãÂ§ñÔºåÁî®Êà∑ËøòËÉΩÂ§üËá™Â∑±ÈÄâÊã©Â∞ÜÊüê‰∏™Êèí‰ª∂ÁõÆÊ†áÁªëÂÆöÂà∞ÁîüÂëΩÂë®ÊúüÁöÑÊüê‰∏™Èò∂ÊÆµ‰∏ä„ÄÇÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;!--ÂºïÂÖ•Êèí‰ª∂--&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.1&lt;/version&gt; &lt;!--ÊûÑÂª∫‰ªªÂä°--&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;attach-source&lt;/id&gt; &lt;!--ÁªëÂÆöÈò∂ÊÆµ--&gt; &lt;phase&gt;verify&lt;/phase&gt; &lt;!--ÁªëÂÆöÁõÆÊ†á--&gt; &lt;goals&gt; &lt;goal&gt;jar-no-fork&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt; ÂæàÂ§öÊèí‰ª∂ÁöÑÁõÆÊ†áÂú®ÁºñÂÜôÊòØÂ∞±Â∑≤ÁªèÂÆö‰πâ‰∫ÜÈªòËÆ§ÁªëÂÆöÈò∂ÊÆµÔºåÂèØ‰ª•Âà©Áî®maven-help-pluginÊü•ÁúãÊèí‰ª∂ËØ¶ÁªÜ‰ø°ÊÅØÔºå‰∫ÜËß£Êèí‰ª∂ÁõÆÊ†áÁöÑÈªòËÆ§ÁªëÂÆöÈò∂ÊÆµ„ÄÇËøêË°åÂëΩ‰ª§Â¶Ç‰∏ãÔºö1mvn help:describe -Dplugin=org.apache.maven.plugins:maven-source-plugin:3.0.1 Â¶ÇÊûúÂ§ö‰∏™ÁõÆÊ†áË¢´ÁªëÂÆöÂà∞Âêå‰∏Ä‰∏™Èò∂ÊÆµÁöÑÊó∂ÂÄôÔºåËøô‰∫õÊèí‰ª∂Â£∞ÊòéÁöÑÂÖàÂêéÈ°∫Â∫èÂÜ≥ÂÆö‰∫ÜÁõÆÊ†áÁöÑÊâßË°åÈ°∫Â∫è„ÄÇ Êèí‰ª∂ÈÖçÁΩÆÂëΩ‰ª§Ë°åÊèí‰ª∂ÈÖçÁΩÆÂæàÂ§öÊèí‰ª∂ÁõÆÊ†áÁöÑÂèÇÊï∞ÈÉΩÊòØÊîØÊåÅÂëΩ‰ª§Ë°åÈÖçÁΩÆÁöÑÔºåÁî®Êà∑ÂèØ‰ª•Âú®MavenÂëΩ‰ª§‰∏≠‰ΩøÁî®-DÂèÇÊï∞ÔºåÂπ∂‰º¥ÈöèÂèÇÊï∞ÈîÆ=ÂèÇÊï∞ÂÄºÁöÑÂΩ¢ÂºèÊù•ÈÖçÁΩÆÊèí‰ª∂ÁõÆÊ†áÁöÑÂèÇÊï∞ÔºåÂ¶Ç‰∏ämvn help„ÄÇ POM‰∏≠Êèí‰ª∂ÂÖ®Â±ÄÈÖçÁΩÆ‰∏∫‰∫ÜÈÅøÂÖçÊèí‰ª∂ÂèÇÊï∞ÈáçÂ§ç‰π¶ÂÜôÔºåÊàë‰ª¨ÂèØ‰ª•Âú®pomËøõË°åÂÖ®Â±ÄÈÖçÁΩÆÔºåÂ¶Ç‰∏ãÔºö1234567891011&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.1&lt;/version&gt; &lt;configuration&gt; &lt;!--ÁºñËØëJava1.8ÁâàÊú¨ÁöÑÊ∫êÊñá‰ª∂--&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;!--ÁîüÊàê‰∏éJVM1.8ÂÖºÂÆπÁöÑÂ≠óËäÇÁ†ÅÊñá‰ª∂--&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;/configuration&gt;&lt;/plugin&gt; Êèí‰ª∂ÁÆ°ÁêÜPOMÁöÑÂÖÉÁ¥†ÂèØ‰ª•ÂåÖÂê´Ë¢´ÂÖ∂‰ªñÈ°πÁõÆ‰ΩøÁî®ÁöÑÂ£∞ÊòéÔºà‰ΩÜ‰∏çÊãâÂèñÔºâÔºåËøôÊ†∑ÁöÑPOMÁöÑÂ≠êÈ°πÁõÆ‰ºöËá™Âä®ÁªßÊâøËøô‰∫õÂ£∞Êòé„ÄÇ ÂºïÁî®‰∫ÜÂÖÉÁ¥†ÁöÑÈ°πÁõÆÂèØ‰ª•‰ΩøÁî®ÂÆÉÊâÄÂ£∞ÊòéÁöÑ‰æùËµñÔºåËÄå‰∏çÈúÄË¶ÅÊåáÂÆö‰ªñ‰ª¨ÁöÑÂùêÊ†áÔºåÂ¶ÇÊûú‰∏≠ÁöÑÂú®Á®çÂêéÊîπÂèòÔºåÂàôÊâÄÊúâÂ∫îÁî®ÂÆÉÁöÑpomÈÉΩ‰ºöÊîπÂèò„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÔºöÂú®ÂéüPOM‰∏≠ÁöÑÊâÄÊúâÁâàÊú¨ÈÉΩÂà©Áî®ÂÖÉÁ¥†ÊéßÂà∂„ÄÇ ËÅöÂêàÂíåÁªßÊâøËÅöÂêàÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Ë¶Å‰∏ÄÊ¨°ÊûÑÂª∫‰∏§‰∏™È°πÁõÆÔºåËÄå‰∏çÊòØÂà∞‰∏§‰∏™Ê®°ÂùóÁöÑÁõÆÂΩï‰∏ãÂàÜÂà´ÊâßË°åmvnÂëΩ‰ª§ÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®MavenËÅöÂêà„ÄÇ Êàë‰ª¨ÂÖàÂàõÂª∫‰∏Ä‰∏™ËÅöÂêàÊûÑ‰ª∂ÔºàÈô§‰∫ÜpomÊñá‰ª∂ÔºàpackagingÈúÄË¶Å‰∏∫pomÔºâÔºåÂÖ∂‰ªñÂèØ‰ª•ÈÉΩ‰∏çË¶ÅÔºâÔºåÁÑ∂ÂêéÂú®ËÅöÂêàÊûÑ‰ª∂ÁõÆÂΩï‰∏ãÂàõÂª∫‰∏§‰∏™ÊûÑ‰ª∂ÔºåÂπ∂Âú®ËÅöÂêàÊûÑ‰ª∂‰∏ãÂà©Áî®Êù•Â£∞ÊòéÔºåÊØè‰∏™moduleÁöÑÂÄºÈÉΩÊòØ‰∏Ä‰∏™ÂΩìÂâçÁõÆÂΩïÁöÑÁõ∏ÂØπÁõÆÂΩïÔºåÂ¶Ç‰∏ãÔºö1234&lt;modules&gt; &lt;module&gt;email&lt;/module&gt; &lt;module&gt;user&lt;/module&gt;&lt;/modules&gt; ÁªßÊâøÂ¶ÇÊûú‰∏§‰∏™È°πÁõÆÊúâÈáçÂ§çÁöÑ‰æùËµñÊàñÊèí‰ª∂ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÁªßÊâø„ÄÇ Êàë‰ª¨ÂÖàÂàõÂª∫‰∏Ä‰∏™Áà∂ÊûÑ‰ª∂ÔºàÈô§‰∫ÜpomÊñá‰ª∂ÔºàpackagingÈúÄË¶Å‰∏∫pomÔºâÔºåÂÖ∂‰ªñÂèØ‰ª•ÈÉΩ‰∏çË¶ÅÔºâÔºåÁÑ∂ÂêéÂú®Áà∂ÊûÑ‰ª∂ÁõÆÂΩï‰∏ãÂàõÂª∫‰∏§‰∏™Â≠êÊûÑ‰ª∂ÔºåÂπ∂Âú®Â≠êÊûÑ‰ª∂‰∏ãÂà©Áî®Êù•Â£∞ÊòéÁªßÊâøÂÖ≥Á≥ªÔºåÂ¶Ç‰∏ãÔºö123456&lt;parent&gt; &lt;groupId/&gt; &lt;artifactId/&gt; &lt;version/&gt; &lt;relativePath&gt;Áà∂pomÁöÑÁõ∏ÂØπË∑ØÂæÑ&lt;/relativePath&gt;&lt;/parent&gt; ÂèÇËÄÉ MavenÂÆâË£ÖÊïôÁ®ã ÈÖçÁΩÆÈòøÈáå‰∫ëÈïúÂÉè‰ªìÂ∫ì „ÄäMavenÂÆûÊàò„Äã Maven Ê†áÁ≠æ]]></content>
      <categories>
        <category>Â∑•ÂÖ∑</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git‰ΩøÁî®Êï¥ÁêÜ]]></title>
    <url>%2F2018%2F07%2F05%2F%E5%B7%A5%E5%85%B7%2FGit%E4%BD%BF%E7%94%A8%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöËôΩÁÑ∂Êó•Â∏∏‰ΩøÁî®gitÔºå‰ΩÜÊòØÊúâ‰∫õÊó∂ÂÄôÊÄªÊòØ‰ºöÂøòËÆ∞‰∏Ä‰∫õÊìç‰ΩúÔºåÈöæÂÖç‰ºöÈù¢ÂêëÊêúÁ¥¢ÂºïÊìéÊü•Êâæ„ÄÇÊâÄ‰ª•ËøôÈáåÂ∞±ÊÄªÁªì‰∏Ä‰∏ã„ÄÇ ÁâàÊú¨ÊéßÂà∂Á≥ªÁªüË∞àÂà∞GitÔºåÂ∞±ÈúÄË¶ÅÂÖàËØ¥ËØ¥ÁâàÊú¨ÊéßÂà∂Á≥ªÁªü„ÄÇÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÂ∞±ÊòØËÉΩËá™Âä®Â∏ÆÊàë‰ª¨ËÆ∞ÂΩïÊØèÊ¨°Êñá‰ª∂ÁöÑÊîπÂä®ÁöÑ‰∏Ä‰∏™ËΩØ‰ª∂ÔºåËÄåGitÂ∞±ÊòØÂÆÉÁöÑ‰∏ÄÁßçÂÆûÁé∞„ÄÇÊÉ≥ÊÉ≥Êàë‰ª¨ÂÜôËÆ∫ÊñáËøòÊòØÂÜô‰ª£Á†ÅÔºåÊòØ‰∏çÊòØÊúâ‰∫Ü‰ªñÂ∞±ÂæàÊñπ‰æø‰∫ÜÔºåÂÜç‰πü‰∏çÁî®Ëá™Â∑±ÊâãÂä®Â§á‰ªΩÊØè‰∏ÄÊ¨°‰øÆÊîπ‰∫Ü„ÄÇÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÂèàÂàÜ‰∏∫ÈõÜ‰∏≠ÂºèÂíåÂàÜÂ∏ÉÂºè„ÄÇ ÈõÜ‰∏≠ÂºèÔºàSVNÔºâ ÈõÜ‰∏≠ÂºèÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÁöÑÁâàÊú¨Â∫ìÊòØÈõÜ‰∏≠Â≠òÊîæÂú®‰∏≠Â§ÆÊúçÂä°Âô®ÁöÑÔºåËÄåÊàë‰ª¨Âú®Âπ≤Ê¥ªÁöÑÊó∂ÂÄôÔºåÁî®ÁöÑÈÉΩÊòØËá™Â∑±ÁöÑÁîµËÑëÔºåÊâÄ‰ª•Ë¶ÅÂÖà‰ªé‰∏≠Â§ÆÊúçÂä°Âô®ÂèñÂæóÊúÄÊñ∞ÁöÑÁâàÊú¨ÔºåÁÑ∂ÂêéÂºÄÂßãÂπ≤Ê¥ªÔºåÂπ≤ÂÆåÊ¥ª‰∫ÜÔºåÂÜçÊääËá™Â∑±ÁöÑÊ¥ªÊé®ÈÄÅÁªô‰∏≠Â§ÆÊúçÂä°Âô®„ÄÇ ÈóÆÈ¢òÔºöÂøÖÈ°ªËÅîÁΩëÊâçËÉΩÂ∑•‰ΩúÔºõ‰∏≠Â§ÆÊúçÂä°Âô®Ë¶ÅÊòØÂá∫‰∫ÜÈóÆÈ¢òÔºåÊâÄÊúâ‰∫∫ÈÉΩÊ≤°Ê≥ïÂπ≤Ê¥ª‰∫Ü ÂàÜÂ∏ÉÂºèÔºàGitÔºâ ÊØè‰∏™‰∫∫ÁöÑÁîµËÑë‰∏äÈÉΩÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÁâàÊú¨Â∫ìÔºåËøôÊ†∑Ôºå‰Ω†Â∑•‰ΩúÁöÑÊó∂ÂÄôÔºåÂ∞±‰∏çÈúÄË¶ÅËÅîÁΩë‰∫ÜÔºåÂõ†‰∏∫ÁâàÊú¨Â∫ìÂ∞±Âú®‰Ω†Ëá™Â∑±ÁöÑÁîµËÑë‰∏ä„ÄÇÂú®ÂèåÊñπÂçè‰ΩúÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûú‰Ω†Âú®Ëá™Â∑±ÁîµËÑë‰∏äÊîπ‰∫ÜÊñá‰ª∂AÔºå‰Ω†ÁöÑÂêå‰∫ã‰πüÂú®‰ªñÁöÑÁîµËÑë‰∏äÊîπ‰∫ÜÊñá‰ª∂AÔºåËøôÊó∂Ôºå‰Ω†‰ª¨‰ø©‰πãÈó¥Âè™ÈúÄÊääÂêÑËá™ÁöÑ‰øÆÊîπÊé®ÈÄÅÁªôÂØπÊñπÔºåÂ∞±ÂèØ‰ª•‰∫íÁõ∏ÁúãÂà∞ÂØπÊñπÁöÑ‰øÆÊîπ‰∫Ü„ÄÇ Âú®ÂÆûÈôÖ‰ΩøÁî®ÂàÜÂ∏ÉÂºèÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆûÂæàÂ∞ëÂú®‰∏§‰∫∫‰πãÈó¥ÁöÑÁîµËÑë‰∏äÊé®ÈÄÅÁâàÊú¨Â∫ìÁöÑ‰øÆÊîπÔºåËÄå‰∏îÂ¶ÇÊûú‰Ω†‰ª¨‰ø©‰∏çÂú®‰∏Ä‰∏™Â±ÄÂüüÁΩëÂÜÖÔºå‰∏§Âè∞ÁîµËÑë‰πü‰∫íÁõ∏ËÆøÈóÆ‰∏ç‰∫Ü„ÄÇÊâÄ‰ª•ÂàÜÂ∏ÉÂºèÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÈÄöÂ∏∏‰πüÊúâ‰∏ÄÂè∞ÂÖÖÂΩì‚Äú‰∏≠Â§ÆÊúçÂä°Âô®‚ÄùÁöÑÁîµËÑëÔºå‰ΩÜËøô‰∏™ÊúçÂä°Âô®ÁöÑ‰ΩúÁî®‰ªÖ‰ªÖÊòØÁî®Êù•Êñπ‰æø‚Äú‰∫§Êç¢‚ÄùÂ§ßÂÆ∂ÁöÑ‰øÆÊîπÔºåÊ≤°ÊúâÂÆÉÂ§ßÂÆ∂‰πü‰∏ÄÊ†∑Âπ≤Ê¥ªÔºåÂè™ÊòØ‰∫§Êç¢‰øÆÊîπ‰∏çÊñπ‰æøËÄåÂ∑≤„ÄÇ Git‰ΩøÁî®GitÂÆâË£ÖËøôÈáåÂ∞±‰∏çÂ§öËØ¥‰∫ÜÔºåÊé®ËçêÂªñÈõ™Â≥∞ÁöÑÂÆòÊñπÁΩëÁ´ôÂÆâË£ÖÊïôÁ®ã„ÄÇ GitÂå∫Âüü Â∑•‰ΩúÂå∫ÔºàWorkspaceÔºâÔºöÂú®ËÆ°ÁÆóÊú∫ËÉΩÁúãÂà∞ÁöÑÁõÆÂΩï„ÄÇ ÁºìÂ≠òÂå∫ÔºàIndex/StageÔºâÔºö‰∏¥Êó∂‰øùÂ≠òÊàë‰ª¨ÁöÑÊîπÂä®„ÄÇ ÁâàÊú¨Â∫ìÔºàRepositoryÔºâÔºöÂ∑•‰ΩúÂå∫Êúâ‰∏Ä‰∏™ÈöêËóèÁöÑÁõÆÂΩï.gitÔºåÂÆÉÊòØGitÁöÑÊú¨Âú∞ÁâàÊú¨Â∫ì„ÄÇ ËøúÁ®ã‰ªìÂ∫ìÔºàRemoteÔºâÔºö‚ÄúGit‰∏≠Â§ÆÊúçÂä°Âô®‚ÄùÔºåÊâòÁÆ°Âú®ÁΩëÁªú‰∏≠ÁöÑÈ°πÁõÆÁöÑÁâàÊú¨Â∫ìÔºåÂèØ‰æõÂ§ö‰∫∫Âçè‰ΩúÂºÄÂèë„ÄÇÔºàÂõΩÂ§ñÊúâÂü∫‰Ω¨‰ø±‰πêÈÉ®GithubÔºåÂõΩÂÜÖÊúâÁ†Å‰∫ë„ÄÅCoding„ÄÅËøòÊúâÂèØ‰∏™‰∫∫ÊàñËÄÖÂÖ¨Âè∏ÂÆöÂà∂ÁöÑGitLabÔºåËØ∑ÊåâÈúÄÈÄâÊã©Ôºâ Git‰∏™‰∫∫Êìç‰ΩúÂú®‰∏äÈù¢ÁöÑÂå∫ÂüüÂõæ‰∏≠ÔºåÂÖ∂ÂÆûÊàë‰ª¨Â∑≤ÁªèÁúãÂà∞ÂæàÂ§öÊìç‰ΩúÔºåËøôÈáåÊàëÂÜçÊÄªÁªì‰∏Ä‰∏ãÔºö Êñ∞Âª∫‰ªìÂ∫ì Âú®ÂΩìÂâçÁõÆÂΩïÊñ∞Âª∫‰∏Ä‰∏™Git‰ªìÂ∫ì 1git init Âú®ÂΩìÂâçÁõÆÂΩïÂÖãÈöÜ‰∏Ä‰∏™‰ªìÂ∫ì 1git clone [url] Â¢ûÂä†Êñá‰ª∂ Ê∑ªÂä†ÊåáÂÆöÊñá‰ª∂/ÁõÆÂΩïÂà∞ÊöÇÂ≠òÂå∫ 1git add [file]/[dir] Ê∑ªÂä†ÂΩìÂâçÁõÆÂΩïÁöÑÊâÄÊúâÊñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫ÔºàÊÖéÁî®ÔºåÂ∞§ÂÖ∂Âú®IDE‰∏≠ÔºåÂõ†‰∏∫ÂÆÉ‰ºöÂåÖÂê´IDEÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÂ¶ÇIDEAÁöÑ.ideaÂíåimlÊñá‰ª∂Ôºâ 1git add . Êèê‰∫§Êñá‰ª∂ Êèê‰∫§ÁºìÂ≠òÂå∫ÁöÑÊñá‰ª∂Âà∞‰ªìÂ∫ìÂå∫ 1git commit -m [ÊîπÂèò‰ø°ÊÅØ] Êü•Áúã‰ø°ÊÅØ ÊòæÁ§∫ÊúâÂèòÊõ¥ÁöÑÊñá‰ª∂ 1git status ÊòæÁ§∫ÂΩìÂâçÂàÜÊîØÁöÑÁâàÊú¨ÂéÜÂè≤ 1git log Ê†πÊçÆÂÖ≥ÈîÆËØçÊêúÁ¥¢Êèê‰∫§ÂéÜÂè≤ 1git log -S [keyword] ÊòæÁ§∫ÊöÇÂ≠òÂå∫‰∏éÂ∑•‰ΩúÂå∫ÁöÑÂ∑ÆÂºÇ 1git diff ÊòæÁ§∫Â∑•‰ΩúÂå∫‰∏éÂΩìÂâçÂàÜÊîØÊúÄÊñ∞ÁöÑcommit‰πãÈó¥ÁöÑÂ∑ÆÂºÇ git diff HEAD(ÂΩìÂâçÊúÄÊñ∞commit) ‰∏ä‰º†Êú¨Âú∞ÊåáÂÆöÂàÜÊîØÂà∞ËøúÁ®ã‰ªìÂ∫ì 1git push [remote] [branch] ËøúÁ®ãÂêåÊ≠• ‰∏ãËΩΩËøúÁ®ã‰ªìÂ∫ìÁöÑÂèòÂä® 1git fetch [remoteËøúÁ®ã‰ªìÂ∫ìÂêç] [ÂàÜÊîØ]:[Êú¨Âú∞Êñ∞ÂàÜÊîØ] ÊòæÁ§∫ÊâÄÊúâËøúÁ®ã‰ªìÂ∫ì 1git remote -v ÊòæÁ§∫Êüê‰∏™ËøúÁ®ã‰ªìÂ∫ìÁöÑ‰ø°ÊÅØ 1git remote show [branch] Â¢ûÂä†‰∏Ä‰∏™ËøúÁ®ã‰ªìÂ∫ìÂπ∂ÂëΩÂêç git remote add [shortname=remote] [url] ‰∏ä‰º†Êú¨Âú∞ÊåáÂÆöÂàÜÊîØÂà∞ËøúÁ®ã‰ªìÂ∫ì 1git push [remote] [branch] Âº∫Ë°åÊé®ÈÄÅÂΩìÂâçÂàÜÊîØÂà∞ËøúÁ®ã‰ªìÂ∫ìÔºåÂç≥‰ΩøÊúâÂÜ≤Á™Å git push [remote] --force Êé®ÈÄÅÊâÄÊúâÂàÜÊîØÂà∞ËøúÁ®ã‰ªìÂ∫ì git push [remote] -all Êí§ÈîÄ ÊÅ¢Â§çÊöÇÂ≠òÂå∫ÁöÑÊåáÂÆöÊñá‰ª∂Âà∞Â∑•‰ΩúÂå∫ 1git checkout [file] ÊÅ¢Â§çÊüê‰∏™commitÁöÑÊåáÂÆöÊñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫‰∏éÂ∑•‰ΩúÂå∫ 1git checkout [commit] [file] ÊÅ¢Â§çÊöÇÂ≠òÂå∫ÁöÑÊâÄÊúâÊñá‰ª∂Âà∞Â∑•‰ΩúÂå∫ 1git checkout . ÈáçÁΩÆÊöÇÂ≠òÂå∫‰∏éÂ∑•‰ΩúÂå∫Ôºå‰∏é‰∏ä‰∏ÄÊ¨°commit‰øùÊåÅ‰∏ÄËá¥ git reset --hard ÈáçÁΩÆÂΩìÂâçÂàÜÊîØÁöÑHEADÔºàÊåáÈíàÔºåÊåáÂêëcommit-idÔºâ‰∏∫ÊåáÂÆöcommitÔºåÂêåÊó∂ÈáçÁΩÆÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫Ôºå‰∏éÊåáÂÆöcommit‰∏ÄËá¥ git reset --hard [commit] ÂêéËÄÖÁöÑÊâÄÊúâÂèòÂåñÈÉΩÂ∞ÜË¢´ÂâçËÄÖÊäµÊ∂àÔºåÂπ∂Â∫îÁî®ÂΩìÂâçÂàÜÊîØ git revert [commit] ÊöÇÊó∂Â∞ÜÊú™Êèê‰∫§ÁöÑÂèòÂåñÁßªÈô§ÔºåÁ®çÂêéÂÜçÁßªÂÖ• git stash git stash pop GitÂ§ö‰∫∫Âçè‰ΩúÂ§ö‰∫∫Âçè‰ΩúÂ∞±‰ºöÊ∂âÂèäÂà∞ÂàÜÊîØÁöÑÊ¶ÇÂøµÔºàÂÖ∂ÂÆûÂçï‰∫∫ÂºÄÂèë‰πü‰ºöÈÅáÂà∞ÔºåÂè™ÊòØÂ§ö‰∫∫‰ºöÊõ¥Â∏∏ËßÅÔºâ Êàë‰ª¨ÂÖàÁúãÁúã‰∏ãÈù¢ÁöÑÂõæÔºö ËøôÂº†ÂõæÂèØ‰ª•ÂæàÊ∏ÖÊ•öËÆ©Êàë‰ª¨ËÆ§ËØÜÂà∞Âú®Â∑•‰Ωú‰∏≠‰ΩøÁî®gitÂ∑•‰ΩúÊµÅÁöÑÂºÄÂèëÊµÅÁ®ã„ÄÇMasterÂàÜÊîØÊòØÁ∫ø‰∏äÂàÜÊîØÔºåÊàë‰ª¨Âú®ÂºÄÂèëÊñ∞ÂäüËÉΩÁöÑÊó∂ÂÄô‰∏ç‰ºöÂéªÂä®ÂÆÉÔºåHotfixÂàÜÊîØÊòØÂ¶ÇÊûúÂá∫‰∫ÜbugÂ∞±Êãâ‰∏ÄÊù°bugÂàÜÊîØÂø´ÈÄü‰øÆÂ§çÂêàÂπ∂Âà∞masterÂàÜÊîØÈáå„ÄÇÊàë‰ª¨Âπ≥Êó∂ÂºÄÂèëÈÉΩÊòØÂÖà‰ªéMasterÂàÜÊîØÊãâÂá∫‰∏ÄÊù°DevelopÂàÜÊîØÔºåÂú®Ëøô‰∏™ÂàÜÊîØ‰∏äËøõË°åÂºÄÂèë„ÄÇÊØè‰∏™‰∫∫‰∏ÄËà¨ÈÉΩ‰ºöË¥üË¥£È°πÁõÆÁöÑ‰∏Ä‰∏™ÁâπÊÄßÂäüËÉΩÔºåÊâÄ‰ª•Êàë‰ª¨Âèà‰ºö‰ªéDevelopÂàÜÊîØÊãâÂá∫Âá†‰∏™FeatureÂàÜÊîØ„ÄÇÂú®ÂºÄÂèëÊµãËØïÂÆåÊàêÂêéÊàë‰ª¨ÂΩ¢ÊàêReleaseÂàÜÊîØÔºåÂÜçÊ¨°Ê£ÄÈ™åÂêéÂ∞ÜÂÆÉ‰∏éMasterÂàÜÊîØÂêàÂπ∂ÔºåÁÑ∂ÂêéÊàë‰ª¨‰πãÂêéReleaseÂàÜÊîØÊãâÂá∫DevelopÂàÜÊîØËøõË°åÊñ∞‰∏ÄËΩÆÁöÑÂºÄÂèë„ÄÇ GitÂàÜÊîØ ÂàóÂá∫ÊâÄÊúâÊú¨Âú∞ÂàÜÊîØ 1git branch ÂàóÂá∫ÊâÄÊúâËøúÁ®ãÂàÜÊîØ 1git branch -r ÂàóÂá∫ÊâÄÊúâÊú¨Âú∞ÂàÜÊîØÂíåËøúÁ®ãÂàÜÊîØ 1git branch -a Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºå‰ΩÜ‰æùÁÑ∂ÂÅúÁïôÂú®ÂΩìÂâçÂàÜÊîØ 1git branch [branch-name] Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºåÂπ∂ÂàáÊç¢Âà∞ËØ•ÂàÜÊîØ 1git checkout -b [branch] ÂàáÊç¢Âà∞ÂΩìÂâçÊåáÂÆöÂàÜÊîØÔºåÂπ∂ÊåáÂÆöÂ∑•‰ΩúÂå∫ 1git checkout [branch-name] ÂàáÊç¢Âà∞‰∏ä‰∏Ä‰∏™ÂàÜÊîØ 1git checkout - Âª∫Á´ãËøΩË∏™ÂÖ≥Á≥ªÔºåÂú®Áé∞ÊúâÂàÜÊîØ‰∏éÊåáÂÆöÁöÑËøúÁ®ãÂàÜÊîØ‰πãÈó¥ 1git branch --set-upstream [branch] [remote-branch] ÂêàÂπ∂ÊåáÂÆöÂàÜÊîØÂà∞ÂΩìÂâçÂàÜÊîØ 1git merge [branch] Âà†Èô§ËøúÁ®ãÂàÜÊîØ 1git branch -d [branch-name] Âçè‰ΩúÂÜ≤Á™ÅÂú®Â§ö‰∫∫Âçè‰ΩúÁöÑËøáÁ®ã‰∏≠ËÇØÂÆö‰ºöÁ¢∞Âà∞ËøôÊ†∑ÁöÑÈóÆÈ¢òÔºöÂ¶ÇÊûú‰Ω†ÁöÑÂ∞è‰ºô‰º¥Â∑≤ÁªèÂêë‰∏Ä‰∏™ÂàÜÊîØÊé®ÈÄÅ‰∫Ü‰ªñÁöÑÊèê‰∫§ÔºåËÄåÁ¢∞Â∑ß‰Ω†‰πüÂØπÂêå‰∏™ÂàÜÊîØÁöÑÂêåÊ†∑ÁöÑÊñá‰ª∂‰Ωú‰∫Ü‰øÆÊîπÔºåÂπ∂ËØïÂõæÊé®ÈÄÅÔºåÈÇ£‰πàÂ∞±‰ºöÊèê‰∫§Ë¢´ÊãíÁªùÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÂÖàÔºö1git pull Á≠â‰ª∑‰∫éÔºö12git fetch temp(‰∏¥Êó∂ÂàÜÊîØ)git merge temp Ëøô‰∏™Êó∂ÂÄôÂêàgit‰ºöÂ∞Ü‰Ω†‰ª¨‰∏§‰∏™‰∫∫ÂØπÊñá‰ª∂ÁöÑ‰øÆÊîπÈÉΩÂëàÁé∞Âú®Âêå‰∏Ä‰∏™Êñá‰ª∂‰∏≠Ôºå‰Ω†ÈúÄË¶ÅÂú®‰∏é‰Ω†ÁöÑÂ∞è‰ºô‰º¥ÂïÜÈáèÂá∫‰∏Ä‰∏™ÊúÄÁªàÁâàÔºå‰øÆÊîπ‰πãÂêéÂÜçÊèê‰∫§‰∏äÂéª„ÄÇ IDEA‰∏éGitÂèØËÉΩÂ§ßÂÆ∂ÂØπ‰ΩøÁî®ÂëΩ‰ª§Ë°åÂπ∂‰∏çÊÑüÂÜíÔºåÊâÄ‰ª•ËøôÈáå‰πü‰∏∫Â§ßÂÆ∂Êâæ‰∫Ü‰∏Ä‰ªΩIDEAÁöÑgit‰ΩøÁî®ÊïôÁ®ãÔºåËá≥Ê≠§Â§ßÂÆ∂Âè™Ë¶ÅÁÇπÁÇπÁÇπÂ∞±Â•Ω‰∫Ü„ÄÇÂΩìÁÑ∂ËøôÈáåËøò‰ºöÊúâÂæàÂ§öÊàëÊ≤°ÊúâÊ∂âÂèäÂà∞ÁöÑÂú∞ÊñπÔºåÂ∞±ÈúÄË¶ÅÂπ≥Êó∂Â§öÁßØÁ¥Ø‰∫Ü„ÄÇ Âà´ÊÄ•ÔºåÂà´ÊÄ•ÔºÅÔºÅËøòË¶ÅÊúÄÂêé‰∏ÄÁÇπÂ∞±ÊòØ .gitignore ‰∫ÜÔºÅ Êàë‰ª¨ÂèëÁé∞Âú®‰ΩøÁî®IDEAÁöÑÊó∂ÂÄôÔºå‰ªñÈªòËÆ§‰ºöË¶ÅÊ±ÇÊàë‰ª¨ÊääÊâÄÊúâÁöÑÊñá‰ª∂Âä†ÂÖ•Âà∞gitÊéßÂà∂ÈáåÔºå‰ΩÜÊòØÊàë‰ª¨Áü•ÈÅìÂæàÂ§öIDEAÁöÑËá™Â∏¶ÈÖçÁΩÆÊñá‰ª∂ÊòØ‰∏çÁî®‰πüÊ≤°ÊúâÂøÖË¶ÅÂä†ÂÖ•gitÔºà‰πãÂâçÂú®ËØ¥git add . ÁöÑÊó∂ÂÄô‰πüËØ¥ËøáÔºâÔºåÊâÄ‰ª•ÂèØ‰ª•Âà©Áî®IDEAÁöÑ.gitignoreÊèí‰ª∂Êù•Â∏ÆÂä©Êàë‰ª¨ÂøΩÁï•Ëøô‰∫õÊ≤°ÊúâÂøÖË¶ÅÁöÑÊèí‰ª∂ÔºåËøôÈáå‰πüÊîæ‰∏Ä‰∏™.gitignoreÊïôÁ®ã„ÄÇ ÂèÇËÄÉ ÂªñÈõ™Â≥∞ÁöÑgitÊïôÁ®ã ËØ¶Ëß£git fetch‰∏égit pullÁöÑÂå∫Âà´ ÁâàÊú¨ÊéßÂà∂‰πãIDEA‰ΩøÁî®Git Â¶Ç‰ΩïÂú®IntelliJ IDEA‰∏≠‰ΩøÁî®.ignoreÊèí‰ª∂ÂøΩÁï•‰∏çÂøÖË¶ÅÊèê‰∫§ÁöÑÊñá‰ª∂]]></content>
      <categories>
        <category>Â∑•ÂÖ∑</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰Ω†‰∏çÁü•ÈÅìÁöÑJava ÁΩëÁªúIO]]></title>
    <url>%2F2018%2F05%2F21%2FJava%E5%9F%BA%E7%A1%80%2F%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Java-%E7%BD%91%E7%BB%9CIO%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂèØËÉΩÂæàÂ§öÂêåÂ≠¶‰∏ÄÁúãJava Java ÁΩëÁªúIOÔºåÂøÉÈáåËÇØÂÆö‰ºöËßâÂæóËøô‰∏™Êúâ‰ªÄ‰πàÂ•ΩËÆ≤ÁöÑÔºå‰∏çÂ∞±ÊòØSocketÂêóÔºåËØ¥ÂØπ‰πüÂØπÔºåÂõ†‰∏∫‰ªñËÆ≤Âà∞‰∫ÜBIO(ÂêåÊ≠•ÈòªÂ°ûIO)Ôºå‰ΩÜÊòØÂç¥‰∏çÁü•ËøòÊúâNIO(ÂêåÊ≠•ÈùûÈòªÂ°ûIO)ÔºåAIO(ÂºÇÊ≠•ÈùûÈòªÂ°ûIO)ÔºÅ È°πÁõÆÊ∫êÁ†ÅÂÖ≥‰∫éBIO„ÄÅNIO‰ª•ÂèäAIOÁöÑ‰ª£Á†ÅÈÉΩÊîæÂú®github‰∏ä‰∫ÜÔºåÊ≥®ÈáäÂ∫îËØ•ÂæàËØ¶ÁªÜ‰∫ÜÔºåÂ§ßÂÆ∂ÊúâÈúÄË¶ÅÁöÑÂèØ‰ª•Áúã‰∏Ä‰∏ãÔºö‰Ω†‰∏çÁü•ÈÅìÁöÑÈÇ£‰∫õJavaÁΩëÁªúIOÔºàBIO„ÄÅNIO„ÄÅAIOÔºâ ÂêåÊ≠•orÂºÇÊ≠• ÈòªÂ°ûorÈùûÈòªÂ°ûÂú®Ë∞àÂà∞IOÁöÑÊó∂ÂÄôÔºåÈÅøÂÖç‰∏ç‰∫ÜÂê¨Âà∞ÂêåÊ≠•„ÄÅÂºÇÊ≠•„ÄÅÈòªÂ°û„ÄÅÈùûÈòªÂ°ûËøôÂá†‰∏™ÂêçËØçÊàñËÄÖÊòØ‰ªñ‰ª¨ÁöÑÁªÑÂêàËØçÔºåÊàë‰ª¨ÁªèÂ∏∏‰ºöÊÑüÂà∞Ëø∑ÊÉë‰∏çËß£„ÄÇ ÂêåÊ≠•orÂºÇÊ≠•ÂêåÊ≠•ÂíåÂºÇÊ≠•ÊòØÁõ∏ÂØπ‰∫éIO‰∫ã‰ª∂(ËØªÂÜôÊìç‰Ωú)ËÄåË®ÄÁöÑ ÂêåÊ≠•ÔºöÂú®ËøõË°åIOÊìç‰ΩúÊó∂ÔºåÁ®ãÂ∫è‰∏çËÉΩÂπ≤Âà´ÁöÑ‰∫ãÊÉÖÔºåÁ≠âÁùÄIO‰∫ã‰ª∂ÂÆåÊàê‰πãÂêéÊâçËÉΩÂéªÂÅöÂà´ÁöÑ‰∫ãÊÉÖ ÂºÇÊ≠•Ôºö‰∏çÂÖ≥ÂøÉIOÂ§ÑÁêÜÊìç‰Ωú(Âõ†‰∏∫ÊääIOÊìç‰Ωú‰∫§ÁªôÊìç‰ΩúÁ≥ªÁªüÂπ≤‰∫Ü)ÔºåÂú®Â§ÑÁêÜIOÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ÂéªÂÅöÂà´ÁöÑ‰∫ãÊÉÖÔºåÁÑ∂ÂêéÁ≠âÂæÖIO‰∫ã‰ª∂Â§ÑÁêÜÂÆåÊàêÁöÑÈÄöÁü• ÈòªÂ°ûorÈùûÈòªÂ°ûÈòªÂ°ûÂíåÈùûÈòªÂ°ûÊòØÁõ∏ÂØπ‰∫éÊï∞ÊçÆËÄåË®ÄÁöÑ ÈòªÂ°ûÔºöÂ¶ÇÊûúÊï∞ÊçÆÊ≤°ÊúâÂáÜÂ§áÂ•ΩÔºåÁ®ãÂ∫èÂ∞±‰∏ÄÁõ¥Á≠âÂæÖÔºåÁõ¥Âà∞Êï∞ÊçÆÂáÜÂ§áÂ•Ω‰∫ÜÊâçÂæÄ‰∏ãÊâßË°å ÈùûÈòªÂ°ûÔºö‰∏çÁÆ°Êï∞ÊçÆÊúâÊ≤°ÊúâÂáÜÂ§áÂ•ΩÔºåÁ®ãÂ∫èÈÉΩÂæÄ‰∏ãËøõË°å ËøôÈáåÊòØËá™Â∑±ÁúãÂà∞ÁöÑ‰∏Ä‰∏™‰æãÂ≠êÔºåÂèØ‰ª•ÁªìÂêàËµ∑Êù•ÁêÜËß£Ôºö Â¶ÇÊûú‰Ω†ÊÉ≥ÂêÉ‰∏Ä‰ªΩÂÆ´‰øùÈ∏°‰∏ÅÁõñÈ•≠Ôºö ÂêåÊ≠•ÈòªÂ°ûÔºö‰Ω†Âà∞È•≠È¶ÜÁÇπÈ§êÔºåÁÑ∂ÂêéÂú®ÈÇ£Á≠âÁùÄÔºåËøòË¶Å‰∏ÄËæπÂñäÔºöÂ•Ω‰∫ÜÊ≤°ÂïäÔºÅÔºàIOÊìç‰Ωú[ÊãøÈ•≠]Ê≤°ÊúâÂπ≤Â•ΩÔºåÈ¢ÑÊÉ≥‰πãÂ§ñÁöÑ‰∫ãÈÉΩ‰∏çËÉΩÂπ≤ÔºåÊï∞ÊçÆ[È•≠]Ê≤°ÊúâÂ•ΩÔºåÂ∞±‰∏ÄÁõ¥Á≠âÁùÄÔºâ ÂêåÊ≠•ÈùûÈòªÂ°ûÔºöÂú®È•≠È¶ÜÁÇπÂÆåÈ§êÔºåÂ∞±ÂéªÈÅõÁãó‰∫Ü„ÄÇ‰∏çËøáÊ∫ú‰∏Ä‰ºöÂÑøÔºåÂ∞±ÂõûÈ•≠È¶ÜÂñä‰∏ÄÂ£∞ÔºöÂ•Ω‰∫ÜÊ≤°ÂïäÔºÅÔºàIOÊìç‰Ωú[ÊãøÈ•≠]Ê≤°ÊúâÂπ≤Â•ΩÔºåÈ¢ÑÊÉ≥‰πãÂ§ñÁöÑ‰∫ãÈÉΩ‰∏çËÉΩÂπ≤ÔºåÊï∞ÊçÆ[È•≠]Ê≤°ÊúâÂ•ΩÔºå‰ΩÜÊòØ‰∏çÁî®‰∏ÄÁõ¥Á≠âÁùÄÔºåÂèØ‰ª•ÁªßÁª≠Âπ≤È¢ÑÂÖàÂÆâÊéíÁöÑ‰∫ã[ÈÅõÁãó]Ôºå‰ΩÜÊòØÈúÄË¶ÅÊó∂‰∏çÊó∂ÂéªÈóÆ‰∏Ä‰∏ãÈ•≠ÊúâÊ≤°ÊúâÂ•ΩÔºâ ÂºÇÊ≠•ÈòªÂ°ûÔºöÈÅõÁãóÁöÑÊó∂ÂÄôÔºåÊé•Âà∞È•≠È¶ÜÁîµËØùÔºåËØ¥È•≠ÂÅöÂ•Ω‰∫ÜÔºåËÆ©ÊÇ®‰∫≤Ëá™ÂéªÊãø„ÄÇÔºàIOÊìç‰Ωú[ÊãøÈ•≠]Ê≤°ÊúâÂπ≤Â•ΩÔºå‰ΩÜÊòØÊàëÊÉ≥Âπ≤Âï•Â∞±Âπ≤Âï•ÔºåÁ≠âÁùÄÈÄöÁü•Â∞±Â•ΩÔºåÊï∞ÊçÆ[È•≠]Ê≤°ÊúâÂ•ΩÔºåÂ∞±‰∏ÄÁõ¥Á≠âÁùÄÂéªÊãøÈ•≠Ôºâ ÂºÇÊ≠•ÈùûÈòªÂ°ûÔºöÈ•≠È¶ÜÊâìÁîµËØùËØ¥ÔºåÊàë‰ª¨Áü•ÈÅìÊÇ®ÁöÑ‰ΩçÁΩÆÔºå‰∏Ä‰ºöÁªô‰Ω†ÈÄÅËøáÊù•ÔºåÂÆâÂøÉÈÅõÁãóÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇÔºàIOÊìç‰Ωú[ÊãøÈ•≠]Ê≤°ÊúâÂπ≤Â•ΩÔºå‰ΩÜÊòØÊàëÊÉ≥Âπ≤Âï•Â∞±Âπ≤Âï•ÔºåÁ≠âÁùÄÈÄöÁü•Â∞±Â•ΩÔºåÊï∞ÊçÆ[È•≠]Ê≤°ÊúâÂ•ΩÔºå‰ΩÜÊòØ‰∏çÁî®‰∏ÄÁõ¥Á≠âÁùÄÔºåÂèØ‰ª•ÁªßÁª≠Âπ≤È¢ÑÂÖàÂÆâÊéíÁöÑ‰∫ãÔºâ I/OÊ®°ÂûãUnixÂÆö‰πâ‰∫Ü‰∫îÁßçI/OÊ®°ÂûãÔºåÂ¶Ç‰∏ãÔºö ÈòªÂ°ûI/O ÈùûÈòªÂ°ûI/O I/OÂ§çÁî®Ôºàselect„ÄÅpoll„ÄÅlinux 2.6ÁßçÊîπËøõÁöÑepollÔºâ ‰ø°Âè∑È©±Âä®IOÔºàSIGIOÔºâ ÂºÇÊ≠•I/OÔºàPOSIXÁöÑaio_Á≥ªÂàóÂáΩÊï∞Ôºâ ‰∏ãÂõæÊòØ‰∫îÁßçI/OÊ®°ÂûãÁöÑÊØîËæÉÔºö POSIXÊääI/OÊìç‰ΩúÂàíÂàÜÊàê‰∏§Á±ªÔºö ÂêåÊ≠•I/O: ÂêåÊ≠•I/OÊìç‰ΩúÂØºËá¥ËØ∑Ê±ÇÈòªÂ°ûÔºåÁõ¥Ëá≥Êìç‰ΩúÂÆåÊàê ÂºÇÊ≠•I/O: ÂºÇÊ≠•I/OÊìç‰Ωú‰∏çÂØºËá¥ËØ∑Ê±ÇÈòªÂ°û ‰ªé‰∏äÈù¢ÁöÑÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫UnixÁöÑÂâçÂõõÁßçI/OÊ®°ÂûãÈÉΩÊòØÂêåÊ≠•I/O, Âè™ÊúâÊúÄÂêé‰∏ÄÁßçÊâçÊòØÂºÇÊ≠•I/O„ÄÇ Êàë‰ª¨Âú®ÁúãÁúãJava‰∏≠ÁöÑIOÂàÜÁ±ªÔºö ‰º†ÁªüÁöÑJava BIO (blocking I/O)ÊòØUnix I/OÊ®°Âûã‰∏≠ÁöÑÁ¨¨‰∏ÄÁßç„ÄÇ Java NIO‰∏≠Â¶ÇÊûú‰∏ç‰ΩøÁî®selectÊ®°ÂºèÔºåËÄåÂè™ÊäächannelÈÖçÁΩÆÊàênonblockingÂàôÊòØÁ¨¨‰∫åÁßçÊ®°Âûã„ÄÇ Java NIO selectÂÆûÁé∞ÁöÑÊòØ‰∏ÄÁßçÂ§öË∑ØÂ§çÁî®I/O„ÄÇÂ∫ïÂ±Ç‰ΩøÁî®epollÊàñËÄÖÁõ∏Â∫îÁöÑpollÁ≥ªÁªüË∞ÉÁî®„ÄÇ Á¨¨ÂõõÁßçÊ®°ÂûãJDKÂ∫îËØ•ÊòØÊ≤°ÊúâÂÆûÁé∞„ÄÇ Java NIO2Â¢ûÂä†‰∫ÜÂØπÁ¨¨‰∫îÁßçÊ®°ÂûãÁöÑÊîØÊåÅÔºå‰πüÂ∞±ÊòØAIO„ÄÇ BIOÁΩëÁªúÁºñÁ®ã‰º†ÁªüÁöÑÂêåÊ≠•ÈòªÂ°ûÊ®°Âûã(BIO)ÂºÄÂèë‰∏≠ÔºåServerSocketË¥üË¥£ÁªëÂÆöIPÂú∞ÂùÄÔºåÂêØÂä®ÁõëÂê¨Á´ØÂè£ÔºõSocketË¥üË¥£ÂèëËµ∑ËøûÊé•Êìç‰Ωú„ÄÇËøûÊé•ÊàêÂäüÂêéÔºåÂèåÊñπÈÄöËøáËæìÂÖ•ÂíåËæìÂá∫ÊµÅËøõË°åÂêåÊ≠•ÈòªÂ°ûÂºèÈÄö‰ø°„ÄÇ ÁÆÄÂçïÁöÑÊèèËø∞‰∏Ä‰∏ãBIOÁöÑÊúçÂä°Á´ØÈÄö‰ø°Ê®°ÂûãÔºöÈááÁî®BIOÈÄö‰ø°Ê®°ÂûãÁöÑÊúçÂä°Á´ØÔºåÈÄöÂ∏∏Áî±‰∏Ä‰∏™Áã¨Á´ãÁöÑAcceptorÁ∫øÁ®ãË¥üË¥£ÁõëÂê¨ÂÆ¢Êà∑Á´ØÁöÑËøûÊé•ÔºåÂÆÉÊé•Êî∂Âà∞ÂÆ¢Êà∑Á´ØËøûÊé•ËØ∑Ê±Ç‰πãÂêé‰∏∫ÊØè‰∏™ÂÆ¢Êà∑Á´ØÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãËøõË°åÈìæË∑ØÂ§ÑÁêÜÊ≤°Â§ÑÁêÜÂÆåÊàêÂêéÔºåÈÄöËøáËæìÂá∫ÊµÅËøîÂõûÂ∫îÁ≠îÁªôÂÆ¢Êà∑Á´ØÔºåÁ∫øÁ®ãÈîÄÊØÅ„ÄÇÂç≥ÂÖ∏ÂûãÁöÑ‰∏ÄËØ∑Ê±Ç‰∏ÄÂ∫îÁ≠îÈÄö‰ø°Ê®°Âûã„ÄÇÂ¶Ç‰∏ãÂõæÔºö ËØ•Ê®°ÂûãÊúÄÂ§ßÁöÑÈóÆÈ¢òÂ∞±ÊòØÁº∫‰πèÂºπÊÄß‰º∏Áº©ËÉΩÂäõÔºåÂΩìÂÆ¢Êà∑Á´ØÂπ∂ÂèëËÆøÈóÆÈáèÂ¢ûÂä†ÂêéÔºåÊúçÂä°Á´ØÁöÑÁ∫øÁ®ã‰∏™Êï∞ÂíåÂÆ¢Êà∑Á´ØÂπ∂ÂèëËÆøÈóÆÊï∞Âëà1:1ÁöÑÊ≠£ÊØîÂÖ≥Á≥ªÔºåJava‰∏≠ÁöÑÁ∫øÁ®ã‰πüÊòØÊØîËæÉÂÆùË¥µÁöÑÁ≥ªÁªüËµÑÊ∫êÔºåÁ∫øÁ®ãÊï∞ÈáèÂø´ÈÄüËÜ®ËÉÄÂêéÔºåÁ≥ªÁªüÁöÑÊÄßËÉΩÂ∞ÜÊÄ•Ââß‰∏ãÈôçÔºåÈöèÁùÄËÆøÈóÆÈáèÁöÑÁªßÁª≠Â¢ûÂ§ßÔºåÁ≥ªÁªüÊúÄÁªàÂ∞±Ê≠ªÊéâ‰∫Ü„ÄÇ ‰∏∫‰∫ÜÊîπËøõËøôÁßç‰∏ÄËøûÊé•‰∏ÄÁ∫øÁ®ãÁöÑÊ®°ÂûãÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Á∫øÁ®ãÊ±†Êù•ÁÆ°ÁêÜËøô‰∫õÁ∫øÁ®ãÔºàÈúÄË¶Å‰∫ÜËß£Êõ¥Â§öËØ∑ÂèÇËÄÉÂâçÈù¢Êèê‰æõÁöÑÊñáÁ´†ÔºâÔºåÂÆûÁé∞1‰∏™ÊàñÂ§ö‰∏™Á∫øÁ®ãÂ§ÑÁêÜN‰∏™ÂÆ¢Êà∑Á´ØÁöÑÊ®°ÂûãÔºà‰ΩÜÊòØÂ∫ïÂ±ÇËøòÊòØ‰ΩøÁî®ÁöÑÂêåÊ≠•ÈòªÂ°ûI/OÔºâÔºåÈÄöÂ∏∏Ë¢´Áß∞‰∏∫‚Äú‰º™ÂºÇÊ≠•I/OÊ®°Âûã‚Äú„ÄÇ‰º™ÂºÇÊ≠•I/OÊ®°ÂûãÂõæÂ¶Ç‰∏ãÔºö Êàë‰ª¨Áü•ÈÅìÔºåÂ¶ÇÊûú‰ΩøÁî®CachedThreadPoolÁ∫øÁ®ãÊ±†ÔºåÂÖ∂ÂÆûÈô§‰∫ÜËÉΩËá™Âä®Â∏ÆÊàë‰ª¨ÁÆ°ÁêÜÁ∫øÁ®ãÔºàÂ§çÁî®ÔºâÔºåÁúãËµ∑Êù•‰πüÂ∞±ÂÉèÊòØ1:1ÁöÑÂÆ¢Êà∑Á´ØÔºöÁ∫øÁ®ãÊï∞Ê®°ÂûãÔºåËÄå‰ΩøÁî®FixedThreadPoolÊàë‰ª¨Â∞±ÊúâÊïàÁöÑÊéßÂà∂‰∫ÜÁ∫øÁ®ãÁöÑÊúÄÂ§ßÊï∞ÈáèÔºå‰øùËØÅ‰∫ÜÁ≥ªÁªüÊúâÈôêÁöÑËµÑÊ∫êÁöÑÊéßÂà∂ÔºåÂÆûÁé∞‰∫ÜN:MÁöÑ‰º™ÂºÇÊ≠•I/OÊ®°Âûã„ÄÇ‰ΩÜÊòØÔºåÊ≠£Âõ†‰∏∫ÈôêÂà∂‰∫ÜÁ∫øÁ®ãÊï∞ÈáèÔºåÂ¶ÇÊûúÂèëÁîüÂ§ßÈáèÂπ∂ÂèëËØ∑Ê±ÇÔºåË∂ÖËøáÊúÄÂ§ßÊï∞ÈáèÁöÑÁ∫øÁ®ãÂ∞±Âè™ËÉΩÁ≠âÂæÖÔºåÁõ¥Âà∞Á∫øÁ®ãÊ±†‰∏≠ÁöÑÊúâÁ©∫Èó≤ÁöÑÁ∫øÁ®ãÂèØ‰ª•Ë¢´Â§çÁî®„ÄÇËÄåÂØπSocketÁöÑËæìÂÖ•ÊµÅÂ∞±Ë°åËØªÂèñÊó∂Ôºå‰ºö‰∏ÄÁõ¥ÈòªÂ°û„ÄÇ ÊâÄ‰ª•Âú®ËØªÂèñÊï∞ÊçÆËæÉÊÖ¢Êó∂ÔºàÊØîÂ¶ÇÊï∞ÊçÆÈáèÂ§ß„ÄÅÁΩëÁªú‰º†ËæìÊÖ¢Á≠âÔºâÔºåÂ§ßÈáèÂπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÖ∂‰ªñÊé•ÂÖ•ÁöÑÊ∂àÊÅØÔºåÂè™ËÉΩ‰∏ÄÁõ¥Á≠âÂæÖÔºåËøôÂ∞±ÊòØÊúÄÂ§ßÁöÑÂºäÁ´Ø„ÄÇ PSÔºö Ê∫êÁ†ÅÈÉΩÂú®github‰∏ä„ÄÇ NIOÁΩëÁªúÁºñÁ®ãNIO(ÂêåÊ≠•ÈùûÈòªÂ°ûIO)Êèê‰æõ‰∫Ü‰∏é‰º†ÁªüBIOÊ®°Âûã‰∏≠ÁöÑSocketÂíåServerSocketÁõ∏ÂØπÂ∫îÁöÑSocketChannelÂíåServerSocketChannel‰∏§Áßç‰∏çÂêåÁöÑÂ•óÊé•Â≠óÈÄöÈÅìÂÆûÁé∞„ÄÇÊñ∞Â¢ûÁöÑÁùÄ‰∏§ÁßçÈÄöÈÅìÈÉΩÊîØÊåÅÈòªÂ°ûÂíåÈùûÈòªÂ°û‰∏§ÁßçÊ®°Âºè„ÄÇÈòªÂ°ûÊ®°Âºè‰ΩøÁî®Â∞±ÂÉè‰º†Áªü‰∏≠ÁöÑÊîØÊåÅ‰∏ÄÊ†∑ÔºåÊØîËæÉÁÆÄÂçïÔºå‰ΩÜÊòØÊÄßËÉΩÂíåÂèØÈù†ÊÄßÈÉΩ‰∏çÂ•ΩÔºõÈùûÈòªÂ°ûÊ®°ÂºèÊ≠£Â•Ω‰∏é‰πãÁõ∏Âèç„ÄÇÂØπ‰∫é‰ΩéË¥üËΩΩ„ÄÅ‰ΩéÂπ∂ÂèëÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåÂèØ‰ª•‰ΩøÁî®ÂêåÊ≠•ÈòªÂ°ûI/OÊù•ÊèêÂçáÂºÄÂèëÈÄüÁéáÂíåÊõ¥Â•ΩÁöÑÁª¥Êä§ÊÄßÔºõÂØπ‰∫éÈ´òË¥üËΩΩ„ÄÅÈ´òÂπ∂ÂèëÁöÑÔºàÁΩëÁªúÔºâÂ∫îÁî®ÔºåÂ∫î‰ΩøÁî®NIOÁöÑÈùûÈòªÂ°ûÊ®°ÂºèÊù•ÂºÄÂèë„ÄÇ Âú®Áî®NIOËøõË°åÂºÄÂèëÊó∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂÖà‰∫ÜËß£‰∏Ä‰∏ãNIOÁöÑÂá†‰∏™Ê†∏ÂøÉÊ¶ÇÂøµÔºö ÁºìÂÜ≤Âå∫ BufferBufferÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´‰∏Ä‰∫õË¶ÅÂÜôÂÖ•ÊàñËÄÖËØªÂá∫ÁöÑÊï∞ÊçÆ„ÄÇÂú®NIOÂ∫ì‰∏≠ÔºåÊâÄÊúâÊï∞ÊçÆÈÉΩÊòØÁî®ÁºìÂÜ≤Âå∫Â§ÑÁêÜÁöÑ„ÄÇÂú®ËØªÂèñÊï∞ÊçÆÊó∂ÔºåÂÆÉÊòØÁõ¥Êé•ËØªÂà∞ÁºìÂÜ≤Âå∫‰∏≠ÁöÑÔºõÂú®ÂÜôÂÖ•Êï∞ÊçÆÊó∂Ôºå‰πüÊòØÂÜôÂÖ•Âà∞ÁºìÂÜ≤Âå∫‰∏≠„ÄÇ‰ªª‰ΩïÊó∂ÂÄôËÆøÈóÆNIO‰∏≠ÁöÑÊï∞ÊçÆÔºåÈÉΩÊòØÈÄöËøáÁºìÂÜ≤Âå∫ËøõË°åÊìç‰Ωú„ÄÇ ÁºìÂÜ≤Âå∫ÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÂπ∂Êèê‰æõ‰∫ÜÂØπÊï∞ÊçÆÁªìÊûÑÂåñËÆøÈóÆ‰ª•ÂèäÁª¥Êä§ËØªÂÜô‰ΩçÁΩÆÁ≠â‰ø°ÊÅØ„ÄÇÂÖ∑‰ΩìÁöÑÁºìÂ≠òÂå∫ÊúâËøô‰∫õÔºöByteBuffe„ÄÅCharBuffer„ÄÅ ShortBuffer„ÄÅIntBuffer„ÄÅLongBuffer„ÄÅFloatBuffer„ÄÅDoubleBuffer„ÄÇ‰ªñ‰ª¨ÂÆûÁé∞‰∫ÜÁõ∏ÂêåÁöÑÊé•Âè£ÔºöBuffer„ÄÇ ÈÄöÈÅì ChannelÊàë‰ª¨ÂØπÊï∞ÊçÆÁöÑËØªÂèñÂíåÂÜôÂÖ•Ë¶ÅÈÄöËøáChannelÔºåÂÆÉÂ∞±ÂÉèÊ∞¥ÁÆ°‰∏ÄÊ†∑ÔºåÊòØ‰∏Ä‰∏™ÈÄöÈÅì„ÄÇÈÄöÈÅì‰∏çÂêå‰∫éÊµÅÁöÑÂú∞ÊñπÂ∞±ÊòØÈÄöÈÅìÊòØÂèåÂêëÁöÑÔºåÂèØ‰ª•Áî®‰∫éËØª„ÄÅÂÜôÂíåÂêåÊó∂ËØªÂÜôÊìç‰Ωú„ÄÇÂ∫ïÂ±ÇÁöÑÊìç‰ΩúÁ≥ªÁªüÁöÑÈÄöÈÅì‰∏ÄËà¨ÈÉΩÊòØÂÖ®ÂèåÂ∑•ÁöÑÔºåÊâÄ‰ª•ÂÖ®ÂèåÂ∑•ÁöÑChannelÊØîÊµÅËÉΩÊõ¥Â•ΩÁöÑÊò†Â∞ÑÂ∫ïÂ±ÇÊìç‰ΩúÁ≥ªÁªüÁöÑAPI„ÄÇ Channel‰∏ªË¶ÅÂàÜ‰∏§Â§ßÁ±ªÔºö SelectableChannelÔºöÁî®Êà∑ÁΩëÁªúËØªÂÜô FileChannelÔºöÁî®‰∫éÊñá‰ª∂Êìç‰Ωú ÁΩëÁªúÁºñÁ®ã‰∏≠Ê∂âÂèäÁöÑServerSocketChannelÂíåSocketChannelÈÉΩÊòØSelectableChannelÁöÑÂ≠êÁ±ª„ÄÇ Â§öË∑ØÂ§çÁî®Âô® SelectorSelectorÊèê‰æõÈÄâÊã©Â∑≤ÁªèÂ∞±Áª™ÁöÑ‰ªªÂä°ÁöÑËÉΩÂäõÔºöSelector‰ºö‰∏çÊñ≠ËΩÆËØ¢Ê≥®ÂÜåÂú®ÂÖ∂‰∏äÁöÑChannelÔºåÂ¶ÇÊûúÊüê‰∏™Channel‰∏äÈù¢ÂèëÁîüËØªÊàñËÄÖÂÜô‰∫ã‰ª∂ÔºåËøô‰∏™ChannelÂ∞±Â§Ñ‰∫éÂ∞±Áª™Áä∂ÊÄÅÔºå‰ºöË¢´SelectorËΩÆËØ¢Âá∫Êù•ÔºåÁÑ∂ÂêéÈÄöËøáSelectionKeyÂèØ‰ª•Ëé∑ÂèñÂ∞±Áª™ChannelÁöÑÈõÜÂêàÔºåËøõË°åÂêéÁª≠ÁöÑI/OÊìç‰Ωú„ÄÇ ‰∏Ä‰∏™SelectorÂèØ‰ª•ÂêåÊó∂ËΩÆËØ¢Â§ö‰∏™Channel(ÊâÄ‰ª•ÊòØÈùûÈòªÂ°ûÁöÑ)ÔºåÂõ†‰∏∫JDK‰ΩøÁî®‰∫Üepoll()‰ª£Êõø‰º†ÁªüÁöÑselectÂÆûÁé∞ÔºåÊâÄ‰ª•Ê≤°ÊúâÊúÄÂ§ßËøûÊé•Âè•ÊüÑ1024/2048ÁöÑÈôêÂà∂„ÄÇÊâÄ‰ª•ÔºåÂè™ÈúÄË¶Å‰∏Ä‰∏™Á∫øÁ®ãË¥üË¥£SelectorÁöÑËΩÆËØ¢ÔºåÂ∞±ÂèØ‰ª•Êé•ÂÖ•ÊàêÂçÉ‰∏ä‰∏áÁöÑÂÆ¢Êà∑Á´Ø„ÄÇ ÂàõÂª∫NIOÊúçÂä°Á´ØÁöÑÈÄö‰ø°ÊµÅÁ®ãÊàë‰ª¨ÂèØ‰ª•Áúã‰∏ãÈù¢ËøôÁßçÈÄö‰ø°Â∫èÂàóÂõæÔºö PSÔºö Ê∫êÁ†ÅÈÉΩÂú®github‰∏ä„ÄÇ AIOÁΩëÁªúÁºñÁ®ãÂºÇÊ≠•ÁöÑÂ•óÊé•Â≠óÈÄöÈÅìÊòØÁúüÊ≠£ÁöÑÂºÇÊ≠•ÈùûÈòªÂ°ûI/OÔºåÂØπÂ∫î‰∫éUNIXÁΩëÁªúÁºñÁ®ã‰∏≠ÁöÑ‰∫ã‰ª∂È©±Âä®I/OÔºàAIOÔºâ„ÄÇ‰ªñ‰∏çÈúÄË¶ÅËøáÂ§öÁöÑSelectorÂØπÊ≥®ÂÜåÁöÑÈÄöÈÅìËøõË°åËΩÆËØ¢Âç≥ÂèØÂÆûÁé∞ÂºÇÊ≠•ËØªÂÜôÔºå‰ªéËÄåÁÆÄÂåñ‰∫ÜNIOÁöÑÁºñÁ®ãÊ®°Âûã„ÄÇ AIO(ÂºÇÊ≠•ÈùûÈòªÂ°ûIO)Êèê‰æõ‰∫Ü‰∏é‰º†ÁªüBIOÊ®°Âûã‰∏≠ÁöÑSocketÂíåServerSocketÁõ∏ÂØπÂ∫îÁöÑAsynchronousSocketChannelÂíåAsynchronousServerSocketChannel‰∏§Áßç‰∏çÂêåÁöÑÂ•óÊé•Â≠óÈÄöÈÅìÂÆûÁé∞„ÄÇ ÂºÇÊ≠•ÁöÑÂ§ÑÁêÜÂºÇÊ≠•Êó†ÈùûÊòØÈÄöÁü•Á≥ªÁªüÂÅö‰∏Ä‰ª∂‰∫ãÊÉÖ„ÄÇÁÑ∂ÂêéÂøòÊéâÂÆÉÔºåËá™Â∑±ÂÅöÂÖ∂‰ªñ‰∫ãÊÉÖÂéª‰∫Ü„ÄÇÂæàÂ§öÊó∂ÂÄôÁ≥ªÁªüÂÅöÂÆåÊüê‰∏Ä‰ª∂‰∫ãÊÉÖÂêéÈúÄË¶Å‰∏Ä‰∫õÂêéÁª≠ÁöÑÊìç‰Ωú„ÄÇÊÄé‰πàÂäûÔºüËøôÊó∂ÂÄôÂ∞±ÊòØÂëäËØâÂºÇÊ≠•Ë∞ÉÁî®Â¶Ç‰ΩïÂÅöÂêéÁª≠Â§ÑÁêÜ„ÄÇÈÄöÂ∏∏Êúâ‰∏§ÁßçÊñπÂºèÔºö Â∞ÜÊù•Âºè: ÂΩì‰Ω†Â∏åÊúõ‰∏ªÁ∫øÁ®ãÂèëËµ∑ÂºÇÊ≠•Ë∞ÉÁî®ÔºåÂπ∂ËΩÆËØ¢Á≠âÂæÖÁªìÊûúÁöÑÊó∂ÂÄô‰ΩøÁî®Â∞ÜÊù•Âºè; ÂõûË∞ÉÂºè: Â∏∏ËØ¥ÁöÑÂºÇÊ≠•ÂõûË∞ÉÂ∞±ÊòØÂÆÉ„ÄÇ PSÔºö AIOÁöÑ‰ª£Á†Å‰∏ªË¶ÅÂü∫‰∫éÂõûË∞ÉÂºèÔºåÊ∫êÁ†ÅÈÉΩÂú®github‰∏ä„ÄÇ BIO„ÄÅNIO„ÄÅAIOÈÄÇÁî®Âú∫ÊôØÂàÜÊûê: BIOÊñπÂºèÈÄÇÁî®‰∫éËøûÊé•Êï∞ÁõÆÊØîËæÉÂ∞è‰∏îÂõ∫ÂÆöÁöÑÊû∂ÊûÑÔºåËøôÁßçÊñπÂºèÂØπÊúçÂä°Âô®ËµÑÊ∫êË¶ÅÊ±ÇÊØîËæÉÈ´òÔºåÂπ∂ÂèëÂ±ÄÈôê‰∫éÂ∫îÁî®‰∏≠ÔºåJDK1.4‰ª•ÂâçÁöÑÂîØ‰∏ÄÈÄâÊã©Ôºå‰ΩÜÁ®ãÂ∫èÁõ¥ËßÇÁÆÄÂçïÊòìÁêÜËß£„ÄÇ NIOÊñπÂºèÈÄÇÁî®‰∫éËøûÊé•Êï∞ÁõÆÂ§ö‰∏îËøûÊé•ÊØîËæÉÁü≠ÔºàËΩªÊìç‰ΩúÔºâÁöÑÊû∂ÊûÑÔºåÊØîÂ¶ÇËÅäÂ§©ÊúçÂä°Âô®ÔºåÂπ∂ÂèëÂ±ÄÈôê‰∫éÂ∫îÁî®‰∏≠ÔºåÁºñÁ®ãÊØîËæÉÂ§çÊùÇÔºåJDK1.4ÂºÄÂßãÊîØÊåÅ„ÄÇ AIOÊñπÂºè‰ΩøÁî®‰∫éËøûÊé•Êï∞ÁõÆÂ§ö‰∏îËøûÊé•ÊØîËæÉÈïøÔºàÈáçÊìç‰ΩúÔºâÁöÑÊû∂ÊûÑÔºåÊØîÂ¶ÇÁõ∏ÂÜåÊúçÂä°Âô®ÔºåÂÖÖÂàÜË∞ÉÁî®OSÂèÇ‰∏éÂπ∂ÂèëÊìç‰ΩúÔºåÁºñÁ®ãÊØîËæÉÂ§çÊùÇÔºåJDK7ÂºÄÂßãÊîØÊåÅ„ÄÇ ÂèÇËÄÉ Java‰∏≠BIO,NIO,AIOÁöÑÁêÜËß£ Linux selectÂíåpollÁ≥ªÁªüË∞ÉÁî® java aio ÁºñÁ®ã Java ÁΩëÁªúIOÁºñÁ®ãÊÄªÁªìÔºàBIO„ÄÅNIO„ÄÅAIOÂùáÂê´ÂÆåÊï¥ÂÆû‰æã‰ª£Á†ÅÔºâ Java‰πãIO,BIO,NIO,AIOÁü•Â§öÂ∞ëÔºü ServerSocketChannelÁöÑÁî®Ê≥ïËØ¶Ëß£ (001)java‰∏≠ÁöÑAIO]]></content>
      <categories>
        <category>JavaÂü∫Á°Ä</category>
      </categories>
      <tags>
        <tag>BIO</tag>
        <tag>NIO</tag>
        <tag>AIO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTPÂçèËÆÆ]]></title>
    <url>%2F2018%2F05%2F20%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%2FHTTP%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰Ωú‰∏∫WebÂºÄÂèë‰∫∫ÂëòÔºåÂèØËÉΩ‰Ω†ÊúÄÈúÄË¶ÅÊ∑±ÂÖ•Â≠¶‰π†ÁöÑÂ∞±ÊòØHTTPÂçèËÆÆ‰∫ÜÂêßÔºÅ HTTPËÆ§ËØÜHTTPÂçèËÆÆÊòØHyper Text TransferProtocolÔºàË∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆÔºâÁöÑÁº©ÂÜô,ÂÆÉÊòØ‰∏Ä‰∏™Âü∫‰∫éTCP/IPÈÄö‰ø°ÂçèËÆÆÊù•‰º†ÈÄíÊï∞ÊçÆÔºàHTML Êñá‰ª∂, ÂõæÁâáÊñá‰ª∂, Êü•ËØ¢ÁªìÊûúÁ≠âÔºâÁöÑÂ∫îÁî®Â±ÇÂçèËÆÆ„ÄÇÂÆÉÂ∑•‰Ωú‰∫éÂÆ¢Êà∑Á´Ø-ÊúçÂä°Á´ØÊû∂ÊûÑ‰πã‰∏ä„ÄÇÊµèËßàÂô®‰Ωú‰∏∫HTTPÂÆ¢Êà∑Á´ØÈÄöËøáURLÂêëHTTPÊúçÂä°Á´ØÂç≥WEBÊúçÂä°Âô®ÂèëÈÄÅÊâÄÊúâËØ∑Ê±Ç„ÄÇWebÊúçÂä°Âô®Ê†πÊçÆÊé•Êî∂Âà∞ÁöÑËØ∑Ê±ÇÂêéÔºåÂêëÂÆ¢Êà∑Á´ØÂèëÈÄÅÂìçÂ∫î‰ø°ÊÅØ„ÄÇ HTTPÁâπÁÇπ ÁÆÄÂçïÂø´ÈÄüÔºöÂÆ¢Êà∑ÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÊúçÂä°Êó∂ÔºåÂè™ÈúÄ‰º†ÈÄÅËØ∑Ê±ÇÊñπÊ≥ïÂíåË∑ØÂæÑ„ÄÇËØ∑Ê±ÇÊñπÊ≥ïÂ∏∏Áî®ÁöÑÊúâGET„ÄÅHEAD„ÄÅPOST„ÄÇÊØèÁßçÊñπÊ≥ïËßÑÂÆö‰∫ÜÂÆ¢Êà∑‰∏éÊúçÂä°Âô®ËÅîÁ≥ªÁöÑÁ±ªÂûã‰∏çÂêå„ÄÇÁî±‰∫éHTTPÂçèËÆÆÁÆÄÂçïÔºå‰ΩøÂæóHTTPÊúçÂä°Âô®ÁöÑÁ®ãÂ∫èËßÑÊ®°Â∞èÔºåÂõ†ËÄåÈÄö‰ø°ÈÄüÂ∫¶ÂæàÂø´„ÄÇ ÁÅµÊ¥ªÔºöHTTPÂÖÅËÆ∏‰º†Ëæì‰ªªÊÑèÁ±ªÂûãÁöÑÊï∞ÊçÆÂØπË±°„ÄÇÊ≠£Âú®‰º†ËæìÁöÑÁ±ªÂûãÁî±Content-TypeÂä†‰ª•Ê†áËÆ∞„ÄÇ HTTP 0.9Âíå1.0‰ΩøÁî®ÈùûÊåÅÁª≠ËøûÊé•ÔºöÈôêÂà∂ÊØèÊ¨°ËøûÊé•Âè™Â§ÑÁêÜ‰∏Ä‰∏™ËØ∑Ê±ÇÔºåÊúçÂä°Âô®Â§ÑÁêÜÂÆåÂÆ¢Êà∑ÁöÑËØ∑Ê±ÇÔºåÂπ∂Êî∂Âà∞ÂÆ¢Êà∑ÁöÑÂ∫îÁ≠îÂêéÔºåÂç≥Êñ≠ÂºÄËøûÊé•„ÄÇHTTP 1.1‰ΩøÁî®ÊåÅÁª≠ËøûÊé•Ôºö‰∏çÂøÖ‰∏∫ÊØè‰∏™webÂØπË±°ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËøûÊé•Ôºå‰∏Ä‰∏™ËøûÊé•ÂèØ‰ª•‰º†ÈÄÅÂ§ö‰∏™ÂØπË±°ÔºåÈááÁî®ËøôÁßçÊñπÂºèÂèØ‰ª•ËäÇÁúÅ‰º†ËæìÊó∂Èó¥„ÄÇ Êó†Áä∂ÊÄÅÔºöHTTPÂçèËÆÆÊòØÊó†Áä∂ÊÄÅÂçèËÆÆ„ÄÇÊó†Áä∂ÊÄÅÊòØÊåáÂçèËÆÆÂØπ‰∫é‰∫ãÂä°Â§ÑÁêÜÊ≤°ÊúâËÆ∞ÂøÜËÉΩÂäõ„ÄÇÁº∫Â∞ëÁä∂ÊÄÅÊÑèÂë≥ÁùÄÂ¶ÇÊûúÂêéÁª≠Â§ÑÁêÜÈúÄË¶ÅÂâçÈù¢ÁöÑ‰ø°ÊÅØÔºåÂàôÂÆÉÂøÖÈ°ªÈáç‰º†ÔºåËøôÊ†∑ÂèØËÉΩÂØºËá¥ÊØèÊ¨°ËøûÊé•‰º†ÈÄÅÁöÑÊï∞ÊçÆÈáèÂ¢ûÂ§ß„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÂú®ÊúçÂä°Âô®‰∏çÈúÄË¶ÅÂÖàÂâç‰ø°ÊÅØÊó∂ÂÆÉÁöÑÂ∫îÁ≠îÂ∞±ËæÉÂø´„ÄÇ PSÔºö HTTPÂçèËÆÆÊòØÊó†Áä∂ÊÄÅÁöÑÂíåConnection: keep-aliveÁöÑÂå∫Âà´Ôºö Êó†Áä∂ÊÄÅÊòØÊåáÂçèËÆÆÂØπ‰∫é‰∫ãÂä°Â§ÑÁêÜÊ≤°ÊúâËÆ∞ÂøÜËÉΩÂäõÔºåÊúçÂä°Âô®‰∏çÁü•ÈÅìÂÆ¢Êà∑Á´ØÊòØ‰ªÄ‰πàÁä∂ÊÄÅ„ÄÇ‰ªéÂè¶‰∏ÄÊñπÈù¢ËÆ≤ÔºåÊâìÂºÄ‰∏Ä‰∏™ÊúçÂä°Âô®‰∏äÁöÑÁΩëÈ°µÂíå‰Ω†‰πãÂâçÊâìÂºÄËøô‰∏™ÊúçÂä°Âô®‰∏äÁöÑÁΩëÈ°µ‰πãÈó¥Ê≤°Êúâ‰ªª‰ΩïËÅîÁ≥ª„ÄÇHTTPÊòØ‰∏Ä‰∏™Êó†Áä∂ÊÄÅÁöÑÈù¢ÂêëËøûÊé•ÁöÑÂçèËÆÆÔºåÊó†Áä∂ÊÄÅ‰∏ç‰ª£Ë°®HTTP‰∏çËÉΩ‰øùÊåÅTCPËøûÊé•ÔºåÊõ¥‰∏çËÉΩ‰ª£Ë°®HTTP‰ΩøÁî®ÁöÑÊòØUDPÂçèËÆÆÔºàÊó†ËøûÊé•Ôºâ„ÄÇ ‰ªéHTTP/1.1Ëµ∑ÔºåÈªòËÆ§ÈÉΩÂºÄÂêØ‰∫ÜKeep-AliveÔºå‰øùÊåÅËøûÊé•ÁâπÊÄßÔºåÁÆÄÂçïÂú∞ËØ¥ÔºåÂΩì‰∏Ä‰∏™ÁΩëÈ°µÊâìÂºÄÂÆåÊàêÂêéÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥Áî®‰∫é‰º†ËæìHTTPÊï∞ÊçÆÁöÑTCPËøûÊé•‰∏ç‰ºöÂÖ≥Èó≠ÔºåÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÂÜçÊ¨°ËÆøÈóÆËøô‰∏™ÊúçÂä°Âô®‰∏äÁöÑÁΩëÈ°µÔºå‰ºöÁªßÁª≠‰ΩøÁî®Ëøô‰∏ÄÊù°Â∑≤ÁªèÂª∫Á´ãÁöÑËøûÊé•„ÄÇKeep-Alive‰∏ç‰ºöÊ∞∏‰πÖ‰øùÊåÅËøûÊé•ÔºåÂÆÉÊúâ‰∏Ä‰∏™‰øùÊåÅÊó∂Èó¥ÔºåÂèØ‰ª•Âú®‰∏çÂêåÁöÑÊúçÂä°Âô®ËΩØ‰ª∂ÔºàÂ¶ÇApacheÔºâ‰∏≠ËÆæÂÆöËøô‰∏™Êó∂Èó¥„ÄÇ HTTPÂ∑•‰ΩúÂéüÁêÜHTTPÂçèËÆÆÂÆö‰πâWebÂÆ¢Êà∑Á´ØÂ¶Ç‰Ωï‰ªéWebÊúçÂä°Âô®ËØ∑Ê±ÇWebÈ°µÈù¢Ôºå‰ª•ÂèäÊúçÂä°Âô®Â¶Ç‰ΩïÊääWebÈ°µÈù¢‰º†ÈÄÅÁªôÂÆ¢Êà∑Á´Ø„ÄÇHTTPÂçèËÆÆÈááÁî®‰∫ÜËØ∑Ê±Ç/ÂìçÂ∫îÊ®°Âûã„ÄÇÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±ÇÊä•ÊñáÔºåÊúçÂä°Âô®Â∞ÜËøîÂõû‰∏Ä‰∏™ÂìçÂ∫îÊä•Êñá„ÄÇ ‰ª•‰∏ãÊòØ HTTP ËØ∑Ê±ÇÊ≠•È™§Ôºö ÂÆ¢Êà∑Á´ØËøûÊé•Âà∞WebÊúçÂä°Âô®Ôºö‰∏Ä‰∏™HTTPÂÆ¢Êà∑Á´ØÔºåÈÄöÂ∏∏ÊòØÊµèËßàÂô®Ôºå‰∏éWebÊúçÂä°Âô®ÁöÑHTTPÁ´ØÂè£ÔºàÈªòËÆ§‰∏∫80ÔºâÂª∫Á´ã‰∏Ä‰∏™TCPÂ•óÊé•Â≠óËøûÊé•„ÄÇ‰æãÂ¶ÇÔºöhttp://www.todorex.com„ÄÇ ÂèëÈÄÅHTTPËØ∑Ê±ÇÔºöÈÄöËøáTCPÂ•óÊé•Â≠óÔºåÂÆ¢Êà∑Á´ØÂêëWebÊúçÂä°Âô®ÂèëÈÄÅ‰∏Ä‰∏™ÊñáÊú¨ÁöÑËØ∑Ê±ÇÊä•Êñá„ÄÇ ÊúçÂä°Âô®Êé•ÂèóËØ∑Ê±ÇÂπ∂ËøîÂõûHTTPÂìçÂ∫îWebÊúçÂä°Âô®Ëß£ÊûêËØ∑Ê±ÇÔºåÂÆö‰ΩçËØ∑Ê±ÇËµÑÊ∫ê„ÄÇÊúçÂä°Âô®Â∞ÜËµÑÊ∫êÂ§çÊú¨ÂÜôÂà∞TCPÂ•óÊé•Â≠óÔºåÁî±ÂÆ¢Êà∑Á´ØËØªÂèñ„ÄÇ ÈáäÊîæËøûÊé•TCPËøûÊé•ÔºöËã•ËØ∑Ê±ÇÊä•ÊñáÈ¶ñÈÉ®ÁöÑconnection Ê®°Âºè‰∏∫closeÔºåÂàôÊúçÂä°Âô®‰∏ªÂä®ÂÖ≥Èó≠TCPËøûÊé•ÔºåÂÆ¢Êà∑Á´ØË¢´Âä®ÂÖ≥Èó≠ËøûÊé•ÔºåÈáäÊîæTCPËøûÊé•;Ëã•connection Ê®°Âºè‰∏∫keepaliveÔºåÂàôËØ•ËøûÊé•‰ºö‰øùÊåÅ‰∏ÄÊÆµÊó∂Èó¥ÔºåÂú®ËØ•Êó∂Èó¥ÂÜÖÂèØ‰ª•ÁªßÁª≠Êé•Êî∂ËØ∑Ê±Ç„ÄÇ ÂÆ¢Êà∑Á´ØÊµèËßàÂô®Ëß£ÊûêHTMLÂÜÖÂÆπÂÆ¢Êà∑Á´ØÊµèËßàÂô®È¶ñÂÖàËß£ÊûêÂìçÂ∫îÊä•ÊñáÔºåÁÑ∂ÂêéÂÆ¢Êà∑Á´ØÊµèËßàÂô®ËØªÂèñÂìçÂ∫îÊï∞ÊçÆHTMLÔºåÊ†πÊçÆHTMLÁöÑËØ≠Ê≥ïÂØπÂÖ∂ËøõË°åÊ†ºÂºèÂåñÔºåÂπ∂Âú®ÊµèËßàÂô®Á™óÂè£‰∏≠ÊòæÁ§∫„ÄÇ HTTPÊä•Êñá‰πãËØ∑Ê±ÇÊä•ÊñáËØ∑Ê±ÇÊä•ÊñáÁî±ËØ∑Ê±ÇË°å(ËØ∑Ê±ÇÊñπÊ≥ï„ÄÅURL„ÄÅÂçèËÆÆÁâàÊú¨)„ÄÅËØ∑Ê±ÇÂ§¥ÈÉ®„ÄÅÁ©∫Ë°å(ÂõûËΩ¶+Êç¢Ë°å)ÂíåËØ∑Ê±ÇÊï∞ÊçÆ(‰∏ª‰Ωì)Âõõ‰∏™ÈÉ®ÂàÜÁªÑÊàê„ÄÇÂ¶Ç‰∏ãÂõæÔºö ÂÆÉÁöÑ‰æãÂ≠êÂ¶Ç‰∏ãÔºö ËØ∑Ê±ÇÊä•Êñá‰πãURLHTTP‰ΩøÁî®Áªü‰∏ÄËµÑÊ∫êÊ†áËØÜÁ¨¶ÔºàUniform Resource Identifiers, URIÔºâÊù•‰º†ËæìÊï∞ÊçÆÂíåÂª∫Á´ãËøûÊé•„ÄÇURIÂåÖÂê´‰∫ÜÁî®‰∫éÊü•ÊâæÊüê‰∏™ËµÑÊ∫êÁöÑË∂≥Â§üÁöÑ‰ø°ÊÅØ„ÄÇ Áªü‰∏ÄËµÑÊ∫êÂÆö‰ΩçÁ¨¶ÔºàUniform Resource Locator, URLÔºâÊòØ‰∫íËÅîÁΩë‰∏äÁî®Êù•Ê†áËØÜÊüê‰∏ÄÂ§ÑËµÑÊ∫êÁöÑÂú∞ÁÇπÔºåÊâÄ‰ª•ÂèØËßÅURLÊòØURIÁöÑÂ≠êÈõÜ„ÄÇ‰ª•‰∏ãÈù¢Ëøô‰∏™URL‰∏∫‰æãÔºå‰ªãÁªç‰∏ãÊôÆÈÄöURLÁöÑÂêÑÈÉ®ÂàÜÁªÑÊàêÔºö http://www.aspxfans.com:8080/news/index.asp?boardID=5&amp;ID=24618&amp;page=1#name ‰ªé‰∏äÈù¢ÁöÑURLÂèØ‰ª•ÁúãÂá∫Ôºå‰∏Ä‰∏™ÂÆåÊï¥ÁöÑURLÂåÖÊã¨‰ª•‰∏ãÂá†ÈÉ®ÂàÜÔºö ÂçèËÆÆÈÉ®ÂàÜÔºöËØ•URLÁöÑÂçèËÆÆÈÉ®ÂàÜ‰∏∫‚Äúhttp:‚ÄùÔºåËøô‰ª£Ë°®ÁΩëÈ°µ‰ΩøÁî®ÁöÑÊòØHTTPÂçèËÆÆ„ÄÇÂú®Internet‰∏≠ÂèØ‰ª•‰ΩøÁî®Â§öÁßçÂçèËÆÆÔºåÂ¶ÇHTTPÔºåFTPÁ≠âÁ≠âÊú¨‰æã‰∏≠‰ΩøÁî®ÁöÑÊòØHTTPÂçèËÆÆ„ÄÇÂú®‚ÄùHTTP‚ÄùÂêéÈù¢ÁöÑ‚Äú//‚Äù‰∏∫ÂàÜÈöîÁ¨¶„ÄÇ ÂüüÂêçÈÉ®ÂàÜÔºöËØ•URLÁöÑÂüüÂêçÈÉ®ÂàÜ‰∏∫‚Äúwww.aspxfans.com‚Äù„ÄÇ‰∏Ä‰∏™URL‰∏≠Ôºå‰πüÂèØ‰ª•‰ΩøÁî®IPÂú∞ÂùÄ‰Ωú‰∏∫ÂüüÂêç‰ΩøÁî®„ÄÇÂú®Âª∫Á´ãTCPËøûÊé•ÁöÑÊó∂ÂÄôÁî®ÁöÑÂ∞±ÊòØIPÂú∞ÂùÄÔºåÊàë‰ª¨ÂèØ‰ª•Áî®ÂüüÂêçÊòØÂõ†‰∏∫Êúâ‰∫ÜDNSÂüüÂêçËß£Êûê„ÄÇ Á´ØÂè£ÈÉ®ÂàÜÔºöË∑üÂú®ÂüüÂêçÂêéÈù¢ÁöÑÊòØÁ´ØÂè£ÔºåÂüüÂêçÂíåÁ´ØÂè£‰πãÈó¥‰ΩøÁî®‚Äú:‚Äù‰Ωú‰∏∫ÂàÜÈöîÁ¨¶„ÄÇÁ´ØÂè£‰∏çÊòØ‰∏Ä‰∏™URLÂøÖÈ°ªÁöÑÈÉ®ÂàÜÔºåÂ¶ÇÊûúÁúÅÁï•Á´ØÂè£ÈÉ®ÂàÜÔºåÂ∞ÜÈááÁî®ÈªòËÆ§Á´ØÂè£ÔºåHTTPÈªòËÆ§ÁöÑÁ´ØÂè£Âè∑‰∏∫80ÔºåHTTPSÁöÑÁ´ØÂè£Âè∑‰∏∫443„ÄÇ ËôöÊãüÁõÆÂΩïÈÉ®ÂàÜÔºö‰ªéÂüüÂêçÂêéÁöÑÁ¨¨‰∏Ä‰∏™‚Äú/‚ÄùÂºÄÂßãÂà∞ÊúÄÂêé‰∏Ä‰∏™‚Äú/‚Äù‰∏∫Ê≠¢ÔºåÊòØËôöÊãüÁõÆÂΩïÈÉ®ÂàÜ„ÄÇËôöÊãüÁõÆÂΩï‰πü‰∏çÊòØ‰∏Ä‰∏™URLÂøÖÈ°ªÁöÑÈÉ®ÂàÜ„ÄÇÊú¨‰æã‰∏≠ÁöÑËôöÊãüÁõÆÂΩïÊòØ‚Äú/news/‚Äù„ÄÇ Êñá‰ª∂ÂêçÈÉ®ÂàÜÔºö‰ªéÂüüÂêçÂêéÁöÑÊúÄÂêé‰∏Ä‰∏™‚Äú/‚ÄùÂºÄÂßãÂà∞‚Äú?‚Äù‰∏∫Ê≠¢ÔºåÊòØÊñá‰ª∂ÂêçÈÉ®ÂàÜÔºåÂ¶ÇÊûúÊ≤°Êúâ‚Äú?‚Äù,ÂàôÊòØ‰ªéÂüüÂêçÂêéÁöÑÊúÄÂêé‰∏Ä‰∏™‚Äú/‚ÄùÂºÄÂßãÂà∞‚Äú#‚Äù‰∏∫Ê≠¢ÔºåÊòØÊñá‰ª∂ÈÉ®ÂàÜÔºåÂ¶ÇÊûúÊ≤°Êúâ‚ÄúÔºü‚ÄùÂíå‚Äú#‚ÄùÔºåÈÇ£‰πà‰ªéÂüüÂêçÂêéÁöÑÊúÄÂêé‰∏Ä‰∏™‚Äú/‚ÄùÂºÄÂßãÂà∞ÁªìÊùüÔºåÈÉΩÊòØÊñá‰ª∂ÂêçÈÉ®ÂàÜ„ÄÇÊú¨‰æã‰∏≠ÁöÑÊñá‰ª∂ÂêçÊòØ‚Äúindex.asp‚Äù„ÄÇÊñá‰ª∂ÂêçÈÉ®ÂàÜ‰πü‰∏çÊòØ‰∏Ä‰∏™URLÂøÖÈ°ªÁöÑÈÉ®ÂàÜÔºåÂ¶ÇÊûúÁúÅÁï•ËØ•ÈÉ®ÂàÜÔºåÂàô‰ΩøÁî®ÈªòËÆ§ÁöÑÊñá‰ª∂ÂêçÔºå‰∏ÄËà¨‰∏∫index.html„ÄÇ ÈîöÈÉ®ÂàÜÔºö‰ªé‚Äú#‚ÄùÂºÄÂßãÂà∞ÊúÄÂêéÔºåÈÉΩÊòØÈîöÈÉ®ÂàÜ(HTMLÁöÑËäÇÁÇπ)„ÄÇÊú¨‰æã‰∏≠ÁöÑÈîöÈÉ®ÂàÜÊòØ‚Äúname‚Äù„ÄÇÈîöÈÉ®ÂàÜ‰πü‰∏çÊòØ‰∏Ä‰∏™URLÂøÖÈ°ªÁöÑÈÉ®ÂàÜ„ÄÇ ÂèÇÊï∞ÈÉ®ÂàÜÔºö‰ªé‚ÄúÔºü‚ÄùÂºÄÂßãÂà∞‚Äú#‚Äù‰∏∫Ê≠¢‰πãÈó¥ÁöÑÈÉ®ÂàÜ‰∏∫ÂèÇÊï∞ÈÉ®ÂàÜÔºåÂèàÁß∞ÊêúÁ¥¢ÈÉ®ÂàÜ„ÄÅÊü•ËØ¢ÈÉ®ÂàÜ„ÄÇÊú¨‰æã‰∏≠ÁöÑÂèÇÊï∞ÈÉ®ÂàÜ‰∏∫‚ÄúboardID=5&amp;ID=24618&amp;page=1‚Äù„ÄÇÂèÇÊï∞ÂèØ‰ª•ÂÖÅËÆ∏ÊúâÂ§ö‰∏™ÂèÇÊï∞ÔºåÂèÇÊï∞‰∏éÂèÇÊï∞‰πãÈó¥Áî®‚Äú&amp;‚Äù‰Ωú‰∏∫ÂàÜÈöîÁ¨¶„ÄÇ ËØ∑Ê±ÇÊä•Êñá‰πãËØ∑Ê±ÇÊñπÊ≥ïÊ†πÊçÆHTTPÊ†áÂáÜÔºåHTTPËØ∑Ê±ÇÂèØ‰ª•‰ΩøÁî®Â§öÁßçËØ∑Ê±ÇÊñπÊ≥ï„ÄÇHTTP1.0ÂÆö‰πâ‰∫Ü‰∏âÁßçËØ∑Ê±ÇÊñπÊ≥ïÔºö GET, POST Âíå HEADÊñπÊ≥ï„ÄÇHTTP1.1Êñ∞Â¢û‰∫ÜÂÖ≠ÁßçËØ∑Ê±ÇÊñπÊ≥ïÔºöOPTIONS, PUT, DELETE, TRACEÔºåCONNECTÂíåPATCH ÊñπÊ≥ï„ÄÇ ËøôÂÖ´ÁßçÊñπÊ≥ï(Âä®‰Ωú)Ë°®Êòé‰∫ÜËØ∑Ê±ÇÁöÑURLÊåáÂÆöÁöÑËµÑÊ∫êÁöÑÊìç‰ΩúÊñπÂºèÔºåÂàÜÂà´Â¶Ç‰∏ãÔºö ÊñπÊ≥ï Êìç‰ΩúÊñπÂºè GET ËØ∑Ê±ÇÊåáÂÆöÁöÑÈ°µÈù¢‰ø°ÊÅØÔºåÂπ∂ËøîÂõûÂÆû‰Ωì‰∏ª‰Ωì HEAD Á±ª‰ºº‰∫égetËØ∑Ê±ÇÔºåÂè™‰∏çËøáËøîÂõûÁöÑÂìçÂ∫î‰∏≠Ê≤°ÊúâÂÖ∑‰ΩìÁöÑÂÜÖÂÆπÔºåÁî®‰∫éËé∑ÂèñÊä•Â§¥ POST ÂêëÊåáÂÆöËµÑÊ∫êÊèê‰∫§Êï∞ÊçÆËøõË°åÂ§ÑÁêÜËØ∑Ê±ÇÔºà‰æãÂ¶ÇÊèê‰∫§Ë°®ÂçïÊàñËÄÖ‰∏ä‰º†Êñá‰ª∂Ôºâ„ÄÇÊï∞ÊçÆË¢´ÂåÖÂê´Âú®ËØ∑Ê±Ç‰Ωì‰∏≠„ÄÇPOSTËØ∑Ê±ÇÂèØËÉΩ‰ºöÂØºËá¥Êñ∞ÁöÑËµÑÊ∫êÁöÑÂª∫Á´ãÂíå/ÊàñÂ∑≤ÊúâËµÑÊ∫êÁöÑ‰øÆÊîπ PUT ‰ªéÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®‰º†ÈÄÅÁöÑÊï∞ÊçÆÂèñ‰ª£ÊåáÂÆöÁöÑÊñáÊ°£ÁöÑÂÜÖÂÆπ DELETE ËØ∑Ê±ÇÊúçÂä°Âô®Âà†Èô§ÊåáÂÆöÁöÑÈ°µÈù¢ CONNECT HTTP/1.1ÂçèËÆÆ‰∏≠È¢ÑÁïôÁªôËÉΩÂ§üÂ∞ÜËøûÊé•Êîπ‰∏∫ÁÆ°ÈÅìÊñπÂºèÁöÑ‰ª£ÁêÜÊúçÂä°Âô® OPTIONS ÂÖÅËÆ∏ÂÆ¢Êà∑Á´ØÊü•ÁúãÊúçÂä°Âô®ÁöÑÊÄßËÉΩ TRACE ÂõûÊòæÊúçÂä°Âô®Êî∂Âà∞ÁöÑËØ∑Ê±ÇÔºå‰∏ªË¶ÅÁî®‰∫éÊµãËØïÊàñËØäÊñ≠ PATCH Áî®Êù•Â∞ÜÂ±ÄÈÉ®‰øÆÊîπÂ∫îÁî®‰∫éÊüê‰∏ÄËµÑÊ∫ê PSÔºö GETÂíåPOSTÁöÑÂå∫Âà´Ôºö GETÊèê‰∫§ÁöÑÊï∞ÊçÆ‰ºöÊîæÂú®URL‰πãÂêéÔºå‰ª•?ÂàÜÂâ≤URLÂíå‰º†ËæìÊï∞ÊçÆÔºåÂèÇÊï∞‰πãÈó¥‰ª•&amp;Áõ∏ËøûÔºåÂ¶ÇEditPosts.aspx?name=test1&amp;id=123456. POSTÊñπÊ≥ïÊòØÊääÊèê‰∫§ÁöÑÊï∞ÊçÆÊîæÂú®HTTPÂåÖÁöÑBody‰∏≠„ÄÇ GETÊèê‰∫§ÁöÑÊï∞ÊçÆÂ§ßÂ∞èÊúâÈôêÂà∂ÔºåÊúÄÂ§öÂè™ËÉΩÊúâ1024Â≠óËäÇÔºàÂõ†‰∏∫ÊµèËßàÂô®ÂØπURLÁöÑÈïøÂ∫¶ÊúâÈôêÂà∂ÔºâÔºåËÄåPOSTÊñπÊ≥ïÊèê‰∫§ÁöÑÊï∞ÊçÆÊ≤°ÊúâÈôêÂà∂„ÄÇ GETÊñπÂºèÊèê‰∫§Êï∞ÊçÆÔºå‰ºöÂ∏¶Êù•ÂÆâÂÖ®ÈóÆÈ¢òÔºåÊØîÂ¶Ç‰∏Ä‰∏™ÁôªÂΩïÈ°µÈù¢ÔºåÈÄöËøáGETÊñπÂºèÊèê‰∫§Êï∞ÊçÆÊó∂ÔºåÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂ∞ÜÂá∫Áé∞Âú®URL‰∏äÔºåÂ¶ÇÊûúÈ°µÈù¢ÂèØ‰ª•Ë¢´ÁºìÂ≠òÊàñËÄÖÂÖ∂‰ªñ‰∫∫ÂèØ‰ª•ËÆøÈóÆËøôÂè∞Êú∫Âô®ÔºåÂ∞±ÂèØ‰ª•‰ªéÂéÜÂè≤ËÆ∞ÂΩïËé∑ÂæóËØ•Áî®Êà∑ÁöÑË¥¶Âè∑ÂíåÂØÜÁ†Å„ÄÇ ËØ∑Ê±ÇÊä•Êñá‰πãÈÄöÁî®È¶ñÈÉ®Â∏∏ËßÅÁöÑÈÄöÁî®È¶ñÈÉ®Â¶Ç‰∏ãÔºö PragmaÔºöÊåáÂÆö‚Äúno-cache‚ÄùÂÄºË°®Á§∫ÊúçÂä°Âô®ÂøÖÈ°ªËøîÂõû‰∏Ä‰∏™Âà∑Êñ∞ÂêéÁöÑÊñáÊ°£ÔºåÂç≥‰ΩøÂÆÉÊòØ‰ª£ÁêÜÊúçÂä°Âô®ËÄå‰∏îÂ∑≤ÁªèÊúâ‰∫ÜÈ°µÈù¢ÁöÑÊú¨Âú∞Êã∑Ë¥ùÔºõÂú®HTTP/1.1ÁâàÊú¨‰∏≠ÔºåÂÆÉÂíåCache-Control:no-cache‰ΩúÁî®‰∏ÄÊ®°‰∏ÄÊ†∑„ÄÇPargmaÂè™Êúâ‰∏Ä‰∏™Áî®Ê≥ïÔºå ‰æãÂ¶ÇÔºö Pragma: no-cacheÊ≥®ÊÑè: Âú®HTTP/1.0ÁâàÊú¨‰∏≠ÔºåÂè™ÂÆûÁé∞‰∫ÜPragema:no-cache, Ê≤°ÊúâÂÆûÁé∞Cache-Control Cache-ControlÔºöÊåáÂÆöËØ∑Ê±ÇÂíåÂìçÂ∫îÈÅµÂæ™ÁöÑÁºìÂ≠òÊú∫Âà∂„ÄÇÁºìÂ≠òÊåá‰ª§ÊòØÂçïÂêëÁöÑÔºàÂìçÂ∫î‰∏≠Âá∫Áé∞ÁöÑÁºìÂ≠òÊåá‰ª§Âú®ËØ∑Ê±Ç‰∏≠Êú™ÂøÖ‰ºöÂá∫Áé∞ÔºâÔºå‰∏îÊòØÁã¨Á´ãÁöÑÔºàÂú®ËØ∑Ê±ÇÊ∂àÊÅØÊàñÂìçÂ∫îÊ∂àÊÅØ‰∏≠ËÆæÁΩÆCache-ControlÂπ∂‰∏ç‰ºö‰øÆÊîπÂè¶‰∏Ä‰∏™Ê∂àÊÅØÂ§ÑÁêÜËøáÁ®ã‰∏≠ÁöÑÁºìÂ≠òÂ§ÑÁêÜËøáÁ®ãÔºâ„ÄÇËØ∑Ê±ÇÊó∂ÁöÑÁºìÂ≠òÊåá‰ª§ÂåÖÊã¨no-cache„ÄÅno-store„ÄÅmax-age„ÄÅmax-stale„ÄÅmin-fresh„ÄÅonly-if-cachedÔºåÂìçÂ∫îÊ∂àÊÅØ‰∏≠ÁöÑÊåá‰ª§ÂåÖÊã¨public(ÂèØ‰ª•Ë¢´‰ªª‰ΩïÁºìÂ≠òÊâÄÁºìÂ≠ò)„ÄÅprivate(ÂÜÖÂÆπÂè™ÁºìÂ≠òÂà∞ÁßÅÊúâÁºìÂ≠ò‰∏≠)„ÄÅno-cache(ÊâÄÊúâÂÜÖÂÆπÈÉΩ‰∏ç‰ºöË¢´ÁºìÂ≠ò)„ÄÅno-store„ÄÅno-transform„ÄÅmust-revalidate„ÄÅproxy-revalidate„ÄÅmax-age„ÄÅs-maxage„ÄÇ ConnectionÔºö‰πãÂâçÂ∑≤ÁªèËØ¥ËøáÔºå‰∏ªË¶ÅÊòØÊéßÂà∂TCPËøûÊé•ÊòØÂê¶Âú®ËØ∑Ê±ÇÂÆåÈ©¨‰∏äÁ´ØÂºÄ„ÄÇ DateÔºöË°®Á§∫Ê∂àÊÅØÂèëÈÄÅÁöÑÊó∂Èó¥„ÄÇ ËØ∑Ê±ÇÊä•Êñá‰πãËØ∑Ê±ÇÈ¶ñÈÉ®Â∏∏ËßÅÁöÑËØ∑Ê±ÇÈ¶ñÈÉ®Â¶Ç‰∏ãÔºö If-Modified-SinceÔºöÊääÊµèËßàÂô®Á´ØÁºìÂ≠òÈ°µÈù¢ÁöÑÊúÄÂêé‰øÆÊîπÊó∂Èó¥ÂèëÈÄÅÂà∞ÊúçÂä°Âô®ÂéªÔºåÊúçÂä°Âô®‰ºöÊääËøô‰∏™Êó∂Èó¥‰∏éÊúçÂä°Âô®‰∏äÂÆûÈôÖÊñá‰ª∂ÁöÑÊúÄÂêé‰øÆÊîπÊó∂Èó¥ËøõË°åÂØπÊØî„ÄÇÂ¶ÇÊûúÊó∂Èó¥‰∏ÄËá¥ÔºåÈÇ£‰πàËøîÂõû304ÔºåÂÆ¢Êà∑Á´ØÂ∞±Áõ¥Êé•‰ΩøÁî®Êú¨Âú∞ÁºìÂ≠òÊñá‰ª∂„ÄÇÂ¶ÇÊûúÊó∂Èó¥‰∏ç‰∏ÄËá¥ÔºåÂ∞±‰ºöËøîÂõû200ÂíåÊñ∞ÁöÑÊñá‰ª∂ÂÜÖÂÆπ„ÄÇÂÆ¢Êà∑Á´ØÊé•Âà∞‰πãÂêéÔºå‰ºö‰∏¢ÂºÉÊóßÊñá‰ª∂ÔºåÊääÊñ∞Êñá‰ª∂ÁºìÂ≠òËµ∑Êù•ÔºåÂπ∂ÊòæÁ§∫Âú®ÊµèËßàÂô®‰∏≠„ÄÇ If-None-MatchÔºöIf-None-MatchÂíåETag‰∏ÄËµ∑Â∑•‰ΩúÔºåÂ∑•‰ΩúÂéüÁêÜÊòØÂú®HTTP Response‰∏≠Ê∑ªÂä†ETag‰ø°ÊÅØ„ÄÇ ÂΩìÁî®Êà∑ÂÜçÊ¨°ËØ∑Ê±ÇËØ•ËµÑÊ∫êÊó∂ÔºåÂ∞ÜÂú®HTTP Request ‰∏≠Âä†ÂÖ•If-None-Match‰ø°ÊÅØ(ETagÁöÑÂÄº)„ÄÇÂ¶ÇÊûúÊúçÂä°Âô®È™åËØÅËµÑÊ∫êÁöÑETagÊ≤°ÊúâÊîπÂèòÔºàËØ•ËµÑÊ∫êÊ≤°ÊúâÊõ¥Êñ∞ÔºâÔºåÂ∞ÜËøîÂõû‰∏Ä‰∏™304Áä∂ÊÄÅÂëäËØâÂÆ¢Êà∑Á´Ø‰ΩøÁî®Êú¨Âú∞ÁºìÂ≠òÊñá‰ª∂„ÄÇÂê¶ÂàôÂ∞ÜËøîÂõû200Áä∂ÊÄÅÂíåÊñ∞ÁöÑËµÑÊ∫êÂíåEtag„ÄÇ AcceptÔºöÊµèËßàÂô®Á´ØÂèØ‰ª•Êé•ÂèóÁöÑMIMEÁ±ªÂûã„ÄÇ‰æãÂ¶ÇÔºöAccept: text/html ‰ª£Ë°®ÊµèËßàÂô®ÂèØ‰ª•Êé•ÂèóÊúçÂä°Âô®ÂõûÂèëÁöÑÁ±ªÂûã‰∏∫ text/html ‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑhtmlÊñáÊ°£ÔºåÂ¶ÇÊûúÊúçÂä°Âô®Êó†Ê≥ïËøîÂõûtext/htmlÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÊúçÂä°Âô®Â∫îËØ•ËøîÂõû‰∏Ä‰∏™406ÈîôËØØ(non acceptable)„ÄÇÈÄöÈÖçÁ¨¶ * ‰ª£Ë°®‰ªªÊÑèÁ±ªÂûãÔºå‰æãÂ¶Ç Accept: */* ‰ª£Ë°®ÊµèËßàÂô®ÂèØ‰ª•Â§ÑÁêÜÊâÄÊúâÁ±ªÂûãÔºå(‰∏ÄËà¨ÊµèËßàÂô®ÂèëÁªôÊúçÂä°Âô®ÈÉΩÊòØÂèëËøô‰∏™)„ÄÇ Accept-EncodingÔºöÊµèËßàÂô®Áî≥ÊòéËá™Â∑±ÂèØÊé•Êî∂ÁöÑÁºñÁ†ÅÊñπÊ≥ïÔºåÈÄöÂ∏∏ÊåáÂÆöÂéãÁº©ÊñπÊ≥ïÔºåÊòØÂê¶ÊîØÊåÅÂéãÁº©ÔºåÊîØÊåÅ‰ªÄ‰πàÂéãÁº©ÊñπÊ≥ïÔºàgzipÔºådeflateÔºâ;ServletËÉΩÂ§üÂêëÊîØÊåÅgzipÁöÑÊµèËßàÂô®ËøîÂõûÁªègzipÁºñÁ†ÅÁöÑHTMLÈ°µÈù¢„ÄÇËÆ∏Â§öÊÉÖÂΩ¢‰∏ãËøôÂèØ‰ª•ÂáèÂ∞ë5Âà∞10ÂÄçÁöÑ‰∏ãËΩΩÊó∂Èó¥„ÄÇ‰æãÂ¶ÇÔºö Accept-Encoding: gzip, deflate„ÄÇÂ¶ÇÊûúËØ∑Ê±ÇÊ∂àÊÅØ‰∏≠Ê≤°ÊúâËÆæÁΩÆËøô‰∏™ÂüüÔºåÊúçÂä°Âô®ÂÅáÂÆöÂÆ¢Êà∑Á´ØÂØπÂêÑÁßçÂÜÖÂÆπÁºñÁ†ÅÈÉΩÂèØ‰ª•Êé•Âèó„ÄÇ Accept-LanguageÔºöÊµèËßàÂô®Áî≥ÊòéËá™Â∑±Êé•Êî∂ÁöÑËØ≠Ë®Ä„ÄÇËØ≠Ë®ÄË∑üÂ≠óÁ¨¶ÈõÜÁöÑÂå∫Âà´Ôºö‰∏≠ÊñáÊòØËØ≠Ë®ÄÔºå‰∏≠ÊñáÊúâÂ§öÁßçÂ≠óÁ¨¶ÈõÜÔºåÊØîÂ¶Çbig5Ôºågb2312ÔºågbkÁ≠âÁ≠âÔºõ‰æãÂ¶ÇÔºöAccept-Language: en-us„ÄÇÂ¶ÇÊûúËØ∑Ê±ÇÊ∂àÊÅØ‰∏≠Ê≤°ÊúâËÆæÁΩÆËøô‰∏™Êä•Â§¥ÂüüÔºåÊúçÂä°Âô®ÂÅáÂÆöÂÆ¢Êà∑Á´ØÂØπÂêÑÁßçËØ≠Ë®ÄÈÉΩÂèØ‰ª•Êé•Âèó„ÄÇ Accept-CharsetÔºöÊµèËßàÂô®ÂèØÊé•ÂèóÁöÑÂ≠óÁ¨¶ÈõÜ„ÄÇÂ¶ÇÊûúÂú®ËØ∑Ê±ÇÊ∂àÊÅØ‰∏≠Ê≤°ÊúâËÆæÁΩÆËøô‰∏™ÂüüÔºåÁº∫ÁúÅË°®Á§∫‰ªª‰ΩïÂ≠óÁ¨¶ÈõÜÈÉΩÂèØ‰ª•Êé•Âèó„ÄÇ User-AgentÔºöÂëäËØâHTTPÊúçÂä°Âô®ÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÁöÑÊìç‰ΩúÁ≥ªÁªüÂíåÊµèËßàÂô®ÁöÑÂêçÁß∞ÂíåÁâàÊú¨ RefererÔºöÂåÖÂê´‰∏Ä‰∏™URLÔºåÁî®Êà∑‰ªéËØ•URL‰ª£Ë°®ÁöÑÈ°µÈù¢Âá∫ÂèëËÆøÈóÆÂΩìÂâçËØ∑Ê±ÇÁöÑÈ°µÈù¢„ÄÇÊèê‰æõ‰∫ÜRequestÁöÑ‰∏ä‰∏ãÊñá‰ø°ÊÅØÁöÑÊúçÂä°Âô®ÔºåÂëäËØâÊúçÂä°Âô®ÊàëÊòØ‰ªéÂì™‰∏™ÈìæÊé•ËøáÊù•ÁöÑÔºåÊØîÂ¶Ç‰ªéÊàë‰∏ªÈ°µ‰∏äÈìæÊé•Âà∞‰∏Ä‰∏™ÊúãÂèãÈÇ£ÈáåÔºå‰ªñÁöÑÊúçÂä°Âô®Â∞±ËÉΩÂ§ü‰ªéHTTP Referer‰∏≠ÁªüËÆ°Âá∫ÊØèÂ§©ÊúâÂ§öÂ∞ëÁî®Êà∑ÁÇπÂáªÊàë‰∏ªÈ°µ‰∏äÁöÑÈìæÊé•ËÆøÈóÆ‰ªñÁöÑÁΩëÁ´ô„ÄÇ HostÔºöÔºàÂèëÈÄÅËØ∑Ê±ÇÊó∂ÔºåËØ•Â§¥ÂüüÊòØÂøÖÈúÄÁöÑÔºâ‰∏ªË¶ÅÁî®‰∫éÊåáÂÆöË¢´ËØ∑Ê±ÇËµÑÊ∫êÁöÑInternet‰∏ªÊú∫ÂíåÁ´ØÂè£Âè∑ÔºåÂÆÉÈÄöÂ∏∏‰ªéHTTP URL‰∏≠ÊèêÂèñÂá∫Êù•ÁöÑ„ÄÇHTTP/1.1ËØ∑Ê±ÇÂøÖÈ°ªÂåÖÂê´‰∏ªÊú∫Â§¥ÂüüÔºåÂê¶ÂàôÁ≥ªÁªü‰ºö‰ª•400Áä∂ÊÄÅÁ†ÅËøîÂõû„ÄÇ AuthorizationÔºöÊéàÊùÉ‰ø°ÊÅØÔºåÈÄöÂ∏∏Âá∫Áé∞Âú®ÂØπÊúçÂä°Âô®ÂèëÈÄÅÁöÑWWW-AuthenticateÂ§¥ÁöÑÂ∫îÁ≠î‰∏≠„ÄÇ‰∏ªË¶ÅÁî®‰∫éËØÅÊòéÂÆ¢Êà∑Á´ØÊúâÊùÉÊü•ÁúãÊüê‰∏™ËµÑÊ∫ê„ÄÇÂΩìÊµèËßàÂô®ËÆøÈóÆ‰∏Ä‰∏™È°µÈù¢Êó∂ÔºåÂ¶ÇÊûúÊî∂Âà∞ÊúçÂä°Âô®ÁöÑÂìçÂ∫î‰ª£Á†Å‰∏∫401ÔºàÊú™ÊéàÊùÉÔºâÔºåÂèØ‰ª•ÂèëÈÄÅ‰∏Ä‰∏™ÂåÖÂê´AuthorizationËØ∑Ê±ÇÊä•Â§¥ÂüüÁöÑËØ∑Ê±ÇÔºåË¶ÅÊ±ÇÊúçÂä°Âô®ÂØπÂÖ∂ËøõË°åÈ™åËØÅ„ÄÇ RangeÔºöÂèØ‰ª•ËØ∑Ê±ÇÂÆû‰ΩìÁöÑ‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™Â≠êËåÉÂõ¥„ÄÇ CookieÔºöÊúÄÈáçË¶ÅÁöÑËØ∑Ê±ÇÂ§¥‰πã‰∏Ä, Â∞ÜcookieÁöÑÂÄºÂèëÈÄÅÁªôHTTPÊúçÂä°Âô®„ÄÇ ËØ∑Ê±ÇÊä•Êñá‰πãÂÆû‰ΩìÈ¶ñÈÉ®Â∏∏ËßÅÁöÑÂÆû‰ΩìÈ¶ñÈÉ®Â¶Ç‰∏ãÔºö Content-TypeÔºöËØ¥Êòé‰∫ÜÂÆû‰Ωì‰∏ª‰ΩìÂÜÖÂØπË±°ÁöÑÂ™í‰ΩìÁ±ªÂûã„ÄÇ Content-LengthÔºöË°®Á§∫ËØ∑Ê±ÇÊ∂àÊÅØÊ≠£ÊñáÁöÑÈïøÂ∫¶„ÄÇ Content-RangeÔºöÁî®‰∫éÊåáÂÆöÊï¥‰∏™ÂÆû‰Ωì‰∏≠ÁöÑ‰∏ÄÈÉ®ÂàÜÁöÑÊèíÂÖ•‰ΩçÁΩÆÔºå‰ªñ‰πüÊåáÁ§∫‰∫ÜÊï¥‰∏™ÂÆû‰ΩìÁöÑÈïøÂ∫¶„ÄÇÂú®ÊúçÂä°Âô®ÂêëÂÆ¢Êà∑ËøîÂõû‰∏Ä‰∏™ÈÉ®ÂàÜÂìçÂ∫îÔºåÂÆÉÂøÖÈ°ªÊèèËø∞ÂìçÂ∫îË¶ÜÁõñÁöÑËåÉÂõ¥ÂíåÊï¥‰∏™ÂÆû‰ΩìÈïøÂ∫¶„ÄÇ‰∏ÄËà¨Ê†ºÂºèÔºöContent-Range:bytes-unitSPfirst-byte-pos-last-byte-pos/entity-length„ÄÇ Content-EncodingÔºöWEBÊúçÂä°Âô®Ë°®ÊòéËá™Â∑±‰ΩøÁî®‰∫Ü‰ªÄ‰πàÂéãÁº©ÊñπÊ≥ïÔºàgzipÔºådeflateÔºâÂéãÁº©ÂìçÂ∫î‰∏≠ÁöÑÂØπË±°„ÄÇÂè™ÊúâÂú®Ëß£Á†Å‰πãÂêéÊâçÂèØ‰ª•ÂæóÂà∞Content-TypeÂ§¥ÊåáÂÆöÁöÑÂÜÖÂÆπÁ±ªÂûã„ÄÇ Content-LanguageÔºöWEBÊúçÂä°Âô®ÂëäËØâÊµèËßàÂô®Ëá™Â∑±ÂìçÂ∫îÁöÑÂØπË±°ÊâÄÁî®ÁöÑËá™ÁÑ∂ËØ≠Ë®Ä„ÄÇ ËØ∑Ê±ÇÊä•Êñá‰πãÂÖ∂‰ªñÈ¶ñÈÉ® P3PÔºöÁî®‰∫éË∑®ÂüüËÆæÁΩÆCookie, ËøôÊ†∑ÂèØ‰ª•Ëß£ÂÜ≥iframeË∑®ÂüüËÆøÈóÆcookieÁöÑÈóÆÈ¢ò„ÄÇ HTTPÊä•Êñá‰πãÂìçÂ∫îÊä•ÊñáÂìçÂ∫îÊä•ÊñáÁî±Áä∂ÊÄÅË°å(ÂçèËÆÆÁâàÊú¨„ÄÅÁä∂ÊÄÅÁ†Å„ÄÅÊ∂àÊÅØÁä∂ÊÄÅ)„ÄÅÂìçÂ∫îÂ§¥ÈÉ®„ÄÅÁ©∫Ë°å(ÂõûËΩ¶+Êç¢Ë°å)ÂíåÂìçÂ∫îÊï∞ÊçÆ(‰∏ª‰Ωì)Âõõ‰∏™ÈÉ®ÂàÜÁªÑÊàê„ÄÇÂ¶Ç‰∏ãÂõæÔºö ÂÆÉÁöÑ‰æãÂ≠êÂ¶Ç‰∏ãÔºö ÂìçÂ∫îÊä•ÊñáÁöÑÈÄöÁî®È¶ñÈÉ®ÂíåÂÆû‰ΩìÈ¶ñÈÉ®‰ª•ÂèäÂÖ∂‰ªñÈ¶ñÈÉ®ÈÉΩÂíåËØ∑Ê±ÇÊä•ÊñáÂ∑Æ‰∏çÂ§öÔºåÊàë‰ª¨‰∏ªË¶ÅËÆ≤Ëß£ÂìçÂ∫îÈ¶ñÈÉ®„ÄÇ ÂìçÂ∫îÊä•Êñá‰πãÂìçÂ∫îÈ¶ñÈÉ® AllowÔºöÊúçÂä°Âô®ÊîØÊåÅÂì™‰∫õËØ∑Ê±ÇÊñπÊ≥ï ExpiresÔºöÊåáÊòéÂ∫îËØ•Âú®‰ªÄ‰πàÊó∂ÂÄôËÆ§‰∏∫ÊñáÊ°£Â∑≤ÁªèËøáÊúüÔºå‰ªéËÄå‰∏çÂÜçÁºìÂ≠òÂÆÉÔºåÈáçÊñ∞‰ªéÊúçÂä°Âô®Ëé∑ÂèñÔºå‰ºöÊõ¥Êñ∞ÁºìÂ≠ò„ÄÇËøáÊúü‰πãÂâç‰ΩøÁî®Êú¨Âú∞ÁºìÂ≠ò„ÄÇHTTP1.1ÁöÑÂÆ¢Êà∑Á´ØÂíåÁºìÂ≠ò‰ºöÂ∞ÜÈùûÊ≥ïÁöÑÊó•ÊúüÊ†ºÂºèÔºàÂåÖÊã¨0ÔºâÁúã‰ΩúÂ∑≤ÁªèËøáÊúü„ÄÇegÔºö‰∏∫‰∫ÜËÆ©ÊµèËßàÂô®‰∏çË¶ÅÁºìÂ≠òÈ°µÈù¢ÔºåÊàë‰ª¨‰πüÂèØ‰ª•Â∞ÜExpiresÂÆû‰ΩìÊä•Â§¥ÂüüÔºåËÆæÁΩÆ‰∏∫0„ÄÇ Set-CookieÔºöÈùûÂ∏∏ÈáçË¶ÅÁöÑheader, Áî®‰∫éÊääcookieÂèëÈÄÅÂà∞ÂÆ¢Êà∑Á´ØÊµèËßàÂô®ÔºåÊØè‰∏Ä‰∏™ÂÜôÂÖ•cookieÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™Set-Cookie„ÄÇ Last-ModifiedÔºöÁî®‰∫éÊåáÁ§∫ËµÑÊ∫êÁöÑÊúÄÂêé‰øÆÊîπÊó•ÊúüÂíåÊó∂Èó¥„ÄÇLast-Modified‰πüÂèØÁî®setDateHeaderÊñπÊ≥ïÊù•ËÆæÁΩÆ„ÄÇ ServerÔºöÊåáÊòéHTTPÊúçÂä°Âô®Áî®Êù•Â§ÑÁêÜËØ∑Ê±ÇÁöÑËΩØ‰ª∂‰ø°ÊÅØ„ÄÇ LocationÔºöÁî®‰∫éÈáçÂÆöÂêë‰∏Ä‰∏™Êñ∞ÁöÑ‰ΩçÁΩÆÔºåÂåÖÂê´Êñ∞ÁöÑURLÂú∞ÂùÄ„ÄÇË°®Á§∫ÂÆ¢Êà∑Â∫îÂΩìÂà∞Âì™ÈáåÂéªÊèêÂèñÊñáÊ°£„ÄÇLocationÈÄöÂ∏∏‰∏çÊòØÁõ¥Êé•ËÆæÁΩÆÁöÑÔºåËÄåÊòØÈÄöËøáHttpServletResponseÁöÑsendRedirectÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÂêåÊó∂ËÆæÁΩÆÁä∂ÊÄÅ‰ª£Á†Å‰∏∫302„ÄÇLocationÂìçÂ∫îÊä•Â§¥ÂüüÂ∏∏Áî®Âú®Êõ¥Êç¢ÂüüÂêçÁöÑÊó∂ÂÄô„ÄÇ WWW-AuthenticateÔºöËØ•ÂìçÂ∫îÊä•Â§¥ÂüüÂøÖÈ°ªË¢´ÂåÖÂê´Âú®401ÔºàÊú™ÊéàÊùÉÁöÑÔºâÂìçÂ∫îÊ∂àÊÅØ‰∏≠ÔºåÂÆ¢Êà∑Á´ØÊî∂Âà∞401ÂìçÂ∫îÊ∂àÊÅØÊó∂ÂÄôÔºåÂπ∂ÂèëÈÄÅAuthorizationÊä•Â§¥ÂüüËØ∑Ê±ÇÊúçÂä°Âô®ÂØπÂÖ∂ËøõË°åÈ™åËØÅÊó∂ÔºåÊúçÂä°Á´ØÂìçÂ∫îÊä•Â§¥Â∞±ÂåÖÂê´ËØ•Êä•Â§¥Âüü„ÄÇ HTTP‰πãÁä∂ÊÄÅÁ†ÅÁä∂ÊÄÅ‰ª£Á†ÅÊúâ‰∏â‰ΩçÊï∞Â≠óÁªÑÊàêÔºåÁ¨¨‰∏Ä‰∏™Êï∞Â≠óÂÆö‰πâ‰∫ÜÂìçÂ∫îÁöÑÁ±ªÂà´ÔºåÂÖ±ÂàÜ‰∫îÁßçÁ±ªÂà´: Áä∂ÊÄÅÁ†Å ËØ¥Êòé 1xx ÊåáÁ§∫‰ø°ÊÅØ‚ÄìË°®Á§∫ËØ∑Ê±ÇÂ∑≤Êé•Êî∂ÔºåÁªßÁª≠Â§ÑÁêÜ 2xx ÊàêÂäü‚ÄìË°®Á§∫ËØ∑Ê±ÇÂ∑≤Ë¢´ÊàêÂäüÊé•Êî∂„ÄÅÁêÜËß£„ÄÅÊé•Âèó 3xx ÈáçÂÆöÂêë‚ÄìË¶ÅÂÆåÊàêËØ∑Ê±ÇÂøÖÈ°ªËøõË°åÊõ¥Ëøõ‰∏ÄÊ≠•ÁöÑÊìç‰Ωú 4xx ÂÆ¢Êà∑Á´ØÈîôËØØ‚ÄìËØ∑Ê±ÇÊúâËØ≠Ê≥ïÈîôËØØÊàñËØ∑Ê±ÇÊó†Ê≥ïÂÆûÁé∞ 5xx ÊúçÂä°Âô®Á´ØÈîôËØØ‚ÄìÊúçÂä°Âô®Êú™ËÉΩÂÆûÁé∞ÂêàÊ≥ïÁöÑËØ∑Ê±Ç Â∏∏Áî®ÁöÑÁä∂ÊÄÅÁ†ÅÂ¶Ç‰∏ãÔºö Áä∂ÊÄÅÁ†Å ËØ¥Êòé 200 OK ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊàêÂäü 400 Bad Request ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊúâËØ≠Ê≥ïÈîôËØØÔºå‰∏çËÉΩË¢´ÊúçÂä°Âô®ÊâÄÁêÜËß£ 401 Unauthorized ËØ∑Ê±ÇÊú™ÁªèÊéàÊùÉÔºåËøô‰∏™Áä∂ÊÄÅ‰ª£Á†ÅÂøÖÈ°ªÂíåWWW-AuthenticateÊä•Â§¥Âüü‰∏ÄËµ∑‰ΩøÁî® 403 Forbidden ÊúçÂä°Âô®Êî∂Âà∞ËØ∑Ê±ÇÔºå‰ΩÜÊòØÊãíÁªùÊèê‰æõÊúçÂä° 404 Not Found ËØ∑Ê±ÇËµÑÊ∫ê‰∏çÂ≠òÂú®ÔºåegÔºöËæìÂÖ•‰∫ÜÈîôËØØÁöÑURL 500 Internal Server Error ÊúçÂä°Âô®ÂèëÁîü‰∏çÂèØÈ¢ÑÊúüÁöÑÈîôËØØ 503 Server Unavailable ÊúçÂä°Âô®ÂΩìÂâç‰∏çËÉΩÂ§ÑÁêÜÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÔºå‰∏ÄÊÆµÊó∂Èó¥ÂêéÂèØËÉΩÊÅ¢Â§çÊ≠£Â∏∏ ÂèÇËÄÉ „ÄäÂõæËß£HTTP„Äã ÂÖ≥‰∫éHTTPÂçèËÆÆÔºå‰∏ÄÁØáÂ∞±Â§ü‰∫Ü HTTPÂçèËÆÆËØ¶Ëß£]]></content>
      <categories>
        <category>ËÆ°ÁÆóÊú∫ÁΩëÁªú</category>
      </categories>
      <tags>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TCPÂçèËÆÆ]]></title>
    <url>%2F2018%2F05%2F18%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%2FTCP%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöTCP‰Ωú‰∏∫‰º†ËæìÂ±ÇÁöÑ‰∏ÄÂ§ßÂçèËÆÆÔºåËôΩÁÑ∂Ê≤°ÊúâUDPÁÆÄÂçïÔºå‰ΩÜÊòØËÉúÂú®ÂèØÈù†„ÄÇ TCPËÆ§ËØÜTCP(‰º†ËæìÊéßÂà∂ÂçèËÆÆ) ÊòØ‰∏ÄÁßçÈù¢ÂêëËøûÊé•„ÄÅÂèØÈù†ÁöÑ„ÄÅÂü∫‰∫éÂ≠óËäÇÊµÅÁöÑ‰º†ËæìÂ±ÇÂçèËÆÆ„ÄÇTCPÂú®‰º†ÈÄÅÊï∞ÊçÆ‰πãÂâç‰ºöÂÖàÁõ∏‰∫íÂèëÈÄÅ‰∏Ä‰∫õÈ¢ÑÂ§áÊä•ÊñáÊÆµÂçèÂïÜ‰∏Ä‰∫õÂèÇÊï∞ÔºåÊØîÂ¶ÇÂ∫èÂè∑Á≠âÁ≠âÔºåTCPÂ∞ÜÁî®Êà∑Êï∞ÊçÆÊâìÂåÖÊàêÊä•ÊñáÊÆµÔºåÂèëÈÄÅÊï∞ÊçÆÂêéÂêØÂä®‰∏Ä‰∏™ÂÆöÊó∂Âô®ÔºåÂè¶‰∏ÄÁ´ØÂØπÊî∂Âà∞ÁöÑÊï∞ÊçÆËøõË°åÁ°ÆËÆ§ÔºåÂØπÂ§±Â∫èÁöÑÊï∞ÊçÆÈáçÊñ∞ÊéíÂ∫èÔºå‰∏¢ÂºÉÈáçÂ§çÊï∞ÊçÆÔºåTCPÊèê‰æõÁ´ØÂà∞Á´ØÁöÑÊµÅÈáèÊéßÂà∂ÔºåÂπ∂ËÆ°ÁÆóÂíåÈ™åËØÅ‰∏Ä‰∏™Âº∫Âà∂ÊÄßÁöÑÁ´ØÂà∞Á´ØÊ†°È™åÂíå„ÄÇ TCPÁâπÁÇπ TCPÊòØÈù¢ÂêëËøûÊé•ÁöÑÔºåÈÄö‰ø°ÂâçÈúÄË¶ÅÂª∫Á´ãËøûÊé•ÔºåÈÄö‰ø°ÁªìÊùüÈúÄË¶ÅÈáäÊîæËøûÊé•„ÄÇ TCPÊèê‰æõÂèØÈù†‰∫§‰ªòÊúçÂä°ÔºåÂèØÈù†ÊåáÁöÑÊòØÔºöTCPÂèëÈÄÅÁöÑÊï∞ÊçÆÊó†ÈáçÂ§ç„ÄÅÊó†‰∏¢Â§±„ÄÅÊó†ÈîôËØØ„ÄÅ‰∏éÂèëÈÄÅÁ´ØÈ°∫Â∫è‰∏ÄËá¥„ÄÇ TCPÊòØÈù¢ÂêëÂ≠óËäÇÊµÅÁöÑÔºåÈù¢ÂêëÂ≠óËäÇÊµÅÊåáÁöÑÊòØÔºöTCP‰ª•Â≠óËäÇ‰∏∫Âçï‰Ωç„ÄÇËôΩÁÑ∂‰º†ËæìÁöÑËøáÁ®ã‰∏≠Êï∞ÊçÆË¢´ÂàíÂàÜÊàê‰∏Ä‰∏™‰∏™Êï∞ÊçÆÊä•Ôºå‰ΩÜËøôÂè™ÊòØ‰∏∫‰∫ÜÊñπ‰æø‰º†ËæìÔºåÊé•Êî∂Á´ØÊúÄÁªàÊé•ÂèóÂà∞ÁöÑÊï∞ÊçÆÂ∞Ü‰∏éÂèëÈÄÅÁ´ØÁöÑÊï∞ÊçÆ‰∏ÄÊ®°‰∏ÄÊ†∑„ÄÇ TCPÊèê‰æõÂÖ®ÂèåÂ∑•ÈÄö‰ø°ÔºåÂÖ®ÂèåÂ∑•ÈÄö‰ø°ÊåáÁöÑÊòØÔºöTCPÁöÑ‰∏§Á´ØÊó¢ÂèØ‰ª•‰Ωú‰∏∫ÂèëÈÄÅÁ´ØÔºå‰πüÂèØ‰ª•‰Ωú‰∏∫Êé•Êî∂Á´Ø„ÄÇ ‰∏ÄÊù°TCPËøûÊé•ÁöÑ‰∏§Á´ØÂè™ËÉΩÊúâ‰∏§‰∏™Á´ØÁÇπÔºåTCPÂè™ËÉΩÊèê‰æõÁÇπÂà∞ÁÇπÁöÑÈÄö‰ø°ÔºåËÄåUDPÂèØ‰ª•‰ªªÊÑèÊñπÂºèÁöÑÈÄö‰ø°„ÄÇ TCPÈ¶ñÈÉ® 16‰ΩçÁ´ØÂè£Âè∑:ÂåÖÂê´Ê∫êÁ´ØÂè£ÂíåÁõÆÁöÑÁ´ØÂè£ÔºåÂÆ¢Êà∑Á´ØÈÄöÂ∏∏‰ΩøÁî®Á≥ªÁªüËá™Âä®ÈÄâÊã©ÁöÑ‰∏¥Êó∂Á´ØÂè£Âè∑ÔºåËÄåÊúçÂä°Âô®Âàô‰ΩøÁî®Ëá™‰∏ªÂÆö‰πâÁ´ØÂè£Âè∑. 32‰ΩçÂ∫èÂè∑:‰∏ÄÊ¨°TCPÈÄö‰ø°ËøáÁ®ã‰∏≠‰∏Ä‰∏™‰º†ËæìÊñπÂêë‰∏äÁöÑÂ≠óËäÇÊµÅÁöÑÊØè‰∏™Â≠óËäÇÁöÑÁºñÂè∑Ôºå‰æãÂ¶Ç:AÂèëÈÄÅÁªôBÁöÑÁ¨¨‰∏Ä‰∏™TCPÊä•ÊñáÊÆµ‰∏≠ÔºåÂ∫èÂè∑ÂÄºË¢´Á≥ªÁªüÂàùÂßãÂåñ‰∏∫Êüê‰∏™ÈöèÊú∫ÂÄºISNÔºåÈÇ£‰πàÂú®ËØ•‰º†ËæìÊñπÂêë‰∏äÔºåÂêéÁª≠ÁöÑTCPÊä•ÊñáÊÆµ‰∏≠Â∫èÂè∑ÂÄºÂ∞ÜË¢´Á≥ªÁªüËÆæÁΩÆ‰∏∫ISNÂä†‰∏äËØ•Êä•ÊñáÊÆµÊâÄÊê∫Â∏¶Êï∞ÊçÆÁöÑÁ¨¨‰∏Ä‰∏™Â≠óËäÇÂú®Êï¥‰∏™Â≠óËäÇÊµÅ‰∏≠ÁöÑÂÅèÁßª„ÄÇ 32‰ΩçÁöÑÁ°ÆËÆ§Âè∑: Áî®‰ΩúÂØπÂè¶Â§ñ‰∏ÄÊñπÂèëÈÄÅÊù•ÁöÑTCPÊä•ÊñáÊÆµÁöÑÂìçÂ∫îÔºåÂÖ∂ÂÄºÊòØÊî∂Âà∞ÁöÑTCPÊä•ÊñáÊÆµÁöÑÂ∫èÂè∑ÂÄºÂä†1„ÄÇ 4‰ΩçÂ§¥ÈÉ®ÈïøÂ∫¶: Ê†áËØÜTCPÂ§¥ÈÉ®ÊúâÂ§öÂ∞ë‰∏™32bit(4Â≠óËäÇ)ÔºåÊúÄÂ§ß60Â≠óËäÇ. 6‰ΩçÊ†áÂøó‰Ωç: URG:Ë°®Á§∫Á¥ßÊÄ•ÊåáÈíàÊòØÂê¶ÊúâÊïà. ACK:Ë°®Á§∫Á°ÆËÆ§Âè∑ÊòØÂê¶ÊúâÊïàÔºåÊàë‰ª¨Áß∞Êê∫Â∏¶ACKÊ†áÂøóÁöÑTCPÊä•ÊñáÊÆµ‰∏∫Á°ÆËÆ§Êä•ÊñáÊÆµ. PSH:ÊèêÁ§∫Êé•Êî∂Á´ØÂ∫îÁî®Á®ãÂ∫èÂ∫îËØ•Á´ãÂç≥‰ªéTCPÊé•Êî∂ÁºìÂÜ≤Âå∫‰∏≠ËØªËµ∞Êï∞ÊçÆ,‰∏∫Êé•Êî∂Êï∞ÊçÆËÖæÂá∫Á©∫Èó¥. RST:Ë°®Á§∫Ë¶ÅÊ±ÇÂØπÊñπÈáçÊñ∞Âª∫Á´ãËøûÊé•(Â§ç‰ΩçÊä•ÊñáÊÆµ) SYN:Ë°®Á§∫ËØ∑Ê±ÇÂª∫Á´ã‰∏Ä‰∏™ËøûÊé•(ÂêåÊ≠•Êä•ÊñáÊÆµ); FIN:Ë°®Á§∫ÈÄöÁü•ÂØπÊñπÊú¨Á´ØË¶ÅÂÖ≥Èó≠ËøûÊé•‰∫Ü(ÁªìÊùüÊä•ÊñáÊÆµ); 16‰ΩçÁ™óÂè£Â§ßÂ∞è:TCPÊµÅÈáèÁöÑ‰∏Ä‰∏™ÊéßÂà∂ÊâãÊÆµ,,ÂÆÉÂëäÁü•ÊòØÂØπÊñπÊú¨Á´ØÁöÑTCPÊé•Êî∂ÁºìÂÜ≤Âå∫ËøòËÉΩÂÆπÁ∫≥Â§öÂ∞ëÂ≠óËäÇÁöÑÊï∞ÊçÆÔºåËøôÊ†∑ÂØπÊñπÂ∞±ÂèØ‰ª•ÊéßÂà∂ÂèëÈÄÅÊï∞ÊçÆÁöÑÈÄüÂ∫¶. 16‰ΩçÊ†°È™åÂíå:Áî±ÂèëÈÄÅÁ´ØÂ°´ÂÖÖÔºåÊé•Êî∂Á´ØÂØπTCPÊä•ÊñáÊÆµÊâßË°åCRCÁÆóÊ≥ïÔºàÂæ™ÁéØÂÜó‰ΩôÁ†ÅÊ£ÄÈ™åÔºå‰∏éUDP‰∏ÄÊ†∑ÔºâÔºåÊ£ÄÈ™åTCPÂ§¥ÈÉ®Âú®‰º†ËæìËøáÁ®ã‰∏≠ÊòØÂê¶ÊçüÂùèÔºå‰∏ç‰ªÖÂåÖÊã¨TCPÂ§¥ÈÉ®Ôºå‰πüÂåÖÊã¨Êï∞ÊçÆÈÉ®ÂàÜ„ÄÇ 16‰ΩçÁ¥ßÊÄ•ÊåáÈíà:ÊòØ‰∏Ä‰∏™Ê≠£ÁöÑÂÅèÁßªÈáè.ÂÆÉÂíåÂ∫èÂè∑Â≠óÊÆµÁöÑÂÄºÁõ∏Âä†Ë°®Á§∫ÊúÄÂêé‰∏Ä‰∏™Á¥ßÊÄ•Êï∞ÊçÆÁöÑ‰∏ã‰∏Ä‰∏™Â≠óËäÇÁöÑÂ∫èÂè∑. ÈÄâÈ°πÂ≠óÊÆµÔºå‰∏äËø∞Â≠óÊÆµÈÉΩÊòØÊØè‰∏™TCPÂ§¥ÈÉ®ÂøÖÈ°ªË¶ÅÊúâÁöÑÔºåËÄåÈÄâÈ°πÂ≠óÊÆµÊòØÂèØÈÄâÁöÑÔºå‰∏îÈïøÂ∫¶ÂèØÂèòÔºåÊúÄÈïø40Â≠óËäÇ„ÄÇ ÊúÄÂ∏∏Áî®ÁöÑÈÄâÈ°πÂ≠óÊÆµ‰∏∫MMSÔºöÊúÄÂ§ßÊä•ÊñáÈïøÂ∫¶„ÄÇ TCPËøûÊé•Âª∫Á´ã(‰∏âÊ¨°Êè°Êâã) TCPÂçèËÆÆ‰∏≠Ôºå‰∏ªÂä®ÂèëËµ∑ËØ∑Ê±ÇÁöÑ‰∏ÄÁ´ØÁß∞‰∏∫ÂÆ¢Êà∑Á´ØÔºåË¢´Âä®ËøûÊé•ÁöÑ‰∏ÄÁ´ØÁß∞‰∏∫ÊúçÂä°Á´Ø„ÄÇ‰∏çÁÆ°ÊòØÂÆ¢Êà∑Á´ØËøòÊòØÊúçÂä°Á´ØÔºåTCPËøûÊé•Âª∫Á´ãÂÆåÂêéÈÉΩËÉΩÂèëÈÄÅÂíåÊé•Êî∂Êï∞ÊçÆ„ÄÇ Êè°ÊâãÂâçÔºöÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÈÉΩ‰∏∫CLOSEDÁä∂ÊÄÅÔºåÂú®ÈÄö‰ø°ÂºÄÂßãÂâçÔºåÂèåÊñπÈÉΩÂæóÂàõÂª∫ÂêÑËá™ÁöÑ‰º†ËæìÊéßÂà∂ÂùóÔºàTCBÔºâ„ÄÇÊúçÂä°Âô®ÂàõÂª∫ÂÆåTCBÂêéÈÅçËøõÂÖ•LISTENÁä∂ÊÄÅÔºåÊ≠§Êó∂ÂáÜÂ§áÊé•Êî∂ÂÆ¢Êà∑Á´ØÂèëÊù•ÁöÑËøûÊé•ËØ∑Ê±Ç„ÄÇ Á¨¨‰∏ÄÊ¨°Êè°ÊâãÔºöÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Á´ØÂèëÈÄÅËøûÊé•ËØ∑Ê±ÇÊä•ÊñáÊÆµ„ÄÇËØ•Êä•ÊñáÊÆµÁöÑÂ§¥ÈÉ®‰∏≠SYN=1ÔºåACK=0Ôºå(Ë°®Á§∫ËØ•Êä•ÊñáÊÆµ‰∏∫ËøûÊé•ËØ∑Ê±ÇÊä•Êñá) seq=x(x‰∏∫Êú¨Ê¨°TCPÈÄö‰ø°ÁöÑÂ≠óËäÇÊµÅÁöÑÂàùÂßãÂ∫èÂè∑)„ÄÇËØ∑Ê±ÇÂèëÈÄÅÂêéÔºåÂÆ¢Êà∑Á´Ø‰æøËøõÂÖ•SYN-SENTÁä∂ÊÄÅ„ÄÇ Á¨¨‰∫åÊ¨°Êè°Êâã ÔºöÊúçÂä°Á´ØÊî∂Âà∞ËøûÊé•ËØ∑Ê±ÇÊä•ÊñáÊÆµÂêéÔºåÂ¶ÇÊûúÂêåÊÑèËøûÊé•ÔºåÂàô‰ºöÂèëÈÄÅ‰∏Ä‰∏™Â∫îÁ≠îÔºöSYN=1ÔºåACK=1Ôºå(Ë°®Á§∫ËØ•Êä•ÊñáÊÆµ‰∏∫ËøûÊé•ÂêåÊÑèÁöÑÂ∫îÁ≠îÊä•Êñá) seq=yÔºå(Ë°®Á§∫ÊúçÂä°Á´Ø‰Ωú‰∏∫ÂèëÈÄÅËÄÖÊó∂ÔºåÂèëÈÄÅÂ≠óËäÇÊµÅÁöÑÂàùÂßãÂ∫èÂè∑) ack=x+1(Ë°®Á§∫ÊúçÂä°Á´ØÂ∏åÊúõ‰∏ã‰∏Ä‰∏™Êï∞ÊçÆÊä•ÂèëÈÄÅÂ∫èÂè∑‰ªéx+1ÂºÄÂßãÁöÑÂ≠óËäÇ)„ÄÇËØ•Â∫îÁ≠îÂèëÈÄÅÂÆåÊàêÂêé‰æøËøõÂÖ•SYN-RCVDÁä∂ÊÄÅ„ÄÇ Á¨¨‰∏âÊ¨°Êè°Êâã ÔºöÂΩìÂÆ¢Êà∑Á´ØÊî∂Âà∞ËøûÊé•ÂêåÊÑèÁöÑÂ∫îÁ≠îÂêéÔºåËøòË¶ÅÂêëÊúçÂä°Á´ØÂèëÈÄÅ‰∏Ä‰∏™Á°ÆËÆ§Êä•ÊñáÊÆµÔºåË°®Á§∫ÔºöÊúçÂä°Á´ØÂèëÊù•ÁöÑËøûÊé•ÂêåÊÑèÂ∫îÁ≠îÂ∑≤ÁªèÊàêÂäüÊî∂Âà∞„ÄÇËØ•Êä•ÊñáÊÆµÁöÑÂ§¥ÈÉ®‰∏∫ÔºöACK=1Ôºåseq=x+1Ôºåack=y+1„ÄÇÂÆ¢Êà∑Á´ØÂèëÂÆåËøô‰∏™Êä•ÊñáÊÆµÂêé‰æøËøõÂÖ•ESTABLISHEDÁä∂ÊÄÅÔºåÊúçÂä°Á´ØÊî∂Âà∞Ëøô‰∏™Â∫îÁ≠îÂêé‰πüËøõÂÖ•ESTABLISHEDÁä∂ÊÄÅÔºåÊ≠§Êó∂ËøûÊé•ÁöÑÂª∫Á´ãÂÆåÊàêÔºÅ PSÔºö‰∏∫‰ªÄ‰πàËøûÊé•Âª∫Á´ãÈúÄË¶Å‰∏âÊ¨°Êè°ÊâãÔºåËÄå‰∏çÊòØ‰∏§Ê¨°Êè°ÊâãÔºü Èò≤Ê≠¢Â§±ÊïàÁöÑËøûÊé•ËØ∑Ê±ÇÊä•ÊñáÊÆµË¢´ÊúçÂä°Á´ØÊé•Êî∂Ôºå‰ªéËÄå‰∫ßÁîüÈîôËØØÔºåÂ§±ÊïàÁöÑËøûÊé•ËØ∑Ê±ÇÊåáÁöÑÊòØÔºöËã•ÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Á´ØÂèëÈÄÅÁöÑËøûÊé•ËØ∑Ê±Ç‰∏¢Â§±ÔºåÂÆ¢Êà∑Á´ØÁ≠âÂæÖÂ∫îÁ≠îË∂ÖÊó∂ÂêéÂ∞±‰ºöÂÜçÊ¨°ÂèëÈÄÅËøûÊé•ËØ∑Ê±ÇÔºåÊ≠§Êó∂Ôºå‰∏ä‰∏Ä‰∏™ËøûÊé•ËØ∑Ê±ÇÂ∞±ÊòØÂ§±ÊïàÁöÑ„ÄÇ Ëã•Âª∫Á´ãËøûÊé•Âè™ÈúÄ‰∏§Ê¨°Êè°ÊâãÔºåÊúçÂä°Á´ØÂú®Êî∂Âà∞ËøûÊé•ËØ∑Ê±ÇÂêéÂ∞±ËøõÂÖ•ESTABLISHEDÁä∂ÊÄÅ„ÄÇÊ≠§Êó∂Â¶ÇÊûúÁΩëÁªúÊã•Â°ûÔºåÂÆ¢Êà∑Á´ØÂèëÈÄÅÁöÑËøûÊé•ËØ∑Ê±ÇËøüËøüÂà∞‰∏ç‰∫ÜÊúçÂä°Á´ØÔºåÂÆ¢Êà∑Á´Ø‰æøË∂ÖÊó∂ÈáçÂèëËØ∑Ê±ÇÔºåÊ≠§Êó∂ÔºåÂ¶ÇÊûúÈÇ£‰∏™Â§±ÊïàÁöÑËøûÊé•ËØ∑Ê±ÇÊäµËææ‰∫ÜÊúçÂä°Á´ØÔºå‰ΩÜÊ≠§Êó∂ÁöÑÂÆ¢Êà∑Á´ØÊó©Â∑≤ËøõÂÖ•CLOSEDÁä∂ÊÄÅÔºåÊúçÂä°Á´ØÂ∞Ü‰ºö‰∏ÄÁõ¥Á≠âÂæÖ‰∏ãÂéªÔºåËøôÊ†∑Êµ™Ë¥πÊúçÂä°Á´ØËøûÊé•ËµÑÊ∫ê„ÄÇ TCPËøûÊé•ÈáäÊîæ(ÂõõÊ¨°Êè°Êâã)TCPËøûÊé•ÂèëÈÄÅÊï∞ÊçÆÊòØÂèåÂêëÁöÑÔºåÂõ†Ê≠§Âú®ÂõõÊ¨°Êå•Êâã‰∏≠ÔºåÂâç‰∏§Ê¨°Êå•ÊâãÁî®‰∫éÊñ≠ÂºÄ‰∏Ä‰∏™ÊñπÂêëÁöÑËøûÊé•ÔºåÂêé‰∏§Ê¨°Êå•ÊâãÁî®‰∫éÊñ≠ÂºÄÂè¶‰∏ÄÊñπÂêëÁöÑËøûÊé•„ÄÇ Á¨¨‰∏ÄÊ¨°Êè°Êâã ÔºöËã•AËÆ§‰∏∫Êï∞ÊçÆÂèëÈÄÅÂÆåÊàêÔºåÂàôÂÆÉÈúÄË¶ÅÂêëBÂèëÈÄÅËøûÊé•ÈáäÊîæËØ∑Ê±Ç„ÄÇËØ•ËØ∑Ê±ÇÂè™ÊúâÊä•ÊñáÂ§¥ÔºåÂ§¥‰∏≠Êê∫Â∏¶ÁöÑ‰∏ªË¶ÅÂèÇÊï∞‰∏∫ÔºöFIN=1Ôºå(Ë°®Á§∫ËØ•Êä•ÊñáÊÆµÊòØ‰∏Ä‰∏™ËøûÊé•ÈáäÊîæËØ∑Ê±Ç) seq=u(u-1ÊòØAÂêëBÂèëÈÄÅÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠óËäÇÁöÑÂ∫èÂè∑)„ÄÇÊ≠§Êó∂ÔºåAÂ∞ÜËøõÂÖ•FIN-WAIT-1Áä∂ÊÄÅ„ÄÇ Á¨¨‰∫åÊ¨°Êè°Êâã ÔºöBÊî∂Âà∞ËøûÊé•ÈáäÊîæËØ∑Ê±ÇÂêéÔºå‰ºöÈÄöÁü•Áõ∏Â∫îÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåÂëäËØâÂÆÉAÂêëBËøô‰∏™ÊñπÂêëÁöÑËøûÊé•Â∑≤ÁªèÈáäÊîæ„ÄÇÊ≠§Êó∂BËøõÂÖ•CLOSE-WAITÁä∂ÊÄÅÔºåÂπ∂ÂêëAÂèëÈÄÅËøûÊé•ÈáäÊîæÁöÑÂ∫îÁ≠îÔºåÂÖ∂Êä•ÊñáÂ§¥ÂåÖÂê´Ôºö ACK=1Ôºå(Ë°®Á§∫Â∫îÁ≠î) seq=v (v-1ÊòØBÂêëAÂèëÈÄÅÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠óËäÇÁöÑÂ∫èÂè∑)Ôºåack=u+1(Ë°®Á§∫Â∏åÊúõÊî∂Âà∞‰ªéÁ¨¨u+1‰∏™Â≠óËäÇÂºÄÂßãÁöÑÊä•ÊñáÊÆµÔºåÂπ∂‰∏îÂ∑≤ÁªèÊàêÂäüÊé•Êî∂‰∫ÜÂâçu‰∏™Â≠óËäÇ)„ÄÇAÊî∂Âà∞ËØ•Â∫îÁ≠îÔºåËøõÂÖ•FIN-WAIT-2Áä∂ÊÄÅÔºåÁ≠âÂæÖBÂèëÈÄÅËøûÊé•ÈáäÊîæËØ∑Ê±Ç„ÄÇÁ¨¨‰∫åÊ¨°Êå•ÊâãÂÆåÊàêÂêéÔºåAÂà∞BÊñπÂêëÁöÑËøûÊé•Â∑≤ÁªèÈáäÊîæÔºåB‰∏ç‰ºöÂÜçÊé•Êî∂Êï∞ÊçÆÔºåA‰πü‰∏ç‰ºöÂÜçÂèëÈÄÅÊï∞ÊçÆ„ÄÇ‰ΩÜBÂà∞AÊñπÂêëÁöÑËøûÊé•‰ªçÁÑ∂Â≠òÂú®ÔºåBÂèØ‰ª•ÁªßÁª≠ÂêëAÂèëÈÄÅÊï∞ÊçÆ„ÄÇ Á¨¨‰∏âÊ¨°Êè°Êâã ÔºöÂΩìBÂêëAÂèëÂÆåÊâÄÊúâÊï∞ÊçÆÂêéÔºåÂêëAÂèëÈÄÅËøûÊé•ÈáäÊîæËØ∑Ê±ÇÔºåËØ∑Ê±ÇÂ§¥ÔºöFIN=1ÔºåACK=1Ôºåseq=wÔºåack=u+1„ÄÇB‰æøËøõÂÖ•LAST-ACKÁä∂ÊÄÅ„ÄÇ Á¨¨ÂõõÊ¨°Êè°Êâã ÔºöAÊî∂Âà∞ÈáäÊîæËØ∑Ê±ÇÂêéÔºåÂêëBÂèëÈÄÅÁ°ÆËÆ§Â∫îÁ≠îÔºåÊ≠§Êó∂AËøõÂÖ•TIME-WAITÁä∂ÊÄÅ„ÄÇËØ•Áä∂ÊÄÅ‰ºöÊåÅÁª≠2MSL(Êä•ÊñáÊúÄÂ§ßÁîüÂ≠òÊó∂Èó¥)Êó∂Èó¥ÔºåËã•ËØ•Êó∂Èó¥ÊÆµÂÜÖÊ≤°ÊúâBÁöÑÈáçÂèëËØ∑Ê±ÇÁöÑËØùÔºåÂ∞±ËøõÂÖ•CLOSEDÁä∂ÊÄÅÔºåÊí§ÈîÄTCB„ÄÇÂΩìBÊî∂Âà∞Á°ÆËÆ§Â∫îÁ≠îÂêéÔºå‰πü‰æøËøõÂÖ•CLOSEDÁä∂ÊÄÅÔºåÊí§ÈîÄTCB„ÄÇ TCPÁöÑÂèØÈù†‰º†ËæìTCPÈááÁî®‰∫ÜÊ†°È™åÂíå„ÄÅËøûÊé•ÁÆ°ÁêÜ„ÄÅÂ∫èÂàóÂè∑„ÄÅÁ°ÆËÆ§Â∫îÁ≠îÔºåÈáçÂèëÊéßÂà∂„ÄÅÊªëÂä®Á™óÂè£ÂçèËÆÆÔºàËøûÁª≠ARQÂçèËÆÆ„ÄÅÊµÅÊéßÂà∂„ÄÅÊã•Â°ûÊéßÂà∂ÔºâÁ≠âÊú∫Âà∂Êù•‰øùËØÅÂÆÉÁöÑÂèØÈù†ÊÄß„ÄÇ Ê†°È™åÂíåTCPÂíåUDPÊ†°È™åÂíåÁöÑÊñπÂºè‰∏ÄËá¥ÔºåÂèØ‰ª•ÂèÇÁÖßÂè¶‰∏ÄÁØáÂçöÂÆ¢‚Äî‚ÄîUDPÂçèËÆÆ ËøûÊé•ÁÆ°ÁêÜÂÖ∂ÂÆûÂ∞±ÊòØÂà©Áî®Âª∫Á´ãËøûÊé•Êó∂ÁöÑ‰∏âÊ¨°Êè°ÊâãÊù•ÊèêÈ´òÂèØÈù†ÊÄß„ÄÇ ÈÄöËøáÂ∫èÂàóÂè∑‰∏éÁ°ÆËÆ§Â∫îÁ≠îÂú®TCP‰∏≠ÔºåÂΩìÂèëÈÄÅÁ´ØÁöÑÊï∞ÊçÆÂà∞ËææÊé•Êî∂‰∏ªÊú∫Êó∂ÔºåÊé•Êî∂Á´Ø‰∏ªÊú∫‰ºöËøîÂõû‰∏Ä‰∏™Êî∂Âà∞Ê∂àÊÅØÁöÑÈÄöÁü•ÔºåËøô‰∏™Ê∂àÊÅØÂè´ÂÅöÁ°ÆËÆ§Â∫îÁ≠î(ACK)ÔºåÊØîÂ¶ÇÂÆ¢Êà∑Á´ØÂèëÈÄÅ[Êï∞ÊçÆ(1-1000)]ÔºåÈÇ£‰πàÊúçÂä°Á´ØÂ∞Ü‰ºöÂõûÂ∫î[Á°ÆËÆ§Â∫îÁ≠î(‰∏ã‰∏Ä‰∏™Êï∞1001)]„ÄÇÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâÁ≠âÂà∞Á°ÆËÆ§Â∫îÁ≠îÔºåÂèëÈÄÅÁ´Ø‰ºöËÆ§‰∏∫Êï∞ÊçÆÂ∑≤Áªè‰∏¢Â§±ÔºåÂπ∂ËøõË°åÈáçÂèë„ÄÇ ÊªëÂä®Á™óÂè£ÂçèËÆÆ(ËøûÁª≠ARQÂçèËÆÆ)Ê¶ÇÂøµÂÖàÁÆÄÂçïËØ¥ËØ¥ARQ(Automatic Repeat reQuest)ÂçèËÆÆ(Ëá™Âä®Èáç‰º†ËØ∑Ê±ÇÂçèËÆÆ)Ôºö ÂΩìËØ∑Ê±ÇÂ§±Ë¥•Êó∂ÂÆÉ‰ºöËá™Âä®Èáç‰º†ÔºåÁõ¥Âà∞ËØ∑Ê±ÇË¢´Ê≠£Á°ÆÊé•Êî∂‰∏∫Ê≠¢„ÄÇËøôÁßçÊú∫Âà∂‰øùËØÅ‰∫ÜÊØè‰∏™ÂàÜÁªÑÈÉΩËÉΩË¢´Ê≠£Á°ÆÊé•Êî∂„ÄÇ ÂÜçÁúãËøûÁª≠ARQÂçèËÆÆÔºöÂú®ARQÂçèËÆÆÂèëÈÄÅËÄÖÊØèÊ¨°Âè™ËÉΩÂèëÈÄÅ‰∏Ä‰∏™ÂàÜÁªÑÔºåÂú®Â∫îÁ≠îÂà∞Êù•ÂâçÂøÖÈ°ªÁ≠âÂæÖ„ÄÇËÄåËøûÁª≠ARQÂçèËÆÆÁöÑÂèëÈÄÅËÄÖÊã•Êúâ‰∏Ä‰∏™ÂèëÈÄÅÁ™óÂè£ÔºåÂèëÈÄÅËÄÖÂèØ‰ª•Âú®Ê≤°ÊúâÂæóÂà∞Â∫îÁ≠îÁöÑÊÉÖÂÜµ‰∏ãËøûÁª≠ÂèëÈÄÅÁ™óÂè£‰∏≠ÁöÑÂàÜÁªÑ„ÄÇ ÂèëÈÄÅÁ™óÂè£ ÂèëÈÄÅÁ™óÂè£ÁöÑÂ§ßÂ∞èÁî±Êé•Êî∂Á™óÂè£ÁöÑÂâ©‰ΩôÂ§ßÂ∞èÂÜ≥ÂÆö„ÄÇÊé•Êî∂ËÄÖ‰ºöÊääÂΩìÂâçÊé•Êî∂Á™óÂè£ÁöÑÂâ©‰ΩôÂ§ßÂ∞èÂÜôÂÖ•Â∫îÁ≠îTCPÊä•ÊñáÊÆµÁöÑÂ§¥ÈÉ®ÔºåÂèëÈÄÅËÄÖÊî∂Âà∞Â∫îÁ≠îÂêéÊ†πÊçÆËØ•ÂÄºÂíåÂΩìÂâçÁΩëÁªúÊã•Â°ûÊÉÖÂÜµËÆæÁΩÆÂèëÈÄÅÁ™óÂè£ÁöÑÂ§ßÂ∞è„ÄÇÂèëÈÄÅÁ™óÂè£ÁöÑÂ§ßÂ∞èÊòØ‰∏çÊñ≠ÂèòÂåñÁöÑ„ÄÇ ÂèëÈÄÅÁ™óÂè£(p1-p3)Áî±‰∏â‰∏™ÊåáÈíàÊûÑÊàêÔºö p1Ôºöp1ÊåáÂêëÂèëÈÄÅÁ™óÂè£ÁöÑÂêéÊ≤øÔºåÂÆÉÂêéÈù¢ÁöÑÂ≠óËäÇË°®Á§∫Â∑≤ÁªèÂèëÈÄÅ‰∏îÂ∑≤Êî∂Âà∞Â∫îÁ≠î„ÄÇ p2Ôºöp2ÊåáÂêëÂ∞öÊú™ÂèëÈÄÅÁöÑÁ¨¨‰∏Ä‰∏™Â≠óËäÇ„ÄÇp1-p2Èó¥ÁöÑÂ≠óËäÇË°®Á§∫Â∑≤ÁªèÂèëÈÄÅÔºå‰ΩÜËøòÊ≤°Êî∂Âà∞Á°ÆËÆ§Â∫îÁ≠î„ÄÇËøôÈÉ®ÂàÜÁöÑÂ≠óËäÇ‰ªçÈúÄ‰øùÁïôÔºåÂõ†‰∏∫ÂèØËÉΩËøòË¶ÅË∂ÖÊó∂ÈáçÂèë„ÄÇp2-p3Èó¥ÁöÑÂ≠óËäÇË°®Á§∫ÂèØ‰ª•ÂèëÈÄÅÔºå‰ΩÜËøòÊ≤°ÊúâÂèëÈÄÅÁöÑÂ≠óËäÇ„ÄÇ p3Ôºöp3ÊåáÂêëÂèëÈÄÅÁ™óÂè£ÁöÑÂâçÊ≤øÔºåÂÆÉÂâçÈù¢ÁöÑÂ≠óËäÇÂ∞öÊú™ÂèëÈÄÅÔºå‰∏î‰∏çÂÖÅËÆ∏ÂèëÈÄÅ„ÄÇ ÂèëÈÄÅËÄÖÊØèÊî∂Âà∞‰∏Ä‰∏™Â∫îÁ≠îÔºåÂêéÊ≤øÂ∞±ÂèØ‰ª•ÂêëÂâçÁßªÂä®ÊåáÂÆöÁöÑÂ≠óËäÇ„ÄÇÊ≠§Êó∂Ëã•Á™óÂè£Â§ßÂ∞è‰ªçÁÑ∂Ê≤°ÂèòÔºåÂâçÊ≤ø‰πüÂèØ‰ª•ÂêëÂâçÁßªÂä®ÊåáÂÆöÂ≠óËäÇ„ÄÇÂΩìp2ÂíåÂâçÊ≤øÈáçÂêàÊó∂ÔºåÂèëÈÄÅËÄÖÂøÖÈ°ªÁ≠âÂæÖÁ°ÆËÆ§Â∫îÁ≠î„ÄÇ Êé•Êî∂Á™óÂè£ Êé•Êî∂ËÄÖÊî∂Âà∞ÁöÑÂ≠óËäÇ‰ºöÂ≠òÂÖ•Êé•Êî∂Á™óÂè£ÔºåÊé•Êî∂ËÄÖ‰ºöÂØπÂ∑≤ÁªèÊ≠£Á°ÆÊé•Êî∂ÁöÑÊúâÂ∫èÂ≠óËäÇËøõË°åÁ¥ØËÆ°Á°ÆËÆ§ÔºåÂèëÈÄÅÂÆåÁ°ÆËÆ§Â∫îÁ≠îÂêéÔºåÊé•Êî∂Á™óÂè£Â∞±ÂèØ‰ª•ÂêëÂâçÁßªÂä®ÊåáÂÆöÂ≠óËäÇ„ÄÇÂ¶ÇÊûúÊüê‰∫õÂ≠óËäÇÂπ∂Êú™ÊåâÂ∫èÊî∂Âà∞ÔºåÊé•Êî∂ËÄÖÂè™‰ºöÁ°ÆËÆ§ÊúÄÂêé‰∏Ä‰∏™ÊúâÂ∫èÁöÑÂ≠óËäÇÔºå‰ªéËÄå‰π±Â∫èÁöÑÂ≠óËäÇÂ∞±‰ºöË¢´ÈáçÊñ∞ÂèëÈÄÅ„ÄÇ ÊµÅÊéßÂà∂Ê¶ÇÂøµËÆ©ÂèëÈÄÅÁ´ØÊ†πÊçÆÊé•Êî∂Á´ØÁöÑÂÆûÈôÖÊé•Êî∂ËÉΩÂäõÊéßÂà∂ÂèëÈÄÅÁöÑÊï∞ÊçÆÈáè„ÄÇ ÁõÆÁöÑÈò≤Ê≠¢Êé•Êî∂Á´ØÂú®È´òË¥üËç∑ÁöÑÊÉÖÂÜµ‰∏ãÊé•Êî∂Êï∞ÊçÆÔºåÂõ†‰∏∫Ëøô‰∏™Êó∂ÂÄôÂ¶ÇÊûúÊé•Êî∂Á´Ø‰ºöÂ∞ÜÊú¨Â∫îËØ•Êé•Êî∂ÁöÑÊï∞ÊçÆ‰∏¢ÂºÉÔºåÂ∞±Âèà‰ºöËß¶ÂèëÈáçÂèëÊú∫Âà∂Ôºå‰ªéËÄåÂØºËá¥ÁΩëÁªúÊµÅÈáèÁöÑÊó†Á´ØÊµ™Ë¥π„ÄÇ ÂÖ∑‰ΩìÂÆûÁé∞Êé•Êî∂Á´Ø‰∏ªÂä®ÂêëÂèëÈÄÅÁ´Ø‰∏ªÊú∫ÈÄöÁü•Ëá™Â∑±ÂèØ‰ª•Êé•ÂèóÊï∞ÊçÆÁöÑÂ§ßÂ∞èÔºå‰∫éÊòØÂèëÈÄÅÁ´Ø‰ºöÂèëÈÄÅ‰∏çË∂ÖËøáËøô‰∏™ÈôêÂ∫¶ÁöÑÊï∞ÊçÆ„ÄÇËøô‰∏™Â§ßÂ∞èÈôêÂ∫¶Â∞±ÊòØÊé•Êî∂Á™óÂè£Â§ßÂ∞èÔºåÊâÄ‰ª•ÊµÅÊéßÂà∂Â∞±ÊòØÂà©Áî®ÊªëÂä®Á™óÂè£ÂçèËÆÆÂÆûÁé∞ÁöÑ„ÄÇ Ê≠ªÈîÅÈóÆÈ¢òÂΩìÂèëÈÄÅËÄÖÊî∂Âà∞‰∫Ü‰∏Ä‰∏™Á™óÂè£‰∏∫0ÁöÑÂ∫îÁ≠îÔºåÂèëÈÄÅËÄÖ‰æøÂÅúÊ≠¢ÂèëÈÄÅÔºåÁ≠âÂæÖÊé•Êî∂ËÄÖÁöÑ‰∏ã‰∏Ä‰∏™Â∫îÁ≠î„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúËøô‰∏™Á™óÂè£‰∏ç‰∏∫0ÁöÑÂ∫îÁ≠îÂú®‰º†ËæìËøáÁ®ã‰∏¢Â§±ÔºåÂèëÈÄÅËÄÖ‰∏ÄÁõ¥Á≠âÂæÖ‰∏ãÂéªÔºåËÄåÊé•Êî∂ËÄÖ‰ª•‰∏∫ÂèëÈÄÅËÄÖÂ∑≤ÁªèÊî∂Âà∞ËØ•Â∫îÁ≠îÔºåÁ≠âÂæÖÊé•Êî∂Êñ∞Êï∞ÊçÆÔºåËøôÊ†∑ÂèåÊñπÂ∞±Áõ∏‰∫íÁ≠âÂæÖÔºå‰ªéËÄå‰∫ßÁîüÊ≠ªÈîÅ„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçÊ≠§Á±ªÈóÆÈ¢òÁöÑÂèëÁîüÔºåÂèëÈÄÅÁ´Ø‰∏ªÊú∫‰ºöÊó∂‰∏çÊó∂ÂèëÈÄÅ‰∏Ä‰∏™Âè´ÂÅöÁ™óÂè£Êé¢ÊµãÁöÑÊï∞ÊçÆÊÆµÔºåÊ≠§Êï∞ÊçÆÊÆµ‰ªÖÂê´‰∏Ä‰∏™‰ª•Ëé∑ÂèñÊúÄÊñ∞Á™óÂè£ÁöÑÂ§ßÂ∞è‰ø°ÊÅØ„ÄÇ Êã•Â°ûÊéßÂà∂Êã•Â°ûÊéßÂà∂ÂíåÊµÅÊéßÂà∂ÁöÑÂå∫Âà´Ôºü Êã•Â°ûÊéßÂà∂ÔºöÊã•Â°ûÊéßÂà∂ÊòØ‰ΩúÁî®‰∫éÁΩëÁªúÁöÑÔºåÂÆÉÊòØÈò≤Ê≠¢ËøáÂ§öÁöÑÊï∞ÊçÆÊ≥®ÂÖ•Âà∞ÁΩëÁªú‰∏≠ÔºåÈÅøÂÖçÂá∫Áé∞ÁΩëÁªúË¥üËΩΩËøáÂ§ßÁöÑÊÉÖÂÜµ ÊµÅÊéßÂà∂ÔºöÊµÅÊéßÂà∂ÊòØ‰ΩúÁî®‰∫éÊé•Êî∂ËÄÖÁöÑÔºåÂÆÉÊòØÊéßÂà∂ÂèëÈÄÅËÄÖÁöÑÂèëÈÄÅÈÄüÂ∫¶‰ªéËÄå‰ΩøÊé•Êî∂ËÄÖÊù•ÂæóÂèäÊé•Êî∂ Êã•Â°ûÊÉÖÂÜµËßÇÂØüÊã•Â°ûÁöÑÊñπÂºèÊúâ‰∏§ÁßçÔºö‰∏ÄÊòØË∂ÖÊó∂Ôºå‰∫åÊòØËøûÁª≠Êé•Êî∂Âà∞3‰∏™ÈáçÂ§çACK„ÄÇ PSÔºö‰∏∫‰ªÄ‰πàÊòØ3‰∏™ËøûÁª≠ÁöÑACKÔºöÁî±‰∫éÊàë‰ª¨‰∏çÁü•ÈÅì‰∏Ä‰∏™ÈáçÂ§çÁöÑACKÊòØÁî±‰∏Ä‰∏™‰∏¢Â§±ÁöÑÊä•ÊñáÂºïËµ∑ÁöÑÔºåËøòÊòØÁî±‰∫é‰ªÖ‰ªÖÂá∫Áé∞‰∫ÜÂá†‰∏™Êä•ÊñáÊÆµÁöÑÈáçÊñ∞ÊéíÂ∫èÂºïËµ∑ÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨Á≠âÂæÖÂ∞ëÈáèÁöÑÈáçÂ§çÁöÑACKÂà∞Êù•„ÄÇÂõ†‰∏∫Ëã•Âè™ÊòØ‰∏Ä‰∫õÊä•ÊñáÊÆµÁöÑÈáçÊñ∞ÊéíÂ∫èÂºïËµ∑ÁöÑÔºå‰∏ÄËà¨Âú®ÈáçÊñ∞ÊéíÂ∫èÊä•ÊñáÊÆµÂÆåÊàêÂπ∂‰∫ßÁîü‰∏Ä‰∏™Êñ∞ÁöÑACK‰πãÂâçÂè™ÂèØËÉΩ‰∫ßÁîü1-2‰∏™ÈáçÂ§çÁöÑACK„ÄÇ Êã•Â°ûÁöÑ‰∏çÂêåÂ§ÑÁêÜÊñπÂºèÂØπ‰∫éÁî±‰∫éË∂ÖÊó∂Èáç‰º†ËÆ§‰∏∫ÁöÑÊã•Â°ûÔºåÊàë‰ª¨‰∏ÄËà¨ÊòØÈáç‰º†Êä•ÊñáÊÆµÔºåÁÑ∂ÂêéËøõÂÖ•ÊÖ¢ÂêØÂä®ÁÆóÊ≥ï(‰∏ãÊñπ)ÔºõÂØπ‰∫éÁî±‰∫éÊé•Êî∂Âà∞3‰∏™ÈáçÂ§çÁöÑACKËÆ§‰∏∫ÁöÑÊã•Â°ûÔºåÊàë‰ª¨‰∏ÄËà¨ÊòØÁ´ãÂç≥Èáç‰º†Êä•ÊñáÊÆµÔºåÁÑ∂ÂêéËøõÂÖ•Êã•Â°ûÈÅøÂÖçÁÆóÊ≥ï(‰∏ãÊñπ)„ÄÇËøôÊ†∑Â§ÑÁêÜÁöÑÂéüÂõ†ÊòØÂõ†‰∏∫ÂΩìÂõ†‰∏∫ÂÆöÊó∂Âô®Ë∂ÖÊó∂ÔºåÊ≠§Êó∂ÁΩëÁªú‰∏≠ÂèØËÉΩÂ∑≤ÁªèÂæàÊã•Â°ûÔºåÊï∞ÊçÆÁ°ÆËÆ§ÁöÑACKÂ∑≤ÁªèÊó†Ê≥ïÂèëÈÄÅÂõûÊù•ÔºåÂõ†Ê≠§Êàë‰ª¨Á´ãÂç≥ÂáèÂ∞ëÊ≥®ÂÖ•ÁΩëÁªú‰∏≠ÁöÑÊï∞ÊçÆÔºå‰ΩøÁî®ÊÖ¢ÂêØÂä®Êã•Â°ûÁ™óÂè£ÂáèÂ∞è‰∏∫1ÔºõËÄåÂØπ‰∫éÊî∂Âà∞,3‰∏™ÈáçÂ§çÁöÑACKËØ¥ÊòéËøòÊúâÂÖ∂‰ªñÁöÑÊä•ÊñáÊÆµÂà∞Ëææ‰∫ÜÁõÆÁöÑÂú∞(Âõ†‰∏∫Êé•Êî∂ÊñπÂè™ÊúâÂú®Êî∂Âà∞Â§±Â∫èÁöÑÊä•ÊñáÊÆµÊó∂Êâç‰ºö‰∫ßÁîüÈáçÂ§çÁöÑACKËÄå‰∏îËøòÊúâÈáçÂ§çÁöÑACKÂèëÈÄÅÂõûÊù•)Ôºå‰πüÂç≥Êî∂Âèë‰∏§Á´ØËøòÊúâÊï∞ÊçÆÁöÑÊµÅÂä®ÔºåÂõ†Ê≠§Êàë‰ª¨‰∏çÂøÖ‰ΩøÁî®ÊÖ¢ÂêØÂä®Á™ÅÁÑ∂ÂáèÂ∞ëÊ≥®ÂÖ•ÁΩëÁªúÁöÑÊï∞ÊçÆ„ÄÇ ÊÖ¢ÂêØÂä®ÁÆóÊ≥ï Âíå Êã•Â°ûÈÅøÂÖçÁÆóÊ≥ïÂèëÈÄÅÊñπÁª¥Êä§‰∏Ä‰∏™ÂèëÈÄÅÁ™óÂè£ÔºåÂèëÈÄÅÁ™óÂè£ÁöÑÂ§ßÂ∞èÂèñÂÜ≥‰∫éÁΩëÁªúÁöÑÊã•Â°ûÊÉÖÂÜµ(Êã•Â°ûÁ™óÂè£)ÔºåÂèëÈÄÅÁ™óÂè£ÊòØÂä®ÊÄÅÂèòÂåñÁöÑ„ÄÇÂèëÈÄÅÊñπËøòÁª¥Êä§‰∏Ä‰∏™ÊÖ¢ÂêØÂä®ÈòàÂÄº„ÄÇ ÂèëÈÄÅÁ™óÂè£ &lt; ÊÖ¢ÂêØÂä®ÈòàÂÄºÔºö‰ΩøÁî®ÊÖ¢ÂêØÂä®ÁÆóÊ≥ï(ÊåáÊï∞Á∫ß) ÂèëÈÄÅÁ™óÂè£ &gt; ÊÖ¢ÂêØÂä®ÈòàÂÄºÔºö‰ΩøÁî®Êã•Â°ûÈÅøÂÖçÁÆóÊ≥ï(Á∫øÊÄßÂä†‰∏Ä) ÂèëÈÄÅÁ™óÂè£ = ÊÖ¢ÂêØÂä®ÈòàÂÄºÔºö‰ΩøÁî®ÊÖ¢ÂºÄÂßãÁÆóÊ≥ïÊàñÊã•Â°ûÈÅøÂÖçÁÆóÊ≥ï ÁÆóÊ≥ïÁöÑÂÖ∑‰ΩìËøáÁ®ãÔºö ÈÄö‰ø°ÂºÄÂßãÊó∂Ôºå‰ΩøÁî®ÊÖ¢ÂêØÂä®ÁÆóÊ≥ïÔºåÂèëÈÄÅÊñπÁöÑÂèëÈÄÅÁ™óÂè£ËÆæ‰∏∫1ÔºåÂπ∂ÂèëÈÄÅÁ¨¨‰∏Ä‰∏™ÂàÜÁªÑM1Ôºõ Êé•Êî∂ÊñπÊî∂Âà∞M1ÂêéÔºåËøîÂõûÁ°ÆËÆ§Â∫îÁ≠îÔºåÊ≠§Êó∂ÂèëÈÄÅÊñπÂèëÈÄÅÁ™óÂè£Êâ©Â§ß‰∏§ÂÄçÔºåÂπ∂ÂèëÈÄÅM2„ÄÅM3ÔºõÔºàÂç≥ÔºåÂèëÈÄÅÊñπÊØèÊ¨°Êî∂Âà∞Á°ÆËÆ§Â∫îÁ≠îÂêéÔºåÈÉΩÂ∞ÜÂèëÈÄÅÁ™óÂè£ËÆæ‰∏∫ÂΩìÂâçÂÄºÁöÑ‰∏§ÂÄçÔºâ Ëã•ÂèëÈÄÅÁ™óÂè£&gt;ÊÖ¢ÂêØÂä®ÈòàÂÄºÔºåÂàô‰ΩøÁî®Êã•Â°ûÈÅøÂÖçÁÆóÊ≥ïÔºåÊØèÊ¨°Êî∂Âà∞Á°ÆËÆ§Â∫îÁ≠îÂêéÈÉΩÂ∞ÜÂèëÈÄÅÁ™óÂè£+1Ôºõ Ëã•ÂèëÈÄÅÊñπÂá∫Áé∞‰∫ÜË∂ÖÊó∂Èáç‰º†ÔºåÂàôË°®ÊòéÁΩëÁªúÂá∫Áé∞Êã•Â°ûÔºåÊ≠§Êó∂Ôºö ÊÖ¢ÂêØÂä®ÈòàÂÄºËÆæ‰∏∫ÂΩìÂâçÂèëÈÄÅÁ™óÂè£ÁöÑ‰∏ÄÂçäÔºõ ÂèëÈÄÅÁ™óÂè£ËÆæ‰∏∫1Ôºõ ÂêØÁî®Êã•Â°ûÈÅøÂÖçÁÆóÊ≥ïÔºõ PSÔºöÂèëÈÄÅË∂ÖÊó∂Èáç‰º†Êó∂ÔºåÂèëÈÄÅÁ™óÂè£ÊúâÂèØËÉΩÂ∑≤ÁªèË∂ÖËøá‰∫ÜÊÖ¢ÂºÄÂßãÈó®ÈôêÔºå‰πüÊúâÂèØËÉΩËøòÊ≤°Ë∂ÖËøáÔºõÊ≠§Êó∂‰∏çÁÆ°‰ΩïÁßçÊÉÖÂÜµÔºåÈÉΩ‰∏ÄÂæãÂêØÁî®Êã•Â°ûÈÅøÂÖçÁÆóÊ≥ïÔºåÂπ∂ÊâßË°å‰∏äËø∞‰∏âÊ≠•Êìç‰ΩúÔºÅ ÊÖ¢ÂºÄÂßãÁÆóÊ≥ïÁöÑ‰ΩúÁî®ÔºöÊÖ¢ÂºÄÂßãÁÆóÊ≥ïÂ∞ÜÂèëÈÄÅÁ™óÂè£‰ªéÂ∞èÊâ©Â§ßÔºåËÄå‰∏îÊåâÊåáÊï∞Á∫ßÊâ©Â§ßÔºå‰ªéËÄåÈÅøÂÖç‰∏ÄÂºÄÂßãÂ∞±ÂæÄÁΩëÁªú‰∏≠Ê≥®ÂÖ•ËøáÂ§öÁöÑÂàÜÁªÑ‰ªéËÄåÂØºËá¥Êã•Â°ûÔºõÂÆÉÂ∞ÜÁ™óÂè£ÊÖ¢ÊÖ¢Êâ©Â§ßÁöÑËøáÁ®ãÂÖ∂ÂÆû‰πüÂú®Êé¢ÊµãÁΩëÁªúÊã•Â°ûÊÉÖÂÜµÁöÑËøáÁ®ãÔºåÂΩìÂèëÁé∞Âá∫Áé∞Êã•Â°ûÊó∂ÔºåÂèäÊó∂Èôç‰ΩéÂèëÈÄÅÈÄüÂ∫¶Ôºå‰ªéËÄåÂáèÁºìÁΩëÁªúÊã•Â°û„ÄÇ Êã•Â°ûÈÅøÂÖçÁÆóÊ≥ïÁöÑ‰ΩúÁî®ÔºöÊã•Â°ûÈÅøÂÖçÁÆóÊ≥ï‰ΩøÂèëÈÄÅÁ™óÂè£‰ª•Á∫øÊÄßÊñπÂºèÂ¢ûÈïøÔºåËÄåÈùûÊåáÊï∞Á∫ßÂ¢ûÈïøÔºå‰ªéËÄå‰ΩøÁΩëÁªúÊõ¥Âä†‰∏çÂÆπÊòìÂèëÁîüÊã•Â°û„ÄÇ Âø´Èáç‰º†ÂíåÂø´ÊÅ¢Â§çÂΩìÂõ†Êî∂Âà∞‰∏â‰∏™Âèä‰∏â‰∏™‰ª•‰∏äÁöÑÈáçÂ§çACKÊó∂Ôºå‰ΩøÁî®Â¶Ç‰∏ãÊã•Â°ûÊéßÂà∂ÊñπÊ≥ïÔºö Êî∂Âà∞3‰∏™ÈáçÂ§çÁöÑACKÔºåÂ∞ÜÊÖ¢ÂêØÂä®ÈòàÂÄºËÆæ‰∏∫ÂΩìÂâçÊã•Â°ûÁ™óÂè£Â§ßÂ∞èÁöÑ‰∏ÄÂçä Ê≠§Êó∂Á´ãÂç≥Èáç‰º†‰∏¢Â§±ÁöÑÊä•Êñá‰∏çÁî®Á≠âÂà∞ÂÆöÊó∂Âô®Ë∂ÖÊó∂(Ë∂ÖÊó∂Èáç‰º†)ÔºåÊ≠§‰∏∫Âø´Èáç‰º†„ÄÇ Ê≠§ÂêéÂºÄÂßãÊâßË°åÊã•Â°ûÈÅøÂÖçËÄå‰∏çÊòØÊÖ¢ÂêØÂä®ÔºåÊ≠§‰∏∫Âø´ÊÅ¢Â§ç„ÄÇ TCPÁöÑÂ∫îÁî®ÂΩìÂØπÁΩëÁªúÈÄöËÆØË¥®ÈáèÊúâË¶ÅÊ±ÇÁöÑÊó∂ÂÄôÔºåÊØîÂ¶ÇÔºöÊï¥‰∏™Êï∞ÊçÆË¶ÅÂáÜÁ°ÆÊó†ËØØÁöÑ‰º†ÈÄíÁªôÂØπÊñπÔºåËøôÂæÄÂæÄÁî®‰∫é‰∏Ä‰∫õË¶ÅÊ±ÇÂèØÈù†ÁöÑÂ∫îÁî®„ÄÇÂ∏∏ËßÅÁöÑ‰ΩøÁî®UDPÂçèËÆÆÁöÑÂ∫îÁî®Â¶Ç‰∏ãÔºö HTTP(Ë∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆ) FTP(Êñá‰ª∂‰º†ËæìÂçèËÆÆ) POP„ÄÅSMTP(ÈÇÆ‰ª∂‰º†ËæìÂçèËÆÆ) Telnet„ÄÅTelnet(ËøúÁ®ãËøûÊé•ÂçèËÆÆ) QQÊñá‰ª∂‰º†Ëæì ÂèÇËÄÉ ËÆ°ÁÆóÊú∫ÁΩëÁªú‰º†ËæìÂ±ÇÁü•ËØÜÁÇπÂÖ®Ë¶ÜÁõñ TCPÂçèËÆÆËØ¶Ëß£‚ÄîÂ≠¶‰π†Á¨îËÆ∞ TCPÂçèËÆÆ]]></content>
      <categories>
        <category>ËÆ°ÁÆóÊú∫ÁΩëÁªú</category>
      </categories>
      <tags>
        <tag>TCP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UDPÂçèËÆÆ]]></title>
    <url>%2F2018%2F05%2F17%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%2FUDP%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöUDP‰Ωú‰∏∫‰º†ËæìÂ±ÇÁöÑ‰∏ÄÂ§ßÂçèËÆÆÔºåËôΩÁÑ∂Ê≤°ÊúâTCPÂèØÈù†Ôºå‰ΩÜÊòØÂç¥ËÉúÂú®ÁÆÄÂçï„ÄÇ UDPËÆ§ËØÜUDP(Áî®Êà∑Êï∞ÊçÆÊä•ÂçèËÆÆ) ÊòØ‰∏ÄÁßçÁÆÄÂçïÁöÑÈù¢ÂêëÊï∞ÊçÆÊä•„ÄÅÊó†ËøûÊé•„ÄÅ‰º†ËæìÂ±ÇÂçèËÆÆÔºåÂπ∂‰∏î‰øùÁïô‰∫Ü‰ø°ÊÅØËæπÁïå„ÄÇUDP‰∏çÊèê‰æõÈîôËØØÊ†°Ê≠£Ôºå‰∏ç‰øùËØÅÊúâÂ∫èÔºåÊó†Ê≥ïÂéªÈáçÂ§çÔºåÊ≤°ÊúâÊµÅÈáèÊéßÂà∂ÂíåÊã•Â°ûÊéßÂà∂Ôºå‰∏çËÉΩ‰øùËØÅÊï∞ÊçÆ‰∏ÄÂÆöÂà∞ËææÁõÆÁöÑÂú∞Ôºå‰ΩÜÊòØÂèØ‰ª•ÈÄöËøáÊ†°È™åÂíåÊèê‰æõÈîôËØØ‰æ¶Êµã„ÄÇUDPÊèê‰æõÁöÑÁöÑÊòØ‰∏çÂèØÈù†‰º†ËæìÔºåÂõ†Ê≠§Ë¶ÅÊúâÂ∫îÁî®Â±ÇÊù•Êèê‰æõËøô‰∫õÂäüËÉΩ„ÄÇ UDPÁâπÁÇπ UDPÂè™Âú®IPÊï∞ÊçÆÊä•ÊúçÂä°ÁöÑÂü∫Á°Ä‰∏äÂ¢ûÂä†‰∫ÜÂ∞ëÈáèÁöÑÂäüËÉΩÔºöÂà©Áî®Á´ØÂè£Âè∑ÊòØÂÆûÁé∞ÂàÜÁî®„ÄÅÂØπÊï¥‰∏™Êä•ÊñáÁöÑÂ∑ÆÈîôÊ£ÄÊµã„ÄÇ UDPÊòØÊó†ËøûÊé•ÁöÑÔºåÈÄö‰ø°Ââç‰∏çÈúÄË¶ÅÂª∫Á´ãËøûÊé•ÔºåÈÄö‰ø°ÁªìÊùü‰πüÊó†ÈúÄÈáäÊîæËøûÊé•„ÄÇ UDPÊòØ‰∏çÂèØÈù†ÁöÑ ÂÆÉÊòØÂ∞ΩÂäõËÄå‰∏∫‰∫§‰ªòÔºå‰∏çËÉΩÁ°Æ‰øùÊØè‰∏Ä‰∏™Êï∞ÊçÆÊä•ÈÉΩÈÄÅËææ„ÄÇ UDPÊòØÈù¢ÂêëÊä•ÊñáÁöÑÔºåÈù¢ÂêëÊä•ÊñáÂ∞±ÊòØÊåáÔºöUDPÊï∞ÊçÆ‰º†ËæìÁöÑÂçï‰ΩçÊòØÊä•ÊñáÔºå‰∏î‰∏ç‰ºöÂØπÊï∞ÊçÆ‰Ωú‰ªª‰ΩïÊãÜÂàÜÂíåÊãºÊé• Êìç‰Ωú„ÄÇÂú®ÂèëÈÄÅÁ´ØÔºåÂ∫îÁî®Á®ãÂ∫èÁªô‰º†ËæìÂ±ÇÁöÑUDP‰ªÄ‰πàÊ†∑ÁöÑÊï∞ÊçÆÔºåUDP‰∏ç‰ºöÂØπÊï∞ÊçÆËøõË°åÂàáÂàÜÔºåÂè™Â¢ûÂä†‰∏Ä‰∏™UDPÂ§¥Âπ∂‰∫§ÁªôÁΩëÁªúÂ±Ç„ÄÇÂú®Êé•Êî∂Á´ØÔºåUDPÊî∂Âà∞ÁΩëÁªúÂ±ÇÁöÑÊï∞ÊçÆÊä•ÂêéÔºåÂéªÈô§IPÊï∞ÊçÆÊä•Â§¥ÈÉ®ÂêéÈÅç‰∫§ÁªôÂ∫îÁî®Â±ÇÔºå‰∏ç‰ºö‰Ωú‰ªª‰ΩïÊãºÊé•Êìç‰Ωú„ÄÇ Áõ∏ÊØî‰∫éTCPÔºåUDPÊ≤°ÊúâÊã•Â°ûÊéßÂà∂ÔºåUDPÂßãÁªà‰ª•ÊÅíÂÆöÁöÑÈÄüÁéáÂèëÈÄÅÊï∞ÊçÆÔºåÂπ∂‰∏ç‰ºöÊ†πÊçÆÁΩëÁªúÊã•Â°ûÊÉÖÂÜµÂØπÂèëÈÄÅÈÄüÁéá‰ΩúË∞ÉÊï¥„ÄÇËøôÁßçÊñπÂºèÊúâÂà©ÊúâÂºä„ÄÇÂºäÁ´ØÔºöÁΩëÁªúÊã•Â°ûÊó∂Êúâ‰∫õÊä•ÊñáÂèØËÉΩ‰ºö‰∏¢Â§±ÔºåÂõ†Ê≠§UDP‰∏çÂèØÈù†„ÄÇ‰ºòÁÇπÔºöÊúâ‰∫õ‰ΩøÁî®Âú∫ÊôØÂÖÅËÆ∏Êä•Êñá‰∏¢Â§±ÔºåÂ¶ÇÔºöÁõ¥Êí≠„ÄÅËØ≠Èü≥ÈÄöËØùÔºå‰ΩÜÂØπÂÆûÊó∂ÊÄßË¶ÅÊ±ÇÂæàÈ´òÔºåÊ≠§Êó∂UDPËøòÊòØÂæàÊúâÁî®Ê≠¶‰πãÂú∞ÁöÑ„ÄÇ UDPÊîØÊåÅ‰∏ÄÂØπ‰∏Ä„ÄÅ‰∏ÄÂØπÂ§ö„ÄÅÂ§öÂØπÂ§ö„ÄÅÂ§öÂØπ‰∏ÄÈÄö‰ø°ÔºõËÄåTCPÂè™ÊîØÊåÅ‰∏ÄÂØπ‰∏ÄÈÄö‰ø°„ÄÇ UDPÈ¶ñÈÉ®ÂºÄÈîÄÂ∞èÔºåÂè™Êúâ8Â≠óËäÇ„ÄÇËÄåTCPÂ§¥ÈÉ®Ëá≥Â∞ëÁî±20Â≠óËäÇÔºåÁõ∏ÊØî‰∫éTCPË¶ÅÈ´òÊïàÂæàÂ§ö„ÄÇ UDPÊï∞ÊçÆÂåÖÈ¶ñÈÉ® UDPÊï∞ÊçÆÂåÖÈ¶ñÈÉ®Ëß£Êûê 16‰ΩçÊ∫êÁ´ØÂè£Âè∑ÔºöÂèëÈÄÅÁ´ØÂ∫îÁî®Á®ãÂ∫è‰ΩøÁî®ÁöÑÁ´ØÂè£Âè∑ÔºåÁî®‰∫éÂå∫ÂàÜÊï∞ÊçÆÊä•Êù•Ëá™Âì™‰∏™ËøõÁ®ãÔºåÂ§öË∑ØÂ§çÁî®‰∏Ä‰∏™‰º†ËæìÂ±ÇÔºàÂ§çÁî®ÔºöÂú®ÂèëÈÄÅÁ´ØÔºåÂ§ö‰∏™Â∫îÁî®ËøõÁ®ãÂÖ¨Áî®‰∏Ä‰∏™‰º†ËæìÂ±ÇÔºâ„ÄÇ 16‰ΩçÁõÆÁöÑÁ´ØÂè£Âè∑ÔºöÊï∞ÊçÆÈÄÅÂæÄÊé•Êî∂Á´ØÂì™‰∏™Â∫îÁî®Á®ãÂ∫èÔºåÂà©Áî®Á´ØÂè£Âè∑ÂÆûÁé∞Â§öË∑ØÂàÜÁî®ÔºàÂàÜÁî®ÔºöÂú®Êé•Êî∂Á´ØÔºå‰º†ËæìÂ±Ç‰ºöÊ†πÊçÆÁ´ØÂè£Âè∑Â∞ÜÊï∞ÊçÆÂàÜÊ¥æÁªô‰∏çÂêåÁöÑÂ∫îÁî®ËøõÁ®ãÔºâ„ÄÇ 16‰ΩçUDPÈïøÂ∫¶ÔºöUDPÊï∞ÊçÆÊä•È¶ñÈÉ®ÂíåUDPÊï∞ÊçÆÊä•Êï∞ÊçÆÈÉ®ÂàÜÊÄªÂ≠óËäÇÊï∞ÔºåÊúÄÂ∞èÂÄº‰∏∫8Â≠óËäÇ(‰ªÖÊúâÈ¶ñÈÉ®)ÔºåÊúÄÂ§ßÂÄº‰∏∫65535Â≠óËäÇ„ÄÇ 16‰ΩçUDPÊ£ÄÈ™åÂíåÔºöUDPÁöÑÊ†°È™åÂíåÊòØÂèØÈÄâÁöÑÔºåTCPÊòØÂøÖÈúÄÁöÑ„ÄÇUDPÁöÑÊ†°È™åÂíåË¶ÜÁõñÈ¶ñÈÉ®ÂèäÊï∞ÊçÆÈÉ®ÂàÜ„ÄÇÂú®‰∏ã‰∏ÄËäÇ„ÄÇ Êï∞ÊçÆÔºöË¶ÅÂèëÈÄÅÁöÑÊï∞ÊçÆÔºåÂèØ‰ª•‰∏∫Á©∫(0Â≠óËäÇ)„ÄÇ UDPÊ£ÄÈ™åÂíåUDPÊ†°È™åÂíåÁöÑÂÜÖÂÆπË∂ÖÂá∫‰∫ÜUDPÊï∞ÊçÆÊä•ÊñáÊú¨Ë∫´ÁöÑËåÉÂõ¥ÔºåÂÆûÈôÖ‰∏äÔºåÂÆÉÁöÑÂÄºÊòØÈÄöËøáËÆ°ÁÆóUDPÊï∞ÊçÆÊä•Âèä‰∏Ä‰∏™‰º™ÂåÖÂ§¥ËÄåÂæóÂà∞ÁöÑ„ÄÇÊ†°È™åÂíåÁöÑËÆ°ÁÆóÊñπÊ≥ï‰∏éÈÄöÁî®ÁöÑ‰∏ÄÊ†∑ÔºåÈÉΩÊòØÁ¥ØÂä†Ê±ÇÂíå„ÄÇÂÆÉÁöÑÊ†°È™åÂíåÁöÑÊ£ÄÈ™åËåÉÂõ¥Â¶Ç‰∏ãÂõæÔºö ‰º™È¶ñÈÉ®Âπ∂ÈùûUDPÊï∞ÊçÆÊä•‰∏≠ÂÆûÈôÖÁöÑÊúâÊïàÊàêÂàÜ„ÄÇ‰º™È¶ñÈÉ®ÊòØ‰∏Ä‰∏™ËôöÊãüÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂÖ∂‰∏≠ÁöÑ‰ø°ÊÅØÊòØ‰ªéÊï∞ÊçÆÊä•ÊâÄÂú®IPÂàÜÁªÑÂ§¥ÁöÑÂàÜÁªÑÂ§¥‰∏≠ÊèêÂèñÁöÑÔºåÊó¢‰∏çÂêë‰∏ã‰º†ÈÄÅ‰πü‰∏çÂêë‰∏äÈÄí‰∫§ÔºåËÄå‰ªÖ‰ªÖÊòØ‰∏∫ËÆ°ÁÆóÊ†°È™åÂíå„ÄÇËøôÊ†∑ÁöÑÊ†°È™åÂíåÔºåÊó¢Ê†°È™å‰∫ÜUDPÁî®Êà∑Êï∞ÊçÆÁöÑÊ∫êÁ´ØÂè£Âè∑ÂíåÁõÆÁöÑÁ´ØÂè£Âè∑‰ª•ÂèäUDPÁî®Êà∑Êï∞ÊçÆÊä•ÁöÑÊï∞ÊçÆÈÉ®ÂàÜÔºåÂèàÊ£ÄÈ™å‰∫ÜIPÊï∞ÊçÆÊä•ÁöÑÊ∫êIPÂú∞ÂùÄÂíåÁõÆÁöÑIPÂú∞ÂùÄ„ÄÇ‰º™Êä•Â§¥‰øùËØÅUDPÊï∞ÊçÆÂçïÂÖÉÂà∞ËææÊ≠£Á°ÆÁöÑÁõÆÁöÑÂú∞ÂùÄ„ÄÇ Ê†°È™åÊñπÂºèÔºö „ÄäTCP/IP ËØ¶Ëß£„ÄãÂç∑‰∏Ä Á¨¨‰∏ÄÁâà‰∏≠Â¶Ç‰∏ãËÆ°ÁÆóÊ£ÄÈ™åÂíåÂ≠óÊÆµÁöÑÂÄºÔºö ÂèëÈÄÅÊñπËÆ°ÁÆóUDPÊ£ÄÈ™åÂíåÔºöÈ¶ñÂÖàÊääÊ£ÄÈ™åÂíåÂ≠óÊÆµÁΩÆ‰∏∫0ÔºåÊää‰∏äÂõæ‰∏≠,ÂêÑÈÉ®ÂàÜÊï∞ÊçÆ(ÂåÖÊã¨UDP‰º™È¶ñÈÉ®ÂèäÂ°´ÂÖÖÂ≠óÊÆµ)ÊåâÊØè16bitËøõË°å‰∫åËøõÂà∂ÂèçÁ†ÅÊ±ÇÂíå(Ëã•ÊúÄÈ´ò‰Ωç‰∫ßÁîüËøõ‰ΩçÂ∞±Âä†Âà∞ÊúÄ‰Ωé‰Ωç‰∏äÂéª)ÔºåÊâÄÊ±ÇÁªìÊûúÂ∞±ÊòØ16bitUDPÊ£ÄÈ™åÂíåÂ≠óÊÆµÁöÑÂÄº„ÄÇ Êé•Êî∂ÊñπËÆ°ÁÆóUDPÊ£ÄÈ™åÂíåÔºöÂØπÊî∂Âà∞ÁöÑUDPÊï∞ÊçÆÊä•(Âä†‰∏ä‰∫ÜUDPÈ¶ñÈÉ®ÂíåÂ°´ÂÖÖÂ≠óËäÇ)ÊåâÊØè16bitËøõË°å‰∫åËøõÂà∂ÂèçÁ†ÅÊ±ÇÂíå(Ëã•ÊúÄÈ´ò‰Ωç‰∫ßÁîüËøõ‰ΩçÂ∞±Âä†Âà∞ÊúÄ‰Ωé‰Ωç‰∏äÂéª)ÔºåËã•ÁªìÊûú‰∏∫ÂÖ®1ÔºåÂàôUDPÊï∞ÊçÆÊä•Âú®‰º†ËæìËøáÁ®ã‰∏≠Ê≤°ÊúâÂá∫Áé∞Â∑ÆÈîôÔºåÂê¶ÂàôÊï∞ÊçÆÊä•ÊúâÂ∑ÆÈîô„ÄÇ „ÄäTCP/IP ËØ¶Ëß£„ÄãÂç∑‰∏Ä Á¨¨‰∫åÁâà‰∏≠Â¶Ç‰∏ãËÆ°ÁÆóÊ£ÄÈ™åÂíåÂ≠óÊÆµÁöÑÂÄºÔºö ÂèëÈÄÅÊñπËÆ°ÁÆóUDPÊ£ÄÈ™åÂíåÔºöÈ¶ñÂÖàÊääÊ£ÄÈ™åÂíåÂ≠óÊÆµÁΩÆ‰∏∫0ÔºåÊää‰∏äÂõæ‰∏≠,ÂêÑÈÉ®ÂàÜÊï∞ÊçÆ(ÂåÖÊã¨UDP‰º™È¶ñÈÉ®ÂèäÂ°´ÂÖÖÂ≠óÊÆµ)ÊåâÊØè16bitËøõË°å‰∫åËøõÂà∂ÂèçÁ†ÅÊ±ÇÂíå(Ëã•ÊúÄÈ´ò‰Ωç‰∫ßÁîüËøõ‰ΩçÂ∞±Âä†Âà∞ÊúÄ‰Ωé‰Ωç‰∏äÂéª)ÔºåÊúÄÂêéÁªìÊûúÂÜçÊåâ‰ΩçÂèñÂèçÔºåÊâÄÂæóÁªìÊûúÂ∞±ÊòØ16bitUDPÊ£ÄÈ™åÂíåÂ≠óÊÆµÁöÑÂÄº„ÄÇ Êé•Êî∂ÊñπËÆ°ÁÆóUDPÊ£ÄÈ™åÂíåÔºöÂØπÊî∂Âà∞ÁöÑUDPÊï∞ÊçÆÊä•(Âä†‰∏ä‰∫ÜUDPÈ¶ñÈÉ®ÂíåÂ°´ÂÖÖÂ≠óËäÇ)ÊåâÊØè16bitËøõË°å‰∫åËøõÂà∂ÂèçÁ†ÅÊ±ÇÂíå(Ëã•ÊúÄÈ´ò‰Ωç‰∫ßÁîüËøõ‰ΩçÂ∞±Âä†Âà∞ÊúÄ‰Ωé‰Ωç‰∏äÂéª)ÔºåÂÜçÊåâ‰ΩçÂèñÂèçÔºåËã•ÁªìÊûú‰∏∫ÂÖ®0ÔºåÂàôUDPÊï∞ÊçÆÊä•Âú®‰º†ËæìËøáÁ®ã‰∏≠Ê≤°ÊúâÂá∫Áé∞Â∑ÆÈîôÔºåÂê¶ÂàôÊï∞ÊçÆÊä•ÊúâÂ∑ÆÈîô„ÄÇÂõ†‰∏∫Ê£ÄÈ™åÂíåÁöÑÂÄº‰ªé‰∏ç‰∏∫0xFFFF UDPÊúçÂä°Âô®‰∏âÁ±ªÂú∞ÂùÄÁªëÂÆö Êú¨Âú∞Âú∞ÂùÄ ËøúÁ´ØÂú∞ÂùÄ ÊèèËø∞ LocalIP:Lport ForeignIP:Fport Âè™Èôê‰∫é‰∏Ä‰∏™ÂÆ¢Êà∑ LocalIP:Lport *:* Âè™Èôê‰∫é‰∏Ä‰∏™Êú¨Âú∞IPÂíåÁ´ØÂè£ÁöÑÊï∞ÊçÆÂåÖ *:port *:* Êé•Êî∂ÂèëÈÄÅÂà∞LportÁöÑÊâÄÊúâÊï∞ÊçÆÂåÖ Á¨¨‰∏ÄË°å‰∏≠ÊúçÂä°Âô®ÈôêÂÆö‰∫ÜÂè™‰ªéÊú¨Âú∞LocalËøô‰∏™IPÂú∞ÂùÄÁöÑLportÁ´ØÂè£Êé•Êî∂Êï∞ÊçÆÊä•ÔºåËÄå‰∏îÂè™Êé•Êî∂Êù•Ëá™IP‰∏∫Foreign‰∏îÁ´ØÂè£‰∏∫FportÂèëÊù•ÁöÑÊï∞ÊçÆ„ÄÇ Á¨¨‰∫åË°å‰∏≠ÊúçÂä°Âô®ÈôêÂÆö‰∫ÜÂè™‰ªéÊú¨Âú∞LocalIPËøô‰∏™IPÂú∞ÂùÄÁöÑLportÁ´ØÂè£Êé•Êî∂Êï∞ÊçÆÊä•Ôºå‰ΩÜÂèØ‰ª•Êé•Êî∂‰ªª‰Ωï‰∏ªÊú∫ÂèëÈÄÅÁöÑÊï∞ÊçÆ„ÄÇ Á¨¨‰∏âË°å‰∏≠ÊúçÂä°Âô®Âè™ÈôêÂÆö‰∫ÜÊé•Êî∂Êï∞ÊçÆÁöÑÁ´ØÂè£Âè∑ÔºåÂõ†Ê≠§‰ªª‰Ωï‰∏Ä‰∏™Êú¨Âú∞Êé•Âè£IPÈÉΩÂèØ‰ª•Êé•Êî∂ÂÆÉÔºåËÄå‰∏îÊï∞ÊçÆÂèØ‰ª•Êù•Ëá™‰ªª‰Ωï‰∏ªÊú∫ÂèëÈÄÅÁöÑÊï∞ÊçÆ„ÄÇ UDPÁöÑÂ∫îÁî®ÂΩìÂØπÁΩëÁªúÈÄöËÆØË¥®ÈáèË¶ÅÊ±Ç‰∏çÈ´òÁöÑÊó∂ÂÄôÔºåË¶ÅÊ±ÇÁΩëÁªúÈÄöËÆØÈÄüÂ∫¶ËÉΩÂ∞ΩÈáèÁöÑÂø´ÔºåËøôÊó∂Â∞±ÂèØ‰ª•‰ΩøÁî®UDP„ÄÇÂ∏∏ËßÅÁöÑ‰ΩøÁî®UDPÂçèËÆÆÁöÑÂ∫îÁî®Â¶Ç‰∏ãÔºö QQËØ≠Ë®ÄÂíåËßÜÈ¢ë DNS(ÂüüÂêçÊúçÂä°Âô®) NFS(ÁΩëÁªúÊñá‰ª∂Á≥ªÁªü) TFTP(ÊôÆÈÄöÊñá‰ª∂‰º†ËæìÂçèËÆÆ) ÂèÇËÄÉ UDPÂçèËÆÆ UDPÂçèËÆÆÁöÑÂ∫îÁî®]]></content>
      <categories>
        <category>ËÆ°ÁÆóÊú∫ÁΩëÁªú</category>
      </categories>
      <tags>
        <tag>UDP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êï∞ÊçÆÂ∫ì‰∫ãÂä°]]></title>
    <url>%2F2018%2F05%2F11%2F%E6%95%B0%E6%8D%AE%E5%BA%93%2F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊï∞ÊçÆÂ∫ì‰∫ãÂä°Âú®Êï∞ÊçÆÂ∫ìÊìç‰Ωú‰∏≠ÊòØÂçÅÂàÜÈáçË¶ÅÁöÑÔºåÂõ†‰∏∫ÂÆÉË¶Å‰πàÂÖ®ÈÉ®ÊâßË°åÔºåË¶Å‰πàÂÖ®ÈÉ®ÊâßË°åÔºåËøôÊ†∑ÊâçËÉΩ‰øùËØÅÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄß‰∏é‰∏ÄËá¥ÊÄß„ÄÇ ‰ªÄ‰πàÊòØ‰∫ãÂä°ÊûÑÊàêÂçï‰∏ÄÈÄªËæëÂ∑•‰ΩúÂçïÂÖÉÁöÑÊìç‰ΩúÈõÜÂêà„ÄÇ ‰∫ãÂä°ÊòØËÆøÈóÆÂπ∂ÂèØËÉΩÊõ¥Êñ∞ÂêÑÁßçÊï∞ÊçÆÈ°πÁöÑ‰∏Ä‰∏™Á®ãÂ∫èÊâßË°åÂçïÂÖÉÔºå‰∫ãÂä°ÈÄöÂ∏∏Áî®ÂΩ¢Â¶Çbegin transaction Âíå end transactionÊù•ÁïåÂÆöÔºå‰∫ãÂä°Áî±ÂÆÉ‰ª¨‰πãÈó¥ÊâßË°åÁöÑÂÖ®‰ΩìÊìç‰ΩúÁªÑÊàê„ÄÇ ‰∏æ‰∏™‰æãÂ≠êÔºöÂ∞ÜÈí±‰ªé‰∏Ä‰∏™Ë¥¶Êà∑ËΩ¨Âà∞Âè¶‰∏Ä‰∏™Ë¥¶Êà∑Â∞±ÊòØ‰∏Ä‰∏™‰∫ãÂä°ÔºåËØ•‰∫ãÂä°ÂåÖÊã¨ÂàÜÂà´ÂØπ‰∏§‰∏™Ë¥¶Êà∑ÁöÑÊõ¥Êñ∞„ÄÇ ACIDÁâπÊÄß ÂéüÂ≠êÊÄßÔºàAtomicityÔºâÔºö‰∫ãÂä°ÊòØ‰∏Ä‰∏™‰∏çÂèØÂàÜÂâ≤ÁöÑÊìç‰ΩúÔºåË¶Å‰πàÂÖ®ÈÉΩÊ≠£Á°ÆÊâßË°åÔºåË¶Å‰πàÂÖ®ÈÉΩ‰∏çÊâßË°å„ÄÇ ‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâÔºö‰∫ãÂä°ÂºÄÂßãÂâçÂíå‰∫ãÂä°ÁªìÊùüÂêéÔºåÊï∞ÊçÆÂ∫ìÁöÑÂÆåÊï¥ÊÄßÁ∫¶ÊùüÊ≤°ÊúâË¢´Á†¥Âùè„ÄÇÊØîÂ¶Ç‰∏äÈù¢ËΩ¨Ë¥¶‰æãÂ≠ê‰∏≠Ôºå‰∏§‰∏™Ë¥¶Êà∑ÁöÑÊÄªÈáëÈ¢ùÂ∞±ÊòØÂÆåÊï¥ÊÄßÁ∫¶ÊùüÔºåÂõ†‰∏∫‰ªñ‰ª¨ÁöÑÊÄªÈáëÈ¢ùÊòØ‰∏çÂèòÁöÑ„ÄÇ‰ΩÜÊòØÂú®Âπ∂Âèë‰∫ãÂä°‰∏≠Ôºå‰∏ÄËá¥ÊÄßÂæàÂÆπÊòìË¢´Á†¥ÂùèÔºåÈúÄË¶ÅÊàë‰ª¨ÁâπÂà´Ê≥®ÊÑè„ÄÇ ÈöîÁ¶ªÊÄßÔºàIsolationÔºâÔºö‰∫ãÂä°ÁöÑÊâßË°åÊòØÁõ∏‰∫íÁã¨Á´ãÁöÑÔºåÂÆÉ‰ª¨‰∏ç‰ºöÁõ∏‰∫íÂπ≤Êâ∞Ôºå‰∏Ä‰∏™‰∫ãÂä°‰∏ç‰ºöÁúãÂà∞Âè¶‰∏Ä‰∏™Ê≠£Âú®ËøêË°åËøáÁ®ã‰∏≠ÁöÑ‰∫ãÂä°ÁöÑÊï∞ÊçÆ„ÄÇ ÊåÅ‰πÖÊÄßÔºàDurabilityÔºâÔºö‰∫ãÂä°ÁªìÊùüÂêéÔºå‰∫ãÂä°ÁöÑÁªìÊûúÂøÖÈ°ªÊòØÊ∞∏‰πÖ‰øùÂ≠òÁöÑ„ÄÇÂç≥‰ΩøÊï∞ÊçÆÂ∫ìÂèëÁîüÂ¥©Ê∫ÉÔºåÂú®Êï∞ÊçÆÂ∫ìÊÅ¢Â§çÂêé‰∫ãÂä°Êèê‰∫§ÁöÑÁªìÊûú‰ªçÁÑ∂‰∏ç‰ºö‰∏¢Â§±„ÄÇ Á°Æ‰øùÈöîÁ¶ªÊÄßÊúâÂèØËÉΩÂØπÁ≥ªÁªüÊÄßËÉΩÈÄ†ÊàêËæÉÂ§ßÁöÑ‰∏çÂà©ÂΩ±ÂìçÔºåÁî±‰∫éËøô‰∏™ÂéüÂõ†Ôºå‰∏Ä‰∫õÂ∫îÁî®Âú®ÈöîÁ¶ªÊÄß‰∏äÈááÂèñ‰∏Ä‰∫õÂ¶•Âçè„ÄÇ ‰∫ãÂä°ÁöÑÂàÜÁ±ª ÊâÅÂπ≥‰∫ãÂä°(Flat Transactions)ÔºöÂÆÉÊòØÂÆûÈôÖÁîü‰∫ßÁéØÂ¢É‰∏≠ÊúÄÂ∏∏Áî®„ÄÅÊúÄÁÆÄÂçïÁöÑ‰∫ãÂä°Á±ªÂûã„ÄÇÂú®ÊâÅÂπ≥‰∫ãÂä°‰∏≠ÔºåÊâÄÊúâÊìç‰ΩúÈÉΩÂ§Ñ‰∫éÂêå‰∏ÄÂ±ÇÊ¨°ÔºåÂÖ∂Áî±begin transactionÂºÄÂßãÔºåcommitÊàñrollbackÁªìÊùüÔºåÂÖ∂Èó¥ÁöÑÊìç‰ΩúÊòØÂéüÂ≠êÁöÑÔºåË¶Å‰πàÈÉΩÊâßË°åÔºåË¶Å‰πàÈÉΩÂõûÊªöÔºåÂõ†Ê≠§ÊâÅÂπ≥‰∫ãÂä°ÊòØÂ∫îÁî®Á®ãÂ∫èÁß∞‰∏∫ÂéüÂ≠êÊìç‰ΩúÁöÑÁöÑÂü∫Êú¨ÁªÑÊàêÊ®°Âùó„ÄÇ‰ΩÜÊòØÂèëÁîüÈîôËØØÊó∂ÈÉΩÈúÄË¶ÅÂõûÊªöÂà∞‰∫ãÂä°ÁöÑËµ∑Âßã‰ΩçÁΩÆÔºåÊó†Ê≥ïÂõûÊªöÈÉ®ÂàÜÊìç‰ΩúÔºåÊâÄ‰ª•ÂõûÊªöÂºÄÈîÄÂ§™Â§ß„ÄÇ Â∏¶Êúâ‰øùÂ≠òÁÇπÁöÑÊâÅÂπ≥‰∫ãÂä°(Flat Transactions with Savepoints)Ôºö Èô§‰∫ÜÊîØÊåÅÊâÅÂπ≥‰∫ãÂä°ÊîØÊåÅÁöÑÊìç‰ΩúÂ§ñÔºåÂÖÅËÆ∏Âú®‰∫ãÂä°ÊâßË°åËøáÁ®ã‰∏≠ÂõûÊªöÂêå‰∏Ä‰∫ãÂä°‰∏≠ËæÉÊó©ÁöÑ‰∏Ä‰∏™Áä∂ÊÄÅ„ÄÇËøôÊòØÂõ†‰∏∫Êüê‰∫õ‰∫ãÂä°ÂèØËÉΩÂú®ÊâßË°åËøáÁ®ã‰∏≠Âá∫Áé∞ÁöÑÈîôËØØÂπ∂‰∏ç‰ºöÂØºËá¥ÊâÄÊúâÁöÑÊìç‰ΩúÈÉΩÊó†ÊïàÔºåÊîæÂºÉÊï¥‰∏™‰∫ãÂä°‰∏çÂêà‰πéË¶ÅÊ±ÇÔºåÂºÄÈîÄÂ§™Â§ßÔºå‰øùÂ≠òÁÇπÁî®Êù•ÈÄöÁü•‰∫ãÂä°Á≥ªÁªüÂ∫îËØ•ËÆ∞‰Ωè‰∫ãÂä°ÂΩìÂâçÁöÑÁä∂ÊÄÅÔºå‰ª•‰æøÂΩì‰πãÂêéÂèëÁîüÈîôËØØÊó∂Ôºå‰∫ãÂä°ËÉΩÂõûÂà∞‰øùÂ≠òÁÇπÂΩìÊó∂ÁöÑÁä∂ÊÄÅ„ÄÇ Èìæ‰∫ãÂä°(Chained Transactions)ÔºöÂú®Êèê‰∫§‰∏Ä‰∏™‰∫ãÂä°Êó∂ÔºåÈáäÊîæ‰∏çÈúÄË¶ÅÁöÑÊï∞ÊçÆÂØπË±°ÔºåÂ∞ÜÂøÖË¶ÅÁöÑÂ§ÑÁêÜ‰∏ä‰∏ãÊñáÈöêÂºèÂú∞‰º†Áªô‰∏ã‰∏Ä‰∏™Ë¶ÅÂºÄÂßãÁöÑ‰∫ãÂä°ÔºåÊèê‰∫§‰∫ãÂä°Êìç‰ΩúÂíåÂºÄÂßã‰∏ã‰∏Ä‰∏™‰∫ãÂä°Êìç‰Ωú Â∞ÜÂêàÂπ∂‰∏∫‰∏Ä‰∏™ÂéüÂ≠êÊìç‰ΩúÔºåËøôÊÑèÂë≥ÁùÄ‰∏ã‰∏Ä‰∏™‰∫ãÂä°Â∞ÜÁúãÂà∞‰∏ä‰∏Ä‰∏™‰∫ãÂä°ÁöÑÁªìÊûúÔºåÂ∞±Â•ΩÂÉè‰∏Ä‰∏™‰∫ãÂä°‰∏≠ËøõË°åÁöÑ‰∏ÄÊ†∑„ÄÇÂíåÂ∏¶Êúâ‰øùÂ≠òÁÇπÁöÑÊâÅÂπ≥‰∫ãÂä°‰∏çÂêåÁöÑÊòØÔºåÂ∏¶Êúâ‰øùÂ≠òÁÇπÁöÑÊâÅÂπ≥‰∫ãÂä°ËÉΩÂõûÊªöÂà∞‰ªªÊÑèÊ≠£Á°ÆÁöÑ‰øùÂ≠òÁÇπÔºåËÄåÈìæ‰∫ãÂä°‰∏≠ÁöÑÂõûÊªö‰ªÖÈôêÂΩìÂâç‰∫ãÂä°ÔºåÂç≥Âè™ËÉΩÊÅ¢Â§çÂà∞ÊúÄËøëÁöÑ‰∏Ä‰∏™‰øùÂ≠òÁÇπ„ÄÇ ÂµåÂ•ó‰∫ãÂä°(Nested Transactions)ÔºöÁî±‰∏Ä‰∏™È°∂Â±Ç‰∫ãÂä°(top-level transaction)ÊéßÂà∂ÁùÄÂêÑ‰∏™Â±ÇÊ¨°ÁöÑ‰∫ãÂä°ÔºåÈ°∂Â±Ç‰∫ãÂä°‰πã‰∏ãÂµåÂ•óÁöÑ‰∫ãÂä°Ë¢´Áß∞‰∏∫Â≠ê‰∫ãÂä°„ÄÇÂµåÂ•ó‰∫ãÂä°ÊòØÁî±Ëã•Âπ≤‰∫ãÂä°ÁªÑÊàêÁöÑ‰∏ÄÊ£µÊ†ëÔºåÂ≠êÊ†ëÊó¢ÂèØ‰ª•ÊòØÂµåÂ•ó‰∫ãÂä°‰πüÂèØ‰ª•ÊòØÊâÅÂπ≥‰∫ãÂä°ÔºåÂ§ÑÂú®Âè∂ËäÇÁÇπÁöÑ‰∫ãÂä°ÊòØÊâÅÂπ≥‰∫ãÂä°Ôºå‰ΩÜÊòØÊØè‰∏™‰∫ãÂä°‰ªéÊ†πÂà∞Âè∂ËäÇÁÇπÁöÑË∑ùÁ¶ªÂèØ‰ª•ËØ¥ÊòØ‰∏çÂêåÁöÑ„ÄÇÂ≠ê‰∫ãÂä°Êó¢ÂèØ‰ª•Êèê‰∫§‰πüÂèØ‰ª•ÂõûÊªö„ÄÇ‰ΩÜÊòØÂÆÉÁöÑÊèê‰∫§Êìç‰ΩúÂπ∂‰∏çÈ©¨‰∏äÁîüÊïà„ÄÇÈô§ÈùûÂÖ∂Áà∂‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§„ÄÇÊ†ë‰∏≠ÁöÑ‰ªªÊÑè‰∫ãÂä°ÂõûÊªö‰ºöÂºïËµ∑ÂÆÉÁöÑÊâÄÊúâÂ≠ê‰∫ãÂä°‰∏ÄÂêåÂõûÊªöÔºåÊïÖÂ≠ê‰∫ãÂä°‰ªÖ‰øùÁïôACIÁâπÊÄßËÄå‰∏çÂÖ∑ÊúâDÁâπÊÄß„ÄÇ ÂàÜÂ∏ÉÂºè‰∫ãÂä°(Distributed Transactions)ÔºöÈÄöÂ∏∏ÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁéØÂ¢É‰∏ãËøêË°åÁöÑÊâÅÂπ≥‰∫ãÂä°ÔºåÂõ†Ê≠§ÈúÄË¶ÅÊ†πÊçÆÊï∞ÊçÆÊâÄÂú®‰ΩçÁΩÆËÆøÈóÆÁΩëÁªú‰∏≠ÁöÑ‰∏çÂêåËäÇÁÇπ„ÄÇ Êï∞ÊçÆÂ∫ìÂπ∂ÂèëËÆøÈóÆ‰ºöÂá∫Áé∞ÁöÑÈóÆÈ¢òËØªÈóÆÈ¢ò ËÑèËØªÔºöA‰∫ãÂä°ËØªÂèñB‰∫ãÂä°Â∞öÊú™Êèê‰∫§ÁöÑÊõ¥ÊîπÊï∞ÊçÆÔºåÂπ∂Âú®Ëøô‰∏™Êï∞ÊçÆÁöÑÂü∫Á°Ä‰∏äËøõË°åÊìç‰ΩúÔºåËøôÊó∂ÂÄôÂ¶ÇÊûú‰∫ãÂä°BÂõûÊªöÔºåÈÇ£‰πàA‰∫ãÂä°ËØªÂà∞ÁöÑÊï∞ÊçÆÊòØ‰∏çË¢´ÊâøËÆ§ÁöÑ„ÄÇ ËôöÂ∫¶Ôºà‰∏çÂèØÈáçÂ§çËØªÔºâÔºöA‰∫ãÂä°ËØªÂèñ‰∫ÜB‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§ÁöÑÊõ¥ÊîπÊï∞ÊçÆ„ÄÇÂÅáÂ¶ÇAÂú®ÂèñÊ¨æ‰∫ãÂä°ÁöÑËøáÁ®ã‰∏≠ÔºåBÂæÄËØ•Ë¥¶Êà∑ËΩ¨Ë¥¶100ÔºåA‰∏§Ê¨°ËØªÂèñÁöÑ‰ΩôÈ¢ùÂèëÁîü‰∏ç‰∏ÄËá¥„ÄÇÈò≤Ê≠¢ËØªÂà∞Êõ¥ÊîπÊï∞ÊçÆÔºåÈúÄË¶ÅÂØπÊìç‰ΩúÁöÑÊï∞ÊçÆÊ∑ªÂä†Ë°åÁ∫ßÈîÅ„ÄÇ ÂπªËØªÔºöA‰∫ãÂä°ËØªÂèñB‰∫ãÂä°Êèê‰∫§ÁöÑÊñ∞Â¢ûÊï∞ÊçÆ„ÄÇ‰æãÂ¶ÇÈì∂Ë°åÁ≥ªÁªüÂú®Âêå‰∏Ä‰∏™‰∫ãÂä°‰∏≠‰∏§Ê¨°ÁªüËÆ°Â≠òÊ¨æË¥¶Êà∑ÁöÑÊÄªÈáëÈ¢ùÔºåÂú®‰∏§Ê¨°ÁªüËÆ°‰∏≠ÔºåÂàöÂ•ΩÊñ∞Â¢û‰∫Ü‰∏Ä‰∏™Â≠òÊ¨æË¥¶Êà∑ÔºåÂ≠òÂÖ•‰∫Ü100ÔºåËøôÊó∂ÂÄô‰∏§Ê¨°ÁªüËÆ°ÁöÑÊÄªÈáëÈ¢ù‰∏ç‰∏ÄËá¥„ÄÇ Èò≤Ê≠¢ËØªÂà∞Êñ∞Â¢ûÊï∞ÊçÆÔºåÈúÄË¶ÅÂØπÊìç‰ΩúÁöÑÊï∞ÊçÆÊ∑ªÂä†Ë°®Á∫ßÈîÅ„ÄÇ Êõ¥Êñ∞ÈóÆÈ¢ò Á¨¨‰∏ÄÁ±ª‰∏¢Â§±Êõ¥Êñ∞ÔºöA‰∫ãÂä°Êí§ÈîÄÊó∂ÔºåÊääÂ∑≤ÁªèÊèê‰∫§ÁöÑB‰∫ãÂä°ÁöÑÊõ¥Êñ∞Êï∞ÊçÆË¶ÜÁõñ‰∫Ü„ÄÇ Á¨¨‰∫åÁ±ª‰∏¢Â§±Êõ¥Êñ∞ÔºöA‰∫ãÂä°Ë¶ÜÁõñB‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§ÁöÑÊï∞ÊçÆÔºåÈÄ†ÊàêB‰∫ãÂä°ÊâÄÂÅöÁöÑÊìç‰Ωú‰∏¢Â§±„ÄÇ ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´‰∏∫‰∫ÜËß£ÂÜ≥‰∏äËø∞ÈóÆÈ¢òÔºåÊï∞ÊçÆÂ∫ìÈÄöËøáÂ§öÁßçÂπ∂ÂèëÊéßÂà∂Êú∫Âà∂ÔºàÂ∏∏Áî®ÁöÑÊúâ‰∏§Èò∂ÊÆµÂ∞ÅÈîÅÂíåÂø´ÁÖßÈöîÁ¶ªÔºâËß£ÂÜ≥Âπ∂ÂèëËÆøÈóÆÁöÑÈóÆÈ¢ò„ÄÇ‰ΩÜÊòØÁõ¥Êé•‰ΩøÁî®Âπ∂ÂèëÊéßÂà∂Êú∫Âà∂ÊòØÂæàÂ§çÊùÇÁöÑÔºåÊï∞ÊçÆÂ∫ìÁªôÁî®Êà∑Êèê‰æõ‰∫Ü‰∏çÂêåÁöÑ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ÔºåÂè™Ë¶ÅËÆæÁΩÆ‰∫Ü‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ÔºåÊï∞ÊçÆÂ∫ìÂ∞±‰ºöÂàÜÊûê‰∫ãÂä°‰∏≠ÁöÑsqlËØ≠Âè•ÁÑ∂ÂêéËá™Âä®ÈÄâÊã©ÂêàÈÄÇÁöÑÂπ∂ÂèëÊéßÂà∂Êú∫Âà∂„ÄÇ ÂõõÁßçÈöîÁ¶ªÁ∫ßÂà´Â¶Ç‰∏ãÔºö ÂèØ‰∏≤Ë°åÂåñ(SERIALIZABLE)Ôºö‰øùËØÅÂèØ‰∏≤Ë°åÂåñË∞ÉÂ∫¶Ôºå‰∏çÂÖÅËÆ∏Âá∫Áé∞‰ªª‰ΩïÈóÆÈ¢ò„ÄÇ ÂèØÈáçÂ§çËØª(REPEATABLE READ) ÔºöÂè™ÂÖÅËÆ∏ËØªÂèñÂ∑≤Êèê‰∫§ÁöÑÊï∞ÊçÆÔºåËÄå‰∏îÂú®‰∏Ä‰∏™‰∫ãÂä°‰∏§Ê¨°ËØªÂèñ‰∏Ä‰∏™Êï∞ÊçÆÈ°πÊúüÈó¥ÔºåÂÖ∂‰ªñ‰∫ãÂä°‰∏çËÉΩÊõ¥Êñ∞ËØ•Êï∞ÔºåÂçï‰∏çË¶ÅÊ±ÇËØ•‰∫ãÂä°‰∏éÂÖ∂‰ªñ‰∫ãÂä°ÂèØ‰∏≤Ë°åÂåñ„ÄÇ Â∑≤Êèê‰∫§ËØª(READ COMMITTED)ÔºöÂè™ÂÖÅËÆ∏ËØªÂèñÂ∑≤Êèê‰∫§ÁöÑÊï∞ÊçÆÔºå‰ΩÜ‰∏çË¶ÅÊ±ÇÂèØÈáçÂ§çËØª„ÄÇ Êú™Êèê‰∫§ËØª(READ UNCOMMITTED)ÔºöÂÖÅËÆ∏ËØªÂèñÊú™Êèê‰∫§ÁöÑÊï∞ÊçÆÔºåËøôÊòØSQLÂÖÅËÆ∏ÁöÑÊúÄ‰Ωé‰∏ÄËá¥ÊÄßÁ∫ßÂà´„ÄÇ ‰∏çÂêåÁöÑÈöîÁ¶ªÁ∫ßÂà´ÂØπÂπ∂ÂèëÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊÉÖÂÜµÂ¶Ç‰∏ãÂõæÔºö ÈöîÁ¶ªÁ∫ßÂà´ ËÑèËØª ËôöËØª ÂπªËØª Á¨¨‰∏ÄÂàó‰∏¢ÂÄºÊõ¥Êñ∞ Á¨¨‰∫åÁ±ª‰∏¢Â§±Êõ¥Êñ∞ ÂèØ‰∏≤Ë°åÂåñ(SERIALIZABLE) ‰∏çÂÖÅËÆ∏ ‰∏çÂÖÅËÆ∏ ‰∏çÂÖÅËÆ∏ ‰∏çÂÖÅËÆ∏ ‰∏çÂÖÅËÆ∏ ÂèØÈáçÂ§çËØª(REPEATABLE READ) ‰∏çÂÖÅËÆ∏ ‰∏çÂÖÅËÆ∏ ÂÖÅËÆ∏ ‰∏çÂÖÅËÆ∏ ‰∏çÂÖÅËÆ∏ Â∑≤Êèê‰∫§ËØª(READ COMMITTED) ‰∏çÂÖÅËÆ∏ ÂÖÅËÆ∏ ÂÖÅËÆ∏ ‰∏çÂÖÅËÆ∏ ÂÖÅËÆ∏ Êú™Êèê‰∫§ËØª(READ UNCOMMITTED) ÂÖÅËÆ∏ ÂÖÅËÆ∏ ÂÖÅËÆ∏ ‰∏çÂÖÅËÆ∏ ÂÖÅËÆ∏ ÂèÇËÄÉ „ÄäÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÊ¶ÇÂøµ„Äã Êï∞ÊçÆÂ∫ì‰∫ãÂä°ËØ¶Ëß£ Êï∞ÊçÆÂ∫ìÂπ∂Âèë‰∫ãÂä°Â≠òÂú®ÁöÑÈóÆÈ¢òÔºàËÑèËØª„ÄÅ‰∏çÂèØÈáçÂ§çËØª„ÄÅÂπªËØªÁ≠âÔºâ Êï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°‰∏éÂπ∂ÂèëÊéßÂà∂ MySQL‰∏≠‰∫ãÂä°ÁöÑÂàÜÁ±ª Êï∞ÊçÆÂ∫ìÈöîÁ¶ªÁ∫ßÂà´ÂèäÂÖ∂ÂÆûÁé∞ÂéüÁêÜ]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êï∞ÊçÆÂ∫ìËåÉÂºè]]></title>
    <url>%2F2018%2F05%2F10%2F%E6%95%B0%E6%8D%AE%E5%BA%93%2F%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8C%83%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöËÆæËÆ°Â•ΩÊï∞ÊçÆÂ∫ìÁöÑË°®ÁöÑÂâçÊèêÂ∞±ÊòØË¶ÅÊª°Ë∂≥Êõ¥È´òÁ∫ßÂà´Êï∞ÊçÆÂ∫ìÁöÑËåÉÂºèÔºåÂΩìÁÑ∂Á∫ßÂà´‰∏çÊòØË∂äÈ´òË∂äÂ•ΩÔºå‰ΩÜÊòØËá≥Â∞ë‰∏çÂ∑ÆÔºÅ Êï∞ÊçÆÂ∫ìËåÉÂºèÁöÑ‰ºòÁº∫ÁÇπ‰ºòÁÇπ ÂáèÂ∞ëÊï∞ÊçÆÂÜó‰Ωô Ê∂àÈô§ÂºÇÂ∏∏ÔºàÊèíÂÖ•ÂºÇÂ∏∏ÔºåÊõ¥Êñ∞ÂºÇÂ∏∏ÔºåÂà†Èô§ÂºÇÂ∏∏Ôºâ Áº∫ÁÇπ Êü•ËØ¢Êó∂Ë¶ÅËÅîÁªìÂ§ö‰∏™Ë°®ÔºåÂ¢ûÂä†‰∫ÜÊü•ËØ¢ÁöÑÂ§çÊùÇÂ∫¶ Êü•ËØ¢Êó∂ÈúÄË¶ÅËÅîÁªìÂ§ö‰∏™Ë°®ÔºåÈôç‰Ωé‰∫ÜÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÊÄßËÉΩ ‰ªÄ‰πàÊòØËåÉÂºè(NF Normal Form)ËåÉÂºèÊòØ‰∏ÄÂº†Êï∞ÊçÆË°®ÁöÑË°®ÁªìÊûÑÊâÄÁ¨¶ÂêàÁöÑÊüêÁßçËÆæËÆ°Ê†áÂáÜÔºåÊª°Ë∂≥È´òÁ≠âÁ∫ßÁöÑËåÉÂºèÁöÑÂÖàÂÜ≥Êù°‰ª∂ÊòØÊª°Ë∂≥‰ΩéÁ≠âÁ∫ßËåÉÂºè„ÄÇ ‰∫îÂ§ßËåÉÂºè‰ª•‰∏ãËåÉÂºèÁöÑÂü∫Êú¨Ê¶ÇÂøµÂèØ‰ª•ÂèÇÁÖßÊàëÁöÑÂè¶‰∏ÄÁØáÂçöÊñáÔºöÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÂü∫Á°ÄÊ¶ÇÂøµÔºõÂÖ∑‰ΩìÊ°à‰æãÂèØ‰ª•ÂèÇÁÖßËøôÁØáÂçöÊñáÔºöÊï∞ÊçÆÂ∫ìËåÉÂºèÈÇ£‰∫õ‰∫ã Á¨¨‰∏ÄËåÉÂºèÔºà1NFÔºâ Â¶ÇÊûú‰∏Ä‰∏™ÂÖ≥Á≥ªÊ®°ÂºèRÁöÑÊâÄÊúâÂ±ûÊÄßÈÉΩÊòØ‰∏çÂèØÂàÜÁöÑÂü∫Êú¨Êï∞ÊçÆÈ°πÔºåÂàôR‚àà1NF Á¨¨‰∏ÄËåÉÂºèÂ∞±ÊòØÊØè‰∏Ä‰∏™Â±ûÊÄßÈÉΩ‰∏çÂèØÂÜçÂàÜ„ÄÇ‰∏çÁ¨¶ÂêàÁ¨¨‰∏ÄËåÉÂºèÂàô‚Äú‰∏çËÉΩ‚ÄùÁß∞‰∏∫ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÔºåÂõ†‰∏∫‰Ω†ÂèØ‰ª•‰∏ÄÂº†Ë°®ÊêûÂÆöÊâÄÊúâÔºåËÄå‰∏çÁî®‰∫ßÁîüÂÖ≥Á≥ª„ÄÇ Á¨¨‰∫åËåÉÂºèÔºà2NFÔºâ Ëã•ÂÖ≥Á≥ªÊ®°ÂºèR‚àà1NFÔºåÂπ∂‰∏îÊØè‰∏Ä‰∏™Èùû‰∏ªÂ±ûÊÄßÈÉΩÂÆåÂÖ®ÂáΩÊï∞‰æùËµñ‰∫éRÁöÑÁ†ÅÔºåÂàôR‚àà2NF Ë°®‰∏≠ÁöÑÂ±ûÊÄßÂøÖÈ°ªÂÆåÂÖ®‰æùËµñ‰∫éÂÖ®ÈÉ®‰∏ªÈîÆÔºåËÄå‰∏çÊòØÈÉ®ÂàÜ‰∏ªÈîÆ„ÄÇÊâÄ‰ª•Âè™Êúâ‰∏Ä‰∏™‰∏ªÈîÆÁöÑË°®Â¶ÇÊûúÁ¨¶ÂêàÁ¨¨‰∏ÄËåÉÂºèÔºåÈÇ£‰∏ÄÂÆöÊòØÁ¨¨‰∫åËåÉÂºè ÂáèÂ∞ëÊï∞ÊçÆÂÆπÂÜó‰ΩôÂíåÂáèÂ∞ëÊõ¥Êñ∞ÂºÇÂ∏∏ Á¨¨‰∏âËåÉÂºèÔºà3NFÔºâ Ëã•ÂÖ≥Á≥ªÊ®°ÂºèR‚àà2NFÔºåÂπ∂‰∏îÊØè‰∏Ä‰∏™Èùû‰∏ªÂ±ûÊÄßÂØπ‰∫éÁ†ÅÈÉΩ‰∏çÂ≠òÂú®‰º†ÈÄíÂáΩÊï∞‰æùËµñÔºåÂàôR‚àà3NF Ê∂àÈô§‰∫ÜÈùû‰∏ªÂ±ûÊÄßÂØπ‰∫éÁ†ÅÁöÑ‰º†ÈÄíÂáΩÊï∞‰æùËµñ ÂáèÂ∞ëÊï∞ÊçÆÂÆπÂÜó‰ΩôÂíåÂáèÂ∞ëÂ∏∏ÊèíÂÖ•ÂºÇÂ∏∏ÔºåÊõ¥Êñ∞ÂºÇÂ∏∏ÔºåÂà†Èô§ÂºÇÂ∏∏ Â∑¥ÊñØ-ÁßëÂæ∑ËåÉÂºèÔºàBCNFÔºâ Ëã•ÂÖ≥Á≥ªÊ®°ÂºèR‚àà3NFÔºåÂπ∂‰∏îÊØè‰∏Ä‰∏™‰∏ªÂ±ûÊÄßÂØπ‰∫éÁ†ÅÈÉΩ‰∏çÂ≠òÂú®ÈÉ®ÂàÜ‰∏é‰º†ÈÄíÂáΩÊï∞‰æùËµñÔºåÂàôR‚ààBCNF Ê∂àÈô§‰∏ªÂ±ûÊÄßÂØπ‰∫éÁ†ÅÁöÑÈÉ®ÂàÜ‰∏é‰º†ÈÄíÂáΩÊï∞‰æùËµñÔºåBCNFÊòØÂú®Á¨¨‰∏âËåÉÂºèÁöÑÂü∫Á°Ä‰∏äÁöÑ‰∏ÄÁßçÁâπÊÆäÊÉÖÂÜµÔºåÊó¢ÊØè‰∏™Ë°®‰∏≠Âè™Êúâ‰∏Ä‰∏™ÂÄôÈÄâÈîÆ„ÄÇ ÂáèÂ∞ëÊèíÂÖ•ÂºÇÂ∏∏ÔºåÊõ¥Êñ∞ÂºÇÂ∏∏‰∏éÂà†Èô§ÂºÇÂ∏∏ Á¨¨ÂõõËåÉÂºèÔºà4NFÔºâ Ëã•ÂÖ≥Á≥ªÊ®°ÂºèR‚àà1NFÔºåÂπ∂‰∏îÂè™ÂÖÅËÆ∏ÁöÑÈùûÂπ≥Âá°Â§öÂÄº‰æùËµñÊòØÂáΩÊï∞‰æùËµñÔºå‰∏çÂÖÅËÆ∏Â≠òÂú®ÂÖ∂‰ªñÈùûÂπ≥Âá°‰∏îÈùûÂáΩÊï∞‰æùËµñÁöÑÂ§öÂÄº‰æùËµñÔºåÂàôR‚àà4NF„ÄÇ Âπ≥Âá°ÁöÑÂ§öÂÄº‰æùËµñÂ±û‰∫éÁ¨¨ÂõõËåÉÂºè ÂáèÂ∞ëÊï∞ÊçÆÂÆπÂÜó‰ΩôÂíåÂáèÂ∞ëÂ∏∏ÊèíÂÖ•ÂºÇÂ∏∏ÔºåÊõ¥Êñ∞ÂºÇÂ∏∏ÔºåÂà†Èô§ÂºÇÂ∏∏ ÊÄªÁªìÊï∞ÊçÆÂ∫ìËÆæËÆ°Â∫îÁî®ÁöÑËåÉÂºè‰∏çÊòØË∂äÈ´òË∂äÂ•ΩÔºåË¶ÅÁúãÂÆûÈôÖÊÉÖÂÜµËÄåÂÆö„ÄÇÁ¨¨‰∏âËåÉÂºèÂ∑≤ÁªèÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂáèÂ∞ë‰∫ÜÊï∞ÊçÆÂÜó‰ΩôÔºåÂπ∂‰∏îÂáèÂ∞ë‰∫ÜÈÄ†ÊàêÊèíÂÖ•ÂºÇÂ∏∏ÔºåÊõ¥Êñ∞ÂºÇÂ∏∏ÔºåÂíåÂà†Èô§ÂºÇÂ∏∏‰∫Ü„ÄÇÂ§ßÂ§öÊï∞ÊÉÖÂÜµÂ∫îÁî®Âà∞Á¨¨‰∏âËåÉÂºèÂ∑≤ÁªèË∂≥Â§üÔºåÂú®‰∏ÄÂÆöÊÉÖÂÜµ‰∏ãÁ¨¨‰∫åËåÉÂºè‰πüÊòØÂèØ‰ª•ÁöÑ„ÄÇ ÂèÇËÄÉ Ëß£Èáä‰∏Ä‰∏ãÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁöÑÁ¨¨‰∏ÄÁ¨¨‰∫åÁ¨¨‰∏âËåÉÂºè Êï∞ÊçÆÂ∫ìËåÉÂºèÈÇ£‰∫õ‰∫ã Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑËåÉÂºèÂíåÂ§öÂÄº‰æùËµñ]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÂü∫Á°ÄÊ¶ÇÂøµ]]></title>
    <url>%2F2018%2F05%2F10%2F%E6%95%B0%E6%8D%AE%E5%BA%93%2F%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®Â≠¶‰π†ÊàñËÄÖËÆæËÆ°ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰πãÂâçÔºåÊàë‰ª¨ÈÉΩÈúÄË¶ÅÂÖàÂ≠¶‰π†ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÂü∫Á°ÄÊ¶ÇÂøµ„ÄÇ Êï∞ÊçÆÂ∫ìÂÖ≥Á≥ªÊ®°ÂûãÊï∞ÊçÆÂ∫ìÁªìÊûÑ ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁî±Ë°®ÁöÑÈõÜÂêàÊûÑÊàêÔºåÊØè‰∏™Ë°®ÊúâÂîØ‰∏ÄÁöÑÂêçÂ≠ó„ÄÇ Âú®ÂÖ≥Á≥ªÊ®°ÂûãÁöÑÊúØËØ≠‰∏≠ÔºåÂÖ≥Á≥ªÁî®Êù•Êåá‰ª£Ë°®ÔºåÂÖÉÁªÑÁî®Êù•Êåá‰ª£Ë°å ÔºåÂ±ûÊÄßÁî®Êù•Êåá‰ª£Ë°®‰∏≠ÁöÑÂàóÔºåÂÖ≥Á≥ªÂÆû‰æãÁî®Êù•Êåá‰ª£‰∏Ä‰∏™ÂÖ≥Á≥ªÁöÑÁâπÂÆöÂÆû‰æã„ÄÇ ÂØπ‰∫éÂÖ≥Á≥ªÁöÑÊØè‰∏™Â±ûÊÄßÔºåÈÉΩÂ≠òÂú®‰∏Ä‰∏™ÂÖÅËÆ∏ÂèñÂÄºÁöÑÈõÜÂêàÔºåÁß∞‰∏∫ËØ•Â±ûÊÄßÁöÑÂüü„ÄÇ Â¶ÇÊûúÂüü‰∏≠ÁöÑÂÖÉÁ¥†Ë¢´ÁúãÂÅöÊòØ‰∏çÂèØÂÜçÂàÜÁöÑÂçïÂÖÉÔºåÂàôÂüüÊòØÂéüÂ≠êÁöÑ„ÄÇ Êï∞ÊçÆÂ∫ìÊ®°Âºè Êï∞ÊçÆÂ∫ìÊ®°ÂºèÊòØÊï∞ÊçÆÂ∫ìÁöÑÈÄªËæëËÆæËÆ°ÔºåÊï∞ÊçÆÂ∫ìÂÆû‰æãÊòØÁªôÂÆöÊó∂ÂàªÊï∞ÊçÆÂ∫ìÊï∞ÊçÆÁöÑ‰∏Ä‰∏™Âø´ÁÖß„ÄÇ ÂÖ≥Á≥ªÂØπÂ∫î‰∫éÁ®ãÂ∫èËÆæËÆ°ËØ≠Ë®Ä‰∏≠ÂèòÈáèÁöÑÂÆö‰πâÔºåÂÖ≥Á≥ªÊ®°ÂºèÂØπÂ∫î‰∫éÁ®ãÂ∫èËÆæËÆ°ËØ≠Ë®Ä‰∏≠Á±ªÂûãÁöÑÂÆö‰πâÔºåÂÖ≥Á≥ªÂÆû‰æãÂØπÂ∫î‰∫éÁ®ãÂ∫èËÆæËÆ°ËØ≠Ë®Ä‰∏≠ÂèòÈáèÁöÑÂÄº„ÄÇ ÂÖ≥Á≥ªÊ®°ÂºèÁî±Â±ûÊÄßÂ∫èÂàóÂèäÂêÑÂ±ûÊÄßÂØπÂ∫îÁöÑÂüüÁªÑÊàê„ÄÇ Á†Å Ë∂ÖÁ†ÅÊòØ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Â±ûÊÄßÁöÑÈõÜÂêàÔºåËøô‰∫õÂ±ûÊÄßÁöÑÈõÜÂêàÂèØ‰ª•‰ΩøÊàë‰ª¨Âú®‰∏Ä‰∏™ÂÖ≥Á≥ª‰∏≠ÂîØ‰∏ÄÂú∞Ë°®Á§∫‰∏Ä‰∏™ÂÖÉÁªÑ„ÄÇ Â¶ÇÊûúKÊòØ‰∏Ä‰∏™Ë∂ÖÁ†ÅÔºåÈÇ£‰πàKÁöÑ‰ªªÊÑèË∂ÖÈõÜ‰πüÊòØË∂ÖÁ†ÅÔºå‰ªñ‰ª¨ÁöÑ‰ªªÊÑèÁúüÂ≠êÈõÜÈÉΩ‰∏çËÉΩÁß∞‰∏∫Ë∂ÖÁ†ÅÔºåËøôÊ†∑ÊúÄÂ∞èÁöÑË∂ÖÁ†ÅÁß∞‰∏∫ÂÄôÈÄâÁ†Å(Á†Å),ÂÄôÈÄâÁ†Å‰∏≠‰ªª‰Ωï‰∏Ä‰∏™Â±ûÊÄßÁß∞‰∏∫‰∏ªÂ±ûÊÄßÔºåÂÖ∂ÂÆÉ‰∏∫Èùû‰∏ªÂ±ûÊÄß„ÄÇ ‰∏ªÁ†Å‰ª£Ë°®Ë¢´Êï∞ÊçÆÂ∫ìËÆæËÆ°ËÄÖÁî®Êù•Âú®‰∏Ä‰∏™ÂÖ≥Á≥ªÊ±áÊÄªÂå∫ÂàÜ‰∏çÂêåÂÖÉÁªÑÁöÑÂÄôÈÄâÁ†ÅÔºå‰∏ªÁ†ÅÂ∫îËØ•ÈÄâÊã©ÈÇ£‰∫õÂÄº‰ªé‰∏çÊàñÊûÅÂ∞ëÂèòÂåñÁöÑÂ±ûÊÄß„ÄÇ ‰∏Ä‰∏™ÂÖ≥Á≥ªÊ®°Âºè(r1)ÂèØËÉΩÂú®ÂÆÉÁöÑÂ±ûÊÄß‰∏≠ÂåÖÂê´Âè¶‰∏Ä‰∏™ÂÖ≥Á≥ªÊ®°Âºè(r2)ÁöÑ‰∏ªÁ†ÅÔºåÈÇ£‰πàËøô‰∏™Â±ûÊÄßÂú®r1‰∏äÁß∞ÂÅöÂèÇÁÖßr2ÁöÑÂ§ñÁ†Å„ÄÇÂÖ≥Á≥ªr1Ë¢´Áß∞‰∏∫Â§ñÁ†Å‰æùËµñÁöÑÂèÇÁÖßÂÖ≥Á≥ªÔºår2Ë¢´Áß∞‰∏∫Â§ñÁ†ÅÁöÑË¢´ÂèÇÁÖßÂÖ≥Á≥ª„ÄÇ ÂáΩÊï∞‰æùËµñËã•Âú®‰∏ÄÂº†Ë°®‰∏≠ÔºåÂú®Â±ûÊÄßÔºàÊàñÂ±ûÊÄßÁªÑÔºâXÁöÑÂÄºÁ°ÆÂÆöÁöÑÊÉÖÂÜµ‰∏ãÔºåÂøÖÂÆöËÉΩÁ°ÆÂÆöÂ±ûÊÄßYÁöÑÂÄºÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•ËØ¥YÂáΩÊï∞‰æùËµñ‰∫éXÔºåÂÜô‰Ωú X ‚Üí Y„ÄÇ ÂÆåÂÖ®ÂáΩÊï∞‰æùËµñ Âú®‰∏ÄÂº†Ë°®‰∏≠ÔºåËã• X ‚Üí YÔºå‰∏îÂØπ‰∫é X ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÁúüÂ≠êÈõÜÔºàÂÅáÂ¶ÇÂ±ûÊÄßÁªÑ X ÂåÖÂê´Ë∂ÖËøá‰∏Ä‰∏™Â±ûÊÄßÁöÑËØùÔºâÔºåX ‚Üí Y ‰∏çÊàêÁ´ãÔºåÈÇ£‰πàÊàë‰ª¨Áß∞ Y ÂØπ‰∫é X ÂÆåÂÖ®ÂáΩÊï∞‰æùËµñÔºåËÆ∞‰Ωú X F‚Üí Y„ÄÇÔºàÈÇ£‰∏™FÂ∫îËØ•ÂÜôÂú®ÁÆ≠Â§¥ÁöÑÊ≠£‰∏äÊñπÔºâ ÈÉ®ÂàÜÂáΩÊï∞‰æùËµñ ÂÅáÂ¶Ç Y ÂáΩÊï∞‰æùËµñ‰∫é XÔºå‰ΩÜÂêåÊó∂ Y Âπ∂‰∏çÂÆåÂÖ®ÂáΩÊï∞‰æùËµñ‰∫é XÔºåÈÇ£‰πàÊàë‰ª¨Â∞±Áß∞ Y ÈÉ®ÂàÜÂáΩÊï∞‰æùËµñ‰∫é XÔºåËÆ∞‰Ωú X P‚Üí Y„ÄÇÔºàÈÇ£‰∏™PÂ∫îËØ•ÂÜôÂú®ÁÆ≠Â§¥ÁöÑÊ≠£‰∏äÊñπÔºâ ‰º†ÈÄíÂáΩÊï∞‰æùËµñ Âú® Y ‰∏çÂåÖÂê´‰∫é XÔºå‰∏î X ‰∏çÂáΩÊï∞‰æùËµñ‰∫é YËøô‰∏™ÂâçÊèê‰∏ãÔºåÂÅáÂ¶Ç Z ÂáΩÊï∞‰æùËµñ‰∫é YÔºå‰∏î Y ÂáΩÊï∞‰æùËµñ‰∫é X ÔºåÈÇ£‰πàÊàë‰ª¨Â∞±Áß∞ Z ‰º†ÈÄíÂáΩÊï∞‰æùËµñ‰∫é X ÔºåËÆ∞‰Ωú X T‚Üí Z„ÄÇÔºàÈÇ£‰∏™TÂ∫îËØ•ÂÜôÂú®ÁÆ≠Â§¥ÁöÑÊ≠£‰∏äÊñπÔºâ Â§öÂÄº‰æùËµñËã•Âú®‰∏ÄÂº†Ë°®‰∏≠ÔºåÂú®Â±ûÊÄßÈõÜX, Y, ÂíåZÊòØUÁöÑÂ≠êÈõÜÔºåÂπ∂‰∏îZ=U-X-YÔºåÂΩì‰∏î‰ªÖÂΩìË°®‰∏≠ÁöÑËÆ∞ÂΩï‰∏äÂΩìXÔºåZÁ°ÆÂÆöÊó∂ÔºåÂ±ûÊÄßYÊúâ‰∏ÄÁªÑÂÄºÔºåËøôÁªÑÂÄº‰ªÖ‰ªÖÂÜ≥ÂÆö‰∫éÂ±ûÊÄßXÂÄºËÄå‰∏éÂ±ûÊÄßZÂÄºÊó†ÂÖ≥ÔºåÂ§öÂÄº‰æùËµñX-&gt;-&gt;YÊàêÁ´ã„ÄÇÂ¶ÇÊûúÊää‰∏äÈù¢ÁöÑ‰∏ÄÁªÑÊîπ‰∏∫‰∏Ä‰∏™ÔºåÈÇ£‰πàÂ§öÂÄº‰æùËµñÂ∞±ÂèòÊàê‰∫ÜÂáΩÊï∞‰æùËµñ„ÄÇÂΩìÁÑ∂‰∏Ä‰∏™ÂÄºÁªÑÊàêÁöÑÁªÑ‰πüÊòØÁªÑÔºåÊâÄ‰ª•ËØ¥ÔºåÂáΩÊï∞‰æùËµñÊòØÂ§öÂÄº‰æùËµñÁöÑÁâπÊÆäÊÉÖÂÜµ„ÄÇ Âπ≥Âá°ÁöÑÂ§öÂÄº‰æùËµñ Ëã•X-&gt;-&gt;YÔºåËÄåZÁ≠â‰∫éÁ©∫ÈõÜÔºåÂàôÁß∞X-&gt;-&gt;Y‰∏∫Âπ≥Âá°ÁöÑÂ§öÂÄº‰æùËµñÔºåÂ±ûÊÄßÈõÜÂêà‰∏≠ÂàÜ‰∏∫‰∏§‰∏™ÁúüÂ≠êÈõÜÔºåÊØè‰∏Ä‰∏™XÂØπÂ∫î‰∏ÄÁªÑYÁöÑÂèñÂÄº ÈùûÂπ≥Âá°ÁöÑÂ§öÂÄº‰æùËµñ Ëã•X-&gt;-&gt;YÔºåËÄåZ‰∏çÁ≠â‰∫éÁ©∫ÈõÜÔºåÂàôÁß∞X-&gt;-&gt;Y‰∏∫ÈùûÂπ≥Âá°ÁöÑÂ§öÂÄº‰æùËµñ ÂèÇËÄÉ „ÄäÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÊ¶ÇÂøµ„Äã]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQLÂøÖÁü•ÂøÖ‰ºö]]></title>
    <url>%2F2018%2F05%2F07%2F%E6%95%B0%E6%8D%AE%E5%BA%93%2FMySQL%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A%2F</url>
    <content type="text"><![CDATA[Âºï:ËôΩÁÑ∂Áî®‰∫ÜËøô‰πà‰πÖÁöÑÊï∞ÊçÆÂ∫ìÔºå‰ΩÜÊòØÊúâÊó∂ÂÄô‰ΩøÁî®Ëµ∑Êù•ÈöæÂÖç‰ºöÂéªÊü•ÊÄé‰πà‰ΩøÁî®ÔºåËøôÊ†∑‰∏ãÂéª‰πü‰∏çÊòØÂäûÊ≥ïÔºåÊâÄ‰ª•Ëá™Â∑±Â∞±Âú®ËøôÈáå‰ª•Mysql‰∏∫‰æãÊÄªÁªì‰∏Ä‰∏ãÁªèÂ∏∏Áî®Âà∞ÁöÑÂú∞Êñπ„ÄÇ Âü∫Êú¨Ê≥®ÊÑèÁÇπ SQLÂÖ≥ÈîÆÂ≠ó‰ΩøÁî®Â§ßÂÜôÔºåÊâÄÊúâÂàóÂíåË°®Âêç‰ΩøÁî®Â∞èÂÜô SQLËØ≠Âè•Áî±Â≠êÂè•ÊûÑÊàêÔºå‰∏Ä‰∏™Â≠êÂè•ÈÄöÂ∏∏Áî±‰∏Ä‰∏™ÂÖ≥ÈîÆÂ≠óÂíå‰∏Ä‰∏™Êï∞ÊçÆÁªÑÊàêÔºåÂ≠êÂè•ÁöÑÈ°∫Â∫è‰∏ÄËà¨‰∏∫: SELECT Êï∞ÊçÆ FROM Êï∞ÊçÆ WHERE Êï∞ÊçÆ GROUP BY Êï∞ÊçÆ HAVING Êï∞ÊçÆ ORDER BY Êï∞ÊçÆ LIMIT Êï∞ÊçÆ ÈÄöÈÖçÁ¨¶ÊêúÁ¥¢ÁöÑÂ§ÑÁêÜ‰∏ÄËà¨Ë¶ÅÊØîÂÖ∂‰ªñÊêúÁ¥¢ÊâÄËä±Êó∂Èó¥ÈïøÔºå‰∏çË¶ÅËøáÂ∫¶‰ΩøÁî®ÈÄöÈÖçÁ¨¶ÔºåÂ¶ÇÊûúË¶ÅÔºåÂ∞±Â∫îËØ•Â∞ÜÈÄöÈÖçÁ¨¶ÊîæÂú®ÊêúÁ¥¢ÈõÜÂêàÂ∞èÁöÑÊêúÁ¥¢‰∏ä Â§öÊï∞DBMS‰Ωø +Êàñ||Êù•ÂÆûÁé∞ÊãºÊé•ÔºåMYSQLÂàô‰Ωø ConcatÂáΩÊï∞Êù•ÂÆûÁé∞ Êï∞ÊçÆÂ∫ìÂàóËà¨Áß∞‰∏∫ÂàóÔºåËÆ°ÁÆóÂ≠óÊÆµ‰∏ÄËà¨Áß∞‰∏∫Â≠óÊÆµ MySQL‰ΩøÁî®ÁöÑÊó•ÊúüÊ†ºÂºèÂøÖÈ°ªÊòØyyyy-mm-dd WHEREÂú®Êï∞ÊçÆÂàÜÁªÑÂâçËøõË°åËøáÊª§ÔºåHAVINGÂú®Êï∞ÊçÆÂàÜÁªÑÂêéËøõË°åËøáÊª§ Â≠êÊü•ËØ¢ÊúÄÂ∏∏ËßÅÁöÑ‰ΩøÁî®ÊòØÂú®WHEREÂ≠êÂè•ÁöÑINÊìç‰ΩúÁ¨¶Âêé Âú®Âà†Èô§ÊàñÊõ¥Êñ∞Ë°®‰πãÂâçÂÖàSELECTÂá∫Êù•ÔºåÈò≤Ê≠¢Âà†Èîô Âà©Áî®Â§ñÈîÆÁ∫¶ÊùüÔºåÈò≤Ê≠¢Âà†Èô§‰∏éÂÖ∂‰ªñË°®Áõ∏ÂÖ≥ËÅîÁöÑË°å MySQLÂü∫Êú¨‰ΩøÁî® MySQLÂ∏ÆÂä© Áõ∏ÂÖ≥ÂëΩ‰ª§ -h/‚Äìhelp MySQLÊúçÂä°ÂêØÂä®ÂíåÂÖ≥Èó≠ mysql.server start/stop MySQLËøûÊé• mysql -u Áî®Êà∑Âêç -p ÂØÜÁ†Å -h ‰∏ªÊú∫Âêç -P Á´ØÂè£ ÔºàÈªòËÆ§Áî®Êà∑Âêç‰∏∫‰ΩøÁî®ËÄÖÂêçÔºå‰∏ªÊú∫ÂêçÈªòËÆ§‰∏∫localhostÔºåÁ´ØÂè£ÈªòËÆ§‰∏∫3306Ôºâ ÈÄÄÂá∫ÂëΩ‰ª§Ë°å quit/exit ÊòæÁ§∫ÊâÄÊúâÊï∞ÊçÆÂ∫ì SHOW DATABASES ‰ΩøÁî®Êï∞ÊçÆÂ∫ì USE Êï∞ÊçÆÂ∫ìÂêç ÊòæÁ§∫ÊüêÂ∫ì‰∏ãÊâÄÊúâÁöÑË°® SHOW TABLES ÊòæÁ§∫ÊüêË°®‰∏ãÈù¢ÁöÑÂàó SHOW COLUMNS FROM Ë°®Âêç / DISCRIBE Ë°®Âêç ÊòæÁ§∫ÊúçÂä°Âô®ÁöÑÁä∂ÊÄÅ‰ø°ÊÅØ SHOW STATUS ÊòæÁ§∫ÂàõÂª∫ÁâπÂÆöÊï∞ÊçÆÂ∫ìÊàñË°®ÁöÑMySQLËØ≠Âè• SHOW CREATE DATABASE Êï∞ÊçÆÂ∫ìÂêç / TABLE Ë°®Âêç ÂÆâÂÖ®ÁÆ°ÁêÜ Áî®Êà∑ÁÆ°ÁêÜ USE mysql SELECT user FROM user CREATE USER rex IDENTIFIED BY ‚ÄòÂØÜÁ†Å‚Äô //ÂàõÂª∫Áî®Êà∑Ë¥¶Âè∑ RENAME USER rex TO rex1 // ‰øÆÊîπÁî®Êà∑Âêç DROP USER rex // Âà†Èô§Áî®Êà∑Ë¥¶Âè∑ SHOW GRANTS FOR rex // ÊòæÁ§∫rexÁöÑÊùÉÈôêÔºåUSAGE ON .Ë°®Á§∫Ê≤°ÊúâÊùÉÈôê GRANT SELECT ON Êï∞ÊçÆÂ∫ì/Ë°®.* TO rex // ÁªôrexÂØπÊï∞ÊçÆÂ∫ì/Ë°®ÁöÑËØªÊùÉÈôê REVOKE SELECT ON Êï∞ÊçÆÂ∫ì/Ë°®.* TO rex // Êí§ÈîÄrexÂØπÊï∞ÊçÆÂ∫ì/Ë°®ÁöÑËØªÊùÉÈôê Êõ¥ÊîπÂØÜÁ†Å SET PASSWORD FOR rex = Password ‚ÄòÊñ∞ÂØÜÁ†Å‚Äô SET PASSWORD = Password ‚ÄòÊñ∞ÂØÜÁ†Å‚Äô // ‰øÆÊîπÂΩìÂâçÁî®Êà∑ÁöÑÂØÜÁ†Å Êï∞ÊçÆÂ∫ìÁª¥Êä§ Êï∞ÊçÆÂ∫ìÂ§á‰ªΩ ‰ΩøÁî®mysqldump ‰ΩøÁî®mysqlhotcopy ‰ΩøÁî®BACKUP TABLEÊàñSELECT INTO OUTFILE Áª¥Êä§Êï∞ÊçÆÂ∫ì ANALYZE/CHECK TABLE Ë°®Âêç // Ê£ÄÊü•Ë°®ÈîÆÊòØÂê¶Ê≠£Á°Æ OPTIMIZE TABLE Ë°®Âêç // ÂõûÊî∂ÊâÄÁî®Á©∫Èó¥ Êü•ÁúãÊó•ÂøóÊñá‰ª∂ ÈîôËØØÊó•ÂøóÔºöÈÄöÂ∏∏‰∏∫/data/hostname.errÔºåÂèØÈÄöËøá‚Äìlog-error‰øÆÊîπÊñá‰ª∂ Êü•ËØ¢Êó•ÂøóÔºöÈÄöÂ∏∏‰∏∫/data/hostname.logÔºåÂèØÈÄöËøá‚Äìlog‰øÆÊîπÊñá‰ª∂ ‰∫åËøõÂà∂Êñá‰ª∂ÔºöÈÄöÂ∏∏‰∏∫/data/hostname-bin ÁºìÊÖ¢Êü•ËØ¢Êó•ÂøóÔºöÈÄöÂ∏∏‰∏∫/data/hostname-slow.logÔºåÂèØÈÄöËøáhostname-slow- queries‰øÆÊîπÊñá‰ª∂ ÂàõÂª∫ÂíåÊìçÁ∫µË°® ÂàõÂª∫Ë°® CREATE IF NOT EXISTS TABLE Ë°®Âêç(id int NOT NULL AUTO_INCREMENT ,‚Ä¶, PRIMARY KEY(id)) ENGINE=InnoDB Êõ¥Êñ∞Ë°® ALTER TABLE Ë°®Âêç ADD Á±ªÂûã // Â¢ûÂä†Âàó ALTER TABLE Ë°®1 ADD CONSTRAINT fkË°®1Ë°®2 FOREIGN KEY(Ë°®2id) REFERENCES Ë°®2(Ë°®2id) Âà†Èô§Ë°® DROP TABLE Ë°®Âêç ÈáçÂëΩÂêçË°® RENAME TABLE Ë°®Âêç1 TO Ë°®Âêç2 Êü•ËØ¢Êï∞ÊçÆÂü∫Êú¨Êü•ËØ¢Êï∞ÊçÆ Ê£ÄÁ¥¢Âçï‰∏™Âàó SELECT prod_name FROM product Ê£ÄÁ¥¢Â§ö‰∏™Âàó SELECT prod_id, prod_name FROM product Ê£ÄÁ¥¢ÊâÄÊúâÂàó SELECT * FROM product Ê£ÄÁ¥¢‰∏çÂêåÁöÑË°å SELECT DISTINCT vend_id FROM product ÈôêÂà∂ÁªìÊûúÁöÑË°åÊï∞‰∏∫Ââç5Êù°/Á¨¨‰∫å‰∏™5Êù° SELECT * FROM product LIMIT 5 / LIMIT 5(ÂºÄÂßã‰ΩçÁΩÆÔºåÁ¨¨‰∏ÄË°åÂÖ∂ÂÆûÁ¨¨0 Ë°å),5(Ë¶ÅÊ£ÄÁ¥¢ÁöÑË°åÊï∞) SELECT * FROM product LIMIT 5 (ÂÅèÁßªÈáè) OFFSET 5 (ÂºÄÂßã‰ΩçÁΩÆ) ÊéíÂ∫èÊ£ÄÁ¥¢Êï∞ÊçÆ Êåâ‰∏Ä‰∏™ÂàóÊéíÂ∫è SELECT prod_name FROM product ORDER BY prod_name ÊåâÂ§ö‰∏™ÂàóÊéíÂ∫è(ÂÖàÊåâprod_priceÊéíÂ∫èÔºåÂ¶ÇÊûúÁõ∏ÂêåÔºåÂàôÊØîËæÉprod_name) SELECT prod_id, prod_price, prod_name FROM product ORDER BY prod_price, prod_name ÊåáÂÆöÊéíÂ∫èÊñπÂêë(ÈªòËÆ§ÂçáÂ∫èASCÔºåÈôçÂ∫èDESC) SELECT prod_id, prod_price, prod_name FROM product ORDER BY prod_price DESC ËøáÊª§Êï∞ÊçÆ WHEREÂ≠êÂè•ËøáÊª§ SELECT prod_name, prod_price FROM product WHERE prod_price = 2.50 WHEREÂ≠êÂè•Êìç‰ΩúÁ¨¶ Êìç‰ΩúÁ¨¶ | ËØ¥Êòé‚Äî|‚Äî= | Á≠â‰∫é&lt;&gt; | ‰∏çÁ≠â‰∫é!= | ‰∏çÁ≠â‰∫é&lt; | Â∞è‰∫é&lt;= | Â∞è‰∫éÁ≠â‰∫é> | Â§ß‰∫é>= | Â§ß‰∫éÁ≠â‰∫éBETWEEN‚Ä¶ AND | Âú®ÊåáÂÆöÁöÑ‰∏§‰∏™ÂÄº‰πãÈó¥(mysqlÂåÖÊã¨‰∏§Á´Ø)NOT BETWEEN‚Ä¶ AND | ‰∏çÂú®ÊåáÂÆöÁöÑ‰∏§‰∏™ÂÄº‰πãÈó¥(mysql‰∏çÂåÖÊã¨‰∏§Á´Ø) Á©∫ÂÄºÊ£ÄÊü•(ÈúÄË¶ÅÊ≥®ÊÑènullÂíåÊ≤°ÊúâÂÄºÂæóÂå∫Âà´) SELECT prod_name FROM products WHERE prod_price IS NULL Êï∞ÊçÆËøáÊª§Êìç‰ΩúÁ¨¶ Êìç‰ΩúÁ¨¶ | ËØ¥Êòé ‚Äî|‚Äî AND | ‰∏îÔºà‰ºòÂÖàÁ∫ßÊØîORÈ´òÔºâ OR | Êàñ IN | Âú®ÊåáÂÆöËåÉÂõ¥ÂÜÖÔºåÂ¶ÇWHERE id IN (1002 1003) NOT IN | ‰∏çÂú®ÊåáÂÆöËåÉÂõ¥ÂÜÖ Êï∞ÊçÆËøáÊª§ÈÄöÈÖçÁ¨¶(Âà©Áî®LIKEÊìç‰ΩúÁ¨¶) Êìç‰ΩúÁ¨¶ | ËØ¥Êòé ‚Äî|‚Äî % | Ë°®Á§∫‰ªªÊÑèÂ≠óÁ¨¶Âá∫Áé∞ÁöÑ‰ªªÊÑèÊ¨°Êï∞ _ | Ë°®Á§∫Âçï‰∏™Â≠óÁ¨¶ Áî®Ê≠£ÂàôË°®ËææÂºèËøõË°åÊêúÁ¥¢(Ê≠£ÂàôË°®ËææÂºèÁöÑ‰ΩøÁî®Ëá™Ë°åÊêúÁ¥¢) SELECT * FROM product WHERE prod_name REGEXP ‚Äò.000‚Äô OR prod_name REGEXP ‚Äò1000|2000‚Äô OR prod_name REGEXP ‚Äò[123] Ton‚Äô ÂàõÂª∫ËÆ°ÁÆóÂ≠óÊÆµËÆ°ÁÆóÂ≠óÁ¨¶ÊòØËøêË°åÊó∂Âú®SELECTËØ≠Âè•ÂÜÖÂàõÂª∫ÁöÑ„ÄÇ ÊãºÊé•Â≠óÊÆµ(ConcatÂáΩÊï∞) SELECT Concat(vend_name,‚Äô(‚Äò,vend_country,‚Äô)‚Äô) FROM vendors ‰ΩøÁî®Âà´Âêç(ÂàóÂêçÔºåË°®ÂêçÈÉΩÂèØ‰ª•‰ΩøÁî®Ôºå‰ΩøÁî®ÂÖ≥ÈîÆÂ≠óASÔºå‰πüÂèØÁúÅÁï•) SELECT Concat(RTrim(vend_name),‚Äô(‚Äò, RTrim(vend_country),‚Äô)‚Äô) AS vend_title FROM vendors ÊâßË°åÁÆóÊúØËÆ°ÁÆó(Âä†Âáè‰πòÈô§) SELECT quantity*item_price AS expanded_price FROM orderitems ‰ΩøÁî®Êï∞ÊçÆÂ§ÑÁêÜÂáΩÊï∞ ÊñáÊú¨Â§ÑÁêÜÂáΩÊï∞ÂáΩÊï∞ | ËØ¥Êòé‚Äî|‚ÄîLeft() | ËøîÂõû‰∏≤Â∑¶ËæπÁöÑÂ≠óÁ¨¶Right() | ËøîÂõû‰∏≤Âè≥ËæπÁöÑÂ≠óÁ¨¶Length() | ËøîÂõû‰∏≤ÁöÑÈïøÂ∫¶Locate() | ÊâæÂá∫‰∏Ä‰∏™‰∏≤ÁöÑÂ≠ê‰∏≤Lower() | Â∞Ü‰∏≤ËΩ¨Âåñ‰∏∫Â∞èÂÜôUpper() | Â∞Ü‰∏≤ËΩ¨Âåñ‰∏∫Â§ßÂÜôLRrim() | ÂéªÊéâ‰∏≤Â∑¶ËæπÁöÑÁ©∫Ê†ºRTrim() | ÂéªÊéâ‰∏≤Âè≥ËæπÁöÑÁ©∫Ê†ºTrim() | ÂéªÊéâ‰∏≤‰∏§ËæπÁöÑÁ©∫Ê†ºSubString() | ËøîÂõûÂ≠ê‰∏≤ÁöÑÂ≠óÁ¨¶ Êó•ÊúüÂíåÊó∂Èó¥Â§ÑÁêÜÂáΩÊï∞ ÂáΩÊï∞ | ËØ¥Êòé ‚Äî|‚Äî AddDate() | Â¢ûÂä†‰∏Ä‰∏™Êó•Êúü(Â§©„ÄÅÂë®Á≠â) AddTime() | Â¢ûÂä†‰∏Ä‰∏™Êó∂Èó¥(Êó∂„ÄÅÂàÜÁ≠â) CurDate() | ËøîÂõûÂΩìÂâçÁöÑÊó•Êúü CurTime() | ËøîÂõûÂΩìÂâçÁöÑÊó∂Èó¥ Date() | ËøîÂõûÊó•ÊúüÊó∂Èó¥ÁöÑÊó•ÊúüÈÉ®ÂàÜ DateDiff() | ËÆ°ÁÆó‰∏§‰∏™Êó•Êúü‰πãÂ∑Æ Date_Format() | ËøîÂõû‰∏Ä‰∏™Ê†ºÂºèÂåñÁöÑÊó•ÊúüÊàñÊó∂Èó¥‰∏≤ Day() | ËøîÂõû‰∏Ä‰∏™Êó•ÊúüÁöÑÂ§©Êï∞ÈÉ®ÂàÜÔºåÁ±ªÊé®Âπ¥ÊúàÊó•ÔºåÊó∂ÂàÜÁßí Now() | ËøîÂõûÂΩìÂâçÊó•ÊúüÂíåÊó∂Èó¥ Êï∞ÂÄºÂ§ÑÁêÜÂáΩÊï∞ ÂáΩÊï∞ | ËØ¥Êòé ‚Äî|‚Äî Abs() | ËøîÂõû‰∏Ä‰∏™Êï∞ÁöÑÁªùÂØπÂÄº Cos() | ËøîÂõû‰∏Ä‰∏™ËßíÂ∫¶ÁöÑ‰ΩôÂº¶ÔºåÁ±ªÊé®Ê≠£Âº¶ Exp() | ËøîÂõû‰∏Ä‰∏™Êï∞ÁöÑÊåáÊï∞ÂÄº Mod() | ËøîÂõûÈô§Êï∞Êìç‰ΩúÁöÑ‰ΩôÊï∞ Rand() | ËøîÂõû‰∏Ä‰∏™ÈöèÊú∫Êï∞ Sqrt() | ËøîÂõû‰∏Ä‰∏™Êï∞ÁöÑÂπ≥ÊñπÊ†π Ê±áÊÄªÊï∞ÊçÆ ËÅöÈõÜÂáΩÊï∞ ÂáΩÊï∞ | ËØ¥Êòé ‚Äî|‚Äî AVG() | ËøîÂõûÊüêÂàóÁöÑÂπ≥ÂùáÂÄº COUNT() | ËøîÂõûÊüêÂàóÁöÑË°åÊï∞ MAX() | ËøîÂõûÊüêÂàóÁöÑÊúÄÂ§ßÂÄº MIN() | ËøîÂõûÊüêÂàóÁöÑÊúÄÂ∞èÂÄº SUM() | ËøîÂõûÊüêÂàóÁöÑÊÄªÂíå ÂàÜÁªÑÊï∞ÊçÆ ÂàõÂª∫ÂàÜÁªÑ(ÂÖàÂàÜÁªÑÂêéËÅöÈõÜ) SELECT vend_id COUNT(*) AS num_prods FROM product GROUP BY vend_id ËøáÊª§ÂàÜÁªÑ SELECT cust_id COUNT() AS orders FROM order GROUP BY cust_id HAVING COUNT()&gt;=2 ‰ΩøÁî®Â≠êÊü•ËØ¢ Âà©Áî®Â≠êÊü•ËØ¢ËøõË°åËøáÊª§(ÊâæÂá∫‰π∞TNT2ÁöÑÈ°æÂÆ¢‰ø°ÊÅØ) SELECT cust_name, cust_contact FROM customers WHERE cust_id IN (SELECT cust_id FROM order WHERE order_num IN (SELECT order_num FROM orderitem WHERE prod_id=‚ÄôTNT2‚Äô)) ‰ΩøÁî®ËÆ°ÁÆóÂ≠óÊÆµ‰ΩøÁî®Â≠êÊü•ËØ¢(ÊòæÁ§∫È°æÂÆ¢ÁöÑ‰ø°ÊÅØÂíåËÆ¢ÂçïÈáè) SELECT cust_name, cust_state, (SELECT COUNT (*) FROM order WHERE order.cust_id = customer.cust_id) AS orders FROM customer ËÅîÁªìË°®Êü•ËØ¢ ËÅîÁªìÊü•ËØ¢(Ê≤°ÊúâWHEREÂ≠êÂè•‰ºö‰∫ßÁîüÁ¨õÂç°Â∞îÁßØ) SELECT vend_name, prod_name FROM vendor, product, WHERE vendor.vend_id = product.vend_id ÂÜÖÈÉ®ËÅîÁªì(Á≠âÂÄºËÅîÁªìÔºåÈ¶ñÈÄâ) SELECT vend_name, prod_name FROM vendor INNER JOIN product ON vendor.vend_id = product.vend_id Â§öË°®ËÅîÁªì SELECT vend_name, prod_name, quantity FROM vendor, product, orderitem WHERE product.vend_id = vendor.vend_id AND orderitem.prod_id = product.prod_id Ëá™ËÅîÁªì(‰∏ÄËà¨ËÅîÁªìÊü•ËØ¢Ë¶ÅÊØîÂ≠êÊü•ËØ¢Âø´) ELECT p1.prod_id, p1.prod_name FROM product p1, product p2 WHERE p1.vend_id = p2.vend_id AND p2.prod_id = ‚ÄòDTNTR‚Äô Ëá™ÁÑ∂ËÅîÁªì(ÊéíÈô§‰∏Ä‰∏™ÂàóÂ§öÊ¨°Âá∫Áé∞Ôºå‰ΩøÊØè‰∏™ÂàóÂè™ËøîÂõû‰∏ÄÊ¨°; Â§ßÈÉ®ÂàÜÂÜÖÈÉ®ËÅîÁªìÈÉΩÊòØËá™ÁÑ∂ËÅîÁªì) Â§ñÈÉ®ËÅîÁªì(ËÅîÁªìÂåÖÊã¨‰∫ÜÈÇ£‰∫õÂú®Áõ∏ÂÖ≥Ë°®Ê≤°ÊúâÂÖ≥ËÅîË°åÁöÑË°åÔºåÂ∑¶Â§ñËÅîÁªì(Â∑¶ËæπÁöÑÊâÄÊúâË°åÂøÖÂá∫Áé∞)ÔºåÂè≥Â§ñËÅîÁªì(Âè≥ËæπÁöÑÊâÄÊúâË°åÂøÖÂá∫Áé∞)) SELECT vend_name, prod_name FROM vendor LEFT OUTER JOIN product ON vendor.vend_id = product.vend_id ÁªÑÂêàÊü•ËØ¢ ÂàõÂª∫ÁªÑÂêàÊü•ËØ¢(Â§ßÈÉ®ÂàÜ‰ΩøÁî®WHEREÂ≠êÂè•Êõ¥Âø´Ôºå‰ΩÜÊòØÂØπ‰∫éÂ§ö‰∏™Ë°®‰ΩøÁî®UNIONÂèØËÉΩÊõ¥ÁÆÄÂçïÔºåÈáçÂ§çË°å‰ºöË¢´Ëá™Âä®ÂèñÊ∂àÔºåÂ¶ÇÊûú‰∏çÂèñÊ∂àÔºå‰ΩøÁî®UNION ALL) SELECT vend_id, prod_id, prod_price FROM product WHERE prod_price &lt;=5 UNION SELECT vend_id, prod_id, prod_price FROM product WHERE vend_id IN (1001, 1002) ÊèíÂÖ•Êï∞ÊçÆ ÊèíÂÖ•‰∏ÄË°åÊï∞ÊçÆ(Â¶ÇÊûúÊòØÂÆåÊï¥ÁöÑË°åÔºåÂèØ‰ª•‰∏çÂÜôÂàóÂêçÔºå‰ΩÜÊòØË¶ÅÊ≥®ÊÑèÂÄºÁöÑÈ°∫Â∫è) INSERT INTO customer(ÂàóÂêç) VALUES(Á±ªÂêçÂØπÂ∫îÁöÑÂÄº) ÊèíÂÖ•Â§ö‰∏™Ë°å INSERT INTO customer(ÂàóÂêç) VALUES(Á±ªÂêçÂØπÂ∫îÁöÑÂÄº),VALUES(Á±ªÂêçÂØπÂ∫îÁöÑÂÄº) ÊèíÂÖ•Ê£ÄÁ¥¢Âá∫ÁöÑÊï∞ÊçÆ INSERT INTO customer(ÂàóÂêç) SELECT (ÂàóÂêç) FROM Ë°®Âêç Êõ¥Êñ∞Êï∞ÊçÆ Êõ¥Êñ∞Ë°®‰∏≠ÁâπÂÆöÁöÑÂàó(‰∏ÄÂÆö‰∏çË¶ÅÂøò‰∫ÜWHEREÂ≠êÂè•) UPDATE customer SET ÂàóÂêç = ÂÄº WHERE Â≠êÂè• Êõ¥Êñ∞Â§öÂàó UPDATE customer SET ÂàóÂêç = ÂÄº,ÂàóÂêç = ÂÄº WHERE Â≠êÂè• Âà†Èô§Êï∞ÊçÆ Âà†Èô§ÁâπÂÆöÁöÑË°å DELETE FROM Ë°® WHERE Â≠êÂè• ‰ΩøÁî®ËßÜÂõæ ÂàõÂª∫ËßÜÂõæ CREATE VIEW ËßÜÂõæÂêç AS SELECT ËØ≠Âè• Êü•ÁúãÂàõÂª∫ËßÜÂõæÁöÑËØ≠Âè• SHOW CREATE VIEW ËßÜÂõæÂêç Âà†Èô§ËßÜÂõæ DROP VIEW ËßÜÂõæÂêç Êõ¥Êñ∞ËßÜÂõæÔºàÂÖàÂà†Èô§ÂéüËßÜÂõæÔºåÂÜçÂàõÂª∫Êñ∞ËßÜÂõæÔºâ ÂèÇËÄÉ „ÄäMySQLÂøÖÁü•ÂøÖ‰ºö„Äã]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HelloWorld_Shiro Activity]]></title>
    <url>%2F2018%2F05%2F03%2FHelloWorld%2FHelloWorld-Shiro-Activity%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöËÆ∞ÂæóÂéªÂπ¥ÊöëÂÅáË¶ÅÂºÑÂ∑•‰ΩúÊµÅActivityÊ≤°ÊúâÂºÑÂá∫Êù•ÔºåËøôÊ¨°ÂàöÂ•ΩÁúãÂà∞‰∫Ü‰∏Ä‰∏™Âü∫‰∫éShiroÂíåActivityÁöÑËÄÉÂã§È°πÁõÆÔºåÂ∞±ÊÉ≥ÂÜô‰∏Ä‰∏ã‰∫ÜÔºÅ ÊäÄÊúØÁÇπ ÂâçÁ´ØÊ®°ÊùøÂºïÊìéÔºöVelocityÔºà‰∏çÂÅöÈáçÁÇπËÆ≤Ëß£ÔºåÂÆÉÁöÑÈ°µÈù¢‰∏ªË¶Å‰ΩøÁî®ÁöÑBootStrapÁöÑAdminÂºÄÊ∫êÊ°ÜÊû∂Ôºâ ÂêéÂè∞ÔºöSSMÊ°ÜÊû∂ ‰ªªÂä°Ë∞ÉÂ∫¶Ê°ÜÊû∂ÔºöQuartz Â∑•‰ΩúÊµÅÂºïÊìéÔºöActivity ÊùÉÈôêÊéßÂà∂Ê°ÜÊû∂ÔºöShiro È°πÁõÆÂäüËÉΩ Âà©Áî®ShiroÂÆûÁé∞ÁôªÂΩïÊ®°ÂùóÂπ∂ÂÆûÁé∞ÊùÉÈôêÊéßÂà∂ ÂÆûÁé∞Êü•ÁúãÂá∫Âã§ËÆ∞ÂΩï Âà©Áî®QuartzÂÆûÁé∞ÂÆöÊó∂‰ªªÂä°ÔºåÊØèÂ§©ÂáåÊô®Êâ´ÊèèÊ≤°ÊúâÊâìÂç°ËÆ∞ÂΩïÁöÑÂëòÂ∑•Âπ∂ËÆ∞ÂΩï Âà©Áî®ActivityÂÆûÁé∞Ë°•Á≠æÊµÅÁ®ã È°πÁõÆÊ∫êÁ†ÅHelloWorld_Shiro Activity ‰πã WorkAttendanceËÄÉÂã§È°πÁõÆ ÈáçÁÇπÊ∫êÁ†ÅËØ¥ÊòéÂà©Áî®ShiroÂÆûÁé∞ÁôªÂΩï‰∏éÊùÉÈôêÊéßÂà∂Êàë‰ª¨ËøôÈáå‰∏ªË¶ÅÂà©Áî®‰∫ÜShiroÊù•ËøõË°åÁôªÂΩïÈ™åËØÅÔºåÊàë‰ª¨ÂèØ‰ª•ÂÖàÁúãÁúãShiroÊû∂ÊûÑÔºåÂ¶Ç‰∏ãÂõæÔºö Subject‰∏ªË¶ÅÊòØÂ≠òÂÇ®‰∫ÜËÆøÈóÆ‰ø°ÊÅØ SecurityManagerÊòØShiroÁöÑÊ†∏ÂøÉÔºå‰ªñ‰∏ªË¶ÅÁî®‰∫éÂçèË∞ÉShiroÂÜÖÈÉ®ÂêÑÁßçÂÆâÂÖ®ÁªÑ‰ª∂ RealmÁî®‰∫éËøûÊé•ShiroÂíåÂÆ¢Êà∑Á≥ªÁªüÁöÑÁî®Êà∑Êï∞ÊçÆÁöÑÊ°•Ê¢Å„ÄÇ‰∏ÄÊó¶ShiroÁúüÊ≠£ÈúÄË¶ÅËÆøÈóÆÂêÑÁßçÂÆâÂÖ®Áõ∏ÂÖ≥ÁöÑÊï∞ÊçÆÔºàÊØîÂ¶Ç‰ΩøÁî®Áî®Êà∑Ë¥¶Êà∑Êù•ÂÅöÁî®Êà∑Ë∫´‰ªΩÈ™åËØÅ‰ª•ÂèäÊùÉÈôêÈ™åËØÅÔºâÊó∂Ôºå‰ªñÊÄªÊòØÈÄöËøáË∞ÉÁî®Á≥ªÁªüÈÖçÁΩÆÁöÑÂêÑÁßçRealmÊù•ËØªÂèñÊï∞ÊçÆÔºåÂèØ‰ª•ÂØπÊØî‰∏∫SpringSecurityÁöÑProvider„ÄÇ ShrioÈÖçÁΩÆÊñá‰ª∂‰∏ªË¶ÅÊòØWorkAttendance/src/main/resources/spring-shiro.xmlÔºåÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÊàë‰ª¨Èô§‰∫ÜÈÖçÁΩÆRealmÂíåSecurityManagerÔºåËøòË¶ÅÈÖçÁΩÆ‰∏Ä‰∏™ShiroFilterËøáÊª§ÈìæÔºåËøô‰∏™ËøáÊª§Èìæ‰∏ªË¶ÅÈÖçÁΩÆË¶ÅÊã¶Êà™ÊàñËÄÖÂøΩÁï•ÁöÑË∑ØÂæÑÔºåÂèØ‰ª•ÂØπÊØî‰∏∫SpringSecurityÁöÑÈÖçÁΩÆÁ±ªWebSecurityConfigurerAdapter„ÄÇÂΩìÁÑ∂Êàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®Ê≥®Ëß£Êù•ÂÆûÁé∞Ë∑ØÂæÑÊùÉÈôêÊéßÂà∂ÔºåÂ¶Ç: @RequiresPermissions(‚Äúattend:attendList‚Äù) Êàë‰ª¨ÁúãÁúãÁôªÂΩïÊ∫ê‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879// LoginControllerÁöÑÈ™åËØÅÁôªÂΩïÁöÑÊñπÊ≥ïpublic String checkLogin(HttpServletRequest request) throws UnsupportedEncodingException, NoSuchAlgorithmException &#123; String username = request.getParameter("username"); String pwd = request.getParameter("password"); // ÁªÑË£ÖÊàêTokenÁªôRealm‰ΩøÁî® UsernamePasswordToken token = new UsernamePasswordToken(username,pwd); // Á≠âÂà∞ÁôªÂΩïËÆøÈóÆ‰ø°ÊÅØ Subject subject = SecurityUtils.getSubject(); try &#123; // ËøõÂÖ•RealmËøõË°åËÆ§ËØÅ subject.login(token); // ËÆæÁΩÆsessionËøáÊúüÊó∂Èó¥ SecurityUtils.getSubject().getSession().setTimeout(1800000); &#125; catch (Exception e) &#123; return "login_fail"; &#125; return "login_succ";&#125;// Ëá™ÂÆö‰πâÁöÑRealmpublic class MyRealm extends AuthorizingRealm &#123; @Autowired private UserService userService;// ÊéàÊùÉ @Override protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) &#123; // PrincipalCollection,ÂèØ‰ª•ÁêÜËß£Ë∫´‰ªΩ‰∏ä‰∏ãÊñá String username = (String) principalCollection.getPrimaryPrincipal(); User user = userService.findUserByUserName(username); SimpleAuthorizationInfo authorizationInfo = new SimpleAuthorizationInfo(); for(Role role :user.getRoleList())&#123; authorizationInfo.addRole(role.getRole()); for(Permission permission :role.getPermissionList())&#123; authorizationInfo.addStringPermission(permission.getPermission()); &#125; &#125; return authorizationInfo; &#125;// ÁôªÂÖ•È™åËØÅ @Override protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException &#123; // UsernamePasswordTokenÂ∞ÅË£Ö‰∫ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†Å UsernamePasswordToken usernamePasswordToke = (UsernamePasswordToken)authenticationToken; String username = usernamePasswordToke.getUsername(); User user = userService.findUserByUserName(username); if(user==null)&#123; return null; &#125;else &#123; // ‰ºö‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑË¥¶Âè∑ÂØÜÁ†ÅÊ†°È™åÂô®ËøõË°åÈ™åËØÅÔºåÂπ∂ËøîÂõûAuthenticationInfo AuthenticationInfo info = new SimpleAuthenticationInfo(user.getUsername(), user.getPassword(), getName()); SecurityUtils.getSubject().getSession().setAttribute("userInfo",user); return info; &#125; &#125;&#125;// Ëá™ÂÆö‰πâÁöÑÂØÜÁ†ÅÈ™åËØÅÂô®ÔºåÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆpublic class CustomCredentialsMatcher extends SimpleCredentialsMatcher &#123; @Override public boolean doCredentialsMatch(AuthenticationToken authenticationToken, AuthenticationInfo authenticationInfo) &#123; // ÂØπÊØîÁî®Êà∑ÁôªÂÖ•ÁöÑÊï∞ÊçÆ‰∏éÊï∞ÊçÆÂ∫ìÊü•ËØ¢Âá∫Êù•ÁöÑ‰ø°ÊÅØ try &#123; UsernamePasswordToken usernamePasswordToken = (UsernamePasswordToken) authenticationToken; // Áî®Êà∑ÁôªÂΩïÁöÑÂØÜÁ†Å String password = String.valueOf(usernamePasswordToken.getPassword()); Object tokenCredentials = MD5Utils.encryptPassword(password); // getCredentials()ÂíåequalsÈÉΩÊòØSimpleCredentialsMatcherËá™Â∏¶ÁöÑÊñπÊ≥ï Object acountCredentials = getCredentials(authenticationInfo); return equals(tokenCredentials,acountCredentials); &#125; catch (NoSuchAlgorithmException e) &#123; e.printStackTrace(); &#125; catch (UnsupportedEncodingException e) &#123; e.printStackTrace(); &#125; return false; &#125;&#125; Âà©Áî®QuartzÂÆûÁé∞ÂÆöÊó∂‰ªªÂä°ÂÆÉÁöÑÊ†∏ÂøÉÂÖÉÁ¥†ÂÖ≥Á≥ªÂõæÂ¶Ç‰∏ãÔºö ÂÆÉÁöÑÈÖçÁΩÆÊñá‰ª∂Âú®WorkAttendance/src/main/resources/spring-job.xmlÔºåÊàë‰ª¨‰πü‰∏ªË¶ÅÂ∞±ÊòØÈÖçÁΩÆSchedulerFactoryÔºåTriggerÂíåJob„ÄÇÈáåÈù¢ÂÖ≥‰∫écronExpressionÂèØ‰ª•‰ΩøÁî®Âú®Á∫øCronË°®ËææÂºèÁîüÊàêÂô®Êù•Á°ÆÂÆöÊàñËÄÖ‰π¶ÂÜô„ÄÇ Êàë‰ª¨ÁúãÁúãÂÆöÊó∂‰ªªÂä°ÁöÑÊ∫ê‰ª£Á†ÅÔºö12345678910// ÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåÂõ†‰∏∫Êàë‰ª¨Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰ª•ÂèäÈÖçÁΩÆÂ•ΩË¶ÅËß¶ÂèëÁöÑÁ±ªÂíåÊñπÊ≥ï‰∫Üpublic class AttendCheckTask &#123; @Autowired private AttendService attendService; // JobMethod public void checkAttend() &#123; attendService.checkAttend(); &#125;&#125; Âà©Áî®ActivityÂÆûÁé∞Ë°•Á≠æÊµÅÁ®ãÂÆÉÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏ªË¶ÅÂú®WorkAttendance/src/main/resources/spring-activity.xmlÔºåÊàë‰ª¨‰∏ªË¶ÅÂ∞±ÊòØÈÖçÁΩÆprocessEngineFactoryÔºåprocessEngineConfigurationÔºà‰ºöËÆæÁΩÆËá™Âä®Âª∫Ë°®23Âº†‰ª•ÂèäË¶ÅÈÉ®ÁΩ≤ÁöÑÊµÅÁ®ãËµÑÊ∫êÔºâ‰ª•ÂèäÂêÑ‰∏™ÊúçÂä°Á±ª„ÄÇ ÂÖ≥‰∫éÊµÅÁ®ãËµÑÊ∫êÊàë‰ª¨ÂèØ‰ª•Âà©Áî®IDEAÁöÑactiBPMÊèí‰ª∂ÂéªÁîªËøô‰∏™ÊµÅÁ®ãÂõæÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØËÆæÁΩÆÂ•ΩÂêÑ‰∏™IDÔºåÂõ†‰∏∫Êàë‰ª¨ÂêéÈù¢ÈúÄË¶ÅÁî®Âà∞ÂÆÉ„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãÂÆÉÁöÑÊ†∏ÂøÉ‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859// 1. ÂºÄÂßãÊµÅÁ®ãÂπ∂Êèê‰∫§‰ªªÂä°public void startReAttendFlow(ReAttend reAttend) &#123; // ‰ªéÂÖ¨Âè∏ÁªÑÁªáÊû∂ÊûÑ‰∏≠ÔºåÊü•ËØ¢Âà∞Ê≠§‰∫∫‰∏äÁ∫ßÈ¢ÜÂØº‰∫∫Áî®Êà∑Âêç // ËøôÈáåÊâãÂä®ËÆæÁΩÆ reAttend.setCurrentHandler("rex666"); reAttend.setStatus(RE_ATTEND_STATUS_ONGOING); // ÊèíÂÖ•Êï∞ÊçÆÂ∫ìË°•Á≠æË°®(IDËá™Â¢û) reAttendMapper.insertSelective(reAttend); // Â∞Ü‰∏Ä‰∫õÈúÄË¶ÅÁöÑÂèÇÊï∞ÊîæÂÖ•ÊµÅÁ®ã‰∏≠‰º†ÈÄíÔºåÂç≥Variables Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;(); map.put(RE_ATTEND_SIGN, reAttend); // ÂêéÈù¢ÈúÄË¶ÅÊ†πÊçÆÊµÅÁ®ã‰∏≠ÁöÑÂèòÈáèÂêçÊù•Ëé∑Âèñ map.put(NEXT_HANDLER, reAttend.getCurrentHandler()); // Ëé∑ÂæóÊµÅÁ®ãÂÆû‰æã ProcessInstance instance = runtimeService.startProcessInstanceByKey(RE_ATTEND_FLOW_ID, map); // Ëé∑Âæó‰ªªÂä° Task task = taskService.createTaskQuery().processInstanceId(instance.getId()).singleResult(); // Êèê‰∫§Áî®Êà∑Ë°•Á≠æ‰ªªÂä° taskService.complete(task.getId(), map);&#125;// 2. ÂΩìÂâçÂ§ÑÁêÜ‰∫∫Ëé∑ÂæóÈúÄË¶ÅÂ§ÑÁêÜÁöÑ‰ªªÂä°public List&lt;ReAttend&gt; listTasks(String userName) &#123; //ËΩ¨Êç¢ÊàêÈ°µÈù¢ÂÆû‰Ωì ÈúÄË¶ÅËøîÂõûÁöÑÂØπË±° List&lt;ReAttend&gt; reAttendList = new ArrayList&lt;ReAttend&gt;(); List&lt;Task&gt; taskList = taskService.createTaskQuery().processVariableValueEquals(userName).list(); if (CollectionUtils.isNotEmpty(taskList)) &#123; for (Task task : taskList) &#123; Map&lt;String, Object&gt; variable = taskService.getVariables(task.getId()); ReAttend reAttend = (ReAttend) variable.get(RE_ATTEND_SIGN); reAttend.setTaskId(task.getId()); reAttendList.add(reAttend); &#125; &#125; return reAttendList;&#125;// 3.ÂΩìÂâçÂ§ÑÁêÜ‰∫∫Â§ÑÁêÜ‰ªªÂä°@Transactionalpublic void approve(ReAttend reAttend) &#123; // ÈúÄË¶ÅÂ§ÑÁêÜÁöÑ‰ªªÂä° Task task = taskService.createTaskQuery().taskId(reAttend.getTaskId()).singleResult(); // Â¶ÇÊûúÂêåÊÑè if (("" + RE_ATTEND_STATUS_PSSS).equals(reAttend.getApproveFlag())) &#123; Attend attend = new Attend(); attend.setId(reAttend.getAttendId()); attend.setAttendStatus(ATTEND_STATUS_NORMAL); // Â∞ÜÂá∫Âã§Êï∞ÊçÆÁöÑÁä∂ÊÄÅ‰ªéÂºÇÂ∏∏Âèò‰∏∫Ê≠£Â∏∏ attendMapper.updateByPrimaryKeySelective(attend); // ÂÆ°ÊâπÈÄöËøáÔºå‰øÆÊîπË°•Á≠æÊï∞ÊçÆÁä∂ÊÄÅ reAttend.setStatus(RE_ATTEND_STATUS_PSSS); reAttendMapper.updateByPrimaryKeySelective(reAttend); &#125; else if (("" + RE_ATTEND_STATUS_REFUSE.toString()).equals(reAttend.getApproveFlag())) &#123; reAttend.setStatus(RE_ATTEND_STATUS_REFUSE); reAttendMapper.updateByPrimaryKeySelective(reAttend); &#125; // ÂÆåÊàê‰ªªÂä° taskService.complete(task.getId());&#125; ÂÖ∂‰ªñËøô‰∏™È°πÁõÆÂÖ≥‰∫éÂâçÁ´ØÈ°µÈù¢ÂâçÁ´ØÊ®°ÊùøÂºïÊìéVelocityÔºåSSMÊû∂ÊûÑÔºåMybatisËá™Âä®ÁîüÊàêÊèí‰ª∂‰ª•ÂèäÂàÜÈ°µÊñπÊ≥ïÔºåËøôÈáåÈÉΩ‰∏çÂÜçÂ§öËØ¥ÔºåÈ°πÁõÆÁöÑÊ≥®ÈáäÂ∫îËØ•ÁÆóÊòØÂæàÂÖ®‰∫ÜÔºåËÆ§ÁúüÁúãÂ∞±Ë°å„ÄÇ ÂèÇËÄÉ‰∏éËá¥Ë∞¢ SSMÂÆûÊàò-Á†ÅÁ†ÅÂëòÂ∑•ËÄÉÂã§Á≥ªÁªü]]></content>
      <categories>
        <category>HelloWorld</category>
      </categories>
      <tags>
        <tag>SSM</tag>
        <tag>Shiro</tag>
        <tag>Activity</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HelloWorld_SpringBoot Angular]]></title>
    <url>%2F2018%2F04%2F25%2FHelloWorld%2FHelloWorld-SpringBoot-Angular%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂâçÊÆµÊó∂Èó¥ÂÜô‰∫Ü‰∏™ÂâçÂêéÂè∞‰∏çÂàÜÁ¶ªÁöÑSSMLoginÔºåÂ§ßÂÆ∂ÂèØËÉΩ‰ºöËßâÂæóÂâçÂêéÂè∞‰∏çÂàÜÁ¶ªÂ§™lowÔºåÊâÄ‰ª•ËøôÊ¨°Êàë‰ª¨‰ΩøÁî®SpringBoot+AngularÊê≠Âª∫‰∫Ü‰∏Ä‰∏™Âà©Áî®TokenÊù•ËøõË°åË∫´‰ªΩÈ™åËØÅÁöÑÂâçÂêéÂè∞ÂàÜÁ¶ªÁôªÂΩïDemoÈ°πÁõÆ„ÄÇ È°πÁõÆÊ∫êÁ†ÅSpringBoot+Angular AngularÂâçÁ´ØÊú¨ÊñáÂâçÁ´ØÂü∫‰∫éAngularÂÆòÊñπÊ†∑‰æãTour of HeroesÔºåËØ∑ÂÖàÂà∞ÂÆòÁΩë‰∏ãËΩΩÔºå‰πüÂèØ‰ª•Êã∑Ë¥ùËá™Â∑±ÁöÑÈ°πÁõÆÊ∫êÁ†ÅÔºà‰∏çËøáÊúÄÂ•ΩËøòÊòØ‰∏ÄÊ≠•Ê≠•Êù•ÔºåÂÖàÂéªÂÆòÁΩë‰∏ãËΩΩÊ∫êÁ†ÅÔºâÔºåËøôÊ¨°ÂâçÁ´Ø‰∏çÊòØ‰∏ªË¶ÅËÆ≤Ëß£ÁöÑÂú∞ÊñπÔºåÊâÄ‰ª•ÂÆòÁΩëÊ∫êÁ†ÅÈÉ®ÂàÜÂ∞±‰∏çËØ¥‰∫ÜÔºåËá™Â∑±ÂéªÁúã„ÄÇÊàëÂè™ËØ¥Â¢ûÂä†ÁöÑÊ†∏ÂøÉÈÉ®ÂàÜ„ÄÇ loginÁªÑ‰ª∂‰∏ãÈù¢ÊòØÁôªÂΩïÁöÑts‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829export class LoginComponent implements OnInit &#123; // Áî®Êù•Êé•Êî∂ÂêéÂè∞ÁöÑÊï∞ÊçÆ model: any = &#123;&#125;; //Ê≥®ÂÖ•‰æùËµñÂØπË±° constructor( private router: Router, private authenticationService: AuthenticationService, ) &#123; &#125; ngOnInit() &#123; // ÈáçÁΩÆÁôªÂΩïÁä∂ÊÄÅ this.authenticationService.logout(); &#125; login() &#123; // Âà©Áî®authenticationServiceËé∑ÂèñÂØπË±° this.authenticationService.login(this.model.username, this.model.password).subscribe( result =&gt; &#123; if (result) &#123; // ÁôªÂΩïÊàêÂäüÔºåË∞ÉÂà∂Ë∑ØÁî± this.router.navigate(['dashboard']); &#125; else &#123; this.log('Username or Password is incorrect'); &#125; &#125; ) &#125;&#125; AuthenticationServiceÊúçÂä°ÁúãÁúãÂÆÉÁöÑ‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// httpÂ§¥Ôºå‰ΩøÁî®json‰º†ÈÄíÊï∞ÊçÆconst httpOptions = &#123; headers: new HttpHeaders(&#123;'Content-Type': 'application/json'&#125;)&#125;;@Injectable()export class AuthenticationService &#123; // ËÆ§ËØÅÁöÑurl private url: string = `$&#123;environment.apiURL&#125;/auth`; constructor(private http: HttpClient) &#123; &#125; login(username: string, password: string): Observable&lt;boolean&gt; &#123; return this.http.post&lt;any&gt;(this.url,JSON.stringify(&#123;username: username, password: password&#125;),httpOptions).pipe( tap(response =&gt; &#123; // Ëé∑ÂæótokenËÆ§ËØÅ let token = response.token; if (token) &#123; // Â≠òÂÇ®tokenÂà∞ÊµèËßàÂô®localStorage‰∏≠Ôºå‰ª•ÂêéÊØèÊ¨°ÈÉΩÂ∏¶ÁùÄÂÆÉÂéªËØ∑Ê±ÇÊï∞ÊçÆ localStorage.setItem('currentUser',token); &#125; &#125;), catchError(err =&gt; &#123; console.error(err); return of (false); &#125; ) ) &#125; // ‰ªélocalStorageËé∑Âæótoken getToken(): String &#123; return localStorage.getItem('currentUser'); &#125; logout(): void &#123; // Ê∏ÖÁ©∫tokenÔºåÈÇ£‰πàÊ≤°ÊúâToken‰πüÂ∞±‰∏çËÉΩÂà∑Êñ∞È°µÈù¢‰∫Ü localStorage.removeItem('currentUser'); &#125; isLoggedIn(): boolean &#123; var token: String = this.getToken(); return token &amp;&amp; token.length &gt; 0; &#125;&#125; AuthenticationInterceptorÊã¶Êà™Âô®Êúâ‰∫ÜËøô‰∏™Êã¶Êà™Âô®Ôºå‰ª•ÂêéÊâÄÊúâÁöÑËØ∑Ê±ÇÈÉΩËøáÁªèËøáËøôÈáåÔºåÁúãÁúãÂÆÉÁöÑ‰ª£Á†ÅÔºö12345678910111213141516171819@Injectable()export class AuthenticationInterceptor implements HttpInterceptor &#123; // next Áõ∏ÂΩì‰∫éJava Filter ÁöÑchain intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; &#123; const idToken = localStorage.getItem('currentUser'); if (idToken) &#123; // Â∞ÜÂéüÊù•ÁöÑËØ∑Ê±ÇÂä†‰∏ätokenÂåÖË£ÖÊàêÊñ∞ÁöÑËØ∑Ê±ÇÂèëÈÄÅ const cloned = req.clone(&#123; headers: req.headers.set('Authorization', 'Bearer ' + idToken) &#125;); return next.handle(cloned); &#125; else &#123; return next.handle(req); &#125; &#125;&#125; CanActivateAuthGuard‰øùÂç´Êúâ‰∫ÜCanActivateAuthGuardÂ∞±ËÉΩÂ§üÈò≤Ê≠¢Êú™ÁôªÂΩïÁî®Êà∑ËÆøÈóÆÂÖ∂‰ªñÈ°µÈù¢ÔºåÁúãÁúãÂÆÉÁöÑ‰ª£Á†ÅÔºö12345678910111213141516171819@Injectable()export class CanActivateAuthGuard implements CanActivate &#123; constructor( public router: Router, private authService: AuthenticationService ) &#123;&#125; canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) &#123; if (this.authService.isLoggedIn()) &#123; // ÂèØ‰ª•ÈÄöËøá return true; &#125; // ‰∏çËÉΩÈÄöËøáÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢ this.router.navigate(['/login']); return false; &#125;&#125; SpringbootÂêéÂè∞Êàë‰ª¨È¶ñÂÖàË¶ÅÂØπSpringBootÁöÑÈ°πÁõÆÁªìÊûÑÊúâ‰∏™ÁÜüÊÇâÁöÑËÆ§ËØÜÔºåÂ¶ÇÊûú‰∏çÁü•ÈÅìÁöÑÂèØ‰ª•ÂÖàÁ®çÂæÆ‰∫ÜËß£‰∏Ä‰∏ã‰ªñÔºå‰ªñÂ§™Ê£í‰∫Ü„ÄÇËøôÊ¨°ÂºÄÂèë‰πüÊòØ‰∏äÂ∏ùÊ®°Âºè„ÄÇ SpringSecurityÊùÉÈôêÊéßÂà∂È¶ñÂÖàÊàë‰ª¨Ë¶ÅÂØπÂâçÂè∞ÁöÑËØ∑Ê±ÇËøõË°åËÆ§ËØÅÔºåÂà©Áî®ÈÖçÁΩÆÊñá‰ª∂ËÆæÁΩÆ‰∏Ä‰∫õÂÄºÔºö12345678910111213# ÊéßÂà∂Ë∑®ÂüüËÆøÈóÆcors: allowedOrigins: &quot;*&quot; allowedMethods: GET,POST,DELETE,PUT,OPTIONS allowedHeaders: Origin,X-Requested-With,Content-Type,Accept,Accept-Encoding,Accept-Language,Host,Referer,Connection,User-Agent,Authorization# tokenÈÖçÁΩÆjwt: header: Authorization secret: mySecret expiration: 7200 issuer: IATA authenticationPath: /auth SpringSecurityÈÖçÁΩÆÁ±ªÂú®com.todorex.config.WebSecurityConfigÁ±ª‰∏≠ÔºåÂú®Ëøô‰∏™Á±ª‰∏≠ÔºåÊàë‰ª¨‰∏ªË¶ÅÊòØÈÖçÁΩÆËÆ§ËØÅË∑ØÂæÑ„ÄÅË∑®ÂüüËÆøÈóÆ‰ª•ÂèäËøáÊª§Âô®Á≠âËÆæÁΩÆ„ÄÇ SpringSecurityËá™ÂÆö‰πâËøáÊª§Âô®Âú®com.todorex.config.AuthenticationTokenFilterÁ±ª‰∏≠Ôºå‰∏ªË¶ÅÊòØÈ™åËØÅtokenÔºå‰ΩÜ‰∏çÈáçÊñ∞ËÆ°ÁÆótoken„ÄÇ tokenÁîüÊàêÊñπÊ≥ïÂú®com.todorex.util.JwtTokenUtilÁ±ª‰∏≠Ôºå‰∏ªË¶ÅÊúâÁîüÊàêtoken‰ª•ÂèäÈ™åËØÅtokenÁöÑÊñπÊ≥ï„ÄÇ Contoller‰∏ªË¶ÅÊòØÊéßÂà∂Â§ÑÁêÜURLÔºåÂÖ∂‰∏≠ÊØîËæÉÈáçË¶ÅÁöÑÂ∞±ÊòØcom.todorex.controller.AuthenticationControllerÁ±ªÔºåÂÆÉÊòØÁî®Êù•ËøõË°åÊùÉÈôêËÆ§ËØÅÁöÑÔºåÊàë‰ª¨ÁúãÁúãÂÆÉÁöÑ‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627282930@RestController@RequestMapping(produces = MediaType.APPLICATION_JSON_VALUE)public class AuthenticationController &#123; @Autowired private AuthenticationManager authenticationManager; @Autowired private JwtTokenUtil jwtTokenUtil; @Autowired private UserDetailsService userDetailsService; // ËØ∑Ê±ÇË∑ØÂæÑ(/auth) @PostMapping(value = "$&#123;jwt.authenticationPath&#125;") public AuthenticationResponse login(@RequestBody AuthenticationRequest request) throws AuthenticationException &#123; // ÂØπÂåÖË£ÖËøáÂêéÁöÑUsernamePasswordAuthenticationTokenÁ≤æÂøÉÂÜçÂåÖË£ÖÊàêAuthentication final Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getUsername(), request.getPassword())); // Â∞ÜËØ•ËÆ§ËØÅÊ∑ªÂä†Âà∞‰∏ä‰∏ãÊñá‰∏≠ÔºàÈÅøÂÖçÂ§öÊ¨°È™åËØÅÔºâ // SecurityContextHolderÁî®‰∫éÂ≠òÂÇ®ÂÆâÂÖ®‰∏ä‰∏ãÊñáÔºàsecurity contextÔºâÁöÑ‰ø°ÊÅØ SecurityContextHolder.getContext().setAuthentication(authentication); final UserDetails userDetails = userDetailsService.loadUserByUsername(request.getUsername()); // ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÁîüÊàêtokenÊó∂ÂèØËÉΩ‰ºöÁî®Âà∞Êõ¥Â§öÁöÑÂèÇÊï∞ final String token = jwtTokenUtil.generate(userDetails.getUsername()); // ËøîÂõûToken return new AuthenticationResponse(token); &#125;&#125; ÂÖ∂‰ªñÈÉΩÊòØÊôÆÈÄöÁöÑControllerÔºå‰ΩÜÊòØÂØπ‰∫éURLÁöÑËÆæËÆ°Êàë‰ª¨ÈúÄË¶ÅÊ≥®ÊÑèÔºåÊàë‰ª¨‰∏ªË¶ÅÊòØÁî®RestfulÈ£éÊ†ºÁöÑURLÔºåËøôÁßçÈ£éÊ†ºÊòØÊÄé‰πàÊ†∑ÁöÑÂë¢ÔºüÊàë‰ª¨ÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑÂçöÊñáÔºö„ÄêRestful„Äë‰∏âÂàÜÈíüÂΩªÂ∫ï‰∫ÜËß£RestfulÊúÄ‰Ω≥ÂÆûË∑µ„ÄÇ Service‰∏ªË¶ÅÊòØÂ§ÑÁêÜ‰∏öÂä°ÁöÑÔºåËøôÈáåÊàë‰ª¨ÈúÄË¶ÅÊ≥®ÊÑèÁöÑËøô‰∏™Á±ªÔºöcom.todorex.service.UserDetailsServiceImplÔºåÊàë‰ª¨ÈúÄË¶ÅÂÆûÁé∞UserDetailsServiceÊé•Âè£ÔºåÂõ†‰∏∫SpringSecurityÊñπÊ≥ï‰ºöÁî®Âà∞ÔºåÁúãÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839@Servicepublic class UserDetailsServiceImpl implements UserDetailsService&#123; @Autowired private UserRepository userRepository; @Override public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException &#123; User user = userRepository.findByUsername(s); if (user == null) &#123; throw new UsernameNotFoundException(String.format("No user found with username '%s'.", s)); &#125; else &#123; return create(user); &#125; &#125; /** * ÂåÖË£ÖÊàêSpringSecurityÈúÄË¶ÅÁöÑUser * @param user * @return */ private static org.springframework.security.core.userdetails.User create(User user) &#123; return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), mapToGrantedAuthorities(user.getAuthorities())); &#125; /** * ÂåÖË£ÖÊùÉÈôê * @param authorities * @return */ private static List&lt;GrantedAuthority&gt; mapToGrantedAuthorities(List&lt;Authority&gt; authorities) &#123; // Java8ËØ≠Ê≥ï return authorities.stream() .map(authority -&gt; new SimpleGrantedAuthority(authority.getName().name())) .collect(Collectors.toList()); &#125;&#125; DaoËøôÈáåÊàë‰ª¨‰ΩøÁî®ÁöÑJPAÔºåÂÆÉÂÜÖÈÉ®ÂÆûÁé∞ÊòØHibernateÔºåÊàë‰ª¨Âè™Ë¶ÅÂÖàÂÆö‰πâEntityÂÜçÂÆö‰πâDaoÁ±ªÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ EntityEntityÂÆö‰πâ‰πãÂêéÂèØ‰ª•Ê†πÊçÆÂÆû‰ΩìËá™Âä®Âª∫Ë°®ÔºàÂèØÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆÔºâÔºåÂ¶Ç‰∏ãÔºö1234567# jpaÈÖçÁΩÆ jpa: database: MYSQL show-sql: true hibernate: # Ë°®‰∏çÂ≠òÂú®Â∞±Ëá™Âä®Âª∫Ë°® ddl-auto: create DaoDaoÊé•Âè£Âè™Ë¶ÅÁªßÊâøJpaRepositoryÂ∞±‰ºöÊúâÂæàÂ§öÂÜÖÁΩÆÊñπÊ≥ïÔºåÂ¶ÇÊûúË¶ÅËá™Â∑±ÂÜôSQL‰πüÂèØ‰ª•ÂèÇÁÖßcom.todorex.HeroRepositoryÁöÑÂÜôÊ≥ï„ÄÇ ÂçïÂÖÉÊµãËØïÊàë‰ª¨ÂèØ‰ª•ÂÖàÂÆö‰πâÊÄªÁöÑÊé•Âè£Ôºö1234@RunWith(SpringRunner.class)@SpringBootTestpublic class SpringBootTestAbstract &#123;&#125; ÁÑ∂ÂêéÊØè‰∏™Ë¶ÅÊµãËØïÁöÑÁ±ªÁªßÊâø‰ªñÂ∞±ÂèØ‰ª•‰∫ÜÔºåÈÅøÂÖç‰∫ÜÈáçÂ§çÈÖçÁΩÆÔºåIDEAËøòÊúâÂæàÂ§öÊäÄÂ∑ßÔºåËá™Â∑±ÂèØ‰ª•Âéªbaidu„ÄÅgoogleÔºåËøôÈáå‰πü‰∏æ‰∏™‰æãÂ≠êÔºö12345678910111213141516public class DataSourceTest extends SpringBootTestAbstract&#123; @Autowired ApplicationContext applicationContext; @Autowired DataSourceProperties dataSourceProperties; @Test public void testDataSource() throws Exception &#123; // Ëé∑ÂèñÈÖçÁΩÆÁöÑÊï∞ÊçÆÊ∫ê DataSource dataSource = applicationContext.getBean(DataSource.class); // Êü•ÁúãÈÖçÁΩÆÊï∞ÊçÆÊ∫ê‰ø°ÊÅØ System.out.println(dataSource); System.out.println(dataSource.getClass().getName()); System.out.println(dataSourceProperties); &#125;&#125; Êó•ÂøóSpringBootÈªòËÆ§‰ΩøÁî®logback‰Ωú‰∏∫Êó•ÂøóÊ°ÜÊû∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÅöÂ¶Ç‰∏ãÈÖçÁΩÆÔºö123456789# Êó•ÂøóÈÖçÁΩÆlogging: level: # ÈÖçÁΩÆÂåÖ‰ª•ÂèäËæìÂá∫Á≠âÁ∫ß com.todorex: debug pattern: console: &quot;%d - %msg%n&quot; path: /var/localLog/ file: /var/localLog/springbootdemo.log ÂèÇËÄÉ Angular 5ÈõÜÊàêSpring Boot,Spring Security,JWTÂíåCORS Angular_HeroesÊïôÁ®ã Êè≠ÁßòSpringSecurity(‰∏Ä)_ËØ∑Ê±ÇËÆ§ËØÅËøáÁ®ã Êè≠ÁßòSpringBoot(‰∏Ä)_SpringBootËøêË°åÂéüÁêÜ „ÄêRestful„Äë‰∏âÂàÜÈíüÂΩªÂ∫ï‰∫ÜËß£RestfulÊúÄ‰Ω≥ÂÆûË∑µ ‰ªÄ‰πàÊòØ JWT ‚Äì JSON WEB TOKEN ajax Ë∑®Âüü CROS Spring Boot Êó•ÂøóÈÖçÁΩÆ(Ë∂ÖËØ¶ÁªÜ)]]></content>
      <categories>
        <category>HelloWorld</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>SpringSecurity</tag>
        <tag>JWT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êè≠ÁßòSpringSecurity(‰∏Ä)_ËØ∑Ê±ÇËÆ§ËØÅËøáÁ®ã]]></title>
    <url>%2F2018%2F04%2F25%2F%E6%B7%B1%E5%85%A5SSM%2F%E6%8F%AD%E7%A7%98SpringSecurity-%E4%B8%80-%E8%AF%B7%E6%B1%82%E8%AE%A4%E8%AF%81%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊúâ‰∫ÜSpring‰Ωú‰∏∫Âü∫Á°ÄÔºåSpringÂÆ∂ÊóèÁöÑÂæàÂ§öÊ°ÜÊû∂ÈÉΩÊòæÂæóÈÇ£‰πàÊ£íÔºåÂ∞§ÂÖ∂ÊòØSpringbootÁöÑÂá∫Áé∞ÔºåÁÆÄÂåñ‰∫ÜÈÖçÁΩÆÔºåÂÆ∂ÊóèÊ°ÜÊû∂Â∞±ÊòæÂæóÊõ¥Ê£í‰∫ÜÔºåÊàë‰ª¨ËøôÊ¨°ÂàÜÊûê‰∏Ä‰∏ãÂÖ∂‰∏≠ÁöÑSpringSecurityÔºåÊàë‰ª¨‰ºöÁî±ËØ∑Ê±ÇËÆ§ËØÅËøáÁ®ãÔºåÊù•ÂàÜÊûêÂÖ∂‰∏≠ÁöÑÂêÑ‰∏™ÁªÑ‰ª∂ÔºÅ ‰∏ÄÊ¨°ËÆ§ËØÅËøáÁ®ã Â§ßÂÆ∂ÂèØ‰ª•ÊâæÂà∞‰∏Ä‰∏™Â∑•Á®ãÔºåËøôÈáå‰πüÂèØ‰ª•ÁúãÁúãÊàëÁöÑSpringBoot+AngularÂ∑•Á®ãdebugÈ™åËØÅÊàëÁîªÁöÑÊµÅÁ®ãÂõæ„ÄÇ Ê†∏ÂøÉÁªÑ‰ª∂FilterÂú®ÊúÄÂºÄÂßãdebugÁöÑËøáÁ®ã‰∏≠Êàë‰ª¨‰ºöÂèëÁé∞pring Security‰ΩøÁî®‰∫ÜspringSecurityFillterChian‰Ωú‰∏∫‰∫ÜÂÆâÂÖ®ËøáÊª§ÁöÑÂÖ•Âè£ÔºåÊàëÂè™‰ªãÁªçÂá†‰∏™ÊØîËæÉÂ∏∏Áî®ÁöÑËøáÊª§Âô®„ÄÇ SecurityContextPersistenceFilter‰∏§‰∏™‰∏ªË¶ÅËÅåË¥£Ôºö ËØ∑Ê±ÇÊù•‰∏¥Êó∂ÔºåÂàõÂª∫SecurityContextÂÆâÂÖ®‰∏ä‰∏ãÊñá‰ø°ÊÅØ ËØ∑Ê±ÇÁªìÊùüÊó∂Ê∏ÖÁ©∫SecurityContextHolderÔºàÂèØËé∑ÂæóÂΩìÂâçÊìç‰ΩúÁöÑÁî®Êà∑ÊòØË∞ÅÔºåËØ•Áî®Êà∑ÊòØÂê¶Â∑≤ÁªèË¢´ËÆ§ËØÅÔºå‰ªñÊã•ÊúâÂì™‰∫õËßíËâ≤ÊùÉÈôêÁ≠â‰ø°ÊÅØÔºâ„ÄÇ Êàë‰ª¨ÁúãÁúãÂÆÉÁöÑÊ∫êÁ†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950public class SecurityContextPersistenceFilter extends GenericFilterBean &#123; static final String FILTER_APPLIED = "__spring_security_scpf_applied"; // ÂÆâÂÖ®‰∏ä‰∏ãÊñáÂ≠òÂÇ®ÁöÑ‰ªìÂ∫ì private SecurityContextRepository repo; public SecurityContextPersistenceFilter() &#123; // HttpSessionSecurityContextRepositoryÊòØSecurityContextRepositoryÊé•Âè£ÁöÑ‰∏Ä‰∏™ÂÆûÁé∞Á±ª // ‰ΩøÁî®HttpSessionÊù•Â≠òÂÇ®SecurityContext this(new HttpSessionSecurityContextRepository()); &#125; public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException &#123; HttpServletRequest request = (HttpServletRequest)req; HttpServletResponse response = (HttpServletResponse)res; if(request.getAttribute("__spring_security_scpf_applied") != null) &#123; chain.doFilter(request, response); &#125; else &#123; boolean debug = this.logger.isDebugEnabled(); request.setAttribute("__spring_security_scpf_applied", Boolean.TRUE); if(this.forceEagerSessionCreation) &#123; HttpSession session = request.getSession(); if(debug &amp;&amp; session.isNew()) &#123; this.logger.debug("Eagerly created session: " + session.getId()); &#125; &#125; // ÂåÖË£ÖrequestÔºåresponse HttpRequestResponseHolder holder = new HttpRequestResponseHolder(request, response); // ‰ªéSession‰∏≠Ëé∑ÂèñÂÆâÂÖ®‰∏ä‰∏ãÊñá‰ø°ÊÅØ SecurityContext contextBeforeChainExecution = this.repo.loadContext(holder); boolean var13 = false; try &#123; var13 = true; // ËØ∑Ê±ÇÂºÄÂßãÊó∂ÔºåËÆæÁΩÆÂÆâÂÖ®‰∏ä‰∏ãÊñá‰ø°ÊÅØÔºåËøôÊ†∑Â∞±ÈÅøÂÖç‰∫ÜÁî®Êà∑Áõ¥Êé•‰ªéSession‰∏≠Ëé∑ÂèñÂÆâÂÖ®‰∏ä‰∏ãÊñá‰ø°ÊÅØ SecurityContextHolder.setContext(contextBeforeChainExecution); chain.doFilter(holder.getRequest(), holder.getResponse()); var13 = false; &#125; finally &#123; if(var13) &#123; SecurityContext contextAfterChainExecution = SecurityContextHolder.getContext();\ //ËØ∑Ê±ÇÁªìÊùüÂêéÔºåÊ∏ÖÁ©∫ÂÆâÂÖ®‰∏ä‰∏ãÊñá‰ø°ÊÅØ SecurityContextHolder.clearContext(); this.repo.saveContext(contextAfterChainExecution, holder.getRequest(), holder.getResponse()); request.removeAttribute("__spring_security_scpf_applied"); &#125; &#125; ... &#125; &#125;&#125; UsernamePasswordAuthenticationFilterËøô‰∏™ÂèØËÉΩÊòØÊàë‰ª¨ÈÅáËßÅÊúÄÂ§öÁöÑËøáÊª§Âô®‰∫ÜÔºå‰∏Ä‰∏™ÊúÄÁõ¥ËßÇÁöÑ‰∏öÂä°Âú∫ÊôØ‰æøÊòØÂÖÅËÆ∏Áî®Êà∑Âú®Ë°®Âçï‰∏≠ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅËøõË°åÁôªÂΩïÔºåËÄåËøôËÉåÂêéÁî®Âà∞ÁöÑÂ∞±ÊòØUsernamePasswordAuthenticationFilter„ÄÇËøô‰∏™ËøáÊª§Âô®‰πüÂèØ‰ª•ËßÅËØÅÊàë‰ª¨‰πãÂâçÁîªÁöÑÊó∂Â∫èÂõæÔºåÊàë‰ª¨ÁúãÁúãÂÆÉÁöÑÊ∫êÁ†ÅÔºö123456789101112131415161718192021public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException &#123; if(this.postOnly &amp;&amp; !request.getMethod().equals("POST")) &#123; throw new AuthenticationServiceException("Authentication method not supported: " + request.getMethod()); &#125; else &#123; // Ëé∑ÂèñÁî®Êà∑ÂêçÔºåÂØÜÁ†Å String username = this.obtainUsername(request); String password = this.obtainPassword(request); if(username == null) &#123; username = ""; &#125; if(password == null) &#123; password = ""; &#125; username = username.trim(); // ÁîüÊàêAuthenticationÔºå‰∏ãÈù¢‰ºö‰ªãÁªç UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(username, password); this.setDetails(request, authRequest); // ËÆ≤Authentication‰∫§ÁªôAuthenticationManagerËÆ§ËØÅ return this.getAuthenticationManager().authenticate(authRequest); &#125; &#125; Ëá™ÂÆö‰πâFilterÂΩìËá™Â∏¶ÁöÑFilter‰∏çËÉΩÊª°Ë∂≥‰Ω†ÁöÑË¶ÅÊ±ÇÊó∂Ôºà‰æãÂ¶ÇÊàë‰ª¨Ë¶ÅÂÖàÂØπtokenËøõË°åËÆ§ËØÅÔºâÔºåÊàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâËøáÊª§Âô®ÔºåÂè™Ë¶ÅÁªßÊâøÂêÑÁßçFilterÊé•Âè£ÔºåÂπ∂ÂÆûÁé∞ÂÖ∂‰∏≠ÊñπÊ≥ïÂç≥ÂèØ„ÄÇ AuthenticationÂÖàÁúã‰ªñÁöÑÊ∫êÁ†ÅÔºö12345678910111213public interface Authentication extends Principal, Serializable &#123; // ÊùÉÈôê‰ø°ÊÅØÂàóË°® Collection&lt;? extends GrantedAuthority&gt; getAuthorities(); // ÂØÜÁ†Å‰ø°ÊÅØÔºåÁî®Êà∑ËæìÂÖ•ÁöÑÂØÜÁ†ÅÂ≠óÁ¨¶‰∏≤ÔºåÂú®ËÆ§ËØÅËøáÂêéÈÄöÂ∏∏‰ºöË¢´ÁßªÈô§ÔºåÁî®‰∫é‰øùÈöúÂÆâÂÖ® Object getCredentials(); // ÁªÜËäÇ‰ø°ÊÅØÔºåÂÆÉËÆ∞ÂΩï‰∫ÜËÆøÈóÆËÄÖÁöÑipÂú∞ÂùÄÂíåsessionIdÁöÑÂÄº„ÄÇ Object getDetails(); // ÊúÄÈáçË¶ÅÁöÑË∫´‰ªΩ‰ø°ÊÅØÔºåÂ§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãËøîÂõûÁöÑÊòØUserDetailsÊé•Âè£ÁöÑÂÆûÁé∞Á±ª Object getPrincipal(); // ÊòØÂê¶Â∑≤ËÆ§ËØÅ boolean isAuthenticated(); void setAuthenticated(boolean var1) throws IllegalArgumentException;&#125; ‰ªéÂÆÉÁöÑÊ∫êÁ†ÅÂèØ‰ª•Áü•ÈÅìÂÆÉÊã•ÊúâÁöÑÊùÉÈôê‰ø°ÊÅØÂàóË°®ÔºåÂØÜÁ†ÅÔºåÁî®Êà∑ÁªÜËäÇ‰ø°ÊÅØÔºåÁî®Êà∑Ë∫´‰ªΩ‰ø°ÊÅØÔºåËÆ§ËØÅ‰ø°ÊÅØ„ÄÇ ÂÆÉÊúâÂæàÂ§öÂÆûÁé∞Á±ªÔºåÊØîÂ¶ÇÊµÅÁ®ãÂõæ‰∏≠ÁöÑUsernamePasswordAuthenticationTokenÔºå‰ª•ÂèäAnonymousAuthenticationTokenÁ≠â„ÄÇ AuthenticationManagerÂÖàÁúãÁúãÂÆÉÁöÑÊ∫êÁ†ÅÔºö1234public interface AuthenticationManager &#123; // ‰∏ªË¶ÅÊòØËÆ§ËØÅ‰º†ËøõÊù•ÁöÑAuthentication Authentication authenticate(Authentication var1) throws AuthenticationException;&#125; ÂÆÉÊúÄÊúâÁî®ÁöÑÂÆûÁé∞Á±ªÂ∞±ÊòØÊµÅÁ®ãÂõæ‰∏≠ÁöÑProviderManagerÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÁúãÂÆÉÁöÑÊ∫êÁ†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public class ProviderManager implements AuthenticationManager, MessageSourceAware, InitializingBean &#123; // Áª¥Êä§‰∏Ä‰∏™AuthenticationProviderÂàóË°® private List&lt;AuthenticationProvider&gt; providers; private boolean eraseCredentialsAfterAuthentication; public Authentication authenticate(Authentication authentication) throws AuthenticationException &#123; Class&lt;? extends Authentication&gt; toTest = authentication.getClass(); AuthenticationException lastException = null; // Ë¶Å‰ªéÊñ∞ËøîÂõûÁöÑAuthentication Authentication result = null; // ÈÅçÂéÜAuthenticationProviderÂàóË°® Iterator var6 = this.getProviders().iterator(); while(var6.hasNext()) &#123; AuthenticationProvider provider = (AuthenticationProvider)var6.next(); if(provider.supports(toTest)) &#123; try &#123; // ÂØπ‰º†ËøõÊù•ÁöÑauthenticationËøõË°åËÆ§ËØÅ result = provider.authenticate(authentication); if(result != null) &#123; // Â∞ÜÂ±ûÊÄßÂ§çÂà∂Áªôresult this.copyDetails(authentication, result); break; &#125; &#125; catch (AccountStatusException var11) &#123; ... &#125; &#125; &#125; if(result == null &amp;&amp; this.parent != null) &#123; try &#123; // Â¶ÇÊûúÂàóË°®ÈáåÁöÑProviderÈÉΩ‰∏çÊîØÊåÅËØ•authenticationÔºåÂàôÂà∞Áà∂Á±ªÊü•Êâæ result = this.parent.authenticate(authentication); &#125; catch (ProviderNotFoundException var9) &#123; ; &#125; catch (AuthenticationException var10) &#123; lastException = var10; &#125; &#125; if(result != null) &#123; if(this.eraseCredentialsAfterAuthentication &amp;&amp; result instanceof CredentialsContainer) &#123; // Êì¶Èô§ÂØÜÁ†Å‰ø°ÊÅØ ((CredentialsContainer)result).eraseCredentials(); &#125; this.eventPublisher.publishAuthenticationSuccess(result); return result; &#125; else &#123; ... &#125; &#125; AuthenticationProviderÁúãÁúãÂÆÉÁöÑÊ∫êÁ†ÅÂÖàÔºö123456public interface AuthenticationProvider &#123; // ËÆ§ËØÅ Authentication authenticate(Authentication var1) throws AuthenticationException; // Âà§Êñ≠ÊòØÂê¶ÊîØÊåÅ‰º†ËøõÊù•ÁöÑAuthentication boolean supports(Class&lt;?&gt; var1);&#125; Êàë‰ª¨Êé•ÁùÄÁúãÁúãÂÆÉÊúÄÂ∏∏Áî®ÁöÑ‰∏Ä‰∏™ÂÆûÁé∞DaoAuthenticationProvider„ÄÇ‰πüÁúãÁúãÂÆÉÁöÑÊ∫êÁ†ÅÔºö1234567891011121314151617181920212223242526272829303132333435public class DaoAuthenticationProvider extends AbstractUserDetailsAuthenticationProvider &#123; // ÂØÜÁ†ÅÂä†ÂØÜÂô® private PasswordEncoder passwordEncoder; // Âä†ËΩΩÁî®Êà∑ÁöÑUserDetailsService private UserDetailsService userDetailsService; protected void additionalAuthenticationChecks(UserDetails userDetails, UsernamePasswordAuthenticationToken authentication) throws AuthenticationException &#123; if(authentication.getCredentials() == null) &#123; ... &#125; else &#123; // È™åËØÅÂØÜÁ†Å String presentedPassword = authentication.getCredentials().toString(); if(!this.passwordEncoder.matches(presentedPassword, userDetails.getPassword())) &#123; ... &#125; &#125; &#125; // ÊúÄÊ†∏ÂøÉÁöÑÊñπÊ≥ï protected final UserDetails retrieveUser(String username, UsernamePasswordAuthenticationToken authentication) throws AuthenticationException &#123; this.prepareTimingAttackProtection(); try &#123; // Ëé∑ÂæóUserDetails UserDetails loadedUser = this.getUserDetailsService().loadUserByUsername(username); if(loadedUser == null) &#123; ... &#125; else &#123; return loadedUser; &#125; &#125; catch (UsernameNotFoundException var4) &#123; ... &#125; &#125;&#125; UserDetailsServiceÂÖàÁúãÁúãÂÆÉÁöÑÊ∫êÁ†ÅÔºö123public interface UserDetailsService &#123; UserDetails loadUserByUsername(String var1) throws UsernameNotFoundException;&#125; Ëøô‰∏™Êé•Âè£ÁöÑÂÆûÁé∞Á±ªÊúâJdbcDaoImplÔºàË¥üË¥£‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩÁî®Êà∑ÔºâÁ≠âÔºåÂΩìÁÑ∂Êàë‰ª¨‰πüÂèØ‰ª•Ëá™Â∑±ÂÆûÁé∞Ëøô‰∏™Êé•Âè£„ÄÇÂè™Ë¶ÅÂÆûÁé∞loadUserByUsernameÊñπÊ≥ïÂç≥ÂèØ„ÄÇ ÂÜçÁúãÁúãUserDetailsÊòØ‰∏™‰ªÄ‰πà‰∏úË•øÔºü ÁúãÁúãÂÆÉÊ∫êÁ†ÅÔºö12345678910111213141516public interface UserDetails extends Serializable &#123; // ÊùÉÈôêÂ±ûÊÄß Collection&lt;? extends GrantedAuthority&gt; getAuthorities(); // ÂØÜÁ†ÅÂ±ûÊÄß String getPassword(); // Áî®Êà∑ÂêçÂ±ûÊÄß String getUsername(); // Ë¥¶Êà∑ÊòØÂê¶ËøáÊúü boolean isAccountNonExpired(); // Ë¥¶Êà∑ÊòØÂê¶Ë¢´ÈîÅ boolean isAccountNonLocked(); // ÂØÜÁ†ÅÊòØÂê¶ËøáÊúü boolean isCredentialsNonExpired(); // ÊòØÂê¶ÂêØÁî® boolean isEnabled();&#125; ÂÆÉ‰ª£Ë°®‰∫ÜÊúÄËØ¶ÁªÜÁöÑÁî®Êà∑‰ø°ÊÅØÔºåËøô‰∏™Êé•Âè£Ê∂µÁõñ‰∫Ü‰∏Ä‰∫õÂøÖË¶ÅÁöÑÁî®Êà∑‰ø°ÊÅØÂ≠óÊÆµÔºåÂÖ∑‰ΩìÁöÑÂÆûÁé∞Á±ªÂØπÂÆÉËøõË°å‰∫ÜÊâ©Â±ï„ÄÇËøôÈáåÊàë‰ª¨ÊôÆÈÄöÁöÑUserÁ±ª‰πüÂèØ‰ª•ÂÆûÁé∞Ëøô‰∏™Êé•Âè£„ÄÇ Ê†∏ÂøÉÈÖçÁΩÆÈÄöËøáÊàë‰ª¨‰∏äÈù¢ÂØπÊ†∏ÂøÉÁªÑ‰ª∂ÁöÑËß£ËØªÂÜçÁªìÂêàÊµÅÁ®ãÊµÅÂ∞±Â∫îËØ•ÂèØ‰ª•ÁêÜËß£SpringSecurityÁöÑËØ∑Ê±ÇËÆ§ËØÅËøáÁ®ã„ÄÇ‰ΩÜÊòØ‰∏çÂèØËÉΩÊàë‰ª¨ÂØπÊâÄÊúâÁöÑË∑ØÂæÑÈÉΩÈúÄË¶ÅËÆ§ËØÅÔºåÊàñËÄÖËØ¥ÂÆÉÊÄªË¶ÅÊèê‰æõ‰∏Ä‰∏™‰∏úË•øËÆ©Êàë‰ª¨ÈÖçÁΩÆÂÆÉÁöÑÁªÜËäÇÔºåÈÇ£Â∞±ÊòØWebSecurityConfigurerAdapterÊé•Âè£ÔºåÂÆÉ‰∏ªË¶Å‰ΩøÁî®‰∫ÜÈÄÇÈÖçÂô®Ê®°Âºè„ÄÇÊàë‰ª¨‰∏ªË¶ÅÁúãÁúãÊàë‰ª¨ÈúÄË¶ÅË¶ÜÁõñÂÆÉÁöÑÊñπÊ≥ïÔºö12345678910111213public abstract class WebSecurityConfigurerAdapter implements WebSecurityConfigurer&lt;WebSecurity&gt; &#123; // ÈÖçÁΩÆAuthenticationManagerBuilder protected void configure(AuthenticationManagerBuilder auth) throws Exception &#123; this.disableLocalConfigureAuthenticationBldr = true; &#125; // ÈÖçÁΩÆWebSecurity public void configure(WebSecurity web) throws Exception &#123; &#125; // ÈÖçÁΩÆHttpSecurity protected void configure(HttpSecurity http) throws Exception &#123; ((HttpSecurity)((HttpSecurity)((AuthorizedUrl)http.authorizeRequests().anyRequest()).authenticated().and()).formLogin().and()).httpBasic(); &#125;&#125; ÈÖçÁΩÆAuthenticationManagerBuilderÊàë‰ª¨ÂèØ‰ª•ÁúãÁúãÂÆÉÁöÑ‰ΩøÁî®Ê°à‰æãÔºö123456789public class WebSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Override protected void configure(AuthenticationManagerBuilder auth) throws Exception &#123; auth .inMemoryAuthentication() .withUser("admin").password("admin").roles("USER"); &#125;&#125; ÊÉ≥Ë¶ÅÂú®WebSecurityConfigurerAdapter‰∏≠ËøõË°åËÆ§ËØÅÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆÔºåÂèØ‰ª•‰ΩøÁî®configure(AuthenticationManagerBuilder auth)Êö¥Èú≤‰∏Ä‰∏™AuthenticationManagerÁöÑÂª∫ÈÄ†Âô®ÔºöAuthenticationManagerBuilder „ÄÇÂ¶Ç‰∏äÊâÄÁ§∫ÔºåÊàë‰ª¨‰æøÂÆåÊàê‰∫ÜÂÜÖÂ≠ò‰∏≠Áî®Êà∑ÁöÑÈÖçÁΩÆÔºå‰πüÂèØ‰ª•Âú®ËøôÈáåËÆ≤Ëá™Â∑±ÂÆö‰πâÁöÑUserDetailServiceÊ≥®ÂÖ•„ÄÇ ÈÖçÁΩÆWebSecurityÊàë‰ª¨ÂèØ‰ª•ÁúãÁúãÂÆÉÁöÑ‰ΩøÁî®Ê°à‰æãÔºö12345678910111213141516171819202122232425262728293031public class WebSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Override protected void configure(HttpSecurity http) throws Exception &#123; http // ÈÖçÁΩÆË∑ØÂæÑÊã¶Êà™ÔºåË°®ÊòéË∑ØÂæÑËÆøÈóÆÊâÄÂØπÂ∫îÁöÑÊùÉÈôêÔºåËßíËâ≤ÔºåËÆ§ËØÅ‰ø°ÊÅØ„ÄÇ .authorizeRequests() .antMatchers("/resources/**", "/signup", "/about").permitAll() .antMatchers("/admin/**").hasRole("ADMIN") .antMatchers("/db/**").access("hasRole('ADMIN') and hasRole('DBA')") .anyRequest().authenticated() .and() // ÈÖçÁΩÆË°®ÂçïËÆ§ËØÅ .formLogin() .usernameParameter("username") .passwordParameter("password") .failureForwardUrl("/login?error") .loginPage("/login") .permitAll() .and() // ÈÖçÁΩÆÊ≥®ÈîÄ .logout() .logoutUrl("/logout") .logoutSuccessUrl("/index") .permitAll() .and() // ÈÖçÁΩÆbasicÁôªÂΩï .httpBasic() .disable(); &#125;&#125; ÊñπÊ≥ïÈáåÁöÑÂêÑÈ°πÈÖçÁΩÆÂàÜÂà´‰ª£Ë°®‰∫ÜhttpËØ∑Ê±ÇÁõ∏ÂÖ≥ÁöÑÂÆâÂÖ®ÈÖçÁΩÆÔºåËøô‰∫õÈÖçÁΩÆÈ°πÊó†‰∏Ä‰æãÂ§ñÁöÑËøîÂõû‰∫ÜConfigurerÁ±ªÔºåËÄåÊâÄÊúâÁöÑhttpÁõ∏ÂÖ≥ÈÖçÁΩÆÂèØ‰ª•ÈÄöËøáÊü•ÁúãHttpSecurityÁöÑ‰∏ªË¶ÅÊñπÊ≥ïÂæóÁü•„ÄÇ WebSecurityBuilderÊàë‰ª¨ÂèØ‰ª•ÁúãÁúãÂÆÉÁöÑ‰ΩøÁî®Ê°à‰æãÔºö12345678public class WebSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Override public void configure(WebSecurity web) throws Exception &#123; web .ignoring() .antMatchers("/resources/**"); &#125;&#125; Ëøô‰∏™ÈÖçÁΩÆ‰∏≠Âπ∂‰∏ç‰ºöÂá∫Áé∞Â§™Â§öÁöÑÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇ Êû∂ÊûÑ Â∞ÜËøô‰∏™Êû∂ÊûÑÂõæÁªìÂêàÊµÅÁ®ãÂõæÊàë‰ª¨‰ºöÂèØ‰ª•Â§ßËá¥ÊÄªÁªìÂá∫Ê†∏ÂøÉÁªÑ‰ª∂‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºåÊúâÂà©‰∫éÊàë‰ª¨Êàë‰ª¨Êõ¥Â•ΩÁöÑÁêÜËß£SpringSecurityÁöÑÊû∂ÊûÑ‰ª•ÂèäËØ∑Ê±ÇËÆ§ËØÅËøáÁ®ã„ÄÇ ÂèÇËÄÉ Spring Security(‰∏Ä)‚ÄìArchitecture Overview Spring SecurityÊ∫êÁ†ÅÂàÜÊûê‰∏ÄÔºöSpring SecurityËÆ§ËØÅËøáÁ®ã]]></content>
      <categories>
        <category>Ê∑±ÂÖ•SSM</category>
      </categories>
      <tags>
        <tag>SpringSecurity</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êè≠ÁßòSpringBoot(‰∏Ä)_SpringBootËøêË°åÂéüÁêÜ]]></title>
    <url>%2F2018%2F04%2F21%2F%E6%B7%B1%E5%85%A5SSM%2F%E6%8F%AD%E7%A7%98SpringBoot-%E4%B8%80-SpringBoot%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂèØËÉΩ‰Ω†Êó©Â∑≤ÂºÄÂßã‰ΩøÁî®SpringBootÔºå‰ΩÜÊòØ‰Ω†Âç¥‰∏çÁü•ÈÅìSpringBootÊòØ‰∏™‰ªÄ‰πà‰∏úË•øÔºå‰ªñÂèàÊòØÊÄé‰πàËøêË°åÁöÑÔºåËøôÈáåÁªô‰Ω†Á≠îÊ°àÔºÅ SpringBootÊòØ‰ªÄ‰πàÁî®ËøáSpringÁöÑ‰∫∫ÈÉΩÁü•ÈÅìÔºå‰Ω†ËÇØÂÆöÈúÄË¶Å‰∫õÂæàÂ§öÂæàÂ§öÁöÑXMLÊù•Áî®ÈÖçÁΩÆÂ§çÊùÇÁöÑ‰æùËµñÂÖ≥Á≥ªÔºå‰Ω†ËÇØÂÆöÂéåÂÄ¶‰∫Ü„ÄÇËøô‰∏™Êó∂ÂÄôSpringBootÂá∫Áé∞‰∫ÜÔºåSpringBootÊòØÁî±PivotalÂõ¢ÈòüÊèê‰æõÁöÑÂÖ®Êñ∞Ê°ÜÊû∂ÔºåÂÖ∂ËÆæËÆ°ÁõÆÁöÑÊòØÁî®Êù•ÁÆÄÂåñÊñ∞SpringÂ∫îÁî®ÁöÑÂàùÂßãÊê≠Âª∫‰ª•ÂèäÂºÄÂèëËøáÁ®ã„ÄÇËØ•Ê°ÜÊû∂‰ΩøÁî®‰∫ÜÁâπÂÆöÁöÑÊñπÂºèÊù•ËøõË°åÈÖçÁΩÆÔºå‰ªéËÄå‰ΩøÂºÄÂèë‰∫∫Âëò‰∏çÂÜçÈúÄË¶ÅÂÆö‰πâÊ†∑ÊùøÂåñÁöÑÈÖçÁΩÆÔºàÊÉ≥ÊÉ≥ËÇØÂÆö‰ºöÂæàÂºÄÂøÉÔºâ„ÄÇ Ê†∏ÂøÉÁêÜÂøµ‰π†ÊÉØ‰ºò‰∫éÈÖçÁΩÆ SpringBoot‰∏éSpring FrameworkÁöÑÂå∫Âà´ÂÅö‰∏™‰∏ãÈù¢ÁöÑÊØîÂñªÔºö SpringFramework Â∞±ÂÉè‰∏Ä‰∏™Â§ßÂûãÁîµÂ≠êÂô®‰ª∂Áîü‰∫ßÂÖ¨Âè∏ÔºåÂÆÉÁîü‰∫ßÁöÑÁîµÂ≠êÂô®‰ª∂ÔºàÊØîÂ¶ÇzookeeperÔºåredisÁ≠âÊï¥ÂêàÂåÖÔºâÈÉΩÂæà‰ºòÁßÄÔºåÂΩìÂÖ∂‰ªñÂ∞èÂÖ¨Âè∏ÔºàÂºÄÂèëËÄÖÔºâÁîü‰∫ßÊú∫Âô®‰∫∫ÔºàÈ°πÁõÆÔºâÈúÄË¶Å‰ΩøÁî®Âà∞ÂÆÉÁöÑÁîµÂ≠êÂô®‰ª∂Êó∂ÔºåÂ∞±ÂèëÁé∞ÈúÄË¶ÅÂ§ßÈáèÁöÑÁÑäÊé•Â∑•‰ΩúÔºàÈÖçÁΩÆXMLÔºâÊù•ËøûÊé•Ëá™Â∑±ÁöÑÁîµÂ≠êÂô®‰ª∂ÔºàzookeeperÔºåredisÔºâÔºåËøôÊ†∑ÁúüÁöÑÂ§™ËÄóÊó∂‰∫ÜÔºåËÄåSpringBoot Â∞±ÂÉèËøô‰∏™ÁîµÂ≠êÂô®‰ª∂Áîü‰∫ßÂÖ¨Âè∏Âú®ÂéüÊù•ÁîµÂ≠êÂô®‰ª∂ÁöÑÂü∫Á°Ä‰∏äÂåÖË£ÖÂá∫Êù•ÁöÑËÆ∏Â§öÁªü‰∏ÄÁöÑÊèíÂè£ÔºàÂêÑÁßçstarterÔºâÔºåËøô‰∫õÊèíÂ§¥ÂèØ‰ª•‰∏éÂ∞èÂÖ¨Âè∏ÁöÑÁîµÂ≠êÂô®‰ª∂ÂèØ‰ª•Áõ¥Êé•ËøûÊé•Ôºå‰∏çÈúÄË¶ÅÁÑäÊé•Â∑•‰ΩúÂ∞±ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®„ÄÇ ÈÄöËøá‰∏äÈù¢ÁöÑÊØîÂñªÊàë‰ª¨ÂèØ‰ª•‰∫ÜËß£Âà∞‰ªñ‰ª¨‰∏§ËÄÖÁöÑÂå∫Âà´Ôºå‰πüÂèëÁé∞ÂÖ∂ÂÆûSpringBootÂπ∂‰∏çÊòØ‰ªÄ‰πàÊñ∞‰∏úË•øÔºåÂÆÉÂè™ÊòØÂéüÊù•SpringÁöÑÂü∫Á°Ä‰∏äÈáçÊñ∞ÂåÖË£ÖËøáÔºå‰ªéËÄåÁÆÄÂåñ‰∫ÜSpringÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆ„ÄÇ SpringBootÁöÑÊ†∏ÂøÉÂäüËÉΩ SpringBootÂèØ‰ª•‰ª•jarÂåÖÁöÑÂΩ¢ÂºèÁã¨Á´ãËøêË°åÔºåÂõ†‰∏∫SpringBootÂÜÖÂµåServletÂÆπÂô®ÔºåÂ¶ÇTomcat„ÄÅJetty„ÄÇ Spring‰ºöÊ†πÊçÆÁ±ªË∑ØÂæÑ‰∏≠ÁöÑjarÂåÖ„ÄÅÁ±ªÔºå‰∏∫jarÂåÖÈáåÁöÑÁ±ªËá™Âä®ÈÖçÁΩÆBeanÔºåÊûÅÂ§ßÂáèÂ∞ë‰∫ÜÊàë‰ª¨Ë¶Å‰ΩøÁî®ÁöÑÈÖçÁΩÆ„ÄÇ Êèê‰æõstarter(Ëµ∑Âä®Êú∫)ÁÆÄÂåñ‰∫ÜMavenÈÖçÁΩÆ(‰æùËµñÂä†ËΩΩ)Ôºå‰∏Ä‰∏™starter‰æùËµñÊäµ‰∫ÜÂ•ΩÂá†‰∏™‰æùËµñ„ÄÇ SpringBootËøêË°åÂéüÁêÜ ÂØπ‰∫éSpringBootÂ∑•Á®ãÊàë‰ª¨ÊÄªÊòØÂÖàÁúãÂà∞ÂÆÉÁöÑÂêØÂä®Á±ªÔºåÂ¶Ç‰∏ãÔºö 1234567@SpringBootApplicationpublic class SpringbootLoginApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(SpringbootLoginApplication.class, args); &#125;&#125; ÂØπ‰∫éSpringBootÁöÑËøê‰ΩúÂéüÁêÜÔºåÊàë‰ª¨Â∫îËØ•ÂÖà‰ªéÂêØÂä®Á±ªÁöÑ@SpringBootApplicationÊ≥®Ëß£Êù•ÂàÜÊûêÔºåËøô‰∏™Ê≥®Ëß£ÊòØ‰∏Ä‰∏™ÁªÑÂêàÊ≥®Ëß£ÔºåÊàë‰ª¨ËøõÂÖ•ÂÆÉÁöÑÊ∫êÁ†ÅÁúãÁúãÔºö 1234567891011121314151617181920212223242526272829303132333435363738@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@SpringBootConfiguration@EnableAutoConfiguration@ComponentScan( excludeFilters = &#123;@Filter( type = FilterType.CUSTOM, classes = &#123;TypeExcludeFilter.class&#125;), @Filter( type = FilterType.CUSTOM, classes = &#123;AutoConfigurationExcludeFilter.class&#125;)&#125;)public @interface SpringBootApplication &#123; @AliasFor( annotation = EnableAutoConfiguration.class ) Class&lt;?&gt;[] exclude() default &#123;&#125;; @AliasFor( annotation = EnableAutoConfiguration.class ) String[] excludeName() default &#123;&#125;; @AliasFor( annotation = ComponentScan.class, attribute = "basePackages" ) String[] scanBasePackages() default &#123;&#125;; @AliasFor( annotation = ComponentScan.class, attribute = "basePackageClasses" ) Class&lt;?&gt;[] scanBasePackageClasses() default &#123;&#125;;&#125; ÊÄªÂæóÊù•ËØ¥ÊúÄÈáçË¶ÅÁöÑÂ∞±ÊòØ@SpringBootConfigurationÔºå@EnableAutoConfigurationÔºå@ComponentScanËøô‰∏â‰∏™Ê≥®Ëß£ÔºåÊàë‰ª¨‰∏Ä‰∏™‰∏™ÂàÜÊûêÔºö @SpringBootConfiguration Êàë‰ª¨ËøõÂÖ•ËØ•Ê≥®Ëß£ÔºåÊàëÂèëÁé∞ÂÆÉÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Configurationpublic @interface SpringBootConfiguration &#123;&#125; ‰Ω†‰ºöÂèëÁé∞ÂÖ∂Ê†∏ÂøÉÊ≥®Ëß£Â∞±ÊòØ@ConfigurationÔºåÂÆÉÂØπ‰∫éÊàë‰ª¨Êù•ËØ¥Â∫îËØ•‰∏çÈôåÁîüÔºåÂõ†‰∏∫ÂÆÉÂ∞±ÊòØJavaÈÖçÁΩÆÂΩ¢ÂºèÁöÑSpring IocÂÆπÂô®ÁöÑÈÖçÁΩÆÁ±ª‰ΩøÁî®ÁöÑÈÇ£‰∏™@ConfigurationÔºàÁõ∏ÂΩì‰∫éXMLÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰∏Ä‰∏™BeanÔºâÔºåSpringBootÁ§æÂå∫Êé®Ëçê‰ΩøÁî®Âü∫‰∫éJavaConfigÁöÑÈÖçÁΩÆÂΩ¢ÂºèÔºåÊâÄ‰ª•ÔºåËøôÈáåÁöÑÂêØÂä®Á±ªÊ†áÊ≥®‰∫Ü@Configuration‰πãÂêéÔºåÊú¨Ë∫´ÂÖ∂ÂÆû‰πüÊòØ‰∏Ä‰∏™IoCÂÆπÂô®ÁöÑÈÖçÁΩÆÁ±ª„ÄÇ @ComponentScan Ëøô‰∏™Ê≥®Ëß£ÂæàÁÆÄÂçïÔºåÂæàÂ∏∏ËßÅÔºå‰ΩÜÊòØ‰πüÂæàÈáçË¶Å„ÄÇÂÆÉ‰∏ªË¶ÅÁöÑ‰ΩúÁî®Â∞±ÊòØËá™Âä®Êâ´ÊèèÂπ∂Âä†ËΩΩÁ¨¶ÂêàÊù°‰ª∂ÁöÑÁªÑ‰ª∂ÔºàÊØîÂ¶Ç@ControllerÂíå@ServiceÁ≠âÔºâÊàñËÄÖbeanÂÆö‰πâÔºåÊúÄÁªàÂ∞ÜËøô‰∫õbeanÂÆö‰πâÂä†ËΩΩÂà∞IoCÂÆπÂô®‰∏≠„ÄÇÊàë‰ª¨ÁúãÁúãÂÆÉÁöÑÊ∫êÁ†ÅÔºö 123456789101112131415161718192021222324252627282930313233343536373839@Retention(RetentionPolicy.RUNTIME)@Target(&#123;ElementType.TYPE&#125;)@Documented@Repeatable(ComponentScans.class)public @interface ComponentScan &#123;// ËÆæÁΩÆÈªòËÆ§Ë∑ØÂæÑ@AliasFor("basePackages")String[] value() default &#123;&#125;;// Â¶ÇÊûú‰∏çÊåáÂÆöÔºåÂàôÈªòËÆ§SpringÊ°ÜÊû∂ÂÆûÁé∞‰ºö‰ªéÂ£∞Êòé@ComponentScanÊâÄÂú®Á±ªÁöÑpackageËøõË°åÊâ´Êèè„ÄÇ// ÊâÄ‰ª•SpringBootÁöÑÂêØÂä®Á±ªÊúÄÂ•ΩÊòØÊîæÂú®root package‰∏ãÔºåÂõ†‰∏∫ÈªòËÆ§‰∏çÊåáÂÆöbasePackages„ÄÇ@AliasFor("value")String[] basePackages() default &#123;&#125;;Class&lt;?&gt;[] basePackageClasses() default &#123;&#125;;Class&lt;? extends BeanNameGenerator&gt; nameGenerator() default BeanNameGenerator.class;Class&lt;? extends ScopeMetadataResolver&gt; scopeResolver() default AnnotationScopeMetadataResolver.class;ScopedProxyMode scopedProxy() default ScopedProxyMode.DEFAULT;// Êâ´ÊèèÁ±ªÂûãString resourcePattern() default "**/*.class";// ÂèØËÆæÁΩÆËøáÊª§Âô®boolean useDefaultFilters() default true;ComponentScan.Filter[] includeFilters() default &#123;&#125;;ComponentScan.Filter[] excludeFilters() default &#123;&#125;;// ÈÖçÁΩÆÊáíÂä†ËΩΩÔºåÂ¶ÇÊûúÊ≤°Ë¢´‰ΩøÁî®ÔºåÂ∞±ÂÖà‰∏çÁîüÊàêBeanboolean lazyInit() default false;@Retention(RetentionPolicy.RUNTIME)@Target(&#123;&#125;)public @interface Filter &#123; FilterType type() default FilterType.ANNOTATION; @AliasFor("classes") Class&lt;?&gt;[] value() default &#123;&#125;; @AliasFor("value") Class&lt;?&gt;[] classes() default &#123;&#125;; String[] pattern() default &#123;&#125;;&#125;&#125; @EnableAutoConfiguration Ëøô‰∏™Ê≥®Ëß£ÂèØ‰ª•ËØ¥ÊòØSpringBootËá™Âä®ÈÖçÁΩÆÁöÑÊ†∏ÂøÉ‰∫ÜÔºåÁÅ∞Â∏∏ÈáçË¶Å„ÄÇÊàë‰ª¨ËøõÂéªÁúã‰∏Ä‰∏ãÂÆÉÁöÑÊ∫êÁ†ÅÔºö 1234567891011121314@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@AutoConfigurationPackage// ÂÄüÂä©@ImportÁöÑÂ∏ÆÂä©ÔºåÂ∞ÜÊâÄÊúâÁ¨¶ÂêàËá™Âä®ÈÖçÁΩÆÊù°‰ª∂ÁöÑbeanÂÆö‰πâÂä†ËΩΩÂà∞IoCÂÆπÂô®@Import(&#123;AutoConfigurationImportSelector.class&#125;)public @interface EnableAutoConfiguration &#123; String ENABLED_OVERRIDE_PROPERTY = "spring.boot.enableautoconfiguration"; Class&lt;?&gt;[] exclude() default &#123;&#125;; String[] excludeName() default &#123;&#125;;&#125; Êàë‰ª¨ÈúÄË¶ÅÂ•ΩÂ•ΩÁúãÁúãAutoConfigurationImportSelectorÔºåÂÆÉÂà©Áî®SpringFactoriesLoader.loadFactoryNamesÊñπÊ≥ïÊù•Êâ´ÊèèÂÖ∑ÊúâMETA-INF/spring.factories Êñá‰ª∂ÁöÑjarÂåÖÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234protected List&lt;String&gt; getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAttributes attributes) &#123;List&lt;String&gt; configurations = SpringFactoriesLoader.loadFactoryNames(this.getSpringFactoriesLoaderFactoryClass(), this.getBeanClassLoader());return configurations;&#125; ÈÖçÂêà@EnableAutoConfiguration‰ΩøÁî®ÁöÑËØùÔºåÂÆÉÊõ¥Â§öÊòØÊèê‰æõ‰∏ÄÁßçÈÖçÁΩÆÊü•ÊâæÁöÑÂäüËÉΩÊîØÊåÅÔºåÂç≥Ê†πÊçÆ@EnableAutoConfigurationÁöÑÂÆåÊï¥Á±ªÂêçÂ¶Çorg.springframework.boot.autoconfigure.EnableAutoConfiguration‰Ωú‰∏∫Êü•ÊâæÁöÑKey,Ëé∑ÂèñÂØπÂ∫îÁöÑ‰∏ÄÁªÑ@ConfigurationÁ±ªÔºåÂπ∂Â∞ÜÂÖ∂‰∏≠org.springframework.boot.autoconfigure.EnableAutoConfigurationÂØπÂ∫îÁöÑÈÖçÁΩÆÈ°πÂÆû‰æãÂåñ‰∏∫ÂØπÂ∫îÁöÑÊ†áÊ≥®‰∫Ü@ConfigurationÁöÑJavaConfigÂΩ¢ÂºèÁöÑIoCÂÆπÂô®ÈÖçÁΩÆÁ±ªÔºåÁÑ∂ÂêéÊ±áÊÄª‰∏∫‰∏Ä‰∏™ÔºàÁõ∏ÂΩì‰∫é‰∏Ä‰∏™XMLÊñá‰ª∂ÔºâÂπ∂Âä†ËΩΩÂà∞IoCÂÆπÂô®ÔºàÂíåSpring‰∏ÄÊ†∑Ôºâ„ÄÇ Êàë‰ª¨ÂèØ‰ª•ÁúãÁúãspring-boot-autoconfigure.jar ÈáåÂ∞±Êúâ‰∏Ä‰∏™spring.factories Êñá‰ª∂ÔºåÊ≠§Êñá‰ª∂‰∏≠Â£∞Êòé‰∫ÜÊúâÂì™‰∫õËá™Âä®ÈÖçÁΩÆ„ÄÇÊàë‰ª¨Áúã‰∏ÄÁÇπÁÇπÔºö 12345# Auto Configureorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\# ÈÖçÁΩÆAOPÂØπË±°org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\ ÁúãÂÆå@SpringBootApplicationÊ≥®Ëß£ÔºåÊàë‰ª¨ÂÜçÁúãÁúãSpringApplicationÁöÑrunÊñπÊ≥ï„ÄÇ Êàë‰ª¨ÈÄöËøádebugÂèëÁé∞Â∞ÜËøõÂÖ•Ëøô‰∏™ÊñπÊ≥ïÔºö 1234public static ConfigurableApplicationContext run(Class&lt;?&gt;[] primarySources, String[] args) &#123; // ‰ºöÂÖàÂàõÂª∫SpringApplicationÂØπË±°ÂÆû‰æãÔºåÁÑ∂ÂêéË∞ÉÁî®ÂÆÉÁöÑÂÆû‰æãrunÊñπÊ≥ï return (new SpringApplication(primarySources)).run(args);&#125; Êàë‰ª¨ÁúãÁúãÂú®ÂÆû‰æãÂàùÂßãÂåñÁöÑËøáÁ®ã‰∏≠‰ªñÂÅö‰∫Ü‰ªÄ‰πàÔºö 123456789101112131415161718192021222324public SpringApplication(ResourceLoader resourceLoader, Class... primarySources) &#123; this.sources = new LinkedHashSet(); // bannerÁöÑÊâìÂç∞Ê®°ÂºèÔºåÊ≠§Êó∂ÊòØÊéßÂà∂Âè∞Ê®°Âºè this.bannerMode = Mode.CONSOLE; // ÂºÄÂêØÊó•Âøó this.logStartupInfo = true; // ÂêØÁî®CommandLineProperties this.addCommandLineProperties = true; // ÂºÄÂêØheadlessÊ®°ÂºèÊîØÊåÅÔºåHeadlessÊ®°ÂºèÊòØÂú®Áº∫Â∞ëÊòæÁ§∫Â±è„ÄÅÈîÆÁõòÊàñËÄÖÈº†Ê†áÊó∂ÁöÑÁ≥ªÁªüÈÖçÁΩÆÔºàËá™Ë°å‰∫ÜËß£Ôºâ this.headless = true // ÂêØÁî®Ê≥®ÂÜåShutdownHookÔºåÁî®‰∫éÂú®ÈùûWebÂ∫îÁî®‰∏≠ÂÖ≥Èó≠IoCÂÆπÂô®ÂíåËµÑÊ∫ê this.registerShutdownHook = true; this.additionalProfiles = new HashSet(); this.resourceLoader = resourceLoader; this.primarySources = new LinkedHashSet(Arrays.asList(primarySources)); // Âà§Êñ≠ÊòØÂê¶ÊòØwebËøêË°åÁéØÂ¢É(Servlet) this.webApplicationType = this.deduceWebApplicationType(); // ËÆæÁΩÆÂàùÂßãÂåñÂô®(Âú®META-INF/spring.factories Êñá‰ª∂ÈáåÔºåÂèØÊâ©Â±ï) this.setInitializers(this.getSpringFactoriesInstances(ApplicationContextInitializer.class)); // ËÆæÁΩÆÁõëÂê¨Âô®(Âú®META-INF/spring.factories Êñá‰ª∂ÈáåÔºåÂèØÊâ©Â±ï) this.setListeners(this.getSpringFactoriesInstances(ApplicationListener.class)); // Êé®Êñ≠Âπ∂ËÆæÁΩÆmainÊñπÊ≥ïÁöÑÂÆö‰πâÁ±ª this.mainApplicationClass = this.deduceMainApplicationClass();&#125; SpringApplicationÂÆû‰æãÂàùÂßãÂåñÂÆåÊàêÂπ∂‰∏îÂÆåÊàêËÆæÁΩÆÂêéÔºåÂ∞±ÂºÄÂßãÊâßË°årunÊñπÊ≥ïÁöÑÈÄªËæëÔºåÂ¶Ç‰∏ãÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859public ConfigurableApplicationContext run(String... args) &#123; // ÂºÄÂêØ‰ªªÂä°ÊâßË°åÊó∂Èó¥ÁõëÂê¨Âô® StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; Collection&lt;SpringBootExceptionReporter&gt; exceptionReporters = new ArrayList(); // ËÆæÁΩÆÁ≥ªÁªüÂ±ûÊÄß this.configureHeadlessProperty(); //ÂºÄÂêØÂπøÊí≠ÔºåÂÆ£ÂëäSpringBootË¶ÅÂºÄÂßãÊâßË°å‰∫Ü SpringApplicationRunListeners listeners = this.getRunListeners(args); listeners.starting(); Collection exceptionReporters; try &#123; ApplicationArguments applicationArguments = new DefaultApplicationArguments(args); // ÂàõÂª∫Âπ∂ÈÖçÁΩÆÂΩìÂâçSpring BootÂ∫îÁî®Â∞ÜË¶Å‰ΩøÁî®ÁöÑEnvironmentÔºàÂåÖÊã¨ÈÖçÁΩÆË¶Å‰ΩøÁî®ÁöÑPropertySource‰ª•ÂèäProfileÔºâ„ÄÇ ConfigurableEnvironment environment = this.prepareEnvironment(listeners, applicationArguments); // ÂÆ£ÂëäSpringBootÂ∫îÁî®‰ΩøÁî®ÁöÑEnvironmentÂáÜÂ§áÂ•Ω‰∫Ü„ÄÇ this.configureIgnoreBeanInfo(environment); // ÂÜ≥ÂÆöÊòØÂê¶ÊâìÂç∞Banner Banner printedBanner = this.printBanner(environment); // Ê†πÊçÆÁî®Êà∑ÊòØÂê¶ÊòéÁ°ÆËÆæÁΩÆ‰∫ÜapplicationContextClassÁ±ªÂûãÔºåÂÜ≥ÂÆöËØ•‰∏∫ÂΩìÂâçSpringBootÂ∫îÁî®ÂàõÂª∫‰ªÄ‰πàÁ±ªÂûãÁöÑApplicationContext // ÁÑ∂ÂêéÊ†πÊçÆÊù°‰ª∂ÂÜ≥ÂÆöÊòØÂê¶Ê∑ªÂä†ShutdownHookÔºåÂÜ≥ÂÆöÊòØÂê¶‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑBeanNameGeneratorÔºåÂÜ≥ÂÆöÊòØÂê¶‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑResourceLoaderÔºå // ÊúÄÈáçË¶ÅÁöÑÊòØÂ∞Ü‰πãÂâçÂáÜÂ§áÂ•ΩÁöÑEnvironmentËÆæÁΩÆÁªôÂàõÂª∫Â•ΩÁöÑApplicationContext‰ΩøÁî®„ÄÇ context = this.createApplicationContext(); // ÂæóÂà∞ÂºÇÂ∏∏Êä•ÂëäËÄÖ exceptionReporters = this.getSpringFactoriesInstances(SpringBootExceptionReporter.class, new Class[]&#123;ConfigurableApplicationContext.class&#125;, new Object[]&#123;context&#125;); // ApplicationContextÂàõÂª∫Â•Ω‰πãÂêéÔºåÈÅçÂéÜË∞ÉÁî®ApplicationContextInitializerÁöÑinitializeÔºàapplicationContextÔºâÊñπÊ≥ïÊù•ÂØπÂ∑≤ÁªèÂàõÂª∫Â•ΩÁöÑApplicationContextËøõË°åËøõ‰∏ÄÊ≠•ÁöÑÂ§ÑÁêÜ„ÄÇ // ÈÅçÂéÜË∞ÉÁî®ÊâÄÊúâSpringApplicationRunListenerÁöÑcontextPrepared()ÊñπÊ≥ï„ÄÇ // Â∞Ü‰πãÂâçÈÄöËøá@EnableAutoConfigurationËé∑ÂèñÁöÑÊâÄÊúâÈÖçÁΩÆ‰ª•ÂèäÂÖ∂‰ªñÂΩ¢ÂºèÁöÑIoCÂÆπÂô®ÈÖçÁΩÆÂä†ËΩΩÂà∞Â∑≤ÁªèÂáÜÂ§áÂÆåÊØïÁöÑApplicationContext // (ÂæàÈáçË¶ÅÔºåÂèØ‰ª•ËøõÂÖ•ÁúãÁúã) this.prepareContext(context, environment, listeners, applicationArguments, printedBanner); // ÂàùÂßãÂåñÊâÄÊúâËá™Âä®ÈÖçÁΩÆÁ±ªÔºåË∞ÉÁî®ApplicationContextÁöÑrefresh()ÊñπÊ≥ï this.refreshContext(context); // Ë∞ÉÁî®ÊâÄÊúâÁöÑSpringApplicationRunListenerÁöÑfinished()ÊñπÊ≥ïÔºåÂÆ£ÂëäSpringBootÂ∑≤ÁªèÂÆåÊàê‰∫ÜApplicationContextÂàùÂßãÂåñÁöÑÂÖ®ÈÉ®ËøáÁ®ã„ÄÇ this.afterRefresh(context, applicationArguments); //ÂÖ≥Èó≠‰ªªÂä°ÊâßË°åÊó∂Èó¥ÁõëÂê¨Âô® stopWatch.stop(); if(this.logStartupInfo) &#123; // //Â¶ÇÊûúÂºÄÂêØÊó•ÂøóÔºåÂàôÊâìÂç∞ÊâßË°åÁöÑÊó∂Èó¥ (new StartupInfoLogger(this.mainApplicationClass)).logStarted(this.getApplicationLog(), stopWatch); &#125; listeners.started(context); this.callRunners(context, applicationArguments); &#125; catch (Throwable var10) &#123; // //Ë∞ÉÁî®ÂºÇÂ∏∏ÂàÜÊûêÂô®ÊâìÂç∞Êä•ÂëäÔºåË∞ÉÁî®ÊâÄÊúâÁöÑSpringApplicationRunListenerÁöÑfinished()ÊñπÊ≥ïÂ∞ÜÂºÇÂ∏∏‰ø°ÊÅØÂèëÂ∏ÉÂá∫Âéª this.handleRunFailure(context, var10, exceptionReporters, listeners); throw new IllegalStateException(var10); &#125; try &#123; listeners.running(context); return context; &#125; catch (Throwable var9) &#123; this.handleRunFailure(context, var9, exceptionReporters, (SpringApplicationRunListeners)null); throw new IllegalStateException(var9); &#125;&#125; ÂèÇËÄÉ Spring BootÂπ≤Ë¥ßÁ≥ªÂàóÔºöÔºà‰∏âÔºâÂêØÂä®ÂéüÁêÜËß£Êûê Spring BootÂ≠¶‰π†Á¨îËÆ∞03‚ÄìÊ∑±ÂÖ•‰∫ÜËß£SpringBootÁöÑÂêØÂä®ËøáÁ®ã spring bootÂ∫îÁî®ÂêØÂä®ÂéüÁêÜÂàÜÊûê]]></content>
      <categories>
        <category>Ê∑±ÂÖ•SSM</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HelloWorld_SSMLogin]]></title>
    <url>%2F2018%2F04%2F17%2FHelloWorld%2FHelloWorld-SSMLogin%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊÉ≥ÁùÄÊÄé‰πàÊïô‰∏Ä‰∏™‰∫∫Âø´ÈÄüÂÖ•Èó®SSMÔºåËÆ≤ÂéüÁêÜÊòØÁúüÁöÑÂ§™Ë¥πÊó∂Èó¥ÔºåËøòÊòØ‰ª•Êê≠Âª∫ÂÖ∑‰ΩìÊµÅÁ®ãÂä†‰∏äÊ∫êÁ†ÅÊØîËæÉÂ•ΩÂêßÔºåÂÖàÊ®°‰ªøÔºåÂêéÂàõÊñ∞ÂòõÔºÅ È°πÁõÆÊû∂ÊûÑÈ°πÁõÆ‰ªìÂ∫ìÂú∞ÂùÄ Êàë‰ª¨ÂÖàÊääÊñá‰ª∂Â§πÂàõÂª∫Â•ΩÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•ÂÖàÁõ¥Êé•‰ªéÊàë‰ªìÂ∫ìÂú∞ÂùÄÊääÂÆÉÂÖãÈöÜ‰∏ãÊù•ÔºåÂà†Èô§ÂÖ∂‰∏≠ÈÉ®ÂàÜÁöÑ‰ª£Á†ÅÊñá‰ª∂„ÄÇ ÈÖçÁΩÆÊñá‰ª∂Ëß£ÊûêÈÖçÁΩÆÊñá‰ª∂ÈáåÈù¢ÈÉΩÊúâÊ≥®ÈáäÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÂØπÁÖßÁùÄÁúãÔºö pom.xmlÊñá‰ª∂pomÊñá‰ª∂‰Ωú‰∏∫MavenÂ∑•Á®ãÁöÑÊ†∏ÂøÉÔºå‰∏ªË¶ÅÊòØÁî®Êù•ÂºïÂÖ•jarÂåÖÁöÑÔºåÂú®ÊàëÁöÑpomÊñá‰ª∂‰∏≠‰πüËØ¶ÁªÜÂàóÂá∫‰∫ÜÊàë‰ª¨ÈúÄË¶ÅÂì™‰∫õÂåÖÔºå‰ª•ÂèäÂì™‰∫õÂåÖÊòØÁî®Êù•Âπ≤‰ªÄ‰πàÁöÑ„ÄÇ web.xmlÊñá‰ª∂web.xml‰Ωú‰∏∫WebÂäüËÉΩÁöÑÊ†∏ÂøÉÔºå‰∏ªË¶ÅÊòØËÆæÁΩÆ‰∫ÜÂ¶Ç‰ΩïÊé•ÂèóËØ∑Ê±ÇÔºåËøôÈáå‰ºöÁªìÂêàSpringMVCÁöÑÂâçÁ´ØÊéßÂà∂Âô®Á±ªDispatcherServlet‰Ωú‰∏∫ËØ∑Ê±ÇÂàÜÂèëÁöÑÊ†∏ÂøÉServletÔºå‰ª•ÂèäÂú®Á¨¨‰∏ÄÊ¨°Âä†ËΩΩËøáÁ®ã‰∏≠ÔºåÂêéÂè∞ÊúçÂä°ÈúÄË¶ÅÂä†ËΩΩÂì™‰∫õÈÖçÁΩÆÊñá‰ª∂„ÄÇ ssmÈÖçÁΩÆÊñá‰ª∂Ôºà‰æùÈù†SpringÊï¥ÂêàÔºâÊàë‰ª¨ÁúãÂà∞springÊñá‰ª∂Â§π‰∏ãÊúâ‰∏â‰∏™Êñá‰ª∂ÔºåÂàÜÂà´ÂØπÂ∫î‰∫ÜdaoÔºåserviceÔºåweb‰∏âÂ±ÇÁöÑBeanÈÖçÁΩÆ„ÄÇ spring-dao-config.xmlÊñá‰ª∂ËøôÈáå‰∏ªË¶ÅÊòØÈÖçÁΩÆÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†ÔºàÊï∞ÊçÆÊ∫êÔºâÔºå‰ª•ÂèäÊ≥®ÂÖ•SqlSessionFactoryÂíåÊâÄÊúâÂú®com.todorex.dao‰∏ãÂæóÊâÄÊúâDaoÊé•Âè£„ÄÇ spring-service-config.xmlÊñá‰ª∂ËøôÈáå‰∏ªË¶ÅÈÖçÁΩÆÊâ´ÊèèÂπ∂Ê≥®ÂÖ•com.todorex.serviceÂåÖ‰∏ãÊâÄÊúâServiceÊ≥®Ëß£Á±ªÔºå‰ª•ÂèäÈÖçÁΩÆ‰∫ãÂä°ÁÆ°ÁêÜÂô®„ÄÇ spring-web-config.xmlÊñá‰ª∂ËøôÈáå‰∏ªË¶ÅÈÖçÁΩÆÊâ´ÊèèÂπ∂Ê≥®ÂÖ•com.todorex.controllerÂåÖ‰∏ãÊâÄÊúâControllerÊ≥®Ëß£Á±ªÔºå‰ª•ÂèäÈÖçÁΩÆËßÜÂõæËß£ÊûêÂô®„ÄÇËøôÈáåËøòÊúâ‰∏Ä‰∏™Ë∂ÖÁ∫ßÈáçË¶ÅÁöÑÂ∞±ÊòØÈÖçÁΩÆÂ§ÑÁêÜÈùôÊÄÅËµÑÊ∫êÁöÑÊñπÂºè„ÄÇ mybatis-config.xmlÊñá‰ª∂ËøôÈáå‰∏ªË¶ÅÊòØËÆæÁΩÆmybatisÁöÑÂÖ®Â±ÄÂ±ûÊÄß„ÄÇ jdbc.propertiesÊñá‰ª∂ËøôÈáå‰∏ªË¶ÅÈÖçÁΩÆÊï∞ÊçÆÂ∫ìËøûÊé•ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ log4j.propertiesÊñá‰ª∂ËøôÈáå‰∏ªË¶ÅÈÖçÁΩÆÊó•ÂøóËÆ∞ÂΩïÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ ÈÖçÁΩÆÊñá‰ª∂ÈÉΩÈÖçÁΩÆÂÆå‰∫ÜÔºåÊàë‰ª¨Áªà‰∫éÂèØ‰ª•ÂºÄÂßãÂÜô‰ª£Á†Å‰∫Ü! SSM‰ª£Á†ÅÈúÄÊ±ÇÂÆûÁé∞Áî®Êà∑ÁöÑÁôªÂΩï‰∏éÊ≥®ÈîÄ„ÄÇ ‰∏äÂ∏ùËßÜËßíÂºÄÂèëÔºàÊàëÈúÄË¶Å‰ªÄ‰πàÂ∞±ÈÄ†‰ªÄ‰πàÔºâÊàëÈúÄË¶Å‰∏Ä‰∏™ËÉΩÂ§ÑÁêÜÊàëÁöÑËØ∑Ê±ÇÔºàURLÔºâÁöÑControllerÁü•ÈÅìË¶ÅcontrollerÔºåÊàë‰ª¨Â∞±ÈÄ†‰∏Ä‰∏™ÔºåÊàë‰ª¨Âú®com.todorex.controllerÂåÖ‰∏ãÊñ∞Âª∫‰∏Ä‰∏™LoginControllerÁ±ª„ÄÇ ControllerÁöÑ‰ΩúÁî®‰∏ªË¶ÅÊòØÊ†πÊçÆ‰Ω†ËØ∑Ê±ÇÁöÑURLÊù•ÂÅö‰∏çÂêåÁöÑ‰∫ãÔºàÂØπÂ∫îÁöÑÊñπÊ≥ïÔºâÔºåÁªìÊûúÊòØËøîÂõû‰∏Ä‰∏™ModelAndViewÔºàÂΩìÁÑ∂ViewÂíåModel‰πüÂèØ‰ª•ÂàÜÂºÄÔºâÔºåÂ¶ÇÊûúÊñπÊ≥ïÁöÑÈÄªËæëÂè™ÊòØÈ°µÈù¢Èó¥ÁöÑË∑≥ËΩ¨ÂíåÁÆÄÂçïÊï∞ÊçÆÂ§ÑÁêÜÔºåÊàë‰ª¨Â∞±Áî®‰∏çÂà∞Service‰∫ÜÔºåÂ¶ÇËøáÊàë‰ª¨ÈúÄË¶ÅËøõË°å‰∏öÂä°Â§ÑÁêÜ‰ª•ÂèäÊìç‰ΩúÊï∞ÊçÆÂ∫ìÔºåÈÇ£‰πàÊàë‰ª¨Â∞±ÈúÄË¶ÅÁî®Âà∞Service‰∫Ü„ÄÇ PSÔºöËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèËØ∑Ê±ÇËΩ¨ÂèëÂíåËØ∑Ê±ÇÈáçÂÆöÂêëÁöÑÂå∫Âà´ÔºàÊ≥®Èáä‰∏≠ÊúâÔºâ ÊàëÈúÄË¶Å‰∏Ä‰∏™ËÉΩÂ§ÑÁêÜ‰∏öÂä°ÁöÑServiceÂú®serviceÂ±ÇËÆæËÆ°‰∏Ä‰∏™Â•ΩÁöÑÊé•Âè£ÊòØËá≥ÂÖ≥ÈáçË¶ÅÁöÑÔºàÊàë‰ª¨ËøòÊòØHelloWorldÔºå‰ª•ÂêéÊúâÁªèÈ™å‰∫ÜËá™ÁÑ∂ËÉΩËÆæËÆ°ÂæóÂ•Ω‰∏Ä‰∫õÔºâÔºåÂ¶ÇÊûúÂÆûÁé∞Á±ªÊúâÂ§ö‰∏™ÁöÑËØù ÔºåÂèØ‰ª•Áî®@Service(‚ÄúuserService1‚Äù)Êù•Ê≥®ÂÖ•Ôºå@Resource(name=‚ÄùuserService1‚Äù) Êù•ÂØπÂ∫îËé∑Âèñ„ÄÇÂú®Â§ÑÁêÜ‰∏öÂä°ÈÄªËæëÁöÑÊó∂ÂÄôÔºå‰∏ÄËà¨ÈÉΩ‰ºöÊ∂âÂèäÂà∞Êï∞ÊçÆÂ∫ìÊìç‰ΩúÔºåËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Â∞±ÈúÄË¶ÅÁî®Âà∞Dao‰∫Ü„ÄÇ ÊàëÈúÄË¶Å‰∏Ä‰∏™ËÉΩÂ§ÑÁêÜÊï∞ÊçÆÁöÑDaoËøôÈáåÊàë‰ª¨Ë¶ÅÊòéÁ°Æ‰∏ÄÁÇπÔºö‰∏Ä‰∏™DaoÊé•Âè£ÂØπÂ∫î‰∏Ä‰∏™MapperÊñá‰ª∂ÔºåDaoÂÆö‰πâÊé•Âè£ÊñπÊ≥ïÔºåMapperÊñá‰ª∂ÂÆûÁé∞ËØ•ÊñπÊ≥ïÁöÑsqlËØ≠Âè•„ÄÇ Êó•ÂøóËøôÈáåÊàë‰ª¨‰∏æ‰∏Ä‰∏™‰æãÂ≠êÔºåÂ∞±ÊòØËÆ∞ÂΩïÁôªÂΩïÁî®Êà∑ÁöÑÂêçÂ≠óÂíåÊó∂Èó¥ÔºåÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö1234567891011121314151617public class LoginController &#123; // Ëé∑ÂæóÊó•ÂøóÂØπË±° Logger logger = Logger.getLogger(LoginController.class); @RequestMapping(value = "/checkLogin",method = RequestMethod.POST) public String checkLogin(User user, Model model) &#123; user = userService.checkLogin(user.getUsername(),user.getPassword()); if (user != null) &#123; // Êó•ÂøóËÆ∞ÂΩïÁî®Êà∑ÁôªÂΩï logger.info(user.getUsername()+"Âú®"+new Date() + "ÁôªÂΩïËøá!"); model.addAttribute("user",user); return "redirect:/success"; &#125; else &#123; return "redirect:/fail"; &#125; &#125;&#125; ÂçïÂÖÉÊµãËØï ÈÖçÁΩÆ‰∏Ä‰∏™Âü∫Á±ªÔºàÁî®‰∫éÂä†ËΩΩÈÖçÁΩÆÊñá‰ª∂Ôºâ 123456@RunWith(SpringJUnit4ClassRunner.class) //‰ΩøÁî®junit4ËøõË°åÊµãËØï// ÂØºÂÖ•Â§ö‰∏™ÈÖçÁΩÆÊñá‰ª∂@ContextConfiguration(locations=&#123;"classpath:spring/spring-*.xml","classpath:mybatis-config.xml"&#125;) //Âä†ËΩΩÈÖçÁΩÆÊñá‰ª∂//ÊâÄÊúâÁªßÊâøËØ•Á±ªÁöÑÊµãËØïÁ±ªÈÉΩ‰ºöÈÅµÂæ™ËØ•ÈÖçÁΩÆpublic class BaseJunit4Test &#123;&#125; Âú®ÂêÑ‰∏™ÂØπÂ∫îÁöÑÂåÖ‰∏ãÂª∫Á´ãÂçïÂÖÉÊµãËØïÔºåÂ¶Ç; 12345678910public class UserDaoTest extends BaseJunit4Test &#123; @Autowired private UserDao userDao; @Test public void TestFindByUsername() &#123; User user = userDao.findByUsername("rex"); System.out.println(user); &#125;&#125; È°µÈù¢ÁºñÂÜôËøôÈáåÂè™‰∏æ‰∏Ä‰∏™‰æãÂ≠êÔºàÂÖ∂ÂÆû‰∏ªË¶ÅÂ∞±ÊòØjspÁöÑÁî®Ê≥ïÔºâ,success.jsp:123456789101112131415161718192021222324252627&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;%--ÂºïÂÖ•jstlÊ†áÁ≠æÂ∫ìÔºåÂæàÈáçË¶Å--%&gt;&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt; &lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;!--Ê∑ªÂä†ËÉåÊôØÂõæÁâá--&gt;&lt;body background=&quot;image/success.jpg&quot;&gt;&lt;div style=&quot;margin: auto&quot;&gt;&lt;div&gt; &lt;%--Âà©Áî®jstlÊ†áÁ≠æËé∑Âèñsession‰∏≠ÁöÑuserÁöÑÂÄº--%&gt; &lt;strong style=&quot;font-size: 100px;color: red&quot;&gt; $&#123;sessionScope.user.username&#125;!&lt;/strong&gt; &lt;strong style=&quot;font-size: 100px;color: blue&quot;&gt; Ôºå‰Ω†‰ªñÂ¶àÁôªÂΩïÊàêÂäü‰∫Ü&lt;/strong&gt;&lt;/div&gt;&lt;form action=&quot;/LoginDemo/outLogin&quot; &gt; &lt;button type=&quot;submit&quot; class=&quot;btn btn-success col-lg-12&quot; style=&quot;font-size: 100px;text-align: center&quot;&gt;ÈÄÄÂá∫ÁôªÂΩï&lt;/button&gt;&lt;/form&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; Áªà‰∫éÂ§ßÂäüÂëäÊàêÔºÅÔºÅÔºÅ ÂèÇËÄÉSSMÊê≠Âª∫(Êï¥Âêà)+Áî®Êà∑Ê®°Âùó(ÁôªÂΩïÂíåÊ≥®ÈîÄ)ÂÆûÁé∞]]></content>
      <categories>
        <category>HelloWorld</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>SpringMVC</tag>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êè≠ÁßòMybatis(‰∫å)_MybatisÂ∑•‰ΩúÂéüÁêÜ]]></title>
    <url>%2F2018%2F04%2F16%2F%E6%B7%B1%E5%85%A5SSM%2F%E6%8F%AD%E7%A7%98Mybatis-%E4%BA%8C-Mybatis%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∫ÜËß£ÂÆåMybatisÁöÑÊû∂ÊûÑÔºåÈÇ£‰πàÂÆÉÁöÑÊâßË°åÊµÅÁ®ãÂèàÊòØÊÄé‰πàÊ†∑ÁöÑÂë¢Ôºü Mybatis‰∏ªË¶ÅÁªÑ‰ª∂ÂèäÂ∑•‰ΩúÊµÅÁ®ã‰∏ªË¶ÅÁªÑ‰ª∂ ConfigurationÔºöMyBatisÊâÄÊúâÁöÑÈÖçÁΩÆ‰ø°ÊÅØÈÉΩÁª¥ÊåÅÂú®ConfigurationÂØπË±°‰πã‰∏≠ SqlSessionÔºö‰Ωú‰∏∫MyBatisÊé•Âè£Â±ÇÁöÑAOPÔºåË°®Á§∫ÂíåÊï∞ÊçÆÂ∫ì‰∫§‰∫íÁöÑ‰ºöËØùÔºåÂÆåÊàêÂøÖË¶ÅÊï∞ÊçÆÂ∫ìÂ¢ûÂà†ÊîπÊü•ÂäüËÉΩ ExecutorÔºöMyBatisÊâßË°åÂô®ÔºåÊòØMyBatis Ë∞ÉÂ∫¶ÁöÑÊ†∏ÂøÉÔºåË¥üË¥£SQLËØ≠Âè•ÁöÑÁîüÊàêÂíåÊü•ËØ¢ÁºìÂ≠òÁöÑÁª¥Êä§ StatementHandlerÔºöÂ∞ÅË£Ö‰∫ÜJDBC StatementÊìç‰ΩúÔºåË¥üË¥£ÂØπJDBC statement ÁöÑÊìç‰ΩúÔºåÂ¶ÇËÆæÁΩÆÂèÇÊï∞„ÄÅÂ∞ÜStatementÁªìÊûúÈõÜËΩ¨Êç¢ÊàêListÈõÜÂêà ParameterHandlerÔºöË¥üË¥£ÂØπÁî®Êà∑‰º†ÈÄíÁöÑÂèÇÊï∞ËΩ¨Êç¢ÊàêJDBC Statement ÊâÄÈúÄË¶ÅÁöÑÂèÇÊï∞ resultSetHandlerÔºöË¥üË¥£Â∞ÜJDBCËøîÂõûÁöÑResultSetÁªìÊûúÈõÜÂØπË±°ËΩ¨Êç¢ÊàêListÁ±ªÂûãÁöÑÈõÜÂêà TypeHandlerÔºöË¥üË¥£javaÊï∞ÊçÆÁ±ªÂûãÂíåjdbcÊï∞ÊçÆÁ±ªÂûã‰πãÈó¥ÁöÑÊò†Â∞ÑÂíåËΩ¨Êç¢ MappedStatementÔºöMappedStatementÁª¥Êä§‰∫Ü‰∏ÄÊù°ËäÇÁÇπÁöÑÂ∞ÅË£Ö SqlSourceÔºöË¥üË¥£Ê†πÊçÆÁî®Êà∑‰º†ÈÄíÁöÑparameterObjectÔºåÂä®ÊÄÅÂú∞ÁîüÊàêSQLËØ≠Âè•ÔºåÂ∞Ü‰ø°ÊÅØÂ∞ÅË£ÖÂà∞BoundSqlÂØπË±°‰∏≠ÔºåÂπ∂ËøîÂõû BoundSqlÔºöË°®Á§∫Âä®ÊÄÅÁîüÊàêÁöÑSQLËØ≠Âè•‰ª•ÂèäÁõ∏Â∫îÁöÑÂèÇÊï∞‰ø°ÊÅØ Â∑•‰ΩúÊµÅÁ®ãÂõæ ËøôÂº†Âõæ‰πüË∂ÖÁ∫ßÊ£íÔºàNice ÂÖÑDeiÔºâÔºåÂú®‰∏ãÈù¢ÂèÇËÄÉ‰πüÂ∞ÜÁúãÂà∞Âá∫Â§Ñ„ÄÇÊàë‰ª¨‰∏ãÈù¢ÁöÑÊ∫êÁ†ÅÂàÜÊûê‰πü‰ºöÂèÇËÄÉËøôÂº†Âõæ„ÄÇ MybatisÂàùÂßãÂåñÊ∫êÁ†ÅÂàÜÊûê Ëé∑ÂèñÈÖçÁΩÆÊñá‰ª∂ÂàõÂª∫SqlSessionFactory 123String resource = &quot;mybatis-config.xml&quot;;InputStream inputStream = Resources.getResourceAsStream(resource);SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); ËøõÂÖ•Âà∞SqlSessionFactoryÁöÑbuildÊñπÊ≥ï 123456789101112131415161718public SqlSessionFactory build(InputStream inputStream, String environment, Properties properties) &#123; SqlSessionFactory var5; try &#123; // Ëß£ÊûêÂàöÂàöÂàõÂª∫ÁöÑÈÖçÁΩÆÊñá‰ª∂Êñá‰ª∂ÊµÅ XMLConfigBuilder parser = new XMLConfigBuilder(inputStream, environment, properties); var5 = this.build(parser.parse()); &#125; catch (Exception var14) &#123; throw ExceptionFactory.wrapException("Error building SqlSession.", var14); &#125; finally &#123; ErrorContext.instance().reset(); try &#123; inputStream.close(); &#125; catch (IOException var13) &#123; ; &#125; &#125; return var5;&#125; ‰ºöËøõÂÖ•Âà∞XMLConfigBuilderÁöÑparseÊñπÊ≥ïÂéªËß£ÊûêÈÖçÁΩÆÊñá‰ª∂ÁöÑÂÖ∑‰ΩìÂÜÖÂÆπÁîüÊàêConfigurationÂØπË±° 1234567891011121314151617181920212223242526272829303132333435public Configuration parse() &#123; if(this.parsed) &#123; throw new BuilderException("Each XMLConfigBuilder can only be used once."); &#125; else &#123; this.parsed = true; // Ëß£ÊûêÈÖçÁΩÆÊñá‰ª∂ this.parseConfiguration(this.parser.evalNode("/configuration")); return this.configuration; &#125;&#125;private void parseConfiguration(XNode root) &#123; try &#123; // Ëß£Êûê&lt;properties&gt;ËäÇÁÇπÔºåÊï∞ÊçÆÊ∫êÈÖçÁΩÆÊñá‰ª∂ this.propertiesElement(root.evalNode("properties")); // Ëß£Êûê&lt;typeAliases&gt;ËäÇÁÇπÔºåÂà´ÂêçËäÇÁÇπ this.typeAliasesElement(root.evalNode("typeAliases")); // Ëß£Êûê&lt;plugins&gt;ËäÇÁÇπÔºåÊèí‰ª∂ËäÇÁÇπ this.pluginElement(root.evalNode("plugins")); // Ëß£Êûê&lt;objectFactory&gt;ËäÇÁÇπ this.objectFactoryElement(root.evalNode("objectFactory")); // Ëß£Êûê&lt;reflectorFactory&gt;ËäÇÁÇπ this.objectWrapperFactoryElement(root.evalNode("objectWrapperFactory")); // Ëß£Êûê&lt;settings&gt;ËäÇÁÇπ this.settingsElement(root.evalNode("settings")); // Ëß£Êûê&lt;environments&gt;ËäÇÁÇπ this.environmentsElement(root.evalNode("environments")); this.databaseIdProviderElement(root.evalNode("databaseIdProvider")); this.typeHandlerElement(root.evalNode("typeHandlers")); // Ëß£Êûê&lt;mappers&gt;ËäÇÁÇπÔºåÂæàÈáçË¶Å this.mapperElement(root.evalNode("mappers")); &#125; catch (Exception var3) &#123; throw new BuilderException("Error parsing SQL Mapper Configuration. Cause: " + var3, var3); &#125;&#125; Êàë‰ª¨ÊúÄÂÖ≥ÂøÉÁöÑÂèØËÉΩÂ∞±ÊòØmapperÁöÑËß£Êûê‰∫ÜÔºåÊâÄ‰ª•Êàë‰ª¨ËøõÂÖ•mapperElementÊñπÊ≥ïÁúãÁúãÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869private void mapperElement(XNode parent) throws Exception &#123; if(parent != null) &#123; Iterator i$ = parent.getChildren().iterator(); while(true) &#123; // ÈÅçÂéÜ&lt;mappers&gt;‰∏ãÊâÄÊúâÂ≠êËäÇÁÇπ while(i$.hasNext()) &#123; XNode child = (XNode)i$.next(); String resource; // Â¶ÇÊûúÂΩìÂâçËäÇÁÇπ‰∏∫&lt;package&gt; if("package".equals(child.getName())) &#123; // Ëé∑Âèñ&lt;package&gt;ÁöÑnameÂ±ûÊÄßÔºàËØ•Â±ûÊÄßÂÄº‰∏∫mapper classÊâÄÂú®ÁöÑÂåÖÂêçÔºâ resource = child.getStringAttribute("name"); // Â∞ÜËØ•ÂåÖ‰∏ãÁöÑÊâÄÊúâMapper ClassÊ≥®ÂÜåÂà∞configurationÁöÑmapperRegistryÂÆπÂô®‰∏≠ this.configuration.addMappers(resource); &#125; else &#123; // ‰æùÊ¨°Ëé∑Âèñresource„ÄÅurl„ÄÅclassÂ±ûÊÄß resource = child.getStringAttribute("resource"); String url = child.getStringAttribute("url"); String mapperClass = child.getStringAttribute("class"); XMLMapperBuilder mapperParser; InputStream inputStream; // Ëß£ÊûêresourceÂ±ûÊÄßÔºàMapper.xmlÊñá‰ª∂ÁöÑË∑ØÂæÑÔºâ if(resource != null &amp;&amp; url == null &amp;&amp; mapperClass == null) &#123; ErrorContext.instance().resource(resource); // Â∞ÜMapper.xmlÊñá‰ª∂Ëß£ÊûêÊàêËæìÂÖ•ÊµÅ inputStream = Resources.getResourceAsStream(resource); // ‰ΩøÁî®XMLMapperBuilderËß£ÊûêMapper.xmlÔºåÂπ∂Â∞ÜMapper ClassÊ≥®ÂÜåËøõconfigurationÂØπË±°ÁöÑmapperRegistryÂÆπÂô®‰∏≠ mapperParser = new XMLMapperBuilder(inputStream, this.configuration, resource, this.configuration.getSqlFragments()); // Ëøô‰∏™ÂæàÈáçË¶ÅÔºåÁúãÁúãÂÖ∑‰ΩìÊÄé‰πàËß£Êûê mapperParser.parse(); &#125; else if(resource == null &amp;&amp; url != null &amp;&amp; mapperClass == null) &#123; // Ëß£ÊûêurlÂ±ûÊÄßÔºàMapper.xmlÊñá‰ª∂ÁöÑË∑ØÂæÑÔºâ ErrorContext.instance().resource(url); inputStream = Resources.getUrlAsStream(url); mapperParser = new XMLMapperBuilder(inputStream, this.configuration, url, this.configuration.getSqlFragments()); mapperParser.parse(); &#125; else &#123; // Ëß£ÊûêclassÂ±ûÊÄßÔºàMapper ClassÁöÑÂÖ®ÈôêÂÆöÂêçÔºâ if(resource != null || url != null || mapperClass == null) &#123; throw new BuilderException("A mapper element may only specify a url, resource or class, but not more than one."); &#125; // Â∞ÜMapper ClassÁöÑÊùÉÈôêÂÆöÂêçËΩ¨ÂåñÊàêClassÂØπË±° Class&lt;?&gt; mapperInterface = Resources.classForName(mapperClass); this.configuration.addMapper(mapperInterface); &#125; &#125; &#125; return; &#125; &#125; &#125;public void parse() &#123; if(!this.configuration.isResourceLoaded(this.resource)) &#123; // Ëß£Êûê&lt;mapper&gt;ËäÇÁÇπ this.configurationElement(this.parser.evalNode("/mapper")); // Â∞ÜËØ•Mapper.xmlÊ∑ªÂä†Ëá≥configurationÁöÑLoadedResourceÂÆπÂô®‰∏≠Ôºå‰∏ãÂõûÊó†ÈúÄÂÜçËß£Êûê this.configuration.addLoadedResource(this.resource); // Â∞ÜËØ•Mapper.xmlÂØπÂ∫îÁöÑMapper ClassÊ≥®ÂÜåËøõconfigurationÁöÑmapperRegistryÂÆπÂô®‰∏≠ÔºåÂæàÈáçË¶ÅÔºå‰∏ãÈ©¨ÈúÄË¶Å‰ªîÁªÜÁúãÁúã this.bindMapperForNamespace(); &#125; this.parsePendingResultMaps(); this.parsePendingChacheRefs(); this.parsePendingStatements();&#125; bindMapperForNamespaceÊûÅÂÖ∂ÈáçË¶ÅÔºåÂõ†‰∏∫ËøôÈáå‰ºöÁªôMapperÊé•Âè£ÂàõÂª∫Âä®ÊÄÅ‰ª£ÁêÜÂØπË±°ÔºåÊàë‰ª¨ÁúãÁúãÊ∫êÁ†ÅÔºö 12345678910111213141516171819private void bindMapperForNamespace() &#123; // Ëé∑ÂèñÂΩìÂâçÊò†Â∞ÑÊñá‰ª∂ÂØπÂ∫îÁöÑDAOÊé•Âè£ÁöÑÂÖ®ÈôêÂÆöÂêç String namespace = this.builderAssistant.getCurrentNamespace(); if(namespace != null) &#123; // Â∞ÜÂÖ®ÈôêÂÆöÂêçËß£ÊûêÊàêClassÂØπË±° Class boundType = null; try &#123; boundType = Resources.classForName(namespace); &#125; catch (ClassNotFoundException var4) &#123; ; &#125; if(boundType != null &amp;&amp; !this.configuration.hasMapper(boundType)) &#123; // Â∞ÜÂΩìÂâçMapper.xmlÊ†áÊ≥®‰∏∫Â∑≤Âä†ËΩΩ‰∏ãÂõûÂ∞±‰∏çÁî®ÂÜçÂä†ËΩΩ‰∫Ü this.configuration.addLoadedResource("namespace:" + namespace); // Â∞ÜMapperÊé•Âè£ÁöÑClassÂØπË±°Ê≥®ÂÜåËøõconfiguration‰∏≠ÔºàÂÖ∂ÂÆûÊòØÂú®configurationÁöÑMapperRegistryÈáåÈù¢Ôºâ this.configuration.addMapper(boundType); &#125; &#125;&#125; Êàë‰ª¨ÂÜçËøõÂÖ•Âà∞this.configuration.addMapperÊñπÊ≥ï‰∏≠ÁúãÁúã‰ºöÂÅö‰∫õ‰ªÄ‰πàÔºö 12345678910111213141516171819202122232425public &lt;T&gt; void addMapper(Class&lt;T&gt; type) &#123; this.mapperRegistry.addMapper(type);&#125;public &lt;T&gt; void addMapper(Class&lt;T&gt; type) &#123; if(type.isInterface()) &#123; if(this.hasMapper(type)) &#123; throw new BindingException("Type " + type + " is already known to the MapperRegistry."); &#125; boolean loadCompleted = false; try &#123; // ÂàõÂª∫MapperProxyFactoryÂØπË±°ÔºàÁî®‰∫éÂàõÂª∫DAOÊé•Âè£ÁöÑ‰ª£ÁêÜÂØπË±°ÔºâÔºåÂπ∂putËøõknownMappers‰∏≠ // ‰∏∫ÂêéÈù¢ÁöÑÂàõÂª∫Mapper‰ª£ÁêÜÂØπË±°ÂÅöÂáÜÂ§á this.knownMappers.put(type, new MapperProxyFactory(type)); MapperAnnotationBuilder parser = new MapperAnnotationBuilder(this.config, type); parser.parse(); loadCompleted = true; &#125; finally &#123; if(!loadCompleted) &#123; this.knownMappers.remove(type); &#125; &#125; &#125;&#125; Á≠âMapperÂÖ®ÈÉΩËß£ÊûêÂ•Ω‰πãÂêéÔºåÂàùÂßãÂåñÂ∑•‰ΩúÂü∫Êú¨Â∞±ÂÆåÊàê‰∫Ü„ÄÇ MybatisÂ∑•‰ΩúÊµÅÁ®ãÊ∫êÁ†ÅÂàÜÊûê ÂàõÂª∫SqlSessionÂØπË±° 123456789101112131415161718192021222324252627282930SqlSession sqlSession = sqlSessionFactory.openSession();public SqlSession openSession() &#123; // ‰ªéÊï∞ÊçÆÊ∫êÂàõÂª∫SqlSession‰ºöËØùÂØπË±° return this.openSessionFromDataSource(this.configuration.getDefaultExecutorType(), (TransactionIsolationLevel)null, false);&#125;private SqlSession openSessionFromDataSource(ExecutorType execType, TransactionIsolationLevel level, boolean autoCommit) &#123; Transaction tx = null; DefaultSqlSession var8; try &#123; // ÂàùÂßãÂåñËØªÂèñ‰∫ÜEnvironmentÈáåÈù¢ÁöÑÊï∞ÊçÆÊ∫ê‰ª•Âèä‰∫ãÂä°ÈÖçÁΩÆ Environment environment = this.configuration.getEnvironment(); // Ëé∑Âèñ‰∫ãÂä°Â∑•ÂéÇ TransactionFactory transactionFactory = this.getTransactionFactoryFromEnvironment(environment); tx = transactionFactory.newTransaction(environment.getDataSource(), level, autoCommit); // ÁîüÊàêMyBatisÊâßË°åÂô® Executor executor = this.configuration.newExecutor(tx, execType); // ÂàõÂª∫DefaultSqlSessionÂØπË±° var8 = new DefaultSqlSession(this.configuration, executor, autoCommit); &#125; catch (Exception var12) &#123; this.closeTransaction(tx); throw ExceptionFactory.wrapException("Error opening session. Cause: " + var12, var12); &#125; finally &#123; ErrorContext.instance().reset(); &#125; return var8;&#125; ‰ªéSqlSessionÂØπË±°Ëé∑ÂæóMapperÔºàÂêéÈù¢‰ºöÁúãÂà∞ËøôÊòØ‰∏™‰ª£ÁêÜÂØπË±°ÔºâÔºåÁúãÁúãÊâßË°åÊµÅÁ®ãÔºö 1234567891011121314151617181920212223242526272829303132UserMapper userMapper = sqlSession.getMapper(UserMapper.class);public &lt;T&gt; T getMapper(Class&lt;T&gt; type) &#123; // ËøõÂÖ•configuration return this.configuration.getMapper(type, this);&#125;public &lt;T&gt; T getMapper(Class&lt;T&gt; type, SqlSession sqlSession) &#123; // Ë∞ÉÁî®configurationÂØπË±°ÁöÑapperRegistryÁöÑgetMapperÊñπÊ≥ï return this.mapperRegistry.getMapper(type, sqlSession);&#125;public &lt;T&gt; T getMapper(Class&lt;T&gt; type, SqlSession sqlSession) &#123; // Ëøô‰∏™ÊòØÂú®ÂàùÂßãÂåñËøáÁ®ã‰∏≠Ëß£ÊûêmapperÊó∂ÁîüÊàêÁöÑÔºåÁé∞ÊúâÁúãÂà∞‰∫ÜMapperÂØπË±°ÁöÑÂ∑•ÂéÇ MapperProxyFactory&lt;T&gt; mapperProxyFactory = (MapperProxyFactory)this.knownMappers.get(type); if(mapperProxyFactory == null) &#123; throw new BindingException("Type " + type + " is not known to the MapperRegistry."); &#125; else &#123; try &#123; // ÁîüÊàêMapperÂÆû‰æãÔºåËøõÂÖ•ÁúãÁúã return mapperProxyFactory.newInstance(sqlSession); &#125; catch (Exception var5) &#123; throw new BindingException("Error getting mapper instance. Cause: " + var5, var5); &#125; &#125;&#125;public T newInstance(SqlSession sqlSession) &#123; // ÂéüÊù•Ëøô‰∏™ËøòÊòØ‰∏™‰ª£ÁêÜÂØπË±° MapperProxy&lt;T&gt; mapperProxy = new MapperProxy(sqlSession, this.mapperInterface, this.methodCache); return this.newInstance(mapperProxy);&#125; Ëé∑ÂæóMapper‰ª£ÁêÜÂØπË±°ÊàëÁúãÁúã‰ªñÊòØÊÄé‰πàÊâßË°åMapperÊé•Âè£ÁöÑÊñπÊ≥ïÁöÑÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354List&lt;User&gt; userList = userMapper.selectList();// ‰∏ÄËøõÂéªÂ∞±ÂèëÁé∞Áõ¥Êé•Âà∞‰∫ÜinvokeÊñπÊ≥ïÔºåÁõ∏ÂΩì‰∫éÊääÊñπÊ≥ïÁöÑÊâßË°åÈÉΩ‰∫§Áªô‰∫Ü‰ª£ÁêÜÂØπË±°ÂéªÊâßË°åpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; if(Object.class.equals(method.getDeclaringClass())) &#123; try &#123; return method.invoke(this, args); &#125; catch (Throwable var5) &#123; throw ExceptionUtil.unwrapThrowable(var5); &#125; &#125; else &#123; // ‰ªéÂΩìÂâç‰ª£ÁêÜÂØπË±°Â§ÑÁêÜÁ±ªMapperProxyÁöÑmethodCacheÂ±ûÊÄß‰∏≠Ëé∑ÂèñMapperMethodÂØπË±°,Â¶ÇÊûúmethodCache‰∏≠Ê≤°ÊúâÂ∞±ÂàõÂª∫Âπ∂Âä†ËøõÂéª„ÄÇ MapperMethod mapperMethod = this.cachedMapperMethod(method); // ËØ•ÊñπÊ≥ïÂ∞±‰ºöË∞ÉÁî®JDBCÊâßË°åÁõ∏Â∫îÁöÑSQLËØ≠Âè• return mapperMethod.execute(this.sqlSession, args); &#125;&#125;public Object execute(SqlSession sqlSession, Object[] args) &#123; Object param; Object result; // ÊØîÂØπmapperÊ†áÁ≠æ if(SqlCommandType.INSERT == this.command.getType()) &#123; param = this.method.convertArgsToSqlCommandParam(args); result = this.rowCountResult(sqlSession.insert(this.command.getName(), param)); &#125; else if(SqlCommandType.UPDATE == this.command.getType()) &#123; param = this.method.convertArgsToSqlCommandParam(args); result = this.rowCountResult(sqlSession.update(this.command.getName(), param)); &#125; else if(SqlCommandType.DELETE == this.command.getType()) &#123; param = this.method.convertArgsToSqlCommandParam(args); result = this.rowCountResult(sqlSession.delete(this.command.getName(), param)); &#125; else &#123; if(SqlCommandType.SELECT != this.command.getType()) &#123; throw new BindingException("Unknown execution method for: " + this.command.getName()); &#125; if(this.method.returnsVoid() &amp;&amp; this.method.hasResultHandler()) &#123; this.executeWithResultHandler(sqlSession, args); result = null; &#125; else if(this.method.returnsMany()) &#123; // ÊúÄÁªà‰ºöËøõÂÖ•ËøôÈáå result = this.executeForMany(sqlSession, args); &#125; else if(this.method.returnsMap()) &#123; result = this.executeForMap(sqlSession, args); &#125; else &#123; param = this.method.convertArgsToSqlCommandParam(args); result = sqlSession.selectOne(this.command.getName(), param); &#125; &#125; if(result == null &amp;&amp; this.method.getReturnType().isPrimitive() &amp;&amp; !this.method.returnsVoid()) &#123; throw new BindingException("Mapper method '" + this.command.getName() + " attempted to return null from a method with a primitive return type (" + this.method.getReturnType() + ")."); &#125; else &#123; return result; &#125;&#125; MapperMethodÂà∞Â∫ïÂ¶Ç‰ΩïÂéªÊâßË°åexecuteForMap(sqlSession, args)ÁöÑÂë¢ÔºüÊàë‰ª¨ÂèØ‰ª•ÁªßÁª≠ËøõÂÖ•Ôºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145private &lt;E&gt; Object executeForMany(SqlSession sqlSession, Object[] args) &#123; // Â∞ÜÂèÇÊï∞ÊãºÊé•Âà∞SQL Object param = this.method.convertArgsToSqlCommandParam(args); List result; if(this.method.hasRowBounds()) &#123; RowBounds rowBounds = this.method.extractRowBounds(args); result = sqlSession.selectList(this.command.getName(), param, rowBounds); &#125; else &#123; // ËøõÂÖ•Âà∞ËøôÈáåÔºåËÆ©sqlSessionÊù•Â§ÑÁêÜ result = sqlSession.selectList(this.command.getName(), param); &#125; return !this.method.getReturnType().isAssignableFrom(result.getClass())?(this.method.getReturnType().isArray()?this.convertToArray(result):this.convertToDeclaredCollection(sqlSession.getConfiguration(), result)):result;&#125;public &lt;E&gt; List&lt;E&gt; selectList(String statement, Object parameter) &#123; return this.selectList(statement, parameter, RowBounds.DEFAULT);&#125;public &lt;E&gt; List&lt;E&gt; selectList(String statement, Object parameter, RowBounds rowBounds) &#123; List var6; try &#123; // Ê†πÊçÆStatementId(com.todorex.UserMapper.selectList)Ôºå // Âú®ÈÖçÁΩÆÂØπË±°Configuration‰∏≠Êü•ÊâæÁõ∏ÂØπÂ∫îÁöÑMappedStatement MappedStatement ms = this.configuration.getMappedStatement(statement); // Â∞ÜÊü•ËØ¢‰ªªÂä°ÂßîÊâòÁªôMyBatis ÁöÑÊâßË°åÂô® Executor List&lt;E&gt; result = this.executor.query(ms, this.wrapCollection(parameter), rowBounds, Executor.NO_RESULT_HANDLER); var6 = result; &#125; catch (Exception var10) &#123; throw ExceptionFactory.wrapException("Error querying database. Cause: " + var10, var10); &#125; finally &#123; ErrorContext.instance().reset(); &#125; return var6;&#125;public &lt;E&gt; List&lt;E&gt; query(MappedStatement ms, Object parameterObject, RowBounds rowBounds, ResultHandler resultHandler) throws SQLException &#123; // Ê†πÊçÆÂÖ∑‰Ωì‰º†ÂÖ•ÁöÑÂèÇÊï∞ÔºåÂä®ÊÄÅÂú∞ÁîüÊàêÈúÄË¶ÅÊâßË°åÁöÑSQLËØ≠Âè•ÔºåÁî®BoundSqlÂØπË±°Ë°®Á§∫ BoundSql boundSql = ms.getBoundSql(parameterObject); // ‰∏∫ÂΩìÂâçÁöÑÊü•ËØ¢ÂàõÂª∫‰∏Ä‰∏™ÁºìÂ≠òKey CacheKey key = this.createCacheKey(ms, parameterObject, rowBounds, boundSql); // ÂÜçËøõÂéª return this.query(ms, parameterObject, rowBounds, resultHandler, key, boundSql);&#125;public &lt;E&gt; List&lt;E&gt; query(MappedStatement ms, Object parameterObject, RowBounds rowBounds, ResultHandler resultHandler, CacheKey key, BoundSql boundSql) throws SQLException &#123; // Ëé∑ÂæóÁºìÂ≠òÂØπË±° Cache cache = ms.getCache(); if(cache != null) &#123; this.flushCacheIfRequired(ms); if(ms.isUseCache() &amp;&amp; resultHandler == null) &#123; this.ensureNoOutParams(ms, parameterObject, boundSql); // Â¶ÇÊûúÁºìÂ≠ò‰∏≠ÊúâÊü•ËØ¢ÁªìÊûúÔºåÂàôËøîÂõûÊü•ËØ¢ÁªìÊûú List&lt;E&gt; list = (List)this.tcm.getObject(cache, key); if(list == null) &#123; // Â¶ÇÊûúÁºìÂ≠ò‰∏≠Ê≤°ÊúâÊü•ËØ¢ÁªìÊûúÂàôÊü•ËØ¢Êï∞ÊçÆÂ∫ì list = this.delegate.query(ms, parameterObject, rowBounds, resultHandler, key, boundSql); // Â∞ÜÊü•ËØ¢ÁªìÊûúÊîæÂÖ•ÁºìÂ≠ò‰∏≠ this.tcm.putObject(cache, key, list); &#125; return list; &#125; &#125; // Â¶ÇÊûúÊ≤°ÊúâÁºìÂ≠òÂØπË±°ÂàôÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºàËøõÂÖ•ËøôÈáåÔºâ return this.delegate.query(ms, parameterObject, rowBounds, resultHandler, key, boundSql);&#125;public &lt;E&gt; List&lt;E&gt; query(MappedStatement ms, Object parameter, RowBounds rowBounds, ResultHandler resultHandler, CacheKey key, BoundSql boundSql) throws SQLException &#123; ErrorContext.instance().resource(ms.getResource()).activity("executing a query").object(ms.getId()); if(this.closed) &#123; throw new ExecutorException("Executor was closed."); &#125; else &#123; if(this.queryStack == 0 &amp;&amp; ms.isFlushCacheRequired()) &#123; this.clearLocalCache(); &#125; List list; try &#123; ++this.queryStack; list = resultHandler == null?(List)this.localCache.getObject(key):null; if(list != null) &#123; this.handleLocallyCachedOutputParameters(ms, key, parameter, boundSql); &#125; else &#123; // ÁºìÂ≠ò‰∏≠Ê≤°ÊúâÂÄºÔºåÁõ¥Êé•‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊï∞ÊçÆÔºàËøõÂÖ•ËøôÈáåÔºâ list = this.queryFromDatabase(ms, parameter, rowBounds, resultHandler, key, boundSql); &#125; &#125; finally &#123; --this.queryStack; &#125; return list; &#125;&#125;private &lt;E&gt; List&lt;E&gt; queryFromDatabase(MappedStatement ms, Object parameter, RowBounds rowBounds, ResultHandler resultHandler, CacheKey key, BoundSql boundSql) throws SQLException &#123; this.localCache.putObject(key, ExecutionPlaceholder.EXECUTION_PLACEHOLDER); List list; try &#123; // ÊâßË°åÊü•ËØ¢ËøîÂõûList ÁªìÊûúÔºàËøõÂÖ•ËøôÈáåÔºâ list = this.doQuery(ms, parameter, rowBounds, resultHandler, boundSql); &#125; finally &#123; // Ê∏ÖÊ•ö‰πãÂâçÁöÑÁºìÂ≠ò this.localCache.removeObject(key); &#125; // Â∞ÜÊü•ËØ¢ÁöÑÁªìÊûúÊîæÂÖ•ÁºìÂ≠ò‰πã‰∏≠ this.localCache.putObject(key, list); if(ms.getStatementType() == StatementType.CALLABLE) &#123; this.localOutputParameterCache.putObject(key, parameter); &#125; return list;&#125; public &lt;E&gt; List&lt;E&gt; doQuery(MappedStatement ms, Object parameter, RowBounds rowBounds, ResultHandler resultHandler, BoundSql boundSql) throws SQLException &#123; Statement stmt = null; List var9; try &#123; Configuration configuration = ms.getConfiguration(); // ÂàõÂª∫StatementHandlerÂØπË±°Êù•ÊâßË°åÊü•ËØ¢Êìç‰Ωú StatementHandler handler = configuration.newStatementHandler(this.wrapper, ms, parameter, rowBounds, resultHandler, boundSql); // Âà©Áî®StatementHandlerÂØπË±°ÂàõÂª∫java.Sql.StatementÂØπË±°ÔºàËøõÂÖ•ËøôÈáåÔºâ stmt = this.prepareStatement(handler, ms.getStatementLog()); // Ë∞ÉÁî®StatementHandler.query()ÊñπÊ≥ïÔºåËøîÂõûListÁªìÊûúÈõÜ ÔºàËøõÂÖ•ËøôÈáåÔºâ var9 = handler.query(stmt, resultHandler); &#125; finally &#123; this.closeStatement(stmt); &#125; return var9;&#125;private Statement prepareStatement(StatementHandler handler, Log statementLog) throws SQLException &#123; // ÂàõÂª∫ËøûÊé• Connection connection = this.getConnection(statementLog); // ÂàõÂª∫java.Sql.StatementÂØπË±°Ôºå‰º†ÈÄíÁªôStatementHandlerÂØπË±° Statement stmt = handler.prepare(connection); // ÂØπÂàõÂª∫ÁöÑStatementÂØπË±°ËÆæÁΩÆÂèÇÊï∞ÔºåÂç≥ËÆæÁΩÆSQLËØ≠Âè•‰∏≠Âç†‰ΩçÁ¨¶ËÆæÁΩÆ‰∏∫ÊåáÂÆöÁöÑÂèÇÊï∞ handler.parameterize(stmt); return stmt;&#125;public &lt;E&gt; List&lt;E&gt; query(Statement statement, ResultHandler resultHandler) throws SQLException &#123; // Ë∞ÉÁî®preparedStatemntÁöÑexecute()ÊñπÊ≥ïÔºåÁÑ∂ÂêéÂ∞ÜresultSet‰∫§ÁªôResultSetHandlerÂ§ÑÁêÜ PreparedStatement ps = (PreparedStatement)statement; ps.execute(); // ‰ΩøÁî®ResultHandlerÊù•Â§ÑÁêÜResultSetÔºàËøõÂÖ•ËøôÈáåÔºâ return this.resultSetHandler.handleResultSets(ps);&#125; Áªà‰∫éÊü•ËØ¢ÂÆå‰∫ÜÔºåÁé∞Âú®ÂèØ‰ª•Â§ÑÁêÜÁªìÊûú‰∫ÜÔºåÊàë‰ª¨ÁúãÁúãhandleResultSets(Statement stmt)ÊñπÊ≥ïÔºö 1234567891011121314151617181920212223242526272829303132333435363738public List&lt;Object&gt; handleResultSets(Statement stmt) throws SQLException &#123; ErrorContext.instance().activity("handling results").object(this.mappedStatement.getId()); // ÊúÄÂêéÁöÑÁªìÊûúÈõÜ List&lt;Object&gt; multipleResults = new ArrayList(); int resultSetCount = 0; ResultSetWrapper rsw = this.getFirstResultSet(stmt); List&lt;ResultMap&gt; resultMaps = this.mappedStatement.getResultMaps(); int resultMapCount = resultMaps.size(); this.validateResultMapsCount(rsw, resultMapCount); while(rsw != null &amp;&amp; resultMapCount &gt; resultSetCount) &#123; // Ëé∑ÂæóresultMap ResultMap resultMap = (ResultMap)resultMaps.get(resultSetCount); // ËøôÈáåÊâçÂºÄÂßãÂ§ÑÁêÜÔºàËøôÈáåËá™Â∑±ÂéªÁúãÂêßÔºåÂèçÊ≠£‰ºöÂÖàÂ§ÑÁêÜË°åÂÄºÔºåÁÑ∂ÂêéÊò†Â∞ÑÊàêÂØπË±°ÔºåÂíåJDBC‰∏ÄÊ†∑Ôºâ this.handleResultSet(rsw, resultMap, multipleResults, (ResultMapping)null); rsw = this.getNextResultSet(stmt); this.cleanUpAfterHandlingResultSet(); ++resultSetCount; &#125; String[] resultSets = this.mappedStatement.getResulSets(); if(resultSets != null) &#123; while(rsw != null &amp;&amp; resultSetCount &lt; resultSets.length) &#123; ResultMapping parentMapping = (ResultMapping)this.nextResultMaps.get(resultSets[resultSetCount]); if(parentMapping != null) &#123; String nestedResultMapId = parentMapping.getNestedResultMapId(); ResultMap resultMap = this.configuration.getResultMap(nestedResultMapId); this.handleResultSet(rsw, resultMap, (List)null, parentMapping); &#125; rsw = this.getNextResultSet(stmt); this.cleanUpAfterHandlingResultSet(); ++resultSetCount; &#125; &#125; return this.collapseSingleResultList(multipleResults);&#125; ÂèÇËÄÉ ÁªàÁªìÁØáÔºöMyBatisÂéüÁêÜÊ∑±ÂÖ•Ëß£ÊûêÔºà‰∏ÄÔºâ MyBatisÊ∫êÁ†ÅËß£Êûê(‰∫å)‚Äî‚ÄîÂä®ÊÄÅ‰ª£ÁêÜÂÆûÁé∞ÂáΩÊï∞Ë∞ÉÁî®]]></content>
      <categories>
        <category>Ê∑±ÂÖ•SSM</category>
      </categories>
      <tags>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êè≠ÁßòMybatis(‰∏Ä)_MybatisÊû∂ÊûÑ]]></title>
    <url>%2F2018%2F04%2F16%2F%E6%B7%B1%E5%85%A5SSM%2F%E6%8F%AD%E7%A7%98Mybatis-%E4%B8%80-Mybatis%E6%9E%B6%E6%9E%84%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰ªéJDBCÂà∞HibernateÂÜçÂà∞MybatisÔºå‰Ω†ÂèØËÉΩ‰ºö‰ΩøÁî®ÂæàÂ§öÊ°ÜÊû∂Ôºå‰ΩÜÊòØ‰Ω†Âç¥‰∏çÁü•ÈÅìÊ°ÜÊû∂‰∏∫‰Ω†Ëß£ÂÜ≥‰ªÄ‰πà‰∫ÜÊàñÊòØ‰∏çÁü•ÈÅìÂÆÉÁöÑÊï¥‰∏™Êû∂ÊûÑÔºåÊàë‰ª¨ËøôÈáåÂ∞±ÊòØÂ∏Æ‰Ω†Ëß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢òÔºÅ ‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®MybatisJDBCÁöÑ‰ΩøÁî®ÊØè‰∏Ä‰∏™‰∫∫Â≠¶JavaÁöÑÊï∞ÊçÆÂ∫ìÊìç‰ΩúÂ∫îËØ•ÈÉΩÊòØ‰ªéJDBCÂºÄÂßãÔºåÂÆÉÂü∫Êú¨Êúâ‰ª•‰∏ã7‰∏™Ê≠•È™§Ôºö Âä†ËΩΩJDBCÈ©±Âä® Âª∫Á´ãÂπ∂Ëé∑ÂèñÊï∞ÊçÆÂ∫ìËøûÊé• ÂàõÂª∫ JDBC Statements ÂØπË±° ËÆæÁΩÆSQLËØ≠Âè•ÁöÑ‰º†ÂÖ•ÂèÇÊï∞ ÊâßË°åSQLËØ≠Âè•Âπ∂Ëé∑ÂæóÊü•ËØ¢ÁªìÊûú ÂØπÊü•ËØ¢ÁªìÊûúËøõË°åËΩ¨Êç¢Â§ÑÁêÜÂπ∂Â∞ÜÂ§ÑÁêÜÁªìÊûúËøîÂõûÔºõ ÈáäÊîæÁõ∏ÂÖ≥ËµÑÊ∫êÔºàÂÖ≥Èó≠ConnectionÔºåÂÖ≥Èó≠StatementÔºåÂÖ≥Èó≠ResultSetÔºâÔºõ JDBCÁõ∏Â∫îÁöÑÈóÆÈ¢ò Êï∞ÊçÆÂ∫ìËøûÊé•È¢ëÁπÅÁöÑÂºÄÂêØÂíåÂÖ≥Èó≠Êú¨Ë∫´Â∞±ÈÄ†Êàê‰∫ÜËµÑÊ∫êÁöÑÊµ™Ë¥πÔºåÂΩ±ÂìçÁ≥ªÁªüÁöÑÊÄßËÉΩ SQLËØ≠Âè•Âü∫Êú¨ÈÉΩÊï£ËêΩÂú®ÂêÑ‰∏™JAVAÁ±ª‰∏≠ÂèØËØªÊÄßÂæàÂ∑ÆÔºå‰∏çÂà©‰∫éÁª¥Êä§‰ª•ÂèäÂÅöÊÄßËÉΩË∞É‰ºò„ÄÇ Âú®ÂêéÂè∞‰ª£Á†Å‰∏≠Ëá™Â∑±ÈúÄË¶ÅÊ†πÊçÆËØ∑Ê±ÇÁöÑ‰º†ÂÖ•ÂèÇÊï∞ÔºàÂèÇÊï∞‰∏™Êï∞ÂíåÈ°∫Â∫èÈÉΩ‰∏çÁ°ÆÂÆöÔºâÂéªÊãºÂáëÁõ∏Â∫îÁöÑSQLËØ≠Âè•„ÄÇ ÊâßË°åSQLËØ≠Âè•ÂêéÔºåËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ResultSetÁªìÊûúÈõÜÔºåËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Â∞±ÈúÄË¶ÅÂ∞ÜResultSetÂØπË±°ÁöÑÊï∞ÊçÆÂèñÂá∫Êù•Ôºå‰∏çÁÑ∂Á≠âÂà∞ÈáäÊîæËµÑÊ∫êÊó∂Â∞±Âèñ‰∏çÂà∞Ëøô‰∫õÁªìÊûú‰ø°ÊÅØ‰∫Ü„ÄÇ SQLÈáçÂ§çÁöÑÈóÆÈ¢òÔºå‰∏çÂà©‰∫éÁª¥Êä§ÂíåÂ§çÁî®„ÄÇ MybatisÁõ∏Â∫îÁöÑËß£ÂÜ≥ Êï∞ÊçÆÂ∫ìËøûÊé•ÁöÑËé∑ÂèñÂíåÂÖ≥Èó≠Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Êï∞ÊçÆÂ∫ìËøûÊé•Ê±†Êù•Ëß£ÂÜ≥ËµÑÊ∫êÊµ™Ë¥πÁöÑÈóÆÈ¢ò„ÄÇÈÄöËøáËøûÊé•Ê±†Â∞±ÂèØ‰ª•ÂèçÂ§çÂà©Áî®Â∑≤ÁªèÂª∫Á´ãÁöÑËøûÊé•ÂéªËÆøÈóÆÊï∞ÊçÆÂ∫ì‰∫Ü„ÄÇÂáèÂ∞ëËøûÊé•ÁöÑÂºÄÂêØÂíåÂÖ≥Èó≠ÁöÑÊó∂Èó¥„ÄÇÔºàÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†‰ª•ÂèäÊï∞ÊçÆÊ∫êÁöÑÈÖçÁΩÆÔºâ Â∞ÜËøô‰∫õSQLËØ≠Âè•Áªü‰∏ÄÈõÜ‰∏≠ÊîæÂà∞ÈÖçÁΩÆÊñá‰ª∂ÊàñËÄÖÊï∞ÊçÆÂ∫ìÈáåÈù¢Ôºà‰ª•key-valueÁöÑÊ†ºÂºèÂ≠òÊîæÔºâ„ÄÇÁÑ∂ÂêéÈÄöËøáSQLËØ≠Âè•ÁöÑkeyÂÄºÂéªËé∑ÂèñÂØπÂ∫îÁöÑSQLËØ≠Âè•„ÄÇÔºàMapperÊñá‰ª∂Ôºâ ‰ΩøÁî®‰∏ÄÁßçÊúâÂà´‰∫éSQLÁöÑËØ≠Ê≥ïÊù•ÂµåÂÖ•ÂèòÈáèÔºàÊØîÂ¶Ç‰ΩøÁî®ÔºÉÂèòÈáèÂêçÔºâ„ÄÇËøôÊ†∑ÔºåSQLËØ≠Âè•ÁªèËøáËß£ÊûêÂêéÂ∞±ÂèØ‰ª•Âä®ÊÄÅÁöÑÁîüÊàêÁ¨¶Âêà‰∏ä‰∏ãÊñáÁöÑSQLËØ≠Âè•„ÄÇÔºàMapperÊñá‰ª∂ÈáåÈù¢ÁöÑSQLËØ≠Âè•Ôºâ Â∞ÜÁªìÊûú‰∏çÂÅö‰ªª‰ΩïÂ§ÑÁêÜÂ∞±Áõ¥Êé•ËøîÂõûÔºå‰πüÊúâÂèØËÉΩÂ∞ÜÁªìÊûúËΩ¨Êç¢Êàê‰∏Ä‰∏™JavaBeanÂØπË±°ËøîÂõû„ÄÅ‰∏Ä‰∏™MapËøîÂõû„ÄÅ‰∏Ä‰∏™ListËøîÂõûÁ≠âÔºåËÄå‰∏îÂèØ‰ª•Â∞ÜSQLËØ≠Âè•Âíå‰º†ÂÖ•ÂèÇÊï∞‰∏§ÈÉ®ÂàÜÂêàËµ∑Êù•ÂèØ‰ª•‰Ωú‰∏∫Êï∞ÊçÆÁºìÂ≠òÁöÑkeyÂÄº„ÄÇÔºàËØ≠Âè•Ê†áÁ≠æËøîÂõûÁªìÊûúÁöÑÈÖçÁΩÆÔºâ Â∞ÜÈáçÂ§çÁöÑ‰ª£Á†ÅÊäΩÁ¶ªÂá∫Êù•Êàê‰∏∫Áã¨Á´ãÁöÑ‰∏Ä‰∏™Á±ªÔºåÁÑ∂ÂêéÂú®ÂêÑ‰∏™ÈúÄË¶Å‰ΩøÁî®ÁöÑÂú∞ÊñπËøõË°åÂºïÁî®ÔºàSQL‰ª£Á†ÅÂùóÔºâ MybatisÊû∂ÊûÑ ËøôÂº†ÂõæË∂ÖÁ∫ßÊ£íÔºåÂèØ‰ª•Âú®ÂêéÈù¢ÁöÑÂèÇËÄÉÊâæÂà∞Âá∫Â§Ñ„ÄÇÊàë‰ª¨Â∞±ÊåâÁÖßËøô‰∏™4Â±ÇËøõË°åÂàÜÊûêÔºö Êé•Âè£Â±ÇÊé•Âè£Ë∞ÉÁî®ÊñπÂºè‰∏ªË¶ÅÊúâ‰ª•‰∏ã‰∏§ÁßçÔºö Âü∫‰∫éStatementId(ÂëΩÂêçÁ©∫Èó¥+ËØ≠Âè•id)ÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö 1List&lt;?&gt;|int|void sqlSession select|update|delete|insert(statementId,params) Âü∫‰∫éMapperÊé•Âè£ MyBatis Â∞ÜÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÊØè‰∏Ä‰∏™ ËäÇÁÇπÊäΩË±°‰∏∫‰∏Ä‰∏™ Mapper Êé•Âè£,Ëøô‰∏™Êé•Âè£‰∏≠Â£∞ÊòéÁöÑÊñπÊ≥ïÂíå ËäÇÁÇπ‰∏≠ÁöÑ ËäÇÁÇπÈ°πÂØπÂ∫îÔºåÂç≥ ËäÇÁÇπÁöÑidÂÄº‰∏∫Mapper Êé•Âè£‰∏≠ÁöÑÊñπÊ≥ïÂêçÁß∞ÔºåparameterType ÂÄºË°®Á§∫Mapper ÂØπÂ∫îÊñπÊ≥ïÁöÑÂÖ•ÂèÇÁ±ªÂûãÔºåËÄåresultMap ÂÄºÂàôÂØπÂ∫î‰∫ÜMapper Êé•Âè£Ë°®Á§∫ÁöÑËøîÂõûÂÄºÁ±ªÂûãÊàñËÄÖËøîÂõûÁªìÊûúÈõÜÁöÑÂÖÉÁ¥†Á±ªÂûã„ÄÇËåÉ‰æãÂ¶Ç‰∏ãÔºö 1234567891011&lt;mapper namespace="com.todorex.UserMapper"&gt; &lt;select id="selectList" resultType="com.todorex.User"&gt; select * from user &lt;/select&gt;&lt;/mapper&gt;public interface UserMapper &#123; List&lt;User&gt; selectList();&#125; Ê†πÊçÆMyBatis ÁöÑÈÖçÁΩÆËßÑËåÉÈÖçÁΩÆÂ•ΩÂêéÔºåÈÄöËøáSqlSession.getMapper(UserMapper.class)ÊñπÊ≥ïÔºåMyBatis‰ºöÊ†πÊçÆÁõ∏Â∫îÁöÑÊé•Âè£Â£∞ÊòéÁöÑÊñπÊ≥ï‰ø°ÊÅØÔºåÈÄöËøáÂä®ÊÄÅ‰ª£ÁêÜÊú∫ Âà∂ ÁîüÊàê‰∏Ä‰∏™Mapper ÂÆû‰æãÔºåÊàë‰ª¨Ë∞ÉÁî®MapperÊé•Âè£ÁöÑÊüê‰∏Ä‰∏™ÊñπÊ≥ïÊó∂ÔºåMyBatis‰ºöÊ†πÊçÆËøô‰∏™ÊñπÊ≥ïÁöÑÊñπÊ≥ïÂêçÂíåÂèÇÊï∞Á±ªÂûãÔºåÁ°ÆÂÆöStatementIdÔºåÂ∫ïÂ±ÇËøòÊòØÈÄöËøáStatementIdÊù•ÂÆûÁé∞ÂØπÊï∞ÊçÆÂ∫ìÁöÑÊìç‰ΩúÔºåMyBatisÂºïÁî®MapperÊé•Âè£ËøôÁßçË∞ÉÁî®ÊñπÂºèÊòØ‰∏∫‰∫ÜÊª°Ë∂≥Èù¢ÂêëÊé•Âè£ÁºñÁ®ãÁöÑÈúÄ Ë¶Å„ÄÇÔºàÂÖ∂ÂÆûËøòÊúâ‰∏Ä‰∏™ÂéüÂõ†ÊòØÂú®‰∫éÔºåÈù¢ÂêëÊé•Âè£ÁöÑÁºñÁ®ãÔºå‰ΩøÂæóÁî®Êà∑Âú®Êé•Âè£‰∏äÂèØ‰ª•‰ΩøÁî®Ê≥®Ëß£Êù•ÈÖçÁΩÆSQLËØ≠Âè•ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ËÑ±Á¶ªXMLÈÖçÁΩÆÊñá‰ª∂Ôºâ„ÄÇ Êï∞ÊçÆÂ§ÑÁêÜÂ±ÇÊï∞ÊçÆÂ§ÑÁêÜÂ±ÇÂèØ‰ª•ËØ¥ÊòØMyBatisÁöÑÊ†∏ÂøÉÔºåÂÆÉË¶ÅÂÆåÊàê‰∏§‰∏™ÂäüËÉΩÔºö ÈÄöËøá‰º†ÂÖ•ÂèÇÊï∞ÊûÑÂª∫Âä®ÊÄÅSQLËØ≠Âè• MyBatis ÈÄöËøá‰º†ÂÖ•ÁöÑÂèÇÊï∞ÂÄºÔºå‰ΩøÁî® OGNLË°®ËææÂºè Êù•Âä®ÊÄÅÂú∞ÊûÑÈÄ†SQLËØ≠Âè•Ôºå‰ΩøÂæóMyBatisÊúâÂæàÂº∫ÁöÑÁÅµÊ¥ªÊÄßÂíåÊâ©Â±ïÊÄß„ÄÇÂèÇÊï∞Êò†Â∞ÑÊåáÁöÑÊòØÂØπ‰∫éjava Êï∞ÊçÆÁ±ªÂûãÂíåjdbcÊï∞ÊçÆÁ±ªÂûã‰πãÈó¥ÁöÑËΩ¨Êç¢ÔºöËøôÈáåÊúâÂåÖÊã¨‰∏§‰∏™ËøáÁ®ãÔºö Êü•ËØ¢Èò∂ÊÆµÔºåÊàë‰ª¨Ë¶ÅÂ∞ÜjavaÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåËΩ¨Êç¢ÊàêjdbcÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÈÄöËøá preparedStatement.setXXX() Êù•ËÆæÂÄº ËøîÂõûÈò∂ÊÆµÔºåÊàë‰ª¨Ë¶ÅÂØπresultsetÊü•ËØ¢ÁªìÊûúÈõÜÁöÑjdbcType Êï∞ÊçÆËΩ¨Êç¢Êàêjava Êï∞ÊçÆÁ±ªÂûã SQLËØ≠Âè•ÁöÑÊâßË°å‰ª•ÂèäÂ∞ÅË£ÖÊü•ËØ¢ÁªìÊûúÈõÜÊàêList Âä®ÊÄÅSQLËØ≠Âè•ÁîüÊàê‰πãÂêéÔºåMyBatis Â∞ÜÊâßË°åSQLËØ≠Âè•ÔºåÂπ∂Â∞ÜÂèØËÉΩËøîÂõûÁöÑÁªìÊûúÈõÜËΩ¨Êç¢ÊàêList ÂàóË°®„ÄÇMyBatis Âú®ÂØπÁªìÊûúÈõÜÁöÑÂ§ÑÁêÜ‰∏≠ÔºåÊîØÊåÅÁªìÊûúÈõÜÂÖ≥Á≥ª‰∏ÄÂØπÂ§öÂíåÂ§öÂØπ‰∏ÄÁöÑËΩ¨Êç¢ÔºåÂπ∂‰∏îÊúâ‰∏§ÁßçÊîØÊåÅÊñπÂºèÔºå‰∏ÄÁßç‰∏∫ÂµåÂ•óÊü•ËØ¢ËØ≠Âè•ÁöÑÊü•ËØ¢ÔºåËøòÊúâ‰∏ÄÁßçÊòØÂµåÂ•óÁªìÊûúÈõÜÁöÑÊü•ËØ¢„ÄÇ Ê°ÜÊû∂ÊîØÊåÅÂ±Ç ‰∫ãÂä°ÁÆ°ÁêÜÊú∫Âà∂ ‰∫ãÂä°ÁÆ°ÁêÜÊú∫Âà∂ÂØπ‰∫éORMÊ°ÜÊû∂ËÄåË®ÄÊòØ‰∏çÂèØÁº∫Â∞ëÁöÑ‰∏ÄÈÉ®ÂàÜÔºå‰∫ãÂä°ÁÆ°ÁêÜÊú∫Âà∂ÁöÑË¥®Èáè‰πüÊòØËÄÉÈáè‰∏Ä‰∏™ORMÊ°ÜÊû∂ÊòØÂê¶‰ºòÁßÄÁöÑ‰∏Ä‰∏™Ê†áÂáÜ„ÄÇ ËøûÊé•Ê±†ÁÆ°ÁêÜÊú∫Âà∂ Áî±‰∫éÂàõÂª∫‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìËøûÊé•ÊâÄÂç†Áî®ÁöÑËµÑÊ∫êÊØîËæÉÂ§ßÔºåÂØπ‰∫éÊï∞ÊçÆÂêûÂêêÈáèÂ§ßÂíåËÆøÈóÆÈáèÈùûÂ∏∏Â§ßÁöÑÂ∫îÁî®ËÄåË®ÄÔºåËøûÊé•Ê±†ÁöÑËÆæËÆ°Â∞±ÊòæÂæóÈùûÂ∏∏ÈáçË¶Å„ÄÇ ÁºìÂ≠òÊú∫Âà∂ ‰∏∫‰∫ÜÊèêÈ´òÊï∞ÊçÆÂà©Áî®ÁéáÂíåÂáèÂ∞èÊúçÂä°Âô®ÂíåÊï∞ÊçÆÂ∫ìÁöÑÂéãÂäõÔºåMyBatis ‰ºöÂØπ‰∫é‰∏Ä‰∫õÊü•ËØ¢Êèê‰æõ‰ºöËØùÁ∫ßÂà´ÁöÑÊï∞ÊçÆÁºìÂ≠òÔºå‰ºöÂ∞ÜÂØπÊüê‰∏ÄÊ¨°Êü•ËØ¢ÔºåÊîæÁΩÆÂà∞SqlSession ‰∏≠ÔºåÂú®ÂÖÅËÆ∏ÁöÑÊó∂Èó¥Èó¥ÈöîÂÜÖÔºåÂØπ‰∫éÂÆåÂÖ®Áõ∏ÂêåÁöÑÊü•ËØ¢ÔºåMyBatis‰ºöÁõ¥Êé•Â∞ÜÁºìÂ≠òÁªìÊûúËøîÂõûÁªôÁî®Êà∑ÔºåËÄå‰∏çÁî®ÂÜçÂà∞Êï∞ÊçÆÂ∫ì‰∏≠Êü•Êâæ„ÄÇ SQLËØ≠Âè•ÁöÑÈÖçÁΩÆÊñπÂºè ‰º†ÁªüÁöÑMyBatis ÈÖçÁΩÆSQLËØ≠Âè•ÊñπÂºèÂ∞±ÊòØ‰ΩøÁî®XMLÊñá‰ª∂ËøõË°åÈÖçÁΩÆÁöÑÔºå‰ΩÜÊòØËøôÁßçÊñπÂºè‰∏çËÉΩÂæàÂ•ΩÂú∞ÊîØÊåÅÈù¢ÂêëÊé•Âè£ÁºñÁ®ãÁöÑÁêÜÂøµÔºå‰∏∫‰∫ÜÊîØÊåÅÈù¢ÂêëÊé•Âè£ÁöÑÁºñÁ®ãÔºåMyBatis ÂºïÂÖ•‰∫ÜMapperÊé•Âè£ÁöÑÊ¶ÇÂøµÔºåÈù¢ÂêëÊé•Âè£ÁöÑÂºïÂÖ•ÔºåÂØπ‰ΩøÁî®Ê≥®Ëß£Êù•ÈÖçÁΩÆSQLËØ≠Âè•Êàê‰∏∫ÂèØËÉΩÔºåÁî®Êà∑Âè™ÈúÄË¶ÅÂú®Êé•Âè£‰∏äÊ∑ªÂä†ÂøÖË¶ÅÁöÑÊ≥®Ëß£Âç≥ÂèØÔºå‰∏çÁî®ÂÜçÂéªÈÖçÁΩÆXMLÊñá‰ª∂‰∫ÜÔºå‰ΩÜÊòØÔºåÁõÆÂâçÁöÑMyBatis Âè™ÊòØÂØπÊ≥®Ëß£ÈÖçÁΩÆSQLËØ≠Âè•Êèê‰æõ‰∫ÜÊúâÈôêÁöÑÊîØÊåÅÔºåÊüê‰∫õÈ´òÁ∫ßÂäüËÉΩËøòÊòØË¶Å‰æùËµñXMLÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆSQL ËØ≠Âè•„ÄÇ ÂºïÂØºÂ±ÇÂºïÂØºÂ±ÇÊòØÈÖçÁΩÆÂíåÂêØÂä®MyBatisÈÖçÁΩÆ‰ø°ÊÅØÁöÑÊñπÂºè„ÄÇMyBatis Êèê‰æõ‰∏§ÁßçÊñπÂºèÊù•ÂºïÂØºMyBatisÔºö Âü∫‰∫éXMLÈÖçÁΩÆÊñá‰ª∂ÁöÑÊñπÂºè Âü∫‰∫éJava API ÁöÑÊñπÂºè ËåÉ‰æãÂèØ‰ª•Êü•ÁúãÂÆòÊñπ‰ΩøÁî®ÊâãÂÜåÔºöMybatisÂÆòÊñπ‰ΩøÁî®ÊâãÂÜå ÂèÇËÄÉ ÁªàÁªìÁØáÔºöMyBatisÂéüÁêÜÊ∑±ÂÖ•Ëß£ÊûêÔºà‰∏ÄÔºâ]]></content>
      <categories>
        <category>Ê∑±ÂÖ•SSM</category>
      </categories>
      <tags>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êè≠ÁßòSpringMVC(‰∏Ä)_.SpringMVCÂ§ßÂÖ®Ëß£]]></title>
    <url>%2F2018%2F04%2F15%2F%E6%B7%B1%E5%85%A5SSM%2F%E6%8F%AD%E7%A7%98SpringMVC-%E4%B8%80-SpringMVC%E5%A4%A7%E5%85%A8%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁé∞Âú®Âü∫‰∫éÊâÄÊúâÁöÑWebÂ∫îÁî®ÈÉΩÁ¶ª‰∏çÂºÄSpringÔºåÁî®‰∫ÜSpringÔºå‰Ω†Ëá™ÁÑ∂‰ºöÂéªÁî®‰ªñÂÆ∂ÁöÑMVCÊ°ÜÊû∂‚Äî‚ÄîSpringMVCÔºÅÊâÄ‰ª•ÊéåÊè°SpringMVC‰πüÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑ„ÄÇ SpringMVCËØ∑Ê±ÇÂ§ÑÁêÜÊµÅÁ®ãÊÄªËßàÊàë‰ª¨ÂèØ‰ª•Áî®‰∏ãÈù¢‰∏ÄÂº†ÂõæÊù•‰ªãÁªçSpringMVCÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÂíåËØ∑Ê±ÇÂ§ÑÁêÜÊµÅÁ®ãÔºö ÊµÅÁ®ã‰∏≠Âá∫Áé∞ÁöÑÊ†∏ÂøÉÁªÑ‰ª∂Â¶Ç‰∏ãÔºö DispatcherServletÊòØspringmvc‰∏≠ÁöÑÂâçÁ´ØÊéßÂà∂Âô®ÔºåË¥üË¥£Êé•Êî∂requestÂπ∂Â∞ÜrequestËΩ¨ÂèëÁªôÂØπÂ∫îÁöÑÂ§ÑÁêÜÁªÑ‰ª∂. HanlerMappingÊòØspringmvc‰∏≠ÂÆåÊàêurlÂà∞controllerÊò†Â∞ÑÁöÑÁªÑ‰ª∂.DispatcherServletÊé•Êî∂request,ÁÑ∂Âêé‰ªéHandlerMappingÊü•ÊâæÂ§ÑÁêÜrequestÁöÑcontroller. ControllerÔºàHandlerAdapterÔºâÂ§ÑÁêÜrequest,Âπ∂ËøîÂõûModelAndViewÂØπË±°,ControllerÊòØspringmvc‰∏≠Ë¥üË¥£Â§ÑÁêÜrequestÁöÑÁªÑ‰ª∂(Á±ª‰ºº‰∫éstruts2‰∏≠ÁöÑAction) ModelAndViewÊòØÂ∞ÅË£ÖModelÂØπË±°ÂíåViewÂØπË±°ÁöÑÁªÑ‰ª∂ ViewResolverÊòØËßÜÂõæËß£ÊûêÂô®ÔºåË¥üË¥£Ëß£ÊûêModelAndViewÂØπË±°ÁîüÊàêÂØπÂ∫îÁöÑViewÂØπË±° ViewËßÜÂõæÁªÑ‰ª∂ÔºåÂ§çÂà∂Ê∏≤ÊüìÈ°µÈù¢ Êï¥‰∏™ÊµÅÁ®ãÁöÑÂ§ßËá¥ÊµÅÁ®ãÂ¶Ç‰∏ãÔºö ÂΩìrequestÂà∞Êù•Êó∂ÔºåDispatcherServletÂØπrequestËøõË°åÊçïËé∑ÔºåÂπ∂ÊâßË°ådoServiceÊñπÊ≥ïÔºåÁªßËÄåÊâßË°ådoDispatchÊñπÊ≥ï„ÄÇ HandlerMappingËß£ÊûêËØ∑Ê±ÇÔºåÂπ∂‰∏îËøîÂõûHandlerExecutionChainÔºàÂÖ∂‰∏≠ÂåÖÂê´ÂØπÂ∫îÁöÑcontrollerÂíåinterceptorsÔºâ ÈÄöËøáHandlerExecutionChainÂæóÂà∞HandlerÁõ∏ÂÖ≥Á±ªÔºåHandlerÂÖàÊâßË°åÊã¶Êà™Âô®ÁöÑpreÁõ∏ÂÖ≥ÊñπÊ≥ïÔºåÊé•ÁùÄÊâßË°åhandlerÊñπÊ≥ïÔºåÊúÄÂêéË∞ÉÁî®Êã¶Êà™Âô®ÁöÑpostÁõ∏ÂÖ≥ÊñπÊ≥ï Ëß£ÊûêhandlerÊñπÊ≥ïËøîÂõûÁöÑModelAndView Ê†πÊçÆViewResolverÔºàÂèØ‰ª•Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆÔºå‰πüÂ∞±ÊòØËßÜÂõæËß£ÊûêÂô®ÔºâÁîüÊàêViewÂØπË±° ViewÂØπË±°Ê∏≤ÊüìÈ°µÈù¢Âπ∂responseÁªôÂÆ¢Êà∑Á´Ø SpringMVCËØ∑Ê±ÇÂ§ÑÁêÜÂàùÂßãÂåñÊ∫êÁ†ÅÂàÜÊûê È¶ñÂÖàÔºåTomcatÊØèÊ¨°ÂêØÂä®Êó∂ÈÉΩ‰ºöÂä†ËΩΩÂπ∂Ëß£Êûê/WEB-INF/web.xmlÊñá‰ª∂ÔºåÊâÄ‰ª•ÂèØ‰ª•ÂÖà‰ªéweb.xmlÊâæÁ™ÅÁ†¥Âè£ÔºàDispatcherServletÁöÑÈÖçÁΩÆÔºâÔºå‰∏ªË¶Å‰ª£Á†ÅÂ¶Ç‰∏ãÔºàÊàë‰ª¨ÊØèÊ¨°ÈÉΩ‰ºöËøôÊ†∑ÈÖçÁΩÆÔºâÔºö 123456789101112131415161718&lt;servlet &gt; &lt;servlet-name &gt;spring-mvc&lt;/servlet-name&gt; &lt;!-- DispatcherServletÁ±ªÔºåËøô‰∏™Á±ªÂú®spring-mvcÁöÑÂåÖ‰∏ãÈù¢ --&gt; &lt;servlet-class &gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- ÂàùÂßãÂåñÂèÇÊï∞ÔºåËøôÈáå‰∏ªË¶ÅÊòØËØªÂèñSpringMVCÁöÑ‰∏Ä‰∫õÈÖçÁΩÆ‰ø°ÊÅØÔºåÊØîÂ¶ÇÔºö ÈÖçÁΩÆÊ≥®Ëß£È©±Âä®ÔºåÈùôÊÄÅËµÑÊ∫êÊò†Â∞ÑÔºåËßÜÂõæËß£ÊûêÂô®ÔºåËá™Âä®Êâ´ÊèèË£ÖÈÖçÁ≠âÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ --&gt; &lt;init-param &gt; &lt;param-name &gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value &gt;classpath:/spring-mvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- ÂêØÂä®Êó∂Âä†ËΩΩ --&gt; &lt;load-on-startup &gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping &gt; &lt;servlet-name &gt;spring-mvc&lt;/servlet-name&gt; &lt;url-pattern &gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; ËøõÂÖ•DispatchServletÁöÑÂàÜÊûêÔºåÂÖàÁúãÂÆÉÁöÑÁ±ªÂõæÔºö ÂÆÉÊòØ‰∏Ä‰∏™ServletÁöÑÂ≠êÁ±ªÔºåÈÇ£‰πàÊàë‰ª¨Â∞±Ë¶Å‰∏ìÊ≥®‰∫éÂÆÉÁöÑinit„ÄÅserviceÔºàÂêéÁª≠ÂàÜÊûêÔºâ„ÄÅdoGet„ÄÅdoPostÁ≠âÁõ∏ÂÖ≥ÊñπÊ≥ïÔºåÂú®ÂÆÉÁöÑÁà∂Á±ªHttpServeltBeanÔºåÊàë‰ª¨ÊâæÂà∞‰∫ÜinitÊñπÊ≥ïÔºåÂ¶Ç‰∏ãÔºö 1234567891011121314151617public final void init() throws ServletException &#123; try &#123; // Ëé∑ÂèñServlet‰∏≠ÁöÑinitÂèÇÊï∞ÔºåÂπ∂ÂàõÂª∫‰∫Ü‰∏Ä‰∏™BeanWapperÂØπË±°ÔºåÁî±Â≠êÁ±ªÁúüÊ≠£ÊâßË°åBeanWrapperÁöÑÂàùÂßãÂåñÂ∑•‰Ωú // ‰ΩÜÊòØHttpServeltBeanÁöÑÂ≠êÁ±ªÂπ∂Ê≤°ÊúâË¶ÜÁõñÂÖ∂initBeanWrapperÊñπÊ≥ïÔºåÊâÄ‰ª•ÂàõÂª∫ÁöÑBeanWrapperÊ≤°ÊúâÁî® PropertyValues pvs = new HttpServletBean.ServletConfigPropertyValues(this.getServletConfig(), this.requiredProperties); BeanWrapper bw = PropertyAccessorFactory.forBeanPropertyAccess(this); ResourceLoader resourceLoader = new ServletContextResourceLoader(this.getServletContext()); bw.registerCustomEditor(Resource.class, new ResourceEditor(resourceLoader, this.getEnvironment())); this.initBeanWrapper(bw); bw.setPropertyValues(pvs, true); &#125; catch (BeansException var4) &#123; this.logger.error("Failed to set bean properties on servlet '" + this.getServletName() + "'", var4); throw var4; &#125; // ËøôÈáåËøõË¶ÅËøõÂÖ•Âà∞FrameworkÁöÑinitServletBeanÊñπÊ≥ï‰∫Ü this.initServletBean();&#125; ‰ªé‰∏äÈù¢ÁöÑinitÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨Áî±ÂÆÉÁöÑinitServletBeanÊñπÊ≥ïËøõÂÖ•Âà∞FrameworkServletÁöÑinitServletBeanÊñπÊ≥ïÔºåÂ¶Ç‰∏ãÔºö 123456789101112131415protected final void initServletBean() throws ServletException &#123; long startTime = System.currentTimeMillis(); try &#123; // ÂàõÂª∫SpringÂÆπÂô®ÔºåÂπ∂Ë∞ÉÁî®onRefreshÊñπÊ≥ïÊù•ÂÆåÊàêÈÖçÁΩÆÊñá‰ª∂ÁöÑÂä†ËΩΩ this.webApplicationContext = this.initWebApplicationContext(); this.initFrameworkServlet(); &#125; catch (ServletException var5) &#123; this.logger.error("Context initialization failed", var5); throw var5; &#125; catch (RuntimeException var6) &#123; this.logger.error("Context initialization failed", var6); throw var6; &#125;&#125; Âú®ÂÆπÂô®Âä†ËΩΩÁöÑËøáÁ®ã‰∏≠‰ºöË∞ÉÁî®DispatchServletÁöÑinitStrategiesÊñπÊ≥ïÊù•ÂÆåÊàêDispatchservlet‰∏≠ÂÆö‰πâÁöÑÂàùÂßãÂåñÂ∑•‰ΩúÔºåÁúãDispatchServletÁöÑÊ∫êÁ†ÅÔºö 12345678910111213141516171819202122232425262728protected void onRefresh(ApplicationContext context) &#123; this.initStrategies(context);&#125;// ÂàùÂßãÂåñSpringMVCÊ°ÜÊû∂ÈúÄË¶ÅÁöÑ8‰∏™ÁªÑ‰ª∂ÔºåËøô8‰∏™ÁªÑ‰ª∂ÂØπÂ∫î8‰∏™beanÂØπË±°‰øùÂ≠òÂú®DispatchServletÁ±ª‰∏≠protected void initStrategies(ApplicationContext context) &#123; // Áî®‰∫éÂ§ÑÁêÜÊñá‰ª∂‰∏ä‰º†ÊúçÂä°ÔºåÂ∞ÜRequestÂåÖË£ÖÊàêDefaultMultipartHttpServletRequest this.initMultipartResolver(context); // Áî®‰∫éÂ§ÑÁêÜÂ∫îÁî®ÁöÑÂõΩÈôÖÂåñÈóÆÈ¢òÔºåÊéßÂà∂Â∫îÁî®‰∏≠ÁöÑÂ≠óÁ¨¶ÁºñÁ†ÅÈóÆÈ¢ò this.initLocaleResolver(context); // Áî®‰∫éÂÆö‰πâ‰∏Ä‰∏™‰∏ªÈ¢ò this.initThemeResolver(context); // Áî®‰∫éÂÆö‰πâÁî®Êà∑ËÆæÁΩÆÁöÑËØ∑Ê±ÇÊò†Â∞ÑÂÖ≥Á≥ªÔºåÂ∞ÜÁî®Êà∑ËØ∑Ê±ÇÁöÑURLÊò†Â∞ÑÂêéÊâçËÉΩ‰∏Ä‰∏™‰∏™HandlerÂÆû‰æã // Â¶ÇÊûúÊ≤°ÊúâÂÆö‰πâHandlerMappingÔºåÂ∞ÜËé∑ÂèñÈªòËÆ§ÁöÑBeanNameURLHandlerMappingÂíåDefaultAnnotaionHandlerMapping this.initHandlerMappings(context); // Áî®‰∫éÊ†πÊçÆHandlerÁöÑÁ±ªÂûãÂÆö‰πâ‰∏çÂêåÁöÑÂ§ÑÁêÜËßÑÂàôÔºàË∞ÉÁî®ControllerÂÆû‰æãÔºâÔºåÈªòËÆ§ÁöÑ‰∏∫Ôºö // HttpRequestHandlerAdapter„ÄÅSimpleControllerHandlerAdapter„ÄÅThrowawayControllerAdapter„ÄÅAnnotationMethodHandlerAdapter this.initHandlerAdapters(context); // ÂΩìHandleÂ§ÑÁêÜÂá∫ÈîôÊó∂Ôºå‰ºöÈÄöËøáËøô‰∏™HandlerÊù•Áªü‰∏ÄÂ§ÑÁêÜÔºåÈªòËÆ§‰∏∫SimpleMappingExceptionResolverÔºå // Â∞ÜÈîôËØØÊó•ÂøóËÆ∞ÂΩïÂú®Êó•ÂøóÊñá‰ª∂‰∏≠ÔºåÂπ∂‰∏îË∑≥ËΩ¨Âà∞ÈªòËÆ§ÁöÑÈîôËØØÈ°µÈù¢ this.initHandlerExceptionResolvers(context); // Â∞ÜÊåáÂÆöÁöÑViewNameÊåâÁÖßÂÆö‰πâÁöÑrequestToViewNameTranslatorÊõøÊç¢ÊàêÊÉ≥Ë¶ÅÁöÑÊ†ºÂºèÔºåÂ¶ÇÂä†‰∏äÂâçÁºÄÊàñËÄÖÂêéÁºÄ„ÄÇ this.initRequestToViewNameTranslator(context); // Áî®‰∫éÂ∞ÜViewËß£ÊûêÊàêÈ°µÈù¢ÔºåÂú®ViewResolvers‰∏≠ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™Ëß£ÊûêÁ≠ñÁï•ÔºåÈªòËÆ§ÁöÑËß£ÊûêÁ≠ñÁï•‰∏∫InternalResourceViewResolverÔºåÊåâÁÖßJSPÈ°µÈù¢Êù•Ëß£Êûê this.initViewResolvers(context); // ‰∏∫‰∏Ä‰∏™ËØ∑Ê±ÇÂ≠òÂÇ®ÊÑèÂõæ‰∏∫Âè¶Â§ñ‰∏Ä‰∏™ËØ∑Ê±ÇÊâÄ‰ΩøÁî®ÁöÑÂ±ûÊÄßÊèê‰æõ‰∫Ü‰∏ÄÊù°ÈÄîÂæÑ(ÈÄöÂ∏∏Â≠òÂÇ®Âú®session) this.initFlashMapManager(context);&#125; SpringMVCËØ∑Ê±ÇÂ§ÑÁêÜÊµÅÁ®ãÊ∫êÁ†ÅÂàÜÊûêÂÖ≥Ê≥®ÂÆåÂàùÂßãÂåñinitÊñπÊ≥ïÔºåÊàë‰ª¨Ë¶ÅËøõÂÖ•Ê≠£ÂºèÁöÑÊµÅÁ®ãÂàÜÊûê‰∫ÜÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂú®seviceÊñπÊ≥ïÈáåÈù¢(Âú®ÂÖ∂Áà∂Á±ªFrameworkServletÈáå)ÔºåÊàë‰ª¨ÁúãÁúã‰∏ãÈù¢ÁöÑÊ∫êÁ†ÅÔºö1234567protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; if(HttpMethod.PATCH.matches(request.getMethod())) &#123; this.processRequest(request, response); &#125; else &#123; super.service(request, response); &#125;&#125; Ê†πÊçÆserviceÊñπÊ≥ïÔºåÊàë‰ª¨‰∏ÄÊ≠•Ê≠•Ë∞ÉËØïËøõÂÖ•service ‚Äì&gt; processRequest ‚Äì&gt; doServiceÔºàÂ∞ÜApplicationContext„ÄÅlocaleResolver„ÄÅthemeResolverÁ≠âÂØπË±°Ê∑ªÂä†Âà∞request‰∏≠‰ª•‰æøÂêéÈù¢‰ΩøÁî®Ôºâ ‚Äì&gt; doDispatchÔºåÊàë‰ª¨ÊúÄÁªàÂ∞ÜÁõÆÂÖâÂÆö‰ΩçÂú®doDispatchÔºåÂõ†‰∏∫‰ªéÂÆÉÁöÑÊñπÊ≥ï‰ΩìÂ∞±ÂèØ‰ª•ÁúãÂá∫ÂÆÉÊòØÊï¥‰∏™SpringMVCÁöÑÊ†∏ÂøÉÊñπÊ≥ï„ÄÇÊàë‰ª¨ÁúãÁúãDispatchServletÈáåÈù¢ÁöÑdoDispatchÊñπÊ≥ïÊ∫êÁ†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception &#123; HttpServletRequest processedRequest = request; HandlerExecutionChain mappedHandler = null; boolean multipartRequestParsed = false; WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request); try &#123; try &#123; ModelAndView mv = null; Exception dispatchException = null; try &#123; // //Â§ÑÁêÜÊñá‰ª∂‰∏ä‰º†ËØ∑Ê±Ç processedRequest = this.checkMultipart(request); multipartRequestParsed = processedRequest != request; // Ëß£ÊûêËØ∑Ê±ÇÔºàÂåπÈÖçURLÔºâÔºåËé∑ÂèñHandlerExecutionChainÂØπË±° mappedHandler = this.getHandler(processedRequest); if(mappedHandler == null || mappedHandler.getHandler() == null) &#123; this.noHandlerFound(processedRequest, response); return; &#125; // ‰ªéHandlerExecutionChainÂØπË±°Ëé∑ÂèñHandlerAdapterÂØπË±°ÔºåÂÆûÈôÖ‰∏äÊòØ‰ªéHandlerMappingÂØπË±°‰∏≠Ëé∑Âèñ HandlerAdapter ha = this.getHandlerAdapter(mappedHandler.getHandler()); String method = request.getMethod(); boolean isGet = "GET".equals(method); if(isGet || "HEAD".equals(method)) &#123; long lastModified = ha.getLastModified(request, mappedHandler.getHandler()); if(this.logger.isDebugEnabled()) &#123; this.logger.debug("Last-Modified value for [" + getRequestUri(request) + "] is: " + lastModified); &#125; if((new ServletWebRequest(request, response)).checkNotModified(lastModified) &amp;&amp; isGet) &#123; return; &#125; &#125; // Âú®controllerÊñπÊ≥ïÊâßË°åÂâçÔºåÊâßË°åÊã¶Êà™Âô®ÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ïÔºàpreÔºâ if(!mappedHandler.applyPreHandle(processedRequest, response)) &#123; return; &#125; // ÊâßË°åHandlerAdapterÂØπË±°ÁöÑhandleÊñπÊ≥ïÔºåËøîÂõûModelAndView mv = ha.handle(processedRequest, response, mappedHandler.getHandler()); if(asyncManager.isConcurrentHandlingStarted()) &#123; return; &#125; this.applyDefaultViewName(processedRequest, mv); // Âú®controllerÊñπÊ≥ïÊâßË°åÂêéÔºåÊâßË°åÊã¶Êà™Âô®ÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ïÔºàpostÔºâ mappedHandler.applyPostHandle(processedRequest, response, mv); &#125; catch (Exception var19) &#123; dispatchException = var19; &#125; // ËøõË°åËßÜÂõæËß£Êûê this.processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException); &#125; catch (Exception var20) &#123; this.triggerAfterCompletion(processedRequest, response, mappedHandler, var20); &#125; catch (Error var21) &#123; this.triggerAfterCompletionWithError(processedRequest, response, mappedHandler, var21); &#125; &#125; finally &#123; if(asyncManager.isConcurrentHandlingStarted()) &#123; if(mappedHandler != null) &#123; mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest, response); &#125; &#125; else if(multipartRequestParsed) &#123; this.cleanupMultipart(processedRequest); &#125; &#125; &#125; ‰∏äÈù¢ÊòØÊï¥‰ΩìÁöÑÊµÅÁ®ãÔºå‰∏ãÈù¢Êàë‰ª¨ÂÖ∑‰ΩìÂà∞ÂØπMVCÊû∂ÊûÑÁöÑ‰∏â‰∏™Ê®°ÂùóÁöÑÂàÜÊûêÔºö ControlÔºàCÔºâSpring MVCÁöÑControl‰∏ªË¶ÅÁî±HandlerMappingÂíåHandlerAdapters‰∏§‰∏™ÁªÑ‰ª∂Êèê‰æõ„ÄÇ HandlerMappingÂπ∂Ê≤°ÊúâËßÑÂÆöËøô‰∏™URL‰∏éÂ∫îÁî®ÁöÑÂ§ÑÁêÜÁ±ªÂ¶Ç‰ΩïÊò†Â∞ÑÔºåÂú®Ëøô‰∏™Êé•Âè£‰∏≠Âè™ÂÆö‰πâ‰∫ÜÊ†πÊçÆURLÂøÖÈ°ªËøîÂõû‰∏Ä‰∏™Áî±HandlerExecutionChain‰ª£ÁêÜÁöÑÂ§ÑÁêÜÈìæÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ËøôÈáåÂ§ÑÁêÜÈìæ‰∏≠Ê∑ªÂä†‰ªªÊÑèÁöÑHandlerAdaptersÂÆû‰æãÊù•Â§ÑÁêÜËøô‰∏™URLÂØπÂ∫îÁöÑËØ∑Ê±Ç„ÄÇËøô‰∏™ÂíåServletËßÑËåÉ‰∏≠ÁöÑfilterÂ§ÑÁêÜÊòØÁ±ª‰ººÁöÑ„ÄÇ HandlerMappingÁöÑÂàùÂßãÂåñÔºàÂèØ‰ª•ÂèÇÁÖßHandlerMappingÁöÑÂ≠êÁ±ªSimpleUrlHandlerMappingÈáåÈù¢ÁöÑinitApplicationContextÊñπÊ≥ï‰ª£Á†ÅÔºâ HandlerMappingÁöÑÂàùÂßãÂåñÂ∑•‰ΩúÂÆåÊàêÁöÑ‰∏§‰∏™ÊúÄÈáçË¶ÅÁöÑÂ∑•‰ΩúÂ∞±ÊòØÂ∞ÜURL‰∏éHandlerÁöÑÂØπÂ∫îÂÖ≥Á≥ª‰øùÂ≠òÂú®handlerMapÈõÜÂêà‰∏≠ÔºåÂπ∂Â∞ÜÊâÄÊúâÁöÑinterceptorsÂØπË±°‰øùÂ≠òÂú®adaptedInterceptorsÊï∞ÁªÑ‰∏≠ÔºåÁ≠âÂà∞ËØ∑Ê±ÇÂà∞Êù•Êó∂ÊâßË°åÊâÄÊúâÁöÑadaptedInterceptorsÊï∞ÁªÑ‰∏≠ÁöÑInterceptorÂØπË±°ÔºåÊâÄÊúâÁöÑInterceptorÂØπË±°ÂøÖÈ°ªÂÆûÁé∞HandlerInterceptorÊé•Âè£„ÄÇ HandlerAdapter(ÂèØ‰ª•ÁúãÊàêController)ÁöÑÂàùÂßãÂåñÔºàÂèØ‰ª•ÂèÇÁÖßHandlerAdapterÁöÑÂ≠êÁ±ªSimpleControllerHandlerAdapterÈáåÈù¢ÁöÑ‰ª£Á†ÅÔºâ HandlerAdapterÁöÑÂàùÂßãÂåñÂ∑•‰Ωú‰∏ªË¶ÅÊòØÂàõÂª∫‰∏Ä‰∏™HandlerAdapterÂØπË±°ÔºåÂ∞ÜËøô‰∏™HandlerAdapterÂØπË±°‰øùÂ≠òÂú®DispatcherServletÁöÑHandlerAdaptersÈõÜÂêà‰∏≠„ÄÇÂΩìSpringMVCÂ∞ÜÊüê‰∏™URLÂØπÂ∫îÂà∞Êüê‰∏™HandlerÊó∂ÔºåÂú®HandlerAdaptersÈõÜÂêà‰∏≠Êü•ËØ¢ÈÇ£‰∏™HandlerAdaptersÂØπË±°supportsËøô‰∏™HandlerÔºåÈÇ£‰πàHandlerAdaptersÂ∞±‰ºöË¢´ËøîÂõûÔºàËÆæËÆ°Ê®°ÂºèÔºâÔºåÂπ∂Ë∞ÉÁî®Ëøô‰∏™HandlerAdaptersÊé•Âè£ÂØπÂ∫îÁöÑÊñπÊ≥ï„ÄÇÂ¶ÇÊûúËøô‰∏™HandlerAdaptersÂØπË±°ÊòØSimpleControllerHandlerAdapterÔºåÂàôÂ∞ÜË∞ÉÁî®ÂÖ∂ModelAndView handle(HttpServletRequest request, HttpServletResponse response, Object handler)ÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÁî®Êà∑Ê≤°ÊúâÂÆö‰πâHandlerAdapterÁöÑÂÆûÁé∞Á±ªÔºåÈªòËÆ§ÁöÑ‰∏∫ÔºöHttpRequestHandlerAdapter„ÄÅSimpleControllerHandlerAdapter„ÄÅThrowawayControllerAdapter„ÄÅAnnotationMethodHandlerAdapter„ÄÇ ControlÁöÑË∞ÉÁî®ÈÄªËæëÊ†πÊçÆDispatcherServletÁöÑdoDispathÊñπÊ≥ïÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÈÄöËøágetHandlerÊñπÊ≥ïÂåπÈÖçÂà∞Êüê‰∏™HandlerÂπ∂ËøîÂõûËøô‰∏™HandlerÁöÑÂ§ÑÁêÜÈìæHandlerExecutionChainÂØπË±°ÔºåËÄåËøô‰∏™HandlerExecutionChainÂØπË±°Â∞Ü‰ºöÂåÖÂê´‰∏Ä‰∏™ÂåπÈÖç‰∏äÁöÑHandlerAdapter‰ª•ÂèäÁî®Êà∑Ëá™ÂÆö‰πâÁöÑÂ§ö‰∏™HandlerInterceptorÂØπË±°„ÄÇÊàë‰ª¨ÂÖàÁúãHandlerInterceptorÊé•Âè£ÔºåÂú®HandlerInterceptorÊé•Âè£‰∏≠Êúâ‰∏â‰∏™ÊñπÊ≥ïÂ¶Ç‰∏ãÔºö123456789public interface HandlerInterceptor &#123; // Âú®HandlerÊâßË°åÂâç boolean preHandle(HttpServletRequest var1, HttpServletResponse var2, Object var3) throws Exception; // Âú®HandlerÊâßË°åÂêé void postHandle(HttpServletRequest var1, HttpServletResponse var2, Object var3, ModelAndView var4) throws Exception; // Âú®ViewÊ∏≤ÊüìÂÆåÊàêÂêéÔºåDispatchServletËøîÂõû‰πãÂâçÊâßË°å„ÄÇ // PSÔºöÂΩìpreHandlerËøîÂõûfalseÊó∂ÔºåÂΩìÂâçÁöÑËØ∑Ê±ÇÂ∞ÜÂú®ÊâßË°åÂÆåËØ•ÊñπÊ≥ïÂêéÁõ¥Êé•ËøîÂõûÔºåHandler‰∏çÂÜçÊâßË°å void afterCompletion(HttpServletRequest var1, HttpServletResponse var2, Object var3, Exception var4) throws Exception;&#125; Êàë‰ª¨ÁÑ∂ÂêéÁúãÁúãHandlerExecutionChainÁ±ªÁöÑgetHandlerÊñπÊ≥ïÔºå‰Ω†‰ºöÂèëÁé∞ËøîÂõûÁöÑÊòØObjectÂØπË±°ÔºåÊâÄ‰ª•Âú®ËøôÈáåHandlerÂØπË±°ÊòØÊ≤°ÊúâÁ±ªÂûãÁöÑÔºåHandlerÁöÑÁ±ªÂûãÊòØÁî±HandlerAdapterÔºàÂåπÈÖçÂà∞ÁöÑÔºâÂÜ≥ÂÆöÁöÑ„ÄÇÊé•‰∏ãÈáåÊâßË°åHandlerÂØπË±°ÁöÑÂÖ∑‰ΩìÊñπÊ≥ïÔºåÂ¶ÇÊûúHandlerÂØπË±°ÁöÑÁõ∏Â∫îÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™ModelAndViewÂØπË±°ÔºåÊé•‰∏ãÂéªÂ∞±ÂéªÊâßË°åViewÊ∏≤Êüì„ÄÇ ModelÔºàMÔºâModelÂÆû‰æãÊó¢Âú®‰∏öÂä°ÈÄªËæëÂ±ÇË¢´‰ΩøÁî®Ôºå‰πüÂú®Ê∏≤ÊüìÈ°µÈù¢‰∏≠Ë¢´‰ΩøÁî®ÔºåÊàë‰ª¨ËøôÈáå‰∏ªË¶ÅËÆ≤‰∏Ä‰∏ãÂú®È°µÈù¢Ê®°ÊùøÊ∏≤Êüì‰∏≠ÁöÑ‰ΩøÁî®„ÄÇ Â¶ÇÊûúHandlerËøîÂõû‰∫ÜModelAndViewÂØπË±°ÔºåÈÇ£‰πàËØ¥ÊòéHandlerÈúÄË¶Å‰º†‰∏Ä‰∏™ModelÂÆû‰æãÁªôViewÂéªÊ∏≤ÊüìÊ®°Êùø„ÄÇÂèØ‰ª•ËØ¥ModelAndViewÂØπË±°Â∞±ÊòØËøûÊé•‰∏öÂä°ÈÄªËæëÂ±Ç‰∏éViewËßÜÂõæÂ±ÇÁöÑÊ°•Ê¢ÅÔºåÂØπSpringMVCÊù•ËØ¥ÂÆÉ‰πüÊòØËøûÊé•Handler‰∏éViewÁöÑÊ°•Ê¢Å„ÄÇ ModelAndViewÂØπË±°‰ºöÊåÅÊúâ‰∏Ä‰∏™ModelMapÂØπË±°Âíå‰∏Ä‰∏™ViewÂØπË±°ÔºàÂèØ‰ª•Êü•ÁúãModelAndViewÁöÑÊ∫êÁ†ÅÔºâÔºåModelMapÂØπË±°Â∞±ÊòØÊâßË°åÊ®°ÊùøÊ∏≤ÊüìÊó∂ÊâÄÈúÄË¶ÅÁöÑÂèòÈáèÂØπÂ∫îÁöÑÂÆû‰æãÔºàÂØπÂ∫îÂà∞Struts2ÁöÑÂÄºÊ†àÔºâÔºåÂ¶ÇJSPÈÄöËøárequest.getAttribute(String)Ëé∑ÂæóJSTLÊ†áÁ≠æÂêçÂØπÂ∫îÁöÑÂØπË±°„ÄÇModelMapÂÖ∂ÂÆû‰πüÊòØ‰∏™MapÔºåÂú®Handler‰∏≠Â∞ÜÊ®°ÊùøÈúÄË¶ÅÁöÑÂØπË±°Â≠òÂú®Ëøô‰∏™Map‰∏≠ÔºåÁÑ∂Âêé‰º†ÈÄíÂà∞ViewÂØπÂ∫îÁöÑViewResolvers‰∏≠„ÄÇ ViewÔºàVÔºâSpring MVCÁöÑView‰∏ªË¶ÅÁî±RequestToViewNameTranslatorÂíåViewResolver‰∏§‰∏™ÁªÑ‰ª∂Êèê‰æõ„ÄÇ RequestToViewNameTranslatorÊîØÊåÅÁî®Êà∑Ëá™ÂÆö‰πâÂØπViewNameÁöÑËß£ÊûêÔºåÂ¶ÇÂä†‰∏äÂâçÁºÄÊàñËÄÖÂêéÁºÄÁ≠â„ÄÇ ViewResolver‰ºöÊ†πÊçÆÁî®Êà∑ÁöÑËØ∑Ê±ÇÁöÑViewNameÂàõÂª∫ÂêàÈÄÇÁöÑÊ®°ÊùøÂºïÊìéÔºàËß£ÊûêÂô®ÔºâÊù•Ê∏≤ÊüìÊúÄÁªàÁöÑÈ°µÈù¢„ÄÇViewResolver‰ºöÊ†πÊçÆViewNameÂàõÂª∫‰∏Ä‰∏™ViewÂØπË±°ÔºåË∞ÉÁî®ViewÂØπË±°ÁöÑrenderÊñπÊ≥ïÊ∏≤ÊüìÈ°µÈù¢„ÄÇ Êàë‰ª¨ÈáçÁÇπÂÖ≥Ê≥®Ëøô‰∏™ViewResolverÔºåÂÖàÁúã‰ªñÁöÑÁ±ªÂõæÔºö Êàë‰ª¨‰ªéUrlBaseViewResolverÂØπË±°ÁöÑloadViewÊñπÊ≥ï-&gt;buildViewÊñπÊ≥ïÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ã‰ª£Á†ÅÔºö 12345678910protected AbstractUrlBasedView buildView(String viewName) throws Exception &#123; AbstractUrlBasedView view = (AbstractUrlBasedView)BeanUtils.instantiateClass(this.getViewClass()); view.setUrl(this.getPrefix() + viewName + this.getSuffix()); String contentType = this.getContentType(); if(contentType != null) &#123; view.setContentType(contentType); &#125; ... ÁúÅÁï• return view;&#125; ÁªìÂêàÁ±ªÂõæÂèØ‰ª•ÂèëÁé∞‰∏çÂêåÁöÑËß£ÊûêÂô®ÁîüÊàêÁöÑViewÂØπË±°ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ Ëé∑ÂæóViewÂØπË±°‰πãÂêéÂ∞±ÂèØ‰ª•Ë∞ÉÁî®ViewÂØπË±°ÁöÑrenderÊñπÊ≥ïÊ∏≤ÊüìÈ°µÈù¢„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÂàÜÊûêJava WebÊäÄÊúØÂÜÖÂπï„Äã ‰∏ÄÊ≠•Ê≠•ÂàÜÊûêSpringMVCÊ∫êÁ†Å]]></content>
      <categories>
        <category>Ê∑±ÂÖ•SSM</category>
      </categories>
      <tags>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êè≠ÁßòSpring(Âõõ)_SpringËÆæËÆ°Ê®°Âºè]]></title>
    <url>%2F2018%2F04%2F12%2F%E6%B7%B1%E5%85%A5SSM%2F%E6%8F%AD%E7%A7%98Spring-%E5%9B%9B-Spring%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöËØ¥ÂÆå‰∫ÜIOCÂíåAOPÔºàËôΩÁÑ∂ÂèØËÉΩËøòÊòØ‰∏çÂ§üÊ∑±ÂÖ•Ôºå‰∏çÂ§üÂÖ®Èù¢Ôºå‰ΩÜÊòØÂØπ‰∫éËá™Â∑±ËøòÊòØÊúâ‰∏ÄÂÆöÁöÑÊî∂Ëé∑ÔºåÊó•ÂêéÊúâÊñ∞ÁöÑÈ¢ÜÊÇüÂÜçÊù•Ë∞ÉÊï¥ÔºâÔºåÂÜçÊù•ËØ¥ËØ¥SpringËøô‰πà‰ºòÁßÄÁöÑÊ°ÜÊû∂ÊâÄ‰ΩøÁî®ÁöÑÁöÑËÆæËÆ°Ê®°ÂºèÔºåÂèØË∞ìÈÅçÂú∞ÈÉΩÊòØÔºåÊàëÂ∞±Ëá™Â∑±ÁúãÂà∞ÂÜô‰∏Ä‰∏ã„ÄÇ Âçï‰æãÊ®°ÂºèÂçï‰æãÊ®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÂçï‰æãÊ®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑÂçï‰æãÊ®°ÂºèÂèØ‰ª•Âú®org.springframework.beans.factory.config.AbstractFactoryBeanÁ±ª‰∏≠ÁúãÂà∞Ëøô‰∏™ÈÄªËæë„ÄÇÁúãÁúãÂÆÉÁöÑgetObjectÊñπÊ≥ïÔºö1234public final T getObject() throws Exception &#123; // Â¶ÇÊûúÊòØÂçï‰æã‰∏îÂ∑≤ÁªèÂàùÂßãÂåñÔºåÂ∞±Áõ¥Êé•ËøîÂõû return this.isSingleton()?(this.initialized?this.singletonInstance:this.getEarlySingletonInstance()):this.createInstance();&#125; Â∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÂ∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÂ∑•ÂéÇÊñπÊ≥ïÊ®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑÂ∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÂèØ‰ª•Âú®org.springframework.beans.factory.BeanFactoryÁ±ª‰∏≠ÁúãÂà∞Ëøô‰∏™ÈÄªËæë„ÄÇÊàë‰ª¨ÁúãÂà∞‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö1234public interface BeanFactory &#123; // Ê†πÊçÆÂîØ‰∏ÄÊ†áËØÜÊù•Ëé∑ÂæóBeanÂØπË±° Object getBean(String var1) throws BeansException;&#125; ÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÊäΩË±°Â∑•ÂéÇÊ®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÂèØ‰ª•Âú®org.springframework.beans.factory.BeanFactoryÁ±ª‰∏≠ÁúãÂà∞Ëøô‰∏™ÈÄªËæë„ÄÇÈÄöËøáÂÆÉÁöÑÂÆûÁé∞ÔºåÊàë‰ª¨ÂèØ‰ª•‰ªéSpringÁöÑÂÆπÂô®ËÆøÈóÆbean„ÄÇÊ†πÊçÆÈááÁî®ÁöÑÁ≠ñÁï•ÔºågetBeanÊñπÊ≥ïÂèØ‰ª•ËøîÂõûÂ∑≤ÂàõÂª∫ÁöÑÂØπË±°ÔºàÂÖ±‰∫´ÂÆû‰æãÔºåÂçï‰æã‰ΩúÁî®ÂüüÔºâÊàñÂàùÂßãÂåñÊñ∞ÁöÑÂØπË±°ÔºàÂéüÂûã‰ΩúÁî®ÂüüÔºâ„ÄÇÂú®BeanFactoryÁöÑÂÆûÁé∞‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Âå∫ÂàÜÔºöClassPathXmlApplicationContextÔºåXmlWebApplicationContextÔºåStaticWebApplicationContextÔºåStaticPortletApplicationContextÔºåGenericApplicationContextÔºåStaticApplicationContextÔºåÁõ∏ÂΩì‰∫é‰∏çÂêåÁöÑCreator„ÄÇ Âª∫ÈÄ†ËÄÖÊ®°ÂºèÂª∫ÈÄ†ËÄÖÊ®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÂª∫ÈÄ†ËÄÖÊ®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑÂª∫ÈÄ†ËÄÖÊ®°ÂºèÂèØ‰ª•Âú®org.springframework.beans.factory.support.BeanDefinitionBuilderÁ±ª‰∏≠Ê£ÄÁ¥¢Ëøô‰∏™ÈÄªËæë„ÄÇËøôÊòØ‰∏Ä‰∏™ÂÖÅËÆ∏Êàë‰ª¨‰ª•ÁºñÁ®ãÊñπÂºèÂÆö‰πâbeanÁöÑÁ±ª„ÄÇBeanDefinitionBuilderÂåÖÂê´Âá†‰∏™ÊñπÊ≥ïÔºåÂÆÉ‰ª¨‰∏∫AbstractBeanDefinitionÊäΩË±°Á±ªÁöÑÁõ∏ÂÖ≥ÂÆûÁé∞ËÆæÁΩÆÂÄºÔºåÊØîÂ¶Ç‰ΩúÁî®ÂüüÔºåÂ∑•ÂéÇÊñπÊ≥ïÔºåÂ±ûÊÄßÁ≠â„ÄÇÊÉ≥ÁúãÁúãÂÆÉÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºåËØ∑Êü•Áúã‰ª•‰∏ãËøô‰∫õÊñπÊ≥ïÔºö1234567891011121314151617181920212223242526272829303132333435363738394041public class BeanDefinitionBuilder &#123; private AbstractBeanDefinition beanDefinition; // ËÆæÁΩÆBeanÁöÑÁà∂Á±ªÂêç public BeanDefinitionBuilder setParentName(String parentName) &#123; this.beanDefinition.setParentName(parentName); return this; &#125; // ËÆæÁΩÆBeanÁöÑÂ∑•ÂéÇÊñπÊ≥ï public BeanDefinitionBuilder setFactoryMethod(String factoryMethod) &#123; this.beanDefinition.setFactoryMethodName(factoryMethod); return this; &#125; // ËÆæÁΩÆBeanÁöÑÊûÑÈÄ†ÂáΩÊï∞ÂèÇÊï∞ public BeanDefinitionBuilder addConstructorArgValue(Object value) &#123; this.beanDefinition.getConstructorArgumentValues().addIndexedArgumentValue( this.constructorArgIndex++, value); return this; &#125; // Ê∑ªÂä†BeanÁöÑÂ±ûÊÄßÂÄº public BeanDefinitionBuilder addPropertyValue(String name, Object value) &#123; this.beanDefinition.getPropertyValues().add(name, value); return this; &#125; // ËÆæÁΩÆBeanÁöÑÂàùÂßãÂåñÊñπÊ≥ï public BeanDefinitionBuilder setInitMethodName(String methodName) &#123; this.beanDefinition.setInitMethodName(methodName); return this; &#125; // ËøîÂõûÂª∫ÈÄ†Â•ΩÁöÑÂØπË±° public AbstractBeanDefinition getBeanDefinition() &#123; this.beanDefinition.validate(); return this.beanDefinition; &#125;&#125; ÂéüÂûãÊ®°ÂºèÂéüÂûãÊ®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÂéüÂûãÊ®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑÂéüÂûãÊ®°ÂºèÂèØ‰ª•Âú®org.springframework.beans.factory.support.AbstractBeanFactoryÁ±ª‰∏≠ÁúãÂà∞Ëøô‰∏™ÈÄªËæë„ÄÇÂÆÉ‰ΩøÁî®‰∏ÄÁßçÁâπÂÆöÁöÑÂéüÂûãËÆæËÆ°Ê®°ÂºèÔºåÂÆÉÂÖàÂàùÂßãÂåñbeanÂéüÂûã‰ΩúÁî®Âüü(ÂÖãÈöÜ)„ÄÇÊñ∞ÂØπË±°Âü∫‰∫éÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑbeanÂÆö‰πâ„ÄÇ Ê®°ÊùøÊ®°ÂºèÊ®°ÊùøÊ®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÊ®°ÊùøÊ®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑÊ®°ÊùøÊ®°ÂºèÂèØ‰ª•Âú®org.springframework.context.support.AbstractApplicationContextÁ±ª‰ª•ÂèäÂÆÉÁöÑÂÆûÁé∞Á±ª‰∏≠ÁúãÂà∞Ëøô‰∏™ÈÄªËæë„ÄÇÂÆÉÁöÑÊ®°ÊùøÊñπÊ≥ïÊòØrefreshÊñπÊ≥ïÔºåËÄårefreshBeanFactory‰ª•ÂèägetBeanFactoryÁ≠âÊñπÊ≥ïÈÉΩÁî±Â≠êÁ±ªÂÖ∑‰ΩìÂÆûÁé∞„ÄÇ ËÆøÈóÆËÄÖÊ®°ÂºèËÆøÈóÆËÄÖÊ®°ÂºèÊ®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîËÆøÈóÆËÄÖÊ®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑËÆøÈóÆËÄÖÊ®°ÂºèÂèØ‰ª•Âú®org.springframework.beans.factory.config.BeanDefinitionVisitorÁ±ª‰∏≠ÁúãÂà∞Ëøô‰∏™ÈÄªËæë„ÄÇËØ•ÂØπË±°Áî®‰∫éËß£ÊûêbeanÂÖÉÊï∞ÊçÆÂπ∂Â∞ÜÂÖ∂Ëß£Êûê‰∏∫StringÔºà‰æãÂ¶ÇÔºöÂÖ∑Êúâ‰ΩúÁî®ÂüüÊàñÂ∑•ÂéÇÊñπÊ≥ïÂêçÁß∞ÁöÑXMLÂ±ûÊÄßÔºâÊàñObjectÔºà‰æãÂ¶ÇÔºöÊûÑÈÄ†ÂáΩÊï∞ÂÆö‰πâ‰∏≠ÁöÑÂèÇÊï∞Ôºâ„ÄÇÂ∑≤Ëß£ÊûêÁöÑÂÄºÂú®‰∏éÂàÜÊûêÁöÑbeanÂÖ≥ËÅîÁöÑBeanDefinitionÂÆû‰æã‰∏≠ËøõË°åÂà§Êñ≠ËÆæÁΩÆ„ÄÇÂÖ∑‰ΩìÁöÑÊ∫êÁ†ÅËØ∑ÁúãBeanDefinitionVisitorÁöÑ‰ª£Á†ÅÁâáÊÆµÔºö12345678910111213141516171819202122232425262728public class BeanDefinitionVisitor &#123; public void visitBeanDefinition(BeanDefinition beanDefinition) &#123; visitParentName(beanDefinition); visitBeanClassName(beanDefinition); visitFactoryBeanName(beanDefinition); visitFactoryMethodName(beanDefinition); visitScope(beanDefinition); visitPropertyValues(beanDefinition.getPropertyValues()); ConstructorArgumentValues cas = beanDefinition. getConstructorArgumentValues(); visitIndexedArgumentValues(cas. getIndexedArgumentValues()); visitGenericArgumentValues(cas. getGenericArgumentValues()); &#125; protected void visitParentName(BeanDefinition beanDefinition) &#123; String parentName = beanDefinition.getParentName(); if (parentName != null) &#123; String resolvedName = resolveStringValue(parentName); if (!parentName.equals(resolvedName)) &#123; beanDefinition.setParentName(resolvedName); &#125; &#125;&#125;&#125; ‰ª£ÁêÜÊ®°Âºè‰ª£ÁêÜÊ®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚Äî‰ª£ÁêÜÊ®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑ‰ª£ÁêÜÊ®°ÂºèÂèØ‰ª•Âú®org.springframework.aop.framework.ProxyFactoryBeanÁ±ª‰∏≠ÁúãÂà∞Ëøô‰∏™ÈÄªËæë„ÄÇËØ¶ÁªÜËØ¥ÊòéÂèØ‰ª•ÂèÇÁÖß‰∏ä‰∏ÄÁØáÊñáÁ´†„ÄÇ Á≠ñÁï•Ê®°ÂºèÁ≠ñÁï•Ê®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÁ≠ñÁï•Ê®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑÁ≠ñÁï•Ê®°ÂºèÂèØ‰ª•Âú®org.springframework.aop.framework.DefaultAopProxyFactoryÁ±ª‰∏≠ÁúãÂà∞Ëøô‰∏™ÈÄªËæë„ÄÇÁúã‰∏Ä‰∏ãËøô‰∏™Á±ªÁöÑÊ∫êÁ†ÅÔºö1234567891011121314151617public class DefaultAopProxyFactory implements AopProxyFactory, Serializable &#123; public AopProxy createAopProxy(AdvisedSupport config) throws AopConfigException &#123; if(!config.isOptimize() &amp;&amp; !config.isProxyTargetClass() &amp;&amp; !this.hasNoUserSuppliedProxyInterfaces(config)) &#123; return new JdkDynamicAopProxy(config); &#125; else &#123; Class&lt;?&gt; targetClass = config.getTargetClass(); if(targetClass == null) &#123; throw new AopConfigException("TargetSource cannot determine target class: Either an interface or a target is required for proxy creation."); &#125; else &#123; // Ê†πÊçÆÁõÆÊ†áÁ±ªÊòØÂê¶ÊúâÊé•Âè£ËÄåÈááÂèñ‰∏çÂêåÁöÑÁ≠ñÁï• return (AopProxy)(!targetClass.isInterface() &amp;&amp; !Proxy.isProxyClass(targetClass)?new ObjenesisCglibAopProxy(config):new JdkDynamicAopProxy(config)); &#125; &#125; &#125;&#125; ÈÄÇÈÖçÂô®Ê®°ÂºèÈÄÇÈÖçÂô®Ê®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÈÄÇÈÖçÂô®Ê®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑÈÄÇÈÖçÂô®Ê®°ÂºèÂèØ‰ª•Âú®org.springframework.aop.framework.adapter.DefaultAdvisorAdapterRegistryÁ±ª‰∏≠ÁúãÂà∞Ëøô‰∏™ÈÄªËæëÔºåSpringÈúÄË¶ÅÂ∞ÜÊØè‰∏™AdviceÔºàÈÄöÁü•ÔºâÈÉΩÂ∞ÅË£ÖÊàêÂØπÂ∫îÁöÑÊã¶Êà™Âô®Á±ªÂûãÔºåËøîÂõûÁªôÂÆπÂô®ÔºåÊâÄ‰ª•ÈúÄË¶Å‰ΩøÁî®ÈÄÇÈÖçÂô®Ê®°ÂºèÂØπAdviceËøõË°åËΩ¨Êç¢„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÁúãÁúãÂÖ∑‰ΩìÁöÑ‰ª£Á†ÅÔºö12345678910111213141516171819202122232425// Adapteepublic interface MethodBeforeAdvice extends BeforeAdvice &#123; void before(Method method, Object[] args, Object target) throws Throwable; &#125;// Targetpublic interface AdvisorAdapter &#123; boolean supportsAdvice(Advice advice); MethodInterceptor getInterceptor(Advisor advisor); &#125;// Adapterclass MethodBeforeAdviceAdapter implements AdvisorAdapter, Serializable &#123; public boolean supportsAdvice(Advice advice) &#123; return (advice instanceof MethodBeforeAdvice); &#125; public MethodInterceptor getInterceptor(Advisor advisor) &#123; MethodBeforeAdvice advice = (MethodBeforeAdvice) advisor.getAdvice(); return new MethodBeforeAdviceInterceptor(advice); &#125; &#125; ËßÇÂØüËÄÖÊ®°ÂºèËßÇÂØüËÄÖÊ®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîËßÇÂØüËÄÖÊ®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑËßÇÂØüËÄÖÊ®°ÂºèÂèØ‰ª•Â∫îÁî®Á®ãÂ∫è‰∏ä‰∏ãÊñáÁõ∏ÂÖ≥ÁöÑ‰∫ã‰ª∂‰º†ËæìÁúãÂà∞Ëøô‰∏™ÈÄªËæëÔºåÂÖ∑‰Ωì‰∏ÄÁÇπÂú®AbstractApplicationContext‰∏éorg.springframework.context.ApplicationListener‰ª•Âèäorg.springframework.context.event.ApplicationEventMulticaster‰∏≠ÁúãÂà∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏ãÈù¢ÁöÑÁõ∏ÂÖ≥‰ª£Á†ÅÔºö123456789101112131415161718192021222324public abstract class AbstractApplicationContext extends DefaultResourceLoader implements ConfigurableApplicationContext, DisposableBean &#123; // ÂÆö‰πâ‰º†Êí≠ËÄÖÔºåÁî®Êù•‰º†Êí≠Ê∂àÊÅØ private ApplicationEventMulticaster applicationEventMulticaster; // Ê≥®ÂÜåÁõëÂê¨ËÄÖ protected void registerListeners() &#123; ... &#125;&#125;public interface ApplicationEventMulticaster &#123; void addApplicationListener(ApplicationListener&lt;?&gt; var1); void addApplicationListenerBean(String var1); void removeApplicationListener(ApplicationListener&lt;?&gt; var1); void removeApplicationListenerBean(String var1); void removeAllListeners(); void multicastEvent(ApplicationEvent var1); void multicastEvent(ApplicationEvent var1, ResolvableType var2);&#125; Ëß£ÈáäÂô®Ê®°ÂºèËß£ÈáäÂô®Ê®°ÂºèÁöÑÁöÑÂéüÁêÜÂèØ‰ª•ÂèÇÁÖßËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîËß£ÈáäÂô®Ê®°Âºè„ÄÇ SpringÂ∫îÁî®Âà∞ÁöÑËß£ÈáäÂô®Ê®°Âºè‰∏ªË¶Å‰ª•Spring Expression LanguageÔºàSpELÔºâ‰∏∫‰æã„ÄÇSpELÊòØ‰∏ÄÁßçÁî±SpringÁöÑorg.springframework.expression.ExpressionParserÂÆûÁé∞ÂàÜÊûêÂíåÊâßË°åÁöÑËØ≠Ë®Ä„ÄÇËøô‰∫õÂÆûÁé∞‰ΩøÁî®‰Ωú‰∏∫Â≠óÁ¨¶‰∏≤ÁªôÂá∫ÁöÑSpelË°®ËææÂºèÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ËΩ¨Êç¢‰∏∫org.springframework.expression.ExpressionÁöÑÂÆû‰æã„ÄÇ‰∏ä‰∏ãÊñáÁªÑ‰ª∂Áî±org.springframework.expression.EvaluationContextÂÆûÁé∞Ë°®Á§∫Ôºå‰æãÂ¶ÇÔºöStandardEvaluationContext„ÄÇ ÂèÇËÄÉÂèÇËÄÉ‰∫ÜË∂ÖÁ∫ßÂ§öÔºåÈÉΩÂø´Âøò‰∫ÜÔºåÂêÑ‰ΩçÂ§ß‰Ω¨‰∏çË¶Å‰ªãÊÑèÔºÅ]]></content>
      <categories>
        <category>Ê∑±ÂÖ•SSM</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Centos7Âà©Áî®NginxÈÖçÁΩÆHTTPS]]></title>
    <url>%2F2018%2F04%2F12%2F%E5%B7%A5%E5%85%B7%2FCentos7%E5%88%A9%E7%94%A8Nginx%E9%85%8D%E7%BD%AEHTTPS%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊúÄËøëÂú®ÂÅö‰∏Ä‰∏™ÂæÆ‰ø°Â∞èÁ®ãÂ∫èÈ°πÁõÆÔºåÂùëÁàπÁöÑÂ∞èÁ®ãÂ∫è‰∏ç‰ªÖÈúÄË¶ÅhttpsÂçèËÆÆÔºåËÄå‰∏îËøòË¶ÅÊòØ80Á´ØÂè£ÊâçËÉΩËÆøÈóÆÂêéÂè∞ÔºåËøôÈáåÊÄªÁªì‰∏Ä‰∏ãNginxÁöÑÂÆâË£ÖËøáÁ®ã‰∏éHTTPSÁöÑÈÖçÁΩÆ„ÄÇ NgnixÁöÑÂÆâË£ÖÁî±‰∫éÂêéÈù¢NginxÈúÄË¶ÅÊ∑ªÂä†Ê®°ÂùóÔºåÊâÄ‰ª•Êàë‰ª¨ÈááÁî®Ê∫êÁ†ÅÂÆâË£ÖÔºåÂÖ∑‰ΩìÂÆâË£ÖÊñπÊ≥ïÂèØ‰ª•ÂèÇËÄÉ Ëµ∞ËøõLinux_ËΩØ‰ª∂ÂÆâË£Ö ‰∏≠ÁöÑÊ∫êÁ†ÅÂÆâË£Ö‰∏ÄËäÇ„ÄÇ ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊàë‰ª¨Âú® ‰∫ßÁîümakefileÊñá‰ª∂ÁöÑÊó∂ÂÄô ÈúÄË¶ÅÂä†‰∏Ä‰∫õconfigure argumentsÔºå‰ª•‰æøÂÆâË£ÖÁõ∏ÂÖ≥Ê®°Âùó„ÄÇÂ¶Ç‰∏ãÔºö1./configure --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module --with-file-aio --with-http_realip_module ÂÆâË£ÖÂÆå‰πãÂêéÂèØ‰ª•Âà©Áî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§Êü•ÁúãNgnixÁâàÊú¨ÂèäÂÖ∂ÁºñËØëÂèÇÊï∞Ôºö12345678/usr/local/nginx/sbin/nginx -V// ËæìÂá∫Â¶Ç‰∏ãÁªìÊûúÂ∞±ÊòØÂØπÁöÑnginx version: nginx/1.11.6built by gcc 4.8.5 20150623 (Red Hat 4.8.5-16) (GCC)built with OpenSSL 1.0.2k-fips 26 Jan 2017TLS SNI support enabledconfigure arguments: --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module --with-file-aio --with-http_realip_module ÁÑ∂ÂêéÊàë‰ª¨ÊµãËØïÊñ∞ÁöÑnginxÁ®ãÂ∫èÊòØÂê¶Ê≠£Á°ÆÔºö12345/usr/local/nginx/sbin/nginx -t// ËæìÂá∫Â¶Ç‰∏ãÁªìÊûúJÂ∞±Ë°®Èù¢ÂÆâË£ÖÊàêÂäünginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is oknginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful ÈÖçÁΩÆHTTPSSSLËØÅ‰π¶Áî≥ËØ∑SSLËØÅ‰π¶ÈÅµÂÆà SSLÔºàSecure Sockets Layer ÂÆâÂÖ®Â•óÊé•Â±ÇÔºâÂçèËÆÆÔºåÁî±Âèó‰ø°‰ªªÁöÑÊï∞Â≠óËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑCAÔºåÂú®È™åËØÅÊúçÂä°Âô®Ë∫´‰ªΩÂêéÈ¢ÅÂèëÔºåÂÖ∑ÊúâÊúçÂä°Âô®Ë∫´‰ªΩÈ™åËØÅÂíåÊï∞ÊçÆ‰º†ËæìÂä†ÂØÜÂäüËÉΩÔºå‰πüÂ∞±ÊòØËØ¥‰Ω†ÊÉ≥Ë¶Å‰ΩøÁî®httpsÂ∞±ÈúÄË¶ÅÊã•ÊúâSSLËØÅ‰π¶„ÄÇ ËøôÈáåÊàë‰ª¨‰ΩøÁî®opensslËØÅ‰π¶Êù•‰∏æ‰æãÔºåÂæÆ‰ø°Â∞èÁ®ãÂ∫èÂÆòÁΩë‰πüÊòØ‰ΩøÁî®opensslÊù•ËøõË°åHTTPSÊúçÂä°Âô®ÈÖçÁΩÆ„ÄÇ ÁîüÊàêÁßÅÈí• 1234567891011// ËøõÂÖ•nginxÁöÑÂÆâË£ÖÁõÆÂΩïcd /usr/local/nginx// ÂàõÂª∫‰∏Ä‰∏™Â≠òÊîæÁßÅÈí•ÁöÑÊñá‰ª∂Â§πÔºàËá™ÂÆö‰πâÔºâmkdir key// ËøõÂÖ•keyÊñá‰ª∂Â§πcd key// ÁîüÊàêÁßÅÈí•openssl genrsa -out server.key 2048 ÁîüÊàêcsrÊñá‰ª∂ 12345678910111213141516// CSR ÊòØCertificate Signing RequestÁöÑÁº©ÂÜôÔºåÂç≥ËØÅ‰π¶Á≠æÂêçËØ∑Ê±ÇÔºå// Ëøô‰∏çÊòØËØÅ‰π¶ÔºåÂèØ‰ª•ÁÆÄÂçïÁêÜËß£ÊàêÂÖ¨Èí•ÔºåÁîüÊàêËØÅ‰π¶Êó∂Ë¶ÅÊääËøô‰∏™Êèê‰∫§ÁªôÊùÉÂ®ÅÁöÑËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ„ÄÇ// ÁîüÊàêcsrÊñá‰ª∂openssl req -new -key server.key -out certreq.csr// ËæìÂÖ•‰∏äÈù¢ÁöÑÂëΩ‰ª§Âêé‰ºöË¶ÅÊ±Ç‰Ω†ËæìÂÖ•‰∏Ä‰∫õ‰ø°ÊÅØÔºöCountry NameÔºö CN //ÊÇ®ÊâÄÂú®ÂõΩÂÆ∂ÁöÑISOÊ†áÂáÜ‰ª£Âè∑Ôºå‰∏≠ÂõΩ‰∏∫CNState or Province NameÔºöguandong //ÊÇ®Âçï‰ΩçÊâÄÂú®Âú∞ÁúÅ/Ëá™Ê≤ªÂå∫/Áõ¥ËæñÂ∏ÇLocality NameÔºöshenzhen //ÊÇ®Âçï‰ΩçÊâÄÂú®Âú∞ÁöÑÂ∏Ç/Âéø/Âå∫Organization NameÔºö Tencent Technology (Shenzhen) Company Limited //ÊÇ®Âçï‰Ωç/Êú∫ÊûÑ/‰ºÅ‰∏öÂêàÊ≥ïÁöÑÂêçÁß∞Organizational Unit NameÔºö R&amp;D //ÈÉ®Èó®ÂêçÁß∞Common NameÔºö www.example.com //ÈÄöÁî®ÂêçÔºåÁΩëÁ´ôÂüüÂêç„ÄÇÊ≠§È°πÂøÖÈ°ª‰∏éÊÇ®ËÆøÈóÆÊèê‰æõSSLÊúçÂä°ÁöÑÊúçÂä°Âô®Êó∂ÊâÄÂ∫îÁî®ÁöÑÂüüÂêçÂÆåÂÖ®ÂåπÈÖç„ÄÇEmail AddressÔºö //ÊÇ®ÁöÑÈÇÆ‰ª∂Âú∞ÂùÄÔºå‰∏çÂøÖËæìÂÖ•ÔºåÁõ¥Êé•ÂõûËΩ¶Ë∑≥Ëøá&quot;extra&quot;attributes // ‰ª•‰∏ã‰ø°ÊÅØ‰∏çÂøÖËæìÂÖ•ÔºåÂõûËΩ¶Ë∑≥ËøáÁõ¥Âà∞ÂëΩ‰ª§ÊâßË°åÂÆåÊØï„ÄÇ ÁîüÊàêcrtËØÅ‰π¶ 12// CRT Âç≥ certificateÁöÑÁº©ÂÜôÔºåÂç≥ËØÅ‰π¶„ÄÇopenssl x509 -req -days 365 -in certreq.csr -signkey server.key -out certreq.crt NginxÈÖçÁΩÆSSLÂä†ÂØÜÊÉ≥Ë¶ÅhttpsÂ∞±Ë¶ÅÁõëÂê¨443Á´ØÂè£Ôºånginx.confÂ∑≤ÁªèÈ¢ÑÁïôÂá∫‰∫ÜserverÔºåÂè™Ë¶ÅÊàë‰ª¨ÊääÊ≥®ÈáäÂéªÊéâÂºÄÂêØÂç≥ÂèØ„ÄÇ 12345678910111213141516171819202122232425// ÁºñËæëNgnixÈÖçÁΩÆÊñá‰ª∂vim /usr/local/nginx/conf/nginx.conf// ‰øÆÊîπÁõëÂê¨443Á´ØÂè£ÁöÑServerÔºå‰ΩøÂÖ∂Â¶Ç‰∏ãÔºöserver &#123; listen 443 ssl; server_name www.example.com; ssl on; # ssl_certificateËØÅ‰π¶ÂÖ∂ÂÆûÊòØ‰∏™ÂÖ¨Èí•ÔºåÂÆÉ‰ºöË¢´ÂèëÈÄÅÂà∞ËøûÊé•ÊúçÂä°Âô®ÁöÑÊØè‰∏™ÂÆ¢Êà∑Á´Ø ssl_certificate /usr/local/nginx/key/certreq.crt; # ssl_certificate_keyÁßÅÈí•ÊòØÁî®Êù•Ëß£ÂØÜÁöÑÔºåÊâÄ‰ª•ÂÆÉÁöÑÊùÉÈôêË¶ÅÂæóÂà∞‰øùÊä§‰ΩÜnginxÁöÑ‰∏ªËøõÁ®ãËÉΩÂ§üËØªÂèñ ssl_certificate_key /usr/local/nginx/key/server.key; ssl_session_timeout 5m; # ÊåáÂÆöSSLÊúçÂä°Âô®Á´ØÊîØÊåÅÁöÑÂçèËÆÆÁâàÊú¨ ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # ÈÄâÊã©Âä†ÂØÜÁÆóÊ≥ï ssl_ciphers HIGH:!aNULL:!MD5; # ssl_ciphers ALLÔºö!ADHÔºö!EXPORT56ÔºöRC4+RSAÔºö+HIGHÔºö+MEDIUMÔºö+LOWÔºö+SSLv2Ôºö+EXP; # Âú®‰ΩøÁî®SSLv3ÂíåTLSÂçèËÆÆÊó∂ÊåáÂÆöÊúçÂä°Âô®ÁöÑÂä†ÂØÜÁÆóÊ≥ïË¶Å‰ºòÂÖà‰∫éÂÆ¢Êà∑Á´ØÁöÑÂä†ÂØÜÁÆóÊ≥ï ssl_prefer_server_ciphers on; # ËôΩÁÑ∂Êàë‰ª¨Ë¶Å‰ΩøÁî®HTTPSÔºå‰ΩÜÊòØÊúçÂä°Âô®ÁöÑÁ®ãÂ∫èÊé•Êî∂ÁöÑËøòÊòØHTTPÔºåÊâÄ‰ª•Ë¶ÅÂÅö‰∏™ÂèçÂêë‰ª£ÁêÜ location /&#123; proxy_pass http://localhost:8080; &#125;&#125; ËøôÊ†∑ËôΩÁÑ∂ÂèØ‰ª•Âà©Áî®httpsÊù•ËÆøÈóÆÊàë‰ª¨ÁöÑipÔºå‰ΩÜÊòØÂØπ‰∫éÊµèËßàÂô®ËøòÊòØ‰∏çÂèó‰ø°‰ªªÁöÑ„ÄÇ ÂØºÂÖ•ËØÅ‰π¶Â¶ÇÊûú‰Ω†ÊòØÊâæ‰∏Ä‰∏™Áü•ÂêçÁöÑSSLËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÂ¶ÇVeriSign„ÄÅWosign„ÄÅStartSSLÁ≠æÂèëÁöÑËØÅ‰π¶ÔºåÂπ∂‰∏îÊµèËßàÂô®Â∑≤ÁªèÂÜÖÁΩÆÂπ∂‰ø°‰ªª‰∫ÜËøô‰∫õÊ†πËØÅ‰π¶ÔºåÂ¶ÇÊûú‰Ω†ÊòØËá™Âª∫ËØÅ‰π¶ÔºàÂêëÊàë‰ª¨ÂàöÊâçÈÇ£Ê†∑ÔºâÊàñËé∑Âæó‰∫åÁ∫ßËØÅ‰π¶ÊéàÊùÉÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂ∞ÜËØÅ‰π¶Ê∑ªÂä†Âà∞ÊµèËßàÂô®ÔºåËøôÊ†∑Âú®ËÆøÈóÆÁ´ôÁÇπÊó∂Êâç‰∏ç‰ºöÊòæÁ§∫‰∏çÂÆâÂÖ®ËøûÊé•„ÄÇ‰∏çÂ§ü‰π∞ËØÅ‰π¶ÂæÆ‰ø°Â∞èÁ®ãÂ∫è‰ºö‰∏çÊîØÊåÅ„ÄÇ ËØÅ‰π¶ÁîüÊàêÁöÑÊñπÊ≥ïÊúâÂæàÂ§öÔºåËøôÈáåËØ¥‰∏§ÁßçÔºö Ë¥≠‰π∞ÈòøÈáå‰∫ëÁöÑÂÖçË¥πËØÅ‰π¶ Ë¥≠‰π∞GETSSLÂÆòÁΩëËØÅ‰π¶ Ë¥≠‰π∞Â•ΩËØÅ‰π¶Âπ∂‰∏ãËΩΩÂêéÔºàÂèØ‰ª•Â∞ÜËØÅ‰π¶ÂíåÁßÅÈí•ÊîæÂà∞‰πãÂâçÁöÑkeyÁõÆÂΩïÔºâÈúÄË¶Å‰ªéÊñ∞ÈÖçÁΩÆnginx.confÊñá‰ª∂ÔºåÂ¶Ç‰∏ãÔºö123456789101112131415server &#123; listen 443 ssl; server_name www.example.com; ssl on; # pemÊòØcrtÁöÑ‰∏ÄÁßçÔºåÂÜÖÂÆπÊòØBASE64ÁºñÁ†ÅÔºåApacheÂíå*NIXÊúçÂä°Âô®ÂÅèÂêë‰∫é‰ΩøÁî®ËøôÁßçÁºñÁ†ÅÊ†ºÂºè ssl_certificate /usr/local/nginx/key/*.pem; ssl_certificate_key /usr/local/nginx/key/*.key; ssl_session_timeout 5m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers HIGH:!aNULL:!MD5; ssl_prefer_server_ciphers on; location /&#123; proxy_pass http://localhost:8080; &#125;&#125; ÂèÇËÄÉ linux nginxÈÖçÁΩÆhttps openssl„ÄÅx509„ÄÅcrt„ÄÅcer„ÄÅkey„ÄÅcsr„ÄÅssl„ÄÅtls Ëøô‰∫õÈÉΩÊòØ‰ªÄ‰πàÈ¨º?]]></content>
      <categories>
        <category>Â∑•ÂÖ∑</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>HTTPS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êè≠ÁßòSpring(‰∏â)_Spring‰πãAOP]]></title>
    <url>%2F2018%2F04%2F11%2F%E6%B7%B1%E5%85%A5SSM%2F%E6%8F%AD%E7%A7%98Spring-%E4%B8%89-Spring%E4%B9%8BAOP%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂâç‰∏ÄËäÇËÆ≤Âà∞SpringÁöÑÊ†∏ÂøÉÊ¶ÇÂøµIOCÔºåÈÇ£‰πàÂ∞±‰∏çËÉΩ‰∏çÊèêÂà∞SpringÁöÑÂè¶‰∏Ä‰∏™Ê†∏ÂøÉÊ¶ÇÂøµAOPÔºåÊàë‰ª¨ÂÖàÊòØÂÖàËÆ≤‰∏Ä‰∏ãÂÆÉÁöÑÊ¶ÇÂøµ‰∏éÂéüÁêÜÂÆûÁé∞ÔºåÁÑ∂ÂêéÂú®ËÆ≤Spring‰∏≠AOPÁöÑÂÆûÁé∞„ÄÇ AOPAOPÊÄùÊÉ≥AOPÔºàAspect Oriented ProgrammingÁöÑÁº©ÂÜôÔºåÊÑè‰∏∫ÔºöÈù¢ÂêëÂàáÈù¢ÁºñÁ®ãÔºâÊòØÂØπOOPÁöÑ‰∏ÄÁßçË°•ÂÖÖ„ÄÇ Èù¢ÂêëÂØπË±°(OOP)ÂºïÂÖ•‰∫ÜÁªßÊâø„ÄÅÂ§öÊÄÅ„ÄÅÂ∞ÅË£ÖÔºåÂ∞ÜÁ≥ªÁªüÁöÑ‰∏öÂä°ÂäüËÉΩÊåâÁÖßÊ®°ÂùóÂàíÂàÜÔºåÊØè‰∏™Ê®°ÂùóÁî®‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á±ªÊù•Ë°®Á§∫„ÄÇËÄåÂØπ‰∫é‰∏Ä‰∫õÁ≥ªÁªüÂäüËÉΩÔºåÊó†Ê≥ï‰ΩøÁî®OOPÁöÑÊÄùÊÉ≥Êù•ÂÆûÁé∞ÂÆÉ‰ª¨„ÄÇËøô‰∫õÁ≥ªÁªüÂäüËÉΩÂæÄÂæÄÁ©øÊèíÂú®‰∏öÂä°ÂäüËÉΩÁöÑÂêÑÂ§ÑÔºåÂíå‰∏öÂä°‰ª£Á†ÅËÄ¶ÂêàÂú®‰∏ÄËµ∑ÔºõËÄå‰∏îÁ≥ªÁªüÂäüËÉΩÂæÄÂæÄ‰ºöË¢´ÈáçÂ§ç‰ΩøÁî®ÔºåËøôÂ∞±ÂØºËá¥‰∫ÜÊ®°Âùó‰∏çÂà©‰∫éÂ§çÁî®ÔºåËøôÂ∞±ÊòØ‰ΩøÁî®OOPÂÆûÁé∞Á≥ªÁªüÂäüËÉΩÁöÑÂºäÁ´Ø„ÄÇ AOPÂç≥‰∏∫Èù¢ÂêëÂàáÈù¢ÁºñÁ®ãÔºåÂÆÉÊääÁ≥ªÁªüÈúÄÊ±ÇÊåâÁÖßÂäüËÉΩÂàÜÈó®ÂΩíÁ±ªÔºåÊääÂÆÉ‰ª¨Â∞ÅË£ÖÂú®‰∏Ä‰∏™‰∏™ÂàáÈù¢‰∏≠ÔºåÁÑ∂ÂêéÂÜçÊåáÂÆöËøô‰∫õÁ≥ªÁªüÂäüËÉΩÂæÄ‰∏öÂä°ÂäüËÉΩÔºå‰∏ªË¶ÅÂ∫îÁî®‰∫éÊùÉÈôêËÆ§ËØÅ„ÄÅÊó•ÂøóÔºå‰∫ãÂä°Á≠â„ÄÇ ÂÆÉÁöÑ‰∏ªË¶ÅÊòØÂ•ΩÂ§ÑÂ¶Ç‰∏ãÔºö Èôç‰ΩéÊ®°Âùó‰πãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶ ‰ΩøÁ≥ªÁªüÂÆπÊòìÊâ©Â±ï Êõ¥Â•ΩÁöÑ‰ª£Á†ÅÂ§çÁî®„ÄÇ AOPÂÆûÁé∞ÂéüÁêÜÂÆûÁé∞AOPÁöÑÊäÄÊúØÔºå‰∏ªË¶ÅÂàÜ‰∏∫‰∏§Â§ßÁ±ªÔºö‰∏ÄÊòØÈááÁî®Âä®ÊÄÅ‰ª£ÁêÜÊäÄÊúØÔºåÂà©Áî®Êà™ÂèñÊ∂àÊÅØÁöÑÊñπÂºèÔºåÂØπËØ•Ê∂àÊÅØËøõË°åË£ÖÈ•∞Ôºå‰ª•Âèñ‰ª£ÂéüÊúâÂØπË±°Ë°å‰∏∫ÁöÑÊâßË°åÔºõ‰∫åÊòØÈááÁî®ÈùôÊÄÅÁªáÂÖ•ÁöÑÊñπÂºèÔºåÂºïÂÖ•ÁâπÂÆöÁöÑËØ≠Ê≥ïÂàõÂª∫‚ÄúÊñπÈù¢‚ÄùÔºå‰ªéËÄå‰ΩøÂæóÁºñËØëÂô®ÂèØ‰ª•Âú®ÁºñËØëÊúüÈó¥ÁªáÂÖ•ÊúâÂÖ≥‚ÄúÊñπÈù¢‚ÄùÁöÑ‰ª£Á†Å„ÄÇËÄåSpringÈááÁî®ÁöÑÊòØÂä®ÊÄÅ‰ª£ÁêÜÊäÄÊúØÔºåÂÖ≥‰∫éÂä®ÊÄÅ‰ª£ÁêÜÁöÑÂÆûÁé∞ÂèØ‰ª•ÂèÇÁÖßËá™Â∑±‰πãÂâçÁöÑÂçöÂÆ¢ ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚Äî‰ª£ÁêÜÊ®°Âºè‰∏ÄÊñá‰∏≠ÁöÑÂä®ÊÄÅ‰ª£ÁêÜËøô‰∏ÄËäÇÂéª‰∫ÜËß£„ÄÇ SpringAOPÂÆûÁé∞SpringÁöÑAOPÂÆûÁé∞ÈÅµÂÆàAOPËÅîÁõüÁöÑÁ∫¶ÂÆö„ÄÇÂêåÊó∂SpringÂèàÊâ©Â±ï‰∫ÜÂÆÉÔºåÂ¢ûÂä†‰∫ÜPointcut„ÄÅAdvisorÁ≠â‰∏Ä‰∫õÊé•Âè£‰ΩøÂæóÂÖ∂Êõ¥Âä†ÁÅµÊ¥ª„ÄÇ Spring AOPÁöÑÂü∫Êú¨Ê¶ÇÂøµ ÂàáÈù¢ÔºàAspectÔºâÔºöÁ±ª‰ºº‰∫éOOP‰∏≠ÁöÑClassÔºå‰∏Ä‰∏™AspectÂ≠òÊîæ‰∏Ä‰∏™Á≥ªÁªüÂäüËÉΩÁöÑÊâÄÊúâÈÄªËæë„ÄÇÂàáÈù¢Áî®SpringÁöÑ AdvisorÊàñÊã¶Êà™Âô®ÂÆûÁé∞„ÄÇ ËøûÊé•ÁÇπÔºàJoinpointÔºâÔºöÁ®ãÂ∫èÊâßË°åËøáÁ®ã‰∏≠ÁöÑÊüê‰∏Ä‰∫ã‰ª∂ÔºåÂ¶ÇÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂„ÄÅÊäõÂá∫ÂºÇÂ∏∏Êó∂„ÄÇ ÂàáÂÖ•ÁÇπÔºàPointcutÔºâÔºöÊåáÂÆö‰∏Ä‰∏™ÈÄöÁü•Â∞ÜË¢´ÂºïÂèëÁöÑ‰∏ÄÁ≥ªÂàóËøûÊé•ÁÇπÁöÑÈõÜÂêà„ÄÇAOPÊ°ÜÊû∂ÂøÖÈ°ªÂÖÅËÆ∏ÂºÄÂèëËÄÖÊåáÂÆöÂàáÂÖ•ÁÇπÔºö‰æãÂ¶ÇÔºå‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºè„ÄÇ SpringÂÆö‰πâ‰∫ÜPointcutÊé•Âè£ÔºåÁî®Êù•ÁªÑÂêàMethodMatcherÂíåClassFilterÔºåÂèØ‰ª•ÈÄöËøáÂêçÂ≠óÂæàÊ∏ÖÊ•öÁöÑÁêÜËß£Ôºå MethodMatcherÊòØÁî®Êù•Ê£ÄÊü•ÁõÆÊ†áÁ±ªÁöÑÊñπÊ≥ïÊòØÂê¶ÂèØ‰ª•Ë¢´Â∫îÁî®Ê≠§ÈÄöÁü•ÔºåËÄåClassFilterÊòØÁî®Êù•Ê£ÄÊü•PointcutÊòØÂê¶Â∫îËØ•Â∫îÁî®Âà∞ÁõÆÊ†áÁ±ª‰∏ä„ÄÇ ÂºïÂÖ•ÔºàIntroductionÔºâ: Ê∑ªÂä†ÊñπÊ≥ïÊàñÂ≠óÊÆµÂà∞Ë¢´ÈÄöÁü•ÁöÑÁ±ª„ÄÇ SpringÂÖÅËÆ∏ÂºïÂÖ•Êñ∞ÁöÑÊé•Âè£Âà∞‰ªª‰ΩïË¢´ÈÄöÁü•ÁöÑÂØπË±°„ÄÇ‰æãÂ¶ÇÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ÂºïÂÖ•‰Ωø‰ªª‰ΩïÂØπË±°ÂÆûÁé∞ IsModifiedÊé•Âè£ÔºåÊù•ÁÆÄÂåñÁºìÂ≠ò„ÄÇSpring‰∏≠Ë¶Å‰ΩøÁî®Introduction, ÂèØÊúâÈÄöËøáDelegatingIntroductionInterceptorÊù•ÂÆûÁé∞ÈÄöÁü•ÔºåÈÄöËøáDefaultIntroductionAdvisorÊù•ÈÖçÁΩÆAdviceÂíå‰ª£ÁêÜÁ±ªË¶ÅÂÆûÁé∞ÁöÑÊé•Âè£„ÄÇ ÁõÆÊ†áÂØπË±°ÔºàTarget ObjectÔºâ: ÂåÖÂê´ËøûÊé•ÁÇπÁöÑÂØπË±°„ÄÇ‰πüË¢´Áß∞‰ΩúË¢´ÈÄöÁü•ÊàñË¢´‰ª£ÁêÜÂØπË±°ÔºàPOJOÔºâ„ÄÇ AOP‰ª£ÁêÜÔºàAOP ProxyÔºâ: AOPÊ°ÜÊû∂ÂàõÂª∫ÁöÑÂØπË±°ÔºåÂåÖÂê´ÈÄöÁü•„ÄÇ Âú®Spring‰∏≠ÔºåAOP‰ª£ÁêÜÂèØ‰ª•ÊòØJDKÂä®ÊÄÅ‰ª£ÁêÜÊàñËÄÖCGLIB‰ª£ÁêÜ„ÄÇ ÁªáÂÖ•ÔºàWeavingÔºâ: ÁªÑË£ÖÊñπÈù¢Êù•ÂàõÂª∫‰∏Ä‰∏™Ë¢´ÈÄöÁü•ÂØπË±°„ÄÇËøôÂèØ‰ª•Âú®ÁºñËØëÊó∂ÂÆåÊàêÔºà‰æãÂ¶Ç‰ΩøÁî®AspectJÁºñËØëÂô®ÔºâÔºå‰πüÂèØ‰ª•Âú®ËøêË°åÊó∂ÂÆåÊàê„ÄÇSpringÂíåÂÖ∂‰ªñÁ∫ØJava AOPÊ°ÜÊû∂‰∏ÄÊ†∑ÔºåÂú®ËøêË°åÊó∂ÂÆåÊàêÁªáÂÖ•„ÄÇ ÈÄöÁü•ÔºàAdviceÔºâÔºöÂÖ∑‰ΩìÁöÑÊ®™ÂàáÈÄªËæëÔºõSpring‰∏≠Êúâ‰∫îÁßçAdviceÔºö ÂâçÁΩÆÈÄöÁü•ÔºàBefore AdviceÔºâ ÂêéÁΩÆÈÄöÁü•ÔºàAfter AdviceÔºâ ËøîÂõûÈÄöÁü•ÔºàAfter Return AdviceÔºâ ÁéØÁªïÈÄöÁü•ÔºàAround AdviceÔºâ ÊäõÂá∫ÂºÇÂ∏∏ÂêéÈÄöÁü•ÔºàAfter Throwing AdviceÔºâ SpringAOPÂä®ÊÄÅ‰ª£ÁêÜSpring AOP‰∏≠‰ΩøÁî®‰∫Ü‰∏§ÁßçÂä®ÊÄÅ‰ª£ÁêÜÔºå‰∏ÄÁßçÊòØJDKÁöÑÂä®ÊÄÅ‰ª£ÁêÜÔºå‰∏ÄÁßçCGLIBÁöÑÂä®ÊÄÅ‰ª£ÁêÜ„ÄÇJDKÁöÑÂä®ÊÄÅ‰ª£ÁêÜÂøÖÈ°ªÊåáÂÆöÊé•Âè£ÔºåËøô‰∫õÊé•Âè£ÈÉΩÊòØÂ∑≤ÁªèË¢´‰ª£ÁêÜÂØπË±°ÂÆûÁé∞‰∫ÜÁöÑÔºõËÄåCGLIB‰ª£ÁêÜÂàô‰∏çÈúÄË¶ÅÊåáÂÆöÊé•Âè£„ÄÇ JDKÂä®ÊÄÅ‰ª£ÁêÜÂ¶ÇÊûúË¢´‰ª£ÁêÜÂØπË±°ÂÆûÁé∞‰∫ÜÈúÄË¶ÅË¢´‰ª£ÁêÜÁöÑÊé•Âè£ÔºåÂàô‰ΩøÁî®JDKÁöÑÂä®ÊÄÅ‰ª£ÁêÜ„ÄÇÊàë‰ª¨‰∏ÄÊ≠•Ê≠•Êù•ÁúãËøô‰∏™ËøáÁ®ãÔºö È¶ñÂÖàÊòéÁ°ÆÊàë‰ª¨‰ΩøË¶ÅÁîüÊàê‰∏Ä‰∏™‰ª£ÁêÜÔºåËÄåSpringÁöÑÂÜÖÈÉ®Êú∫Âà∂ÊòØÁî±FactoryBeanÁöÑgetObjectÊñπÊ≥ïÊù•‰∫ßÁîüÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨‰ºö‰∏ÄÊ≠•Ê≠•debugÂà∞Ëøô‰∏™ÊñπÊ≥ïË°åÔºàÂú®FactoryBeanRegistrySupportÁ±ªÁöÑdoGetObjectFromFactoryBean‰∏≠ÔºâÔºåÊàë‰ª¨ÁúãÁúãËøô‰∏™ÊñπÊ≥ïÁöÑÊ∫ê‰ª£Á†ÅÔºö 123456789101112131415public Object getObject() throws BeansException &#123; // ÂàùÂßãÂåñÈÄöÁü•Âô®ÈìæÔºå‰∏∫‰ª£ÁêÜÂØπË±°ÈÖçÁΩÆÈÄöÁü•Âô®Èìæ„ÄÇ this.initializeAdvisorChain(); //Âå∫ÂàÜSingleTonÂíåProtoTypeÔºåÁîüÊàêÂØπÂ∫îÁöÑProxy if(this.isSingleton()) &#123; // Âè™ÊúâSingleTonÁöÑBeanÊâç‰ºö‰∏ÄÂºÄÂßãÂ∞±ÂàùÂßãÂåñÔºåProtoTypeÁöÑÂè™ÊúâÂú®ËØ∑Ê±ÇÁöÑÊó∂ÂÄôÊâç‰ºöÂàùÂßãÂåñÔºå‰ª£ÁêÜ‰πü‰∏ÄÊ†∑ return this.getSingletonInstance(); &#125; else &#123; if(this.targetName == null) &#123; this.logger.warn("Using non-singleton proxies with singleton targets is often undesirable. Enable prototype proxies by setting the 'targetName' property."); &#125; return this.newPrototypeInstance(); &#125;&#125; Âà∞ËæægetObjectÊñπÊ≥ïÂêéÔºåÊàë‰ª¨ÈúÄË¶ÅÂéªÁúãÁúãÂÆÉÊòØÊÄé‰πàÂàùÂßãÂåñÈÄöÁü•ÈìæÁöÑÂ∞±ÊòØinitializeAdvisorChainÁöÑ‰ª£Á†ÅÔºö 12345678910111213141516171819202122232425262728293031323334353637383940414243 private synchronized void initializeAdvisorChain() throws AopConfigException, BeansException &#123; // ÂàùÂßãÂåñËøáÁ®ãÁöÑÊ†áÂøó‰ΩçadvisorChainInitializedÔºåËøô‰∏™Ê†áÂøóÁî®Êù•Ë°®Á§∫ÈÄöÁü•Âô®ÈìæÊòØÂê¶Â∑≤ÁªèÂàùÂßãÂåñ„ÄÇ if(!this.advisorChainInitialized) &#123; if(!ObjectUtils.isEmpty(this.interceptorNames)) &#123; if(this.beanFactory == null) &#123; throw new IllegalStateException("No BeanFactory available anymore (probably due to serialization) - cannot resolve interceptor names " + Arrays.asList(this.interceptorNames)); &#125; if(this.interceptorNames[this.interceptorNames.length - 1].endsWith("*") &amp;&amp; this.targetName == null &amp;&amp; this.targetSource == EMPTY_TARGET_SOURCE) &#123; throw new AopConfigException("Target required after globals"); &#125; String[] var1 = this.interceptorNames; int var2 = var1.length; for(int var3 = 0; var3 &lt; var2; ++var3) &#123; String name = var1[var3]; if(this.logger.isTraceEnabled()) &#123; this.logger.trace("Configuring advisor or advice '" + name + "'"); &#125; if(name.endsWith("*")) &#123; if(!(this.beanFactory instanceof ListableBeanFactory)) &#123; throw new AopConfigException("Can only use global advisors or interceptors with a ListableBeanFactory"); &#125; this.addGlobalAdvisor((ListableBeanFactory)this.beanFactory, name.substring(0, name.length() - "*".length())); &#125; else &#123; Object advice; if(!this.singleton &amp;&amp; !this.beanFactory.isSingleton(name)) &#123; advice = new ProxyFactoryBean.PrototypePlaceholderAdvisor(name); &#125; else &#123; advice = this.beanFactory.getBean(name); &#125; this.addAdvisorOnChainCreation(advice, name); &#125; &#125; &#125; this.advisorChainInitialized = true; &#125;&#125; ÂàùÂßãÂåñÂè™ÊòØÂú®Â∫îÁî®Á¨¨‰∏ÄÊ¨°ÈÄöËøáProxyFactoryBeanËé∑Âèñ‰ª£ÁêÜÂØπË±°ÁöÑÊó∂ÂÄô„ÄÇÂÆåÊàêËøô‰∏™ÂàùÂßãÂåñ‰πãÂêéÔºåÊé•ÁùÄ‰ºöËØªÂèñÈÖçÁΩÆ‰∏≠Âá∫Áé∞ÁöÑÊâÄÊúâÈÄöÁü•Âô®ÔºàÊääÈÄöÁü•Âô®ÁöÑÂêçÂ≠ó‰∫§ÁªôÂÆπÂô®ÁöÑgetBeanÔºåIOCÂÆπÂô®ÁöÑÂõûË∞ÉËé∑ÂèñÈÄöÁü•Âô®ÔºâÔºåÊääÈÄöÁü•Âô®Âä†ÂÖ•Êã¶Êà™Âô®ÈìæÔºàaddAdvisoronChainCreationÂÆûÁé∞Ôºâ„ÄÇ ÁîüÊàê‰ª£ÁêÜÂØπË±°ÔºåÂà©Áî®ProxyFactoryBeanÁöÑgetSingletonInstanceÊñπÊ≥ïÔºåÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö 123456789101112131415161718192021 private synchronized Object getSingletonInstance() &#123; if(this.singletonInstance == null) &#123; //ËøôÈáå‰ºöË∞ÉÁî®getBeanÔºåËé∑ÂèñË¢´‰ª£ÁêÜÂØπË±° this.targetSource = this.freshTargetSource(); if(this.autodetectInterfaces &amp;&amp; this.getProxiedInterfaces().length == 0 &amp;&amp; !this.isProxyTargetClass()) &#123; // Ê†πÊçÆ AOP Ê°ÜÊû∂Âà§Êñ≠ÈúÄË¶Å‰ª£ÁêÜÁöÑÊé•Âè£ Class&lt;?&gt; targetClass = this.getTargetClass(); if(targetClass == null) &#123; throw new FactoryBeanNotInitializedException("Cannot determine target class for proxy"); &#125; //ËøôÈáåÊòØËÆæÁΩÆ‰ª£ÁêÜÂØπË±°ÁöÑÊé•Âè£ this.setInterfaces(ClassUtils.getAllInterfacesForClass(targetClass, this.proxyClassLoader)); &#125; super.setFrozen(this.freezeProxy); //ËøôÈáåÊñπÊ≥ï‰ºö‰ΩøÁî®ProxyFactoryÁîüÊàêÈúÄË¶ÅÁöÑProxy this.singletonInstance = this.getProxy(this.createAopProxy()); &#125; return this.singletonInstance;&#125; ËøõÂÖ•ProxyCreatorSupportÁöÑcreateAopProxyÔºåÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö 1234567 protected final synchronized AopProxy createAopProxy() &#123;if (!this.active) &#123; activate();&#125;//ÈÄöËøáAopProxyFactoryÂèñÂæóAopProxyÔºåAopProxyFactoryÊòØÂú®ÂàùÂßãÂåñÂáΩÊï∞‰∏≠ÂÆö‰πâÁöÑÔºå‰ΩøÁî®ÁöÑÊòØDefaultAopProxyFactoryreturn getAopProxyFactory().createAopProxy(this);&#125; ÈÇ£‰πàDefaultAopProxyFactoryÂ¶Ç‰ΩïÁîüÊàêAopProxy‰∫ÜÔºåËøôÈáåÊúâ‰∏§ÁßçÊñπÂºèÔºåJdkDynamicAopProxyÂíåCglibProxyFactory,DefaultAopProxyFactoryÁöÑcreateAopProxyÁöÑÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö 1234567891011121314151617181920212223 public class DefaultAopProxyFactory implements AopProxyFactory, Serializable &#123; @Override public AopProxy createAopProxy(AdvisedSupport config) throws AopConfigException &#123; if (config.isOptimize() || config.isProxyTargetClass() || hasNoUserSuppliedProxyInterfaces(config)) &#123; //Ëé∑ÂèñÈÖçÁΩÆÁöÑÁõÆÊ†áÂØπË±° Class&lt;?&gt; targetClass = config.getTargetClass(); if (targetClass == null) &#123; //Â¶ÇÊûúÊ≤°ÊúâÁõÆÊ†áÂØπË±°ÔºåÊäõÂá∫ÂºÇÂ∏∏ÔºåÊèêÈÜíAOPÂ∫îÁî®Êèê‰æõÊ≠£Á°ÆÁöÑÁõÆÊ†áÈÖçÁΩÆ throw new AopConfigException("TargetSource cannot determine target class: " + "Either an interface or a target is required for proxy creation."); &#125; // Ëøô‰∏™Âà§Êñ≠ÂæàÈáçË¶ÅÔºåÈÄöËøáÁõÆÊ†áÁ±ªÊòØÂê¶ÊòØÊé•Âè£Êù•ÂÜ≥ÂÆöÈááÁî®‰ªÄ‰πà‰ª£ÁêÜÊñπÂºè if (targetClass.isInterface() || Proxy.isProxyClass(targetClass)) &#123; return new JdkDynamicAopProxy(config); &#125; //Áî±‰∫éCGLIBÊòØ‰∏Ä‰∏™Á¨¨‰∏âÊñπÁ±ªÂ∫ìÔºåÊâÄ‰ª•ÈúÄË¶ÅÂú®CLASSPATH‰∏≠ÈÖçÁΩÆ return new ObjenesisCglibAopProxy(config); &#125; else &#123; return new JdkDynamicAopProxy(config); &#125; &#125;&#125; Áî±‰∫éÊàë‰ª¨ËøôÈáåÁõÆÊ†áÁ±ªÊòØÊé•Âè£ÔºåÊâÄ‰ª•ÈááÁî®JdkDynamicAopProxy ÁîüÊàêAopProxy‰ª£ÁêÜÂØπË±°ÔºåÊàë‰ª¨ÂèØ‰ª•Áúã‰∏Ä‰∏ãJdkDynamicAopProxyÁöÑinvokeÊñπÊ≥ïÊ∫êÁ†ÅÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; Object oldProxy = null; boolean setProxyContext = false; TargetSource targetSource = this.advised.targetSource; Class&lt;?&gt; targetClass = null; Object target = null; Object var13; try &#123; if(!this.equalsDefined &amp;&amp; AopUtils.isEqualsMethod(method)) &#123; Boolean var20 = Boolean.valueOf(this.equals(args[0])); return var20; &#125; if(!this.hashCodeDefined &amp;&amp; AopUtils.isHashCodeMethod(method)) &#123; Integer var18 = Integer.valueOf(this.hashCode()); return var18; &#125; if(method.getDeclaringClass() == DecoratingProxy.class) &#123; Class var17 = AopProxyUtils.ultimateTargetClass(this.advised); return var17; &#125; Object retVal; // AdvisedÊé•Âè£ÊàñËÄÖÂÖ∂Áà∂Êé•Âè£‰∏≠ÂÆö‰πâÁöÑÊñπÊ≥ï,Áõ¥Êé•ÂèçÂ∞ÑË∞ÉÁî®,‰∏çÂ∫îÁî®ÈÄöÁü• if(!this.advised.opaque &amp;&amp; method.getDeclaringClass().isInterface() &amp;&amp; method.getDeclaringClass().isAssignableFrom(Advised.class)) &#123; retVal = AopUtils.invokeJoinpointUsingReflection(this.advised, method, args); return retVal; &#125; if(this.advised.exposeProxy) &#123; oldProxy = AopContext.setCurrentProxy(proxy); setProxyContext = true; &#125; //Ëé∑ÂæóÁõÆÊ†áÂØπË±°ÁöÑÁ±ª target = targetSource.getTarget(); if(target != null) &#123; targetClass = target.getClass(); &#125; // Ëé∑ÂæóÊã¶Êà™Èìæ List&lt;Object&gt; chain = this.advised.getInterceptorsAndDynamicInterceptionAdvice(method, targetClass); // Â¶ÇÊûúÊ≤°ÊúâÂèØ‰ª•Â∫îÁî®Âà∞Ê≠§ÊñπÊ≥ïÁöÑÈÄöÁü•(Interceptor)ÔºåÊ≠§Áõ¥Êé•ÂèçÂ∞ÑË∞ÉÁî® method.invoke(target, args) if(chain.isEmpty()) &#123; Object[] argsToUse = AopProxyUtils.adaptArgumentsIfNecessary(method, args); retVal = AopUtils.invokeJoinpointUsingReflection(target, method, argsToUse); &#125; else &#123; //ÂàõÂª∫MethodInvocation MethodInvocation invocation = new ReflectiveMethodInvocation(proxy, target, method, args, targetClass, chain); // Â§ÑÁêÜÈÄöÁü• retVal = invocation.proceed(); &#125; Class&lt;?&gt; returnType = method.getReturnType(); if(retVal != null &amp;&amp; retVal == target &amp;&amp; returnType != Object.class &amp;&amp; returnType.isInstance(proxy) &amp;&amp; !RawTargetAccess.class.isAssignableFrom(method.getDeclaringClass())) &#123; retVal = proxy; &#125; else if(retVal == null &amp;&amp; returnType != Void.TYPE &amp;&amp; returnType.isPrimitive()) &#123; throw new AopInvocationException("Null return value from advice does not match primitive return type for: " + method); &#125; var13 = retVal; &#125; finally &#123; if(target != null &amp;&amp; !targetSource.isStatic()) &#123; targetSource.releaseTarget(target); &#125; if(setProxyContext) &#123; AopContext.setCurrentProxy(oldProxy); &#125; &#125; return var13; &#125; CGLIBÂä®ÊÄÅ‰ª£ÁêÜÂ¶ÇÊûúË¢´‰ª£ÁêÜÂØπË±°Ê≤°ÊúâÂÆûÁé∞ÈúÄË¶ÅË¢´‰ª£ÁêÜÁöÑÊé•Âè£ÔºåÂàô‰ΩøÁî®CGLIBÂä®ÊÄÅ‰ª£ÁêÜÔºåCGLIBÂä®ÊÄÅ‰ª£ÁêÜÊåâÁÖßÂâçÈù¢ÁöÑÂàÜÊûêÂü∫Êú¨‰∏éJDKÂä®ÊÄÅ‰ª£ÁêÜ‰∏ÄÊ†∑ÔºåÁî±‰∫éÂú®Spring AOP‰∏≠ÂØπÂ∫îÁöÑÂåÖË£ÖÁ±ª‰∏∫CglibAopProxyÔºåCglibAopProxyÁöÑinterceptÂõûË∞ÉÊñπÊ≥ïÁöÑÂÆûÁé∞ÂíåJdkDynamicAopProxyÁöÑÂõûË∞ÉÂÆûÁé∞ÊòØÈùûÂ∏∏Á±ª‰ººÁöÑÔºåÂè™ÊòØÂú®CglibAopProxy‰∏≠ÊûÑÈÄ†ÁöÑÊòØCglibMethodInvocationÂØπË±°Êù•ÂÆåÊàêÊã¶Êà™Âô®ÈìæÁöÑË∞ÉÁî®ÔºåËøôÈáåÁúã‰∏Ä‰∏ã‰∏éinvokeÁ±ª‰ººÁöÑgetCallbacksÊ∫êÁ†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738private Callback[] getCallbacks(Class&lt;?&gt; rootClass) throws Exception &#123; boolean exposeProxy = this.advised.isExposeProxy(); boolean isFrozen = this.advised.isFrozen(); boolean isStatic = this.advised.getTargetSource().isStatic(); Callback aopInterceptor = new CglibAopProxy.DynamicAdvisedInterceptor(this.advised); Object targetInterceptor; if(exposeProxy) &#123; targetInterceptor = isStatic?new CglibAopProxy.StaticUnadvisedExposedInterceptor(this.advised.getTargetSource().getTarget()):new CglibAopProxy.DynamicUnadvisedExposedInterceptor(this.advised.getTargetSource()); &#125; else &#123; targetInterceptor = isStatic?new CglibAopProxy.StaticUnadvisedInterceptor(this.advised.getTargetSource().getTarget()):new CglibAopProxy.DynamicUnadvisedInterceptor(this.advised.getTargetSource()); &#125; Callback targetDispatcher = (Callback)(isStatic?new CglibAopProxy.StaticDispatcher(this.advised.getTargetSource().getTarget()):new CglibAopProxy.SerializableNoOp()); Callback[] mainCallbacks = new Callback[]&#123;aopInterceptor, (Callback)targetInterceptor, new CglibAopProxy.SerializableNoOp(), targetDispatcher, this.advisedDispatcher, new CglibAopProxy.EqualsInterceptor(this.advised), new CglibAopProxy.HashCodeInterceptor(this.advised)&#125;; Callback[] callbacks; if(isStatic &amp;&amp; isFrozen) &#123; Method[] methods = rootClass.getMethods(); Callback[] fixedCallbacks = new Callback[methods.length]; this.fixedInterceptorMap = new HashMap(methods.length); for(int x = 0; x &lt; methods.length; ++x) &#123; // Ëé∑ÂæóÊã¶Êà™Èìæ List&lt;Object&gt; chain = this.advised.getInterceptorsAndDynamicInterceptionAdvice(methods[x], rootClass); // ÂáÜÂ§áÂ§ÑÁêÜÈÄöÁü• fixedCallbacks[x] = new CglibAopProxy.FixedChainStaticTargetInterceptor(chain, this.advised.getTargetSource().getTarget(), this.advised.getTargetClass()); this.fixedInterceptorMap.put(methods[x].toString(), Integer.valueOf(x)); &#125; callbacks = new Callback[mainCallbacks.length + fixedCallbacks.length]; System.arraycopy(mainCallbacks, 0, callbacks, 0, mainCallbacks.length); System.arraycopy(fixedCallbacks, 0, callbacks, mainCallbacks.length, fixedCallbacks.length); this.fixedInterceptorOffset = mainCallbacks.length; &#125; else &#123; callbacks = mainCallbacks; &#125; return callbacks;&#125; ÂèÇËÄÉ Ê∑±ÂÖ•ÂâñÊûêSpring(Âõõ)‚Äî‚ÄîAOP Spring AOPÊ∫êÁ†ÅÂàÜÊûêÔºàÁîüÊàê‰ª£ÁêÜÂØπË±°Ôºâ Spring AOPÂõõÁßçÂÆûÁé∞ÊñπÂºèDemoËØ¶Ëß£‰∏éÁõ∏ÂÖ≥Áü•ËØÜÊé¢Á©∂]]></content>
      <categories>
        <category>Ê∑±ÂÖ•SSM</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êè≠ÁßòSpring(‰∫å)_Spring‰πãIOC]]></title>
    <url>%2F2018%2F04%2F11%2F%E6%B7%B1%E5%85%A5SSM%2F%E6%8F%AD%E7%A7%98Spring(%E4%BA%8C)_Spring%E4%B9%8BIOC%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂâç‰∏ÄÁØáÊñáÁ´†Êàë‰ª¨‰ªãÁªç‰∫ÜSpringÁöÑÊï¥‰ΩìÊû∂ÊûÑ‰ª•ÂèäÊ†∏ÂøÉÁªÑ‰ª∂ÔºåÊé•‰∏ãÊù•Êàë‰ª¨Â∞ÜËÆ≤Ëß£SpringÁöÑÊ†∏ÂøÉÊ¶ÇÂøµ‰πã‰∏ÄIOCÔºåÊàë‰ª¨Â∞ÜÂÖàÁÆÄÂçï‰ªãÁªçIOC‰∏éDIÔºåÁÑ∂ÂêéÂÜçÊ∑±ÂÖ•SpringIOCÂÆπÂô®ÁöÑÂ∑•‰ΩúÊµÅÁ®ã„ÄÇ IOC‰∏éDIIoCÂíåDIÊòØSpringÁöÑ‰∏§‰∏™Ê†∏ÂøÉÊ¶ÇÂøµÔºåÂæàÂ§ö‰∫∫ÈÉΩÊääÂÆÉ‰ª¨ËßÜ‰∏∫Áõ∏ÂêåÁöÑ‰∏úË•øÔºà‰πãÂâçËá™Â∑±‰πü‰∏ÄÁõ¥ËøôÊ†∑ËÆ§‰∏∫ÔºâÔºå‰ΩÜ‰∫ãÂÆûÂπ∂ÈùûÂ¶ÇÊ≠§„ÄÇ IoC(Inversion of Control)ÔºöÊéßÂà∂ÂèçËΩ¨„ÄÇ DI(Dependency Injection)Ôºö‰æùËµñÊ≥®ÂÖ• ÂºÄÂßãÁîªÈáçÁÇπ‰∫ÜÔºö ÊéßÂà∂ÂèçËΩ¨ÊòØÁõÆÁöÑÔºå‰æùËµñÊ≥®ÂÖ•ÊòØÂÆûÁé∞ÊéßÂà∂ÂèçËΩ¨ÁöÑÊâãÊÆµ„ÄÇ ÊéßÂà∂ÂèçËΩ¨ÊòØ‰∏ÄÁßçËÆæËÆ°Ê®°ÂºèÊÄùÊÉ≥ÔºåÂÆÉÊòØ‰∏ÄÁßçÂÆΩÊ≥õÁöÑÊ¶ÇÂøµÔºåÂè™Ë¶Å‰∏Ä‰∏™Á±ªÂ∞ÜÂØπÂÆÉÂÜÖÈÉ®Áä∂ÊÄÅÁöÑÊéßÂà∂ÊùÉ‰∫§Áî±ÂÖ∂‰ªñÊú∫Âà∂ÂéªÂÆåÊàêÂç≥‰∏∫ÊéßÂà∂ÂèçËΩ¨„ÄÇÊéßÂà∂ÂèçËΩ¨ÊòØ‰∏∫‰∫ÜÈôç‰ΩéÁ±ª‰∏éÁ±ª‰πãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶„ÄÇËÄåSpringÈááÁî®‰æùËµñÊ≥®ÂÖ•Ëøô‰∏ÄÂÖ∑‰ΩìÁöÑÊâãÊÆµÊù•ËææÂà∞ÊéßÂà∂ÂèçËΩ¨ÁöÑÁõÆÁöÑ„ÄÇ ÂÖ≥‰∫é‰æùËµñÊ≥®ÂÖ•ÂèØ‰ª•ÁúãÊàë‰πãÂâçÁöÑÊñáÁ´†ÂÖàÂêπÂìçÂè£Âè∑_6Â§ßËÆæËÆ°ÂéüÂàô‰∏≠ÁöÑ‰æùËµñÂÄíÁΩÆÂéüÂàô DIP‰∏ÄËäÇÔºåËøôÈáåÂ∞±‰∏çÂÅöËøáÂ§öÁöÑ‰ªãÁªç‰∫Ü„ÄÇ IOCÂÆπÂô®Â∑•‰ΩúÊµÅÁ®ãIOCÂÆπÂô®ÂÆûÈôÖ‰∏äÂ∞±ÊòØ Context ÁªÑ‰ª∂ÁªìÂêàÂÖ∂‰ªñBeanÂíåCoreÁªÑ‰ª∂ÂÖ±ÂêåÊûÑÂª∫‰∫Ü‰∏Ä‰∏™ Bean ÂÖ≥Á≥ªÁΩëÔºåÂ¶Ç‰ΩïÊûÑÂª∫Ëøô‰∏™ÂÖ≥Á≥ªÁΩëÔºüÊûÑÂª∫ÁöÑÂÖ•Âè£Â∞±Âú® AbstractApplicationContext Á±ªÁöÑ refresh ÊñπÊ≥ï‰∏≠„ÄÇËøô‰∏™ÊñπÊ≥ïÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243public void refresh() throws BeansException, IllegalStateException &#123; Object var1 = this.startupShutdownMonitor; synchronized(this.startupShutdownMonitor) &#123; // ‰∏∫Âà∑Êñ∞ÂáÜÂ§áÊñ∞ÁöÑcontext this.prepareRefresh(); // **ÂàõÂª∫BeanFactory** ConfigurableListableBeanFactory beanFactory = this.obtainFreshBeanFactory(); // Âà∑Êñ∞ÊâÄÊúâBeanFactoryÂ≠êÂÆπÂô® this.prepareBeanFactory(beanFactory); try &#123; // Ê≥®ÂÜåÂÆûÁé∞‰∫ÜBeanPostProcessorÊé•Âè£ÁöÑbeanÔºàAOP‰ΩøÁî®Ôºâ this.postProcessBeanFactory(beanFactory); // ÂàùÂßãÂåñÂíåÊâßË°åBeanFactoryPostProcessor beans this.invokeBeanFactoryPostProcessors(beanFactory); // ÂàùÂßãÂåñÂíåÊâßË°åBeanPostProcessors beans this.registerBeanPostProcessors(beanFactory); // ÂàùÂßãÂåñMessageSource this.initMessageSource(); // ÂàùÂßãÂåñ event multicaster ÔºàÂ§öË∑ØÂπøÊí≠Ôºâ this.initApplicationEventMulticaster(); // Âà∑Êñ∞Áî±Â≠êÁ±ªÂÆûÁé∞ÁöÑÊñπÊ≥ï this.onRefresh(); // Ê≥®ÂÜå‰∫ã‰ª∂ this.registerListeners(); // ÂàùÂßãÂåñÂçï‰æãBean this.finishBeanFactoryInitialization(beanFactory); // ÂèëÂ∏ÉÁõ∏Â∫îÁöÑ‰∫ã‰ª∂ this.finishRefresh(); &#125; catch (BeansException var9) &#123; if(this.logger.isWarnEnabled()) &#123; this.logger.warn("Exception encountered during context initialization - cancelling refresh attempt: " + var9); &#125; // ÈîÄÊØÅbeans this.destroyBeans(); this.cancelRefresh(var9); throw var9; &#125; finally &#123; this.resetCommonCaches(); &#125; &#125; &#125; Ëøô‰∏™ÊñπÊ≥ïÂ∞±ÊòØÊûÑÂª∫Êï¥‰∏™IOCÂÆπÂô®ËøáÁ®ãÁöÑÂÆåÊï¥ÁöÑ‰ª£Á†ÅÔºå‰∫ÜËß£‰∫ÜÈáåÈù¢ÁöÑÊØè‰∏ÄË°å‰ª£Á†ÅÂü∫Êú¨‰∏äÂ∞±‰∫ÜËß£Â§ßÈÉ®ÂàÜ Spring ÁöÑÂéüÁêÜÂíåÂäüËÉΩ‰∫Ü„ÄÇ ËøôÊÆµ‰ª£Á†Å‰∏ªË¶ÅÂåÖÂê´ËøôÊ†∑Âá†‰∏™Ê≠•È™§Ôºö ÊûÑÂª∫ BeanFactory Ê≥®ÂÜåÂèØËÉΩÊÑüÂÖ¥Ë∂£ÁöÑ‰∫ã‰ª∂ ÂàõÂª∫ Bean ÂÆû‰æãÂØπË±° Ëß¶ÂèëË¢´ÁõëÂê¨ÁöÑ‰∫ã‰ª∂ ÂÖ∂‰∏≠Êàë‰ª¨Êàë‰ª¨ÊúÄÂÖ≥ÂøÉÁöÑÂ∞±ÊòØBeanFactoryÂíåÂàõÂª∫BeanÂÆû‰æãÂØπË±°‰∫ÜÔºåÊàë‰ª¨‰∏ãÈù¢ÂèØ‰ª•Â•ΩÂ•ΩÁúãÁúãÔºö ÂàõÂª∫BeanFactoryÂ∑•ÂéÇÊàë‰ª¨Âà©Áî®debugÂèØ‰ª•ËøõÂÖ•Âà∞refresh()ÊñπÊ≥ïÈáåÈù¢ÁöÑobtainFreshBeanFactory()ÊñπÊ≥ïÈáåÈù¢ÁöÑrefreshBeanFactory() ÔºàÊúâÁÇπÁªïÔºå‰ΩÜÊòØËá™Â∑±Â∞±‰∏çÁîªÊó∂Â∫èÂõæ‰∫ÜÔºâ ÂéªÁúãÁúã‰ªñÁöÑÂàõÂª∫‰ª£Á†ÅÔºö123456789101112131415161718192021protected final void refreshBeanFactory() throws BeansException &#123; if(this.hasBeanFactory()) &#123; this.destroyBeans(); this.closeBeanFactory(); &#125; try &#123; // ÂàõÂª∫‰∏Ä‰∏™DefaultListableBeanFactoryÔºà‰∏ä‰∏ÄËäÇËØ¥ËøáÁöÑÂæàÈáçË¶ÅÁöÑÁ±ªÔºâ DefaultListableBeanFactory beanFactory = this.createBeanFactory(); beanFactory.setSerializationId(this.getId()); this.customizeBeanFactory(beanFactory); // **Ëøô‰∏™ÊñπÊ≥ï‰ºöÂä†ËΩΩ„ÄÅËß£ÊûêBeanÁöÑÂÆö‰πâ** this.loadBeanDefinitions(beanFactory); Object var2 = this.beanFactoryMonitor; synchronized(this.beanFactoryMonitor) &#123; this.beanFactory = beanFactory; &#125; &#125; catch (IOException var5) &#123; throw new ApplicationContextException("I/O error parsing bean definition source for " + this.getDisplayName(), var5); &#125; &#125; ÂàõÂª∫BeanÂÆû‰æãÂπ∂ÊûÑÂª∫BeanÁöÑÂÖ≥Á≥ªÁΩëÊàë‰ª¨Âà©Áî®debugÂèØ‰ª•ËøõÂÖ•Âà∞refresh()ÊñπÊ≥ïÈáåÈù¢ÁöÑfinishBeanFactoryInitialization(ConfigurableListableBeanFactory beanFactory)ÊñπÊ≥ïÈáåÈù¢ÁöÑpreInstantiateSingletons() ÔºàÊúâÁÇπÁªïÔºå‰ΩÜÊòØËá™Â∑±Â∞±‰∏çÁîªÊó∂Â∫èÂõæ‰∫ÜÔºâ ÂéªÁúãÁúãÂÆÉÁöÑÂàõÂª∫BeanÁöÑ‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172public void preInstantiateSingletons() throws BeansException &#123; if(this.logger.isDebugEnabled()) &#123; this.logger.debug("Pre-instantiating singletons in " + this); &#125; List&lt;String&gt; beanNames = new ArrayList(this.beanDefinitionNames); Iterator var2 = beanNames.iterator(); while(true) &#123; while(true) &#123; String beanName; RootBeanDefinition bd; do &#123; do &#123; do &#123; if(!var2.hasNext()) &#123; var2 = beanNames.iterator(); while(var2.hasNext()) &#123; beanName = (String)var2.next(); Object singletonInstance = this.getSingleton(beanName); if(singletonInstance instanceof SmartInitializingSingleton) &#123; final SmartInitializingSingleton smartSingleton = (SmartInitializingSingleton)singletonInstance; if(System.getSecurityManager() != null) &#123; AccessController.doPrivileged(new PrivilegedAction&lt;Object&gt;() &#123; public Object run() &#123; smartSingleton.afterSingletonsInstantiated(); return null; &#125; &#125;, this.getAccessControlContext()); &#125; else &#123; smartSingleton.afterSingletonsInstantiated(); &#125; &#125; &#125; return; &#125; beanName = (String)var2.next(); bd = this.getMergedLocalBeanDefinition(beanName); &#125; while(bd.isAbstract()); &#125; while(!bd.isSingleton()); &#125; while(bd.isLazyInit()); if(this.isFactoryBean(beanName)) &#123; // Ëøô‰∏™BeanÂæàÈáçË¶ÅÔºåSpringÊúâ‰∏ÄÂ§ßÂçäÊâ©Â±ïÂäüËÉΩÈÉΩ‰∏éËøô‰∏™BeanÊúâÂÖ≥Á≥ªÔºå // ÂÆÉÊòØ‰∏™Â∑•ÂéÇBeanÔºåÂèØ‰ª•‰∫ßÁîüBeanÂÆû‰æãÁöÑBeanÔºå // SpringËé∑ÂèñFactoryBeanÊú¨Ë∫´ÁöÑÂØπË±°ÊòØÈÄöËøáÂú®ÂâçÈù¢Âä†‰∏ä&amp;Êù•ÂÆåÊàêÁöÑ final FactoryBean&lt;?&gt; factory = (FactoryBean)this.getBean("&amp;" + beanName); boolean isEagerInit; if(System.getSecurityManager() != null &amp;&amp; factory instanceof SmartFactoryBean) &#123; isEagerInit = ((Boolean)AccessController.doPrivileged(new PrivilegedAction&lt;Boolean&gt;() &#123; public Boolean run() &#123; return Boolean.valueOf(((SmartFactoryBean)factory).isEagerInit()); &#125; &#125;, this.getAccessControlContext())).booleanValue(); &#125; else &#123; isEagerInit = factory instanceof SmartFactoryBean &amp;&amp; ((SmartFactoryBean)factory).isEagerInit(); &#125; if(isEagerInit) &#123; // ÊôÆÈÄöÁöÑBeanÂè™Ë¶ÅÈÄöËøágetBeanÊñπÊ≥ïÁõ¥Êé•ÂàõÂª∫ÂÆÉÁöÑÂÆû‰æã // getBeanÊñπÊ≥ïÈáåÈù¢ÂåÖÂê´‰∫Ü‰ªñ‰ª¨ÂÖ≥Á≥ªÁöÑÂàõÂª∫ this.getBean(beanName); &#125; &#125; else &#123; this.getBean(beanName); &#125; &#125; &#125; &#125; IOCÂÆπÂô®ÁöÑÊâ©Â±ïÁÇπÂ¶Ç‰ΩïËÆ©Ëøô‰∫õ Bean ÂØπË±°Êúâ‰∏ÄÂÆöÁöÑÊâ©Â±ïÊÄßÔºàÂ∞±ÊòØÂèØ‰ª•Âä†ÂÖ•Áî®Êà∑ÁöÑ‰∏Ä‰∫õÊìç‰ΩúÔºâ‰πüÊòØÊàë‰ª¨ÈúÄË¶ÅÊÄùËÄÉÁöÑÔºÅÈÇ£‰πàÊúâÂì™‰∫õÊâ©Â±ïÁÇπÂë¢Ôºü Spring ÂèàÊòØÂ¶Ç‰ΩïË∞ÉÁî®Âà∞Ëøô‰∫õÊâ©Â±ïÁÇπÁöÑÔºü ÂØπ Spring ÁöÑ IOC ÂÆπÂô®Êù•ËØ¥Ôºå‰∏ªË¶ÅÊúâËøô‰πàÂá†‰∏™Êâ©Â±ïÁÇπÔºö BeanFactoryPostProcessorÔºå BeanPostProcessorÔºö‰ªñ‰ª¨ÂàÜÂà´ÊòØÂú®ÊûÑÂª∫ BeanFactory ÂíåÊûÑÂª∫ Bean ÂØπË±°Êó∂Ë∞ÉÁî®„ÄÇ InitializingBean Âíå DisposableBean Ôºö‰ªñ‰ª¨ÂàÜÂà´ÊòØÂú® Bean ÂÆû‰æãÂàõÂª∫ÂíåÈîÄÊØÅÊó∂Ë¢´Ë∞ÉÁî®„ÄÇÁî®Êà∑ÂèØ‰ª•ÂÆûÁé∞Ëøô‰∫õÊé•Âè£‰∏≠ÂÆö‰πâÁöÑÊñπÊ≥ïÔºåSpring Â∞±‰ºöÂú®ÈÄÇÂΩìÁöÑÊó∂ÂÄôË∞ÉÁî®‰ªñ‰ª¨„ÄÇ FactoryBean Ôºö‰ªñÊòØ‰∏™ÁâπÊÆäÁöÑ BeanÔºåËøô‰∏™ Bean ÂèØ‰ª•Ë¢´Áî®Êà∑Êõ¥Â§öÁöÑÊéßÂà∂„ÄÇ Ëøô‰∫õÊâ©Â±ïÁÇπÈÄöÂ∏∏‰πüÊòØÊàë‰ª¨‰ΩøÁî® Spring Êù•ÂÆåÊàêÊàë‰ª¨ÁâπÂÆö‰ªªÂä°ÁöÑÂú∞ÊñπÔºåÊòØÂê¶Á≤æÈÄö Spring Â∞±Áúã‰Ω†ÊúâÊ≤°ÊúâÊéåÊè°Â•ΩSpringÊúâÂì™‰∫õÊâ©Â±ïÁÇπÔºåÂπ∂‰∏îÂ¶Ç‰Ωï‰ΩøÁî®‰ªñ‰ª¨„ÄÇ Ë¶ÅÁü•ÈÅìÂ¶Ç‰Ωï‰ΩøÁî®‰ªñ‰ª¨Â∞±ÂøÖÈ°ª‰∫ÜËß£‰ªñ‰ª¨ÂÜÖÂú®ÁöÑÊú∫ÁêÜ„ÄÇÂèØ‰ª•Áî®‰∏ãÈù¢‰∏Ä‰∏™ÊØîÂñªÔºà‰ºòÁßÄÔºâÊù•Ëß£ÈáäÔºö Êàë‰ª¨Êää IOC ÂÆπÂô®ÊØî‰Ωú‰∏Ä‰∏™ÁÆ±Â≠êÔºåËøô‰∏™ÁÆ±Â≠êÈáåÊúâËã•Âπ≤‰∏™ÁêÉÁöÑÊ®°Â≠êÔºåÂèØ‰ª•Áî®Ëøô‰∫õÊ®°Â≠êÊù•ÈÄ†ÂæàÂ§öÁßç‰∏çÂêåÁöÑÁêÉÔºåËøòÊúâ‰∏Ä‰∏™ÈÄ†Ëøô‰∫õÁêÉÊ®°ÁöÑÊú∫Âô®ÔºåËøô‰∏™Êú∫Âô®ÂèØ‰ª•‰∫ßÁîüÁêÉÊ®°„ÄÇÈÇ£‰πà‰ªñ‰ª¨ÁöÑÂØπÂ∫îÂÖ≥Á≥ªÂ∞±ÊòØ BeanFactory Â∞±ÊòØÈÇ£‰∏™ÈÄ†ÁêÉÊ®°ÁöÑÊú∫Âô®ÔºåÁêÉÊ®°Â∞±ÊòØ BeanÔºåËÄåÁêÉÊ®°ÈÄ†Âá∫Êù•ÁöÑÁêÉÂ∞±ÊòØ Bean ÁöÑÂÆû‰æã„ÄÇ ÈÇ£ÂâçÈù¢ÊâÄËØ¥ÁöÑÂá†‰∏™Êâ©Â±ïÁÇπÂèàÂú®‰ªÄ‰πàÂú∞ÊñπÂë¢Ôºü BeanFactoryPostProcessor ÂØπÂ∫îÂà∞ÂΩìÈÄ†ÁêÉÊ®°Ë¢´ÈÄ†Âá∫Êù•Êó∂Ôºå‰Ω†Â∞ÜÊúâÊú∫‰ºöÂèØ‰ª•ÂØπÂÖ∂ÂÅöÂá∫ËÆæÂΩìÁöÑ‰øÆÊ≠£Ôºå‰πüÂ∞±ÊòØ‰ªñÂèØ‰ª•Â∏Æ‰Ω†‰øÆÊîπÁêÉÊ®°„ÄÇËÄå InitializingBean Âíå DisposableBean ÊòØÂú®ÁêÉÊ®°ÈÄ†ÁêÉÁöÑÂºÄÂßãÂíåÁªìÊùüÈò∂ÊÆµÔºå‰Ω†ÂèØ‰ª•ÂÆåÊàê‰∏Ä‰∫õÈ¢ÑÂ§áÂíåÊâ´Â∞æÂ∑•‰Ωú„ÄÇBeanPostProcessor Â∞±ÂèØ‰ª•ËÆ©‰Ω†ÂØπÁêÉÊ®°ÈÄ†Âá∫Êù•ÁöÑÁêÉÂÅöÂá∫ÈÄÇÂΩìÁöÑ‰øÆÊ≠£„ÄÇÊúÄÂêéËøòÊúâ‰∏Ä‰∏™ FactoryBeanÔºåÂÆÉÂèØÊòØ‰∏Ä‰∏™Á•ûÂ•áÁöÑÁêÉÊ®°„ÄÇËøô‰∏™ÁêÉÊ®°‰∏çÊòØÈ¢ÑÂÖàÂ∞±ÂÆöÂûã‰∫ÜÔºåËÄåÊòØÁî±‰Ω†Êù•Áªô‰ªñÁ°ÆÂÆöÂÆÉÁöÑÂΩ¢Áä∂ÔºåÊó¢ÁÑ∂‰Ω†ÂèØ‰ª•Á°ÆÂÆöËøô‰∏™ÁêÉÊ®°ÂûãÁöÑÂΩ¢Áä∂ÔºåÂΩìÁÑ∂‰ªñÈÄ†Âá∫Êù•ÁöÑÁêÉËÇØÂÆöÂ∞±ÊòØ‰Ω†ÊÉ≥Ë¶ÅÁöÑÁêÉ‰∫ÜÔºåËøôÊ†∑Âú®Ëøô‰∏™ÁÆ±Â≠êÈáå‰Ω†ÂèØ‰ª•ÂèëÁé∞ÊâÄÊúâ‰Ω†ÊÉ≥Ë¶ÅÁöÑÁêÉ„ÄÇ IOCÂÆπÂô®ÁöÑ‰ΩøÁî®Êàë‰ª¨‰ΩøÁî® Spring ÂøÖÈ°ªË¶ÅÈ¶ñÂÖàÊûÑÂª∫ IOC ÂÆπÂô®ÔºåÊ≤°ÊúâÂÆÉ Spring Êó†Ê≥ïÂ∑•‰ΩúÔºåApplicatonContext.xml Â∞±ÊòØ IOC ÂÆπÂô®ÁöÑÈªòËÆ§ÈÖçÁΩÆÊñá‰ª∂ÔºåSpring ÁöÑÊâÄÊúâÁâπÊÄßÂäüËÉΩÈÉΩÊòØÂü∫‰∫éËøô‰∏™ IOC ÂÆπÂô®Â∑•‰ΩúÁöÑÔºåÊØîÂ¶ÇÂêéÈù¢Ë¶Å‰ªãÁªçÁöÑ AOP„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÂàÜÊûêJava WebÊäÄÊúØÂÜÖÂπï„Äã Ê∑±ÂÖ•ÂâñÊûêSpring(‰∏Ä)‚Äî‚ÄîIoCÁöÑÂü∫Êú¨Ê¶ÇÂøµ(‰ªéÈù¢ÂêëÂØπË±°ËßíÂ∫¶‰ªãÁªç)]]></content>
      <categories>
        <category>Ê∑±ÂÖ•SSM</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êè≠ÁßòSpring(‰∏Ä)_SpringÊû∂ÊûÑ]]></title>
    <url>%2F2018%2F04%2F10%2F%E6%B7%B1%E5%85%A5SSM%2F%E6%8F%AD%E7%A7%98Spring-%E4%B8%80-Spring%E6%9E%B6%E6%9E%84%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöSpring‰Ωú‰∏∫Áé∞Âú®ÊúÄ‰ºòÁßÄÁöÑÊ°ÜÊû∂‰πã‰∏ÄÔºåË¢´ÂπøÊ≥õÂæó‰ΩøÁî®Âú®WebÂú∫ÊôØ‰∏≠„ÄÇÂæàÂ§ö‰∫∫Âè™‰ºö‰ΩøÁî®Ôºå‰ΩÜÊòØÂç¥‰∏çÁü•ÈÅìSpringÊï¥‰∏™‰ΩìÁ≥ªÊû∂ÊûÑ„ÄÇ SpringÁöÑÈ™®È™ºÊû∂ÊûÑSpringÊÄªÂÖ±ÊúâÂçÅÂá†‰∏™ÁªÑ‰ª∂Ôºå‰ΩÜÊòØÁúüÊ≠£Ê†∏ÂøÉÁöÑÁªÑ‰ª∂Âè™ÊúâÂá†‰∏™ÔºåÂ¶Ç‰∏ãÂõæ‰∏∫SpringÊ°ÜÊû∂ÂºÄÂßã‰ª•Êù•Êã•ÊúâÁöÑÊÄª‰ΩìÊû∂ÊûÑÂõæÔºö ‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂá∫ÔºåÂú®SpringÊ°ÜÊû∂‰∏≠ÁöÑ Ê†∏ÂøÉÁªÑ‰ª∂ Âè™Êúâ‰∏â‰∏™Ôºöcore„ÄÅcontext„ÄÅbean„ÄÇ‰ªñ‰ª¨ÊûÑÂª∫Ëµ∑Êï¥‰∏™SpringÁöÑÈ™®È™ºÊû∂ÊûÑÔºåÊ≤°Êúâ‰ªñ‰ª¨Â∞±‰∏çÂèØËÉΩÊúâAOP„ÄÅWebÁ≠â‰∏äÂ±ÇÁöÑ ÁâπÊÄßÂäüËÉΩ „ÄÇ SpringÁöÑËÆæËÆ°ÁêÜÂøµ‰∏äÈù¢ËØ¥‰∫Ü‰∏â‰∏™Ê†∏ÂøÉÁªÑ‰ª∂Ôºå‰ΩÜÊòØÊúÄÈáçË¶ÅÂ∞±ÊòØBeanÁªÑ‰ª∂‰∫ÜÔºåÁî®ËøáSpringÁöÑ‰∫∫ÈÉΩÁü•ÈÅìÔºåÊàë‰ª¨ÊâÄÊúâÁöÑÁ±ªÂü∫Êú¨‰∏äÈÉΩ‰ºö‰∫§ÁªôSpringÊâòÁÆ°Ôºå‰πüÂ∞±ÊòØËØ¥SpringÂ∞±ÊòØÈù¢ÂêëBeanÁöÑÁºñÁ®ã„ÄÇBeanÂú®Spring‰∏≠ÁöÑ‰ΩúÁî®Â∞±ÂÉèObjectÂØπOOPÁöÑÊÑè‰πâ‰∏ÄÊ†∑ÔºåÊ≤°ÊúâÂØπË±°ÁöÑÊ¶ÇÂøµÂ∞±Ê≤°ÊúâÈù¢ÂêëÂØπË±°ÁöÑÊ¶ÇÂøµÔºåÂú®Spring‰∏≠Ê≤°ÊúâBean‰πüÂ∞±Ê≤°ÊúâSpringÂ≠òÂú®ÁöÑÊÑè‰πâ„ÄÇ ‰ΩøÁî®SpringÊúÄÂ§ßÁöÑÂéüÂõ†Ôºö ÊòØ‰ªñËß£ÂÜ≥‰∫Ü‰∏Ä‰∏™ÈùûÂ∏∏ÂÖ≥ÈîÆÁöÑÈóÆÈ¢òÔºåÂÆÉÂèØ‰ª•ËÆ©‰Ω†ÊääÂØπË±°‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªËß£ËÄ¶ÔºåÂÖ∂‰∏≠ÁöÑÂÖ≥Á≥ª‰∫§Áî±IOCÂÆπÂô®ÔºàBeanÂÖ≥Á≥ªÁöÑÈõÜÂêàÔºâÊù•ÁÆ°ÁêÜÔºåÊ†∏ÂøÉÂ∞±ÊòØ‰æùËµñÊ≥®ÂÖ•Êú∫Âà∂„ÄÇSpring‰πüÊ≠£ÊòØÈÄöËøáÊääÂØπË±°ÂåÖË£ÖÂú®Bean‰∏≠ËææÂà∞ÁÆ°ÁêÜËøô‰∫õÂØπË±°ÂèäÂÅö‰∏Ä‰∫õÂàóÈ¢ùÂ§ñÊìç‰ΩúÁöÑÁõÆÁöÑ„ÄÇ ‰∏ÄËà¨Ê°ÜÊû∂ËÆæËÆ°ÁêÜÂøµÔºö ÂÖàÊûÑÂª∫‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑÔºåÁÑ∂ÂêéÊ†πÊçÆËøô‰∏™Êï∞ÊçÆÁªìÊûÑËÆæËÆ°ÂÆÉÁöÑÁîüÂ≠òÁéØÂ¢ÉÔºåÂπ∂ËÆ©ÂÆÉÂú®Ëøô‰∏™ÁéØÂ¢É‰∏≠ÊåâÁÖß‰∏ÄÂÆöÁöÑËßÑÂæã‰∏çÂÅúÁöÑËøêÂä®ÔºåÂú®‰ªñ‰∏çÂÅúËøêÂä®ÁöÑËøáÁ®ã‰∏≠ËÆæËÆ°ÂÆÉ‰ª¨‰∏éÁéØÂ¢ÉÊàñËÄÖ‰∏éÂÖ∂‰ªñ‰∏™‰ΩìÂÆåÊàê‰ø°ÊÅØ‰∫§Êç¢„ÄÇ Ê†∏ÂøÉÁªÑ‰ª∂Â¶Ç‰ΩïÂçèÂêåÂ∑•‰ΩúÂèÇËÄÉ„ÄäÊ∑±ÂÖ•ÂàÜÊûêJava WebÊäÄÊúØÂÜÖÂπï„Äã‰∏Ä‰π¶‰∏≠Êúâ‰∏™ÂΩ¢Ë±°ÁöÑÊØîÂñªÔºöSpringÊ°ÜÊû∂Â∞±ÂÉè‰∏ÄÂú∫ÊºîÂá∫ÔºåBeanÁõ∏ÂΩì‰∫éÊºîÂëòÔºåContextÁõ∏ÂΩì‰∫éÊºîÂá∫ÁöÑËàûÂè∞ËÉåÊôØ„ÄÅCoreÁõ∏ÂΩì‰∫éÊºîÂá∫ÁöÑÈÅìÂÖ∑ÔºàÊääÊºîÂëòËÅîÁ≥ªËµ∑Êù•Ôºâ„ÄÇÂ¶ÇÊûúÊÉ≥ÊºîÂá∫Ë∂≥Â§üÊñ∞È¢ñÔºåÂ∞±ÈúÄË¶ÅSpringÊèê‰æõÁöÑÂÖ∂‰ªñÁâπËâ≤ÂäüËÉΩ‰∫Ü„ÄÇ ÂõûÂà∞SpringÔºöBeanÂåÖË£ÖÁöÑÊòØObjectÔºåËÄåObjectÂøÖÁÑ∂ÊúâÊï∞ÊçÆÔºåÂ¶Ç‰ΩïÁªôËøô‰∫õÊï∞ÊçÆÊèê‰æõÁîüÊàêÁéØÂ¢ÉÂ∞±ÊòØContextË¶ÅËß£ÂÜ≥ÁöÑ‰∫ãÊÉÖÔºåÂØπ‰∫éContextÊù•ËØ¥Â∞±ÊòØË¶ÅÂèëÁé∞ÊØè‰∏™Bean‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºå‰∏∫‰ªñ‰ª¨Âª∫Á´ãËøôÁßçÂÖ≥Á≥ªÂπ∂‰∏îÁª¥Êä§Â•ΩËøôÁßçÂÖ≥Á≥ªÔºåËÄåÂèëÁé∞„ÄÅÂª∫Á´ãÂíåÁª¥Êä§ÊØè‰∏™Bean‰πãÈó¥ÁöÑÂÖ≥Á≥ªÁª¥Êä§ËøôÁßçÂÖ≥Á≥ªÂ∞±ÈúÄË¶ÅCoreÁªÑ‰ª∂‰∫ÜÔºåCoreÁªÑ‰ª∂ÂÖ∂ÂÆûÂ∞±ÊòØÂèëÁé∞„ÄÅÂª∫Á´ãÂíåÁª¥Êä§ÊØè‰∏™Bean‰πãÈó¥ÁöÑÂÖ≥Á≥ªÊâÄÈúÄË¶ÅÁöÑ‰∏Ä‰∫õÂàóÂ∑•ÂÖ∑„ÄÇÊúÄÂêéÊàë‰ª¨ÂèëÁé∞ContextÂ∞±ÊòØ‰∏Ä‰∏™BeanÂÖ≥Á≥ªÁöÑÈõÜÂêàÔºåËøô‰∏™ÂÖ≥Á≥ªÈõÜÂêàÂ∞±Âè´IOCÂÆπÂô®ÔºåÂΩìÂª∫Á´ãËµ∑IOCÂÆπÂô®ÔºåSpringÂ∞±ÂèØ‰ª•Â∑•‰Ωú‰∫Ü„ÄÇ‰ªñ‰ª¨ÁöÑÂÖ≥Á≥ªÂèØ‰ª•Áî®‰∏ãÂõæÊù•ÊèèËø∞Ôºö Ê†∏ÂøÉÁªÑ‰ª∂Ëß£ÊûêBeanÁªÑ‰ª∂Bean ÁªÑ‰ª∂Âú® Spring ÁöÑ org.springframework.beans ÂåÖ‰∏ã„ÄÇËøô‰∏™ÂåÖ‰∏ãÁöÑÊâÄÊúâÁ±ª‰∏ªË¶ÅËß£ÂÜ≥‰∫Ü‰∏â‰ª∂‰∫ãÔºöBean ÁöÑÂÆö‰πâ„ÄÅ Bean ÁöÑËß£Êûê‰ª•ÂèäÂØπBean ÁöÑÂàõÂª∫„ÄÇÂØπ Spring ÁöÑ‰ΩøÁî®ËÄÖÊù•ËØ¥ÂîØ‰∏ÄÈúÄË¶ÅÂÖ≥ÂøÉÁöÑÂ∞±ÊòØ Bean ÁöÑÂàõÂª∫ÔºåÂÖ∂‰ªñ‰∏§‰∏™Áî± Spring Âú®ÂÜÖÈÉ®Â∏Æ‰Ω†ÂÆåÊàê‰∫ÜÔºåÂØπ‰Ω†Êù•ËØ¥ÊòØÈÄèÊòéÁöÑ„ÄÇ BeanÁöÑÂÆö‰πâBean ÁöÑÂÆö‰πâ‰∏ªË¶ÅÊúâ BeanDefinition ÊèèËø∞ÔºåÂ¶Ç‰∏ãÂõæÔºàRootBeanDefinitionÁ±ªÂõæÔºâËØ¥Êòé‰∫ÜËøô‰∫õÁ±ªÁöÑÂ±ÇÊ¨°ÂÖ≥Á≥ªÔºö Bean ÁöÑÂÆö‰πâÂ∞±ÊòØÂÆåÊï¥ÁöÑÊèèËø∞‰∫ÜÂú® Spring ÁöÑÈÖçÁΩÆÁöÑBean‰∏≠ÊâÄÊúâÁöÑ‰ø°ÊÅØ„ÄÇÂΩì Spring ÊàêÂäüËß£Êûê‰Ω†ÂÆö‰πâÁöÑ‰∏Ä‰∏™BeanÂêéÔºåÂú® Spring ÁöÑÂÜÖÈÉ®‰ªñÂ∞±Ë¢´ËΩ¨ÂåñÊàê BeanDefinition ÂØπË±°ÔºåÂÆÉÂèØ‰ª•ÂÆö‰πâ‰∏∫SINGLETONËøòÊòØPROTOTYPE„ÄÇ‰ª•ÂêéÊâÄÊúâÁöÑÊìç‰ΩúÈÉΩÊòØÂØπËøô‰∏™ÂØπË±°ÂÆåÊàêÁöÑ„ÄÇ BeanÁöÑËß£ÊûêBean ÁöÑËß£ÊûêËøáÁ®ãÈùûÂ∏∏Â§çÊùÇÔºåÂäüËÉΩË¢´ÂàÜÁöÑÂæàÁªÜÔºåÂõ†‰∏∫ËøôÈáåÈúÄË¶ÅË¢´Êâ©Â±ïÁöÑÂú∞ÊñπÂæàÂ§öÔºåÂøÖÈ°ª‰øùËØÅÊúâË∂≥Â§üÁöÑÁÅµÊ¥ªÊÄßÔºå‰ª•Â∫îÂØπÂèØËÉΩÁöÑÂèòÂåñ„ÄÇBean ÁöÑËß£ÊûêÊñπÂºèÊúâÂæàÂ§öÁßçÔºåËøô‰πüÂ∞±ÂØºËá¥ÈÖçÁΩÆÊñπÂºèÊúâÂæàÂ§öÁßçÔºà‰πãÂêé‰ºö‰ªãÁªçÂêÑÁßçBeanÁöÑÈÖçÁΩÆÊñπÊ≥ïÔºåÂ¶ÇxmlÔºåÊâ´ÊèèÔºåÊ≥®Ëß£„ÄÅjavaÈÖçÁΩÆÔºâ„ÄÇËøôÈáåÂ∞±‰ªãÁªç‰∏Ä‰∏ãÊúÄÊó©ÁöÑËß£ÊûêXMLÈÖçÁΩÆÔºåÂÆÉÁöÑËøáÁ®ã‰∏ªË¶ÅÈÄöËøá‰∏ãÂõæ‰∏≠ÁöÑÁ±ª(XmlBeanDefinitionReader)ÂÆåÊàêÔºö BeanÁöÑÂàõÂª∫Spring Bean ÁöÑÂàõÂª∫ÊòØÂÖ∏ÂûãÁöÑÂ∑•ÂéÇÊ®°ÂºèÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáDefaultListableBeanFactoryËøô‰∏™Á±ªÊù•‰∫ÜËß£SpringÁöÑÂ∑•ÂéÇÊ®°ÂºèÔºåÂ∑•ÂéÇÊ®°ÂºèÁöÑÈ°∂Á∫ßÊé•Âè£ÊòØ BeanFactoryÔºå‰∏ãÂõæÊòØËøô‰∏™Â∑•ÂéÇÁöÑÁªßÊâøÂ±ÇÊ¨°ÂÖ≥Á≥ªÔºö BeanFactory Êúâ‰∏â‰∏™Â≠êÁ±ªÔºöListableBeanFactory„ÄÅHierarchicalBeanFactory Âíå AutowireCapableBeanFactory„ÄÇ‰ΩÜÊòØ‰ªé‰∏äÂõæ‰∏≠Êàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ÊúÄÁªàÁöÑÈªòËÆ§ÂÆûÁé∞Á±ªÊòØ DefaultListableBeanFactoryÔºå‰ªñÂÆûÁé∞‰∫ÜÊâÄÊúâÁöÑÊé•Âè£„ÄÇ Ê°ÜÊû∂Ê†∏ÂøÉÔºöÈÇ£‰∏∫‰ΩïË¶ÅÂÆö‰πâËøô‰πàÂ§öÂ±ÇÊ¨°ÁöÑÊé•Âè£Âë¢Ôºü Êü•ÈòÖËøô‰∫õÊé•Âè£ÁöÑÊ∫êÁ†ÅÂíåËØ¥ÊòéÂèëÁé∞ÔºåÊØè‰∏™Êé•Âè£ÈÉΩÊúâ‰ªñ‰ΩøÁî®ÁöÑÂú∫ÂêàÔºåÂÆÉ‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÂå∫ÂàÜÂú® Spring ÂÜÖÈÉ®Âú®Êìç‰ΩúËøáÁ®ã‰∏≠ÂØπË±°ÁöÑ‰º†ÈÄíÂíåËΩ¨ÂåñËøáÁ®ã‰∏≠ÔºåÂØπÂØπË±°ÁöÑÊï∞ÊçÆËÆøÈóÆÊâÄÂÅöÁöÑÈôêÂà∂ÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö ListableBeanFactory Êé•Âè£Ë°®Á§∫Ëøô‰∫õ Bean ÊòØÂèØÂàóË°®ÁöÑ HierarchicalBeanFactory Ë°®Á§∫ÁöÑÊòØËøô‰∫õ BeanÊòØÊúâÁªßÊâøÂÖ≥Á≥ªÁöÑÔºå‰πüÂ∞±ÊòØÊØè‰∏™ BeanÊúâÂèØËÉΩÊúâÁà∂ Bean„ÄÇ AutowireCapableBeanFactory Êé•Âè£ÂÆö‰πâBeanÁöÑËá™Âä®Ë£ÖÈÖçËßÑÂàô„ÄÇ ËøôÂõõ‰∏™Êé•Âè£ÂÖ±ÂêåÂÆö‰πâ‰∫Ü Bean ÁöÑÈõÜÂêà„ÄÅBean ‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÅ‰ª•Âèä Bean Ë°å‰∏∫„ÄÇ ContextÁªÑ‰ª∂Context Âú® Spring ÁöÑ org.springframework.context ÂåÖ‰∏ãÔºåContext ÁªÑ‰ª∂Âú® Spring ‰∏≠ÁöÑ‰ΩúÁî®ÂÆûÈôÖ‰∏äÂ∞±ÊòØÁªôSpringÊèê‰æõ‰∏Ä‰∏™ËøêË°åÊó∂ÁöÑÁéØÂ¢ÉÔºåÁî®‰ª•‰øùÂ≠òÂêÑ‰∏™ÂØπË±°ÁöÑÁä∂ÊÄÅ „ÄÇ‰∏ãÈù¢Áúã‰∏Ä‰∏ãËøô‰∏™ÁéØÂ¢ÉÊòØÂ¶Ç‰ΩïÊûÑÂª∫ÁöÑ„ÄÇ ApplicationContext ÊòØ Context ÁöÑÈ°∂Á∫ßÁà∂Á±ªÔºå‰ªñÈô§‰∫ÜËÉΩÊ†áËØÜ‰∏Ä‰∏™Â∫îÁî®ÁéØÂ¢ÉÁöÑÂü∫Êú¨‰ø°ÊÅØÂ§ñÔºå‰ªñËøòÁªßÊâø‰∫ÜÂÖ≠‰∏™Êé•Âè£ÔºåËøôÂÖ≠‰∏™Êé•Âè£‰∏ªË¶ÅÊòØÊâ©Â±ï‰∫Ü Context ÁöÑÂäüËÉΩ„ÄÇ‰∏ãÈù¢ÊòØ Context Áõ∏ÂÖ≥ÁöÑÁ±ªÁªìÊûÑÂõæÔºö ‰ªé‰∏äÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫ ApplicationContext ÁªßÊâø‰∫ÜBeanFactoryÔºåËøô‰πüËØ¥Êòé‰∫Ü Spring ÂÆπÂô®‰∏≠ËøêË°åÁöÑ‰∏ª‰ΩìÂØπË±°ÊòØ BeanÔºåÂè¶Â§ñ ApplicationContext ÁªßÊâø‰∫Ü ResourceLoader Êé•Âè£Ôºå‰ΩøÂæó ApplicationContext ÂèØ‰ª•ËÆøÈóÆÂà∞‰ªª‰ΩïÂ§ñÈÉ®ËµÑÊ∫êÔºàÂ∞±ÊòØCoreÈáåÈù¢ÁöÑÂ∑•ÂÖ∑‰∫ÜÔºåËøôÂ∞ÜÂú® Core ‰∏≠ËØ¶ÁªÜËØ¥ÊòéÔºâ„ÄÇ ApplicationContext ÁöÑÂ≠êÁ±ª‰∏ªË¶ÅÂåÖÂê´‰∏§‰∏™ÊñπÈù¢Ôºö ConfigurableApplicationContextÔºöË°®Á§∫ËØ•ContextÊòØÂèØ‰øÆÊîπÁöÑÔºå‰πüÂ∞±ÊòØÂú®ÊûÑÂª∫ Context ‰∏≠Áî®Êà∑ÂèØ‰ª•Âä®ÊÄÅÊ∑ªÂä†Êàñ‰øÆÊîπÂ∑≤ÊúâÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºåÂÆÉ‰∏ãÈù¢ÂèàÊúâÂ§ö‰∏™Â≠êÁ±ªÔºåÂÖ∂‰∏≠ÊúÄÁªèÂ∏∏‰ΩøÁî®ÁöÑÊòØÂèØÊõ¥Êñ∞ÁöÑ ContextÔºåÂç≥ AbstractRefreshableApplicationContext Á±ª„ÄÇ WebApplicationContext ÔºöÁúãÂà∞webÂ∞±Áü•ÈÅìËøô‰∏∫ web ÂáÜÂ§áÁöÑ Context ‰ªñÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÂà∞ ServletContextÔºåÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåËøô‰∏™Êé•Âè£‰ΩøÁî®ÁöÑÂ∞ë„ÄÇÂÜçÂæÄ‰∏ãÂàÜÂ∞±ÊòØÊåâÁÖßÊûÑÂª∫ Context ÁöÑÊñá‰ª∂Á±ªÂûãÔºàÊ≤°ÂàóÂá∫ÔºåÊÑüÂÖ¥Ë∂£ÁöÑÂèØ‰ª•Ëá™Â∑±ÂéªÁúãÔºâÔºåÊé•ÁùÄÂ∞±ÊòØËÆøÈóÆ Context ÁöÑÊñπÂºè„ÄÇËøôÊ†∑‰∏ÄÁ∫ß‰∏ÄÁ∫ßÊûÑÊàê‰∫ÜÂÆåÊï¥ÁöÑ Context Á≠âÁ∫ßÂ±ÇÊ¨°„ÄÇ ÊÄª‰ΩìÊù•ËØ¥ ApplicationContext ÂøÖÈ°ªË¶ÅÂÆåÊàê‰ª•‰∏ãÂá†‰ª∂‰∫ãÔºö Ê†áËØÜ‰∏Ä‰∏™Â∫îÁî®ÁéØÂ¢É Âà©Áî® BeanFactory ÂàõÂª∫ Bean ÂØπË±° ‰øùÂ≠òÂØπË±°ÂÖ≥Á≥ªË°® ËÉΩÂ§üÊçïËé∑ÂêÑÁßç‰∫ã‰ª∂ Context ‰Ωú‰∏∫ Spring ÁöÑ IOC ÂÆπÂô®ÔºåÂü∫Êú¨‰∏äÊï¥Âêà‰∫Ü Spring ÁöÑÂ§ßÈÉ®ÂàÜÂäüËÉΩÔºåÊàñËÄÖËØ¥ÊòØÂ§ßÈÉ®ÂàÜÂäüËÉΩÁöÑÂü∫Á°Ä„ÄÇ CoreÁªÑ‰ª∂Core ÁªÑ‰ª∂Âú®Spring ÁöÑorg.springframework.coreÂåÖ‰∏ãÔºåÂÆÉ‰Ωú‰∏∫ SpringÁöÑÊ†∏ÂøÉÁªÑ‰ª∂Ôºå‰ªñÂÖ∂‰∏≠ÂåÖÂê´‰∫ÜÂæàÂ§öÁöÑÂÖ≥ÈîÆÁ±ªÔºåÂÖ∂‰∏≠‰∏Ä‰∏™ÈáçË¶ÅÁªÑÊàêÈÉ®ÂàÜÂ∞±ÊòØÂÆö‰πâ‰∫ÜËµÑÊ∫êÔºàResourceÔºâÁöÑËÆøÈóÆÊñπÂºè„ÄÇËøôÁßçÊääÊâÄÊúâËµÑÊ∫êÈÉΩÊäΩË±°Êàê‰∏Ä‰∏™Êé•Âè£ÁöÑÊñπÂºèÂæàÂÄºÂæóÂú®‰ª•ÂêéÁöÑËÆæËÆ°‰∏≠ÊãøÊù•Â≠¶‰π†„ÄÇ‰∏ãÈù¢Â∞±ÈáçË¶ÅÁúã‰∏Ä‰∏ãËøô‰∏™ÈÉ®ÂàÜÂú® Spring ÁöÑ‰ΩúÁî®„ÄÇÊàë‰ª¨ÈÄöËøá‰∏ãÂõæÔºà Resource Áõ∏ÂÖ≥ÁöÑÁ±ªÁªìÊûÑÂõæÔºâÊù•ÁêÜËß£Ôºö ‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂá∫ Resource Êé•Âè£Â∞ÅË£Ö‰∫ÜÂêÑÁßçÂèØËÉΩÁöÑËµÑÊ∫êÁ±ªÂûãÔºå‰πüÂ∞±ÊòØÂØπ‰ΩøÁî®ËÄÖÊù•ËØ¥Â±èËîΩ‰∫ÜÊñá‰ª∂Á±ªÂûãÁöÑ‰∏çÂêå„ÄÇÂØπËµÑÊ∫êÁöÑÊèê‰æõËÄÖÊù•ËØ¥ÔºåÂ¶Ç‰ΩïÊääËµÑÊ∫êÂåÖË£ÖËµ∑Êù•‰∫§ÁªôÂÖ∂‰ªñ‰∫∫Áî®Ëøô‰πüÊòØ‰∏Ä‰∏™ÈóÆÈ¢ò(ÊâÄ‰ª•‰∫ßÁîü‰∫ÜÂæàÂ§öÊñπÂºè)ÔºåÊàë‰ª¨ÁúãÂà∞ Resource Êé•Âè£ÁªßÊâø‰∫Ü InputStreamSource Êé•Âè£ÔºåËøô‰∏™Êé•Âè£‰∏≠Êúâ‰∏™ getInputStream ÊñπÊ≥ïÔºåËøîÂõûÁöÑÊòØ InputStream Á±ª„ÄÇËøôÊ†∑ÊâÄÊúâÁöÑËµÑÊ∫êÈÉΩË¢´ÂèØ‰ª•ÈÄöËøá InputStream Ëøô‰∏™Á±ªÊù•Ëé∑ÂèñÔºåÊâÄ‰ª•‰πüÂ±èËîΩ‰∫ÜËµÑÊ∫êÁöÑÊèê‰æõËÄÖ„ÄÇÂè¶Â§ñËøòÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØÂä†ËΩΩËµÑÊ∫êÁöÑÈóÆÈ¢òÔºå‰πüÂ∞±ÊòØËµÑÊ∫êÁöÑÂä†ËΩΩËÄÖË¶ÅÁªü‰∏ÄÔºå‰ªé‰∏äÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫Ëøô‰∏™‰ªªÂä°ÊòØÁî± ResourceLoader Êé•Âè£ÂÆåÊàêÔºå‰ªñÂ±èËîΩ‰∫ÜÊâÄÊúâÁöÑËµÑÊ∫êÂä†ËΩΩËÄÖÁöÑÂ∑ÆÂºÇÔºåÂè™ÈúÄË¶ÅÂÆûÁé∞Ëøô‰∏™Êé•Âè£Â∞±ÂèØ‰ª•Âä†ËΩΩÊâÄÊúâÁöÑËµÑÊ∫êÔºå‰ªñÁöÑÈªòËÆ§ÂÆûÁé∞ÊòØ DefaultResourceLoader„ÄÇ ÈÇ£Context Âíå Resource ÊòØÂ¶Ç‰ΩïÂª∫Á´ãÂÖ≥Á≥ªÁöÑÔºü‰∏ãÈù¢ÊòØ‰ªñ‰ª¨ÁöÑÁ±ªÂÖ≥Á≥ªÂõæÔºö ‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂá∫ÔºåContext ÊòØÊääËµÑÊ∫êÁöÑÂä†ËΩΩ„ÄÅËß£ÊûêÂíåÊèèËø∞Â∑•‰ΩúÂßîÊâòÁªô‰∫Ü ResourcePatternResolver Á±ªÊù•ÂÆåÊàêÔºå‰ªñÁõ∏ÂΩì‰∫é‰∏Ä‰∏™Êé•Â§¥‰∫∫Ôºå‰ªñÊääËµÑÊ∫êÁöÑÂä†ËΩΩ„ÄÅËß£ÊûêÂíåËµÑÊ∫êÁöÑÂÆö‰πâÊï¥ÂêàÂú®‰∏ÄËµ∑‰æø‰∫éÂÖ∂‰ªñÁªÑ‰ª∂‰ΩøÁî®„ÄÇCore ÁªÑ‰ª∂‰∏≠ËøòÊúâÂæàÂ§öÁ±ª‰ººÁöÑÊñπÂºè„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÂàÜÊûêJava WebÊäÄÊúØÂÜÖÂπï„Äã SpringÂ§öÁßçÂä†ËΩΩBeanÊñπÂºèËß£Êûê]]></content>
      <categories>
        <category>Ê∑±ÂÖ•SSM</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_Èò≤ÁÅ´Â¢ôÈÖçÁΩÆ]]></title>
    <url>%2F2018%2F04%2F09%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux-%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰øùÈöúÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄßÊòØÁªß‰øùÈöúÊï∞ÊçÆÁöÑÂèØÁî®ÊÄß‰πãÂêéÊúÄ‰∏∫ÈáçË¶ÅÁöÑ‰∏ÄÈ°πÂ∑•‰Ωú„ÄÇÈò≤ÁÅ´Â¢ô‰Ωú‰∏∫ÂÖ¨ÁΩë‰∏éÂÜÖÁΩë‰πãÈó¥ÁöÑ‰øùÊä§Â±èÈöúÔºåÂú®‰øùÈöúÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄßÊñπÈù¢Ëµ∑ÁùÄËá≥ÂÖ≥ÈáçË¶ÅÁöÑ‰ΩúÁî®„ÄÇ Èò≤ÁÅ´Â¢ôÁÆ°ÁêÜÂ∑•ÂÖ∑Âú®ÂÖ¨ÁΩë‰∏é‰ºÅ‰∏öÂÜÖÁΩë‰πãÈó¥ÂÖÖÂΩì‰øùÊä§Â±èÈöúÁöÑÈò≤ÁÅ´Â¢ôËôΩÁÑ∂ÊúâËΩØ‰ª∂ÊàñÁ°¨‰ª∂‰πãÂàÜÔºå‰ΩÜ‰∏ªË¶ÅÂäüËÉΩÈÉΩÊòØ ‰æùÊçÆÁ≠ñÁï•ÂØπÁ©øË∂äÈò≤ÁÅ´Â¢ôËá™Ë∫´ÁöÑÊµÅÈáèËøõË°åËøáÊª§„ÄÇ Èò≤ÁÅ´Â¢ôÁ≠ñÁï•ÂèØ‰ª•Âü∫‰∫éÊµÅÈáèÁöÑÊ∫êÁõÆÂú∞ÂùÄ„ÄÅÁ´ØÂè£Âè∑„ÄÅÂçèËÆÆ„ÄÅÂ∫îÁî®Á≠â‰ø°ÊÅØÊù•ÂÆöÂà∂ÔºåÁÑ∂ÂêéÈò≤ÁÅ´Â¢ô‰ΩøÁî®È¢ÑÂÖàÂÆöÂà∂ÁöÑÁ≠ñÁï•ËßÑÂàôÁõëÊéßÂá∫ÂÖ•ÁöÑÊµÅÈáèÔºåËã•ÊµÅÈáè‰∏éÊüê‰∏ÄÊù°Á≠ñÁï•ËßÑÂàôÁõ∏ÂåπÈÖçÔºåÂàôÊâßË°åÁõ∏Â∫îÁöÑÂ§ÑÁêÜÔºåÂèç‰πãÂàô‰∏¢ÂºÉ„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂ∞±ÂèØ‰ª•‰øùËØÅ‰ªÖÊúâÂêàÊ≥ïÁöÑÊµÅÈáèÂú®‰ºÅ‰∏öÂÜÖÁΩëÂíåÂ§ñÈÉ®ÂÖ¨ÁΩë‰πãÈó¥ÊµÅÂä®‰∫Ü„ÄÇ Âú®Centos 7Á≥ªÁªü‰∏≠ÔºåfirewalldÈò≤ÁÅ´Â¢ôÂèñ‰ª£‰∫ÜiptablesÈò≤ÁÅ´Â¢ô„ÄÇ‰ΩÜÊòØ iptables‰∏éfirewalldÈÉΩ‰∏çÊòØÁúüÊ≠£ÁöÑÈò≤ÁÅ´Â¢ô ÔºåÂÆÉ‰ª¨ÈÉΩÂè™ÊòØÁî®Êù•ÂÆö‰πâÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ÁöÑ Èò≤ÁÅ´Â¢ôÁÆ°ÁêÜÂ∑•ÂÖ∑ ËÄåÂ∑≤ÔºåÊàñËÄÖËØ¥ÔºåÂÆÉ‰ª¨Âè™ÊòØ‰∏ÄÁßç ÊúçÂä° „ÄÇiptablesÊúçÂä°‰ºöÊääÈÖçÁΩÆÂ•ΩÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•‰∫§Áî±ÂÜÖÊ†∏Â±ÇÈù¢ÁöÑnetfilterÁΩëÁªúËøáÊª§Âô®Êù•Â§ÑÁêÜÔºåËÄåfirewalldÊúçÂä°ÂàôÊòØÊääÈÖçÁΩÆÂ•ΩÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•‰∫§Áî±ÂÜÖÊ†∏Â±ÇÈù¢ÁöÑnftablesÂåÖËøáÊª§Ê°ÜÊû∂Êù•Â§ÑÁêÜ„ÄÇÊç¢Âè•ËØùËØ¥ÔºåÂΩìÂâçÂú®LinuxÁ≥ªÁªü‰∏≠ÂÖ∂ÂÆûÂ≠òÂú®Â§ö‰∏™Èò≤ÁÅ´Â¢ôÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÊó®Âú®Êñπ‰æøËøêÁª¥‰∫∫ÂëòÁÆ°ÁêÜLinuxÁ≥ªÁªü‰∏≠ÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÈÖçÁΩÆÂ¶•ÂΩìÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∏™Â∞±Ë∂≥Â§ü‰∫Ü„ÄÇËôΩÁÑ∂Ëøô‰∫õÂ∑•ÂÖ∑ÂêÑÊúâ‰ºòÂä£Ôºå‰ΩÜÂÆÉ‰ª¨Âú®Èò≤ÁÅ´Â¢ôÁ≠ñÁï•ÁöÑÈÖçÁΩÆÊÄùË∑Ø‰∏äÊòØ‰øùÊåÅ‰∏ÄËá¥ÁöÑ„ÄÇ IptablesÂú®Êó©ÊúüÁöÑLinuxÁ≥ªÁªü‰∏≠ÔºåÈªòËÆ§‰ΩøÁî®ÁöÑÊòØiptablesÈò≤ÁÅ´Â¢ôÁÆ°ÁêÜÊúçÂä°Êù•ÈÖçÁΩÆÈò≤ÁÅ´Â¢ô„ÄÇÂ∞ΩÁÆ°Êñ∞ÂûãÁöÑfirewalldÈò≤ÁÅ´Â¢ôÁÆ°ÁêÜÊúçÂä°Â∑≤ÁªèË¢´ÊäïÂÖ•‰ΩøÁî®Â§öÂπ¥Ôºå‰ΩÜÊòØÂ§ßÈáèÁöÑ‰ºÅ‰∏öÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠‰æùÁÑ∂Âá∫‰∫éÂêÑÁßçÂéüÂõ†ËÄåÁªßÁª≠‰ΩøÁî®iptables„ÄÇ Á≠ñÁï•‰∏éËßÑÂàôÈìæÈò≤ÁÅ´Â¢ô‰ºö‰ªé‰∏äËá≥‰∏ãÁöÑÈ°∫Â∫èÊù•ËØªÂèñÈÖçÁΩÆÁöÑÁ≠ñÁï•ËßÑÂàôÔºåÂú®ÊâæÂà∞ÂåπÈÖçÈ°πÂêéÂ∞±Á´ãÂç≥ÁªìÊùüÂåπÈÖçÂ∑•‰ΩúÂπ∂ÂéªÊâßË°åÂåπÈÖçÈ°π‰∏≠ÂÆö‰πâÁöÑË°å‰∏∫ÔºàÂç≥ÊîæË°åÊàñÈòªÊ≠¢Ôºâ„ÄÇÂ¶ÇÊûúÂú®ËØªÂèñÂÆåÊâÄÊúâÁöÑÁ≠ñÁï•ËßÑÂàô‰πãÂêéÊ≤°ÊúâÂåπÈÖçÈ°πÔºåÂ∞±ÂéªÊâßË°åÈªòËÆ§ÁöÑÁ≠ñÁï•„ÄÇ‰∏ÄËà¨ËÄåË®ÄÔºåÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ËßÑÂàôÁöÑËÆæÁΩÆÊúâ‰∏§ÁßçÔºö‰∏ÄÁßçÊòØ‚ÄúÈÄö‚ÄùÔºàÂç≥ÊîæË°åÔºâÔºå‰∏ÄÁßçÊòØ‚ÄúÂ†µ‚ÄùÔºàÂç≥ÈòªÊ≠¢Ôºâ„ÄÇÂΩìÈò≤ÁÅ´Â¢ôÁöÑÈªòËÆ§Á≠ñÁï•‰∏∫ÊãíÁªùÊó∂ÔºàÂ†µÔºâÔºåÂ∞±Ë¶ÅËÆæÁΩÆÂÖÅËÆ∏ËßÑÂàôÔºàÈÄöÔºâÔºåÂê¶ÂàôË∞ÅÈÉΩËøõ‰∏çÊù•ÔºõÂ¶ÇÊûúÈò≤ÁÅ´Â¢ôÁöÑÈªòËÆ§Á≠ñÁï•‰∏∫ÂÖÅËÆ∏Êó∂ÔºåÂ∞±Ë¶ÅËÆæÁΩÆÊãíÁªùËßÑÂàôÔºåÂê¶ÂàôË∞ÅÈÉΩËÉΩËøõÊù•Ôºå Èò≤ÁÅ´Â¢ô‰πüÂ∞±Â§±Âéª‰∫ÜÈò≤ËåÉÁöÑ‰ΩúÁî®„ÄÇ iptablesÊúçÂä°ÊääÁî®‰∫éÂ§ÑÁêÜÊàñËøáÊª§ÊµÅÈáèÁöÑÁ≠ñÁï•Êù°ÁõÆÁß∞‰πã‰∏∫ËßÑÂàôÔºåÂ§öÊù°ËßÑÂàôÂèØ‰ª•ÁªÑÊàê‰∏Ä‰∏™ËßÑÂàôÈìæÔºåËÄåËßÑÂàôÈìæÂàô‰æùÊçÆÊï∞ÊçÆÂåÖÂ§ÑÁêÜ‰ΩçÁΩÆÁöÑ‰∏çÂêåËøõË°åÂàÜÁ±ªÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö Âú®ËøõË°åË∑ØÁî±ÈÄâÊã©ÂâçÂ§ÑÁêÜÊï∞ÊçÆÂåÖÔºàPREROUTINGÔºâ Â§ÑÁêÜÊµÅÂÖ•ÁöÑÊï∞ÊçÆÂåÖÔºàINPUTÔºâ Â§ÑÁêÜÊµÅÂá∫ÁöÑÊï∞ÊçÆÂåÖÔºàOUTPUTÔºâ Â§ÑÁêÜËΩ¨ÂèëÁöÑÊï∞ÊçÆÂåÖÔºàFORWARDÔºâ Âú®ËøõË°åË∑ØÁî±ÈÄâÊã©ÂêéÂ§ÑÁêÜÊï∞ÊçÆÂåÖÔºàPOSTROUTINGÔºâ ‰∏ÄËà¨Êù•ËØ¥Ôºå‰ªéÂÜÖÁΩëÂêëÂ§ñÁΩëÂèëÈÄÅÁöÑÊµÅÈáè‰∏ÄËà¨ÈÉΩÊòØÂèØÊéß‰∏îËâØÊÄßÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨‰ΩøÁî®ÊúÄÂ§öÁöÑÂ∞±ÊòØINPUTËßÑÂàôÈìæÔºå ËØ•ËßÑÂàôÈìæÂèØ‰ª•Â¢ûÂ§ßÈªëÂÆ¢‰∫∫Âëò‰ªéÂ§ñÁΩëÂÖ•‰æµÂÜÖÁΩëÁöÑÈöæÂ∫¶„ÄÇ iptablesËøòÂèØ‰ª•ÈÄâÊã©ÈááÁî®‰ªÄ‰πàÊ†∑ÁöÑÂä®‰ΩúÊù•Â§ÑÁêÜËøô‰∫õÂåπÈÖçÁöÑÊµÅÈáèÔºåÊØîÂ¶Ç‚ÄúÂÖÅËÆ∏‚Äù„ÄÅ‚ÄúÊãíÁªù‚Äù„ÄÅ‚ÄúÁôªËÆ∞‚Äù„ÄÅ‚Äú‰∏çÁêÜÂÆÉ‚Äù„ÄÇËøô‰∫õÂä®‰ΩúÂØπÂ∫îÂà∞iptablesÊúçÂä°ÁöÑÊúØËØ≠‰∏≠ÂàÜÂà´ÊòØ ACCEPTÔºàÂÖÅËÆ∏ÊµÅÈáèÈÄöËøáÔºâ REJECTÔºàÊãíÁªùÊµÅÈáèÈÄöËøáÔºâÔºö LOGÔºàËÆ∞ÂΩïÊó•Âøó‰ø°ÊÅØÔºâ DROPÔºàÊãíÁªùÊµÅÈáèÈÄöËøáÔºâ„ÄÇ ‚ÄúÂÖÅËÆ∏ÊµÅÈáèÈÄöËøá‚ÄùÂíå‚ÄúËÆ∞ÂΩïÊó•Âøó‰ø°ÊÅØ‚ÄùÈÉΩÊØîËæÉÂ•ΩÁêÜËß£ÔºåËøôÈáåÈúÄË¶ÅÁùÄÈáçËÆ≤Ëß£ÁöÑÊòØREJECTÂíåDROPÁöÑ‰∏çÂêåÁÇπ„ÄÇÂ∞±DROPÊù•ËØ¥ÔºåÂÆÉÊòØÁõ¥Êé•Â∞ÜÊµÅÈáè‰∏¢ÂºÉËÄå‰∏î‰∏çÂìçÂ∫îÔºõREJECTÂàô‰ºöÂú®ÊãíÁªùÊµÅÈáèÂêéÂÜçÂõûÂ§ç‰∏ÄÊù°‚ÄúÊÇ®ÁöÑ‰ø°ÊÅØÂ∑≤ÁªèÊî∂Âà∞Ôºå‰ΩÜÊòØË¢´ÊâîÊéâ‰∫Ü‚Äù‰ø°ÊÅØÔºå‰ªéËÄåËÆ©ÊµÅÈáèÂèëÈÄÅÊñπÊ∏ÖÊô∞Âú∞ÁúãÂà∞Êï∞ÊçÆË¢´ÊãíÁªùÁöÑÂìçÂ∫î‰ø°ÊÅØ„ÄÇ Âü∫Êú¨‰ΩøÁî®iptablesÊòØ‰∏ÄÊ¨æÂü∫‰∫éÂëΩ‰ª§Ë°åÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÂØπ‰∫éÊó•Â∏∏ÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ÈÖçÁΩÆÊù•ËÆ≤ÔºåÂè™ÈúÄË¶ÅÊéåÊè°Â∏∏Áî®ÁöÑÂèÇÊï∞Âπ∂ÂÅöÂà∞ÁÅµÊ¥ªÊê≠ÈÖçÂç≥ÂèØÔºåËøôÂ∞±Ë∂≥‰ª•Â∫îÂØπÊó•Â∏∏Â∑•‰Ωú‰∫Ü„ÄÇ iptablesÂëΩ‰ª§ÂèØ‰ª•Ê†πÊçÆÊµÅÈáèÁöÑÊ∫êÂú∞ÂùÄ„ÄÅÁõÆÁöÑÂú∞ÂùÄ„ÄÅ‰º†ËæìÂçèËÆÆ„ÄÅÊúçÂä°Á±ªÂûãÁ≠â‰ø°ÊÅØËøõË°åÂåπÈÖçÔºå‰∏ÄÊó¶ÂåπÈÖçÊàêÂäüÔºåiptablesÂ∞±‰ºöÊ†πÊçÆÁ≠ñÁï•ËßÑÂàôÊâÄÈ¢ÑËÆæÁöÑÂä®‰ΩúÊù•Â§ÑÁêÜËøô‰∫õÊµÅÈáè„ÄÇÂè¶Â§ñÔºåÂÜçÊ¨°ÊèêÈÜí‰∏Ä‰∏ãÔºåÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ËßÑÂàôÁöÑÂåπÈÖçÈ°∫Â∫èÊòØ‰ªé‰∏äËá≥‰∏ãÁöÑÔºåÂõ†Ê≠§Ë¶ÅÊääËæÉ‰∏∫‰∏•Ê†º„ÄÅ‰ºòÂÖàÁ∫ßËæÉÈ´òÁöÑÁ≠ñÁï•ËßÑÂàôÊîæÂà∞ÂâçÈù¢Ôºå‰ª•ÂÖçÂèëÁîüÈîôËØØ„ÄÇ‰∏ãË°®ÊÄªÁªìÂΩíÁ∫≥‰∫ÜÂ∏∏Áî®ÁöÑiptablesÂëΩ‰ª§ÂèÇÊï∞Ôºö ÂèÇÊï∞ ‰ΩúÁî® -P ËÆæÁΩÆÈªòËÆ§Á≠ñÁï• -F Ê∏ÖÁ©∫ËßÑÂàôÈìæ -L Êü•ÁúãËßÑÂàôÈìæ -A Âú®ËßÑÂàôÈìæÁöÑÊú´Â∞æÂä†ÂÖ•Êñ∞ËßÑÂàô -I num Âú®ËßÑÂàôÈìæÁöÑÂ§¥ÈÉ®Âä†ÂÖ•Êñ∞ËßÑÂàô -D num Âà†Èô§Êüê‰∏ÄÊù°ËßÑÂàô -s ÂåπÈÖçÊù•Ê∫êÂú∞ÂùÄIP/MASKÔºåÂä†ÂèπÂè∑‚Äú!‚ÄùË°®Á§∫Èô§Ëøô‰∏™IPÂ§ñ -d ÂåπÈÖçÁõÆÊ†áÂú∞ÂùÄ -i ÁΩëÂç°ÂêçÁß∞ ÂåπÈÖç‰ªéËøôÂùóÁΩëÂç°ÊµÅÂÖ•ÁöÑÊï∞ÊçÆ -o ÁΩëÂç°ÂêçÁß∞ ÂåπÈÖç‰ªéËøôÂùóÁΩëÂç°ÊµÅÂá∫ÁöÑÊï∞ÊçÆ -p ÂåπÈÖçÂçèËÆÆÔºåÂ¶ÇTCP„ÄÅUDP„ÄÅICMP ‚Äìdport num ÂåπÈÖçÁõÆÊ†áÁ´ØÂè£Âè∑ ‚Äìsport num ÂåπÈÖçÊù•Ê∫êÁ´ØÂè£Âè∑ ËåÉ‰æãÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738// 1. Êü•ÁúãÂ∑≤ÊúâÁöÑÈò≤ÁÅ´Â¢ôËßÑÂàôÈìæiptables -L// 2. Ê∏ÖÁ©∫Â∑≤ÊúâÁöÑÈò≤ÁÅ´Â¢ôËßÑÂàôÈìæiptables -F// 3. ÊääINPUTËßÑÂàôÈìæÁöÑÈªòËÆ§Á≠ñÁï•ËÆæÁΩÆ‰∏∫ÊãíÁªù(ËßÑÂàôÈìæÁöÑÈªòËÆ§Á≠ñÁï•ÊãíÁªùÂä®‰ΩúÂè™ËÉΩÊòØDROPÔºåËÄå‰∏çËÉΩÊòØREJECT)// ÁâπÂà´Ê≥®ÊÑèÔºåÂ¶ÇÊûú‰Ω†ÊòØÂú®‰∫ëÊúçÂä°‰∏äÂÅöÂÆûÈ™åÔºåÂçÉ‰∏á‰∏çË¶ÅËøôÊ†∑ÂÅöÔºåÂõ†‰∏∫ÂÆÉ‰ºöÁî±‰∫éÈò≤ÁÅ´Â¢ôÊñ≠ÂºÄ‰Ω†ÁöÑsshËøûÊé•ÔºåÂè™ËÉΩÂà∞ÊéßÂà∂Âè∞ÁôªÂΩï‰øÆÊîπ„ÄÇiptables -P INPUT DROP// 4. ÂêëINPUTÈìæ‰∏≠Ê∑ªÂä†ÊãíÁªùICMPÊµÅÈáèËøõÂÖ•ÁöÑÁ≠ñÁï•ËßÑÂàôiptables -I INPUT -p icmp -j DROP// 5. Âà†Èô§INPUTËßÑÂàôÈìæ‰∏≠ÂàöÂàöÂä†ÂÖ•ÁöÑÈÇ£Êù°Á≠ñÁï•ÔºàÂÖÅËÆ∏ICMPÊµÅÈáèÔºâiptables -D INPUT 1// 6. Â∞ÜINPUTËßÑÂàôÈìæËÆæÁΩÆ‰∏∫Âè™ÂÖÅËÆ∏ÊåáÂÆöÁΩëÊÆµÁöÑ‰∏ªÊú∫ËÆøÈóÆÊú¨Êú∫ÁöÑ22Á´ØÂè£ÔºåÊãíÁªùÊù•Ëá™ÂÖ∂‰ªñÊâÄÊúâ‰∏ªÊú∫ÁöÑÊµÅÈáèiptables -I INPUT -s 192.168.10.0/24 -p tcp --dport 22 -j ACCEPT// 7. ÂêëINPUTËßÑÂàôÈìæ‰∏≠Ê∑ªÂä†ÊãíÁªùÊâÄÊúâ‰∫∫ËÆøÈóÆÊú¨Êú∫12345Á´ØÂè£ÁöÑÁ≠ñÁï•ËßÑÂàôiptables -I INPUT -p tcp --dport 12345 -j REJECT// 8. ÂêëINPUTËßÑÂàôÈìæ‰∏≠Ê∑ªÂä†ÊãíÁªù192.168.10.5‰∏ªÊú∫ËÆøÈóÆÊú¨Êú∫80Á´ØÂè£ÔºàWebÊúçÂä°ÔºâÁöÑÁ≠ñÁï•ËßÑÂàôiptables -I INPUT -p tcp -s 192.168.10.5 --dport 80 -j REJECT// 9. ÂêëINPUTËßÑÂàôÈìæ‰∏≠Ê∑ªÂä†ÊãíÁªùÊâÄÊúâ‰∏ªÊú∫ËÆøÈóÆÊú¨Êú∫1000ÔΩû1024Á´ØÂè£ÁöÑÁ≠ñÁï•ËßÑÂàôiptables -A INPUT -p tcp --dport 1000:1024 -j REJECT// 10. ‰ΩøÁî®iptablesÂëΩ‰ª§ÈÖçÁΩÆÁöÑÈò≤ÁÅ´Â¢ôËßÑÂàôÈªòËÆ§‰ºöÂú®Á≥ªÁªü‰∏ã‰∏ÄÊ¨°ÈáçÂêØÊó∂Â§±ÊïàÔºåÂ¶ÇÊûúÊÉ≥ËÆ©ÈÖçÁΩÆÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•Ê∞∏‰πÖÁîüÊïàÔºåËøòË¶ÅÊâßË°å// ‰øùÂ≠òÂëΩ‰ª§Ôºöservice iptables save// Â¶ÇÊûúÂá∫Áé∞The service command supports only basic LSB actions (start, stop, restart, try-restart, reload, force-reload, status). For other actions, please try to use systemctl.ÈúÄË¶ÅÂ¶Ç‰∏ãÊìç‰ΩúÔºöyum install iptables-services // ÂÆâË£ÖÊúçÂä°systemctl enable iptables // ËÆæÁΩÆÂºÄÊú∫ÂêØÂä®iptablessystemctl start iptables //ÊâìÂºÄiptablesÁÑ∂ÂêéÊâßË°åÂ∞±ÂèØ‰ª•‰∫Ü FirewalldCentos7Á≥ªÁªü‰∏≠ÈõÜÊàê‰∫ÜÂ§öÊ¨æÈò≤ÁÅ´Â¢ôÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÂÖ∂‰∏≠firewalldÔºàDynamic Firewall Manager of Linux systemsÔºåLinuxÁ≥ªÁªüÁöÑÂä®ÊÄÅÈò≤ÁÅ´Â¢ôÁÆ°ÁêÜÂô®ÔºâÊúçÂä°ÊòØÈªòËÆ§ÁöÑÈò≤ÁÅ´Â¢ôÈÖçÁΩÆÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÂÆÉÊã•ÊúâÂü∫‰∫éCLIÔºàÂëΩ‰ª§Ë°åÁïåÈù¢ÔºâÂíåÂü∫‰∫éGUIÔºàÂõæÂΩ¢Áî®Êà∑ÁïåÈù¢ÔºâÁöÑ‰∏§ÁßçÁÆ°ÁêÜÊñπÂºè„ÄÇ‰ΩÜÊòØÊàë‰ª¨Âè™‰ªãÁªçÂëΩ‰ª§Ë°åÁïåÈù¢„ÄÇ Âå∫ÂüüZoneÁõ∏ËæÉ‰∫é‰º†ÁªüÁöÑÈò≤ÁÅ´Â¢ôÁÆ°ÁêÜÈÖçÁΩÆÂ∑•ÂÖ∑ÔºåfirewalldÊîØÊåÅÂä®ÊÄÅÊõ¥Êñ∞ÊäÄÊúØÂπ∂Âä†ÂÖ•‰∫ÜÂå∫ÂüüÔºàzoneÔºâÁöÑÊ¶ÇÂøµ„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåÂå∫ÂüüÂ∞±ÊòØfirewalldÈ¢ÑÂÖàÂáÜÂ§á‰∫ÜÂá†Â•óÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ÈõÜÂêàÔºàÁ≠ñÁï•Ê®°ÊùøÔºâÔºåÁî®Êà∑ÂèØ‰ª•Ê†πÊçÆÁîü‰∫ßÂú∫ÊôØÁöÑ‰∏çÂêåËÄåÈÄâÊã©ÂêàÈÄÇÁöÑÁ≠ñÁï•ÈõÜÂêàÔºå‰ªéËÄåÂÆûÁé∞Èò≤ÁÅ´Â¢ôÁ≠ñÁï•‰πãÈó¥ÁöÑÂø´ÈÄüÂàáÊç¢„ÄÇ‰ªéËÄåÊûÅÂ§ßÂú∞ÊèêÂçá‰∫ÜÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ÁöÑÂ∫îÁî®ÊïàÁéá„ÄÇfirewalld‰∏≠Â∏∏ËßÅÁöÑÂå∫ÂüüÂêçÁß∞ÔºàÈªòËÆ§‰∏∫publicÔºâ‰ª•ÂèäÁõ∏Â∫îÁöÑÁ≠ñÁï•ËßÑÂàôÂ¶Ç‰∏ãË°®ÊâÄÁ§∫Ôºö Âå∫Âüü ÈªòËÆ§ËßÑÂàôÁ≠ñÁï• trusted ÂÖÅËÆ∏ÊâÄÊúâÁöÑÊï∞ÊçÆÂåÖ home ÊãíÁªùÊµÅÂÖ•ÁöÑÊµÅÈáèÔºåÈô§Èùû‰∏éÊµÅÂá∫ÁöÑÊµÅÈáèÁõ∏ÂÖ≥ÔºõËÄåÂ¶ÇÊûúÊµÅÈáè‰∏éssh„ÄÅmdns„ÄÅipp-client„ÄÅamba-client‰∏édhcpv6-clientÊúçÂä°Áõ∏ÂÖ≥ÔºåÂàôÂÖÅËÆ∏ÊµÅÈáè internal Á≠âÂêå‰∫éhomeÂå∫Âüü work ÊãíÁªùÊµÅÂÖ•ÁöÑÊµÅÈáèÔºåÈô§Èùû‰∏éÊµÅÂá∫ÁöÑÊµÅÈáèÊï∞Áõ∏ÂÖ≥ÔºõËÄåÂ¶ÇÊûúÊµÅÈáè‰∏éssh„ÄÅipp-client‰∏édhcpv6-clientÊúçÂä°Áõ∏ÂÖ≥ÔºåÂàôÂÖÅËÆ∏ÊµÅÈáè public ÊãíÁªùÊµÅÂÖ•ÁöÑÊµÅÈáèÔºåÈô§Èùû‰∏éÊµÅÂá∫ÁöÑÊµÅÈáèÁõ∏ÂÖ≥ÔºõËÄåÂ¶ÇÊûúÊµÅÈáè‰∏éssh„ÄÅdhcpv6-clientÊúçÂä°Áõ∏ÂÖ≥ÔºåÂàôÂÖÅËÆ∏ÊµÅÈáè external ÊãíÁªùÊµÅÂÖ•ÁöÑÊµÅÈáèÔºåÈô§Èùû‰∏éÊµÅÂá∫ÁöÑÊµÅÈáèÁõ∏ÂÖ≥ÔºõËÄåÂ¶ÇÊûúÊµÅÈáè‰∏ésshÊúçÂä°Áõ∏ÂÖ≥ÔºåÂàôÂÖÅËÆ∏ÊµÅÈáè dmz ÊãíÁªùÊµÅÂÖ•ÁöÑÊµÅÈáèÔºåÈô§Èùû‰∏éÊµÅÂá∫ÁöÑÊµÅÈáèÁõ∏ÂÖ≥ÔºõËÄåÂ¶ÇÊûúÊµÅÈáè‰∏ésshÊúçÂä°Áõ∏ÂÖ≥ÔºåÂàôÂÖÅËÆ∏ÊµÅÈáè block ÊãíÁªùÊµÅÂÖ•ÁöÑÊµÅÈáèÔºåÈô§Èùû‰∏éÊµÅÂá∫ÁöÑÊµÅÈáèÁõ∏ÂÖ≥ drop ÊãíÁªùÊµÅÂÖ•ÁöÑÊµÅÈáèÔºåÈô§Èùû‰∏éÊµÅÂá∫ÁöÑÊµÅÈáèÁõ∏ÂÖ≥ Âü∫Êú¨‰ΩøÁî®Ôºöfirewall-cmdfirewall-cmdÊòØfirewalldÈò≤ÁÅ´Â¢ôÈÖçÁΩÆÁÆ°ÁêÜÂ∑•ÂÖ∑ÁöÑCLIÔºàÂëΩ‰ª§Ë°åÁïåÈù¢ÔºâÁâàÊú¨„ÄÇÂÆÉÁöÑÂèÇÊï∞‰∏ÄËà¨ÈÉΩÊòØ‰ª•‚ÄúÈïøÊ†ºÂºè‚ÄùÊù•Êèê‰æõÁöÑÔºå‰ΩÜÊòØCentos7ÊîØÊåÅÈÉ®ÂàÜÂëΩ‰ª§ÁöÑÂèÇÊï∞Ë°•ÈΩêÔºåÂÖ∂‰∏≠Â∞±ÂåÖÂê´ËøôÊù°ÂëΩ‰ª§ÔºåÁæéÊªãÊªã„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÁé∞Âú®Èô§‰∫ÜËÉΩÁî®TabÈîÆËá™Âä®Ë°•ÈΩêÂëΩ‰ª§ÊàñÊñá‰ª∂ÂêçÁ≠âÂÜÖÂÆπ‰πãÂ§ñÔºåËøòÂèØ‰ª•Áî®TabÈîÆÊù•Ë°•ÈΩê‰∏ãË°®‰∏≠ÊâÄÁ§∫ÁöÑÈïøÊ†ºÂºèÂèÇÊï∞‰∫ÜÔºö ÂèÇÊï∞ ‰ΩúÁî® ‚Äìget-default-zone Êü•ËØ¢ÈªòËÆ§ÁöÑÂå∫ÂüüÂêçÁß∞ ‚Äìset-default-zone=&lt;Âå∫ÂüüÂêçÁß∞&gt; ËÆæÁΩÆÈªòËÆ§ÁöÑÂå∫ÂüüÔºå‰ΩøÂÖ∂Ê∞∏‰πÖÁîüÊïà ‚Äìget-zones ÊòæÁ§∫ÂèØÁî®ÁöÑÂå∫Âüü ‚Äìget-services ÊòæÁ§∫È¢ÑÂÖàÂÆö‰πâÁöÑÊúçÂä° ‚Äìget-active-zones ÊòæÁ§∫ÂΩìÂâçÊ≠£Âú®‰ΩøÁî®ÁöÑÂå∫Âüü‰∏éÁΩëÂç°ÂêçÁß∞ ‚Äìremove-source= Â∞ÜÊ∫êËá™Ê≠§IPÊàñÂ≠êÁΩëÁöÑÊµÅÈáèÂØºÂêëÊåáÂÆöÁöÑÂå∫Âüü ‚Äìremove-source= ‰∏çÂÜçÂ∞ÜÊ∫êËá™Ê≠§IPÊàñÂ≠êÁΩëÁöÑÊµÅÈáèÂØºÂêëÊüê‰∏™ÊåáÂÆöÂå∫Âüü ‚Äìadd-interface=&lt;ÁΩëÂç°ÂêçÁß∞&gt; Â∞ÜÊ∫êËá™ËØ•ÁΩëÂç°ÁöÑÊâÄÊúâÊµÅÈáèÈÉΩÂØºÂêëÊüê‰∏™ÊåáÂÆöÂå∫Âüü ‚Äìchange-interface=&lt;ÁΩëÂç°ÂêçÁß∞&gt; Â∞ÜÊüê‰∏™ÁΩëÂç°‰∏éÂå∫ÂüüËøõË°åÂÖ≥ËÅî ‚Äìlist-all ÊòæÁ§∫ÂΩìÂâçÂå∫ÂüüÁöÑÁΩëÂç°ÈÖçÁΩÆÂèÇÊï∞„ÄÅËµÑÊ∫ê„ÄÅÁ´ØÂè£‰ª•ÂèäÊúçÂä°Á≠â‰ø°ÊÅØ ‚Äìlist-all-zones ÊòæÁ§∫ÊâÄÊúâÂå∫ÂüüÁöÑÁΩëÂç°ÈÖçÁΩÆÂèÇÊï∞„ÄÅËµÑÊ∫ê„ÄÅÁ´ØÂè£‰ª•ÂèäÊúçÂä°Á≠â‰ø°ÊÅØ ‚Äìadd-service=&lt;ÊúçÂä°Âêç&gt; ËÆæÁΩÆÈªòËÆ§Âå∫ÂüüÂÖÅËÆ∏ËØ•ÊúçÂä°ÁöÑÊµÅÈáè ‚Äìadd-port=&lt;Á´ØÂè£Âè∑/ÂçèËÆÆ&gt; ËÆæÁΩÆÈªòËÆ§Âå∫ÂüüÂÖÅËÆ∏ËØ•Á´ØÂè£ÁöÑÊµÅÈáè ‚Äìremove-service=&lt;ÊúçÂä°Âêç&gt; ËÆæÁΩÆÈªòËÆ§Âå∫Âüü‰∏çÂÜçÂÖÅËÆ∏ËØ•ÊúçÂä°ÁöÑÊµÅÈáè ‚Äìremove-port=&lt;Á´ØÂè£Âè∑/ÂçèËÆÆ&gt; ËÆæÁΩÆÈªòËÆ§Âå∫Âüü‰∏çÂÜçÂÖÅËÆ∏ËØ•Á´ØÂè£ÁöÑÊµÅÈáè ‚Äìreload ËÆ©‚ÄúÊ∞∏‰πÖÁîüÊïà‚ÄùÁöÑÈÖçÁΩÆËßÑÂàôÁ´ãÂç≥ÁîüÊïàÔºåÂπ∂Ë¶ÜÁõñÂΩìÂâçÁöÑÈÖçÁΩÆËßÑÂàô ‚Äìpanic-on ÂºÄÂêØÂ∫îÊÄ•Áä∂ÂÜµÊ®°Âºè ‚Äìpanic-off ÂÖ≥Èó≠Â∫îÊÄ•Áä∂ÂÜµÊ®°Âºè ‰∏éLinuxÁ≥ªÁªü‰∏≠ÂÖ∂‰ªñÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ÈÖçÁΩÆÂ∑•ÂÖ∑‰∏ÄÊ†∑Ôºå‰ΩøÁî®firewalldÈÖçÁΩÆÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ÈªòËÆ§‰∏∫ËøêË°åÊó∂ÔºàRuntimeÔºâÊ®°ÂºèÔºåÂèàÁß∞‰∏∫ÂΩìÂâçÁîüÊïàÊ®°ÂºèÔºåËÄå‰∏îÈöèÁùÄÁ≥ªÁªüÁöÑÈáçÂêØ‰ºöÂ§±Êïà„ÄÇÂ¶ÇÊûúÊÉ≥ËÆ©ÈÖçÁΩÆÁ≠ñÁï•‰∏ÄÁõ¥Â≠òÂú®ÔºåÂ∞±ÈúÄË¶Å‰ΩøÁî®Ê∞∏‰πÖÔºàPermanentÔºâÊ®°Âºè‰∫ÜÔºåÊñπÊ≥ïÂ∞±ÊòØÂú®Áî®firewall-cmdÂëΩ‰ª§Ê≠£Â∏∏ËÆæÁΩÆÈò≤ÁÅ´Â¢ôÁ≠ñÁï•Êó∂Ê∑ªÂä†‚ÄìpermanentÂèÇÊï∞ÔºåËøôÊ†∑ÈÖçÁΩÆÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•Â∞±ÂèØ‰ª•Ê∞∏‰πÖÁîüÊïà‰∫Ü„ÄÇ‰ΩÜÊòØ‰ΩøÁî®Ê∞∏‰πÖÁîüÊïàÊ®°ÂºèËÆæÁΩÆÁöÑÁ≠ñÁï•Âè™ÊúâÂú®Á≥ªÁªüÈáçÂêØ‰πãÂêéÊâçËÉΩËá™Âä®ÁîüÊïà„ÄÇÂ¶ÇÊûúÊÉ≥ËÆ©ÈÖçÁΩÆÁöÑÁ≠ñÁï•Á´ãÂç≥ÁîüÊïàÔºåÈúÄË¶ÅÊâãÂä®ÊâßË°åfirewall-cmd ‚ÄìreloadÂëΩ‰ª§„ÄÇ ‰ΩøÁî®ËåÉ‰æãÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344// 1. Êü•ÁúãfirewalldÊúçÂä°ÂΩìÂâçÊâÄ‰ΩøÁî®ÁöÑÂå∫Âüüfirewall-cmd --get-default-zone// 2. Êü•ËØ¢eth0ÁΩëÂç°Âú®firewalldÊúçÂä°‰∏≠ÁöÑÂå∫Âüüfirewall-cmd --get-zone-of-interface=eth0// 3. ÊääfirewalldÊúçÂä°‰∏≠eth0ÁΩëÂç°ÁöÑÈªòËÆ§Âå∫Âüü‰øÆÊîπ‰∏∫externalÔºåÂπ∂Âú®Á≥ªÁªüÈáçÂêØÂêéÁîüÊïà„ÄÇ// ÂàÜÂà´Êü•ÁúãÂΩìÂâç‰∏éÊ∞∏‰πÖÊ®°Âºè‰∏ãÁöÑÂå∫ÂüüÂêçÁß∞Ôºöfirewall-cmd --permanent --zone=external --change-interface=eth0firewall-cmd --get-zone-of-interface=eth0firewall-cmd --permanent --get-zone-of-interface=eth0// 4. ÊääfirewalldÊúçÂä°ÁöÑÂΩìÂâçÈªòËÆ§Âå∫ÂüüËÆæÁΩÆ‰∏∫publicfirewall-cmd --set-default-zone=public// 5. ÂêØÂä®/ÂÖ≥Èó≠firewalldÈò≤ÁÅ´Â¢ôÊúçÂä°ÁöÑÂ∫îÊÄ•Áä∂ÂÜµÊ®°ÂºèÔºåÈòªÊñ≠‰∏ÄÂàáÁΩëÁªúËøûÊé•ÔºàÂΩìËøúÁ®ãÊéßÂà∂ÊúçÂä°Âô®Êó∂ËØ∑ÊÖéÁî®Ôºâfirewall-cmd --panic-onfirewall-cmd --panic-off// 6. Êü•ËØ¢publicÂå∫ÂüüÊòØÂê¶ÂÖÅËÆ∏ËØ∑Ê±ÇSSHÂíåHTTPSÂçèËÆÆÁöÑÊµÅÈáèfirewall-cmd --zone=public --query-service=sshfirewall-cmd --zone=public --query-service=https// 7. ÊääfirewalldÊúçÂä°‰∏≠ËØ∑Ê±ÇHTTPSÂçèËÆÆÁöÑÊµÅÈáèËÆæÁΩÆ‰∏∫Ê∞∏‰πÖÂÖÅËÆ∏ÔºåÂπ∂Á´ãÂç≥ÁîüÊïàfirewall-cmd --zone=public --add-service=httpsfirewall-cmd --permanent --zone=public --add-service=httpsfirewall-cmd --reload// 8. ÊääfirewalldÊúçÂä°‰∏≠ËØ∑Ê±ÇHTTPÂçèËÆÆÁöÑÊµÅÈáèËÆæÁΩÆ‰∏∫Ê∞∏‰πÖÊãíÁªùÔºåÂπ∂Á´ãÂç≥ÁîüÊïàfirewall-cmd --permanent --zone=public --remove-service=httpfirewall-cmd --reload// 9. ÊääÂú®firewalldÊúçÂä°‰∏≠ËÆøÈóÆ8080Âíå8081Á´ØÂè£ÁöÑÊµÅÈáèÁ≠ñÁï•ËÆæÁΩÆ‰∏∫ÂÖÅËÆ∏Ôºå‰ΩÜ‰ªÖÈôêÂΩìÂâçÁîüÊïàfirewall-cmd --zone=public --add-port=8080-8081/tcp// 10. ÊääÂéüÊú¨ËÆøÈóÆÊú¨Êú∫888Á´ØÂè£ÁöÑÊµÅÈáèËΩ¨ÂèëÂà∞22Á´ØÂè£ÔºåË¶Å‰∏îÊ±ÇÂΩìÂâçÂíåÈïøÊúüÂùáÊúâÊïàfirewall-cmd --permanent --zone=public --add-forward-port=port=888:proto=tcp:toport=22:toaddr=192.168.10.10(ÁõÆÊ†áÂú∞ÂùÄ)firewall-cmd --reload// 11. firewalld‰∏≠ÁöÑÂØåËßÑÂàôË°®Á§∫Êõ¥ÁªÜËá¥„ÄÅÊõ¥ËØ¶ÁªÜÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•ÈÖçÁΩÆÔºå// ÂÆÉÂèØ‰ª•ÈíàÂØπÁ≥ªÁªüÊúçÂä°„ÄÅÁ´ØÂè£Âè∑„ÄÅÊ∫êÂú∞ÂùÄÂíåÁõÆÊ†áÂú∞ÂùÄÁ≠âËØ∏Â§ö‰ø°ÊÅØËøõË°åÊõ¥ÊúâÈíàÂØπÊÄßÁöÑÁ≠ñÁï•ÈÖçÁΩÆ„ÄÇ// ÂÆÉÁöÑ‰ºòÂÖàÁ∫ßÂú®ÊâÄÊúâÁöÑÈò≤ÁÅ´Â¢ôÁ≠ñÁï•‰∏≠‰πüÊòØÊúÄÈ´òÁöÑ„ÄÇÊØîÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•Âú®firewalldÊúçÂä°‰∏≠ÈÖçÁΩÆ‰∏ÄÊù°ÂØåËßÑÂàôÔºå‰ΩøÂÖ∂ÊãíÁªù192.168.10.0/24ÁΩëÊÆµÁöÑÊâÄÊúâÁî®Êà∑ËÆøÈóÆÊú¨Êú∫ÁöÑsshÊúçÂä°Ôºà22Á´ØÂè£ÔºâÔºöfirewall-cmd --permanent --zone=public --add-rich-rule=&quot;rule family=&quot;ipv4&quot; \source address=&quot;192.168.10.0/24&quot; service name=&quot;ssh&quot; reject&quot; ÂèÇËÄÉ iptables‰∏éfirewalldÈò≤ÁÅ´Â¢ô]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_Linux‰∏≠Â∏∏Áî®ÁöÑÁΩëÁªúÂëΩ‰ª§]]></title>
    <url>%2F2018%2F04%2F08%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_Linux%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöLinuxÁöÑÁΩëÁªúÂäüËÉΩÊòØÁõ∏ÂΩìÂº∫Â§ßÁöÑ„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂøÖÈ°ªË¶ÅÂ•ΩÂ•Ω‰∫ÜËß£ÂÆÉÔºåËøôÈáåÊàë‰ª¨Âè™ÊòØ‰ªãÁªç‰∏Ä‰∏ãÂ∏∏Áî®ÁöÑÂëΩ‰ª§„ÄÇ ËÆæÁΩÆÁΩëÁªúÂèÇÊï∞ÁöÑÂëΩ‰ª§ipconfigifconfig‰∏ªË¶ÅÊòØÂèØ‰ª•ÈÉΩÊâãÂä®ÂêØÂä®„ÄÅÊü•Áúã‰∏é‰øÆÊîπÁΩëÁªúÊé•Âè£ÁöÑÁõ∏ÂÖ≥ÂèÇÊï∞ÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425// 1. Êü•ÁúãÊâÄÊúâÁΩëÁªúÊé•Âè£ifconfig// 2. Êü•Áúãeth0ÁΩëÂç°ifconfig eth0ËæìÂá∫Ôºöeth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 172.16.0.9 netmask 255.255.240.0 broadcast 172.16.15.255 ether 52:54:00:1c:91:2a txqueuelen 1000 (Ethernet) RX packets 15979545 bytes 1741444280 (1.6 GiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 15811187 bytes 2149680103 (2.0 GiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0* eth0ÔºöÂ∞±ÊòØÁΩëÁªúÂç°ÁöÑ‰ª£Âè∑Ôºå‰πüÊúâ lo Ëøô‰∏™ loopback* mtuÔºöÁΩëÁªúÊé•Âè£ÁöÑÊúÄÂ§ß‰º†ËæìÂçïÂÖÉ* inetÔºöIPv4 ÁöÑ IP Âú∞ÂùÄÔºåÂêéÁª≠ÊòØÂ≠êÁΩëÊé©Á†ÅÂíåÂπøÊí≠Âú∞ÂùÄ* RXÔºöÈÇ£‰∏ÄË°å‰ª£Ë°®ÁöÑÊòØÁΩëÁªúÁî±ÂêØÂä®Âà∞ÁõÆÂâç‰∏∫Ê≠¢ÁöÑÂ∞ÅÂåÖÊé•Êî∂ÊÉÖÂÜµÔºå packets ‰ª£Ë°®Â∞ÅÂåÖÊï∞„ÄÅerrors ‰ª£Ë°®Â∞ÅÂåÖÂèëÁîüÈîôËØØÁöÑÊï∞Èáè„ÄÅ dropped ‰ª£Ë°®Â∞ÅÂåÖÁî±‰∫éÊúâÈóÆÈ¢òËÄåÈÅ≠‰∏¢ÂºÉÁöÑÊï∞ÈáèÁ≠âÁ≠â* TXÔºö‰∏é RX Áõ∏ÂèçÔºå‰∏∫ÁΩëÁªúÁî±ÂêØÂä®Âà∞ÁõÆÂâç‰∏∫Ê≠¢ÁöÑ‰º†ÈÄÅÊÉÖÂÜµÔºõcollisionsÔºö‰ª£Ë°®Â∞ÅÂåÖÁ¢∞ÊíûÁöÑÊÉÖÂÜµÔºåÂ¶ÇÊûúÂèëÁîüÂ§™Â§öÊ¨°Ôºå Ë°®Á§∫ÊÇ®ÁöÑÁΩëÁªúÁä∂ÂÜµ‰∏çÂ§™Â•Ω// 3. ÊöÇÊó∂‰øÆÊîπÁΩëÁªúÊé•Âè£ÔºåÁªô‰∫àeth0‰∏Ä‰∏™192.168.100.100/24ÁöÑÂèÇÊï∞ifconfig eth0 192.168.100.100// 4. Â∞ÜÊâãÂä®ÁöÑÂ§ÑÁêÜÂÖ®ÈÉ®ÂèñÊ∂àÔºå‰ΩøÁî®ÂéüÊúâÁöÑËÆæÁΩÆÂÄºÈáçÁΩÆÁΩëÁªúÂèÇÊï∞/etc/init.d/network restart ÁΩëÁªúÊéíÈîô‰∏éÊü•ÁúãÂëΩ‰ª§pingËøô‰∏™ ping ÊòØÂæàÈáçË¶ÅÁöÑÊåá‰ª§Ôºåping ‰∏ªË¶ÅÈÄèËøá ICMPÔºàInternetÊéßÂà∂Êä•ÊñáÂçèËÆÆÔºâ Â∞ÅÂåÖÊù•ËøõË°åÊï¥‰∏™ÁΩëÁªúÁöÑÁä∂ÂÜµÊä•Âëä„ÄÇËåÉ‰æãÂ¶Ç‰∏ãÔºö12345678910111213141516// 1. Ê£ÄÊµã‰∏Ä‰∏ã168.95.1.1ËøôÈÉ®DNS‰∏ªÊú∫ÊòØÂê¶Â≠òÂú®(Â≠òÂú®‰∫éÁΩëÁªúÁéØÂ¢É‰∏≠)ping -c 3 168.95.1.1ËæìÂá∫ÔºöPING 168.95.1.1 (168.95.1.1) 56(84) bytes of data.64 bytes from 168.95.1.1: icmp_seq=1 ttl=239 time=69.9 ms64 bytes from 168.95.1.1: icmp_seq=2 ttl=239 time=70.4 ms64 bytes from 168.95.1.1: icmp_seq=3 ttl=239 time=69.9 ms--- 168.95.1.1 ping statistics ---3 packets transmitted, 3 received, 0% packet loss, time 2002msrtt min/avg/max/mdev = 69.920/70.119/70.467/0.328 ms// 2. ÊâæÂá∫ÊúÄÂ§ßÁöÑMTUÊï∞ÂÄº(Â¶ÇÊûúÊúâÂìçÂ∫îÔºåÈÇ£Â∞±ÊòØÂèØ‰ª•Êé•ÂèóËøô‰∏™Êï∞ÊçÆÂåÖÔºåÂ¶ÇÊûúÊó†ÂìçÂ∫îÔºåÂ∞±Ë°®Á§∫Ëøô‰∏™MTUÂ§™Â§ß‰∫Ü)ping -c 2 -s 1000 -M do 192.168.1.254 netstatÂ¶ÇÊûú‰Ω†ËßâÂæó‰Ω†ÁöÑÊüê‰∏™ÁΩëÁªúÊúçÂä°ÊòéÊòéÂ∞±ÂêØÂä®‰∫ÜÔºå‰ΩÜÊòØÂ∞±ÊòØÊó†Ê≥ïÈÄ†ÊàêËÅîÊú∫ÁöÑËØùÔºåË¶ÅÊü•ËØ¢‰∏Ä‰∏ãËá™Â∑±ÁöÑÁΩëÁªúÊé•Âè£ÊâÄÁõëÂê¨ÁöÑÁ´ØÂè£ (port) Êù•ÁúãÁúãÊòØÂê¶ÁúüÁöÑÊúâÂêØÂä®„ÄÇËåÉ‰æãÂ¶Ç‰∏ãÔºö1234567891011// 1. ÂàóÂá∫ÂΩìÂâçË∑ØÁî±Ë°®Áä∂ÊÄÅÔºå‰∏î‰ª•IPÂèäport numberËøõË°åÁ≥ªÈÇ£ÊòØnetstat -rn// 2. ÂàóÂá∫ÂΩìÂâçÁöÑÊâÄÊúâÁΩëÁªúËøûÊé•Áä∂ÊÄÅÔºå‰ΩøÁî®IP‰∏éport numbernetstat -an// 3. ÊòæÁ§∫ÁõÆÂâçÂ∑≤ÁªèÂêØÂä®ÁöÑÁΩëÁªúÊúçÂä°netstat -tulnp// 4. Êü•ÁúãÊú¨Êú∫‰∏äÊâÄÊúâÁöÑÁΩëÁªúËøûÊé•Áä∂ÊÄÅnetstat -atunp hostËøô‰∏™ÂëΩ‰ª§ÂèØ‰ª•Áî®Êù•Êü•Âá∫Êüê‰∏™‰∏ªÊú∫ÂêçÁöÑIPÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö12// 1. ÂàóÂá∫www.yahoo.comÁöÑIP(Âêë/etc/resolv.confÈáåÈù¢ËÆ∞ÂΩïÁöÑDNSÊúçÂä°Âô®Êü•ËØ¢IP)host www.yohoo.com nslookupÂäüËÉΩÂíåhost‰∏ÄÊ†∑ÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö 12345// 1. Êü•ËØ¢www.google.comÁöÑIPnslookup www.google.com// 2. ÊâæÂá∫168.95.1.1ÁöÑ‰∏ªÊú∫Âêç (Âª∫ËÆÆ‰ΩøÁî®dig)nslookup 168.95.1.1 ËøúÁ®ãËøûÊé•ÂëΩ‰ª§‰∏éÂç≥Êó∂ÈÄö‰ø°ËΩØ‰ª∂telnettelnetÊú¨Ë∫´Êï∞ÊçÆÁöÑÂú®‰º†ËæìËøáÁ®ã‰∏≠‰ΩøÁî®ÁöÑÊòØÊòéÊñáÔºåÊâÄ‰ª•Êï∞ÊçÆÂú®Internet‰∏äÈù¢‰º†ËæìÁöÑÊó∂ÂÄôÔºå‰ºöÊØîËæÉÂç±Èô©„ÄÇ‰ΩøÁî®ËåÉ‰æãÂ¶Ç‰∏ãÔºö123456// 1. ËøûÊé•Âà∞ÂΩìÂâçÁÉ≠Èó®ÁöÑPTT BBSÁ´ôÁÇπptt.ccyum install telnet // ÈªòËÆ§Ê≤°ÊúâÂÆâË£ÖÔºàËá™Â∑±Êú™ÊàêÂäüÔºâ// 2. Ê£ÄÊµãÊú¨Âú∞‰∏ªÊú∫ÁöÑ110Ëøô‰∏™portÊòØÂê¶Ê≠£Á°ÆÂêØÂä®,// Â¶ÇÊûúÂá∫Áé∞telnet: connect to address 127.0.0.1: Connection refusedÔºå‰ª£Ë°®Ëøô‰∏™portÊ≤°ÊúâÂêØÂä®ÊàñËÄÖËøô‰∏™ËøûÊé•ÊúâÈóÆÈ¢òtelnet localhost 22 ftpÁî®‰∫éÂ§ÑÁêÜftpÊúçÂä°Âô®ÁöÑ‰∏ãËΩΩÊï∞ÊçÆÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö12// 1. ËøûÊé•Âà∞‰∏Ä‰∏™ftpÊúçÂä°Âô®ftp ip //‰πãÂêéÂèØ‰ª•Âà©Áî®helpÊù•Â∏ÆÂä©Êìç‰Ωú ÊñáÂ≠óÊé•Âè£ÁΩëÈ°µÊµèËßàlinksÊúÄÂ§ßÁöÑÂäüËÉΩÂ∞±ÊòØÊü•ÈòÖLinuxÊú¨Êú∫‰∏äÈù¢‰ª•htmlËØ≠Ê≥ïÂÜôÊàêÁöÑÊñá‰ª∂Êï∞ÊçÆ„ÄÇÂÖ∑‰ΩìÊïàÊûúËá™Â∑±ÁúãÂêßÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö12// 1. ÊµèËßàLinux kernelÁΩëÁ´ôlinks http://www.kernel.org wget‰∏ªË¶ÅÁöÑÂäüËÉΩÊòØÂèñÂæóÁΩëÈ°µÊï∞ÊçÆ„ÄÇËåÉ‰æãÂ¶Ç‰∏ãÔºö123// 1. ‰∏ãËΩΩ 2.6.17 ÁâàÁöÑlinuxÂÜÖÊ†∏wget \http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.17.tar.gz ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_ËΩØ‰ª∂ÂÆâË£Ö]]></title>
    <url>%2F2018%2F04%2F08%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85-%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂΩì‰Ω†ÊãøÂà∞‰∏ÄÂè∞Êñ∞ÁîµËÑëÁöÑÁ¨¨‰∏ÄÂèçÂ∫îÊòØ‰ªÄ‰πàÔºåÂΩìÁÑ∂ÊòØË£ÖËΩØ‰ª∂ÔºåÁÑ∂ÂêéÂ•ΩÂ•ΩÁé©ÂëÄÔºÅÊúçÂä°Âô®‰πüÊòØÂ¶ÇÊ≠§ÔºåÊâÄ‰ª•‰Ω†ÂøÖÈ°ªÊéåÊè°ËΩØ‰ª∂ÁöÑÂÆâË£Ö„ÄÇ Ê∫êÁ†ÅÂÆâË£ÖÂºÄÊîæÊ∫êÁ†ÅÁöÑËΩØ‰ª∂ÂÆâË£ÖÁõ∏ÂÖ≥Ê¶ÇÂøµLinux‰∏äÂá†‰πéÊâÄÊúâÁöÑËΩØ‰ª∂ÈÉΩÁªèËøá‰∫ÜGPLÊéàÊùÉÔºåÂõ†Ê≠§Âá†‰πéÊâÄÊúâÁöÑËΩØ‰ª∂ÈÉΩ‰ºöÊèê‰æõÊ∫êÁ†Å„ÄÇËÄå‰∏Ä‰∏™ËΩØ‰ª∂Ë¶ÅÂú®Linux‰∏äÊâßË°åÔºåÂøÖÈ°ªÊòØ‰∫åËøõÂà∂Êñá‰ª∂ÔºåÂõ†Ê≠§ÂΩìÊàë‰ª¨ÊãøÂà∞ËΩØ‰ª∂Ê∫êÁ†ÅÂêéÔºåÈúÄË¶ÅÂ∞ÜÂÆÉÁºñËØëÊàê‰∫åËøõÂà∂Êñá‰ª∂ÊâçËÉΩÂú®Linux‰∏äËøêË°å„ÄÇ ÂºÄÊîæÊ∫êÁ†Å„ÄÅÁºñËØëÁ®ãÂ∫è„ÄÅÂèØÊâßË°åÊñá‰ª∂ ÂºÄÊîæÊ∫êÁ†ÅÔºöÂ∞±ÊòØÁ®ãÂ∫è‰ª£Á†ÅÔºåÂÜôÁªô‰∫∫Á±ªÁúãÁöÑËØ≠Ë®ÄÔºå‰ΩÜÊú∫Âô®Âπ∂‰∏çËÆ§ËØÜÔºåÊâÄ‰ª•Êó†Ê≥ïÊâßË°å„ÄÇ ÁºñËØëÁ®ãÂ∫èÔºöÂ∞ÜÁ®ãÂ∫è‰ª£Á†ÅËΩ¨ËØëÁß∞‰∏∫Êú∫Âô®ÁúãÂæóÊáÇÁöÑËØ≠Ë®Ä„ÄÇ ÂèØÊâßË°åÊñá‰ª∂ÔºöÁªèËøáÁºñËØëÁ®ãÂ∫èÂèòÊàê‰∫åËøõÂà∂Á®ãÂ∫èÂêéÔºåÊú∫Âô®ÁúãÂæóÊáÇÊâÄ‰ª•ÂèØÊâßË°åÁöÑÊñá‰ª∂„ÄÇ ÂáΩÂºèÂ∫ìÁ±ª‰ººÂ≠êÁ®ãÂ∫èÁöÑËßíËâ≤ÔºåÂèØ‰ª•Ë¢´ÂëºÂè´Êù•ÊâßË°åÁöÑ‰∏ÄÊÆµÂäüËÉΩÂáΩÊï∞„ÄÇ make‰∏éconfigure configure:‰æ¶ÊµãÁî®Êà∑Êìç‰ΩúÁéØÂ¢ÉÔºåÊòØÂê¶ÊîØÊåÅËΩØ‰ª∂ÁöÑËøêË°åÔºå‰æ¶ÊµãÂÆåÊØïÁîüÊàêmakefileÊñá‰ª∂ ÊòØÂê¶ÊúâÈÄÇÂêàÁöÑÁºñËØëÁ®ãÂ∫èÂèØ‰ª•ÁºñËØëÊú¨ËΩØ‰ª∂ÁöÑÁ®ãÂ∫è‰ª£Á†Å ÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®Êú¨ËΩØ‰ª∂ÊâÄÈúÄË¶ÅÁöÑÂáΩÊï∞Â∫ìÔºåÊàñÂÖ∂‰ªñÈúÄË¶ÅÁöÑÁõ∏‰æùËΩØ‰ª∂ Êìç‰ΩúÁ≥ªÁªüÂπ≥Âè∞ÊòØÂê¶ÈÄÇÂêàÊú¨ËΩØ‰ª∂ÔºåÂåÖÊã¨ Linux ÁöÑÊ†∏ÂøÉÁâàÊú¨ Ê†∏ÂøÉÁöÑÂ§¥Êñá‰ª∂ÂÆö‰πâÊ°£ (header include) ÊòØÂê¶Â≠òÂú® (È©±Âä®Á®ãÂ∫èÂøÖÈ°ªË¶ÅÁöÑ‰æ¶Êµã)„ÄÇ make:makeÊòØ‰∏Ä‰∏™Á®ãÂ∫èÔºå‰ºöÂéªÊâæmakefileÊñá‰ª∂ÔºåÁÑ∂ÂêéÊâßË°åÁºñËØë„ÄÇ tarballËΩØ‰ª∂tarballÊñá‰ª∂ÂÖ∂ÂÆûÂ∞±ÊòØÂ∞ÜËΩØ‰ª∂ÁöÑÊ∫êÁ†ÅÂÖà‰ª•tarÊâìÂåÖÔºåÁÑ∂ÂêéÂÜçÂéãÁº©„ÄÇÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™ËΩØ‰ª∂ÂåÖ„ÄÇÈÄöÂ∏∏Ëß£ÂéãÁº©‰πãÂêé‰ºöÂ≠òÂú®Ê∫ê‰ª£Á†ÅÊñá‰ª∂„ÄÅ‰æ¶ÊµãÁ®ãÂ∫èÊñá‰ª∂ÔºàconfigureÔºâ„ÄÅÊú¨ËΩØ‰ª∂ÁöÑÁÆÄÊòìËØ¥Êòé‰∏éÂÆâË£ÖËØ¥ÊòéÔºàREADMEÔºâ„ÄÇ TarballÁöÑÂÆâË£ÖÁöÑÂü∫Êú¨Ê≠•È™§ ÂèñÂæóÊ∫êÊñá‰ª∂ÔºöÂ∞ÜtarballÊñá‰ª∂Âú®/usr/local/srcÁõÆÂΩïËß£ÂéãÁº© ÂèñÂæóÊ≠•È™§ÊµÅÁ®ãÔºöËøõÂÖ•Êñ∞Âª∫Á´ãÁöÑÁõÆÂΩï‰∏ãÈù¢ÔºåÂéªÊü•ÈòÖINSTALL‰∏éREADMEÁ≠âÁõ∏ÂÖ≥Êñá‰ª∂ÂÜÖÂÆπÔºàÂæàÈáçË¶ÅÔºâ Áõ∏ÂÖ≥Â±ûÊÄßËΩØ‰ª∂ÂÆâË£ÖÔºöÊ†πÊçÆINSTALL/READMEÁöÑÂÜÖÂÆπÊü•ÁúãÂπ∂ÂÆâË£ÖÂ•Ω‰∏Ä‰∫õÁõ∏ÂÖ≥ÁöÑËΩØ‰ª∂ Âª∫Á´ãmakefileÊñá‰ª∂Ôºö‰ª•Ëá™Âä®Ê£ÄÊµãÁ®ãÂ∫èÔºàconfigureÔºâÊ£ÄÊµãÊìç‰ΩúÁéØÂ¢ÉÔºåÂπ∂Âª∫Á´ãMakefileÊñá‰ª∂ ÁºñËØëÔºö‰ª•makeËøô‰∏™Á®ãÂ∫èÂπ∂‰ΩøÁî®ËØ•ÁõÆÂΩï‰∏ãÂæóMakefile‰Ωú‰∏∫ÂÆÉÁöÑÂèÇÊï∞ÈÖçÁΩÆÊñá‰ª∂ÔºåÊù•ËøõË°åmakeÁöÑÊìç‰Ωú ÂÆâË£ÖÔºö‰ª•makeËøô‰∏™Á®ãÂ∫èÔºåÂπ∂‰ª•MakefileËøô‰∏™ÂèÇÊï∞ÈÖçÁΩÆÊñá‰ª∂Ôºå‰æùÊçÆinstallËøô‰∏™ÁõÆÊ†áÔºàÂú®MakefileÊñá‰ª∂‰∏≠‰ºöÊúâÂ§ö‰∏™Êìç‰ΩúÁõÆÊ†áÔºåÂ¶ÇcleanÔºâÁöÑÊåáÂÆöÊù•ÂÆâË£ÖÂà∞Ê≠£Á°ÆÂú∞Ë∑ØÂæÑ„ÄÇ TarballËΩØ‰ª∂ÂÆâË£ÖÁöÑÂª∫ËÆÆ‰∫ãÈ°πÂú®ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂéüÊú¨ÁöÑLinux distributionÂèëÂ∏ÉÂÆâË£ÖÁöÑËΩØ‰ª∂Â§ßÂ§öÊòØÂú®/usrÈáåÈù¢ÁöÑÔºåËÄåËá™Ë°åÂÆâË£ÖÁöÑËΩØ‰ª∂ÂàôÂª∫ËÆÆÊîæÁΩÆÂú®/usr/localÈáåÈù¢„ÄÇ linux distributionÈªòËÆ§ÁöÑÂÆâË£ÖËΩØ‰ª∂ÁöÑË∑ØÂæÑÂ¶Ç‰∏ãÔºå‰ª•httpd‰∏∫‰æãÔºö /etc/httpdÔºàÈÖçÁΩÆÊñá‰ª∂Ôºâ /usr/libÔºàÂáΩÊï∞Â∫ìÔºâ /usr/binÔºàÂèØÊâßË°åÊñá‰ª∂Ôºâ /usr/share/manÔºàÂú®Á∫øÂ∏ÆÂä©ÊñáÊ°£Ôºâ tarballÂÆâË£ÖÔºåÈªòËÆ§ÊîæÂú®/usr/localÔºåÂ¶Ç‰∏ãÁõÆÂΩïÔºöÔºàÂçáÁ∫ßÔºåÂà†Èô§‰∏çÊñπ‰æøÔºâ /usr/local/etc /usr/local/bin /usr/local/lib /usr/local/man tarballÂÆâË£ÖÔºå‰ΩÜÊòØÂçï‰∏ÄËΩØ‰ª∂ÈÉΩÂú®Âêå‰∏Ä‰∏™ÁõÆÂΩï‰∏ãÔºå‰ª•apache‰∏∫‰æãÔºöÔºàÂà©‰∫éÂà†Èô§ÔºåÂçáÁ∫ßÔºâ /usr/local/apache/etc /usr/local/apache/bin /usr/local/apache/lib /usr/local/apache/man ÂΩìÁÑ∂ÔºåÂÆûÈôÖÂÆâË£ÖÁöÑÊó∂ÂÄôËøòÊòØÂæóËßÜËØ•ËΩØ‰ª∂ÁöÑMakefileÈáåÂ§¥ÁöÑinstallÁõÆÊ†á‰ø°ÊÅØÊâçËÉΩÁü•ÈÅìÂÆâË£ÖË∑ØÂæÑÊÉÖÂÜµ„ÄÇ ‰∏∫‰∫ÜÊñπ‰æøTarballÁöÑÁÆ°ÁêÜÔºåËøôÊ†∑Âª∫ËÆÆÔºö ÊúÄÂ•ΩÂ∞ÜtarballÁöÑÂéüÂßãÊï∞ÊçÆËß£ÂéãÁº©Âà∞/usr/local/srcÂΩì‰∏≠ ÂÆâË£ÖÊó∂ÔºåÊúÄÂ•ΩÂÆâË£ÖÂà∞/usr/localËøô‰∏™ÈªòËÆ§Ë∑ØÂæÑ‰∏ã ËÄÉËôëÂ∞ÜÊù•ÁöÑÂà†Èô§ÔºåÊúÄÂ•ΩÂèØ‰ª•Â∞ÜÊØè‰∏™ËΩØ‰ª∂ÂçïÁã¨ÂÆâË£ÖÂú®/usr/local‰∏ãÈù¢ ‰∏∫ÂÆâË£ÖÂà∞ÂçïÁã¨ÁõÆÂΩïÁöÑËΩØ‰ª∂ÁöÑman pageÂä†ÂÖ•Âà∞man pathÊêúÁ¥¢ÔºåÂç≥Âú®/etc/man.configÂ¢ûÂä†‰∏ÄË°å„ÄÇ ÁÆÄÂçïÂÆâË£ÖËåÉ‰æãÔºàntpÊó∂Èó¥ÊúçÂä°Âô®ÔºâÂÅáËÆæËøô‰∏™ËΩØ‰ª∂Âú®/opt‰∏ãÔºåËß£ÂéãÂà∞/usr/local/srcÔºåÂπ∂ÂÆâË£ÖÂà∞/usr/local/ntpÁõÆÂΩï‰∏ã„ÄÇ12345678910111213141516171819cd /usr/local/src //ÂàáÊç¢ÁõÆÂΩïtar -zxvf /opt/ntp-4.2.4p7.tar.gz //Ëß£ÂéãÁº©Âà∞Ê≠§ÁõÆÂΩïcd ntp-4.2.4p7/vi INSTALL // Êü•ÈòÖÂÆâË£Ö‰ø°ÊÅØ// Ê£ÄÊü•configureÊîØÊåÅÂèÇÊï∞ÔºåÂπ∂ÂÆûÈôÖÁîüÊàêmakefileËßÑÂàôÊñá‰ª∂(ÂæàÈáçË¶Å)./configure --help | more./configure --prefix=/usr/local/ntp \--enable-all-clocks --enable-parse-clocks //ÂºÄÂßãÂª∫Á´ãmakefileÔºàËÆæÁΩÆ‰∫ÜÂÆâË£ÖÁõÆÂΩïÁ≠âÔºâ// ÂºÄÂßãÁºñËØëÂπ∂ÂÆâË£Ömake clean; makemake checkmake install Âà©Áî®patchÊõ¥Êñ∞Ê∫êÁ†Å12345678910// Âü∫Êú¨ËØ≠Ê≥ï1. patch -p Êï∞Â≠ó &lt; patch_file Êõ¥Êñ∞2. patch -R &lt; patch_file ËøòÂéüÊõ¥Êñ∞ÂÅáÂ¶Çpatch_fileÁ¨¨‰∏ÄË°åÊòØ***/home/guest/example/expatch.oldÔºåÂ¶ÇÊûúÊâßË°åpatch -p0 &lt; patch_fileÔºåÂàôÊõ¥Êñ∞ÁöÑÊñá‰ª∂ÊòØ/home/guest/example/expatch.oldÔºåÂ¶ÇÊûúÊâßË°åpatch -p4 &lt; patch_fileÔºåÂàôÊõ¥Êñ∞ÁöÑÊñá‰ª∂ÊòØexpatch.oldÔºåÂü∫Êú¨ËØ≠Ê≥ï‰∏≠Êï∞Â≠óÊòØÊåáÊãøÊéâÁ¨¨Âá†‰∏™‰∏ãÂàíÁ∫ø‰πãÂâçÁöÑ‰∏úË•øÔºàÂåÖÊã¨‰∏ãÂàíÁ∫øÔºâ„ÄÇÂú®Êõ¥Êñ∞‰πãÂêéÔºåËøòÊòØÈúÄË¶ÅÈáçÊñ∞ÁºñËæëÔºåËøôÊâçÊòØÊúÄÁªàÁöÑÊ≠£Á°ÆÁöÑËΩØ‰ª∂„ÄÇ RPMÂÆâË£ÖRPMÂíåDPKGÂΩìÂâçLinux‰∏äÊúâ‰∏§Ê¨æ‰∏ªÊµÅÁöÑËΩØ‰ª∂ÁÆ°ÁêÜÁ®ãÂ∫èÔºåÂàÜÂà´ÊòØÔºöRPMÂíåDPKG„ÄÇËøô‰∏§Ê¨æËΩØ‰ª∂ÂùáÊèê‰æõÂú®Á∫øÂçáÁ∫ßÊú∫Âà∂„ÄÇ RPM RPMÂÖ®Áß∞‰∏∫Red Hat Package ManagerÔºåÊòØRed HatÂÖ¨Âè∏Á†îÂèëÁöÑLinuxËΩØ‰ª∂ÁÆ°ÁêÜÁ®ãÂ∫è„ÄÇÁõÆÂâçCentOS„ÄÅSuSE„ÄÅFedoraÁ≠âÊìç‰ΩúÁ≥ªÁªü‰ΩøÁî®ÂÆÉ„ÄÇ RPM‰ΩøÁî®YUMËøõË°åÂú®Á∫øÂçáÁ∫ß„ÄÇ DPKG dpkgÁî±Debian LinuxÂºÄÂèëÔºåÁõÆÂâç‰ΩøÁî®ËØ•ËΩØ‰ª∂ÁöÑÊìç‰ΩúÁ≥ªÁªüÊúâUbuntu„ÄÅB2DÁ≠â„ÄÇ dpkg‰ΩøÁî®apt-getËøõË°åÂú®Á∫øÂçáÁ∫ß„ÄÇ PSÔºö‰ªÄ‰πàÊòØ‚ÄúÂú®Á∫øÂçáÁ∫ßÊú∫Âà∂‚ÄùÔºü‰∏Ä‰∏™ËΩØ‰ª∂ÂæÄÂæÄ‰ºö‰æùËµñÂÖ∂‰ªñËΩØ‰ª∂ÁöÑ‰∏Ä‰∫õÂäüËÉΩÔºåÈÇ£‰πàÂú®ÂÆâË£ÖËøáÁ®ã‰∏≠ÔºåÂè™ÊúâÁ°Æ‰øù‰∏Ä‰∏™ËΩØ‰ª∂ÊâÄ‰æùËµñÁöÑÊâÄÊúâËΩØ‰ª∂ÈÉΩË¢´ÂÆâË£ÖÂêéÔºåËØ•ËΩØ‰ª∂ÊâçËÉΩË¢´Ê≠£Á°ÆÂÆâË£Ö„ÄÇËÄåÂú®Á∫øÂçáÁ∫ßÊú∫Âà∂ËÉΩÂ§üÂú®ËΩØ‰ª∂ÂÆâË£ÖËøáÁ®ã‰∏≠ÔºåËã•ÂèëÁé∞ËØ•ËΩØ‰ª∂ÁöÑ‰æùËµñËΩØ‰ª∂Â∞öÊú™ÂÆâË£ÖÔºåÂàô‰ºöËá™Âä®‰ªé‰∫íËÅîÁΩë‰∏≠‰∏ãËΩΩÊâÄ‰æùËµñÁöÑËΩØ‰ª∂„ÄÇËøôÂ∞±ÊòØÂú®Á∫øÂçáÁ∫ßÊú∫Âà∂ RPMÈªòËÆ§ÂÆâË£ÖÁöÑË∑ØÂæÑ /etc ‰∏Ä‰∫õËÆæÁΩÆÊñá‰ª∂ÊîæÁΩÆÁöÑÁõÆÂΩïÔºå‰æãÂ¶Ç/etc/crontab /usr/bin ‰∏Ä‰∫õÂèØÊâßË°åÊñá‰ª∂ /usr/lib ‰∏Ä‰∫õÁ®ãÂ∫è‰ΩøÁî®ÁöÑÂä®ÊÄÅÂáΩÊï∞Â∫ì /usr/share/doc ‰∏Ä‰∫õÂü∫Êú¨ÁöÑËΩØ‰ª∂‰ΩøÁî®ÊâãÂÜå‰∏éÂ∏ÆÂä©ÊñáÊ°£ /usr/share/man ‰∏Ä‰∫õman pageÊñá‰ª∂ RPMÂÆâË£ÖÂõ†‰∏∫ÂÆâË£ÖËΩØ‰ª∂ÊòØrootÁöÑÂ∑•‰ΩúÔºåÊâÄ‰ª•‰Ω†ÂøÖÈ°ªÊòØrootÁî®Êà∑ÊâçËÉΩ‰ΩøÁî®rpmÂëΩ‰ª§Ôºå‰ΩøÁî®ËåÉ‰æãÂ¶Ç‰∏ã(‰æãÂ≠ê‰∏∫ÂÆâË£Örp-pppoe-3.5-32.1.i386.rpm)Ôºö12// ÂÆâË£ÖËΩØ‰ª∂ÊòØÔºåÊòæÁ§∫ÂÆâË£Ö‰ø°ÊÅØ‰∏éËøõÂ∫¶rpm -ivh rp-pppoe-3.5-32.1.i386.rpm RPMÁöÑÂçáÁ∫ß‰∏éÊõ¥Êñ∞ËåÉ‰æãÂ¶Ç‰∏ãÔºö1234567rpm -Uvh ÈúÄË¶ÅÂçáÁ∫ßÁöÑËΩØ‰ª∂Âêç-Uvh:Ëã•ÂæÖÂçáÁ∫ßÁöÑËΩØ‰ª∂Â∞öÊú™ÂÆâË£ÖÔºåÂàôÁõ¥Êé•ÂÆâË£Örpm -Fvh ÈúÄË¶ÅÂçáÁ∫ßÁöÑËΩØ‰ª∂Âêç-Fvh:Ëã•ÂæÖÂçáÁ∫ßÁöÑËΩØ‰ª∂Â∞öÊú™ÂÆâË£ÖÔºåÂàôËØ•ËΩØ‰ª∂‰∏ç‰ºöË¢´ÂÆâË£Ö RPMÊü•ËØ¢Êü•ËØ¢ÁöÑ‰ø°ÊÅØÂàÜ‰∏∫‰∏§Á±ªÔºå‰∏ÄÁ±ªÊòØÊü•ËØ¢Â∑≤Ë¢´ÂÆâË£ÖÁöÑËΩØ‰ª∂ÁöÑ‰ø°ÊÅØ(Áî±/var/lib/rpmÊèê‰æõ)ÔºåÂè¶‰∏ÄÁ±ªÊòØÊü•ËØ¢Â∞öÊú™Ë¢´ÂÆâË£ÖÁöÑËΩØ‰ª∂ÂÆâË£ÖÂåÖÁöÑ‰ø°ÊÅØ„ÄÇ Á¨¨‰∏ÄÁ±ª‰ø°ÊÅØÈÄöËøárpm -qÊü•ËØ¢ÔºåÁ¨¨‰∫åÁ±ª‰ø°ÊÅØÈÄöËøárpm -qpÊü•ËØ¢„ÄÇËåÉ‰æãÂ¶Ç‰∏ãÔºö123456789101112131415161718// 1. ÊâæÂá∫‰Ω†ÁöÑLinuxÊòØÂê¶ÂÆâË£ÖlogrotateËøô‰∏™ËΩØ‰ª∂rpm -q logrorate// 2. ÂàóÂá∫logrotateËøô‰∏™ËΩØ‰ª∂ÊâÄÊèê‰æõÁöÑÊâÄÊúâÁõÆÂΩï‰∏éÊñá‰ª∂rpm -ql logrorate// 3. ÂàóÂá∫logrotateËøô‰∏™ËΩØ‰ª∂ÁöÑÁõ∏ÂÖ≥Êñá‰ª∂ËØ¥Êòérpm -qi logrorate// 4. ÂàóÂá∫logrotateËøô‰∏™ËΩØ‰ª∂ÁöÑËÆæÁΩÆÊñá‰ª∂‰∏éÂ∏ÆÂä©Êñá‰ª∂rpm -qc logroraterpm -qd logrorate// 5. ÂàóÂá∫logrotateËøô‰∏™ËΩØ‰ª∂ÊâÄ‰æùËµñËΩØ‰ª∂ÁöÑÊñá‰ª∂rpm -qR logrorate// 6. ÂàóÂá∫ËØ•Êñá‰ª∂Â±û‰∫éÂì™‰∏Ä‰∏™ËΩØ‰ª∂rpm -qf /bin/sh Âç∏ËΩΩRPM‰∏éÈáçÂª∫Êï∞ÊçÆÂ∫ìÂç∏ËΩΩ‰∏Ä‰∏™ËΩØ‰ª∂ÈùûÂ∏∏Êñπ‰æøÔºåÈÄöËøá-eÂç≥ÂèØÂà†Èô§„ÄÇ‰ΩÜ‰∏Ä‰∏™ËΩØ‰ª∂ÊâÄÊèê‰æõÁöÑÂä®ÊÄÅÂáΩÊï∞Â∫ìË¢´ÂÖ∂‰ªñËΩØ‰ª∂ÂºïÁî®ÔºåÈÇ£‰πàËØ•ËΩØ‰ª∂Â∞ÜÊó†Ê≥ïÂç∏ËΩΩÔºåÈô§ÈùûÂ∞ÜÂºïÁî®ËØ•ÂáΩÊï∞Â∫ìÁöÑÊâÄÊúâËΩØ‰ª∂ÈÉΩÂç∏ËΩΩÂêéÊâçËÉΩÂç∏ËΩΩ„ÄÇËåÉ‰æãÂ¶Ç‰∏ãÔºö1234561. ÊâæÂá∫‰∏épamÊúâÂÖ≥ÁöÑËΩØ‰ª∂ÂêçÁß∞ÔºåÂπ∂Â∞ùËØïÂà†Èô§pamËøô‰∏™ËΩØ‰ª∂rpm -qa | grep pamrpm -e pamÔºàÂá∫ÈîôÔºåÂõ†‰∏∫‰Ω†ÈúÄË¶ÅÂÖàÂà†Èô§‰æùËµñÂÆÉÁöÑËΩØ‰ª∂Ôºâ2. Âà†Èô§pam-develËΩØ‰ª∂rpm -e pam-devel (ÊàêÂäü) ÂΩì/var/lib/rpmÂÜÖÁöÑÊñá‰ª∂ÂèëÁîüÊçüÂùèÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÂëΩ‰ª§ÈáçÂª∫Êï∞ÊçÆÂ∫ì‰øÆÂ§çÔºö1rpm --rebuilddb YUMÂÆâË£ÖRPMËôΩÁÑ∂ÁúÅÂéª‰∫ÜÁºñËØëËøáÁ®ãÔºåÂπ∂‰∏îÊèê‰æõÊï∞ÊçÆÂ∫ìÂ≠òÂÇ®ËΩØ‰ª∂ÁöÑ‰ø°ÊÅØÔºå‰ΩÜ‰ªçÁÑ∂ÈúÄË¶ÅÊàë‰ª¨ÊâãÂä®‰∏ãËΩΩRPMÂÆâË£ÖÂåÖÔºåËÄåYUMÁöÑÂá∫Áé∞Ëß£ÂÜ≥‰∫ÜËøô‰∏ÄÈóÆÈ¢ò„ÄÇËæÉÂ§öËΩØ‰ª∂ÁöÑRPMÂÆâË£ÖÂåÖÈÉΩÂ≠òÊîæÂú®‰∫ÜYUM Server‰∏äÔºåÂè™Ë¶ÅÊàë‰ª¨ÁöÑËÆ°ÁÆóÊú∫ËÉΩËøû‰∫íËÅîÁΩëÔºåÂ∞±ËÉΩ‰ΩøÁî®yumËá™Âä®‰∏ãËΩΩRPMÂÆâË£ÖÂåÖÂπ∂ÂÆâË£ÖËΩØ‰ª∂„ÄÇ yumÂäüËÉΩyumÁöÑ‰ΩøÁî®ÈùûÂ∏∏ÁÆÄÂçïÔºåÂ∞±ÊòØÈÄöËøáyumËøô‰∏™ÂëΩ‰ª§ÔºåÁî®Ê≥ïËåÉ‰æãÂ¶Ç‰∏ãÔºö Êü•ËØ¢ÂäüËÉΩ 1234567891011121314// 1. ÊêúÁ¥¢Á£ÅÁõòÈòµÂàóÁõ∏ÂÖ≥ÁöÑËΩØ‰ª∂yum search raid// 2. ÊâæÂá∫mdadmËøô‰∏™ËΩØ‰ª∂ÁöÑÂäüËÉΩÂ¶Ç‰Ωïyum info mdadm// 3. ÂàóÂá∫yumÊúçÂä°Âô®‰∏äÈù¢Êèê‰æõÁöÑÊâÄÊúâËΩØ‰ª∂ÂêçÁß∞yum list// 4. ÂàóÂá∫ÁõÆÂâçÊúçÂä°Âô®‰∏äÂèØ‰æõÊú¨Êú∫ÂçáÁ∫ßÁöÑËΩØ‰ª∂ÊúâÂì™‰∫õyum list updates// 5. ÂàóÂá∫Êèê‰æõpasswdËøô‰∏™Êñá‰ª∂ÁöÑËΩØ‰ª∂ÊúâÂì™‰∫õyum provides passwd ÂÆâË£Ö/ÂçáÁ∫ßÂäüËÉΩ 12// 1. ÂÆâË£Ö/ÂçáÁ∫ßpam-develyum install/update pam-devel Âà†Èô§ÂäüËÉΩ 12// 1. Âà†Èô§pam-develyum remove pam-devel ÁÆ°ÁêÜÁöÑÈÄâÊã©ÔºöRPM or TarballÂª∫ËÆÆÂ¶Ç‰∏ãÔºö ‰ºòÂÖàÈÄâÊã©ÂéüÂéÇÁöÑRPMÂäüËÉΩ ÈÄâÊã©ËΩØ‰ª∂ÂÆòÊñπÁΩëÁ´ôÂèëÂ∏ÉÁöÑRPMÊàñËÄÖÊòØÊèê‰æõÁöÑÂÆπÂô®ÁΩëÂùÄÔºàyum serverÔºâ Âà©Áî®TabballÂÆâË£ÖÁâπÊÆäËΩØ‰ª∂ÔºàÊ≤°ÊúâRPMÔºâ Áî®TarballÊµãËØïÊñ∞ÁâàËΩØ‰ª∂ RPM‰∏éTarballÂêÑÊúâ‰ºòÁÇπÔºå‰ΩÜÊòØÂ¶ÇÊûúÊúâRPMÁöÑËØùÔºå‰ºòÂÖàÈÄâÊã©RPM„ÄÇÂ¶ÇÊûúÊó†Ê≥ïËß£ÂÜ≥‰æùËµñÊÄßÈóÆÈ¢òÔºåÈÇ£Â∞±ÈÄâtarball„ÄÇ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_daemon‰∏∫ÊúçÂä°(service)‰øùÈ©æÊä§Ëà™]]></title>
    <url>%2F2018%2F04%2F03%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_daemon%E4%B8%BA%E6%9C%8D%E5%8A%A1(service)%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊàë‰ª¨ËøõÁ®ã‰ºöÂê¨Âà∞daemonÔºå‰ΩÜÊòØÂç¥‰∏çÁü•ÈÅìÂÖ∂‰πâÔºåÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™ÂÆàÊä§ËøõÁ®ãÔºå‰ΩúÁî®ÊòØÊîØÊåÅÂÖ∂‰ªñÊúçÂä°(service)ÁöÑËøêË°å„ÄÇÊàë‰ª¨‰∏ãÈù¢ÂèØ‰ª•Â•ΩÂ•ΩÁúãÁúãlinux‰∏≠ÁöÑdaemon‰∏éserviceÔºÅ ‰ªÄ‰πàÊòØdaemon‰∏éÊúçÂä°Á≥ªÁªü‰∏∫‰∫ÜÊüê‰∫õÂäüËÉΩÂøÖÈ°ªË¶ÅÊèê‰æõ‰∏Ä‰∫õÊúçÂä°ÔºåËøô‰∏™ÊúçÂä°Â∞±Áß∞‰∏∫service„ÄÇ‰ΩÜÊòØserviceÁöÑÊèê‰æõÊÄªÊòØÈúÄË¶ÅËøõÁ®ãÁöÑËøêË°åÔºåÊâÄ‰ª•ÂÆûÁé∞Ëøô‰∏™serviceÁöÑÁ®ãÂ∫èÊàë‰ª¨Â∞±Áß∞ÂÆÉ‰∏∫daemon„ÄÇ daemonÁöÑÂàÜÁ±ªÂàÜÁ±ªÊñπÂºè‰∏ÄÔºöÊåâÁÖß‚ÄúÊòØÂê¶ÂèØ‰ª•Áã¨Á´ãÂêØÂä®‚ÄùÂàÜÁ±ª stand aloneÁ±ªÂûãÁöÑdaemonÔºöËøôÁßçÁ±ªÂûãÁöÑdaemonÂèØ‰ª•Ëá™Ë°åÂêØÂä®ÔºåÂêØÂä®‰πãÂêéÂèØ‰ª•Â∏∏È©ªÂÜÖÂ≠òÔºåÁõ¥Âà∞ÊâãÂä®ÂÖ≥Èó≠ËØ•daemonÊâçÈáäÊîæËµÑÊ∫ê„ÄÇÂ¶Çwww„ÄÇ Áî±super daemonÁÆ°ÁêÜÁöÑdaemonÔºöËøôÁßçÁ±ªÂûãÁöÑdaemonÁî±super daemonÁªü‰∏ÄÁÆ°ÁêÜÔºåÂΩìËØ∑Ê±ÇÂà∞Êù•Êó∂ÔºåÁî±super daemonÂêØÂä®ËØ∑Ê±ÇÁöÑÊúçÂä°ÔºåËØ∑Ê±ÇÂÆåÊàêÂêé‰æøÈáäÊîæÂÜÖÂ≠òËµÑÊ∫ê„ÄÇÂ¶Çtelnet„ÄÇ ÂàÜÁ±ªÊñπÂºè‰∫åÔºöÊåâÁÖß‚ÄúËØ∑Ê±ÇÂà∞Êù•Êó∂ÊòØÂê¶ËÉΩÂ§üÁ´ãÂç≥ËøêË°å‚ÄùÂàÜÁ±ª signal-controlÁ±ªÂûãÁöÑdaemonËøôÁßçÁ±ªÂûãÁöÑdaemonÂΩìÊúâËØ∑Ê±ÇÂà∞Êù•Êó∂‰æøËÉΩÁ´ãÂç≥ÊâßË°å„ÄÇÂ¶ÇÊâìÂç∞Êú∫ÊúçÂä°„ÄÇ interval-controlÁ±ªÂûãÁöÑdaemonËøôÁßçÁ±ªÂûãÁöÑdaemon‰ºöÂë®ÊúüÊÄßÂú∞ÊâßË°åÊüêÈ°πÂ∑•‰ΩúÔºåÂõ†Ê≠§ÂÆÉÊ≤°ÊúâËØ∑Ê±Ç‰∏ÄËØ¥ÔºåÂÆÉ‰ºöÂë®ÊúüÊÄßÂú∞ËØªÂèñÈÖçÁΩÆÊñá‰ª∂ÔºåÂπ∂ÊâßË°åÈÖçÁΩÆÊñá‰ª∂‰∏≠Ë¶ÅÊ±ÇÁöÑÂäüËÉΩ„ÄÇÂ¶Çcrond„ÄÅatdÈÉΩÂ±û‰∫éinterval-controlÁ±ªÂûãÁöÑdaemon„ÄÇ ÈÄöÂ∏∏Âú®ÊúçÂä°ÁöÑÂêçÁß∞ÁöÑ‰πãÂêéÈÉΩ‰ºöÂä†‰∏Ä‰∏™d„ÄÇ ÁΩëÁªúÊúçÂä°‰∏éÁ´ØÂè£ÁöÑÂØπÂ∫îÂΩìÁ≥ªÁªüÊèê‰æõ‰∫ÜÁΩëÁªúÊúçÂä°ÔºåÂ∞±‰ºöÊ∂âÂèäÂà∞Á´ØÂè£ÁöÑÈóÆÈ¢òÔºåËøô‰∫õÊúçÂä°‰∏éÁ´ØÂè£ÁöÑÂÆö‰πâÊñá‰ª∂Âú®/etc/services„ÄÇÂ§ßÂÆ∂ÂèØ‰ª•Ëá™Â∑±Êü•Áúã‰∏Ä‰∏ã„ÄÇÂ¶Ç‰∏ãÔºö12tcpmux 1/tcp # TCP port service multiplexertcpmux 1/udp # TCP port service multiplexer Á¨¨‰∏ÄÂàó‰∏∫daemonÁöÑÂêçÁß∞ÔºåÁ¨¨‰∫åÂàó‰∏∫ËØ•daemonÊâÄ‰ΩøÁî®ÁöÑÁ´ØÂè£Âè∑‰∏éÁΩëÁªúÊï∞ÊçÆÂåÖÂçèËÆÆ„ÄÇ daemonÁöÑÂêØÂä®ËÑöÊú¨‰∏éÂêØÂä®ÊñπÂºèstand-aloneÁ±ªÂûãÁöÑdaemonÂíåsuper daemonÁ±ªÂûãÁöÑdaemonÊúâÂêÑËá™ÁöÑÂêØÂä®ÊñπÂºè stand aloneÂûãDaemonÁöÑÂêØÂä®ÊñπÂºè ÈÄöËøá/etc/init.d/xxxÂêØÂä®„ÄÇÂêØÂä®‰∏Ä‰∏™ÊúçÂä°ÊòØ‰∏Ä‰∏™ÁπÅÁêêÁöÑËøáÁ®ãÔºå‰Ω†ÈúÄË¶ÅËøõË°å‰∏ÄÁ≥ªÂàóÂêØÂä®ÂâçÁöÑÊìç‰ΩúÔºå‰∏∫‰∫ÜÈÅøÂÖçËøô‰∫õÈ∫ªÁÉ¶ÔºåÊúçÂä°Êèê‰æõÂïÜÊääËøô‰∫õÁπÅÁêêÁöÑËøáÁ®ãÂ∞ÅË£ÖÂú®‰∏Ä‰∏™shell srcipt‰∏≠ÔºåÊàë‰ª¨Âè™ÈúÄÊâßË°å‰∏Ä‰∏™shell scriptÂç≥ÂèØÂêØÂä®‰∏Ä‰∏™daemon„ÄÇÂá†‰πéÊâÄÊúâÁöÑstand aloneÂûãdaemonÁöÑÂêØÂä®ËÑöÊú¨ÈÉΩÊîæÂú®/etc/init.d/‰∏ãÔºåÊâÄ‰ª•Êàë‰ª¨Âè™ÈúÄÊâßË°å /etc/init.d/xxx start Âç≥ÂèØÂêØÂä®xxxÊúçÂä°„ÄÇ ÈÄöËøáserviceÂëΩ‰ª§ÂêØÂä®„ÄÇËã•ÊØèÊ¨°ÂêØÂä®‰∏Ä‰∏™ÂëΩ‰ª§ÈÉΩË¶ÅÂÜô/etc/init.d/Áï•ÂæÆÊúâ‰∫õÈ∫ªÁÉ¶ÔºåserviceÂëΩ‰ª§Â∞ÜÂÖ∂ËøõË°å‰∫ÜÂ∞ÅË£ÖÔºåÊàë‰ª¨Âè™Ë¶ÅÊâßË°å ‚Äúservice xxx start/status/restart/stop‚Äù Âç≥ÂèØÂºÄÂêØ/Êü•Áúã/ÈáçÂêØ/ÂÖ≥Èó≠xxxÊúçÂä°„ÄÇ super daemonÂûãDaemonÁöÑÂêØÂä®ÊñπÂºè ËÆæÁΩÆdaemonÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÊØè‰∏Ä‰∏™Ë¢´super daemonÁÆ°ÁêÜÁöÑdaemonÈÉΩÊúâ‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºåÂú®/etc/xinetd.d/ÁõÆÂΩï‰∏ã„ÄÇÊØè‰∏™daemonÁöÑÂºÄÂêØÊàñÂÖ≥Èó≠ÂùáÂú®ËØ•daemonÂØπÂ∫îÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ËÆæÁΩÆ„ÄÇ ÂêØÂä®super daemonÔºåsuper daemonÊòØ‰∏Ä‰∏™stand aloneÂûãdaemonÔºåÂõ†Ê≠§Âú®daemonÁöÑÈÖçÁΩÆÊñá‰ª∂ËÆæÁΩÆÂ•ΩÂêéÂèØÈÄöËøáservice xinetd startÂêØÂä®ÊâÄÊúâÁî±super daemonÁÆ°ÁêÜÁöÑdaemon„ÄÇ Ëß£Êûêsuper daemonÁöÑÈÖçÁΩÆÊñá‰ª∂ÈªòËÆ§ÂÄºÈÖçÁΩÆÊñá‰ª∂Ôºöxinetd.confÈ´òÁâàÊú¨ÁöÑcontosÂèØËÉΩÊ≤°ÊúâËØ•Êñá‰ª∂ÔºåÊòØÂõ†‰∏∫Ê≤°ÊúâÂÆâË£ÖÔºåÊâÄ‰ª•Ë¶ÅÂÖàÁî®‚Äúyum install xinetd‚ÄùÂÆâË£Ö‰πãÂêéÔºåÂ∞±ÂèØ‰ª•ÁúãËßÅ‰∫Ü„ÄÇ super daemonÁöÑÈªòËÆ§ÈÖçÁΩÆÊñá‰ª∂‰∏∫:/etc/xinetd.confÔºåÂÆÉ‰∏∫ÂÆÉÊâÄÁÆ°ÁêÜÁöÑÊâÄÊúâdaemonÂÅö‰∫Ü‰∏Ä‰∫õÈªòËÆ§ÁöÑÈÖçÁΩÆ„ÄÇ‰ªéÊúÄÂêé‰∏ÄË°åÁöÑincludedir /etc/xinetd.dÂèØ‰ª•ÁúãÂá∫ÔºåÂÆÉÂä†ËΩΩ‰∫ÜÂÆÉÊâÄÁÆ°ÁêÜÁöÑÊâÄÊúâdaemonÁöÑÈÖçÁΩÆ„ÄÇ ‰∏ãÈù¢Êù•Áúã‰∏Ä‰∏ãÂÖ∑‰ΩìÁöÑÊüê‰∏™daemonÁöÑÈÖçÁΩÆÔºö12345678910service rsync #serviceÂêé‰∏∫daemonÁöÑÂêçÂ≠ó&#123; disable = yes # yesË°®Á§∫ÂÖ≥Èó≠Ê≠§daemonÔºånoË°®Á§∫ÂºÄÂêØÊ≠§daemon socket_type = stream #streamË°®Á§∫‰ΩøÁî®TCP„ÄÅdgramË°®Á§∫‰ΩøÁî®UDP„ÄÅrawË°®Á§∫Áõ¥Êé•‰∏éIP‰∫§‰∫í wait = no user = root #‰ª•‰ªÄ‰πàÁî®Êà∑ÁöÑË∫´‰ªΩÂêØÂä®Ëøô‰∏™daemon server = /usr/bin/rsync #Ëøô‰∏™daemonÁöÑÂêØÂä®Á®ãÂ∫è server_args = --daemon #ÂêØÂä®Êó∂ÊâÄÈúÄÁöÑÂèÇÊï∞ log_on_failure += USERID # ÁôªÂΩïÂ§±Ë¥•Êó∂ÈúÄË¶ÅËÆ∞ÂΩïÁî®Êà∑&#125; =ÔºöË°®Á§∫Â∞ÜÊüê‰∏™ÂèÇÊï∞ËÆæ‰∏∫Á≠âÂè∑Âè≥‰æßÁöÑÂÄºÔºåËã•ÂÖàÂâçËÆæÁΩÆ‰∏≠Â∑≤ËÆæÁΩÆËøáËØ•ÂèÇÊï∞ÔºåÂàôÁõ¥Êé•Ë¶ÜÁõñ +=ÔºöË°®Á§∫‰øùÁïôÂÖàÂâçËÆæÁΩÆÁöÑËøô‰∏™ÂèÇÊï∞ÔºåÂÜçÁªôËøô‰∏™ÂèÇÊï∞Â¢ûÂä†‰∏™ÂÄº„ÄÇ -Âíå-=ÁöÑÂê´‰πâÂêå‰∏ä„ÄÇ super deamonÁöÑÈò≤ÁÅ´Â¢ôÁÆ°ÁêÜÁî±‰∫éÂèósuper daemonÁÆ°ÁêÜÁöÑdaemonÁöÑËØ∑Ê±ÇÈÉΩÈ¶ñÂÖàÈúÄË¶ÅÁªèËøásuper daemonÔºåÂõ†Ê≠§super daemonÂèØ‰ª•ÂÖÖÂΩìÈò≤ÁÅ´Â¢ôÁöÑËßíËâ≤ÔºåÊãíÁªù‰∏Ä‰∫õ‰∏çÂÆâÂÖ®ÁöÑËØ∑Ê±Ç„ÄÇsuper daemonÊèê‰æõ‰∫Ü‰∏§ÁßçÈò≤ÁÅ´Â¢ôÊú∫Âà∂ÔºåÁ¨¨‰∏ÄÁßçÊñπÂºèÊèê‰æõËæÉÂ§öËØ¶ÁªÜÁöÑÂÆâÂÖ®ËÆæÁΩÆÔºåËÄåÁ¨¨‰∫åÁßçÊñπÂºèÂè™ËÉΩÈòªÊå°ÊàñÂÖÅËÆ∏ÊåáÂÆöÁöÑIPÔºåÂÖ∑‰ΩìËßÅ‰∏ãÔºö ‰ΩøÁî®Âèósuper daemonÁÆ°ÁêÜÁöÑdaemonÁöÑÈÖçÁΩÆÊñá‰ª∂ÂÆûÁé∞Èò≤ÁÅ´Â¢ôÊú∫Âà∂ Âú®Êüê‰∏™ÂÖ∑‰ΩìÁöÑdaemonÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÂèÇÊï∞ÔºåÂç≥ÂèØ‰∏∫daemonÈÖçÁΩÆÈò≤ÁÅ´Â¢ôÔºö instance=Êï∞Â≠ó/UNLIMITEDÔºöËÆæÁΩÆËØ•daemonËÉΩÂ§üÊâøÂèóÁöÑÊúÄÂ§ßËøûÊé•Êï∞„ÄÇ` per_source=Êï∞Â≠ó/UNLIMITEDÔºöÊØè‰∏™IPÁöÑÊúÄÂ§ßËøûÊé•Êï∞„ÄÇ Cps=Êï∞Â≠ó1 Êï∞Â≠ó2ÔºöËØ•daemonÂú®‰∏ÄÁßíÂÜÖÁöÑËøûÊé•Êï∞Ë∂ÖËøáÊï∞Â≠ó1ÔºåÂàôÊöÇÊó∂ÂÖ≥Èó≠ËØ•da* emonÊï∞Â≠ó2ÁöÑÁßíÊï∞„ÄÇ log_on_success/failure=PID/HOST/USERID/EXIT/DURATIONÔºöÂΩìÁôªÂΩïÊàêÂäü/* Â§±Ë¥•Êó∂ËÆ∞ÂΩïÁöÑ‰ø°ÊÅØ„ÄÇHOSTÔºöËøûÊé•ËÄÖÁöÑIP„ÄÅEXITÔºöÁ¶ªÂºÄÊó∂Èó¥„ÄÅDURATIONÔºö‰∏∫ËØ•Áî®Êà∑ÊúçÂä°ÁöÑÊó∂Èó¥„ÄÇ redirect=IPÔºöÂ∞ÜÁî®Êà∑ÁöÑËØ∑Ê±ÇËΩ¨Ëá≥ÊåáÂÆöÊúçÂä°Âô®„ÄÇ bind=IPÔºöÂÖÅËÆ∏Áî®Êà∑Áî®Âì™‰∏™IPËÆøÈóÆÊú¨ÊúçÂä°„ÄÇonly_from=[0.0.0.0,192.168.1.0:24]ÔºöÂè™ÂÖÅËÆ∏ÊåáÂÆöIPÁöÑÁî®Êà∑ËÆøÈóÆ„ÄÇ0.0.0.0Ë°®Á§∫ÂÖÅËÆ∏ÊâÄÊúâÁî®Êà∑Ôºå192.168.1.0:24Ë°®Á§∫Âè™ÂÖÅËÆ∏192.168.1.1Ôºç192.168.1.255‰πãÈó¥ÁöÑÁî®Êà∑ËÆøÈóÆ„ÄÇaccess_time=00:00-12:00ÔºöÂè™ÂÖÅËÆ∏ËØ•Êó∂Èó¥ÊÆµÂÜÖËÆøÈóÆ„ÄÇ ‰ΩøÁî®xinetdÊèê‰æõÁöÑ/etc/hosts.allowÂíå/etc/hosts.denyÂÆûÁé∞Èò≤ÁÅ´Â¢ôÊú∫Âà∂ /etc/hosts.allow ÔºöÊàë‰ª¨ÂèØ‰ª•Âú®ËØ•Êñá‰ª∂‰∏≠ËÆæÁΩÆÂÖÅËÆ∏ËÆøÈóÆÁöÑIP /etc/hosts.deny ÔºöÊàë‰ª¨ÂèØ‰ª•Âú®ËØ•Êñá‰ª∂‰∏≠ËÆæÁΩÆ‰∏çÂÖÅËÆ∏ËÆøÈóÆÁöÑIP Á≥ªÁªüÂºÄÂêØÁöÑÊúçÂä°Êü•ÁúãÁ≥ªÁªüÂêØÂä®ÁöÑÊúçÂä°‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨‰ºöÊØîËæÉÂÖ≥ÂøÉÁΩëÁªúÁõëÂê¨ÁöÑÊúçÂä°ÔºåÊâÄ‰ª•ÈÉΩ‰ºö‰ΩøÁî®netstatÂëΩ‰ª§(‰πãÂâç‰πüÊèêÂà∞Ëøá)ÔºåËøôÈáåÂÜçÊ¨°ËØ¥ÊòéÂá†‰∏™ËåÉ‰æãÔºö12345678// 1. ÊâæÂá∫ÁõÆÂâçÁ≥ªÁªüÂºÄÂêØÁöÑÁΩëÁªúÊúçÂä°netstat -tulp// 2. ÊâæÂá∫ÊâÄÊúâÊúâÁõëÂê¨ÁΩëÁªúÁöÑÊúçÂä°netstat -lnp// 3. Êü•ÁúãÊâÄÊúâÁöÑÊúçÂä°Áä∂ÊÄÅ service --status-all ËÆæÁΩÆDaemonÂºÄÂêØÂêØÂä®Âú®ËÆæÁΩÆDaemonÂºÄÊú∫ÂêØÂä®‰πãÂâçÔºåÊúÄÂ•ΩÂÖà‰∫ÜËß£‰∏Ä‰∏ãLinux‰∏ªÊú∫ÊòØÊÄé‰πàÂºÄÊú∫ÁöÑÔºü ÊâìÂºÄËÆ°ÁÆóÊú∫ÁîµÊ∫êÔºåÂºÄÂßãËØªÂèñBIOSÂπ∂ËøõË°å‰∏ªÊú∫ÁöÑËá™ÊàëÊµãËØï ÈÄöËøáBIOSÂèñÂæóÁ¨¨‰∏Ä‰∏™ÂèØÂºÄÊú∫ËÆæÂ§áÔºåËØªÂèñ‰∏ªË¶ÅÂºÄÊú∫Âå∫(MBR)ÂèñÂæóÂêØÂä®Ë£ÖËΩΩÁ®ãÂ∫è ÈÄöËøáÂêØÂä®Ë£ÖËΩΩÁ®ãÂ∫èÁöÑËÆæÁΩÆÔºåÂèñÂæókernelÂπ∂Âä†ËΩΩÂÜÖÂ≠ò‰∏îÊ£ÄÊµãÁ≥ªÁªüÁ°¨‰ª∂ ÂÜÖÊ†∏‰∏ªÂä®Ë∞ÉÁî®initËøõÁ®ã initËøõÁ®ãÂºÄÂßãÊâßË°åÁ≥ªÁªüÂàùÂßãÂåñ(/etc/rc.d/rec.sysinit) ‰æùÊçÆinitÁöÑËÆæÁΩÆËøõË°ådaemonstart(/etc/rc.d/rc[0-6].d/*) Âä†ËΩΩÊú¨Êú∫ËÆæÁΩÆ Âú®ÂêØÂä®LinuxÁ≥ªÁªüÊó∂ÔºåÂèØ‰ª•ËøõÂÖ•‰∏çÂêåÁöÑÊ®°ÂºèÔºåËøôÊ®°ÂºèÊàë‰ª¨Áß∞‰∏∫ÊâßË°åÁ≠âÁ∫ß(run level)Ôºå‰∏çÂêåÊâßË°åÁ≠âÁ∫ßÊúâ‰∏çÂêåÁöÑÂäüËÉΩ‰∏éÊúçÂä°„ÄÇÂõæÂûãÁïåÈù¢‰∏∫run level5ÔºåÁ∫ØÊñáÊú¨ÁïåÈù¢‰∏∫run level3„ÄÇÂΩìÊàë‰ª¨ÊÉ≥Ë¶ÅÁü•ÈÅìÂì™‰∫õÊúçÂä°ÈªòËÆ§ÂèØ‰ª•ÂêØÂä®ÔºåËøôÂ∞±ÈúÄË¶Å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Êù•Êü•ËØ¢: chkconfigÔºöÁÆ°ÁêÜÁ≥ªÁªüÊúçÂä°ÈªòËÆ§ÂºÄÊú∫ÂêØÂä®‰∏éÂê¶ÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö 12345678910111213// 1. ÂàóÂá∫ÁõÆÂâçÁ≥ªÁªü‰∏äÈù¢ÊâÄÊúâË¢´chkconfigÁÆ°ÁêÜÁöÑÊúçÂä°chkconfig --list | more // ÂàÜ‰∏∫‰∏§‰∏™ÂùóÔºåÂàÜÂà´‰∏∫‰∏§ÁßçÂêØÂä®ÊñπÂºèÁöÑdaemon// 2. ÊòæÁ§∫ÁõÆÂâçÂú®run level 3 ÂêØÂä®ÁöÑÊúçÂä°chkconfig --list | grep &apos;2:on&apos;// 3. ËÆ©atdËøô‰∏™ÊúçÂä°Âú®run level 3Ôºå4Ôºå5Êó∂ÂêØÂä®chkconfig --level 345 atd on// 4. Êü•ÁúãhttpdÔºåÂÜçÊü•ÁúãÈªòËÆ§ÊúâÊó†ÂêØÂä®Ôºå‰πãÂêé‰ª•chkconfigËÆæÁΩÆ‰∏∫ÈªòËÆ§ÂêØÂä®/etc/init.d/httpd status // Êü•ÁúãÊú¨Ë∫´chkconfig --list httpd // Êü•ÁúãÊòØÂê¶ÈªòËÆ§ÂêØÂä®chconfig httpd on; //ËÆæÁΩÆ‰∏∫ÂºÄÊú∫ÂêØÂä® chkconfigÔºöËÆæÁΩÆËá™Â∑±ÁöÑÁ≥ªÁªüÊúçÂä°1chkconfig [--add|--del] [ÊúçÂä°ÂêçÁß∞] // ËØ•ÊúçÂä°ÂøÖÈ°ªÂú®/etc/init.d/ÂÜÖ RHEL7ÁöÑsytemctlÔºà‰ª£ÊõøserviceÂíåchkconfigÔºâcentos7ÁâàÊú¨‰∏≠‰ΩøÁî®‰∫ÜsystemdÔºåsystemdÂêåÊó∂ÂÖºÂÆπservice,ÂØπÂ∫îÁöÑÂëΩ‰ª§Â∞±ÊòØsystemctl „ÄÇsystemctlÊòØRHEL 7 ÁöÑÊúçÂä°ÁÆ°ÁêÜÂ∑•ÂÖ∑‰∏≠‰∏ªË¶ÅÁöÑÂ∑•ÂÖ∑ÔºåÂÆÉËûçÂêà‰πãÂâçserviceÂíåchkconfigÁöÑÂäüËÉΩ‰∫é‰∏Ä‰Ωì„ÄÇÂèØ‰ª•‰ΩøÁî®ÂÆÉÊ∞∏‰πÖÊÄßÊàñÂè™Âú®ÂΩìÂâç‰ºöËØù‰∏≠ÂêØÁî®/Á¶ÅÁî®ÊúçÂä°„ÄÇ systemdÊää‰∏çÂêåÁöÑËµÑÊ∫êÁß∞‰∏∫UnitÊØè‰∏Ä‰∏™ Unit ÈÉΩÊúâ‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºåÂëäËØâ Systemd ÊÄé‰πàÂêØÂä®Ëøô‰∏™ UnitÂ≠òÊîæÁõÆÂΩïÔºö/etc/systemd/systemÂíå/usr/lib/systemd/system„ÄÇ ‰ΩøÁî®ËåÉ‰æãÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435// 1. ‰ª•Ê†ëÂΩ¢ÂàóÂá∫Ê≠£Âú®ËøêË°åÁöÑËøõÁ®ãÔºåÂÆÉÂèØ‰ª•ÈÄíÂΩíÊòæÁ§∫ÊéßÂà∂ÁªÑÂÜÖÂÆπsystemd-cgls// 2. ÂêØÂä®‰∏Ä‰∏™ÊúçÂä°systemctl start firewalld.service// 3. ÂÖ≥Èó≠‰∏Ä‰∏™ÊúçÂä°systemctl stop firewalld.service// 4. ÈáçÂêØ‰∏Ä‰∏™ÊúçÂä°systemctl restart firewalld.service// 5. ÊòæÁ§∫‰∏Ä‰∏™ÊúçÂä°ÁöÑÁä∂ÊÄÅsystemctl status firewalld.service// 6. Âú®ÂºÄÊú∫Êó∂ÂêØÂä®‰∏Ä‰∏™ÊúçÂä°systemctl enable firewalld.service// 7. Âú®ÂºÄÊú∫Êó∂Á¶ÅÁî®‰∏Ä‰∏™ÊúçÂä°systemctl disable firewalld.service// 8. Êü•ÁúãÊúçÂä°ÊòØÂê¶ÂºÄÊú∫ÂêØÂä®systemctl is-enabled firewalld.service// 9. Êü•ÁúãÂ∑≤ÂêØÂä®ÁöÑÊúçÂä°ÂàóË°®systemctl list-unit-files | grep enabled// 10. Êü•ÁúãÂêØÂä®Â§±Ë¥•ÁöÑÊúçÂä°ÂàóË°®systemctl --failedPSÔºö1. ‰ΩøÁî®ÂëΩ‰ª§ systemctl is-enabled firewalld.service ÂæóÂà∞ÁöÑÂÄºÂèØ‰ª•ÊòØenable„ÄÅdisableÊàñstaticÔºå ËøôÈáåÁöÑ static ÂÆÉÊòØÊåáÂØπÂ∫îÁöÑ Unit Êñá‰ª∂‰∏≠Ê≤°ÊúâÂÆö‰πâ[Install]Âå∫ÂüüÔºåÂõ†Ê≠§Êó†Ê≥ïÈÖçÁΩÆ‰∏∫ÂºÄÊú∫ÂêØÂä®ÊúçÂä°„ÄÇ2. ÂêØÁî®ÊúçÂä°Â∞±ÊòØÂú®ÂΩìÂâç‚Äúrunlevel‚ÄùÁöÑÈÖçÁΩÆÊñá‰ª∂ÁõÆÂΩï/etc/systemd/system/multi-user.target.wants/ÈáåÔºåÂª∫Á´ã/usr/lib/systemd/systemÈáåÈù¢ÂØπÂ∫îÊúçÂä°ÈÖçÁΩÆÊñá‰ª∂ÁöÑËΩØÈìæÊé•Ôºõ Á¶ÅÁî®ÊúçÂä°Â∞±ÊòØÂà†Èô§Ê≠§ËΩØÈìæÊé•ÔºåÊ∑ªÂä†ÊúçÂä°Â∞±ÊòØÊ∑ªÂä†ËΩØËøûÊé•„ÄÇ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã RHEL7ÁöÑsytemctlÔºà‰ª£ÊõøserviceÂíåchkconfigÔºâ]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_ËÆ§ËØÜ‰Ω†ÁöÑËøõÁ®ã]]></title>
    <url>%2F2018%2F04%2F02%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_%E8%AE%A4%E8%AF%86%E4%BD%A0%E7%9A%84%E8%BF%9B%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[ÂºïÔºölinuxÊúçÂä°Âô®‰∏äÂèØ‰ª•Ë∑ëÂæàÂ§öÂæàÂ§öÁöÑÁ®ãÂ∫èÔºåÂΩìÁÑ∂‰πü‰ºöÈÅáÂà∞ÂæàÂ§öÁöÑÈóÆÈ¢òÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂ≠¶‰ºöÂéªÁÆ°ÁêÜÂ•ΩÂÆÉ„ÄÇÂ∞§ÂÖ∂ÂÉèpsÔºåtopËøô‰∫õÂëΩ‰ª§Ôºå‰Ω†‰∏ÄÂÆö‰ºöÂæàÊÉ≥Âéª‰∫ÜËß£ÂÆÉÂêßÔºÅ ÁêÜËß£ËøõÁ®ã‰ªÄ‰πàÊòØËøõÁ®ãËøõÁ®ãÔºö ‰∏Ä‰∏™Á®ãÂ∫èË¢´Âä†ËΩΩÂà∞ÂÜÖÂ≠òÂΩì‰∏≠ËøêË°åÔºåÈÇ£‰πàÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÈÇ£‰∏™Êï∞ÊçÆÂ∞±Ë¢´Áß∞‰∏∫ËøõÁ®ã„ÄÇ Á≥ªÁªü‰πü‰ºöÁªô‰∫àËøô‰∏™ËøõÁ®ã‰∏Ä‰∏™IDÔºåÁß∞‰∏∫PID„ÄÇÂêåÊó∂Ëß¶ÂèëËøô‰∏™ËøõÁ®ãÁöÑÁî®Êà∑‰∏éÁõ∏ÂÖ≥Â±ûÊÄßÂÖ≥Á≥ªÔºåÁªô‰∫àËøô‰∏™PID‰∏ÄÁªÑÊúâÊïàÁöÑÊùÉÈôêËÆæÁΩÆ„ÄÇ ËøõÁ®ã‰∏éÁ®ãÂ∫èÁ®ãÂ∫èÂíåËøõÁ®ãÊ¶ÇÂøµ Á®ãÂ∫èÔºöÈÄöÂ∏∏‰∏∫‰∫åËøõÂà∂Á®ãÂ∫èÔºåÊîæÁΩÆÂú®Â≠òÂÇ®Â™í‰ªã‰∏≠Ôºå‰ª•Áâ©ÁêÜÊñá‰ª∂ÁöÑÂΩ¢ÂºèÂ≠òÂú®„ÄÇ ËøõÁ®ãÔºöÁ®ãÂ∫èÂú®Ëß¶ÂèëÂêéÔºåÊâßË°åËÄÖÁöÑÊùÉÈôê‰∏éÂ±ûÊÄß„ÄÅÁ®ãÂ∫èÁöÑÁ®ãÂ∫è‰ª£Á†Å‰∏éÊâÄÈúÄÊï∞ÊçÆÁ≠âÈÉΩ‰ºöË¢´Âä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÊìç‰ΩúÁ≥ªÁªüÁªô‰∫àËøô‰∏™ÂÜÖÂ≠ò‰∏≠ÁöÑÂçïÂÖÉ‰∏Ä‰∏™Ê†áËØÜÁ¨¶ÔºàPIDÔºâÔºåÂèØ‰ª•ËØ¥ÔºåËøõÁ®ãÂ∞±ÊòØ‰∏Ä‰∏™Ê≠£Âú®ËøêË°åÁöÑÁ®ãÂ∫è„ÄÇ Â≠êËøõÁ®ã‰∏éÁà∂ËøõÁ®ã‰∏æ‰∏™Ê†óÂ≠êÔºöÂΩìÊàë‰ª¨ÁôªÂΩïÁ≥ªÁªüÂêéÔºå‰ºöÂèñÂæó‰∏Ä‰∏™bashÁöÑshellÔºåÁÑ∂ÂêéÔºåÊàë‰ª¨Áî®Ëøô‰∏™bashÊèê‰æõÁöÑÊé•Âè£ÂéªÊâßË°åÂè¶‰∏Ä‰∏™ÂëΩ‰ª§ÔºåÈÇ£‰∫õÂè¶Â§ñÊâßË°åÁöÑÂëΩ‰ª§‰πü‰ºöË¢´Ëß¶ÂèëÁß∞‰∏∫PIDÔºåÈÇ£‰∏™ÂêéÊù•ÊâßË°åÂëΩ‰ª§Êâç‰∫ßÁîüÁöÑPIDÂ∞±ÊòØ‚ÄúÂ≠êËøõÁ®ã‚ÄùÔºåËÄåÂú®Êàë‰ª¨ÂéüÊú¨Âú®bashÁéØÂ¢É‰∏ãÔºåÂ∞±Áß∞‰∏∫‚ÄúÁà∂ËøõÁ®ã‚Äù„ÄÇÂ≠êËøõÁ®ã‰ºöÂÖ∑ÊúâPPID(Áà∂PID)„ÄÇ fork and execÔºöËøáÁ®ãË∞ÉÁî®ÁöÑÊµÅÁ®ãÂú®LinuxÁöÑËøáÁ®ãË∞ÉÁî®‰∏≠ÈÄöÂ∏∏Ë¢´Áß∞‰∏∫fork and execÁöÑÊµÅÁ®ãÔºåËøõÁ®ãÈÉΩ‰ºöÁà∂ËøõÁ®ã‰ª•Â§çÂà∂(fork)ÁöÑÊñπÂºè‰∫ßÁîü‰∏Ä‰∏™‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÂ≠êËøõÁ®ãÔºàPID‰∏ç‰∏ÄÊ†∑ÔºâÔºåÁÑ∂ÂêéË¢´Â§çÂà∂Âá∫Êù•ÁöÑÂ≠êËøõÁ®ãÂÜç‰ª•execÁöÑÊñπÂºèÊù•ÊâßË°åÂÆûÈôÖË¶ÅËøõË°åÁöÑËøõÁ®ãÔºåÊúÄÁªàÁß∞‰∏∫‰∏Ä‰∏™Â≠êËøõÁ®ãÁöÑÂ≠òÂú®„ÄÇ Â∑•‰ΩúÁÆ°ÁêÜ‰ªÄ‰πàÊòØÂ∑•‰ΩúÁÆ°ÁêÜÂ∑•‰ΩúÁÆ°ÁêÜÔºö ÂΩìÊàë‰ª¨ÁôªÂΩïÁ≥ªÁªüÂèñÂæóbash shell‰πãÂêéÔºåÂú®Âçï‰∏ÄÁªàÁ´ØÊú∫‰∏ãÂêåÊó∂ËøõË°åÂ§ö‰∏™Â∑•‰ΩúÁöÑË°å‰∏∫ÁÆ°ÁêÜ„ÄÇ ‰∏ãÈù¢ÊòØÂâçÂè∞ÂíåÂêéÂè∞ÂÆö‰πâ: ÂâçÂè∞: ‰Ω†ÂèØ‰ª•ÊéßÂà∂‰∏éÊâßË°åÂëΩ‰ª§ÁöÑÁéØÂ¢É ÂêéÂè∞Ôºö ÂèØ‰ª•Ëá™Ë°åËøêË°åÁöÑÂ∑•‰ΩúÔºå‰Ω†Êó†Ê≥ïÁî®ctrl + cÁªàÊ≠¢ÂÆÉÔºå‰ΩÜÊòØÂèØ‰ª•Áî®bg/fgË∞ÉÁî®ËØ•Â∑•‰ΩúÁöÑÁéØÂ¢É Ë¶ÅËøõË°åbashÁöÑÂ∑•‰ΩúÁÆ°ÁêÜÂøÖÈ°ªË¶ÅÊ≥®ÊÑèÁöÑÈôêÂà∂ÊòØÔºö Ëøô‰∫õÂ∑•‰ΩúÊâÄËß¶ÂèëÁöÑËøõÁ®ãÂøÖÈ°ªË¶ÅÊù•Ëá™‰Ω†ÁöÑshellÂ≠êËøõÁ®ãÔºàÂè™ÁÆ°ÁêÜËá™Â∑±ÁöÑbashÔºâ ÂêéÂè∞‰∏≠‚ÄúÊâßË°å‚ÄùÁöÑËøõÁ®ã‰∏çËÉΩÁ≠âÂæÖterminal/shellÁöÑËæìÂÖ•„ÄÇ jobÁÆ°ÁêÜÂÆûÈôÖ‰∏≠‰ΩøÁî®ÁöÑjobÊéßÂà∂‰∏ªË¶ÅÊúâ‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ôºö1234567891011121314151617181920212223242526272829// 1. Áõ¥Êé•Â∞ÜÂëΩ‰ª§‰∏¢Âà∞ÂêéÂè∞‰∏≠‚ÄúÊâßË°å‚ÄùÁöÑ &amp;tar -zpcf /tmp/tec/tar.gz /etc &amp;/*‰ºöÂá∫Áé∞[1]ÔºàÂ∑•‰ΩúÂ•ΩÔºâ 13456ÔºàËøõÁ®ãÂè∑ÔºâÂÆåÊàêÂêé‰ºöËæìÂá∫Ôºö [1] ÂÆåÊàê tar -zpcf /tmp/etc.tar.gz /etc *//*‰ΩÜÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËøêË°åÁöÑ‰ø°ÊÅØËøòÊòØ‰ºöÂá∫Áé∞Âú®Â±èÂπï‰∏äÔºå‰ºöÂΩ±ÂìçÊàë‰ª¨Ê≠£Â∏∏ÁªßÁª≠‰ΩøÁî®ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂà©Áî®Êï∞ÊçÆÊµÅÈáçÂÆöÂêëËæìÂÖ•Âà∞Êñá‰ª∂‰∏≠„ÄÇ*/// 2. Â∞ÜÁõÆÂâçÁöÑÂ∑•‰Ωú‰∏¢Âà∞ÂêéÂè∞‰∏≠‚ÄúÊöÇÂÅú‚ÄùÔºöctrl + zvim ~/.bashrc Êåâctrl+z/*‰ºöËæìÂá∫ [2]+ Â∑≤ÂÅúÊ≠¢ vim ~/.bashrc */// 3. Êü•ÁúãÁõÆÂâçÁöÑÂêéÂè∞Â∑•‰ΩúÁä∂ÊÄÅÔºöjobs// 4. Â∞ÜÂêéÂè∞Â∑•‰ΩúÊãøÂà∞ÂâçÂè∞Êù•Â§ÑÁêÜÔºöfgfg %2 //ÊãøÂá∫ÂàöÂàövimÁöÑÂ∑•‰Ωú// 5. ËÆ©Â∑•‰ΩúÂú®ÂêéÂè∞‰∏ãÂæóÁä∂ÊÄÅÂèòÊàêËøêË°å‰∏≠Ôºöbgbg %2// 6. ÁÆ°ÁêÜÂêéÂè∞ÂΩì‰∏≠ÁöÑÂ∑•‰ΩúÔºökillkill -signal %jobnumber/PID/ÂëΩ‰ª§/* signal-1ÔºöÈáçÊñ∞ËØªÂèñ‰∏ÄÊ¨°ÂèÇÊï∞ÁöÑÈÖçÁΩÆÊñá‰ª∂-2Ôºö‰∏éctrl + c‰∏ÄÊ†∑-9ÔºöÁ´ãÂàªÂº∫Âà∂Âà†Èô§‰∏Ä‰∏™Â∑•‰ΩúÔºå‰∏ç‰ºöÂà†Èô§ËøáÁ®ãÊñá‰ª∂-15(ÈªòËÆ§ÂÄº)Ôºö‰ª•Ê≠£Â∏∏ÁöÑÁ®ãÂ∫èÊñπÂºèÁªàÊ≠¢‰∏ÄÈ°πÂ∑•‰ΩúÔºå‰ºöÂà†Èô§ËøáÁ®ãÊñá‰ª∂ */ ËÑ±Êú∫ÁÆ°ÁêÜÂ¶ÇÊûú‰Ω†ÊòØ‰ΩøÁî®&amp;Êù•ÊîæÁΩÆÂêéÂè∞Â∑•‰ΩúÔºåÂΩì‰Ω†Êñ≠ÂºÄ‰∏éÁªàÁ´ØÊú∫ÁöÑËøûÊé•ÔºàËÑ±Êú∫ÔºâÔºåÈÇ£‰πàÂêéÂè∞Â∑•‰ΩúÂ∞±‰ºöË¢´‰∏≠Êñ≠Êéâ„ÄÇÂ¶ÇÊûúÊàë‰ª¨‰∏çÊÉ≥ËøôÊ†∑Â∞±ÂèØ‰ª•‰ΩøÁî®atÊàñËÄÖnohupÂëΩ‰ª§ÔºåÊàë‰ª¨‰∏ªË¶ÅËÆ≤‰∏Ä‰∏ãnohupÁöÑËøô‰∏™ÂëΩ‰ª§ÔºåËøô‰∏™ÂëΩ‰ª§ÂèØ‰ª•ËÆ©‰Ω†Âú®ËÑ±Êú∫ÊàñÊ≥®ÈîÄÁ≥ªÁªüÂêéÔºåËøòËÉΩÂ§üËÆ©Â∑•‰ΩúÁªßÁª≠ËøõË°å„ÄÇËåÉ‰æãÂ¶Ç‰∏ãÔºö12345// 1. Âú®ÁªàÁ´ØÊú∫ÂâçÂè∞‰∏≠Â∑•‰Ωúnohup ÂëΩ‰ª§// 1. Âú®ÁªàÁ´ØÊú∫ÂêéÂè∞Â∑•‰Ωúnohup ÂëΩ‰ª§ &amp; ÂΩì‰Ω†‰ΩøÁî®Ëøô‰∏™ÂëΩ‰ª§‰πãÂêéÔºå‰Ω†‰ºöÂèëÁé∞‰ºöÂá∫Áé∞‰∏Ä‰∏™nohup.outÊñá‰ª∂ÔºåËøô‰∏™Êñá‰ª∂ÂÖ∂ÂÆûÂ∞±ÊòØÂ∞ÜÂéüÊú¨ÂâçÂè∞ÊòæÁ§∫ÁöÑ‰∏úË•øÈáçÂÆöÂêëÂà∞Ëøô‰∏™Êñá‰ª∂‰∏≠„ÄÇ ËøõÁ®ãÁÆ°ÁêÜËøõÁ®ãÁöÑÊü•ÁúãÈùôÊÄÅÁöÑpsPSÔºöÂ¶ÇÊûúman page‰∏çÂ•ΩÊü•ÈòÖÔºåÊúÄÂ•ΩÊòØÁõ¥Êé•Ë¢´Âá†‰∏™Â∏∏Áî®ÁöÑÂèÇÊï∞„ÄÇ Ëøô‰∏™ÂëΩ‰ª§ÊòØÂ∞ÜÊüê‰∏™Êó∂Èó¥ÁÇπÁöÑËøõÁ®ãËøêË°åÊÉÖÂÜµÈÄâÂèñ‰∏ãÊù•Ôºå‰∏ªË¶ÅÁöÑËåÉ‰æãÂ¶Ç‰∏ãÔºö ‰ªÖÊü•ÁúãËá™Â∑±ÁöÑbashÁöÑÁõ∏ÂÖ≥ËøõÁ®ã 123456789101112131415161718192021222324ps -l/* ËæìÂá∫ÂàóÂ≠êÂ¶Ç‰∏ãÔºöF S UID PID PPID C PRI NI ADDR SZ WCHAN TTY TIME CMD4 S 0 10573 10567 0 80 0 - 29064 wait pts/0 00:00:00 bashÂê´‰πâÂ¶Ç‰∏ãÔºöFÔºöÁ®ãÂ∫èÊ†áËØÜÔºàprocess flagsÔºâÔºåËØ¥ÊòéÁ®ãÂ∫èÁöÑÊùÉÈôêÔºå4‰ª£Ë°®rootÔºå1‰ª£Ë°®Â≠êÁ®ãÂ∫è‰ªÖËÉΩfork‰∏çËÉΩexecSÔºöÁ®ãÂ∫èÁä∂ÊÄÅÔºàstateÔºâÔºå‰∏ªË¶ÅÊúâR(running)„ÄÅS(sleep)„ÄÅD(‰∏çÂèØÂî§ÈÜí)„ÄÅT(stop)„ÄÅZÔºàÂÉµÂ∞∏ÔºåÂëΩ‰ª§‰Ωç‰ºöË∑ü&lt;defunct&gt;ÔºâUID/PID/PPID ÔºöPPIDÊåáÁà∂Á®ãÂ∫èÁöÑPIDCÔºö‰ª£Ë°®CPU‰ΩøÁî®ÁéáÔºåÂçï‰Ωç‰∏∫ÁôæÂàÜÊØîPRI/NIÔºöÊ≠§Á®ãÂ∫èË¢´CPUÊâßË°å‰ºòÂÖàÁ∫ßÔºåÊï∞ÂÄºË∂äÂ∞èÁ®ãÂ∫è‰ºòÂÖàÁ∫ßË∂äÈ´òADDR/SZ/WCHANÔºöADDR‰ª£Ë°®Âú®ÂÜÖÂ≠òÂì™‰∏™ÈÉ®ÂàÜÔºåSZ‰ª£Ë°®Áî®ÊéâÂ§öÂ∞ëÂÜÖÂ≠òÔºåWCHANË°®Á§∫Á®ãÂ∫èÊòØÂê¶Ê≠£Âú®Ëøê‰ΩúTTYÔºöÁôªÈôÜËÄÖÁöÑÁªàÁ´ØÊú∫‰ΩçÁΩÆÔºåËøúÁ®ãÁôªÂΩïÊó∂‰∏∫ pts/nTIMEÔºö‰ΩøÁî®ÊéâÁöÑCPUÊó∂Èó¥ÔºåÁ®ãÂ∫èÂÆûÈôÖËä±Ë¥πCPUËøê‰ΩúÊó∂Èó¥CMDÔºöËß¶ÂèëÁ®ãÂ∫èÁöÑÊåá‰ª§ */ Êü•ÁúãÁ≥ªÁªüÊâÄÊúâËøõÁ®ãÔºöps aux 12345678910111213141516171819202122232425262728ps aux/* ËæìÂá∫ÂàóÂ≠êÂ¶Ç‰∏ãÔºöUSER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMANDroot 1 0.0 0.1 43156 3136 ? Ss 3Êúà10 1:27 /usr/lib/systemd/systemd --swiÂê´‰πâÂ¶Ç‰∏ãÔºöUSERÔºöËØ•ËøõÁ®ãÂ±û‰∫éÂì™‰∏™Áî®Êà∑Ë¥¶Âè∑PID ÔºöËøõÁ®ãID%CPUÔºöËØ•ËøõÁ®ã‰ΩøÁî®ÊéâÁöÑCPUËµÑÊ∫êÂÜÖÂ≠òÁôæÂàÜÊØî%MEMÔºöËØ•ËøõÁ®ãÊâÄÂç†Áî®ÁöÑÁâ©ÁêÜÂÜÖÂ≠òÁôæÂàÜÊØîVSZÔºöËØ•ËøõÁ®ã‰ΩøÁî®ÊéâÁöÑËôöÊãüÂÜÖÂ≠òÈáèÔºàKBÔºâRSSÔºöËØ•ËøõÁ®ãÂç†Áî®ÁöÑÂõ∫ÂÆöÁöÑÂÜÖÂ≠òÈáèÔºàKBÔºâTTYÔºöÁôªÈôÜËÄÖÁöÑÁªàÁ´ØÊú∫‰ΩçÁΩÆÔºåËøúÁ®ãÁôªÂΩïÊó∂‰∏∫ pts/nSTATÔºö‰∏éps -lÁöÑSË°®Á§∫Áõ∏ÂêåSTARTÔºöËØ•ËøõÁ®ãË¢´Ëß¶ÂèëÂêØÂä®ÁöÑÊó∂Èó¥TIMEÔºöÁ®ãÂ∫èÂÆûÈôÖËä±Ë¥πCPUËøê‰ΩúÊó∂Èó¥CMDÔºöËØ•ËøõÁ®ãÁöÑÂÆûÈôÖÂëΩ‰ª§ */ Âä®ÊÄÅÁöÑtopËøô‰∏™ÂëΩ‰ª§ÂèØ‰ª•ÊåÅÁª≠ÁöÑÊ£ÄÊµãËøõÁ®ãËøêË°åÁöÑÁä∂ÊÄÅÔºå‰∏ªË¶ÅËåÉ‰æãÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425// 1. ÊØè‰∏§ÁßíÊõ¥Êñ∞‰∏ÄÊ¨°topÔºåÊü•ÁúãÊï¥‰Ωì‰ø°ÊÅØÔºåÈªòËÆ§5Áßítop -d 2/* ËæìÂá∫‰æãÂ≠êÔºötop - 10:54:10 up 22 days, 19:25, 1 user, load average: 0.13, 0.07, 0.06Tasks: 69 total, 2 running, 66 sleeping, 1 stopped, 0 zombie%Cpu(s): 0.5 us, 0.0 sy, 0.0 ni, 99.5 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 stKiB Mem : 1883844 total, 77012 free, 356884 used, 1449948 buff/cacheKiB Swap: 0 total, 0 free, 0 used. 1328820 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 1861 root 20 0 608356 12236 1788 S 0.5 0.6 60:48.59 barad_agent topËßÅÁïåÈù¢‰∏ªË¶ÅÂàÜ‰∏∫‰∏§‰∏™ÁïåÈù¢Ôºö ‰∏äÈù¢‰∏∫Êï¥‰∏™Á≥ªÁªüÁöÑËµÑÊ∫ê‰ΩøÁî®Áä∂ÊÄÅÔºåÂü∫Êú¨‰∏äÊÄªÂÖ±ÊúâÂÖ≠Ë°åÔºåÊòæÁ§∫ÁöÑÂÜÖÂÆπ‰æùÊ¨°ÊòØÔºö 1. ÁõÆÂâçÁöÑÊó∂Èó¥ÔºåÂºÄÊú∫Âà∞ÁõÆÂâç‰∏∫Ê≠¢ÊâÄÁªèËøáÁöÑÊó∂Èó¥ÔºåÂ∑≤ÁªèÁôªÂΩïÁ≥ªÁªüÁöÑÁöÑÁî®Êà∑Êï∞,Á≥ªÁªüÂú®1Ôºå5Ôºå15ÂàÜÈíüÁöÑÂπ≥ÂùáÂ∑•‰ΩúË¥üËΩΩ 2. ÁõÆÂâçËøõÁ®ãÁöÑÊÄªÈáè‰∏éÂêÑ‰∏™Á¥ØÂëóËøõÁ®ãÁöÑÊÄªÈáèÔºåÊ≥®ÊÑèzombieÂÉµÂ∞∏ËøõÁ®ãÁöÑÊï∞Èáè 3. CPUÁöÑÊï¥‰ΩìË¥üËΩΩÔºåÊ≥®ÊÑèwaÔºàI/OwaitÔºâ 4. Áâ©ÁêÜÂÜÖÂ≠òÁöÑ‰ΩøÁî®ÊÉÖÂÜµ 5. ËôöÊãüÂÜÖÂ≠òÁöÑ‰ΩøÁî®ÊÉÖÂÜµÔºåswapÁöÑÊòØÁî®Êù•‰∏ÄÂÆöË¶ÅÂ∞è 6. Ëøô‰∏™ÊòØÂΩìÂú®topËøõÁ®ã‰∏≠ËæìÂÖ•ÂëΩ‰ª§Êó∂ÊòæÁ§∫Áä∂ÊÄÅÁöÑÂú∞ÊñπÔºåËæìÂÖ•rÂèØ‰øÆÊîπniceÂÄº ‰∏ãÈù¢‰∏∫ÊØè‰∏™ËøõÁ®ã‰ΩøÁî®ËµÑÊ∫êÊÉÖÂÜµÔºåÂêÑ‰∏™ÂèÇÊï∞Âê´‰πâÂèØÂèÇÁÖßps„ÄÇ */ ËøõÁ®ãÊ†ëpstreeÂ¶ÇÊûúÊÉ≥ÊâæÂà∞ËøõÁ®ã‰πãÈó¥ÁöÑÁõ∏ÂÖ≥ÊÄßÔºåËøô‰∏™pstreeÂ∞±ËÉΩÂ§üÂæàÂ•ΩÁöÑÂ∏ÆÂä©Êàë‰ª¨ÔºåÂÆÉ‰ºö‰ΩøÁî®Á∫øÊÆµÂ∞ÜÁõ∏ÂÖ≥ÊÄßËøõÁ®ãËøûÊé•Ëµ∑Êù•ÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö1234567891011// 1.ÂàóÂá∫ÁõÆÂâçÁ≥ªÁªü‰∏äÈù¢ÊâÄÊúâÁöÑËøõÁ®ãÊï∞ÁöÑÁõ∏ÂÖ≥ÊÄßpstree -AËæìÂÖ•Â¶Ç‰∏ãÔºösystemd-+-acpid |-2*[agetty] |-atd |-auditd---&#123;auditd&#125; ...// 2. Âú®1ÁöÑÂü∫Á°Ä‰∏äÔºåÂêåÊó∂ÊòæÁ§∫Âá∫PID‰∏éuserspstree -Aup ËøõÁ®ãÁöÑÊâßË°åÈ°∫Â∫èCPU‰ºòÂÖàÂ§ÑÁêÜÂì™‰∏™ËøõÁ®ãÔºåËøôÂ∞±ÈúÄË¶ÅËÄÉËôëÂà∞Á®ãÂ∫èÁöÑ‰ºòÂÖàÊâßË°åÂ∫è(priority)‰∏éCPUÁöÑË∞ÉÂ∫¶„ÄÇÂÖ∑‰ΩìÂà∞ÂÄºÊù•ËØ¥Â∞±ÊòØË¶ÅËÄÉËôëÂà∞PRIÂíåniceÂÄºÔºà‰πãÂâçÁî®topÂíåpsÊòæÁ§∫ËøáÔºâ„ÄÇPRIÂÄºË∂ä‰Ωé‰ª£Ë°®Ë∂ä‰ºòÂÖàÔºå‰∏çËøáËøô‰∏™PRIÂÄºÊòØÁî±ÂÜÖÊ†∏Âä®ÊÄÅË∞ÉÊï¥ÁöÑÔºåÂÖ∑ÊúâÊó†Ê≥ïË∞ÉÊï¥Ôºå‰ΩÜÊòØNiceÂÄºÊàë‰ª¨ÂèØ‰ª•ÊîπÂèò„ÄÇ‰∏ãÈù¢ÁöÑPRIÂÄºÊîπÂèòÁöÑÂÖ¨ÂºèÔºö PRI(new) = PRI(old) + nice ‰∏ãÈù¢ÊòØÂÖ≥‰∫éniceÂÄºÁöÑ‰ΩøÁî®ËåÉ‰æãÔºö12345// 1. Âú®‰ΩøÁî®ÂëΩ‰ª§ÁöÑÊó∂ÂÄôËÆæÁΩÆniceÂÄºÔºåÁªôniceÂÄº‰∏∫-5ÂéªÊâßË°åvinice -n vi &amp;// 2. Â∑≤Â≠òÂú®ËøõÁ®ãÁöÑniceÈáçÊñ∞ÂàÜÈÖçÔºåÂ∞ÜPID‰∏∫18625ÁöÑËøõÁ®ãniceÂÄºË∞ÉÊï¥Âà∞10renice 10 18625 Á≥ªÁªüËµÑÊ∫êÁöÑÊü•Áúã Êü•ÁúãÂÜÖÂ≠òÁöÑ‰ΩøÁî®ÊÉÖÂÜµÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö 12// 1. Êü•ÁúãÁõÆÂâçÁ≥ªÁªüÁöÑÂÜÖÂ≠òÂÆπÈáèfree -m Êü•ÁúãÁ≥ªÁªü‰∏éÂÜÖÊ†∏Áõ∏ÂÖ≥‰ø°ÊÅØÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö 12// 1. ËæìÂá∫Á≥ªÁªüÁöÑÂü∫Êú¨‰ø°ÊÅØuname -a Êü•ÁúãÁ≥ªÁªüÂêØÂä®Êó∂Èó¥‰∏éÂÜÖÂ≠òË¥üËΩΩÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö 1uptime Ë∑üË∏™ÁΩëÁªú(ÂæàÈáçË¶Å)ÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö 12345// 1. ÂàóÂá∫ÁõÆÂâçÁ≥ªÁªü‰ª•ÂèäÊñ∞Âª∫ÁöÑÁΩëÁªúËøûÊé•‰∏éunix socketÁä∂ÊÄÅnetstat// 2. ÊâæÂá∫ÁõÆÂâçÁ≥ªÁªü‰∏äÂ∑≤Âú®ÁõëÂê¨ÁöÑÁΩëÁªúËøûÊé•Êú∫ÂèäÂÖ∂PID(ÂæàÈáçË¶Å)netstat -tlnp ÂàÜÊûêÂÜÖÊ†∏‰∫ßÁîüÁöÑ‰ø°ÊÅØÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö 12345// 1. ËæìÂá∫ÊâÄÊúâÁöÑÂÜÖÊ†∏ÂºÄÊú∫Êó∂ÁöÑ‰ø°ÊÅØdmesg | more// 2. Êü•ÊâæÂºÄÊú∫ÁöÑÊó∂ÂÄôÁ°¨ÁõòÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØdmesg | grep i hd Ê£ÄÊµãÁ≥ªÁªüËµÑÊ∫êÂèòÂåñÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö 1234567// 1. ÁªüËÆ°ÁõÆÂâç‰∏ªÊú∫CPUÁä∂ÊÄÅÔºåÊØèÁßí‰∏ÄÊ¨°ÔºåÂÖ±ËÆ°‰∏âÊ¨°vmstat 1 3// 2. Á≥ªÁªü‰∏äÈù¢ÊâÄÊúâÁ£ÅÁõòÁöÑËØªÂÜôÁä∂ÊÄÅvmstat -dPSÔºöËØ¶ÁªÜÁöÑÂêÑ‰∏™Â≠óÊÆµÁöÑÂê´‰πâÔºåÂ§ßÂÆ∂Â∞±Ëá™Â∑±Êü•ËØ¢man vmstatÂ•Ω‰∫ÜÔºå‰π†ÊÉØÂ∞±Â•Ω„ÄÇ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_‰æãË°åÊÄßÂ∑•‰Ωú(crontab)]]></title>
    <url>%2F2018%2F03%2F31%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_%E4%BE%8B%E8%A1%8C%E6%80%A7%E5%B7%A5%E4%BD%9C(crontab)%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁ≥ªÁªüÂ∏∏Â∏∏‰ºö‰∏ªÂä®ËøõË°å‰∏Ä‰∫õ‰ªªÂä°ÔºåËøô‰æùÈù†ÁöÑÂ∞±ÊòØËÆæÁΩÆ‰∫Ü‰æãË°åÊÄßÂ∑•‰Ωú„ÄÇ ‰ªÄ‰πàÊòØ‰æãË°åÊÄßÂ∑•‰ΩúÔºàÂÆöÊó∂‰ªªÂä°crontabÔºâÊ†πÊçÆÂçïËØçcrontabÔºàÂÆöÊó∂‰ªªÂä°ÔºâÂ∞±ÂèØ‰ª•Áü•ÈÅì ‰æãË°åÊÄßÂ∑•‰Ωú ÂÖ∂ÂÆûÂ∞±ÊòØÊØèÂ§©ÈÉΩ‰ºöÂπ≤ÁöÑ‰∫ã„ÄÇ LinuxÂ∑•‰ΩúË∞ÉÂ∫¶ÁöÑÁßçÁ±ª ‰æãË°åÊÄßÁöÑÔºåÂ∞±ÊòØÊØèÈöî‰∏ÄÂÆöÁöÑÂë®ÊúüË¶ÅÊù•ÂäûÁöÑ‰∫ãÔºåÂà©Áî®crontabÂÆûÁé∞ÔºåËøô‰∏™ÂëΩ‰ª§ÊâÄËÆæÁΩÆÁöÑÂ∑•‰ΩúÂ∞Ü‰ºöÂæ™ÁéØ‰∏ÄÁõ¥ËøõË°å‰∏ãÂéªÔºåÂèØÂæ™ÁéØÁöÑÊó∂Èó¥‰∏∫ÂàÜÈíüÔºåÂ∞èÊó∂ÔºåÊØèÂë®ÔºåÊØèÊúàÊàñÊØèÂπ¥Á≠âÔºåcrontabÈô§‰∫ÜÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§ÊâßË°åÂ§ñÔºå‰πüÂèØÁºñËæë/etc/crontabÊù•ÊîØÊåÅ„ÄÇËá≥‰∫éËÆ©crontabÂèØ‰ª•ÁîüÊïàÁöÑÂêéÂè∞ÊúçÂä°ÊòØcrondËøô‰∏™ÊúçÂä°„ÄÇ Á™ÅÂèëÊÄßÁöÑÔºåÂ∞±ÊòØËøôÊ¨°ÂÅöÂÆå‰ª•ÂêéÂ∞±Ê≤°ÊúâÁöÑ‰∫ãÔºåÂà©Áî®atÂÆûÁé∞Ôºå‰ΩÜÊòØËøô‰∏™ÂøÖÈ°ªË¶ÅÊúâatdÂêéÂè∞ÊúçÂä°ÊîØÊåÅÊâçË°å„ÄÇ Linux‰∏äÂ∏∏ËßÅÁöÑ‰æãË°åÊÄßÂ∑•‰Ωú ËøõË°åÊó•ÂøóÊñá‰ª∂ÁöÑËΩÆÊõøÔºåËÆ©ÊóßÁöÑÊï∞ÊçÆÂíåÊñ∞ÁöÑÊï∞ÊçÆÂàÜÂºÄÂ≠òÊîæ Êó•ÂøóÊñá‰ª∂ÂàÜÊûêlogwatchÁöÑ‰ªªÂä° Êñ∞Âª∫locateÁöÑÊï∞ÊçÆÂ∫ìÔºåÁ≥ªÁªü‰ºö‰∏ªÂä®ËøõË°åupdatedb whatisÊï∞ÊçÆÂ∫ìÁöÑÂª∫Á´ã Âà†Èô§‰∏¥Êó∂Êñá‰ª∂ ‰ªÖÊâßË°å‰∏ÄÊ¨°ÁöÑÂ∑•‰ΩúË∞ÉÂ∫¶ÔºöatatÁöÑËøêË°åÊñπÂºèÊàë‰ª¨‰ΩøÁî®atËøô‰∏™ÂëΩ‰ª§Êù•ÁîüÊàêÊâÄË¶ÅËøõË°åÁöÑÂ∑•‰ΩúÔºåÂπ∂Â∞ÜËøô‰∏™Â∑•‰Ωú‰ª•ÊñáÊú¨Êñá‰ª∂ÁöÑÊñπÂºèÂÜôÂÖ•/var/spool/atÁõÆÂΩï‰∏≠ÔºåËØ•Â∑•‰Ωú‰æøËÉΩÁ≠âÂæÖatdËøô‰∏™ÊúçÂä°ÁöÑÂèñÁî®‰∏éÊâßË°å‰∫Ü„ÄÇ‰ΩÜÊòØÂπ∂‰∏çÊòØÊâÄÊúâÁöÑ‰∫∫ÈÉΩÂèØ‰ª•ËøõË°åatÂ∑•‰ΩúË∞ÉÂ∫¶Â∑•‰ΩúÁöÑÔºåÂõ†‰∏∫ÂÆâÂÖ®„ÄÇÊàë‰ª¨ÂèØ‰ª•Âà©Áî®/etc/at.allow‰∏é/etc/at.denyËøô‰∏§‰∏™Êñá‰ª∂ËøõË°åatÁöÑ‰ΩøÁî®ÈôêÂà∂ÔºåÂä†‰∏äËøô‰∏§‰∏™Êñá‰ª∂ÂêéÔºåatÁöÑÂ∑•‰ΩúÊÉÖÂÜµÂÖ∂ÂÆûÊòØËøôÊ†∑ÁöÑÔºö ÂÖàÂØªÊâæ/etc/at.allowËøô‰∏™Êñá‰ª∂ÔºåÂÜôÂú®Ëøô‰∏™Êñá‰ª∂‰∏≠ÁöÑÁî®Êà∑ÊâçËÉΩ‰ΩøÁî®atÔºåÊ≤°ÊúâÂú®Ëøô‰∏™Êñá‰ª∂‰∏≠ÁöÑÁî®Êà∑Âàô‰∏çËÉΩ‰ΩøÁî®at(Âç≥Êó∂Ê≤°ÊúâÂÜôÂú®at.denyÂΩì‰∏≠) Â¶ÇÊûú/etc/at.allow‰∏çÂ≠òÂú®ÔºåÂ∞±ÂØªÊâæ/etc/at.denyËøô‰∏™Êñá‰ª∂ÔºåËã•Âç∏ËΩΩËøô‰∏™at.denyÁöÑÁî®Êà∑Âàô‰∏çËÉΩ‰ΩøÁî®atÔºåËÄåÊ≤°ÊúâÂú®Ëøô‰∏™Êñá‰ª∂‰∏≠ÁöÑÁî®Êà∑Â∞±ÂèØ‰ª•‰ΩøÁî®at‰∫Ü Â¶ÇÊûúËøô‰∏§‰∏™Êñá‰ª∂ÈÉΩ‰∏çÂ≠òÂú®ÔºåÈÇ£‰πàÂ∞±Âè™ÊúârootÂèØ‰ª•‰ΩøÁî®atËøô‰∏™ÂëΩ‰ª§ ÂÆûÈôÖËøêË°åÂçï‰∏ÄÂ∑•‰ΩúË∞ÉÂ∫¶Âçï‰∏ÄÂ∑•‰ΩúË∞ÉÂ∫¶ÁöÑËøõË°åÂ∞±‰ΩøÁî®atËøô‰∏™ÂëΩ‰ª§ÔºåËøô‰∏™ÂëΩ‰ª§ÁöÑËøêË°åÂçÅÂàÜÁÆÄÂçïÔºÅÂ∞ÜatÂä†‰∏ä‰∏Ä‰∏™Êó∂Èó¥Âç≥ÂèØÔºÅËåÉ‰æãÂÖ•‰∏ãÔºö12345// 1. at [-mldv] TIMEat noe + 5 minutes // ÂÜçËøá‰∫îÂàÜÈíüÊâßË°åÔºåÊé•‰∏ãÊù•ËæìÂÖ•ÊâßË°åÁöÑÂëΩ‰ª§Ôºå‰ΩøÁî®ctrl + d ÁªìÊùü„ÄÇ// 2. at -c Â∑•‰ΩúÂè∑Á†Å // Â∞ÜÁ¨¨Âá†Âè∑Â∑•‰ΩúË∞ÉÂá∫Êù•Êü•Áúãat -c 1 // Â∞ÜÁ¨¨‰∏ÄÂè∑Â∑•‰ΩúË∞ÉÂá∫Êù• ‰∫ãÂÆû‰∏äÔºåÂΩìÊàë‰ª¨‰ΩøÁî®atÊó∂‰ºöËøõÂÖ•‰∏Ä‰∏™at shellÁöÑÁéØÂ¢ÉÊù•ËÆ©Áî®Êà∑ÊâßË°åÂ∑•‰ΩúÂëΩ‰ª§ÔºåÊ≠§Êó∂ÔºåÂª∫ËÆÆ‰Ω†ÊúÄÂ•Ω‰ΩøÁî®ÁªùÂØπË∑ØÂæÑÊù•ÊâßË°å‰Ω†ÁöÑÂëΩ‰ª§ÔºåÊØîËæÉ‰∏ç‰ºöÊúâÈóÆÈ¢ò„ÄÇ atËøòÊúâ‰∏Ä‰∏™ÂæàÊ£íÁöÑ‰ºòÁÇπÂ∞±ÊòØÂêéÂè∞ÊâßË°åÁöÑÂäüËÉΩÔºåÂíånohupÁ±ª‰ºº„ÄÇ atÁöÑÂ∑•‰ΩúÁÆ°ÁêÜ ‰∏ªË¶ÅÊòØÂà©Áî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ôºö12345# Êü•ËØ¢ÁõÆÂâç‰∏ªÊú∫‰∏äÈù¢ÊúâÂ§öÂ∞ëÁöÑatÂ∑•‰ΩúË∞ÉÂ∫¶atq# Â∞ÜÁ¨¨3‰∏™Â∑•‰ΩúÂà†Èô§atrm 3 Âæ™ÁéØÊâßË°åÁöÑ‰æãË°åÊÄßÂ∑•‰ΩúË∞ÉÂ∫¶Áõ∏ÂØπ‰∫éatÊòØ‰ªÖÊâßË°å‰∏ÄÊ¨°ÁöÑÂ∑•‰ΩúÔºåÂæ™ÁéØÊâßË°åÁöÑ‰æãË°åÊÄßÂ∑•‰ΩúË∞ÉÂ∫¶ÂÆ§ÂèãcrondËøô‰∏™Á≥ªÁªüÊúçÂä°Êù•ÊéßÂà∂ÁöÑÔºåÁî±‰∫éLinuxÁ≥ªÁªü‰∏äÂéüÊú¨Â∞±ÊúâÂæàÂ§öÁöÑ‰æãË°åÊÄßÂ∑•‰ΩúÔºåÊâÄ‰ª•Ëøô‰∏™Á≥ªÁªüÊúçÂä°ÊòØÈªòËÆ§ÂºÄÂêØÁöÑ„ÄÇÂè¶Â§ñÔºåÁî±‰∫éÁî®Êà∑Ëá™Â∑±‰πüÂèØ‰ª•ËøõË°å‰æãË°åÊÄßÂ∑•‰ΩúË∞ÉÂ∫¶ÔºåÊâÄ‰ª•ÔºåLinuxÂèØÊèê‰æõÁî®Êà∑ÊéßÂà∂‰æãË°åÊÄßÂ∑•‰ΩúË∞ÉÂ∫¶ÁöÑÂëΩ‰ª§ÔºàcrontabÔºâ„ÄÇ Áî®Êà∑ÁöÑËÆæÁΩÆ‰∏é‰ΩøÁî®‰∏∫‰∫ÜÂÆâÂÖ®ÊÄßÁöÑÈóÆÈ¢òÔºå‰∏éatÁ±ª‰ººÔºåÊàë‰ª¨ÂèØ‰ª•ÈôêÂà∂‰ΩøÁî®crontabÁöÑÁî®Êà∑Ë¥¶Âè∑„ÄÇ‰ΩøÁî®ÁöÑÈôêÂà∂Êï∞ÊçÆÊúâÔºö /etc/cron.allowÔºöÂ∞ÜÂèØ‰ª•‰ΩøÁî®crontabÁöÑË¥¶Âè∑ÂÜôÂÖ•ÂÖ∂‰∏≠ÔºåËã•‰∏çÂú®Ëøô‰∏™Êñá‰ª∂ÂÜÖÁöÑÁî®Êà∑Âàô‰∏çÂèØ‰ΩøÁî®crontab„ÄÇ /etc/cron.denyÔºöÂ∞Ü‰∏çÂèØ‰ª•‰ΩøÁî®crontabÁöÑË¥¶Âè∑ÂÜôÂÖ•ÂÖ∂‰∏≠ÔºåËã•‰∏∫ËÆ∞ÂΩïÂà∞Ëøô‰∏™Êñá‰ª∂‰∏≠ÁöÑÁî®Êà∑ÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®crontab„ÄÇ ‰ª•‰ºòÂÖàÁ∫ßÊù•ËØ¥Ôºå/etc/cron.allowÊØî/etc/cron.denyË¶Å‰ºòÂÖàÔºåËÄåÂà§Êñ≠‰∏äÈù¢Ôºå‰∏§‰∏™Êñá‰ª∂Âè™ÈÄâÊã©‰∏Ä‰∏™Êù•ÈôêÂà∂ËÄåÂ∑≤ÔºåÂõ†Ê≠§ÔºåÂª∫ËÆÆ‰Ω†Âè™Ë¶Å‰øùÁïô‰∏Ä‰∏™Âç≥ÂèØ„ÄÇ ÂΩìÁî®Êà∑‰ΩøÁî®crontabËøô‰∏™ÂëΩ‰ª§Êù•Êñ∞Âª∫Â∑•‰ΩúË∞ÉÂ∫¶‰πãÂêéÔºåËØ•È°πÂ∑•‰ΩúÂ∞±‰ºöË¢´ËÆ∞ÂΩï/var/spool/cron/ÈáåÈù¢ÔºåËÄå‰∏îÊòØ‰ª•Ë¥¶Âè∑Êù•Âå∫ÂàÜÁöÑ„ÄÇÂè¶Â§ñÔºåcronÊâßË°åÁöÑÊØè‰∏ÄÈ°πÂ∑•‰ΩúÈÉΩ‰ºöË¢´ËÆ∞ÂΩïÂà∞/var/log/cronËøô‰∏™Êó•ÂøóÊñá‰ª∂‰∏≠ÔºåÊâÄ‰ª•ÔºåÂ¶ÇÊûú‰Ω†ÁöÑLinux‰∏çÁü•ÈÅìÊòØÂê¶Ë¢´Ê§çÂÖ•ÂØÜÁ†ÅÔºå‰πüÂèØ‰ª•Êü•ËØ¢‰∏Ä‰∏ãËøô‰∏™Êó•ÂøóÊñá‰ª∂„ÄÇ ‰∏ãÈù¢ÊòØÂÆÉÁöÑ‰ΩøÁî®ËåÉ‰æãÔºö12345678910111213// 1. Áî®rootÁöÑË∫´‰ªΩÂú®ÊØèÂ§©ÁöÑ12:00Âíå14:00Êü•Áúã‰∏ªÊñá‰ª∂Â§πÁõÆÂΩï√ü# ÁºñËæëcrontabÁöÑÂ∑•‰ΩúÂÜÖÂÆπcrontab -e# ËøõÂÖ•viÁïåÈù¢ÔºåÊØèÈ°πÂ∑•‰ΩúÈÉΩÊòØ‰∏ÄË°å0 12,14 * * * ls / // Ëß£ÈáäÂêÑÂàóÂê´‰πâÔºö// 1. ÂàÜÔºõ2. Â∞èÊó∂Ôºõ3. Êó•ÊúüÔºõ4. Êúà‰ªΩ; 5. Âë®Ôºõ 6. ÂëΩ‰ª§// ÂÖ∂‰∏≠‚Äú,‚ÄùË°®Á§∫ÂàÜÂâ≤Êó∂ÊÆµÔºå‚Äú-‚ÄùË°®Á§∫‰∏ÄÊÆµÊó∂Èó¥ËåÉÂõ¥Ôºå/n Ë°®Á§∫ÊØèÈöînÂçï‰ΩçÈó¥Èöî// 2. Êü•ËØ¢crontab‰ªªÂä°crontab -l// 3. Ëã•Ë¶ÅÂà†Èô§‰∏ÄÈ°πÂ∑•‰ΩúÔºåÂøÖÈ°ªË¶ÅÁî®crontab -eÂéªÁºñËæëÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÂà†Èô§ÂÖ®ÈÉ®Â∑•‰ΩúÔºåÂ¶Ç‰∏ãÔºöcrontab -r Á≥ªÁªüÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºö/etc/crontabcrontab -eÊòØÈíàÂØπÁî®Êà∑ÁöÑ‰æãË°åÊÄßÂ∑•‰ΩúÊù•ËÆæËÆ°ÁöÑÔºåÂ¶ÇÊûúÊàë‰ª¨Ë¶Å‰øÆÊîπÁ≥ªÁªüÁöÑ‰æãË°åÊÄß‰ªªÂä°ÔºåÂ∞±ÈúÄË¶ÅÁºñËæë/etc/crontab‰∫Ü„ÄÇ Âü∫Êú¨‰∏äÔºåcronËøô‰∏™ÊúçÂä°ÁöÑÊúÄ‰ΩéÊ£ÄÊµãÈôêÂà∂ÊòØ‚ÄúÂàÜÈíü‚ÄùÔºåÊâÄ‰ª•cron‰ºöÊØèÂàÜÈíüÂéªËØªÂèñ‰∏ÄÊ¨°/etc/crontab‰∏é/var/spool/cronÈáåÈù¢ÁöÑÊï∞ÊçÆÂÜÖÂÆπ„ÄÇ ÂèØÂî§ÈÜíÂÅúÊú∫ÊúüÈó¥ÁöÑÂ∑•‰Ωú‰ªªÂä°Â¶ÇÊûú‰æãË°åÊÄßÂ∑•‰ΩúÊòØÂú®ÂáåÊô®4ÁÇπËøêË°åÁöÑÔºå‰ΩÜÊòØÂàöÂ•ΩÂÖ≥Êú∫‰∫ÜÔºå ‰Ω†7ÁÇπÂºÄÊú∫‰∫ÜÔºå‰Ω†ÊÄª‰∏çËÉΩ‰∏çÁÆ°ÂÆÉÂêßÔºåËøôÂ∞±ÈúÄË¶ÅÁî®Âà∞anacron„ÄÇ ‰ªÄ‰πàÊòØanacronanacronÂ≠òÂú®ÁöÑÁõÆÁöÑ ÊòØÂ§ÑÁêÜÈùû24Â∞èÊó∂‰∏ÄÁõ¥ÂêØÂä®ÁöÑlinuxÁ≥ªÁªüÁöÑcrontabÁöÑÊâßË°å„ÄÇ anacron‰πüÊòØÈÄöËøácrontabÊù•ËøêË°åÁöÑÔºåÂõ†Ê≠§anacronÁöÑËøêË°åÁöÑÊó∂Èó¥ÈÄöÂ∏∏Êúâ‰∏§‰∏™Ôºå‰∏ÄÊòØÁ≥ªÁªüÂºÄÊú∫ÊúüÈó¥ËøêË°åÔºå‰∏Ä‰∏™ÊòØÂÜôÂÖ•crontabÁöÑË∞ÉÂ∫¶‰∏≠„ÄÇ anacron‰ΩøÁî®anacronÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1anacron [-sfn] [job] ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_Ë¥¶Âè∑ÁÆ°ÁêÜ]]></title>
    <url>%2F2018%2F03%2F31%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁÆ°ÁêÜÂëòÁöÑÂ∑•‰Ωú‰∏≠ÔºåÁõ∏ÂØπÈáçË¶ÅÁöÑ‰∏ÄÁéØÂ∞±ÊòØ‚ÄúË¥¶Âè∑ÁÆ°ÁêÜ‚Äù„ÄÇÂõ†‰∏∫Êï¥‰∏™Á≥ªÁªüÈÉΩÊòØ‰Ω†Âú®ÁÆ°ÁêÜÔºåÂπ∂‰∏îÊâÄÊúâÁöÑ‰∏ÄËà¨Áî®Êà∑ÁöÑË¥¶Âè∑Áî≥ËØ∑ÂøÖÈ°ªË¶ÅÈÄöËøá‰Ω†ÁöÑÂçèÂä©ÊâçË°å„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂøÖÈ°ªË¶ÅÁü•ÈÅìÂ¶ÇÊûúÁÆ°ÁêÜÂ•Ω‰∏Ä‰∏™ÊúçÂä°Âô®‰∏ªÊú∫ÁöÑË¥¶Âè∑ÔºÅ Ë¥¶Âè∑‰∏éÁî®Êà∑ÁªÑÂú®ÁÆ°ÁêÜLinuxË¥¶Âè∑Êó∂ÔºåÊàë‰ª¨ÂøÖÈ°ªË¶ÅÂÖà‰∫ÜËß£‰∏Ä‰∏ãLinuxÂà∞Â∫ïÊòØÂ¶Ç‰ΩïËæ®Âà´ÊØè‰∏Ä‰∏™Áî®Êà∑ÁöÑ„ÄÇ Áî®Êà∑Ë°®Á§∫Á¨¶ÔºöUID‰∏éGIDËôΩÁÑ∂Êàë‰ª¨ÁôªÂΩïLinux‰∏ªÊú∫ÁöÑÊó∂ÂÄôÔºåËæìÂÖ•ÁöÑÊòØÊàë‰ª¨ÁöÑË¥¶Âè∑Ôºå‰ΩÜÊòØÂÖ∂ÂÆûLinux‰∏ªÊú∫Âπ∂‰∏ç‰ºöÁõ¥Êé•ËÆ§ËØÜ‰Ω†ÁöÑË¥¶Âè∑ÔºåÂÆÉ‰ªÖËÆ§ËØÜIDÔºåËÄå‰Ω†ÁöÑIDÂüüË¥¶Âè∑ÁöÑÂØπÂ∫îÂÖ≥Á≥ªÂ∞±Âú®/etc/passwdÂΩì‰∏≠„ÄÇ ÊØè‰∏Ä‰∏™Êñá‰ª∂ÈÉΩÂÖ∑ÊúâÊâÄÊúâËÄÖ‰∏éÊâÄÂ±ûÁî®Êà∑ÁªÑÁöÑÂ±ûÊÄßÔºåÊâÄ‰ª•ÊØè‰∏™ÁôªÂΩïÁöÑÁî®Êà∑Ëá≥Â∞ë‰ºöÂèñÂæó‰∏§‰∏™IDÔºå‰∏Ä‰∏™ÊòØÁî®Êà∑ID(UID)Ôºå‰∏Ä‰∏™ÊòØÁî®Êà∑ÁªÑID(GID)„ÄÇ Áî®Êà∑Ë¥¶Âè∑LinyxÁ≥ªÁªü‰∏äÈù¢ÁöÑÁî®Êà∑Â¶ÇÊûúÈúÄË¶ÅÁôªÂΩï‰∏ªÊú∫‰ª•ÂèñÂæóshellÁöÑÂ∑•‰ΩúÁéØÂ¢ÉÔºåÂÆÉÂøÖÈ°ªË¶ÅÂú®ËÆ°ÁÆóÊú∫ÂâçÈù¢Âà©Áî®tty1~tty7ÁöÑÁªàÁ´ØÊú∫Êèê‰æõÁöÑloginÊé•Âè£ÔºåÂπ∂ËæìÂÖ•Ë¥¶Âè∑‰∏éÂØÜÁ†ÅÂêéÊâçËÉΩÁôªÂΩï„ÄÇÂΩìÊàë‰ª¨ËæìÂÖ•Ë¥¶Âè∑ÂØÜÁ†ÅÂêéÔºåÁ≥ªÁªü‰∏ªË¶ÅÂÅö‰∫ÜÂ¶Ç‰∏ãÂ∑•‰ΩúÔºö ÂÖàÂØªÊâæ/etc/passwdÈáåÈù¢ÊòØÂê¶Êúâ‰Ω†ËæìÂÖ•ÁöÑÂ∏êÂè∑ÔºüÂ¶ÇÊûúÊ≤°ÊúâÂàôË∑≥Âá∫ÔºåÂ¶ÇÊûúÊúâÁöÑËØùÂàôÂ∞ÜËØ•Â∏êÂè∑ÂØπÂ∫îÁöÑUID‰∏éGIDÔºàÂú®/etc/group‰∏≠ÔºâËØªÂá∫Êù•ÔºåÂè¶Â§ñÔºåËØ•Â∏êÂè∑ÁöÑ‰∏ªÊñá‰ª∂Â§π‰∏éshellËÆæÂÆö‰πü‰∏ÄÂπ∂ËØªÂá∫„ÄÇ ÂÜçÊù•ÂàôÊòØÊ†∏ÂØπÂØÜÁ†ÅË°®Âï¶ÔºÅËøôÊòØLinux‰ºöËøõÂÖ•/etc/shadowÈáåÈù¢ÊâæÂá∫ÂØπÂ∫îÁöÑÂ∏êÂè∑‰∏éUIDÔºåÁÑ∂ÂêéÊ†∏ÂØπ‰∏Ä‰∏ã‰Ω†ÂàöÂàöËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏éÈáåÈù¢ÁöÑÂØÜÁ†ÅÊòØÂê¶Áõ∏Á¨¶„ÄÇ Â¶ÇÊûú‰∏ÄÂàáÈÉΩOKÁöÑËØùÔºåÂ∞±ËøõÂÖ•ShellÊéßÁÆ°ÁöÑÈò∂ÊÆµÂíØÔºÅ /etc/passwdÊñá‰ª∂ÁªìÊûÑÂ¶Ç‰∏ãÔºö Ëøô‰∏™Êñá‰ª∂ÁöÑÊûÑÈÄ†ÊòØËøôÊ†∑ÁöÑÔºöÊØè‰∏ÄË°å‰ª£Ë°®‰∏Ä‰∏™Â∏êÂè∑ÔºåÊúâÂá†Ë°åÂ∞±‰ª£Ë°®ÊúâÂá†‰∏™Â∏êÂè∑Âú®‰Ω†ÁöÑÁ≥ªÁªü‰∏≠ÔºÅ‰∏çËøáÈúÄË¶ÅÁâπÂà´ÁïôÊÑèÁöÑÊòØÔºåÈáåÂ§¥ÂæàÂ§öÂ∏êÂè∑Êú¨Ë∫´Â∞±ÊòØÁ≥ªÁªüÊ≠£Â∏∏Ëøê‰ΩúÊâÄÂøÖÈ°ªË¶ÅÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•ÁÆÄÁß∞‰∏∫Á≥ªÁªüÂ∏êÂè∑ÔºåÂ¶ÇbinÔºådaemonÔºåadmÔºånobodyÁ≠â„ÄÇ Êàë‰ª¨ÂÖàÊù•Áúã‰∏Ä‰∏ãÊØè‰∏™LinuxÁ≥ªÁªüÈÉΩ‰ºöÊúâÁöÑÁ¨¨‰∏ÄË°åÔºåÂ∞±ÊòØrootËøô‰∏™Á≥ªÁªüÁÆ°ÁêÜÂëòÈÇ£‰∏ÄË°åÂ•Ω‰∫ÜÔºå‰Ω†ÂèØ‰ª•ÊòéÊòæÁöÑÁúãÂá∫Êù•ÔºåÊØè‰∏ÄË°å‰ΩøÁî®ÔºöÂàÜÈöîÔºåÂÖ±Êúâ‰∏É‰∏™Â≠óÊÆµÔºåÂàÜÂà´ÊòØ Â≠óÊÆµÂè∑ Â≠óÊÆµÂê´‰πâ 1 Ë¥¶Âè∑ÂêçÁß∞ 2 ÂØÜÁ†ÅÔºåË¢´ËØ•ÊîæÂà∞/etc/shadowÊñá‰ª∂‰∏≠Ôºå‰ª•x‰ª£Êõø 3 UIDÔºå0‰∏∫Á≥ªÁªüÁÆ°ÁêÜÂëòÔºåÂèØ‰ª•Â§ö‰∏™Ë¥¶Âè∑ÁöÑUID‰∏∫0Ôºå‰ΩÜ‰∏çÂª∫ËÆÆ„ÄÇ1~99‰∏∫ÂèëÁé∞ÁâàËá™Âª∫Á≥ªÁªüË¥¶Âè∑Ôºå100~499‰∏∫Áî®Êà∑‰ΩøÁî®ÁöÑÁ≥ªÁªüË¥¶Âè∑Ôºå500~*‰∏∫‰∏ÄËà¨Áî®Êà∑ÂèØÁôªÂΩïË¥¶Âè∑ 4 ÂØÜÁ†ÅÔºåGIDÔºå‰∏é/etc/groupÊúâÂÖ≥ 5 Áî®Êà∑‰ø°ÊÅØËØ¥Êòé 6 ‰∏ªÊñá‰ª∂Â§π 7 shell /etc/shadowÊñá‰ª∂ÁªìÊûÑÂ¶Ç‰∏ãÔºö Êñá‰ª∂ÊûÑÈÄ†Âü∫Êú¨‰∏é/etc/passwd‰∏ÄÊ†∑Ôºå‰ΩÜÊòØÂÆÉÊúâ9‰∏™Â≠óÊÆµÔºåÂàÜÂà´ÊòØÔºö Â≠óÊÆµÂè∑ Â≠óÊÆµÂê´‰πâ 1 Ë¥¶Âè∑ÂêçÁß∞ÔºåÈúÄË¶Å‰∏é/etc/passwdÂØπÂ∫î 2 ÂØÜÁ†ÅÔºå‰ΩÜÊòØË¢´Âä†ÂØÜËøáÁöÑ 3 ÊúÄËøëÊõ¥ÊîπÂØÜÁ†ÅÁöÑÊó•ÊúüÔºå‰ª•1970Âπ¥1Êúà1Âè∑‰Ωú‰∏∫1ËÄåÁ¥ØÂä†ÁöÑÊó•Êúü 4 ÂØÜÁ†Å‰∏çÂèØË¢´Êõ¥Âä®ÁöÑÊó•Êúü 5 ÂØÜÁ†ÅÈúÄË¶ÅÈáçÊñ∞Êõ¥ÊîπÁöÑÂ§©Êï∞ 6 ÂØÜÁ†ÅÈúÄË¶ÅÊõ¥ÊîπÊúüÈôêÂâçÁöÑË≠¶ÂëäÂ§©Êï∞ 7 ÂØÜÁ†ÅËøáÊúüÂêéÁöÑË¥¶Âè∑ÂÆΩÈôêÊó∂Èó¥ÔºàÂØÜÁ†ÅÂ§±ÊïàÊó•Ôºâ 8 Ë¥¶Âè∑Â§±ÊïàÊó•Êúü 9 ‰øùÁïôÔºåÁî®‰∫é‰ª•ÂêéÊâ©Â±ï ÊúâÊïà‰∏éÂàùÂßãÁî®Êà∑ÁªÑÔºögroupsÔºånewgrp /etc/groupÊñá‰ª∂ÁªìÊûÑÂ¶Ç‰∏ãÔºö Êñá‰ª∂ÊûÑÈÄ†Âü∫Êú¨‰∏é/etc/passwd‰∏ÄÊ†∑Ôºå‰ΩÜÊòØÂÆÉÊúâ4‰∏™Â≠óÊÆµÔºåÂàÜÂà´ÊòØÔºö Â≠óÊÆµÂè∑ Â≠óÊÆµÂê´‰πâ 1 Áî®Êà∑ÁªÑÂêçÁß∞ 2 Áî®Êà∑ÁªÑÂØÜÁ†ÅÔºå‰ª•x‰ª£Êõø 3 GIDÔºå/etc/passwdÁ¨¨Âõõ‰∏™Â≠óÊÆµ‰ΩøÁî®ÁöÑGIDÂØπÂ∫îÁöÑÁî®Êà∑ÁªÑÂêçÂ∞±ÊòØÁî±ËøôÈáåÊù•ÁöÑ 4 Áî®Êà∑ÁªÑÊîØÊåÅÁöÑË¥¶Âè∑ÂêçÁß∞ÔºåÂ§öÁî®Êà∑‰ª•‚Äù,‚ÄùÂàÜÂâ≤ Êàë‰ª¨Áü•ÈÅìÁî®Êà∑ÂèØ‰ª•ÂêåÊó∂Âä†ÂÖ•Â§ö‰∏™Áî®Êà∑ÁªÑÔºåÈÇ£‰πàÊàë‰ª¨Âú®ÊâßË°åÂ∑•‰ΩúÊó∂ÔºåÂà∞Â∫ïÊòØ‰ª•Âì™‰∏™Áî®Êà∑ÁªÑ‰∏∫ÂáÜÂë¢ÔºüÔºåËøôÂ∞±ÈúÄË¶ÅÂºïÂÖ•ÊúâÊïàÁî®Êà∑ÁªÑÁöÑÊ¶ÇÂøµ„ÄÇ /etc/gshadowÊñá‰ª∂ÁªìÊûÑÂ¶Ç‰∏ãÔºö Êñá‰ª∂ÊûÑÈÄ†Âü∫Êú¨‰∏é/etc/group‰∏ÄÊ†∑ÔºåÂÆÉÊúâ4‰∏™Â≠óÊÆµÔºåÂàÜÂà´ÊòØÔºö Â≠óÊÆµÂè∑ Â≠óÊÆµÂê´‰πâ 1 Áî®Êà∑ÁªÑÂêçÁß∞ 2 Áî®Êà∑ÁªÑÂØÜÁ†Å,ÂºÄÂ§¥‰∏∫!Ë°®Á§∫Êó†ÂêàÊ≥ïÂØÜÁ†ÅÔºåÊâÄ‰ª•Êó†Áî®Êà∑ÁªÑÁÆ°ÁêÜÂëò 3 Áî®Êà∑ÁªÑÁÆ°ÁêÜÂëòÁöÑË¥¶Âè∑ÔºåÁî®Êà∑ÁªÑÁÆ°ÁêÜÂëòËÉΩÂ§üÂ∞ÜË¥¶Âè∑Ê∑ªÂä†Âà∞Ëá™Â∑±ÁÆ°ÁêÜÁöÑÁî®Êà∑ÁªÑ‰∏≠ 4 ËØ•Áî®Êà∑ÁªÑÁöÑÊâÄÂ±ûË¥¶Âè∑Ôºà‰∏é/etc/groupÂÜÖÂÆπÁõ∏ÂêåÔºâ ÊúâÊïàÁî®Êà∑ÁªÑ‰∏éÂàùÂßãÁî®Êà∑ÁªÑ ÂàùÂßãÁî®Êà∑ÁªÑÔºöÂ∞±ÊòØ/etc/passwdÈáåÈù¢ÁöÑÁ¨¨ÂõõÂàóÁöÑGIDÔºåÂΩìÁî®Êà∑ÁôªÂΩïÁ≥ªÁªüÔºåÁ´ãÂàªÂ∞±Êã•ÊúâËøô‰∏™Áî®Êà∑ÁªÑÁöÑÁõ∏ÂÖ≥ÊùÉÈôê„ÄÇ ÊúâÊïàÁî®Êà∑ÁªÑÔºöÂ∞±ÊòØÂà©Áî®groupsÂëΩ‰ª§ÁúãÂà∞ÁöÑÁ¨¨‰∏Ä‰∏™Áî®Êà∑ÁªÑÔºåÂèØ‰ª•Âà©Áî®newgrpÂëΩ‰ª§Êõ¥ÊîπÊúâÊïàÁî®Êà∑ÁªÑÔºånewgrpÂëΩ‰ª§Êõ¥ÊîπÁõÆÂâçÁî®Êà∑ÁöÑÊúâÊïàÁî®Êà∑ÁªÑÊòØ‰ª•Âè¶‰∏Ä‰∏™shellÊù•Êèê‰æõËøô‰∏™ÂäüËÉΩÁöÑÔºåÂ¶ÇÊûúË¶ÅÂõûÂà∞ÂéüÊù•ÁöÑÁî®Êà∑ÁªÑÂè™Ë¶ÅËæìÂÖ•exitÂç≥ÂèØ„ÄÇ Ë¥¶Âè∑ÁÆ°ÁêÜÁÆ°ÁêÜË¥¶Âè∑‰∏ªË¶ÅÊòØÊñ∞Â¢û„ÄÅÂà†Èô§‰∏éÊõ¥ÊîπÁî®Êà∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ Êñ∞Â¢û‰∏éÂà†Èô§Áî®Êà∑Ë¥¶Âè∑ÂèØ‰ª•‰ΩøÁî®useraddÂëΩ‰ª§Êù•Êñ∞Âª∫Áî®Êà∑ÔºåÂØÜÁ†ÅÁöÑÁªô‰∫àÂàôÊòØ‰ΩøÁî®passwdÂëΩ‰ª§„ÄÇ‰∏ãÈù¢ÊòØËåÉ‰æãÔºöÔºàÈáåÈù¢ÊúâÂæàÂ§öÂèÇÊï∞ÔºåËá™Â∑±ÂèØ‰ª•Âéª‰∫ÜËß£Ôºâ12345678910111213141516171819202122# Êñ∞Â¢ûuseradd leonardll -d /home/leonard/# ÈªòËÆ§‰ºöÂàõÂª∫Áî®Êà∑‰∏ªÊñá‰ª∂Â§πÔºå‰∏îÊùÉÈôê‰∏∫700ÔºåËøôÊòØÈáçÁÇπ# drwx------ 2 leonard leonard 4096 3Êúà 31 09:36 /home/leonard/grep leonard /etc/passwd /etc/shadow /etc/group# /etc/passwd:leonard:x:1001:1001::/home/leonard:/bin/bash# /etc/shadow:leonard:!!:17621:0:99999:7:::# /etc/group:leonard:x:1001:# ‰∏çÂä†Ë¥¶Âè∑ÔºåÈªòËÆ§‰øÆÊîπËá™Â∑±ÁöÑÂØÜÁ†Åpasswd leonard# ÊòæÁ§∫Ë¥¶Âè∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØchage leonard# ‰øÆÊîπË¥¶Âè∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØusermod leonard# Âà†Èô§Ë¥¶Âè∑Ôºå-rÔºöËøû‰∏ªÊñá‰ª∂Â§π‰∏ÄËµ∑Âà†Èô§userdel leonard ÂÖ∂ÂÆûÁ≥ªÁªüÂ∑≤ÁªèÂ∏ÆÊàë‰ª¨ËÆæÁΩÆÂ•Ω‰∫ÜÈùûÂ∏∏Â§öÁöÑÈªòËÆ§ÂÄºÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÁÆÄÂçïÁöÑ‰ΩøÁî®‚Äúuseradd Ë¥¶Âè∑‚ÄùÊù•ÂàõÂª∫Áî®Êà∑ÔºåCentosËøô‰∫õÈªòËÆ§ÂÄº‰∏ªË¶Å‰ºöÂ∏ÆÊàë‰ª¨Â§ÑÁêÜ‰∏ãÈù¢Âá†‰∏™È°πÁõÆÔºö Âú®/etc/passwd ÈáåÈù¢ÂàõÂª∫‰∏ÄË°å‰∏éË¥¶Âè∑Áõ∏ÂÖ≥ÁöÑÊï∞ÊçÆÔºåÂåÖÊã¨ÂàõÂª∫UID/GID/‰∏ªÊñá‰ª∂Â§πÁ≠âÔºõ Âú®/etc/shadowÈáåÈù¢Â∞ÜÊ≠§Ë¥¶Âè∑ÁöÑÂØÜÁ†ÅÁõ∏ÂÖ≥ÂèÇÊï∞Â°´ÂÖ•Ôºå‰ΩÜÊòØÂ∞öÊú™ÊúâÂØÜÁ†ÅÔºõ Âú®/etc/groupÈáåÈù¢Âä†ÂÖ•‰∏Ä‰∏™‰∏éË¥¶Âè∑ÂêçÁß∞‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÁªÑÂêçÔºõ Âú®/home‰∏ãÈù¢ÂàõÂª∫‰∏Ä‰∏™‰∏éË¥¶Âè∑ÂêåÂêçÁöÑÁõÆÂΩï‰Ωú‰∏∫Áî®Êà∑ÁöÑ‰∏ªÊñá‰ª∂Â§πÔºå‰∏îÊùÉÈôê‰∏∫700 Áî®Êà∑ÂäüËÉΩ‰∏çËÆ∫ÊòØuseradd„ÄÅusermodËøòÊòØuserdelÔºåÈÇ£ÈÉΩÊòØÁ≥ªÁªüÁÆ°ÁêÜÂëòËÉΩÂ§ü‰ΩøÁî®ÁöÑÂëΩ‰ª§Ôºå‰∏ãÈù¢Êàë‰ª¨Â∞±‰ªãÁªç‰∏Ä‰∫õ‰∏ÄËà¨Ë∫´‰ªΩÁî®Êà∑Â∏∏Áî®ÁöÑË¥¶Âè∑Êï∞ÊçÆÊõ¥Êîπ‰∏éÊü•ËØ¢ÂëΩ‰ª§ fingerÔºåÂèØ‰ª•Êü•ÈòÖÂæàÂ§öÁî®Êà∑Áõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØÔºåÂ§ßÈÉ®ÂàÜÈÉΩÊòØ/etc/passwdËøô‰∏™Êñá‰ª∂ÁöÑ‰ø°ÊÅØ„ÄÇËåÉ‰æãÂ¶Ç‰∏ãÔºö 12345// ÊàëÁöÑlinuxÈªòËÆ§Ê≤°ÊúâË£ÖfingerÔºåÂèØ‰ª•Âà©Áî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÂÆâË£Öyum install finger// Êü•ÈòÖÁî®Êà∑‰ø°ÊÅØÔºåËã•‰∏çË∑üÊ≤°ÊúâÁî®Êà∑ÔºåÂàôÊü•ËØ¢ÂΩìÂâçÁî®Êà∑finger rex chfn(change finger)ÔºåÁî®‰∫é‰øÆÊîπ‰∏Ä‰∫õÁõ∏ÂÖ≥‰ø°ÊÅØ,ËåÉ‰æãÂ¶Ç‰∏ãÔºö 123456chfn rexChanging finger information for rex.ÂêçÁß∞ []: rexÂäûÂÖ¨ []: 123456ÂäûÂÖ¨ÁîµËØù []: 123456‰ΩèÂÆÖÁîµËØù []: 123456 chsh(change shell)ÔºåÁî®‰∫é‰øÆÊîπshell„ÄÇ idÔºåÁî®‰∫éÊü•ËØ¢Ëá™Â∑±ÊàñÊüê‰∫∫ÁöÑÁõ∏ÂÖ≥UID/GIDÁ≠â‰ø°ÊÅØ„ÄÇ Êñ∞Â¢û‰∏éÂà†Èô§Áî®Êà∑ÁªÑÂü∫Êú¨‰∏äÔºåÁî®Êà∑ÁªÑÁöÑÂÜÖÂÆπÈÉΩ‰∏éËøô‰∏§‰∏™Êñá‰ª∂ÊúâÂÖ≥Ôºö/etc/group,/etc/gshadow„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õÁõ∏ÂÖ≥ÂëΩ‰ª§‰ΩøÁî®ÁöÑËåÉ‰æãÔºö12345678910111213141516# Êñ∞Âª∫‰∏Ä‰∏™Áî®Êà∑ÁªÑÔºåÂêçÁß∞‰∏∫hdgroupadd hd# ‰øÆÊîπÁî®Êà∑ÁªÑÁöÑÁõ∏ÂÖ≥ÂèÇÊï∞ -gÔºö‰øÆÊîπÊó¢ÊúâGIDÔºå-nÔºö‰øÆÊîπÊó¢ÊúâÁªÑÂêçgroupmod -g 201 -n myhd hd# Âà†Èô§Áî®Êà∑ÁªÑÂêçgroupdel myhd# Áî®Êà∑ÁªÑÁÆ°ÁêÜÂëòÁõ∏ÂÖ≥ÂëΩ‰ª§# ÁªôÁî®Êà∑ÁªÑËÆæÁΩÆ‰∏Ä‰∏™ÂØÜÁ†Ågpasswd hd# Âä†ÂÖ•Áî®Êà∑ÁªÑÁÆ°ÁêÜÂëò‰∏∫rexgpasswd -A rex hd# ËÆ©rexÁôªÂΩïÁ≥ªÁªüÔºåÂ¢ûÂä†leonard‰∏∫hdÊàêÂëògpasswd -a leonard hd ‰∏ªÊú∫ÁöÑÂÖ∑‰ΩìÊùÉÈôêËßÑÂàíÔºöACLÁöÑ‰ΩøÁî®‰ªÄ‰πàÊòØACLACLÊòØAccess Control ListÁöÑÁº©ÂÜôÔºå‰∏ªË¶ÅÁöÑÁõÆÁöÑÊòØÊèê‰æõ‰º†ÁªüÁöÑowner„ÄÅgroup„ÄÅothersÁöÑread„ÄÅwrite„ÄÅexecuteÊùÉÈôê‰πãÂ§ñÁöÑÂÖ∑‰ΩìÊùÉÈôêËÆæÁΩÆ„ÄÇACLÂèØ‰ª•ÈíàÂØπÂçï‰∏ÄÁî®Êà∑„ÄÅÂçï‰∏ÄÊñá‰ª∂ÊàñÁõÆÂΩïËøõË°år„ÄÅw„ÄÅxÁöÑÊùÉÈôêËÆæÁΩÆÔºåÂØπ‰∫éÈúÄË¶ÅÁâπÊÆäÊùÉÈôêÁöÑ‰ΩøÁî®Áä∂ÂÜµÈùûÂ∏∏ÊúâÂ∏ÆÂä©„ÄÇ ACL‰∏ªË¶ÅÂèØ‰ª•ÈíàÂØπ‰∏ãÈù¢Âá†ÊñπÈù¢Êù•ËÆæÁΩÆÊéßÂà∂ÊùÉÈôêÔºö Áî®Êà∑ÔºöÂèØ‰ª•ÈíàÂØπÁî®Êà∑Êù•ËÆæÁΩÆÊùÉÈôê Áî®Êà∑ÁªÑÔºöÂèØ‰ª•ÈíàÂØπÁî®Êà∑ÁªÑÊù•ËÆæÁΩÆÊùÉÈôê ÈªòËÆ§Â±ûÊÄßÔºàmaskÔºâÔºöËøòÂèØ‰ª•Âú®ËØ•ÁõÆÂΩï‰∏ãÊñ∞Âª∫Êñá‰ª∂ÁõÆÂΩïËÆæÁΩÆÊñ∞Êï∞ÊçÆÁöÑÊùÉÈôê„ÄÅ ACLÁöÑËÆæÁΩÆÊäÄÂ∑ß getfaclÔºöÂèñÂæóÊüê‰∏™Êñá‰ª∂/ÁõÆÂΩïÁöÑACLËÆæÁΩÆÈ°πÁõÆ setfaclÔºöËÆæÁΩÆÊüê‰∏™Êñá‰ª∂/ÁõÆÂΩïÁöÑACLËßÑÂÆö ‰∏ãÈù¢ÊòØËåÉ‰æãÔºö12345678910111213// ÂèñÂæóÊüê‰∏™Êñá‰ª∂/ÁõÆÂΩïÁöÑACLËÆæÁΩÆÈ°πÁõÆgetfacl rootfile// ËæìÂá∫# file: rootfile# owner: root# group: rootuser::rw-group::r--other::r--// ËÆæÁΩÆÊüê‰∏™Êñá‰ª∂/ÁõÆÂΩïÁöÑACLËßÑÂÆösetfacl -m u:rex:rwx rootfile Áî®Êà∑Ë∫´‰ªΩÂàáÊç¢Âú®LinuxÁ≥ªÁªü‰∏≠ÊòØÈúÄË¶ÅÂÅöË∫´‰ªΩÁöÑÂèòÊç¢ÁöÑÔºå‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†‰∏™ÂéüÂõ†Ôºö ‰ΩøÁî®‰∏ÄËà¨Ë¥¶Âè∑ÔºöÁ≥ªÁªüÂπ≥Êó•Êìç‰ΩúÁöÑÂ•Ω‰π†ÊÉØÔºà‰∏çÁÑ∂‰Ω†Â∞±ÊúâÊú∫‰ºö‰ªéÂà†Â∫ìÂà∞Ë∑ëË∑Ø‰∫ÜÔºâ Áî®ËæÉ‰ΩéÁöÑÊùÉÈôêÂêØÂä®Á≥ªÁªüÊúçÂä° ËΩØ‰ª∂Êú¨Ë∫´ÁöÑÈôêÂà∂ Ê†πÊçÆ‰∏äÈù¢ÁöÑËÄÉËôëÔºåÊàë‰ª¨ÈÉΩÊòØ‰ΩøÁî®‰∏ÄËà¨Ë¥¶Âè∑ÁôªÂΩïÁ≥ªÁªüÁöÑÔºåÁ≠âÊúâÈúÄË¶ÅËøõË°åÁ≥ªÁªüÁª¥Êä§ÊàñËΩØ‰ª∂Êõ¥Êñ∞Êó∂ÊâçËΩ¨‰∏∫rootË∫´‰ªΩÊù•Êìç‰Ωú„ÄÇ‰ªé‰∏ÄËà¨Áî®Êà∑ËΩ¨Âèò‰∏∫root‰∏ªË¶ÅÊúâ‰∏ãÈù¢‰∏§ÁßçÊñπÂºèÔºö ‚Äúsu -‚ÄùÔºöÈúÄË¶ÅrootÁî®Êà∑ÂØÜÁ†Å ‚ÄúsudoÂëΩ‰ª§‚ÄùÔºösudoÈúÄË¶ÅËæìÂÖ•Áî®Êà∑Ëá™Â∑±ÁöÑÂØÜÁ†Å susuÊòØÊúÄÁÆÄÂçïÁöÑË∫´‰ªΩÂàáÊç¢ÂëΩ‰ª§‰∫ÜÔºåÂÆÉÂèØ‰ª•ËøõË°å‰ªª‰ΩïË∫´‰ªΩÁöÑÂàáÊç¢„ÄÇ‰ΩÜÊòØ‰∏ãÈù¢ÊúâÂá†ÁÇπÊØîËæÉÈáçË¶ÅÔºö Ëã•Ë¶ÅÂÆåÊï¥ÂàáÊç¢Âà∞Êñ∞Áî®Êà∑ÁöÑÁéØÂ¢ÉÔºåÂøÖÈ°ªË¶Å‰ΩøÁî®‚Äúsu -username‚Äù Êàñ ‚Äúsu -|username‚ÄùÔºåÊâç‰ºöËøûÂêåPATH/USER/MAILÁ≠âÂèòÈáèÈÉΩËΩ¨ÊàêÊñ∞Áî®Êà∑ÁöÑÁéØÂ¢É„ÄÇÂ¶ÇÊûúÂè™ÊòØ‰ΩøÁî®‚Äúsu‚ÄùÂàáÊç¢Âà∞rootÁî®Êà∑ÔºåPATH/USER/MAILÁ≠âÂèòÈáèÈÉΩÊ≤°ÊúâÂèòÔºå‰ºöÂØºËá¥ÂæàÂ§öÂëΩ‰ª§ÊâßË°å‰∏ç‰∫Ü„ÄÇ Â¶ÇÊûú‰ªÖÊÉ≥ÊâßË°å‰∏ÄÊ¨°rootÂëΩ‰ª§ÔºåÂèØ‰ª•Âà©Áî®‚Äúsu - -c ‚ÄúÂëΩ‰ª§‰∏≤‚Äù‚ÄùdÁöÑÊñπÂºèÊù•Â§ÑÁêÜ„ÄÇ ‰ΩøÁî®rootÂàáÊç¢Êàê‰∏∫‰ªª‰ΩïÁî®Êà∑Êó∂ÔºåÂπ∂‰∏çÈúÄË¶ÅËæìÂÖ•Êñ∞Áî®Êà∑ÁöÑÂØÜÁ†Å„ÄÇ ËôΩÁÑ∂‰ΩøÁî®suÂæàÊñπ‰æøÔºå‰ΩÜÊòØ‰ºöÂØºËá¥rootÂØÜÁ†ÅÂ§ñÊµÅ„ÄÇÊâÄ‰ª•ÂæàÂ§öÊÉÖÂÜµ‰∏ãÊàë‰ª¨ÈÄöËøásudoÊù•Â§ÑÁêÜ„ÄÇ sudosudoÁöÑÊâßË°å‰ªÖÈúÄË¶ÅËá™Â∑±ÁöÑÂØÜÁ†ÅÂç≥ÂèØÔºÅÁîöËá≥ÂèØ‰ª•ËÆæÁΩÆ‰∏çÈúÄË¶ÅÂØÜÁ†ÅÂç≥ÂèØÊâßË°åsudoÔºåÁî±‰∫ésudoÂèØ‰ª•ËÆ©‰Ω†‰ª•ÂÖ∂‰ªñÁî®Êà∑Ë∫´‰ªΩÊâßË°åÂëΩ‰ª§ÔºàÈÄöÂ∏∏ÊòØ‰ΩøÁî®rootÁöÑË∫´‰ªΩÊù•ÊâßË°åÂëΩ‰ª§ÔºâÔºåÂõ†Ê≠§‰∏çÊòØÊâÄÊúâ‰∫∫ÈÉΩËÉΩÂ§üÊâßË°åsudoÔºåËÄåÊòØ‰ªÖÊúâ/etc/sudoersÂÜÖÁöÑÁî®Êà∑ÊâçËÉΩÂ§üÊâßË°åsudoËøô‰∏™ÂëΩ‰ª§„ÄÇ sudoÁöÑÂëΩ‰ª§Áî®Ê≥ï 1234sudo [-u Êñ∞Áî®Êà∑Ë¥¶Âè∑]// ËåÉ‰æãÔºå‰ª•sshdÁöÑË∫´‰ªΩÂú®/tmp‰∏ãÈù¢Êñ∞Âª∫‰∏Ä‰∏™Âêç‰∏∫mysshdÁöÑÊñá‰ª∂sudo -u sshd touch /tmp/mysshd sudoÁöÑÊâßË°åÊµÅÁ®ã ÂΩìÁî®Êà∑ÊâßË°åsudoÊó∂ÔºåÁ≥ªÁªüÂú®/etc/sudoersÊñá‰ª∂‰∏≠Êü•ÊâæËØ•Áî®Êà∑ÊòØÂê¶ÊúâÊâßË°åsudoÁöÑÊùÉÈôêÔºõ Ëã•Áî®Êà∑ÂÖ∑ÊúâÂèØÊâßË°åsudoÁöÑÊùÉÈôêÂêéÔºå‰æøËÆ©Áî®Êà∑ËæìÂÖ•Áî®Êà∑Ëá™Â∑±ÁöÑÂØÜÁ†ÅÊù•Á°ÆËÆ§Ôºõ Ëã•ÂØÜÁ†ÅËæìÂÖ•ÊàêÂäüÔºå‰æøÂºÄÂßãËøõË°åsudoÂêéÈù¢Êé•ÁöÑÂëΩ‰ª§ÔºàrootÊâßË°åsudo‰∏çÈúÄË¶ÅËæìÂÖ•ÂØÜÁ†ÅÔºâ Ëã•Ê¨≤ÂàáÊç¢ÁöÑË∫´‰ªΩ‰∏éÊâßË°åËÄÖÁöÑË∫´‰ªΩÁõ∏ÂêåÔºå‰πü‰∏çÈúÄË¶ÅËæìÂÖ•ÂØÜÁ†Å visudo‰∏é/etc/sudoers Êàë‰ª¨‰∏ÄËà¨‰∏çÁõ¥Êé•Âéª‰øÆÊîπ/etc/sudoersÊñá‰ª∂ÔºåËÄåÊòØÂà©Áî®visudoÂëΩ‰ª§Âéª‰øÆÊîπÔºåÂõ†‰∏∫Ëøô‰∏™ÂëΩ‰ª§‰ºöÂú®ÁªìÊùüÁ¶ªÂºÄÁöÑÊó∂ÂÄôÂéªÊ£ÄÈ™å/etc/sudoersÁöÑËØ≠Ê≥ïÔºå‰∏ãÈù¢ÊòØ‰ªñÁöÑÁî®Ê≥ïÊ°à‰æãÔºö 1234567891011121314151617181920// 1. Âçï‰∏ÄÁî®Êà∑ÂèØ‰ª•ÊâßË°årootÁöÑÊâÄÊúâÂëΩ‰ª§‰∏ésudoersÊñá‰ª∂ËØ≠Ê≥ï// Âõõ‰∏™ÂèÇÊï∞Âê´‰πâ‰∏∫(1).Áî®Êà∑Ë¥¶Âè∑Ôºå(2).ÁôªÈôÜËÄÖÁöÑÊù•Ê∫ê‰∏ªÊú∫Ôºå(3).(ÂèØÂàáÊç¢ÁöÑË∫´‰ªΩ)Ôºå(4).ÂèØÊâßË°åÁöÑÂëΩ‰ª§root ALL=(ALL) ALL //Êñá‰ª∂‰∏≠ÂéüÊúârex ALL=(ALL) ALL //Êñ∞Â¢û// 2. Âà©Áî®Áî®Êà∑ÁªÑ‰ª•ÂèäÂÖçÂØÜÁ†ÅÁöÑÂäüËÉΩÂ§ÑÁêÜvisudo# %wheel ALL=(ALL) NOPASSWD: ALL //Êñá‰ª∂‰∏≠ÂéüÊúâÔºåÈúÄË¶ÅÂ∞Ü#ÂéªÊéâÔºåÊñá‰ª∂‰∏≠ÁöÑ%Ë°®Á§∫ÂêéÈù¢Êé•‰∏Ä‰∏™Áî®Êà∑ÁªÑusermod -a -G wheel rex //Â∞ÜrexÂä†ÂÖ•wheelÁªÑ‰∏≠// 3. ÊúâÈôêÂà∂ÁöÑÂëΩ‰ª§Êìç‰ΩúÔºåÈÄöËøáÊõ¥ÊîπÂèØÊâßË°åÁöÑÂëΩ‰ª§‰∏ÄÊ†èÁöÑÊï∞ÊçÆÔºåÂ∞±ÂèØ‰ª•ÊéßÂà∂ÂÖ∑‰ΩìÊìç‰ΩúÁöÑÂÆâÂÖ®ÊÄßrex ALL=(ALL) !/usr/bin/passed //‰∏çËÆ©rexÂèØ‰ª•‰øÆÊîπÂØÜÁ†Å// 4. ÈÄöËøáÂà´ÂêçËÆæÁΩÆvisudoUser_Alias ADMPW(Â§ßÂÜô) = rex1,rex2Cmnd_Alias ADMPWCOM(Â§ßÂÜô) = !/usr/bin/passwd, /usr/bin/passed [A-Za-z]ADMPW ALL=(root) ADMPWCOM// 5. sudoÊê≠ÈÖçsuÁöÑ‰ΩøÁî®ÊñπÂºè,ËÆ©Áî®Êà∑Áî®Ëá™Â∑±ÁöÑÂØÜÁ†ÅÂèòÊàêrootUser_Alias ADMPW(Â§ßÂÜô) = rex1,rex2ADMPW ALL=(root) /bin/su - ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_shell script ÂÖ•Èó®]]></title>
    <url>%2F2018%2F03%2F30%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_shell%20script%20%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöË¶ÅÊÉ≥ÁÆ°ÁêÜÂ•ΩËá™Â∑±ÁöÑ‰∏ªÊú∫ÔºåËá™Âä®ÂåñÁÆ°ÁêÜÁ≥ªÁªüÁöÑÂ•ΩÂ∑•ÂÖ∑‚Äî‚Äîshell scriptÔºåËøô‰∏™ÂÆ∂‰ºôÊòØÁúüÁöÑÈúÄË¶ÅÂ•ΩÂ•ΩÂ≠¶‰π†Â≠¶‰π†ÁöÑÔºÅ ‰ªÄ‰πàÊòØshell scriptshell script ÊòØÂà©Áî®shellÁöÑÂäüËÉΩÊâÄÂÜôÁöÑ‰∏Ä‰∏™‚ÄúÁ®ãÂ∫è‚ÄùÔºåËøô‰∏™Á®ãÂ∫èÊòØ‰ΩøÁî®Á∫ØÊñáÊú¨Êñá‰ª∂ÔºåÂ∞Ü‰∏Ä‰∫õshellÁöÑËØ≠Ê≥ï‰∏éÂëΩ‰ª§ÔºàÂê´Â§ñÈÉ®ÂëΩ‰ª§ÔºâÂÜôÂú®ÈáåÈù¢ÔºåÊê≠ÈÖçÊ≠£ÂàôË°®ËææÂºèÔºåÁÆ°ÈÅìÂëΩ‰ª§‰∏éÊï∞ÊçÆÈáçÂÆöÂêëÁ≠âÂäüËÉΩÔºå‰ª•ËææÂà∞Êàë‰ª¨ÊâÄÊÉ≥Ë¶ÅÁöÑÂ§ÑÁêÜÁõÆÁöÑ„ÄÇ ‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶‰π†shell script Ëá™Âä®ÂåñÁÆ°ÁêÜÁöÑÈáçË¶Å‰æùÊçÆ ËøΩË∏™‰∏éÁÆ°ÁêÜÁ≥ªÁªüÁöÑÈáçË¶ÅÂ∑•‰Ωú ÁÆÄÂçïÂÖ•‰æµÊ£ÄÊµãÂäüËÉΩ ËøûÁª≠ÂëΩ‰ª§Âçï‰∏ÄÂåñ ÁÆÄÊòìÁöÑÊï∞ÊçÆÂ§ÑÁêÜ Ë∑®Âπ≥Âè∞‰∏éÂ≠¶‰π†ÂéÜÁ®ãËæÉÁü≠ shell scriptÁºñÂÜôÁöÑÊ≥®ÊÑè‰∫ãÈ°π ÂëΩ‰ª§ÁöÑÊâßË°åÊòØ‰ªé‰∏äËÄå‰∏ãÔºå‰ªéÂ∑¶ÂæÄÂè≥Âú∞ÂàÜÊûê‰∏éÊâßË°åÔºõ ÂëΩ‰ª§„ÄÅÂèÇÊï∞Èó¥ÁöÑÂ§ö‰∏™Á©∫ÁôΩÈÉΩ‰ºöË¢´ÂøΩËßÜÊéâÔºõ Á©∫ÁôΩË°å‰πüÂ∞ÜË¢´ÂøΩÁï•ÊéâÔºåÂπ∂‰∏îtabÊåâÈîÆÊâÄÂæóÁöÑÁ©∫ÁôΩÂêåÊ†∑ËßÜ‰∏∫Á©∫Ê†ºÈîÆÔºõ Â¶ÇÊûúËØªÂà∞‰∏Ä‰∏™enterÁ¨¶Âè∑ÔºàCRÔºâÔºåÂ∞±Â∞ùËØïÂºÄÂßãÁªìÊùüËØ•Ë°åÔºàÊàñËØ•‰∏≤ÔºâÂëΩ‰ª§ Ëá≥‰∫éÂ¶ÇÊûú‰∏ÄË°åÁöÑÂÜÖÂÆπÂ§™Â§öÔºåÂàôÂèØ‰ª•‰ΩøÁî®‚Äú\enter‚ÄùÊù•Êâ©Â±ïËá≥‰∏ã‰∏ÄË°åÔºõ ‚Äú#‚ÄùÂèØ‰Ωú‰∏∫ÊâπÊ≥®Ôºå‰ªª‰ΩïÂä†Âú®#ÂêéÈù¢ÁöÑÊï∞ÊçÆÂ∞ÜÂÖ®ÈÉ®Ë¢´ËßÜ‰∏∫ÊâπÊ≥®Êñá‰ª∂ËÄåË¢´ÂøΩÁï•„ÄÇ shell scriptÁöÑÊâßË°åÂÅáËÆæ‰Ω†ÁöÑÁ®ãÂ∫èÊñá‰ª∂ÂêçÊòØ/home/rex/shell.sh Áõ¥Êé•ÊâßË°åÂëΩ‰ª§Ôºöshell.shÊñá‰ª∂ÂøÖÈ°ªÂÖ∑Â§áÂèØËØªÂèØÊâßË°å(rx)ÁöÑÊùÉÈôêÔºåÁÑ∂ÂêéÔºö ÁªùÂØπË∑ØÂæÑÔºö‰ΩøÁî®/home/rex/shell.sh Áõ∏ÂØπË∑ØÂæÑÔºöÂÅáËÆæÂ∑•‰ΩúÁõÆÂΩïÂú®/home/rex/,Âàô‰ΩøÁî®./shell.shÊù•ÊâßË°å ÂèòÈáè‚ÄúPATH‚ÄùÂäüËÉΩÔºöÂ∞Üshell.shÊîæÂú®PATHÊåáÂÆöÁöÑÁõÆÂΩïÂÜÖÔºå‰æãÂ¶ÇÔºö~/bin/„ÄÇ ‰ª•bashËøõÁ®ãÊù•ÊâßË°åÔºöÈÄöËøá‚Äúbash shell.sh‚ÄùÊàñ‚Äúsh shell.sh‚ÄùÊù•ÊâßË°å Âà©Áî®sourceÊù•ÊâßË°åÔºöËøôÊ†∑Ëøô‰∏™ËÑöÊú¨Â∞ÜÂú®Áà∂ËøõÁ®ã‰∏≠ÊâßË°åÔºåÂêÑÈ°πÊìç‰ΩúÈÉΩ‰ºöÂú®ÂéüÊú¨ÁöÑbashÂÜÖÁîüÊïà„ÄÇÂ¶ÇÊûúÁõ¥Êé•ÊâßË°åÔºåscriptÊòØÂú®Â≠êËøõÁ®ã‰∏≠ÁöÑbashÂÜÖÊâßË°åÁöÑÔºåÂΩìÂ≠êËøõÁ®ãÂÆåÊàêÂêéÔºåÂ≠êËøõÁ®ãÁöÑÂêÑÈ°πÂèòÈáèÊàñÊìç‰ΩúÂ∞Ü‰ºöÁªìÊùüËÄå‰∏ç‰ºö‰º†ÂõûÂà∞Áà∂ËøõÁ®ã‰∏≠„ÄÇ ËâØÂ•ΩÁöÑ script Êí∞ÂÜô‰π†ÊÉØÂú®ÊØè‰∏™ script ÁöÑÊ°£Â§¥Â§ÑËÆ∞ÂΩïÂ•ΩÔºö script ÁöÑÂäüËÉΩÔºõ script ÁöÑÁâàÊú¨ËµÑËÆØÔºõ script ÁöÑ‰ΩúËÄÖ‰∏éËÅîÁªúÊñπÂºèÔºõ script ÁöÑÁâàÊùÉÂÆ£ÂëäÊñπÂºèÔºõ script ÁöÑ History (ÂéÜÂè≤Á∫™ÂΩï)Ôºõ6„ÄÇscript ÂÜÖËæÉÁâπÊÆäÁöÑÂëΩ‰ª§Ôºå‰ΩøÁî®ÁªùÂØπË∑ØÂæÑÁöÑÊñπÂºèÊù•‰∏ãËææÔºõ script ËøêË°åÊó∂ÈúÄË¶ÅÁöÑÁéØÂ¢ÉÂèòÈáèÈ¢ÑÂÖàÂÆ£Âëä‰∏éÈÖçÁΩÆ„ÄÇ Hello WordÁ®ãÂ∫è123456789#!/bin/bash // Â£∞ÊòéËøô‰∏™script‰ΩøÁî®ÁöÑshellÂêçÁß∞# Program:# This program shows &quot;Hello World!&quot; in your screen.# History:# 2015/11/03 Jiange First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATHecho -e &quot;Hello World! \a \n&quot;exit 0 ÂñÑÁî®Âà§Êñ≠ÂºèÂà©Áî®testÂëΩ‰ª§ÁöÑÊµãËØïÂäüËÉΩÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºåÁî®‰∫éÊ£ÄÊµãÊñá‰ª∂Â§πÊòØÂê¶Â≠òÂú®Ôºö1test -e /dmtsai &amp;&amp; echo &quot;exist&quot; || echo &quot;Not exist&quot; Âà©Áî®Âà§Êñ≠Á¨¶Âè∑[]Â¶ÇÊûúÊàëÊÉ≥Ë¶ÅÁü•ÈÅì $HOME Ëøô‰∏™ÂèòÈáèÊòØÂê¶‰∏∫Á©∫ÁöÑÔºåÂèØ‰ª•ËøôÊ†∑ÂÅöÔºö1[ -z &quot;$HOME&quot; ] ; echo $? ÂØπ‰∫éÂà§Êñ≠Á¨¶Âè∑Êàë‰ª¨‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèÔºö Âú®‰∏≠Êã¨Âè∑ [] ÂÜÖÁöÑÊØè‰∏™ÁªÑ‰ª∂ÈÉΩÈúÄË¶ÅÊúâÁ©∫ÁôΩÈîÆÊù•ÂàÜÈöîÔºõ Âú®‰∏≠Êã¨Âè∑ÂÜÖÁöÑÂèòÈáèÔºåÊúÄÂ•ΩÈÉΩ‰ª•ÂèåÂºïÂè∑Êã¨Âè∑Ëµ∑Êù•Ôºõ Âú®‰∏≠Êã¨Âè∑ÂÜÖÁöÑÂ∏∏Êï∞ÔºåÊúÄÂ•ΩÈÉΩ‰ª•ÂçïÊàñÂèåÂºïÂè∑Êã¨Âè∑Ëµ∑Êù•„ÄÇ shell script ÁöÑÈªòËÆ§ÂèòÈáè($0, $1‚Ä¶)ËøêË°åÁöÑËÑöÊú¨Ê°£Âêç‰∏∫ $0 ÂèòÈáèÔºåÁ¨¨‰∏Ä‰∏™Êé•ÁöÑÂèÇÊï∞Â∞±ÊòØ $1Ôºå‰æùÊ¨°Á±ªÊé®„ÄÇÂÖ∂‰ªñÁâπÊÆäÂèòÈáèÔºö $# Ôºö‰ª£Ë°®ÂêéÊé•ÁöÑÂèÇÊï∞‰∏™Êï∞Ôºõ $@ Ôºö‰ª£Ë°®‚Äù$1‚Äù ‚Äú$2‚Äù ‚Äú$3‚Äù ‚Äú$4‚Äù ‚Ä¶‰πãÊÑèÔºåÊØè‰∏™ÂèòÈáèÊòØÁã¨Á´ãÁöÑ(Áî®ÂèåÂºïÂè∑Êã¨Ëµ∑Êù•)Ôºõ $* Ôºö‰ª£Ë°®„Äé‚Äù$1c$2c$3c$4‚Ä¶‚Äù ÔºåÂÖ∂‰∏≠ c ‰∏∫ÂàÜÈöîÂ≠óËäÇÔºåÈªòËÆ§‰∏∫Á©∫ÁôΩÈîÆ„ÄÇ Êù°‰ª∂Âà§Êñ≠ÂºèÂà©Áî® if ‚Ä¶. thenÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö1234567if [ &quot;$1&quot; == &quot;hello&quot; ]; then echo &quot;Hello, how are you ?&quot;elif [ &quot;$1&quot; == &quot;&quot; ]; then echo &quot;You MUST input parameters, ex&gt; &#123;$0 someword&#125;&quot;else echo &quot;The only parameter is &apos;hello&apos;, ex&gt; &#123;$0 hello&#125;&quot;fi Âà©Áî® case ‚Ä¶.. esac Âà§Êñ≠Â¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö1234567891011121314case $1 in &quot;one&quot;) echo &quot;Your choice is ONE&quot; ;;&quot;two&quot;) echo &quot;Your choice is TWO&quot; ;;&quot;three&quot;) echo &quot;Your choice is THREE&quot; ;;*) echo &quot;Usage $0 &#123;one|two|three&#125;&quot; ;;esac Âà©Áî® function ÂäüËÉΩÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö12345678910111213141516171819function printit()&#123; echo &quot;Your choice is $1&quot; # Ëøô‰∏™ $1 ÂøÖÈ°ªË¶ÅÂèÇËÄÉÂ∫ï‰∏ãÂëΩ‰ª§ÁöÑ‰∏ãËææ&#125;echo &quot;This program will print your selection !&quot;case $1 in &quot;one&quot;) printit 1 # ËØ∑Ê≥®ÊÑèÔºå printit ÂëΩ‰ª§ÂêéÈù¢ËøòÊúâÊé•ÂèÇÊï∞ÔºÅ ;;&quot;two&quot;) printit 2 ;;&quot;three&quot;) printit 3 ;; *) echo &quot;Usage $0 &#123;one|two|three&#125;&quot; ;;esac Âæ™ÁéØÔºàloopÔºâwhile do done, until do done (‰∏çÂÆöÊ¨°Êï∞Âæ™ÁéØ)Â¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö123456789while [ condition ] &lt;==‰∏≠Êã¨Âè∑ÂÜÖÁöÑÁä∂ÊÄÅÂ∞±ÊòØÂà§Êñ≠Âºèdo &lt;==do ÊòØÂæ™ÁéØÁöÑÂºÄÂßãÔºÅ Á®ãÂ∫èÊÆµËêΩdone &lt;==done ÊòØÂæ™ÁéØÁöÑÁªìÊùüuntil [ condition ]do Á®ãÂ∫èÊÆµËêΩdone for‚Ä¶do‚Ä¶done (Âõ∫ÂÆöÊ¨°Êï∞Âæ™ÁéØ)Â¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö1234for var in con1 con2 con3 ...do Á®ãÂ∫èÊÆµdone for‚Ä¶do‚Ä¶done ÁöÑÊï∞ÂÄºÂ§ÑÁêÜÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö12345678read -p &quot;Please input a number, I will count for 1+2+...+your_input: &quot; nus=0for (( i=1; i&lt;=$nu; i=i+1 ))do s=$(($s+$i))doneecho &quot;The result of &apos;1+2+3+...+$nu&apos; is ==&gt; $s&quot; shell script ÁöÑËøΩË∏™‰∏éË∞ÉËØïÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ôºö123456sh [-nvx] scripts.shÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-n Ôºö‰∏çË¶ÅËøêË°å scriptÔºå‰ªÖÊü•ËØ¢ËØ≠Ê≥ïÁöÑÈóÆÈ¢òÔºõ-v ÔºöÂú®ËøêË°å sccript ÂâçÔºåÂÖàÂ∞Ü scripts ÁöÑÂÜÖÂÆπËæìÂá∫Âà∞Â±èÂπï‰∏äÔºõ-x ÔºöÂ∞Ü‰ΩøÁî®Âà∞ÁöÑ script ÂÜÖÂÆπÊòæÁ§∫Âà∞Ëê§Âπï‰∏äÔºåËøôÊòØÂæàÊúâÁî®ÁöÑÂèÇÊï∞ÔºÅ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_Ê∑±ÂÖ•bashÊï∞ÊçÆÊìç‰Ωú]]></title>
    <url>%2F2018%2F03%2F30%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_%E6%B7%B1%E5%85%A5bash%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®ËøôÈáåÊúâ‰∏ÄÂàá‰Ω†ÊÉ≥Ë¶ÅÁöÑbashÊï∞ÊçÆÊìç‰ΩúÁü•ËØÜÔºåÊØîÂ¶ÇÊï∞ÊçÆÊµÅÈáçÂÆöÂêëÔºåÁÆ°ÈÅìÂëΩ‰ª§ÔºåÊ≠£ÂàôË°®ËææÂºèÁöÑ‰ΩøÁî®ÔºåÂ§ßÂÆ∂ÂèØ‰ª•Âø´Âø´ËøõÊù•ÔºÅ Êï∞ÊçÆÊµÅÁöÑÈáçÂÆöÂêë‰ªÄ‰πàÊòØÊï∞ÊçÆÊµÅÈáçÂÆöÂêë‰∏ÄËà¨Êù•ËØ¥ÔºåÂ¶ÇÊûú‰Ω†Ë¶ÅÊâßË°å‰∏Ä‰∏™ÂëΩ‰ª§ÔºåÈÄöÂ∏∏ÂÆÉ‰ºöÊòØËøôÊ†∑ÁöÑÔºö Êñá‰ª∂ -&gt; Ê†áÂáÜËæìÂÖ• -&gt;ÂëΩ‰ª§ Â¶ÇÊûúÊâßË°åÊ≠£Á°ÆÔºåÂëΩ‰ª§ -&gt; Ê†áÂáÜËæìÂá∫ -&gt; Êñá‰ª∂/ËÆæÂ§áÔºõÂ¶ÇÊûúÊâßË°åÈîôËØØÔºåÂëΩ‰ª§ -&gt; Ê†áÂáÜÈîôËØØËæìÂá∫ -&gt; Êñá‰ª∂ÊàñËÆæÂ§á Ê†áÂáÜËæìÂá∫ÔºåÊ†áÂáÜÈîôËØØËæìÂá∫ÔºåÊ†áÂáÜËæìÂÖ• Ê†áÂáÜËæìÂá∫ÔºöÊåáÁöÑÊòØÂëΩ‰ª§ÊâßË°åÊâÄÂõû‰º†ÁöÑÊ≠£Á°Æ‰ø°ÊÅØÔºå‰ª£Á†Å‰∏∫1Ôºå‰ΩøÁî®&gt; Êàñ &gt;&gt;; Ê†áÂáÜÈîôËØØËæìÂá∫ÔºöÊåáÁöÑÊòØÂëΩ‰ª§ÊâßË°åÈîôËØØÂ§±Ë¥•ÂêéÔºåÊâÄÂõû‰º†ÁöÑÈîôËØØ‰ø°ÊÅØÔºå‰ª£Á†Å‰∏∫12Ôºå‰ΩøÁî®2&gt; Êàñ 2&gt;&gt;; Ê†áÂáÜËæìÂÖ•ÔºöÂ∞ÜÂéüÊú¨ÈúÄË¶ÅÈîÆÁõòËæìÂÖ•ÁöÑÊï∞ÊçÆÊîπÁî±Êñá‰ª∂ÂÜÖÂÆπÊù•Êõø‰ª£Ôºå‰ª£Á†Å‰∏∫0Ôºå‰ΩøÁî®&lt; Êàñ &lt;&lt;; Â¶Ç‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ôºö1ll / &gt; ~/rootfile // ÊòæÁ§∫Êñá‰ª∂Âêç‰ø°ÊÅØÂà∞rootfileÊñá‰ª∂‰∏≠ ÂÖ≥‰∫éÈáçÂÆöÂêëËæìÂá∫Êñá‰ª∂ÁöÑÂàõÂª∫ÊñπÂºèÂ¶Ç‰∏ãÔºö ËØ•Êñá‰ª∂Â¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÁ≥ªÁªü‰ºöËá™Âä®Â∞ÜÂÆÉÂàõÂª∫Ëµ∑Êù• ÂΩìËøô‰∏™Êñá‰ª∂Â≠òÂú®ÔºåÈÇ£‰πàÁ≥ªÁªüÂ∞±‰ºöÂ∞ÜËøô‰∏™Êñá‰ª∂ÂÜÖÂÆπÊ∏ÖÁ©∫ÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÊï∞ÊçÆÂÜôÂÖ• Ëã•‰ª•&gt;ËæìÂÖ•Âà∞‰∏Ä‰∏™‰ª•Â≠òÂú®ÁöÑÊñá‰ª∂‰∏≠ÔºåÈÇ£‰∏™Êñá‰ª∂Â∞±‰ºöË¢´Ë¶ÜÁõñÔºåÂ¶ÇÊûú‰∏çÊÉ≥Ë¢´Ë¶ÜÁõñÔºåÂèØ‰ª•‰ΩøÁî® &gt;&gt; /dev/null ÂûÉÂúæÊ°∂ÈªëÊ¥ûËÆæÂ§á‰∏éÁâπÊÆäÂÜôÊ≥ï /dev/null ÂûÉÂúæÊ°∂ÈªëÊ¥ûËÆæÂ§áÔºåÂ¶ÇÊûúÊàë‰ª¨Áü•ÈÅìÈîôËØØ‰ø°ÊÅØ‰ºöÂèëÁîüÔºåÊâÄ‰ª•Ë¶ÅËÆ≤ÈîôËØØ‰ø°ÊÅØÂøΩÁï•ÊéâËÄå‰∏çÊòæÁ§∫ÊàñÂ≠òÂÇ®ÔºåÊàë‰ª¨Â∞±ÈúÄË¶Å‰ΩøÁî®/dev/nullËøô‰∏™ÈªëÊ¥ûËÆæÂ§á‰∫Ü„ÄÇÂÜôÊ≥ïÂ¶Ç‰∏ãÔºö 1ll / 2&gt; /dev/null Â¶ÇÊûúÊàë‰ª¨Ë¶ÅÂ∞ÜÊ≠£Á°ÆÂú∞‰∏éÈîôËØØÊï∞ÊçÆÈÉΩÂÜôÂÖ•Âêå‰∏Ä‰∏™Êñá‰ª∂‰∏≠ÂéªÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶Å‰ΩøÁî®ÁâπÊÆäÂÜôÊ≥ï‰∫ÜÔºåÂ¶Ç‰∏ãÔºö 12ll / &gt; ~/rootfile 2&gt;&amp;1 ll / &amp;&gt; ~/rootfile ‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®ÂëΩ‰ª§ËæìÂá∫ÈáçÂÆöÂêë Â±èÂπïËæìÂá∫ÁöÑ‰ø°ÊÅØÂæàÈáçË¶ÅÔºåËÄå‰∏îÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂÆÉÂ≠ò‰∏ãÊù•ÁöÑÊó∂ÂÄô ÂêéÂè∞ÊâßË°å‰∏≠ÁöÑÁ®ãÂ∫èÔºå‰∏çÂ∏åÊúõÂÆÉÂπ≤Êâ∞Â±èÂπïÊ≠£Â∏∏ÁöÑËæìÂá∫ÁªìÊûúÊó∂ ‰∏Ä‰∫õÁ≥ªÁªüÁöÑ‰æãË°åÂëΩ‰ª§ÁöÑÊâßË°åÁªìÊûúÔºåÂ∏åÊúõÂÆÉÂèØ‰ª•Â≠ò‰∏ãÊù•Êó∂ ‰∏Ä‰∫õÊâßË°åÂëΩ‰ª§ÁöÑÂèØËÉΩÂ∑≤Áü•‰ø°ÊÅØÊó∂ÔºåÊÉ≥‰ª•‚Äú2&gt;/dev/null‚ÄùÂ∞ÜÂÆÉ‰∏¢ÊéâÊó∂ ÈîôËØØ‰ø°ÊÅØ‰∏éÊ≠£Á°Æ‰ø°ÊÅØÈúÄË¶ÅÂàÜÂà´ËæìÂá∫Êó∂ ÂëΩ‰ª§ÊâßË°åÁöÑÂà§Êñ≠‰æùÊçÆÔºöÔºõÔºå &amp;&amp;Ôºå||Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÂæàÂ§öÂëΩ‰ª§Êàë‰ª¨ÈúÄË¶Å‰∏ÄÊ¨°ËæìÂÖ•ÂéªÊâßË°åÔºåËÄå‰∏çÂÉèÂàÜÂºÄÊâßË°åÔºåÂü∫Êú¨Êúâ‰∏§‰∏™ÈÄâÊã©Ôºå‰∏Ä‰∏™ÊòØÈÄöËøáshell scriptÁºñÂÜôËÑöÊú¨ÂéªÊâßË°åÔºå‰∏ÄÁßçÊòØÂê¨Ëøá‰∏ãÈù¢ÁöÑ‰ªãÁªçÊù•‰∏ÄÁõ¥ËæìÂÖ•Â§öÈáçÂëΩ‰ª§„ÄÇ cmd ; cmd (‰∏çËÄÉËôëÂëΩ‰ª§Áõ∏ÂÖ≥ÊÄßÁöÑËøûÁª≠ÂëΩ‰ª§ÊâßË°åÔºåÁ¨¨‰∏Ä‰∏™ÂëΩ‰ª§ÊâßË°åÁªìÊùüÂêé‰æø‰ºöÊâßË°åÁ¨¨‰∫å‰∏™ÂëΩ‰ª§) cmd &amp;&amp; cmd (Ëã•Á¨¨‰∏Ä‰∏™ÂëΩ‰ª§ÊâßË°åÊàêÂäüÊâç‰ºöÊâßË°åÁ¨¨‰∫å‰∏™ÂëΩ‰ª§ÔºõËã•Á¨¨‰∏Ä‰∏™ÂëΩ‰ª§ÊâßË°åÂ§±Ë¥•ÔºåÂàô‰∏ç‰ºöÊâßË°åÁ¨¨‰∫å‰∏™ÂëΩ‰ª§„ÄÇ) cmd || cmd (Ëã•Á¨¨‰∏Ä‰∏™ÂëΩ‰ª§ÊâßË°åÊàêÂäüÔºåÂàô‰∏çÊâßË°åÁ¨¨‰∫å‰∏™ÂëΩ‰ª§ÔºõËã•Á¨¨‰∏Ä‰∏™ÂëΩ‰ª§ÊâßË°åÂ§±Ë¥•ÔºåÊâç‰ºöÊâßË°åÁ¨¨‰∫å‰∏™ÂëΩ‰ª§„ÄÇ) ÁÆ°ÈÅìÂëΩ‰ª§(pipe)‰ªÄ‰πàÊòØÁÆ°ÈÅìÂëΩ‰ª§ÁÆ°ÈÅìÂëΩ‰ª§ ËÉΩÂ§üÂ∞Ü‰∏Ä‰∏™ÂëΩ‰ª§ÁöÑÊâßË°åÁªìÊûúÁªèËøáÁ≠õÈÄâÔºåÂè™‰øùÁïôÊàë‰ª¨ÈúÄË¶ÅÁöÑ‰ø°ÊÅØ„ÄÇ ÂÆÉÁöÑÁ¨¶Âè∑ÊòØ ‚Äú | ‚Äù„ÄÇ ÁÆ°ÈÅìÂëΩ‰ª§Êúâ‰∏ãÈù¢‰∏§‰∏™ÊØîËæÉÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂú∞ÊñπÔºö ÁÆ°ÈÅìÂëΩ‰ª§‰ªÖ‰ºöÂ§ÑÁêÜÊ†áÂáÜËæìÂá∫ÔºåÂØπ‰∫éÊ†áÂáÜÈîôËØØËæìÂá∫‰ºö‰∫à‰ª•ÂøΩÁï• ÁÆ°ÈÅìÂëΩ‰ª§ÂøÖÈ°ªË¶ÅËÉΩÂ§üÊé•Êî∂Êù•Ëá™Ââç‰∏Ä‰∏™ÂëΩ‰ª§ÁöÑÊï∞ÊçÆÊàê‰∏∫Ê†áÂáÜËæì‰∫∫ÁªßÁª≠Â§ÑÁêÜÊâçË°å„ÄÇ ÁÆ°ÈÅìÂëΩ‰ª§ÈÄâÂèñÊåáÂÆöÂàóÔºöcutcut‰∏∫Ââ™ÂàáÁöÑÊÑèÊÄùÔºåÂÆÉËÉΩÂ∞Ü‰∏ÄË°åË°åÁöÑÊï∞ÊçÆÊåâÁÖßÊåáÂÆöÁöÑÂàÜÈöîÁ¨¶ÂàáÊàê‰∏ÄÂàóÂàóÔºåÁÑ∂ÂêéÂè™ÊòæÁ§∫ÁâπÂÆöÂàóÁöÑÊï∞ÊçÆ„ÄÇ cutÊúâ‰∏§Áßç‰ΩøÁî®ÊñπÂºèÔºö ÊåâÁÖßÊåáÂÆöÂ≠óÁ¨¶ÂàÜÈöîÔºåËøô‰∏™ÂëΩ‰ª§‰ºöÊåâÁÖßÁâπÂÆöÁöÑÂàÜÈöîÁ¨¶Â∞ÜÊï∞ÊçÆÂàáÂàÜÔºåÂπ∂Âè™ÊòæÁ§∫Á¨¨nÂàóÁöÑÊï∞ÊçÆ„ÄÇÂ¶Ç‰∏ãÔºö 1cut -d &apos;ÂàÜÈöîÁ¨¶&apos; -f n(Á¨¨Âá†Âàó) ÈÄâÊã©ÁâπÂÆöËåÉÂõ¥ÂÜÖÁöÑÊï∞ÊçÆÔºåÂ¶Ç‰∏ãÔºö 1cut -c Ëµ∑ÂßãÂ≠óÁ¨¶ÁöÑ‰∏ãÊ†á-ÁªìÊùüÂ≠óÁ¨¶ÁöÑ‰∏ãÊ†á ÂÖ≥ÈîÆËØçÊêúÁ¥¢ÊåáÂÆöË°åÔºögrepgrepÁî®‰∫éËøõË°åÂÖ≥ÈîÆËØçÊü•ÊâæÔºåÂÆÉ‰ºöÂ∞ÜÊñá‰ª∂‰∏≠Âê´ÊúâÂÖ≥ÈîÆËØçÁöÑÈÇ£‰∏ÄÊï¥Ë°åËæìÂá∫Êù•„ÄÇgrepÁöÑ‰∏§Áßç‰ΩøÁî®ÊñπÂºèÂ¶Ç‰∏ãÔºö ‰ªéÊåáÂÆöÊñá‰ª∂‰∏≠Â∞ÜÁ¨¶ÂêàÂÖ≥ÈîÆËØçÁöÑË°åÊêúÁ¥¢Âá∫Êù•ÔºåÂ¶Ç‰∏ãÔºö 1grep [-ÂèÇÊï∞] ‚ÄòÂÖ≥ÈîÆËØç‚Äô Êñá‰ª∂ ÈááÁî®ÁÆ°ÈÅìÔºåÂ∞ÜÂâç‰∏Ä‰∏™ÂëΩ‰ª§ÁöÑÊâßË°åÁªìÊûúËæìÂá∫ÁªôgrepÔºåÂπ∂ÈÄöËøágrepÁöÑÂÖ≥ÈîÆËØçÊêúÁ¥¢Â∞ÜÁ¨¶ÂêàÊù°‰ª∂ÁöÑË°åÊêúÁ¥¢Âá∫Êù•ÔºåÂ¶Ç‰∏ãÔºö 1ÂëΩ‰ª§ | grep [-ÂèÇÊï∞] ‚ÄòÂÖ≥ÈîÆËØç‚Äô ÊéíÂ∫èÔºösortsortÂëΩ‰ª§ËÉΩÂ§üÂ∞ÜÊåáÂÆöÊñá‰ª∂ Êàñ Ââç‰∏Ä‰∏™ÂëΩ‰ª§ÁöÑÁªìÊûúÊï∞ÊçÆ ÊåâÁÖßÊåáÂÆöÂ≠óÊÆµËøõË°åÊéíÂ∫è„ÄÇsort‰∏§Áßç‰ΩøÁî®ÊñπÂºè‰∏égrepÂü∫Êú¨‰∏ÄÊ†∑Ôºå‰∏ÄÁßçÊòØÂ∞ÜÊñá‰ª∂‰∏≠ÁöÑÊï∞ÊçÆÊåâÁÖßÊåáÂÆöÂ≠óÊÆµÊéíÂ∫è„ÄÇÂè¶‰∏ÄÁßçÊòØ‰ΩøÁî®ÁÆ°ÈÅìÔºåÂ∞ÜÂâç‰∏Ä‰∏™ÂëΩ‰ª§ÊâßË°åÁöÑÁªìÊûúÊåâÁÖßÊåáÂÆöÂ≠óÊÆµËøõË°åÊéíÂ∫è„ÄÇ„ÄÇ ÂéªÈô§ÈáçÂ§çË°åÔºöuniqËØ•ÂëΩ‰ª§Âè™ËÉΩÁî®‰∫éÁÆ°ÈÅìÔºåÂ¶ÇÁªüËÆ°ÂΩìÂâçÁ≥ªÁªüÊâÄÊúâÁî®Êà∑ÁöÑÁôªÂΩïÊ¨°Êï∞ÔºöÂ¶Ç‰∏ãÔºö1last | cut -d &apos; &apos; -f 1 | uniq -c ÁªüËÆ°Â≠óÊï∞„ÄÅË°åÊï∞„ÄÅÂ≠óÁ¨¶Êï∞ÔºöwcwcÂè™ËÉΩÈÄöËøáÁÆ°ÈÅì‰ΩøÁî®ÔºåÂ¶Ç‰∏ãÔºö1ÂëΩ‰ª§ | wc [-ÂèÇÊï∞] ÂèåÂêëÈáçÂÆöÂêëÔºöteeteeÂè™ËÉΩÂíåÁÆ°ÈÅìÁªìÂêà‰ΩøÁî®ÔºåÂ¶ÇÂ∞Ülast‰∏≠ÁöÑ‰ø°ÊÅØËæìÂá∫ÊåáÊñá‰ª∂Âπ∂ÊòæÁ§∫Âú®Â±èÂπï‰∏ä,Êåá‰ª§Â¶Ç‰∏ãÔºö1last | tee -a lastfile | cut -d &apos; &apos; f 1 ÂàáÂâ≤Êñá‰ª∂ÔºösplitËØ•ÂëΩ‰ª§ËÉΩÂ∞Ü‰∏Ä‰∏™Â§ßÊñá‰ª∂ÂàáÂàÜÊàêËã•Âπ≤‰∏™Â∞èÊñá‰ª∂„ÄÇÁî®Ê≥ïÂ¶Ç‰∏ãÔºö1split [-bl] Â§ßÊñá‰ª∂ Â∞èÊñá‰ª∂ÂêçÂ≠óÂâçÁºÄ Ê≠£ÂàôË°®ËææÂºè‰ªÄ‰πàÊòØÊ≠£ÂàôË°®ËææÂºèÊ≠£ÂàôË°®ËææÂºè Â∞±ÊòØÂ§ÑÁêÜÂ≠óÁ¨¶‰∏≤ÁöÑÊñπÊ≥ïÔºåÂÆÉÊòØË°å‰∏∫Âçï‰ΩçÊù•ËøõË°åÂ≠óÁ¨¶‰∏≤ÁöÑÂ§ÑÁêÜË°å‰∏∫Ê≠£ÂàôË°®ËææÂºèÈÄöËøá‰∏Ä‰∫õÁâπÊÆäÁ¨¶Âè∑ÁöÑËæÖÂä©ÔºåÂèØ‰ª•ËÆ©Áî®Êà∑ËΩªÊòìËææÂà∞Êü•Êâæ„ÄÅÂà†Èô§„ÄÅÊõøÊç¢ÊüêÁâπÂÆöÂ≠óÁ¨¶‰∏≤ÁöÑÂ§ÑÁêÜÁ®ãÂ∫è„ÄÇ Ê≠£ÂàôË°®ËææÂºèÂü∫Êú¨‰∏äÂ∞±ÊòØ‰∏ÄÁßç‚ÄúË°®Á§∫Ê≥ï‚ÄùÔºåÂè™Ë¶ÅÂ∑•ÂÖ∑ÊîØÊåÅËøôÁßçË°®Á§∫Ê≥ïÔºåÈÇ£‰πàÂ∑•ÂÖ∑Á®ãÂ∫èÂ∞±ÂèØ‰ª•Áî®Êù•‰Ωú‰∏∫Ê≠£ÂàôË°®ËææÂºèÁöÑÂ≠óÁ¨¶‰∏≤Â§ÑÁêÜ‰πãÁî®„ÄÇÊØîÂ¶Çvi„ÄÅgrep„ÄÅawk„ÄÅsedÁ≠âÂ∑•ÂÖ∑„ÄÇ Ê≠£ÂàôË°®ËææÂºèÁöÑÂ≠óÁ¨¶‰∏≤Ë°®ËææÊñπÂºè‰æùÁÖß‰∏çÂêåÁöÑ‰∏•Ë∞®Â∫¶ÂèØ‰ª•ÂàÜ‰∏∫Âü∫Êú¨Ê≠£ÂàôË°®ËææÂºè‰∏éÊâ©Â±ïÊ≠£ÂàôË°®ËææÂºè„ÄÇ Âü∫Á°ÄÊ≠£ÂàôË°®ËææÂºèÂü∫Á°ÄÊ≠£ÂàôË°®ËææÂºèÂ≠óÁ¨¶ REÂ≠óÁ¨¶ ÊÑè‰πâ ^word ÂæÖÊü•ÊâæÁöÑÂ≠óÁ¨¶‰∏≤(word)Âú®Ë°åÈ¶ñ word$ ÂæÖÊü•ÊâæÁöÑÂ≠óÁ¨¶‰∏≤(word)Âú®Ë°åÂ∞æ . ‰ª£Ë°®‰∏ÄÂÆöÊúâ‰∏Ä‰∏™‰ªªÊÑèÂ≠óÁ¨¶ÁöÑÂ≠óÁ¨¶ \/ ËΩ¨‰πâÂ≠óÁ¨¶,Â∞ÜÁâπÊÆäÁ¨¶Âè∑ÁöÑÁâπÊÆäÊÑè‰πâÂéªÈô§ * ÈáçÂ§ç0‰∏™ÊàñÂ§ö‰∏™ÁöÑÂâç‰∏Ä‰∏™Â≠óÁ¨¶ [list] ‰ªéÂ≠óÁ¨¶ÈõÜÂêàÁöÑREÂ≠óÁ¨¶ÈáåÈù¢ÊâæÂá∫ÊÉ≥Ë¶ÅÈÄâÂèñÁöÑÂ≠óÁ¨¶ [n1-n2] ‰ªéÂ≠óÁ¨¶ÈõÜÂêàÁöÑREÂ≠óÁ¨¶ÈáåÈù¢ÊâæÂá∫ÊÉ≥Ë¶ÅÈÄâÂèñÁöÑÂ≠óÁ¨¶ËåÉÂõ¥ [^list] ‰ªéÂ≠óÁ¨¶ÈõÜÂêàÁöÑREÂ≠óÁ¨¶ÈáåÈù¢ÊâæÂá∫‰∏çË¶ÅÁöÑÂ≠óÁ¨¶‰∏≤ÊàñËåÉÂõ¥ /{n,m/} ËøûÁª≠nÂà∞m‰∏™ÁöÑÂâç‰∏Ä‰∏™REÂ≠óÁ¨¶,/{n/}Ë°®Á§∫ËøûÁª≠n‰∏™,/{n,/}Ë°®Á§∫ËøûÁª≠n‰∏™Âèä‰ª•‰∏ä PSÔºöÊ≠£ÂàôË°®ËææÂºèÁöÑÁâπÊÆäÂ≠óÁ¨¶‰∏é‰∏ÄËà¨Âú®ÂëΩ‰ª§Ë°åËæìÂÖ•ÁöÑ‚ÄúÈÄöÈÖçÁ¨¶‚ÄùÂπ∂‰∏çÁõ∏ÂêåÔºåÈÄöÈÖçÁ¨¶ÁöÑ*‰ª£Ë°®ÁöÑÊòØÈõ∂Âà∞Êó†ÈôêÂ§ö‰∏™Â≠óÁ¨¶ÁöÑÊÑèÊÄùÔºå‰ΩÜÊòØÂú®Ê≠£ÂàôË°®ËææÂºè‰∏≠*ÊòØË°®Á§∫ÈáçÂ§ç0Âà∞Êó†Á©∑Â§ö‰∏™Ââç‰∏Ä‰∏™REÂ≠óÁ¨¶ÁöÑÊÑèÊÄù„ÄÇ Âü∫Á°ÄÊ≠£ÂàôË°®ËææÂºèÁªÉ‰π†(‰ª•grepÂ∑•ÂÖ∑‰∏∫‰æã) Êü•ÊâæÁâπÂÆöÂ≠óÁ¨¶‰∏≤ 123grep -n ‚Äòthe‚Äô regular_express.txtgrep -vn &apos;the&apos; regular_express.txt (-vÂèçÂêëÈÄâÊã©) Âà©Áî®‰∏≠Êã¨Âè∑[]Êù•Êü•ÊâæÈõÜÂêàÂ≠óÁ¨¶ 12345grep -n &apos;t[ae]st&apos; regular_express.txt (ÂèØÂåπÈÖçtestÊàñtast)grep -n &apos;[^g]oo&apos; regular_express.txt (ooÂâç‰∏çËÉΩÊúâgÁöÑÂ≠óÁ¨¶)grep -n &apos;[^[:lower:]]oo&apos; regular_express.txt ([:lower:]‰ª£Ë°®a-zÁöÑÊÑèÊÄù) Ë°åÈ¶ñÂíåË°åÂ∞æÂ≠óÁ¨¶ 123grep -n &apos;^test&apos; regular_express.txt (Ê≥®:^Âú®[]ÂÜÖË°®Á§∫‚ÄúÂèçÂêëÈÄâÊã©‚Äù,Âú®[]Â§ñË°®Á§∫ÂÆö‰ΩçÂú®Ë°åÈ¶ñ)grep -n &apos;/.$&apos; regular_express.txt (ÊâæÂá∫Ë°åÂ∞æÁªìÊùü‰∏∫Â∞èÊï∞ÁÇπÁöÑÈÇ£‰∏ÄË°å) ‰ªªÊÑè‰∏Ä‰∏™Â≠óÁ¨¶.‰∏éÈáçÂ§çÂ≠óÁ¨¶* 12345grep -n ‚Äòg..d‚Äô regular_express.txt (ÂèØÂåπÈÖçgood,gladÁ≠âÂ≠óÁ¨¶)grep -n &apos;ooo*&apos; regular_express.txt (ÂåπÈÖçËá≥Â∞ë‰∏§‰∏™o‰ª•‰∏äÁöÑÂ≠óÁ¨¶)grep -n &apos;g.*g&apos; regular_express.txt (ÊâæÂá∫gÂºÄÂ§¥‰∏égÁªìÂ∞æÁöÑÂ≠óÁ¨¶‰∏≤,.*Ë°®Á§∫o‰∏™ÊàñÂ§ö‰∏™‰ªªÊÑèÂ≠óÁ¨¶ÁöÑÊÑèÊÄù) ÈôêÂÆöËøûÁª≠RE(Regular Expression)Â≠óÁ¨¶ËåÉÂõ¥{} 12345grep -n &apos;o/&#123;2/&#125;&apos; regular_express.txt (ÊâæÂá∫‰∏§‰∏™oÁöÑÂ≠óÁ¨¶‰∏≤)grep -n ‚Äògo/&#123;2,5/&#125;g‚Äô regular_express.txt (gÂêéÊúâ‰∏§‰∏™Âà∞5‰∏™o,ÁÑ∂ÂêéÊé•‰∏Ä‰∏™gÁöÑÂ≠óÁ¨¶‰∏≤)grep -n ‚Äògo/&#123;2,/&#125;g‚Äô regular_express.txt (gÂêéÊúâ‰∏§‰∏™Âèä‰ª•‰∏äÁöÑo,ÁÑ∂ÂêéÊé•‰∏Ä‰∏™gÁöÑÂ≠óÁ¨¶‰∏≤) sedÂ∑•ÂÖ∑sedÊú¨Ë∫´ÊòØ‰∏Ä‰∏™ÁÆ°ÈÅìÂëΩ‰ª§ÔºåÂÆÉÂèØ‰ª•Â∞ÜÊï∞ÊçÆËøõË°åÊõøÊç¢„ÄÅÂà†Èô§„ÄÅÊñ∞Â¢û„ÄÅÈÄâÂèñÁâπÂÆöË°åÁ≠âÂäüËÉΩ„ÄÇ‰ΩøÁî®ÊñπÂºèÂ¶Ç‰∏ãÔºö1sed [-nefr] [Âä®‰Ωú] Êâ©Â±ïÊ≠£ÂàôË°®ËææÂºè‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂè™ÈúÄË¶ÅÂü∫Á°ÄÊ≠£ÂàôË°®ËææÂºèÂç≥ÂèØÔºå‰ΩÜÊòØÊúâÊó∂ÂÄôËøòÈúÄË¶Å‰∏Ä‰∫õÊâ©Â±ïÂäüËÉΩÔºåÊØîÂ¶ÇÊï¥Âêà‰∏§Êù°ÁÆ°ÈÅìÂëΩ‰ª§ÔºåËøôÂ∞±ÈúÄË¶ÅÁî®Âà∞Êâ©Â±ïÊ≠£ÂàôË°®ËææÂºèÔºåÂ¶ÇÊûúÊòØgrepÔºåÂÆÉÂü∫Êú¨‰ΩøÁî®ÂëΩ‰ª§ÊòØegrepÔºåÂü∫Êú¨ÁöÑÁ¨¶Âè∑Â¶Ç‰∏ãÔºö Â≠óÁ¨¶ ÊÑè‰πâ‰∏éËåÉ‰æã + ÈáçÂ§ç‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÁöÑÂâç‰∏Ä‰∏™REÂ≠óÁ¨¶ÔºåÂ¶ÇÔºöegrep -n ‚Äògo+d‚Äô regular_express.txt ? 0‰∏™Êàñ‰∏Ä‰∏™ÁöÑÂâç‰∏Ä‰∏™REÂ≠óÁ¨¶ÔºåÂ¶ÇÔºöegrep -n ‚Äògo?d‚Äô regular_express.txt \ Áî®ÊàñÁöÑÊñπÂºèÊâæÂá∫Â≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÔºöegrep -n ‚Äògd\ good‚Äô regular_express.txt () ÊâæÂá∫‚ÄúÁªÑ‚ÄùÁöÑÂ≠óÁ¨¶‰∏≤ (Â¶Ç:egrep -n ‚Äòg(la \ oo)d‚Äô regular_express.txt Ë°®Á§∫ÊâæÂá∫gladÊàñgoodÂ≠óÁ¨¶‰∏≤) ()+ Â§ö‰∏™ÈáçÂ§çÁªÑÁöÑÂà§Âà´ (Â¶Çecho ‚ÄòAxyzxyzxyzxyzC‚Äô \ egrep ‚ÄòA(xyz)+C‚Äô ÊâæÂá∫ÂºÄÂ§¥ÊòØAÁªìÂ∞æÊòØC,‰∏≠Èó¥Êúâ‰∏Ä‰∏™‰ª•‰∏äÁöÑ‚Äúxyz‚ÄùÂ≠óÁ¨¶‰∏≤) Êñá‰ª∂ÁöÑÊ†ºÂºèÂåñÂ§ÑÁêÜÊñá‰ª∂Ê†ºÂºèÂåñÔºöprintfÂ¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜËá™Â∑±ÁöÑÊï∞ÊçÆÁªôÂÆÉÊ†ºÂºèÂåñËæìÂá∫ÔºåÊàë‰ª¨Â∞±ÈúÄË¶Å‰∏Ä‰∏™Â•ΩÁöÑÊ†∑ÂºèÔºåËæìÂá∫ÁöÑÊñπÂºèÂÖ∂ÂÆûÂíåCËØ≠Ë®ÄÁöÑÊ†ºÂºèÂåñËæìÂá∫Â∑Æ‰∏çÂ§öÔºåÂ¶Ç‰∏ãÔºö1printf &apos;ÊâìÂç∞Ê†ºÂºè&apos; ÂÆûÈôÖÂÜÖÂÆπ Â•ΩÁî®ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÂ∑•ÂÖ∑ÔºöawkawkÁõ∏ÂΩìÈÄÇÂêàÂ§ÑÁêÜÂ∞èÂûãÁöÑÊï∞ÊçÆÔºåÂÆÉÁöÑÂü∫Êú¨Áî®Ê≥ïÂ¶Ç‰∏ãÔºö1234awk ‚ÄòÊù°‰ª∂Á±ªÂûã1&#123;Âä®‰Ωú1&#125; Êù°‰ª∂Á±ªÂûã2&#123;Âä®‰Ωú2&#125; ...‚Äô filename// ‰æãÂ≠êlast -n 5 | awk &apos;&#123;print $1 &quot;\t&quot; $3&#125;&apos; // ÂèñÂá∫ÁôªÂΩïËÄÖË¥¶Âè∑Âíåip Ëøô‰∏™awkÁöÑÂ§ÑÁêÜÊµÅÁ®ãÂ¶Ç‰∏ãÔºö ËØªÂÖ•Á¨¨‰∏ÄË°åÔºåÂπ∂Â∞ÜÁ¨¨‰∏ÄË°åÁöÑÂ°´ÂÖ•$0,$1Á≠âÂèòÈáè‰∏≠ ‰æùÊçÆÊù°‰ª∂Á±ªÂûãÁöÑÈôêÂà∂ÔºåÂà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅËøõË°åÂêéÈù¢ÁöÑÂä®‰Ωú ÂÅöÂÆåÊâÄÊúâÁöÑÂä®‰Ωú‰∏éÊù°‰ª∂Á±ªÂûã Ëã•ËøòÊúâÂêéÁª≠Ë°åÔºåÂ∞±ÈáçÂ§ç‰∏äÈù¢1~3ÁöÑÊ≠•È™§ÔºåÁõ¥Âà∞ÊâÄÊúâÊï∞ÊçÆÈÉΩËØªÂÆå‰∏∫Ê≠¢„ÄÇ Êñá‰ª∂ÊØîËæÉÂ∑•ÂÖ∑ÔºödiffdiffÁî®‰∫éÊØîËæÉ‰∏§‰∏™Êñá‰ª∂‰πãÈó¥ÁöÑÂå∫Âà´,Âπ∂‰∏îÊòØ‰ª•Ë°å‰∏∫Âçï‰ΩçÁöÑ,diff‰πüÂèØ‰ª•ÊØîËæÉ‰∏§‰∏™ÁõÆÂΩï„ÄÇÁî®Ê≥ïÂ¶Ç‰∏ãÔºö1diff [-bBi] from-file to-file patchËøô‰∏™ÂëΩ‰ª§‰∏édiffÊúâÂØÜ‰∏çÂèØÂàÜÁöÑËÅîÁ≥ªÔºåÂ∞ÜÊóßÁöÑÊñá‰ª∂ÂçáÁ∫ßÊàê‰∏∫Êñ∞ÁöÑÊñá‰ª∂ÁöÑÊñπÊ≥ïÊòØÂÖàÊØîËæÉÊñ∞ÊóßÁâàÊú¨ÁöÑÂå∫Âà´ÔºåÂ∞ÜÂ∞ÜÂå∫Âà´Êñá‰ª∂Âà∂‰ΩúÊàê‰∏∫Ë°•‰∏ÅÊñá‰ª∂ÔºåÂÜçÊúâË°•‰∏ÅÈóÆ‰ª∑Êõ¥Êñ∞ÊóßÊñá‰ª∂Âç≥ÂèØ„ÄÇ‰æãÂ≠êÂ¶Ç‰∏ãÔºö1234567891011// ËåÉ‰æã:‰ª•/tmp/testÂÜÖÁöÑpasswd.old ‰∏épasswd.new Âà∂‰ΩúË°•‰∏ÅÊñá‰ª∂,Âπ∂Êõ¥Êñ∞ÊóßÁâàÊï∞ÊçÆdiff -Naur passwd.old passwd.new &gt;passwd.patch// Êõ¥Êñ∞ÊóßÊñá‰ª∂,ÂèòÊàêÂíåÊñ∞Êñá‰ª∂‰∏ÄÊ†∑patch -p0 &lt; passwd.patch// ÊÅ¢Â§çÊóßÊñá‰ª∂ÁöÑÂÜÖÂÆπpatch -R -p0 &lt; passwd.patch ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_ÂàùÊé¢shellÊ≠•ÂÖ•bash]]></title>
    <url>%2F2018%2F03%2F28%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_%E5%88%9D%E6%8E%A2shell%E6%AD%A5%E5%85%A5bash%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®LinuxÁöÑÁéØÂ¢É‰∏ãÔºåÂ¶ÇÊûú‰Ω†‰∏çÊáÇbashÊòØ‰ªÄ‰πàÔºåÈÇ£‰πàÂÖ∂‰ªñÁöÑ‰∏úË•øÂ∞±‰∏çÁî®Â≠¶‰∫ÜÔºÅ ËÆ§ËØÜbashËøô‰∏™shellÁÆ°ÁêÜÊï¥‰∏™ËÆ°ÁÆóÊú∫Á°¨‰ª∂ÁöÑÂÖ∂ÂÆûÊòØÊìç‰ΩúÁ≥ªÁªüÁöÑÂÜÖÊ†∏ÔºåËøô‰∏™ÂÜÖÊ†∏ÊòØÈúÄË¶Å‰øùÊä§ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨‰∏ÄËà¨Áî®Êà∑Â∞±Âè™ËÉΩÈÄöËøáshellÊù•Ë∑üÂÜÖÊ†∏ÈÄö‰ø°Ôºå‰ª•ËÆ©ÂÜÖÊ†∏ËææÂà∞Êàë‰ª¨ÊâÄÊÉ≥Ë¶ÅËææÂà∞ÁöÑÂ∑•‰ΩúÔºåÈÇ£‰πàÁ≥ªÁªü„ÄÇ Á°¨‰ª∂„ÄÅÂÜÖÊ†∏‰∏éshell‰∏ãÈù¢ÊòØÁ°¨‰ª∂„ÄÅÂÜÖÊ†∏‰∏éshellÁöÑÂÖ≥Á≥ªÔºö Êàë‰ª¨ÂøÖÈ°ªË¶ÅÈÄöËøá‚Äúshell‚ÄùÂ∞ÜÊàë‰ª¨ËæìÂÖ•ÁöÑÂëΩ‰ª§‰∏éÂÜÖÊ†∏ÈÄö‰ø°ÔºåÂ•ΩËÆ©ÂÜÖÊ†∏ÂèØ‰ª•ÊéßÂà∂Á°¨‰ª∂Êù•Ê≠£Á°ÆÊó†ËØØÂú∞Â∑•‰Ωú„ÄÇ ÂÖ∂ÂÆûshellÁöÑÂäüËÉΩÂè™ÊòØÊèê‰æõÁî®Êà∑Êìç‰ΩúÁ≥ªÁªüÁöÑ‰∏Ä‰∏™Êé•Âè£ÔºåÂõ†Ê≠§Ëøô‰∏™shellÈúÄË¶ÅÂèØ‰ª•Ë∞ÉÁî®ÂÖ∂‰ªñËΩØ‰ª∂ÊâçÂ•Ω„ÄÇÂè™Ë¶ÅËÉΩÂ§üÊìç‰ΩúÂ∫îÁî®Á®ãÂ∫èÁöÑÊé•Âè£ÈÉΩËÉΩÂ§üÁß∞‰∏∫shell„ÄÇ Áã≠‰πâÁöÑshellÊåáÁöÑÊòØÂëΩ‰ª§Ë°åÊñπÈù¢ÁöÑËΩØ‰ª∂ÔºåÂåÖÊã¨bashÁ≠â„ÄÇÂπø‰πâÁöÑshellÂåÖÊã¨ÂõæÂΩ¢ÁïåÈù¢ÁöÑËΩØ‰ª∂ÔºåÂõ†‰∏∫ÂõæÂΩ¢ÁïåÈù¢‰πüËÉΩÂ§üÊìç‰ΩúÂêÑÁßçÂ∫îÁî®Á®ãÂ∫èÊù•Ë∞ÉÁî®ÂÜÖÊ†∏Â∑•‰Ωú„ÄÇ ‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶ÂëΩ‰ª§Ë°åÁïåÈù¢ÁöÑshell ÂëΩ‰ª§Ë°åÁïåÈù¢ÁöÑshellÔºöÂ§ßÂÆ∂ÔºàÂá†‰πéÊâÄÊúâÂèëË°åÁâàÔºâÈÉΩ‰∏ÄÊ†∑ ËøúÁ®ãÁÆ°ÁêÜÔºöÂëΩ‰ª§Ë°åÁïåÈù¢Â∞±ÊòØÊØîËæÉÂø´ÔºåËÄå‰∏îËæÉ‰∏çÂÆπÊòìÂá∫Áé∞Êñ≠Á∫øÊàñËÄÖ‰ø°ÊÅØÂ§ñÊµÅÁöÑÈóÆÈ¢ò„ÄÇ LinuxÁöÑ‰ªªÁù£‰∫åËÑâÔºöshellÊòØ‰πü„ÄÇÂõ†‰∏∫Ë¶ÅÊÉ≥Â∞ÜËá™Â∑±ÁöÑ‰∏ªÊú∫ÁÆ°ÁêÜÂ•ΩÔºåËâØÂ•ΩÁöÑshellÁ®ãÂ∫èÁºñÂÜôÊòØÂøÖÈ°ªÁöÑ„ÄÇ Á≥ªÁªüÂêàÊ≥ï‰∏é/etc/shellsÂäüËÉΩÁõÆÂâçÊàë‰ª¨ÁöÑLinuxÊúâ‰∏ãÈù¢Âá†‰∏™ÂèØ‰ª•Áî®ÁöÑshellÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊü•Áúã/etc/shellsËøô‰∏™Êñá‰ª∂ÔºåÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÔºö12345678/bin/sh (Â∑≤ÁªèË¢´/bin/bashÊâÄÊõø‰ª£)/bin/bash (LinuxÈªòËÆ§ÁöÑshell)/sbin/nologin/usr/bin/sh/usr/bin/bash/usr/sbin/nologin/bin/tcsh (Êï¥ÂêàC shellÔºåÊèê‰æõ‰∫ÜÊõ¥Â§öÁöÑÂäüËÉΩ)/bin/csh (Â∑≤ÁªèË¢´/bin/tcshÊâÄÊõø‰ª£) LinuxÈªòËÆ§ÁöÑÂ∞±ÊòØbash„ÄÇÁ≥ªÁªü‰∏äÂêàÊ≥ïÁöÑshellÈÉΩË¶ÅÂÜôÂÖ•/etc/shellsËøô‰∏™Êñá‰ª∂‰∏≠ÔºåÂõ†‰∏∫Á≥ªÁªüÊüê‰∫õÊúçÂä°Âú®ËøêË°åËøáÁ®ã‰∏≠Ôºå‰ºöÂéªÊ£ÄÊü•Áî®Êà∑ËÉΩÂ§ü‰ΩøÁî®ÁöÑshellsÔºåËÄåËøô‰∫õshellÁöÑÊü•ËØ¢Â∞±ÊòØÂÄüÂä©/etc/shellsËøô‰∏™Êñá‰ª∂„ÄÇ Áî®Êà∑ÈªòËÆ§ÂèñÂæóÁöÑshellÂèØ‰ª•ÈÄöËøáÊü•Áúã/etc/passwdÊñá‰ª∂ÔºåÂ¶Ç‰∏ãÔºö123root:x:0:0:root:/root:/bin/bashbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologin bash shellÁöÑÂäüËÉΩbashÁöÑ‰ºòÁÇπÂ¶Ç‰∏ãÔºö ÂëΩ‰ª§ËÆ∞ÂøÜËÉΩÂäõÔºå~/.bash_historyÈáåÈù¢‰ºöËÆ∞ÂΩïÂâç‰∏ÄÊ¨°ÁôªÂΩïÊâÄÊâßË°åËøáÁöÑÂëΩ‰ª§ÔºåËÄåËøô‰∏ÄÊ¨°ÁôªÂΩïÈÉΩË¢´ÊöÇÂ≠òÂú®‰∏¥Êó∂ÂÜÖÂ≠ò‰∏≠ÔºåÊàêÂäüÊ≥®ÈîÄÂêéÔºåÊú¨Ê¨°ÊâßË°åÁöÑÂëΩ‰ª§‰ºöËÆ∞ÂΩïÂà∞Êñá‰ª∂‰∏≠„ÄÇÊúÄÂ§ßÁöÑÂ•ΩÂ§ÑÂ∞±ÊòØÂèØ‰ª•Êü•ËØ¢ÊõæÁªèÂÅöËøáÁöÑÊìç‰ΩúÔºåÂà©‰∫éÊéíÈîô„ÄÇ ÂëΩ‰ª§‰∏éÊñá‰ª∂Ë°•ÂÖ®ÂäüËÉΩÔºàTabÈîÆÁöÑÂ•ΩÂ§ÑÔºâ ÂëΩ‰ª§Âà´ÂêçËÆæÁΩÆÂäüËÉΩÔºàaliasÔºâÊâßË°åÂ¶Ç‰∏ãÂæóÂëΩ‰ª§Ôºö alias ÁÆÄÂåñÂëΩ‰ª§=‚ÄôÂÆûÈôÖÂëΩ‰ª§‚Äô ÔºàËÆæÁΩÆÂà´ÂêçÔºâ; unalias ÁÆÄÂåñÂëΩ‰ª§ÔºàËß£Èô§Âà´ÂêçÔºâ ‰Ωú‰∏öÊéßÂà∂„ÄÅÂâçÂè∞„ÄÅÂêéÂè∞ÊéßÂà∂ Á®ãÂ∫èËÑöÊú¨ ÈÄöÈÖçÁ¨¶Ôºà*Ôºâ shellÁöÑÂèòÈáèÂäüËÉΩÂèòÈáèÊòØbashÁéØÂ¢É‰∏≠ÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰∏Ä‰∏™Áé©ÊÑèÂÑø„ÄÇ ‰ªÄ‰πàÊòØÂèòÈáèÂèòÈáèÔºö Â∞±ÊòØ‰ª•‰∏ÄÁªÑÊñáÂ≠óÊàñÁ¨¶Âè∑Á≠âÔºåÊù•Êõø‰ª£‰∏Ä‰∫õËÆæÁΩÆÊàñËÄÖ‰∏Ä‰∏≤‰øùÁïôÁöÑÊï∞ÊçÆ„ÄÇ ÂèòÈáèÁöÑÊñπ‰æøÊÄßÂú®‰∫éÔºö ÂèòÈáèÁöÑÂèØÂèòÊÄß‰∏éÊñπ‰æøÊÄß ÁÆÄÂåñbashÁéØÂ¢ÉÊìç‰Ωú ËÑöÊú¨Á®ãÂ∫èËÆæËÆ°ÁöÑÂ•ΩÂ∏ÆÊâã ÂèòÈáèÁöÑÂàÜÁ±ªÂú®Linux‰∏≠ÔºåÂèòÈáèÂàÜ‰∏∫ÁéØÂ¢ÉÂèòÈáè(ÂÖ®Â±ÄÂèòÈáè) Âíå Â±ÄÈÉ®ÂèòÈáè„ÄÇÁéØÂ¢ÉÂèòÈáèËÉΩË¢´Â≠êËøõÁ®ãÁªßÊâøÔºåËÄåÂ±ÄÈÉ®ÂèòÈáèÂè™ËÉΩÂú®ÂΩìÂâçËøõÁ®ã‰∏≠‰ΩøÁî®„ÄÇ ‰∏çËÆ∫ÊòØÁéØÂ¢ÉÂèòÈáèËøòÊòØÂ±ÄÈÉ®ÂèòÈáè„ÄÇ‰ªñ‰ª¨ÂèàÈÉΩÂèØ‰ª•ÂàÜ‰∏∫Á≥ªÁªüÂèòÈáè Âíå Ëá™ÂÆö‰πâÂèòÈáè„ÄÇÁ≥ªÁªüÂèòÈáèÊòØÁ≥ªÁªüÂêØÂä®Êó∂Ëá™Âä®ÂàõÂª∫ÁöÑÂèòÈáèÔºåÂæÄÂæÄ‰∏∫Á≥ªÁªüËøêË°åÊèê‰æõÊîØÊåÅÔºõËÄåËá™ÂÆö‰πâÂèòÈáèÊòØÁî®Êà∑Ëá™Â∑±ÂÆö‰πâÁöÑ„ÄÇ‰∏ÄËà¨ËÄåË®ÄÔºåÁ≥ªÁªüÂèòÈáèÂÖ®‰∏∫Â§ßÂÜôÔºåËá™ÂÆö‰πâÂèòÈáèÂÖ®‰∏∫Â∞èÂÜô„ÄÇ ÂèòÈáèÁöÑÊòæÁ§∫‰∏éËÆæÁΩÆÔºöechoÔºåunset ÂèòÈáèÁöÑÊòæÁ§∫Ôºöecho ËØªÂèòÈáèÔºåÂè™ÈúÄË¶ÅÂú®ÂèòÈáèÂêçÁß∞ÂâçÈù¢Âä†‰∏ä$ÔºåÊàñËÄÖÊòØ‰ª•${ÂèòÈáè}ÁöÑÊñπÂºèÊù•ÊòæÁ§∫Â∞±ÂèØ‰ª•„ÄÇ ÂèòÈáèÁöÑ‰øÆÊîπÔºö‚Äú=‚Äù Âè™ÈúÄË¶ÅÁî®Á≠âÂè∑ËøûÊé•ÂèòÈáè‰∏éÂÆÉÁöÑÂÜÖÂÆπÂ∞±Â•Ω‰∫Ü„ÄÇÂÆÉÂÖ∑ÊúâÂ¶Ç‰∏ãËÆæÁΩÆËßÑÂàôÔºö Á≠âÂè∑‰∏§Ëæπ‰∏çËÉΩÁõ¥Êé•Êé•Á©∫Ê†ºÁ¨¶ ÂèòÈáèÂêçÁß∞Âè™ËÉΩÊòØËã±ÊñáÂ≠óÊØç‰∏éÊï∞Â≠óÔºå‰ΩÜÊòØÂºÄÂ§¥Â≠óÁ¨¶‰∏çËÉΩÊòØÊï∞Â≠ó ÂèòÈáèÂÜÖÂÆπËã•ÊúâÁ©∫Ê†ºÂèØ‰ΩøÁî®ÂèåÂºïÂè∑ÊàñÂçïÂºïÂè∑Â∞ÜÂèòÈáèÁöÑÂÜÖÂÆπÁªìÂêàËµ∑Êù• ÂèØ‰ª•Áî®ËΩ¨‰πâÂ≠óÁ¨¶‚Äù\‚ÄùÂ∞ÜÁâπÊÆäÁ¨¶Âè∑ÔºàÂ¶Çenter„ÄÅ$„ÄÅ\„ÄÅÁ©∫Ê†ºÁ¨¶„ÄÅÔºÅÁ≠âÔºâÂèòÊàê‰∏ÄËà¨Â≠óÁ¨¶„ÄÇ Âú®‰∏Ä‰∏≤ÂëΩ‰ª§‰∏≠ÔºåËøòÈúÄË¶ÅÂÖ∂‰ªñÁöÑÂëΩ‰ª§Êèê‰æõÁöÑ‰ø°ÊÅØÔºåÂèØ‰ª•‰ΩøÁî®ÂèçÂçïÂºïÂè∑‚Äú`ÂëΩ‰ª§`‚ÄùÊàñ‚Äú$(ÂëΩ‰ª§)‚Äù Ëã•ËØ•ÂèòÈáè‰∏∫‰∫ÜÂ¢ûÂä†ÂèòÈáèÂÜÖÂÆπÊó∂ÔºåÂàôÂèØÁî®‚Äú$ÂèòÈáèÂêçÁß∞‚ÄùÊàñ${ÂèòÈáè}Á¥ØÂä†ÂÜÖÂÆπÔºåÂêéÁî®ÂÜíÂè∑ËøûÊé•„ÄÇ Ëã•ËØ•ÂèòÈáèÈúÄË¶ÅÂú®ÂÖ∂‰ªñËá™ËøõÁ®ãÊâßË°åÔºåÂàôÈúÄË¶Å‰ª•exportÊù•‰ΩøÂèòÈáèÂèòÊàêÁéØÂ¢ÉÂèòÈáè„ÄÇ ÈÄöÂ∏∏Â§ßÂÜôÂ≠óÁ¨¶‰∏∫Á≥ªÁªüÈªòËÆ§ÂèòÈáèÔºåËá™Ë°åËÆæÁΩÆÂèòÈáèÂèØ‰ª•‰ΩøÁî®Â∞èÂÜôÂ≠óÁ¨¶ÔºåÊñπ‰æøÂà§Êñ≠„ÄÇ ÂèñÊ∂àÂèòÈáèÁöÑÊñπÊ≥ï‰∏∫‰ΩøÁî®‚Äúunset ÂèòÈáèÂêçÁß∞‚Äù ‰ªÄ‰πàÊòØÂ≠êËøõÁ®ãÔºö Âú®‰∏Ä‰∏™bash‰∏≠ÂºÄÂêØ‰∏Ä‰∏™Êñ∞ÁöÑbashÔºåÈÇ£‰πàÂéüÊú¨ÁöÑbashÁß∞‰∏∫Áà∂ËøõÁ®ãÔºåÊñ∞ÁöÑbashÁß∞‰∏∫Â≠êËøõÁ®ã„ÄÇ Â≠êËøõÁ®ã‰ºöÁªßÊâøÁà∂ËøõÁ®ãÁöÑÊâÄÊúâÁéØÂ¢ÉÂèòÈáèÔºåËÄåÁà∂ËøõÁ®ãÁöÑÂ±ÄÈÉ®ÂèòÈáèÂè™ËÉΩÂú®Áà∂ËøõÁ®ã‰∏≠‰ΩøÁî®„ÄÇ ÁéØÂ¢ÉÂèòÈáèÁöÑÂäüËÉΩÁéØÂ¢ÉÂèòÈáèÂèØ‰ª•Â∏ÆÊàë‰ª¨ËææÂà∞ÂæàÂ§öÂäüËÉΩÔºåÂåÖÊã¨‰∏ªÊñá‰ª∂Â§πÁöÑÂèòÊç¢„ÄÅÊèêÁ§∫Á¨¶ÁöÑÊòæÁ§∫„ÄÅÊâßË°åÊñá‰ª∂Êü•ÊâæÁöÑË∑ØÂæÑÁ≠â„ÄÇÂú®shellÁéØÂ¢É‰∏ãÔºåÂèØ‰ª•ÈÄöËøáenv‰∏éexportÊü•ÁúãÁéØÂ¢ÉÂèòÈáè„ÄÇ‰∏ãÈù¢‰∏ªË¶Å‰ªãÁªç‰∏Ä‰∏ã‰∏ªË¶ÅÁöÑÁéØÂ¢ÉÂèòÈáèÔºö HOMEÔºöÁî®Êà∑‰∏ªÁõÆÂΩïÔºåÂΩìÊàë‰ª¨‰ΩøÁî®cd Êàñcd ~Êó∂Â∞±‰ºöË∞ÉÁî®Ëøô‰∏™ÁéØÂ¢ÉÂèòÈáèÊâæÂà∞Áî®Êà∑‰∏ªÁõÆÂΩï SHELLÔºöÂΩìÂâç‰ΩøÁî®ÁöÑSHELLÔºåÈªòËÆ§‰ΩøÁî®/bin/bash HISTSIZEÔºöÂéÜÂè≤ÂëΩ‰ª§ÁöÑÊúÄÂ§ßÊù°Êï∞ PATHÔºöÂèØÊâßË°åÊñá‰ª∂ÁöÑÊü•ÊâæË∑ØÂæÑ„ÄÇËøôÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑÁéØÂ¢ÉÂèòÈáèÔºåÂΩìÊàë‰ª¨Áõ¥Êé•ÂÜô‰∏Ä‰∏™ÂëΩ‰ª§Êó∂ÔºåÁ≥ªÁªüÂ∞±‰ºöÂú®PATHË∑ØÂæÑ‰∏≠ÂØªÊâæËøô‰∏™ÂëΩ‰ª§ÔºåËøôÊ†∑Êàë‰ª¨Âú®ÊâßË°åÂëΩ‰ª§ÁöÑÊó∂ÂÄôÂ∞±‰∏çÁî®ËæìÂëΩ‰ª§ÂÆåÊï¥ÁöÑË∑ØÂæÑ‰∫Ü„ÄÇÂ§ö‰∏™Ë∑ØÂæÑ‰πãÈó¥Áî®:ÂàÜÈöî LANGÔºöÂΩìÂâçÁ≥ªÁªüÁöÑËØ≠Ë®Ä RANDOMÔºöÈöèÊú∫Êï∞ÁîüÊàêÂô®ÁöÑË∑ØÂæÑ„ÄÇËØ•Ë∑ØÂæÑÈªòËÆ§ÊåáÂêë/dev/randomËøô‰∏™Êñá‰ª∂ÔºåËøô‰∏™Êñá‰ª∂ÊòØ‰∏Ä‰∏™ÈöèÊú∫Êï∞ÁîüÊàêÂô®ÔºåÂΩìÊàë‰ª¨‰ΩøÁî®$RANDOMÊó∂Â∞±ËÉΩËé∑Âæó‰∏Ä‰∏™0-32767‰πãÈó¥ÁöÑÈöèÊú∫Êï¥Êï∞ ÂΩìÁÑ∂Êàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøásetÊù•Êü•ÁúãÊâÄÊúâÂèòÈáèÔºàÂê´ÁéØÂ¢ÉÂèòÈáèÂíåËá™ÂÆö‰πâÂèòÈáèÔºâÔºöËøôÈáå‰πüËß£ÈáäÂá†‰∏™ÊØîËæÉÈáçË¶ÅÁöÑÂèòÈáèÔºö PS1ÔºöÂëΩ‰ª§ÊèêÁ§∫Á¨¶ÔºåÂú®ÂëΩ‰ª§ËæìÂÖ•ÂÖâÊ†áÂâçÊúâ‰∏Ä‰∏≤Áî®‰∏≠Êã¨Âè∑Êã¨Ëµ∑Êù•ÁöÑ‰ø°ÊÅØÔºåËøôÂ∞±ÊòØÂëΩ‰ª§ÊèêÁ§∫Á¨¶„ÄÇÂëΩ‰ª§ÊèêÁ§∫Á¨¶Á©∂Á´üÈúÄË¶ÅÊòæÁ§∫Âì™‰∫õ‰ø°ÊÅØÔºåËøôÂ∞±ÊòØÁî±PS1Ëøô‰∏™Â±ÄÈÉ®ÂèòÈáèÂÜ≥ÂÆöÁöÑ„ÄÇÁî±‰∫éÂÆÉÊòØÂ±ÄÈÉ®ÂèòÈáèÔºåÂõ†Ê≠§Â≠êËøõÁ®ã‰∏≠Êó†Ê≥ïÁªßÊâøËøô‰∏™ÂèòÈáèÔºåÂ≠êËøõÁ®ãÊã•ÊúâËá™Â∑±ÁöÑPS1„ÄÇ $ÔºöÂΩìÂâçshellÁöÑPIDÔºåÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÂëΩ‰ª§Êü•ÁúãÂΩìÂâçshellÁöÑPIDÔºö echo $$ ?Ôºö‰∏ä‰∏™ÂëΩ‰ª§ÁöÑÊâßË°åÁªìÊûú,‰∏ä‰∏™ÂëΩ‰ª§Ëã•ÊâßË°åÊàêÂäüÔºåÂàôecho $?Â∞±‰ºöËøîÂõû0ÔºõËã•‰∏ä‰∏™ÂëΩ‰ª§ÊâßË°åÂ§±Ë¥•ÔºåÂàôËØ•ÂÄº‰∏∫‰∏Ä‰∏™Èùû0Êï¥Êï∞„ÄÇ ÂèòÈáèÂÜÖÂÆπÁöÑÂà†Èô§‰∏éÊõøÊç¢ Êìç‰ΩúÊñπÂºè ËØ¥Êòé ${ÂèòÈáèÂêç#ÂÖ≥ÈîÆËØç} ‰ªéÂèòÈáèÂÄºÁöÑÂ§¥ÈÉ®ÂºÄÂßãÔºå‰æùÊ¨°ÂêëÂêéÂà†Èô§Âà∞ÂÖ≥ÈîÆËØçÁ¨¨‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆ‰∏∫Ê≠¢ ${ÂèòÈáèÂêç##ÂÖ≥ÈîÆËØç} ‰ªéÂèòÈáèÂÄºÁöÑÂ§¥ÈÉ®ÂºÄÂßãÔºå‰æùÊ¨°ÂêëÂêéÂà†Èô§Âà∞ÂÖ≥ÈîÆËØçÊúÄÂêé‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆ‰∏∫Ê≠¢ ${ÂèòÈáèÂêç%ÂÖ≥ÈîÆËØç} ‰ªéÂèòÈáèÂÄºÁöÑÂ∞æÈÉ®ÂºÄÂßãÔºå‰æùÊ¨°ÂêëÂâçÂà†Èô§Âà∞ÂÖ≥ÈîÆËØçÁ¨¨‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆ‰∏∫Ê≠¢ ${ÂèòÈáèÂêç%%ÂÖ≥ÈîÆËØç} ‰ªéÂèòÈáèÂÄºÁöÑÂ∞æÈÉ®ÂºÄÂßãÔºå‰æùÊ¨°ÂêëÂâçÂà†Èô§Âà∞ÂÖ≥ÈîÆËØçÊúÄÂêé‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆ‰∏∫Ê≠¢ ${ÂèòÈáèÂêç/ÊóßÂ≠óÁ¨¶‰∏≤/Êñ∞Â≠óÁ¨¶‰∏≤} ‰ªéÂèòÈáèÂÄºÁöÑÂ§¥ÈÉ®ÂºÄÂßãÔºå‰æùÊ¨°ÂêëÂêéÊâæÂà∞Á¨¨‰∏Ä‰∏™ÊóßÂ≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜÂÖ∂ÊõøÊç¢ ${ÂèòÈáèÂêç//ÊóßÂ≠óÁ¨¶‰∏≤/Êñ∞Â≠óÁ¨¶‰∏≤} Â∞ÜÂèòÈáèÂÄº‰∏≠ÊâÄÊúâÁöÑÊóßÂ≠óÁ¨¶‰∏≤ÊõøÊç¢ÊàêÊñ∞Â≠óÁ¨¶‰∏≤ Bash ShellÁöÑÊìç‰ΩúÁéØÂ¢ÉË∑ØÂæÑ‰∏éÂëΩ‰ª§ÁöÑÊü•ÊâæÈ°∫Â∫èÂü∫Êú¨‰∏äÔºåÂëΩ‰ª§ËøêË°åÁöÑÈ°∫Â∫èÂèØ‰ª•ËøôÊ†∑ÁúãÔºö ‰ª•Áõ∏ÂØπ/ÁªùÂØπË∑ØÂæÑÊâßË°åÂëΩ‰ª§Ôºå‰æãÂ¶ÇÔºö‚Äú/bin/ls‚ÄùÊàñ‚Äú./ls‚Äù Áî±aliasÊâæÂà∞ËØ•ÂëΩ‰ª§Êù•ÊâßË°å ÊúâbashÂÜÖÁΩÆÁöÑ(builtin)ÂëΩ‰ª§Êù•ÊâßË°å ÈÄöËøá$PATHËøô‰∏™ÂèòÈáèÁöÑÈ°∫Â∫èÊâæÂà∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂëΩ‰ª§Êù•ÊâßË°å bashÁöÑÁôªÂΩï‰∏éÊ¨¢ËøéÁéØÂ¢ÉÔºö/etc/issue,/etc/motd /etc/issueÔºöÊîæÁΩÆÁªàÁ´ØÊú∫Êé•Âè£ÁôªÂΩïÊàêÂäüÁöÑÁïåÈù¢ÊèêÁ§∫ÁöÑÂ≠óÁ¨¶„ÄÇ /etc/issue.netÔºöÊîæÁΩÆtelnetËøúÁ®ãÁôªÂΩïÊàêÂäüÁöÑÁïåÈù¢ÊèêÁ§∫ÁöÑÂ≠óÁ¨¶„ÄÇ /etc/motdÔºöÂ¶ÇÊûú‰Ω†ÊÉ≥ËÆ©Áî®Êà∑ÁôªÂΩïÂêéÂèñÂæó‰∏Ä‰∫õ‰ø°ÊÅØÔºåÂèØ‰ª•Â∞Ü‰ø°ÊÅØÂä†ÂÖ•ÂÖ∂‰∏≠„ÄÇÊØîÂ¶ÇÂëäÁü•ÁôªÂΩïËÄÖÁ≥ªÁªüÂ∞ÜÂú®‰ªÄ‰πàÊó∂ÂÄôÁª¥Êä§„ÄÇ bashÁöÑÁéØÂ¢ÉÈÖçÁΩÆÊñá‰ª∂Áî±‰∫éÁ≥ªÁªüÊúâ‰∏Ä‰∫õÁéØÂ¢ÉÈÖçÁΩÆÊñá‰ª∂ÁöÑÂ≠òÂú®ÔºåËÆ©bashÂú®ÂêØÂä®Êó∂Áõ¥Êé•ËØªÂèñËøô‰∫õÈÖçÁΩÆÊñá‰ª∂ÔºåÊâÄÊúâÂ∑≤ËøõÂÖ•bashÂ∞±ËÉΩÂ§üÂèñÂæó‰∏ÄÂ†ÜÊúâÁî®ÁöÑÂèòÈáè„ÄÇËÄåËøô‰∫õÈÖçÁΩÆÊñá‰ª∂ÂèàÂèØ‰ª•ÂàÜ‰∏∫ÂÖ®‰ΩìÁ≥ªÁªüÁöÑÈÖçÁΩÆÊñá‰ª∂‰ª•ÂèäÁî®Êà∑‰∏™‰∫∫ÂÅèÂ•ΩÈÖçÁΩÆÊñá‰ª∂„ÄÇË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºå‰πãÂâçÊàë‰ª¨ËØ¥ÁöÑÂëΩ‰ª§Âà´Âêç„ÄÅËá™ÂÆö‰πâÁöÑÂèòÈáèÂú®‰Ω†Ê≥®ÈîÄbashÂêéÂ∞±‰ºöÂ§±Êïà„ÄÇÊâÄ‰ª•‰Ω†ÊÉ≥Ë¶Å‰øùÁïô‰Ω†ÁöÑËÆæÁΩÆÔºåÂ∞±ÂæóË¶ÅËÆ≤Ëøô‰∫õËÆæÁΩÆÂÜôÂÖ•ÈÖçÁΩÆÊñá‰ª∂ÊâçË°å„ÄÇÔºå‰∏ãÈù¢Â∞±ÁúãÁúãËøô‰∫õ‰∏úË•øÔºö login shell‰∏énon-login shell login shellÂíånon-login shellÊòØ‰∏§ÁßçshellÁôªÂΩïÁöÑÊñπÂºèÔºåÂÆÉ‰ª¨ÁôªÂΩïÂêéÂä†ËΩΩÁöÑÁéØÂ¢ÉÈÖçÁΩÆÊñá‰ª∂ÊúâÊâÄ‰∏çÂêå„ÄÇ login shellÂú®Ëé∑ÂèñbashÂâçÈúÄË¶ÅËøõË°å‰∏ÄÂ•óÂÆåÊï¥ÁöÑÁôªÂΩïËøáÁ®ãÔºåËøô‰∏™ÁôªÂΩïËøáÁ®ãÂ∞±Áß∞‰∏∫login shell„ÄÇÊâÄË∞ì‚ÄúÂÆåÊï¥ÁöÑÁôªÂΩïËøáÁ®ã‚ÄùÊåáÈúÄË¶ÅËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇlogin shellÂÖ∂ÂÆûÂè™‰ºöËØªÂèñËøô‰∏§‰∏™ÈÖçÁΩÆÊñá‰ª∂Ôºö/etc/profileÂíå(~/.bash_profileÊàñ ~/.bash\_loginÊàñ~/.profile) non-login shellËé∑Âèñbash‰∏çÈúÄË¶ÅËæìÂÖ•ÂØÜÁ†ÅÁöÑÁôªÂΩïËøáÁ®ãÁß∞‰∏∫non-login shell„ÄÇÂ¶ÇÂú®bash‰∏≠Áõ¥Êé•ËæìÂÖ•bashÔºå‰ªéËÄåÊâìÂºÄ‰∏Ä‰∏™Â≠êbashÔºåËøô‰∏™ËøáÁ®ã‰∏çÈúÄË¶ÅËæìÂÖ•ÂØÜÁ†ÅÔºåÂõ†Ê≠§Áß∞‰∏∫non-login shell„ÄÇÊØîÂ¶ÇÂú®ÂõæÂΩ¢ÁïåÈù¢‰∏≠„ÄÇ /etc/profileÔºöÁ≥ªÁªüÁ∫ßÁöÑÁéØÂ¢ÉÂèòÈáè(login shellÊâç‰ºöËØª) „ÄÇËØ•Êñá‰ª∂Â≠òÊîæÁ≥ªÁªüÁ∫ßÁéØÂ¢ÉÂèòÈáèÔºåÊâÄÊúâÁöÑÁî®Êà∑ÈÉΩ‰ºöÊã•ÊúâÔºå‰∏ÄËà¨‰∏çÂª∫ËÆÆ‰øÆÊîπËøô‰∏™Êñá‰ª∂„ÄÇ ~/.bash_profileÔºöÁî®Êà∑‰∏™‰∫∫ÁöÑÁéØÂ¢ÉÂèòÈáè(login shellÊâç‰ºöËØª)ÂΩì/etc/profile‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáèÂä†ËΩΩÂÆåÊØïÂêéÂ∞±‰ºöÂä†ËΩΩÊú¨Êñá‰ª∂ÔºåÊú¨Êñá‰ª∂‰∏≠ÂÆö‰πâ‰∫ÜÂΩìÂâçÁî®Êà∑ÁöÑÁéØÂ¢ÉÂèòÈáè„ÄÇ ~/.bashrcÔºönon-login shell‰ºöËØªÂèñÁöÑÁéØÂ¢ÉÈÖçÁΩÆÊñá‰ª∂ÂΩìÁî®Êà∑‰ª•non-loginÊñπÂºèÁôªÂΩïÂêéÔºåÂè™‰ºöÂä†ËΩΩËøô‰∏™Êñá‰ª∂ÔºåËØ•Êñá‰ª∂‰ºöÂØπ‰∏Ä‰∫õÊìç‰ΩúÂä†‰∏äÂÆâÂÖ®ËØ¢ÈóÆ„ÄÇËøô‰∏™Êñá‰ª∂‰∏çÁÆ°Âì™ÁßçÁôªÂΩïÊñπÂºèÈÉΩ‰ºöË¢´Âä†ËΩΩÔºåÂõ†Ê≠§ËøôÈáåÂèØ‰ª•Â≠òÊîæÂà´Âêç„ÄÇ /etc/man.confÔºöËÆæÁΩÆmanÁöÑÂ≠òÊîæË∑ØÂæÑÂ¶ÇÊûú‰ΩøÁî®Ê∫êÁ†ÅÂÆâË£ÖËΩØ‰ª∂ÁöÑËØù(Èùûrpm„ÄÅyum)Ôºå‰∏ÄËà¨ËΩØ‰ª∂‰ºöÂÆâË£ÖÂú®Ëá™ÂÆö‰πâÁöÑÁõÆÂΩï‰∏≠(‰∏ÄËà¨‰∏∫/usr/local/ËΩØ‰ª∂Âêç)„ÄÇÈÇ£‰πàËΩØ‰ª∂‰∏≠ÁöÑmanÊñá‰ª∂Â∞±Êó†Ê≥ïË¢´Á≥ªÁªüÊâæÂà∞Ôºå‰ªéËÄåÊó†Ê≥ïÈÄöËøá‚Äúman+ÂëΩ‰ª§‚ÄùÊâæÂà∞Ëøô‰∏™ËΩØ‰ª∂ÁöÑÂëΩ‰ª§Â∏ÆÂä©ÊñáÊ°£„ÄÇÊàë‰ª¨ÈúÄË¶ÅÊâãÂä®Â∞ÜËØ•ËΩØ‰ª∂ÁöÑmanÁõÆÂΩïÊ∑ªÂä†Âà∞/etc/man.conf‰∏≠ÂéªÔºå‰ªéËÄåÊâßË°å‚Äúman+ÂëΩ‰ª§‚ÄùÂ∞±ËÉΩÊâæÂà∞Ëøô‰∏™ÁõÆÂΩïÁöÑÂ∏ÆÂä©ÊñáÊ°£„ÄÇ ~/.bash_historyÔºöÂ≠òÂÇ®Áî®Êà∑ÂéÜÂè≤ÂëΩ‰ª§ ~/.bash_logoutÔºöËÆ∞ÂΩïÊ≥®ÈîÄÂêéÁ≥ªÁªüÊâßË°åÁöÑÊìç‰Ωú ÈÄöÈÖçÁ¨¶ÂíåÁâπÊÆäÂ≠óÁ¨¶ÈÄöÈÖçÁ¨¶Âú®bashÁöÑÊìç‰ΩúÁéØÂ¢É‰∏≠ËøòÊúâ‰∏Ä‰∏™ÈùûÂ∏∏ÊúâÁî®ÁöÑÂäüËÉΩÔºåÈÇ£Â∞±ÊòØÈÄöÈÖçÁ¨¶„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÈÄöÈÖçÁ¨¶Ôºö Á¨¶Âè∑ ÊÑè‰πâ * ‰ª£Ë°®‰ªªÊÑèÂ§ö‰∏™Â≠óÁ¨¶ ? ‰ª£Ë°®‰∏Ä‰∏™Â≠óÁ¨¶ [] [abcd]Ôºö‰ª£Ë°®ËØ•ËåÉÂõ¥ÂÜÖÁöÑ‰∏Ä‰∏™Â≠óÁ¨¶ [-] [a-z]Ôºö‰ª£Ë°®a-z‰πãÈó¥ÁöÑ‰∏Ä‰∏™Â≠óÁ¨¶ [^] [^a-z]Ôºö‰ª£Ë°®Èô§‰∫Üa-z‰ª•Â§ñÁöÑÊâÄÊúâÂ≠óÁ¨¶ ÁâπÊÆäÂ≠óÁ¨¶‰∏ãÈù¢ÊòØbashÁéØÂ¢É‰∏≠ÁöÑÁâπÊÆäÁ¨¶Âè∑Ôºö Á¨¶Âè∑ ÂÜÖÂÆπ # Ê≥®Èáä \ ËΩ¨ÁßªÂ≠óÁ¨¶ÔºåÂ∞ÜÁâπÊÆäÂ≠óÁ¨¶ËΩ¨‰∏∫ÊôÆÈÄöÂ≠óÁ¨¶ ; ÂàÜÈöîÂ§ö‰∏™ÁõÆÂΩïÔºå‰ΩøÂæó‰æùÊ¨°ÊâßË°å ~ Áî®Êà∑‰∏ªÁõÆÂΩï $ ÂèòÈáèÁöÑËµ∑ÂßãÁ¨¶ &amp; Â∞ÜÁõÆÂΩïÁΩÆ‰∫éÂêéÂè∞ÊâßË°å ! Èùû / ÁõÆÂΩïÂàÜÈöîÁ¨¶ &gt;,&gt;&gt; Êï∞ÊçÆÊµÅÈáçÂÆöÂêëÔºåËæìÂá∫ÂØºÂêë &lt;,&lt;&lt; Êï∞ÊçÆÊµÅÈáçÂÆöÂêëÔºåËæìÂÖ•ÂØºÂêë ‚Äò‚Äô ‰∏çÂê´ÂèòÈáèÁΩÆÊç¢ÂäüËÉΩ ‚Äú‚Äù Âê´ÊúâÂèòÈáèÁΩÆÊç¢ÂäüËÉΩ `` ‰∏≠Èó¥‰∏∫ÂæÖÊâßË°åÁöÑÂëΩ‰ª§ÔºåÂíå$()‰∏ÄËá¥ () ‰∏≠Èó¥‰∏∫Â≠êshellÁöÑËµ∑ÂßãÂíåÁªìÊùü {} ‰∏≠Èó¥‰∏∫ÂëΩ‰ª§Âùó ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_Â≠¶‰ºö‰ΩøÁî®vimÁ®ãÂ∫èÁºñËæëÂô®]]></title>
    <url>%2F2018%2F03%2F26%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_%E5%AD%A6%E4%BC%9A%E4%BD%BF%E7%94%A8vim%E7%A8%8B%E5%BA%8F%E7%BC%96%E8%BE%91%E5%99%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁ≥ªÁªüÁÆ°ÁêÜÂëòÁöÑÈáçË¶ÅÂ∑•‰ΩúÂ∞±ÊòØ‰øÆÊîπ‰∏éËÆæÁΩÆÊüê‰∫õÈáçË¶ÅËΩØ‰ª∂ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÂõ†Ê≠§Ëá≥Â∞ëÂæóÂà∞Â≠¶‰ºö‰∏ÄÁßç‰ª•‰∏äÁöÑÂëΩ‰ª§Ë°åÁïåÈù¢ÁöÑÊñáÊú¨ÁºñËæëÂô®„ÄÇÂú®ÊâÄÊúâÁöÑLinuxÂèëË°åÁâà‰∏≠ÈÉΩÂÖ∑ÊúâviËøôÊ¨æÁºñËæëÂô®ÔºåÊàë‰ª¨ËøôÊ¨°Â≠¶ÁöÑÂÆÉÁöÑÈ´òÁ∫ßÁâàvim„ÄÇ vi‰∏évimËôΩÁÑ∂Âú®LinuxÂú®ÂëΩ‰ª§Ë°åÁïåÈù¢‰∏ãÁöÑÊñáÊú¨ÁºñËæëÂô®ÊúâÂæàÂ§öÔºåÊØîÂ¶ÇEmacsÔºåpicoÔºånanoÔºåjoe‰∏évimÁ≠â„ÄÇ‰ΩÜÊòØÊàë‰ª¨Âç¥‰∏ÄÂÆöË¶ÅÂ≠¶‰ºöviÊàñËÄÖËØ¥vimÔºåvimÁõ∏ÂΩì‰∫éviÁöÑÈ´òÁ∫ßÁâà„ÄÇ ‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶vim ÊâÄÊúâÁöÑUNIX LikeÁ≥ªÁªüÈÉΩ‰ºöÂÜÖÁΩÆviÊñáÊú¨ÁºñËæëÂô®ÔºåÂÖ∂‰ªñÊñáÊú¨ÁºñËæëÂô®‰∏ç‰∏ÄÂÆöÂ≠òÂú®„ÄÇ ÊâÄÊúâËΩØ‰ª∂ÁöÑÁºñËæëÁªìÊûÑÈÉΩ‰ºö‰∏ªÂä®Ë∞ÉÁî®viÔºà‰æãÂ¶ÇcrontabÔºåvisudo,edquotaÁ≠âÔºâÂæàÈáçË¶Å vimÂÖ∑ÊúâÁ®ãÂ∫èÁºñËæëËÉΩÂäõÔºåÂèØ‰ª•‰∏ªÂä®‰ª•Â≠ó‰ΩìÈ¢úËâ≤Ëæ®Âà´ËØ≠Ê≥ïÁöÑÊ≠£Á°ÆÊÄßÔºåÊñπ‰æøÁ®ãÂ∫èËÆæËÆ°„ÄÇ Á®ãÂ∫èÁÆÄÂçïÔºåÁºñËæëÈÄüÂ∫¶Áõ∏ÂΩìÂø´ÈÄü„ÄÇ viÁöÑ‰ΩøÁî®viÂàÜ‰∏∫3ÁßçÊ®°ÂºèÔºåÂàÜÂà´ÊòØ‰∏ÄËà¨Ê®°Âºè„ÄÅÁºñËæëÊ®°Âºè‰∏éÂëΩ‰ª§Ë°åÊ®°Âºè„ÄÇÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö ‰∏ÄËà¨Ê®°ÂºèÔºö‰ª•viÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Â∞±Áõ¥Êé•ËøõÂÖ•‰∏ÄËà¨Ê®°Âºè‰∫Ü„ÄÇÂú®Ëøô‰∏™Ê®°Âºè‰∏≠Ôºå‰Ω†ÂèØ‰ª•‰ΩøÁî®Â∑¶Âè≥ÊåâÈîÆÊù•ÁßªÂä®ÂÖâÊ†áÔºå‰Ω†ÂèØ‰ª•Âà†Èô§Â≠óÁ¨¶ÊàñÂà†Èô§Êï¥Ë°åÔºå‰πüÂèØ‰ª•Â§çÂà∂ÔºåÁ≤òË¥¥‰Ω†ÁöÑÊñá‰ª∂Êï∞ÊçÆ„ÄÇ ÁºñËæëÊ®°ÂºèÔºöÂú®‰∏ÄËà¨Ê®°Âºè‰∏≠ÊòØÊó†Ê≥ïÁºñËæëÊñá‰ª∂ÂÜÖÂÆπÁöÑ„ÄÇË¶ÅÁ≠âÂà∞‰Ω†Êåâ‰∏ã‚Äúi,l,o,O,a,A,r,R‚ÄùÁ≠â‰ªª‰Ωï‰∏Ä‰∏™Â≠óÊØç‰πãÂêéÊâç‰ºöËøõÂÖ•ÁºñËæëÊ®°Âºè„ÄÇÈÄöÂ∏∏Âú®Linux‰∏≠ÔºåÊåâ‰∏ãËøô‰∫õÊåâÈîÆÊó∂ÔºåÂú®ÁïåÈù¢ÁöÑÂ∑¶‰∏ãÊñπ‰ºöÂá∫Áé∞INSERTÊàñREPLACEÁöÑÂ≠óÊ†∑ÔºåÊ≠§Êó∂ÊâçÂèØ‰ª•ÁºñËæëÔºåÂ¶ÇÊûúË¶ÅÂõûÂà∞‰∏ÄËà¨Ê®°ÂºèÔºåÂøÖÈ°ªË¶ÅÊåâ‰∏ãESCÊâçÂèØ‰ª•ÈÄÄÂá∫ÁºñËæëÊ®°Âºè„ÄÇ ÂëΩ‰ª§Ë°åÊ®°ÂºèÔºöÂú®‰∏ÄËà¨Ê®°Âºè‰∏≠ÔºåËæìÂÖ•‚Äú:„ÄÅ/„ÄÅ?‚Äù3‰∏™‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÊåâÈíÆÔºåÂ∞±ÂèØ‰ª•Â∞ÜÂÖâÊ†áÁßªÂä®Âà∞ÊúÄ‰∏ãÈù¢ÁöÑÈÇ£‰∏ÄË°å„ÄÇÂú®Ëøô‰∏™Ê®°ÂºèÂΩì‰∏≠ÔºåÂèØ‰ª•Êèê‰æõ‰Ω†Êü•ÊâæÊï∞ÊçÆÁöÑÊìç‰ΩúÔºåËÄåËØªÂèñ„ÄÅ‰øùÂ≠ò„ÄÅÂ§ßÈáèÊõøÊç¢Â≠óÁ¨¶„ÄÅÁ¶ªÂºÄvi„ÄÅÊòæÁ§∫Ë°åÂè∑Á≠âÊìç‰ΩúÂ∞±ÊòØÂú®Ê≠§Ê®°Âºè‰∏≠ÂÆåÊàêÁöÑ„ÄÇ viÊåâÈîÆËØ¥ÊòéËøô‰∏™ÊåâÈîÆËØ¥ÊòéÂ§ßÈÉ®ÂàÜ‰∫∫ÈÉΩ‰ºöÊúâÊÄªÁªìÔºåÊâÄ‰ª•ËøôÈáå‰πüÂ∞±‰∏çÂÜçÂÅöÊó†Áî®Âäü‰∫ÜÔºåÊâÄ‰ª•Ë¥¥Âá∫‰∏ãÈù¢ÁöÑÈìæÊé•ÔºåÈÅáÂà∞ÈóÆÈ¢òÂéªÊü•Â∞±Â•Ω‰∫ÜÔºå‰ΩÜÊòØÈúÄË¶Å‰øùËØÅÊâÄÊúâÊåâÈîÆÈÉΩ‰∫≤Ëá™ÂéªËØï‰∏ÄÈÅçÔºÅ Linux - vimÊåâÈîÆËØ¥Êòé ‰ΩÜÊòØËøôÈáåÊàëËøòÊòØÊÉ≥ÊääÂ∏∏Áî®ÁöÑÂëΩ‰ª§Âú®ËøôÈáåÂÜçË¥¥Âá∫Êù•ÔºåÂ∏åÊúõËÉΩÂ§üËÆ∞‰ΩèÔºö ‰∏ÄËà¨Ê®°ÂºèÂèØÁî®ÁöÑÊåâÈíÆËØ¥ÊòéÔºåÂÖâÊ†áÁßªÂä®„ÄÅÂ§çÂà∂Á≤òË¥¥„ÄÅÊü•ÊâæÊõøÊç¢Á≠â ÊåâÈîÆ ÊåâÈîÆËØ¥Êòé Ctrl + f Â±èÂπï„ÄéÂêë‰∏ã„ÄèÁßªÂä®‰∏ÄÈ°µÔºåÁõ∏ÂΩì‰∫é [Page Down]ÊåâÈîÆ Ctrl + b Â±èÂπï„ÄéÂêë‰∏ä„ÄèÁßªÂä®‰∏ÄÈ°µÔºåÁõ∏ÂΩì‰∫é [Page Up] ÊåâÈîÆ 0 ÊàñÂäüËÉΩÈîÆHome ËøôÊòØÊï∞Â≠ó„Äé 0 „ÄèÔºöÁßªÂä®Âà∞Ëøô‰∏ÄË°åÁöÑÊúÄÂâçÈù¢Â≠óÁ¨¶Â§Ñ (Â∏∏Áî®) $ ÊàñÂäüËÉΩÈîÆEnd ÁßªÂä®Âà∞Ëøô‰∏ÄË°åÁöÑÊúÄÂêéÈù¢Â≠óÁ¨¶Â§Ñ(Â∏∏Áî®) G ÁßªÂä®Âà∞Ëøô‰∏™Ê°£Ê°àÁöÑÊúÄÂêé‰∏ÄË°å(Â∏∏Áî®) gg ÁßªÂä®Âà∞Ëøô‰∏™Ê°£Ê°àÁöÑÁ¨¨‰∏ÄË°åÔºåÁõ∏ÂΩì‰∫é 1G ÂïäÔºÅ (Â∏∏Áî®) nEnter n‰∏∫Êï∞Â≠ó„ÄÇÂÖâÊ†áÂêë‰∏ãÁßªÂä® n Ë°å(Â∏∏Áî®) /word ÂêëÂÖâÊ†á‰πã‰∏ãÂØªÊâæ‰∏Ä‰∏™ÂêçÁß∞‰∏∫ word ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ‰æãÂ¶ÇË¶ÅÂú®Ê°£Ê°àÂÜÖÊêúÂØª serverËøô‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂ∞±ËæìÂÖ• /vbird Âç≥ÂèØÔºÅ (Â∏∏Áî®) :n1,n2s/word1/word2/g n1 ‰∏é n2 ‰∏∫Êï∞Â≠ó„ÄÇÂú®Á¨¨ n1 ‰∏é n2 Ë°å‰πãÈó¥ÂØªÊâæ word1 Ëøô‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜËØ•Â≠óÁ¨¶‰∏≤Âèñ‰ª£‰∏∫ word2 :1,$s/word1/word2/g ‰ªéÁ¨¨‰∏ÄË°åÂà∞ÊúÄÂêé‰∏ÄË°åÂØªÊâæ word1 Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜËØ•Â≠óÁ¨¶‰∏≤Âèñ‰ª£‰∏∫ word2 :1,$s/word1/word2/gc ‰ªéÁ¨¨‰∏ÄË°åÂà∞ÊúÄÂêé‰∏ÄË°åÂØªÊâæ word1 Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜËØ•Â≠óÁ¨¶‰∏≤Âèñ‰ª£‰∏∫ word2 ÔºÅ‰∏îÂú®Âèñ‰ª£ÂâçÊòæÁ§∫ÊèêÁ§∫Â≠óÁ¨¶ÁªôÁî®Êà∑Á°ÆËÆ§ (confirm) ÊòØÂê¶ÈúÄË¶ÅÂèñ‰ª£ x, X Âú®‰∏ÄË°åÂ≠óÂΩì‰∏≠Ôºåx ‰∏∫ÂêëÂêéÂà†Èô§‰∏Ä‰∏™Â≠óÁ¨¶ (Áõ∏ÂΩì‰∫é [del] ÊåâÈîÆ)Ôºå X ‰∏∫ÂêëÂâçÂà†Èô§‰∏Ä‰∏™Â≠óÁ¨¶(Áõ∏ÂΩì‰∫é [backspace] ‰∫¶Âç≥ÊòØÈÄÄÊ†ºÈîÆ) dd Âà†Èô§Ê∏∏Ê†áÊâÄÂú®ÁöÑÈÇ£‰∏ÄÊï¥Âàó ndd n ‰∏∫Êï∞Â≠ó„ÄÇÂà†Èô§ÂÖâÊ†áÊâÄÂú®ÁöÑÂêë‰∏ã n ÂàóÔºå‰æãÂ¶Ç 20dd ÂàôÊòØÂà†Èô§ 20 Âàó yy Â§çÂà∂Ê∏∏Ê†áÊâÄÂú®ÁöÑÈÇ£‰∏ÄË°å nyy n ‰∏∫Êï∞Â≠ó„ÄÇÂ§çÂà∂ÂÖâÊ†áÊâÄÂú®ÁöÑÂêë‰∏ã n ÂàóÔºå‰æãÂ¶Ç 20yy ÂàôÊòØÂ§çÂà∂ 20 Âàó p, P p ‰∏∫Â∞ÜÂ∑≤Â§çÂà∂ÁöÑÊï∞ÊçÆÂú®ÂÖâÊ†á‰∏ã‰∏ÄË°åË¥¥‰∏äÔºåP Âàô‰∏∫Ë¥¥Âú®Ê∏∏Ê†á‰∏ä‰∏ÄË°åÔºÅ ‰∏æ‰æãÊù•ËØ¥ÔºåÊàëÁõÆÂâçÂÖâÊ†áÂú®Á¨¨ 20 Ë°åÔºå‰∏îÂ∑≤ÁªèÂ§çÂà∂‰∫Ü 10 Ë°åÊï∞ÊçÆ„ÄÇÂàôÊåâ‰∏ã p ÂêéÔºå ÈÇ£ 10 Ë°åÊï∞ÊçÆ‰ºöË¥¥Âú®ÂéüÊú¨ÁöÑ 20 Ë°å‰πãÂêéÔºå‰∫¶Âç≥Áî± 21 Ë°åÂºÄÂßãË¥¥„ÄÇ‰ΩÜÂ¶ÇÊûúÊòØÊåâ‰∏ã P Âë¢Ôºü ÈÇ£‰πàÂéüÊú¨ÁöÑÁ¨¨ 20 Ë°å‰ºöË¢´Êé®Âà∞ÂèòÊàê 30 Ë°å„ÄÇ u Â§çÂéüÂâç‰∏Ä‰∏™Âä®‰Ωú Ctrl+r ÈáçÂÅö‰∏ä‰∏Ä‰∏™Âä®‰Ωú . ‰∏çË¶ÅÊÄÄÁñëÔºÅËøôÂ∞±ÊòØÂ∞èÊï∞ÁÇπÔºÅÊÑèÊÄùÊòØÈáçÂ§çÂâç‰∏Ä‰∏™Âä®‰ΩúÁöÑÊÑèÊÄù„ÄÇ Â¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅÈáçÂ§çÂà†Èô§„ÄÅÈáçÂ§çË¥¥‰∏äÁ≠âÁ≠âÂä®‰ΩúÔºåÊåâ‰∏ãÂ∞èÊï∞ÁÇπ‚Äú.‚ÄùÂ∞±Â•Ω‰∫ÜÔºÅ ‰∏ÄËà¨Ê®°ÂºèÂàáÊç¢Âà∞ÁºñËæëÊ®°ÂºèÁöÑÂèØÁî®ÁöÑÊåâÈíÆËØ¥Êòé ÊåâÈîÆ ÊåâÈîÆËØ¥Êòé i, I ËøõÂÖ•ÊèíÂÖ•Ê®°Âºè(Insert mode)Ôºöi ‰∏∫‰ªéÁõÆÂâçÂÖâÊ†áÊâÄÂú®Â§ÑÊèíÂÖ•Ôºå I ‰∏∫Âú®ÁõÆÂâçÊâÄÂú®Ë°åÁöÑÁ¨¨‰∏Ä‰∏™ÈùûÁ©∫Ê†ºÁ¨¶Â§ÑÂºÄÂßãÊèíÂÖ•„ÄÇ a, A ËøõÂÖ•ÊèíÂÖ•Ê®°Âºè(Insert mode)Ôºöa‰∏∫‰ªéÁõÆÂâçÂÖâÊ†áÊâÄÂú®ÁöÑ‰∏ã‰∏Ä‰∏™Â≠óÁ¨¶Â§ÑÂºÄÂßãÊèíÂÖ•Ôºå A ‰∏∫‰ªéÂÖâÊ†áÊâÄÂú®Ë°åÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠óÁ¨¶Â§ÑÂºÄÂßãÊèíÂÖ•„ÄÇ o, O ËøõÂÖ•ÊèíÂÖ•Ê®°Âºè(Insert mode)ÔºöËøôÊòØËã±ÊñáÂ≠óÊØç o ÁöÑÂ§ßÂ∞èÂÜô„ÄÇo ‰∏∫Âú®ÁõÆÂâçÂÖâÊ†áÊâÄÂú®ÁöÑ‰∏ã‰∏ÄË°åÂ§ÑÊèíÂÖ•Êñ∞ÁöÑ‰∏Ä„ÄèÔºõ O ‰∏∫Âú®ÁõÆÂâçÂÖâÊ†áÊâÄÂú®Â§ÑÁöÑ‰∏ä‰∏ÄË°åÊèíÂÖ•Êñ∞ÁöÑ‰∏ÄË°åÔºÅ r, R ËøõÂÖ•Âèñ‰ª£Ê®°Âºè(Replace mode)Ôºör Âè™‰ºöÂèñ‰ª£ÂÖâÊ†áÊâÄÂú®ÁöÑÈÇ£‰∏Ä‰∏™Â≠óÁ¨¶‰∏ÄÊ¨°ÔºõR‰ºö‰∏ÄÁõ¥Âèñ‰ª£ÂÖâÊ†áÊâÄÂú®ÁöÑÊñáÂ≠óÔºåÁõ¥Âà∞Êåâ‰∏ã ESC ‰∏∫Ê≠¢„ÄÇ Esc ÈÄÄÂá∫ÁºñËæëÊ®°ÂºèÔºåÂõûÂà∞‰∏ÄËà¨Ê®°Âºè‰∏≠ ‰∏ÄËà¨Ê®°ÂºèÂàáÊç¢Âà∞Êåá‰ª§ÂàóÊ®°ÂºèÁöÑÂèØÁî®ÁöÑÊåâÈíÆËØ¥Êòé ÊåâÈîÆ ÊåâÈîÆËØ¥Êòé :w Â∞ÜÁºñËæëÁöÑÊï∞ÊçÆÂÜôÂÖ•Á°¨ÁõòÊ°£Ê°à‰∏≠ :q Á¶ªÂºÄ vi :wq ÂÇ®Â≠òÂêéÁ¶ªÂºÄÔºåËã•‰∏∫ :wq! Âàô‰∏∫Âº∫Âà∂ÂÇ®Â≠òÂêéÁ¶ªÂºÄ vimÁöÑÂäüËÉΩÁõÆÂâçÂ§ßÈÉ®ÂàÜÁöÑÂèëË°åÁâàÈÉΩ‰ª•vimÊõø‰ª£viÁöÑÂäüËÉΩ‰∫ÜÔºåÂ¶ÇÊûú‰Ω†‰ΩøÁî®viÂêéÔºåÂç¥ÁúãÂà∞ÁïåÈù¢ÁöÑÂè≥‰∏ãËßíÊúâÊòæÁ§∫ÁõÆÂâçÂÖâÊ†áÁöÑË°åÂàóÂè∑Á†ÅÔºåÈÇ£‰πà‰Ω†ÁöÑviÂ∑≤ÁªèË¢´vimÊõø‰ª£‰∫ÜÔºåvimÁõ∏ÊØî‰∫éviÊúâËÆ∏Â§öÊñ∞ÁöÑÂäüËÉΩ„ÄÇ ÂùóÊìç‰ΩúviÁöÑÊìç‰ΩúÂü∫Êú¨‰∏äÈÉΩÊòØ‰ª•Ë°å‰∏∫Âçï‰ΩçÁöÑÊìç‰ΩúÔºå‰ΩÜÊòØvimÂÖ∑ÊúâÂùóÊìç‰ΩúÁöÑÂäüËÉΩÔºåÂÖ∑‰ΩìÁöÑÊåâÈîÆËØ¥ÊòéÂ¶Ç‰∏ãÔºö ÊåâÈîÆ ÊåâÈîÆËØ¥Êòé v Â≠óÁ¨¶ÈÄâÊã©ÔºåÂ∞ÜÂÖâÊ†áÁªèËøáÁöÑÂú∞ÊñπÂèçÁôΩÈÄâÊã© V Ë°åÈÄâÊã©ÔºåÂ∞ÜÂÖâÊ†áÁªèËøáÁöÑË°åÂèçÁôΩÈÄâÊã© Ctrl + v ÂùóÈÄâÊã©ÔºåÂèØ‰ª•Áî®ÈïøÊñπÂΩ¢ÈÄâÊã©Êï∞ÊçÆ y Â∞ÜÂèçÁôΩÁöÑÂú∞ÊñπÂ§çÂà∂ d Âà†Èô§ÂèçÁôΩÁöÑÂú∞Êñπ Â§öÊñá‰ª∂ÁºñËæëÊúâ‰∫ãÊàë‰ª¨ÈúÄË¶ÅÂú®‰∏Ä‰∏™vimÂÜÖÁºñËæëÂ§ö‰∏™Êñá‰ª∂ÔºåËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Â∞±ÈúÄË¶ÅÂ§öÊñá‰ª∂ÁºñËæëÂäüËÉΩÔºåÂÖ∑‰ΩìÊåâÈîÆÂ¶Ç‰∏ãÔºö ÊåâÈîÆ ÊåâÈîÆËØ¥Êòé :n ÁºñËæë‰∏ã‰∏Ä‰∏™Êñá‰ª∂ :N ÁºñËæë‰∏ä‰∏Ä‰∏™Êñá‰ª∂ :files ÂàóÂá∫ÁõÆÂâçËøô‰∏™vimÊâìÂºÄÁöÑÊâÄÊúâÊñá‰ª∂ Â§öÁ™óÂè£ÂäüËÉΩÂæàÂ§öÊó∂ÂÄôÊàë‰ª¨ÈúÄË¶ÅÂØπÊØîÊñá‰ª∂Ôºå‰ΩÜÊòØÊÉÖÂÜµÊòØÂú®Âêå‰∏Ä‰∏™vimÁ™óÂè£ÔºåËøôÊó∂ÂÄô‰πüÂ∞±ÈúÄË¶ÅÁî®Âà∞Â§öÁ™óÂè£ÂäüËÉΩÔºåÂÖ∑‰ΩìÊåâÈîÆÂ¶Ç‰∏ãÔºö ÊåâÈîÆ ÊåâÈîÆËØ¥Êòé Ôºösp filename ÊâìÂºÄÊñ∞Á™óÂè£ÔºåÂ¶ÇÊûúÊúâÂä†filename,Êñ∞Á™óÂè£ÊâìÂºÄÊñ∞Êñá‰ª∂ÔºåÂê¶ÂàôÊâìÂºÄÁõ∏ÂêåÊñá‰ª∂ Ctrl + w + j/‚Üì ÊåâÈîÆÁöÑÊåâÊ≥ïÊòØÔºöÂÖàÊåâ‰∏ãCtrl‰∏çÊîæÔºåÂÜçÊåâ‰∏ãwÂêéÊîæÂºÄÊâÄÊúâÁöÑÊåâÈîÆÔºåÁÑ∂ÂêéÂÜçÊåâ‰∏ãjÊàñÁÆ≠Â§¥ÔºåÂàôÂÖâÊ†áÂèØÁßªÂä®Âà∞‰∏ãÊñπÁöÑÁ™óÂè£ Ctrl + w + k/‚Üë Âêå‰∏äÔºå‰ΩÜÊòØÂÖâÊ†áÁßªÂä®Âà∞‰∏äÈù¢ÁöÑÁ™óÂè£ vimÂ∏∏Áî®ÂëΩ‰ª§Á§∫ÊÑèÂõæ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã Linux - vimÊåâÈîÆËØ¥Êòé]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_LinuxÁ£ÅÁõò‰∏éÊñá‰ª∂Á≥ªÁªüÁÆ°ÁêÜ]]></title>
    <url>%2F2018%2F03%2F25%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_Linux%E7%A3%81%E7%9B%98%E4%B8%8E%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁ≥ªÁªüÁÆ°ÁêÜÂëòÊúÄÈáçË¶ÅÁöÑ‰ªªÂä°‰πã‰∏ÄÂ∞±ÊòØÁÆ°ÁêÜÂ•ΩËá™Â∑±ÁöÑÁ£ÅÁõòÊñá‰ª∂Á≥ªÁªüÔºåÊâÄ‰ª•Êú¨ÊñáÁöÑÁü•ËØÜÂØπ‰∫éÈÇ£‰∫õÈúÄË¶ÅËßÑÂàíËá™Â∑±Á£ÅÁõòÊñá‰ª∂Á≥ªÁªüÁöÑ‰∫∫Áæ§ÁâπÂà´ÈáçË¶ÅÔºåÊúâ‰∫õÂÜÖÂÆπÂèØËÉΩ‰∏çÂ§™ËØ¶ÁªÜÔºåÊâÄ‰ª•Êó•ÂêéËá™Â∑±‰∫≤Ë∫´ÂÆûË∑µËøáÂêéÔºåÂ∏åÊúõËÉΩÂÜçÂºÄ‰∏ÄÁØáËØ¶ÁªÜÁöÑÊñáÁ´†„ÄÇ ËÆ§ËØÜÊñá‰ª∂Á≥ªÁªüLinuxÊúÄ‰º†ÁªüÁöÑÁ£ÅÁõòÊñá‰ª∂Á≥ªÁªü‰ΩøÁî®ÁöÑÊòØEXT2ÔºàÁ¥¢ÂºïÂºèÊñá‰ª∂Á≥ªÁªüÔºâ„ÄÇÊâÄ‰ª•Ë¶Å‰∫ÜËß£Êñá‰ª∂Á≥ªÁªüÂ∞±ÂæóË¶ÅÂèàËÆ§ËØÜEXT2ÂºÄÂßã„ÄÇ Âú®Linux‰∏≠ÔºåÈúÄË¶ÅËÆ∞ÂΩïÊñá‰ª∂ÊùÉÈôê‰∏éÊñá‰ª∂Â±ûÊÄßÔºåÊâÄ‰ª•Êñá‰ª∂Á≥ªÁªüÈÄöÂ∏∏‰ºöÂ∞ÜËøô‰∏§ÈÉ®ÂàÜÁöÑÊï∞ÊçÆÂàÜÂà´Â≠òÊîæÂú®‰∏çÂêåÁöÑÂùóÔºåÊùÉÈôêÂíåÂ±ûÊÄßÊîæÁΩÆÂà∞inode‰∏≠ÔºåËá≥‰∫éÂÆûÈôÖÊï∞ÊçÆÂàôÊîæÁΩÆÂà∞data blockÂùó‰∏≠ÔºåÂè¶Â§ñËøòÊúâ‰∏Ä‰∏™Ë∂ÖÁ∫ßÂùóÔºàsuperblockÔºâ‰ºöËÆ∞ÂΩïÊï¥‰ΩìÊñá‰ª∂Á≥ªÁªüÁöÑÊï¥‰Ωì‰ø°ÊÅØ„ÄÇÊØè‰∏™inodeÔºåblockÈÉΩÊúâÁºñÂè∑Ôºå‰∏ãÈù¢ÁÆÄÁï•ËØ¥Êòé‰∏äÈù¢‰∏â‰∏™Êï∞ÊçÆÁöÑÊÑè‰πâÔºö super blockÔºöËÆ∞ÂΩïÊ≠§Êñá‰ª∂Á≥ªÁªüÁöÑÊï¥‰Ωì‰ø°ÊÅØÔºåÂåÖÊã¨inode/blockÁöÑÊÄªÈáè„ÄÅ‰ΩøÁî®Èáè„ÄÅ‰ª•ÂèäÊñá‰ª∂Á≥ªÁªüÁöÑÊ†ºÂºè‰∏éÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ inodeÔºöËÆ∞ÂΩïÊñá‰ª∂ÁöÑÂ±ûÊÄßÔºå‰∏Ä‰∏™Êñá‰ª∂Âç†Áî®‰∏Ä‰∏™inodeÔºåÂêåÊó∂ËÆ∞ÂΩïÊ≠§Êñá‰ª∂ÁöÑÊï∞ÊçÆÊâÄÂú®ÁöÑblockÂè∑Á†Å„ÄÇ blockÔºöÂÆûÈôÖËÆ∞ÂΩïÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºåËã•Êñá‰ª∂Â§™Â§ßÊó∂Ôºå‰ºöÂç†Áî®Â§ö‰∏™block„ÄÇ LinuxÁöÑExt2Êñá‰ª∂Á≥ªÁªü Ext2Êñá‰ª∂Á≥ªÁªü‰∏ªË¶ÅÊúâboot sectorÔºåsuperblockÔºåinode bitmapÔºåblock bitmapÔºåinode tableÔºådata blockÂÖ≠Â§ßÈÉ®ÂàÜ„ÄÇ data blockÊòØÁî®Êù•ÊîæÁΩÆÊñá‰ª∂ÂÜÖÂÆπÊï∞ÊçÆÁöÑÂú∞ÊñπÔºåÂú®Ext2Êñá‰ª∂Á≥ªÁªü‰∏≠ÊâÄÊîØÊåÅÁöÑblockÂ§ßÂ∞èÊúâ1KB„ÄÅ2KBÂèä4KB‰∏âÁßç„ÄÇ inodeËÆ∞ÂΩïÊñá‰ª∂ÁöÑÂ±ûÊÄß/ÊùÉÈôêÁ≠âÊï∞ÊçÆÔºåÊØè‰∏™inodeÂ§ßÂ∞èÂùáÂõ∫ÂÆö‰∏∫128bytesÔºõÊØè‰∏™Êñá‰ª∂ÈÉΩ‰ªÖÂç†Êúâ‰∏Ä‰∏™inodeËÄåÂ∑≤ÔºõÂõ†Ê≠§Êñá‰ª∂Á≥ªÁªüËÉΩÂ§üÊñ∞Âª∫ÁöÑÊñá‰ª∂Êï∞ÈáèÔºå‰∏éinodeÊï∞ÈáèÊúâÂÖ≥„ÄÇ Êñá‰ª∂ÁöÑblockËÆ∞ÂΩïÊñá‰ª∂ÁöÑÂÆûÈôÖÊï∞ÊçÆÔºåÁõÆÂΩïÁöÑblockÂàôËÆ∞ÂΩïËØ•ÁõÆÂΩï‰∏ãÈù¢Êñá‰ª∂Âêç‰∏éÂÖ∂inodeÂè∑Á†ÅÁöÑÂØπÁÖßË°®„ÄÇ Êó•ÂøóÊñá‰ª∂Á≥ªÁªü‰ºöÂ§öÂá∫‰∏ÄÂùóËÆ∞ÂΩïÂå∫ÔºåÈöèÊó∂ËÆ∞ËΩΩÊñá‰ª∂Á≥ªÁªüÁöÑ‰∏ªË¶ÅÊ¥ªÂä®ÔºåÂèØÂä†Âø´ÊÅ¢Â§çÊó∂Èó¥„ÄÇ LinuxÊñá‰ª∂Á≥ªÁªü‰∏∫Â¢ûÂä†ÂÖ∂ÊÄßËÉΩÔºå‰ºöËÆ©‰∏ªÂ≠òÂÇ®Âô®‰Ωú‰∏∫Â§ßÈáèÁöÑÁ£ÅÁõòÈ´òÈÄüÁºìÂ≠ò„ÄÇ Êñá‰ª∂Á≥ªÁªüÁöÑÁÆÄÂçïÊìç‰ΩúÁ£ÅÁõò‰∏éÁõÆÂΩïÁöÑÂÆπÈáèÔºödfÔºådu dfÔºöÂàóÂá∫Êñá‰ª∂Á≥ªÁªüÁöÑÊï¥‰ΩìÁ£ÅÁõò‰ΩøÁî®Èáè Âú®ÊâßË°ådfÂëΩ‰ª§‰πãÂêéÔºå‰ºöÂá∫Áé∞Â¶Ç‰∏ã‰ø°ÊÅØÔºö 1234567Êñá‰ª∂Á≥ªÁªü 1K-Âùó Â∑≤Áî® ÂèØÁî® Â∑≤Áî®% ÊåÇËΩΩÁÇπ/dev/vda1 51474044 6759800 42092876 14% /devtmpfs 932632 0 932632 0% /devtmpfs 941920 24 941896 1% /dev/shmtmpfs 941920 316 941604 1% /runtmpfs 941920 0 941920 0% /sys/fs/cgrouptmpfs 188388 0 188388 0% /run/user/0 duÔºöËØÑ‰º∞Êñá‰ª∂Á≥ªÁªüÁöÑÁ£ÅÁõò‰ΩøÁî®ÈáèÔºàÂ∏∏Áî®‰∫éËØÑ‰º∞ÁõÆÂΩïÊâÄÂç†ÂÆπÈáèÔºâ ÂèØ‰ª•ÁúãÁúã‰∏ãÈù¢ÁöÑÊ°à‰æãÔºö 123456// 1. ÂàóÂá∫ÁõÆÂâçÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂ÂÆπÈáèdu// 2. ÂêåËåÉ‰æã‰∏ÄÔºå‰ΩÜÊòØÂ∞ÜÊñá‰ª∂ÁöÑÂÆπÈáè‰πüÂàóÂá∫Êù•du -a// 3. Ê£ÄÊü•Ê†πÁõÆÂΩï‰∏ãÈù¢ÊØè‰∏™ÁõÆÂΩïÊâÄÂç†Áî®ÁöÑÂÆπÈáèdu -sm /* ËøûÊé•Êñá‰ª∂ hard link (Á°¨ËøûÊé•ÊàñÂÆûÈôÖËøûÊé•) hard linkÂè™ÊòØÂú®Êüê‰∏™ÁõÆÂΩï‰∏ãÊñ∞Âª∫‰∏ÄÊù°Êñá‰ª∂ÂêçËøûÊé•Âà∞ÊüêinodeÂè∑Á†ÅÁöÑÁÆ°ÁêÜËÆ∞ÂΩï„ÄÇÂÆÉÁöÑÂëΩ‰ª§Â¶Ç‰∏ãÔºö ln hard linkÊòØÊúâÂ¶Ç‰∏ãÈôêÂà∂ÁöÑÔºö ‰∏çËÉΩË∑®Êñá‰ª∂Á≥ªÁªü ‰∏çËÉΩËøûÊé•Âà∞ÁõÆÂΩï symbolic link (Á¨¶Âè∑ËøûÊé•Ôºå‰πüÂç≥ÊòØÂø´Êç∑ÊñπÂºè) symbolic linkÂ∞±ÊòØÂú®ÂàõÂª∫‰∏Ä‰∏™Áã¨Á´ãÁöÑÊñá‰ª∂ÔºåËÄåËøô‰∏™Êñá‰ª∂‰ºöËÆ©Êï∞ÊçÆÁöÑËØªÂèñÊåáÂêëÂÆÉËøûÊé•ÁöÑÊåâ‰∏™Êñá‰ª∂ÁöÑÊñá‰ª∂Âêç„ÄÇÂÆÉÁöÑÂëΩ‰ª§Â¶Ç‰∏ãÔºö ls -s symbolic link‰∏éWindowsÁöÑÂø´Êç∑ÊñπÂºèÂèØ‰ª•Áîª‰∏äÁ≠âÂè∑ÔºåÂ¶ÇÊûúÂéüÊñá‰ª∂Ë¢´Âà†Èô§‰∫ÜÔºåÈÇ£symbolic link‰πüÂ∞±‰∏çËÉΩÁî®‰∫Ü„ÄÇ Á£ÅÁõòÁöÑÂàÜÂå∫„ÄÅÊ†ºÂºèÂåñ„ÄÅÊ†°È™å‰∏éÊåÇËΩΩÂØπ‰∫é‰∏Ä‰∏™Á≥ªÁªüÁÆ°ÁêÜËÄÖ(root)ËÄåË®ÄÔºåÁ£ÅÁõòÁöÑÁÆ°ÁêÜÊòØÁõ∏ÂØπÈáçË¶ÅÁöÑ‰∏ÄÁéØÔºåÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Ë¶ÅÂú®Á≥ªÁªüÈáåÈù¢Êñ∞Â¢û‰∏ÄÂùóÁ°¨ÁõòÔºåÂ∫îËØ•ÊúâÂì™‰∫õÂä®‰ΩúÈúÄË¶ÅÂÅöÔºü ÂØπÁ£ÅÁõòËøõË°åÂàÜÂå∫Ôºå‰ª•Êñ∞Âª∫ÂèØÁî®ÁöÑÂàÜÂå∫ ÂØπËØ•ÂàÜÂå∫ËøõË°åÊ†ºÂºèÂåñÔºå‰ª•ÂàõÂª∫Á≥ªÁªüÂèØÁî®ÁöÑÊñá‰ª∂Á≥ªÁªü Ëã•ÊÉ≥Ë¶Å‰ªîÁªÜ‰∏ÄÁÇπÔºåÂàôÂèØÂØπÂàöÊâçÊñ∞Âª∫Â•ΩÁöÑÊñá‰ª∂Á≥ªÁªüËøõË°åÊ†°È™å Âú®LinuxÁ≥ªÁªü‰∏äÔºåÈúÄË¶ÅÂàõÂª∫ÊåÇËΩΩÁÇπÔºà‰πüÂç≥ÊòØÁõÆÂΩïÔºâÔºåÂπ∂Â∞ÜÂÆÉÊåÇËΩΩ‰∏äÊù• Á£ÅÁõòÂàÜÂå∫ÔºöfdiskËæìÂÖ•Â¶Ç‰∏ãÂëΩ‰ª§ÔºåËøõÂÖ•Á£ÅÁõòÂàÜÂå∫Êìç‰ΩúÔºö fdisk /dev/hdc(Á£ÅÁõòÂêç) Êé•‰∏ãÊù•Â∞±ÊòØÊåâÁÖßÊèêÁ§∫Êñ∞Â¢ûÊàñËÄÖÂà†Èô§ÂàÜÂå∫‰∫Ü„ÄÇ Á£ÅÁõòÊ†ºÂºèÂåñÔºömkfsÂàÜÂå∫ÂÆåÊØï‰πãÂêéÂ∞±Ë¶ÅËøõË°åÊ†ºÂºèÂåñÔºåÊ†ºÂºèÂåñÈùûÂ∏∏ÁÆÄÂçïÔºå‰ΩøÁî®mkfsÔºàmake file systemÔºâÂç≥ÂèØ„ÄÇÂëΩ‰ª§Â¶Ç‰∏ãÔºö mkfs [-t Êñá‰ª∂Á≥ªÁªüÊ†ºÂºè] Á£ÅÁõòËÆæÂ§áÁöÑÊñá‰ª∂Âêç -tÂêéÁöÑÊñá‰ª∂Á≥ªÁªüÊ†ºÂºèÂ∞±ÊòØËÆ©‰Ω†ÊåáÂÆöÂ∞ÜÊñá‰ª∂Á≥ªÁªüÊ†ºÂºèÂåñÊàêÂì™ÁßçÊñá‰ª∂Á≥ªÁªü„ÄÇÂ¶Çext2„ÄÅext3„ÄÅvfatÁ≠â„ÄÇ Á£ÅÁõòÊ£ÄÈ™åÔºöfsckÂΩìÁ≥ªÁªüËøêË°åÂá∫Áé∞ÈóÆÈ¢òÂØºËá¥Êñá‰ª∂Á≥ªÁªüÂèëÁîüÈîô‰π±ÔºåÊ≠§Êó∂Â∞±ÈúÄË¶ÅÁ£ÅÁõòÁöÑÊ£ÄÈ™å„ÄÇÂëΩ‰ª§Â¶Ç‰∏ãÔºö fsck [-t Êñá‰ª∂Á≥ªÁªü] [-ACay] ËÆæÂ§áÂêçÁß∞ ÈÄöÂ∏∏Âè™ÊúârootÁî®Êà∑ÔºåËÄå‰∏îÂú®Êñá‰ª∂Á≥ªÁªüÊúâÈóÆÈ¢òÁöÑÊó∂ÂÄôÊâçËÉΩËøõË°åËøô‰∏™Êìç‰ΩúÔºåÂõ†‰∏∫Âú®Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ã‰ΩøÁî®Ëøô‰∏™ÂëΩ‰ª§‰ºöÂØπÁ≥ªÁªü‰º§ÂÆ≥ÂæàÂ§ß„ÄÇ Ê≠§Â§ñÔºåfsckÂú®Êâ´ÊèèÁöÑÊó∂ÂÄôÔºåÊúâÈóÆÈ¢òÁöÑÊï∞ÊçÆ‰ºöË¢´ÊîæÂú®lostÔºãfoundËøô‰∏™Êñá‰ª∂Â§π‰∏≠„ÄÇÊâÄ‰ª•Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãËøô‰∏™Êñá‰ª∂Â§π‰∏≠ÊòØ‰∏çÂ∫îËØ•ÊúâÊï∞ÊçÆÁöÑ„ÄÇ Á£ÅÁõòÊåÇËΩΩ‰∏éÂç∏ËΩΩÔºömountÔºåumountÂú®ÊåÇËΩΩÂâçÈúÄË¶ÅÁ°ÆÂÆö‰∏ãÈù¢Âá†‰ª∂‰∫ãÔºö Âçï‰∏ÄÊñá‰ª∂Á≥ªÁªü‰∏çÂ∫îËØ•Ë¢´ÈáçÂ§çÊåÇËΩΩÂú®‰∏çÂêåÁöÑÊåÇËΩΩÁÇπÔºàÁõÆÂΩïÔºâ‰∏≠ Âçï‰∏ÄÁõÆÂΩï‰∏çÂ∫îËØ•ÈáçÂ§çÊåÇËΩΩÂ§ö‰∏™Êñá‰ª∂Á≥ªÁªü ‰Ωú‰∏∫ÊåÇËΩΩÂ∏¶‰Ω†ÁöÑÁõÆÂΩïÁêÜËÆ∫‰∏äÂ∫îËØ•ÈÉΩÊòØÁ©∫ÁõÆÂΩï ÂÖ∑‰ΩìÂëΩ‰ª§Â¶Ç‰∏ã ÊåÇËΩΩÔºö mount [-t Êñá‰ª∂Á≥ªÁªü] [-L Êñá‰ª∂Á≥ªÁªüÁöÑÂç∑Ê†áÂêçÁß∞] [-o È¢ùÂ§ñÈÄâÈ°π] [-n] ËÆæÂ§áÊñá‰ª∂Âêç ÊåÇËΩΩÁÇπ Âç∏ËΩΩ umount [-fn] ËÆæÂ§áÊñá‰ª∂ÂêçÊàñÊåÇËΩΩÁÇπ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_LinuxÊñá‰ª∂‰∏éÁõÆÂΩïÁÆ°ÁêÜÂ§ßÂÖ®Ëß£]]></title>
    <url>%2F2018%2F03%2F25%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_Linux%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86%E5%A4%A7%E5%85%A8%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®‰ΩøÁî®LinuxÁöÑËøáÁ®ã‰∏≠ÔºåÊúÄÂ§öÁöÑÂëΩ‰ª§Ëé´Ëøá‰∫éÂú®Êìç‰ΩúÊñá‰ª∂‰∏éÁõÆÂΩïÔºåÊâÄ‰ª•ÈÄöËøáÊú¨ÊñáÔºåËÉΩËÆ©‰Ω†Â§ßÊ¶ÇÁéáÁÜüÊÇâÊâÄÊúâÂÖ≥‰∫éÊñá‰ª∂‰∏éÁõÆÂΩïÁöÑÂëΩ‰ª§‰∏éÁü•ËØÜÔºå‰ΩÜÊòØÂèÇÊï∞ÊñπÈù¢Â∞±ÈúÄË¶ÅËá™Â∑±ÂéªÊü•ËØ¢‰∫Ü„ÄÇ ÁõÆÂΩï‰∏éË∑ØÂæÑÁªùÂØπË∑ØÂæÑÂíåÁõ∏ÂØπË∑ØÂæÑ ÁªùÂØπË∑ØÂæÑÔºöË∑ØÂæÑÁöÑÂÜôÊ≥ï‰∏ÄÂÆöÁî±Ê†πÁõÆÂΩï/ÂÜôËµ∑„ÄÇ Áõ∏ÂØπË∑ØÂæÑÔºöË∑ØÂæÑÁöÑÂÜôÊ≥ïÊòØÁõ∏ÂØπ‰∫éÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩïÂÜôÁöÑ„ÄÇ ÁõÆÂΩïÁöÑÁõ∏ÂÖ≥Êìç‰Ωú ÁâπÊÆäÁõÆÂΩïÂàóË°® . ÔºöÂΩìÂâçÁõÆÂΩï .. Ôºö‰∏äÂ±ÇÁõÆÂΩï - ÔºöÂâç‰∏Ä‰∏™Â∑•‰ΩúÁõÆÂΩï ~ ÔºöÁôªÈôÜÁî®Êà∑ÁöÑ‰∏ªÊñá‰ª∂Â§π ~account ÔºöËøô‰∏™Áî®Êà∑ÁöÑ‰∏ªÊñá‰ª∂Â§π ÔºàaccountÊòØ‰∏™Ë¥¶Âè∑ÂêçÁß∞Ôºâ Â∏∏ËßÅÁõÆÂΩïÂ§ÑÁêÜÁöÑÂëΩ‰ª§ cdÔºöÂàáÊç¢ÁõÆÂΩï pwdÔºöÊòæÁ§∫ÂΩìÂâçÁõÆÂΩï mkdirÔºöÊñ∞Âª∫‰∏Ä‰∏™Êñ∞ÁöÑÁõÆÂΩï rmdirÔºöÂà†Èô§‰∏Ä‰∏™Á©∫ÁöÑÁõÆÂΩïÔºåÂà†Èô§ÈùûÁ©∫ÁõÆÂΩïÈúÄË¶Å‰ΩøÁî®rm -r Â•Ω‰π†ÊÉØÔºöÁªèÂ∏∏Âà©Áî®TabÈîÆÂø´ÈÄüÂÆåÊï¥Âú∞ËæìÂÖ•ÁõÆÂΩïÊàñÂëΩ‰ª§ ÁéØÂ¢ÉÂèòÈáèPATH ÂΩìÊàë‰ª¨ÊâßË°åÂëΩ‰ª§Ôºöls ÔºçalÁöÑÊó∂ÂÄôÔºåÁ≥ªÁªü‰ºöÊåâÁÖßPATHËÆæÁΩÆÁöÑË∑ØÂæÑÔºåÂéªËøô‰∫õË∑ØÂæÑ‰∏≠ÂØªÊâælsËøô‰∏™Êñá‰ª∂ÔºåÂπ∂ÊâßË°å„ÄÇÂ¶ÇÊûúPATHË∑ØÂæÑ‰∏≠ÊúâÂ§ö‰∏™lsÊñá‰ª∂ÔºåÈÇ£‰πàÂÖàÊâæÂà∞ÁöÑÈÇ£‰∏™lsÊñá‰ª∂Ë¢´ÊâßË°å„ÄÇ 1234// Êü•ÁúãPATHecho $PATH// Âú®PATH‰∏≠Ê∑ªÂä†Ë∑ØÂæÑ/demoPATH="$PATH":/demo ÂØπ‰∫éPATHÊàë‰ª¨ÊúâÂá†ÁÇπÈúÄË¶ÅÊ∏ÖÊ•öÔºö ‰∏çÂêåË∫´‰ªΩÁî®Êà∑ÈªòËÆ§ÁöÑPATH‰∏çÂêåÔºåÈªòËÆ§ËÉΩÂ§üÈöèÊÑèÊâßË°åÁöÑÂëΩ‰ª§‰πü‰∏çÂêåÔºåÂ∑ÆÂºÇËæÉÂ§ßÁöÑÂú∞ÊñπÂú®‰∫é/sbinÂíå/usr/sbin„ÄÇ PATHÊòØÂèØ‰ª•‰øÆÊîπÁöÑÔºåÊâÄ‰ª•‰∏ÄËà¨Áî®Êà∑ËøòÊòØÂèØ‰ª•ÈÄöËøá‰øÆÊîπPATHÊù•ÊâßË°åÊüê‰∫õ‰Ωç‰∫é/sbinÊàñ/usr/sbin‰∏ãÁöÑÂëΩ‰ª§Êù•Êü•ËØ¢„ÄÇ ‰ΩøÁî®ÁªùÂØπË∑ØÂæÑÊàñÁõ∏ÂØπË∑ØÂæÑÁõ¥Êé•ÊåáÂÆöÊüê‰∏™ÂëΩ‰ª§ÁöÑÊñá‰ª∂ÂêçÊù•ÊâßË°å„ÄÇ ÂëΩ‰ª§Â∫îËØ•Ë¶ÅÊîæÂú®Ê≠£Á°ÆÁöÑÁõÆÂΩï‰∏ãÔºåÊâßË°åÊâç‰ºöÊØîËæÉÊñπ‰æø„ÄÇ Êú¨ÁõÆÂΩïÔºà.ÔºâÊúÄÂ•Ω‰∏çË¶ÅÊîæÂà∞PATHÂΩì‰∏≠ÔºåÂõ†‰∏∫Êú¨ÁõÆÂΩï‰ºöÂèòÂåñ„ÄÇ Êñá‰ª∂ÂíåÁõÆÂΩïÁÆ°ÁêÜÂú®Êñá‰ª∂‰∏éÁõÆÂΩïÁöÑÁÆ°ÁêÜ‰∏äÔºå‰∏çÂ§ñ‰πé‚ÄúÊòæÁ§∫Â±ûÊÄß‚Äù„ÄÅ‚ÄúÂ§çÂà∂‚Äù„ÄÅ‚ÄúÂà†Èô§Êñá‰ª∂‚Äù„ÄÅ‚ÄúÁßªÂä®ÁõÆÂΩïÊàñÊñá‰ª∂‚ÄùÁ≠â„ÄÇ‰∏ãÈù¢ËøôËøôÁßçÁÆ°ÁêÜÂä®‰ΩúÁöÑÂÖ∑‰ΩìÊåá‰ª§Ôºö ÊòæÁ§∫Â±ûÊÄß ls Â§çÂà∂ cp Âà†Èô§ rm ÁßªÂä®(ÈáçÂëΩÂêç) mv Ëøô‰∫õÊåá‰ª§ÁöÑÂÖ∑‰ΩìÂèÇÊï∞ÔºåÂ∏åÊúõÂ§ßÂÆ∂ËÉΩÂ§üÈÄöËøáman infoÂéªÁÜüÊÇâ„ÄÇ Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÂéªÂèñÂæóË∑ØÂæÑÁöÑÊñá‰ª∂Âêç‰∏éÁõÆÂΩïÂêçÁß∞Ôºö1234// ÂèñÂæóÊñá‰ª∂ÂêçÁß∞basename /etc/sysconfig/network// ÂèñÂæóÊñá‰ª∂ÁõÆÂΩïdirname /etc/sysconfig/network Êñá‰ª∂ÂÜÖÂÆπÊü•ÈòÖ‰∏ªË¶ÅÊúâ‰∏ãÈù¢‰∏Ä‰∫õÂëΩ‰ª§Ôºö ÂëΩ‰ª§ ‰ΩúÁî® cat Áî±Á¨¨‰∏ÄË°åÂºÄÂßãÊòæÁ§∫Êñá‰ª∂ÂÜÖÂÆπ tac ‰ªéÊúÄÂêé‰∏ÄË°åÂºÄÂßãÊòæÁ§∫ÔºåÂèØ‰ª•ÁúãÂá∫tacÊòØcatÁöÑÂà∞ÂÜôÂΩ¢Âºè nl ÊòæÁ§∫ÁöÑÊó∂ÂÄôÔºåÈ°∫‰æøËæìÂá∫Á¨¶Âè∑ more ‰∏ÄÈ°µ‰∏ÄÈ°µÊòæÁ§∫Êñá‰ª∂ÂÜÖÂÆπ less ‰∏émoreÁ±ª‰ººÔºå‰ΩÜÊòØÊØîmoreÊõ¥Â•ΩÁöÑÊòØÔºåÂÆÉÂèØ‰ª•ÂæÄÂâçÁøªÈ°µ head Âè™ÁúãÂ§¥Âá†Ë°å tail Âè™ÁúãÂ∞æÂá†Ë°å od ‰ª•‰∫åËøõÂà∂ÁöÑÊñπÂºèËØªÂèñÊñá‰ª∂ÂÜÖÂÆπ Êñá‰ª∂‰∏éÁõÆÂΩïÁöÑÈªòËÆ§ÊùÉÈôêÂíåÈöêËóèÊùÉÈôêÈô§‰∫ÜÂü∫Êú¨ÁöÑrwxÊùÉÈôê‰πãÂ§ñÔºåLinuxÁöÑext2/ext3Êñá‰ª∂Á≥ªÁªü‰∏ãÔºåÊàë‰ª¨ËøòÂèØ‰ª•ËÆæÁΩÆÁ≥ªÁªüÈöêËóèÂ±ûÊÄßÔºåÂÆÉÂèØ‰ª•Áî®chattrÊù•ËÆæÁΩÆÔºåÁî®lsattrÊù•Êü•Áúã„ÄÇÊúÄÈáçË¶ÅÁöÑÂ±ûÊÄßÂ∞±ÊòØÂèØ‰ª•ËÆæÁΩÆÊñá‰ª∂/ÁõÆÂΩï‰∏∫‰∏çÂèØ‰øÆÊîπÔºåËøôÂèØ‰ª•ËÆ©Êñá‰ª∂ÊâÄÊúâËÄÖÈÉΩ‰∏çËÉΩËøõË°å‰øÆÊîπÔºåËøôÂØπ‰∫éÂÆâÂÖ®ÊÄßÊñπÈù¢ÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑ„ÄÇ Êñá‰ª∂ÁöÑÈªòËÆ§ÊùÉÈôêÔºöumaskumaskÊåáÂÆö‰∫ÜÁõÆÂâçÁî®Êà∑Âú®Êñ∞Âª∫Êñá‰ª∂ÊàñÁõÆÂΩïÊó∂ÂÄôÁöÑÊùÉÈôêÈªòËÆ§ÂÄº„ÄÇ ÊåáÂÆö‰∫Ü‰ª•‰∏ãÈù¢ÁöÑÊñπÂºèÊù•ÊåáÂÆöÔºö1234567[root@VM_0_9_centos ~]# umask0022 // ‰∏é‰∏ÄËà¨ÊùÉÈôêÊúâÂÖ≥ÁöÑÊòØÂêéÈù¢ÊòØ‰∏â‰∏™Êï∞Â≠ó(Ë°®Á§∫‰∏çÊã•ÊúâËØ•Êï∞ÂÄºÁöÑÊùÉÈôêÔºåÊ≠§‰æãÂ∞±Ë°®Á§∫group‰∏çÊã•ÊúâwÔºåothers‰∏çÊã•Êúâw)[root@VM_0_9_centos ~]# umask -Su=rwx,g=rx,o=rx// ËÆæÁΩÆÈªòËÆ§ÊùÉÈôêumask 002 Âú®ÈªòËÆ§ÊùÉÈôêÁöÑÂ±ûÊÄß‰∏äÔºåÁõÆÂΩï‰∏éÊñá‰ª∂ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåxÊùÉÈôêÂØπ‰∫éÁõÆÂΩïÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑÔºå‰ΩÜÊòØ‰∏ÄËà¨Êñá‰ª∂ÁöÑÂàõÂª∫Âàô‰∏çÂ∫îËØ•Êã•ÊúâÊâßË°åÊùÉÈôê„ÄÇÊâÄ‰ª•ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºö Ëã•Áî®Êà∑ÂàõÂª∫‚ÄúÊñá‰ª∂‚ÄùÂàôÈªòËÆ§Ê≤°ÊúâÂèØÊâßË°åÊùÉÈôêÔºåÈªòËÆ§ÊùÉÈôê‰∏∫666ÔºåÂç≥-rw-rw-rw- Ëã•Áî®Êà∑ÂàõÂª∫‚ÄúÁõÆÂΩï‚ÄùÂàôÈªòËÆ§Êã•ÊúâÂèØÊâßË°åÊùÉÈôêÔºåÈªòËÆ§ÊùÉÈôê‰∏∫777ÔºåÂç≥drwxrwxrwx Êñá‰ª∂ÈöêËóèÂ±ûÊÄßchattrÔºålsattr chattr ËÆæÁΩÆÊñá‰ª∂ÁöÑÈöêËóèÂ±ûÊÄß Ê≥®ÊÑèÂèÇÊï∞aÔºàÊñá‰ª∂Âè™ËÉΩÂ¢ûÂä†Êï∞ÊçÆÔºå‰∏çËÉΩÂà†Èô§‰πü‰∏çËÉΩ‰øÆÊîπÊï∞ÊçÆÔºâÂíåi(‰∏çËÉΩ Âà†Èô§Ôºå‰øÆÊîπ) lsattr ÊòæÁ§∫Êñá‰ª∂ÈöêËóèÂ±ûÊÄß Êñá‰ª∂ÁöÑÁâπÊÆäÊùÉÈôêSUID,SGID,SBIT SUID(u+s,Â¶Çx‰∏∫Á©∫ÔºåÂàôÂá∫Áé∞Â§ßS)ÔºåÈôêÂà∂‰∏éÂäüËÉΩÂ¶Ç‰∏ãÔºö SUIDÊùÉÈôê‰ªÖÂØπ‰∫åËøõÂà∂Á®ãÂ∫èÊúâÊïà ÊâßË°åËÄÖÂØπ‰∫éËØ•Á®ãÂ∫èÈúÄË¶ÅxÁöÑÂèØÊâßË°åÊùÉÈôê Êú¨ÊùÉÈôê‰ªÖÂú®ÊâßË°åËØ•Á®ãÂ∫èÁöÑËøáÁ®ã‰∏≠ÊúâÊïà ÊâßË°åËÄÖÂ∞ÜÂÖ∑ÊúâËØ•Á®ãÂ∫èÊâÄÊúâËÄÖÁöÑÊùÉÈôê SGIDÔºàg+s,Â¶Çx‰∏∫Á©∫ÔºåÂàôÂá∫Áé∞Â§ßSÔºâÔºåÂØπ‰∫éÊñá‰ª∂ÂäüËÉΩ‰∏éSUIDÁ±ª‰ººÔºå‰ΩÜÊòØÂØπ‰∫éÁõÆÂΩïÊúâÂ¶Ç‰∏ãÂäüËÉΩÔºö Áî®Êà∑Ëã•ÂØπ‰∫éÊ≠§ÁõÆÂΩïÂÖ∑Êúâr‰∏éxÁöÑÊùÉÈôêÊó∂ÔºåËØ•Áî®Êà∑ËÉΩÂ§üËøõÂÖ•Ê≠§ÁõÆÂΩï Áî®Êà∑Âú®Ê≠§ÁõÆÂΩï‰∏ãÂæóÊúâÊïàÁî®Êà∑ÁªÑÂ∞ÜÂèòÊàêËØ•ÁõÆÂΩïÁöÑÁî®Êà∑ÁªÑ Ëã•Áî®Êà∑Âú®Ê≠§ÁõÆÂΩï‰∏ãÂÖ∑ÊúâwÁöÑÊùÉÈôêÔºàÂèØ‰ª•Êñ∞Âª∫Êñá‰ª∂ÔºâÔºåÂàôÁî®Êà∑ÊâÄÂàõÂª∫ÁöÑÊñ∞Êñá‰ª∂ÁöÑÁî®Êà∑ÁªÑ‰∏éÊ≠§ÁõÆÂΩïÁöÑÁî®Êà∑ÁªÑÁõ∏Âêå SBITÔºào+t,Â¶Çx‰∏∫Á©∫ÔºåÂàôÂá∫Áé∞Â§ßTÔºâÔºåÁõÆÂâçÂè™ÈíàÂØπÁõÆÂΩïÊúâÊïàÔºåÂÆÉÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö ÂΩìÁî®Êà∑ÂØπ‰∫éÊ≠§ÁõÆÂΩïÂÖ∑ÊúâwÔºåxÊùÉÈôêÔºåÂç≥ÂÖ∑ÊúâÂÜôÂÖ•ÁöÑÊùÉÈôêÊó∂ÔºåÂΩìÁî®Êà∑Âú®ËØ•ÁõÆÂΩï‰∏ãÂàõÂª∫Êñá‰ª∂ÊàñÁõÆÂΩïÊó∂Ôºå‰ªÖÊúâËá™Â∑±‰∏érootÊâçÊúâÊùÉÂà©Âà†Èô§ËØ•Êñá‰ª∂„ÄÇ Êü•ÁúãÊñá‰ª∂Á±ªÂûãÔºöfileÂ¶ÇÊûúÊÉ≥Áü•ÈÅìÊüê‰∏™Êñá‰ª∂ÁöÑÂü∫Êú¨Êï∞ÊçÆÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®fileËøô‰∏™ÂëΩ‰ª§Êü•Áúã„ÄÇ Êñá‰ª∂‰∏éÂëΩ‰ª§ÁöÑÊü•ËØ¢ËÑöÊú¨Êñá‰ª∂ÂêçÁöÑÊü•ËØ¢Â¶ÇÊûú‰Ω†ÊÉ≥Áü•ÈÅìÁ±ª‰ººlsËøôÁßçÂëΩ‰ª§ÁöÑËÑöÊú¨ÊîæÂú®Âì™ÈáåÔºåÂ∞±ÈÄöËøáwhichÊàñtypeÊù•ÊâæÂØª„ÄÇ whichÂëΩ‰ª§ÊòØÊ†πÊçÆPATHËøô‰∏™ÁéØÂ¢ÉÂèòÈáèÊâÄËßÑËåÉÁöÑË∑ØÂæÑÂéªÊü•ËØ¢‚ÄúÊâßË°åÊñá‰ª∂‚ÄùÁöÑÊñá‰ª∂Âêç„ÄÇ Êñá‰ª∂ÂêçÁöÑÊü•ÊâæÈÄöÂ∏∏find‰∏çÂæàÂ∏∏Áî®ÔºåÂõ†‰∏∫ÈÄüÂ∫¶ÊÖ¢ÔºåÈÄöÂ∏∏Êàë‰ª¨ÈÉΩÊòØÂÖà‰ΩøÁî®whereisÊàñËÄÖÊòØlocateÊù•Ê£ÄÊü•ÔºåÂ¶ÇÊûúÁúüÁöÑÊâæ‰∏çÂà∞‰∫ÜÔºåÊâç‰ª•findÊù•Êü•ÊâæÔºåÂõ†‰∏∫whereis‰∏éloacateÊòØÂà©Áî®Êï∞ÊçÆÂ∫ìÊù•Êü•ËØ¢Êï∞ÊçÆÁöÑÔºåËÄåfindÊòØÁõ¥Êé•Êü•ÊâæÁ°¨ÁõòÁöÑ„ÄÇ whereisÔºöÂØªÊâæÁâπÂÆöÊñá‰ª∂ locateÔºöÊ†πÊçÆÊñá‰ª∂ÁöÑÈÉ®ÂàÜÂêçÁß∞Êü•ÊâæÔºåÁî±‰∫éÊòØÊü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÔºåËÄåÊï∞ÊçÆÂ∫ìÊòØÂΩìÊôöÊõ¥Êñ∞ÔºåÊâÄ‰ª•‰Ω†Êñ∞Âª∫Êñá‰ª∂ÊòØÊü•Êâæ‰∏çÂà∞ÁöÑÔºåÂèØ‰ª•Âà©Áî®updatedbÊâãÂä®Êõ¥Êñ∞Ôºå‰ΩÜÊòØËæÉÊÖ¢„ÄÇ findÔºöÂèÇÊï∞ÂæàÂ§öÔºåËá™Â∑±Áî®ÁöÑÊó∂ÂÄôÈúÄË¶Å‰ΩøÁî®man pageËá™Ë°å‰∫ÜËß£„ÄÇ Êñá‰ª∂‰∏éÊñá‰ª∂Á≥ªÁªüÁöÑÂéãÁº©‰∏éÊâìÂåÖÂ∏∏ËßÅÁöÑÂéãÁº©ÂëΩ‰ª§‰∏çÂêåÁöÑÂéãÁº©ÊâìÂåÖÊäÄÊúØÔºåÂØπÂ∫îÁùÄ‰∏çÂêåÁöÑËß£ÂéãÁº©ÊãÜÂåÖÊäÄÊúØÔºåÊâÄ‰ª•Âú®Linux‰∏≠Áî®ÂêéÁºÄÂêçÊù•ÂàÜËæ®ÂéãÁº©ÊâìÂåÖÊäÄÊúØÔºåÂ¶Ç‰∏ãË°®Ôºö ÂêéÁºÄ ÂéãÁº©ÊâìÂåÖÊäÄÊúØ *.Z compressÁ®ãÂ∫èÂéãÁº© *.gz gzipÁ®ãÂ∫èÂéãÁº© *.bz2 bzip2Á®ãÂ∫èÂéãÁº© *.tar tarÁ®ãÂ∫èÊâìÂåÖÔºåÊú™ÂéãÁº© *.tar.gz tarÁ®ãÂ∫èÊâìÂåÖ,gzipÁ®ãÂ∫èÂéãÁº© *.tar.bz2 tarÁ®ãÂ∫èÊâìÂåÖ,bzip2Á®ãÂ∫èÂéãÁº© Áî±‰∫écompressÂ∑≤Áªè‰∏çÂÜçÊµÅË°åÔºåÊâÄÊúâÊàë‰ª¨‰∏ªË¶ÅËÆ≤Ëß£gzipÂíågzip2: gzip,zcatÔºàÁî®Êù•Êõø‰ª£compressÔºâ ÁõÆÂâçgzipÂèØ‰ª•Ëß£ÂºÄcompress„ÄÅzip‰∏égzipÁ≠âËΩØ‰ª∂ÂéãÁº©ÁöÑÊñá‰ª∂„ÄÇÂèØ‰ª•Áúã‰∏Ä‰∏ã‰∏ãÈù¢ÁöÑÊ°à‰æãÔºö 123456// 1. ÂéãÁº©Êñá‰ª∂gzip -v Êñá‰ª∂Âêç // ÂèÇÊï∞vÊòæÁ§∫ÂéãÁº©ÊØî// 2. Êü•ÁúãÂéãÁº©Êñá‰ª∂ÂÜÖÂÆπzcat ÂéãÁº©Êñá‰ª∂// 3. Ëß£ÂéãÁº©gzip -d ÂéãÁº©Êñá‰ª∂Âêç // ÂèÇÊï∞dË°®Á§∫Ëß£ÂéãÁº© bzip2,bzcatÔºàÁî®Êù•Êõø‰ª£gzipÔºâ ‰ΩøÁî®ÊñπÊ≥ï‰∏égzipÂü∫Êú¨Áõ∏ÂêåÔºå‰∏çÂÜçËµòËø∞„ÄÇ ÊâìÂåÖÂëΩ‰ª§Âú®ÂéãÁº©Êñá‰ª∂Â§π‰πãÂâçÈúÄË¶ÅÊâìÂåÖÔºåÁÑ∂ÂêéÊàë‰ª¨Â∞±ÈúÄË¶ÅÁî®Âà∞Â§ßÂêçÈºéÈºéÁöÑtarÔºå‰∏ãÈù¢ÈÄöËøáÂëΩ‰ª§Êù•ÂÖ∑‰Ωì‰ªãÁªç‰ªñÁöÑ‰ΩøÁî®Ôºö123456// 1. ÂéãÁº©ÔºåÂèÇÊï∞ÁöÑÂê´‰πâËá™Â∑±ÂéªÁî®man pageÊü•Áúãtar -jcv -f filename.tar.bz2 // Ë¶ÅË¢´ÂéãÁº©ÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÂêçÁß∞ÔºåtarÂπ∂‰∏ç‰ºö‰∏ªÂä®‰∫ßÁîüÂàõÂª∫ÁöÑÊñá‰ª∂Âêç// 2. Êü•ËØ¢tar -jtv -f filename.tar.bz2// 3. Ëß£ÂéãÁº©tar -jxv -f filename.tar.bz2 -C Ê¨≤Ëß£ÂéãÁº©ÁöÑÁõÆÂΩïÔºàÂ¶ÇÔºö/tmpÔºâ ÂØπ‰∫éÂè™ÊòØÊâìÂåÖÊ≤°ÊúâÂéãÁº©ÁöÑÊñá‰ª∂Âè´ÂÅötarfile ÂØπ‰∫éÊâìÂåÖ‰∫ÜÂπ∂‰∏îÂéãÁº©ÁöÑÊñá‰ª∂Âè´ÂÅötarball ÂÆåÊï¥Â§á‰ªΩÂ∑•ÂÖ∑ dump Â§á‰ªΩ restore ÊÅ¢Â§ç ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_LinuxÁöÑÊñá‰ª∂ÊùÉÈôê‰∏éÁõÆÂΩïÈÖçÁΩÆ]]></title>
    <url>%2F2018%2F03%2F22%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_Linux%E7%9A%84%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E4%B8%8E%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∫ÜËß£Â•ΩÊñá‰ª∂ÊùÉÈôêÂíåÁõÆÂΩïÁöÑÂÖ∑‰ΩìÂê´‰πâÊâçËÉΩÊõ¥Â•ΩÁöÑÊìç‰ΩúLinuxÔºåÊâÄ‰ª•ÁêÜËß£Â•ΩÊñá‰ª∂ÊùÉÈôê‰∏éÁõÆÂΩïÈÖçÁΩÆÊâçËá≥ÂÖ≥ÈáçË¶Å„ÄÇ Áî®Êà∑‰∏éÁî®Êà∑ÁªÑÁî®Êà∑ÔºàUserÔºâ Áî®Êà∑ÂèØ‰ª•ÈöèÊÑèÊîπÂèòËá™Â∑±ÊâÄÊã•ÊúâÁöÑÊñá‰ª∂ rootÁî®Êà∑Â∞±ÊòØÊúÄÂ§ßÁöÑÂ§ß‰Ω¨ÔºåÂèØ‰ª•Âπ≤‰ªª‰Ωï‰∫ã„ÄÇ Áî®Êà∑ÁªÑÔºàGroupÔºâ Âêå‰∏Ä‰∏™Áî®Êà∑ÁªÑÁöÑÁî®Êà∑ÂèØ‰ª•ËÆøÈóÆËØ•Áî®Êà∑ÁªÑÁöÑÊñá‰ª∂ ÊØè‰∏™Ë¥¶Âè∑ÂèØ‰ª•Âä†ÂÖ•Â§ö‰∏™Áî®Êà∑ÁªÑ Âú®Âêå‰∏Ä‰∏™Áî®Êà∑ÁªÑÁöÑÊñá‰ª∂‰πüÂèØ‰ª•ËÆæÁΩÆ‰∏çÂêåÁöÑÊùÉÈôêÔºåÂèØ‰ª•‰∏çËÆ©Êú¨ÁªÑÁî®Êà∑Êü•Áúã ÂÖ∂‰ªñ‰∫∫ÔºàOthersÔºâÈô§‰∫ÜÊñá‰ª∂Áî®Êà∑„ÄÅÂêåÁªÑÁî®Êà∑‰ª•Â§ñÁöÑ‰∫∫Â∞±ÊòØÂÖ∂‰ªñ‰∫∫„ÄÇ LinuxÁî®Êà∑Ë∫´‰ªΩ‰∏éÁî®Êà∑ÁªÑËÆ∞ÂΩïÁöÑÊñá‰ª∂ Á≥ªÁªü‰∏äÁöÑË¥¶Âè∑‰∏é‰∏ÄËà¨Ë∫´‰ªΩÁî®Êà∑‰ª•ÂèärootÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÈÉΩËÆ∞ÂΩïÂú®/etc/passwdÊñá‰ª∂‰∏≠ ‰∏™‰∫∫ÁöÑÂØÜÁ†ÅÈÉΩËÆ∞ÂΩïÂú®/etc/shadowÊñá‰ª∂‰∏≠ LinuxÊâÄÊúâÁöÑÁªÑÂêçÈÉΩËÆ∞ÂΩïÂú®/etc/groupÊñá‰ª∂‰∏≠ Êñá‰ª∂ÊùÉÈôêÊ¶ÇÂøµLinuxÊñá‰ª∂Â±ûÊÄßÊàë‰ª¨ÂèØ‰ª•Âà©Áî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§Êù•Êü•ÁúãÊñá‰ª∂Â±ûÊÄßÔºö ls -al // ÂàóÂá∫ÊâÄÊúâÊñá‰ª∂ËØ¶ÁªÜÁöÑÊùÉÈôêÂíåÂ±ûÊÄßÔºàÂåÖÂê´ÈöêËóèÊñá‰ª∂Ôºâ Â¶Ç‰∏ãÔºö123456ÊÄªÁî®Èáè 92drwxr-xr-x. 22 root root 4096 3Êúà 17 12:33 .dr-xr-xr-x. 20 root root 4096 3Êúà 22 09:14 ..drwxr-xr-x. 2 root root 4096 11Êúà 5 2016 admdrwxr-xr-x 2 root root 4096 3Êúà 12 10:27 alldata... ÁúÅÁï• Ëß£Èáä‰∏Ä‰∏ã‰∏äÈù¢7ÂàóÁöÑÊÑèÊÄùÔºö Á¨¨‰∏ÄÂàóÔºöÊñá‰ª∂ÁöÑÁ±ªÂûã‰∏éÊùÉÈôê Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶‰ª£Ë°®Ëøô‰∏™Êñá‰ª∂ÊòØ‚ÄúÁõÆÂΩï„ÄÅÊñá‰ª∂ÊàñÈìæÊé•Êñá‰ª∂Á≠â‚Äù„ÄÇ dÔºöÁõÆÂΩïÊñá‰ª∂ -ÔºöÊôÆÈÄöÊñá‰ª∂ lÔºöÈìæÊé•Êñá‰ª∂ bÔºöÁî®‰∫éÂ≠òÂÇ®Êï∞ÊçÆÁöÑËÆæÂ§áÊñá‰ª∂ cÔºöÁî®‰∫é‰º†ËæìÊï∞ÊçÆÁöÑËÆæÂ§áÊñá‰ª∂ÔºöÈº†Ê†á„ÄÅÈîÆÁõò Êé•‰∏ãÊù•ÈÉΩÊòØ‰∏â‰∏™Â≠óÁ¨¶‰∏∫‰∏ÄÁªÑÔºåÂàÜÂà´Ë°®Á§∫Êñá‰ª∂ÊâÄÊúâËÄÖÁöÑÊùÉÈôê„ÄÅÂêåÁªÑÁî®Êà∑ÁöÑÊùÉÈôê„ÄÅÂÖ∂‰ªñÁî®Êà∑ÁöÑÊùÉÈôêÔºåËÄå‰∏îrÔºàËØªÔºâ„ÄÅwÔºàÂÜôÔºâ„ÄÅxÔºàÊâßË°åÔºâÁöÑÈ°∫Â∫èÊòØÂõ∫ÂÆö‰∏çÂèòÁöÑ„ÄÇ Á¨¨‰∫åÂàóÔºöÊúâÂ§öÂ∞ëÊñá‰ª∂ÂêçËøûÊé•Âà∞Ê≠§ËäÇÁÇπ Á¨¨‰∏âÂàóÔºöËøô‰∏™Êñá‰ª∂ÔºàÊàñÁõÆÂΩïÔºâÁöÑÊâÄÊúâËÄÖË¥¶Âè∑ Á¨¨ÂõõÂàóÔºöËøô‰∏™Êñá‰ª∂ÊâÄÂ±ûÁöÑÁî®Êà∑ÁªÑ Á¨¨‰∫îÂàóÔºöËøô‰∏™Êñá‰ª∂ÁöÑÂ§ßÂ∞èÔºåÂçï‰ΩçÊòØB Á¨¨ÂÖ≠ÂàóÔºöËøô‰∏™Êñá‰ª∂ÁöÑÂàõÂª∫Êó•ÊúüÊàñ‰øÆÊîπÊó•Êúü Á¨¨‰∏ÉÂàóÔºöÊñá‰ª∂Âêç ÊîπÂèòÊñá‰ª∂Â±ûÊÄß‰∏éÊùÉÈôêÁöÑÂëΩ‰ª§ chgrpÔºöÊîπÂèòÊñá‰ª∂ÊâÄÂ±ûÁöÑÁî®Êà∑ÁªÑ ÔºàÊ≥®ÊÑè-R ÂèÇÊï∞ÔºåÈÄíÂΩíÊõ¥ÊîπÔºâ chownÔºöÊîπÂèòÊñá‰ª∂ÊâÄÊúâËÄÖ ÔºàÊ≥®ÊÑè-R ÂèÇÊï∞ÔºåÈÄíÂΩíÊõ¥ÊîπÔºâ chmodÔºöÊîπÂèòÊñá‰ª∂ÁöÑÊùÉÈôê ÔºàÊ≥®ÊÑè-R ÂèÇÊï∞ÔºåÈÄíÂΩíÊõ¥ÊîπÔºâ ÊîπÂèòÊñá‰ª∂ÁöÑÊùÉÈôêÊúâ‰∏§ÁßçÂäûÊ≥ïÔºåÂàÜÂà´ÊòØÔºöÁî®Êï∞Â≠óËøõË°åÊùÉÈôêÁöÑ‰øÆÊîπ„ÄÅÁî®Á¨¶Âè∑ËøõË°åÊùÉÈôêÁöÑ‰øÆÊîπ„ÄÇ Áî®Êï∞Â≠óËøõË°åÊùÉÈôêÁöÑ‰øÆÊîπÔºöÊùÉÈôêÊúâ9‰∏™Â≠óÊØçÁªÑÊàêÔºåÂπ∂‰∏îÊØè‰∏â‰∏™‰∏∫‰∏ÄÁªÑÔºåÂàÜÂà´Ë°®Á§∫ÔºöÊñá‰ª∂‰∏ªÁöÑÊùÉÈôê„ÄÅÂêåÁªÑÁî®Êà∑ÁöÑÊùÉÈôê„ÄÅÂÖ∂‰ªñ‰∫∫ÁöÑÊùÉÈôê„ÄÇÂú®ËøôÁßçÊñπÂºè‰∏≠ÔºårÔºù4„ÄÅwÔºù2„ÄÅxÔºù1ÔºåÂ∞ÜÊØè‰∏ÄÁªÑÁöÑ‰∏â‰∏™ÂÄºÂä†Ëµ∑Êù•ÔºåÁªÑÊàê‰∏Ä‰∏™‰∏â‰ΩçÊï∞Âç≥ÂèØ„ÄÇÂÆû‰æãÂ¶Ç‰∏ãÔºö 1chmod -R 754 Êñá‰ª∂ÊàñÁõÆÂΩï Áî®Á¨¶Âè∑ËøõË°åÊùÉÈôêÁöÑ‰øÆÊîπÔºöÊàë‰ª¨ÈÄöËøáu(user)Ôºåg(group)Ôºåo(others)Ôºåa(all)Êù•Ë°®Á§∫Ë∫´‰ªΩÊùÉÈôêÔºåÈÄöËøárÔºàËØªÔºâ,wÔºàÂÜôÔºâ,xÔºàÊâßË°åÔºâÊù•Ë°®Á§∫ËØªÂÜôÁöÑÊùÉÈôêÔºåÈÄöËøá+ÔºàÂä†ÂÖ•ÔºâÔºå-ÔºàÈô§ÂéªÔºâÔºå=ÔºàËÆæÁΩÆÔºâÊù•Ë°®Á§∫‰øÆÊîπÊìç‰ΩúÔºåÂÆû‰æãÂ¶Ç‰∏ãÔºö 1chmod u/g/o/a +/-/= r/w/x Êñá‰ª∂/ÁõÆÂΩï ÁõÆÂΩï‰∏éÊñá‰ª∂ÁöÑÊùÉÈôêÊÑè‰πâ ÊùÉÈôêÂØπÊñá‰ª∂ÁöÑÈáçË¶ÅÊÄßÔºö rÔºöÂèØËØªÂèñÊ≠§Êñá‰ª∂ÁöÑÂÆûÈôÖÂÜÖÂÆπ„ÄÇ wÔºöÂèØ‰ª•ÁºñËæë„ÄÅÊñ∞Â¢ûÊàñËÄÖ‰øÆÊîπËØ•Êñá‰ª∂ÁöÑÂÜÖÂÆπÔºàÂçï‰∏çÂê´Âà†Èô§ËØ•Êñá‰ª∂Ôºâ xÔºöËØ•Êñá‰ª∂ÂÖ∑ÊúâÂèØ‰ª•Ë¢´Á≥ªÁªüÊâßË°åÁöÑÊùÉÈôê„ÄÇ ÊùÉÈôêÂØπÁõÆÂΩïÁöÑÈáçË¶ÅÊÄß rÔºöË°®Á§∫ÂÖ∑ÊúâËØªÂèñÁõÆÂΩïÁªìÊûÑÁöÑÊùÉÈôêÔºåÂç≥ÂèØ‰ª•ÊâßË°ålsÂëΩ‰ª§ wÔºöË°®Á§∫ÂÖ∑ÊúâÊõ¥ÊîπËØ•ÁõÆÂΩïÁªìÊûÑÂàóË°®ÁöÑÊùÉÈôêÔºåÊØîÂ¶ÇÊñ∞Âª∫Êñ∞ÁöÑÊñá‰ª∂‰∏éÁõÆÂΩï„ÄÅÂà†Èô§Â∑≤ÁªèÂ≠òÂú®ÁöÑÊñá‰ª∂‰∏éÁõÆÂΩï„ÄÅÂ∞ÜÂ∑≤Â≠òÂú®ÊàñÁõÆÂΩïËøõË°åÈáçÂëΩÂêç„ÄÅËΩ¨ÁßªËØ•ÁõÆÂΩïÂÜÖÁöÑÊñá‰ª∂ÂíåÁõÆÂΩï‰ΩçÁΩÆ xÔºöË°®Á§∫Áî®Êà∑ËÉΩÂê¶ËøõÂÖ•ËØ•ÁõÆÂΩïÔºåÂç≥ÂèØ‰ª•‰ΩøÁî®cdËøõÂÖ•ËØ•ÁõÆÂΩï Êñá‰ª∂ÁßçÁ±ª‰∏éÊâ©Â±ïÂêç Êñá‰ª∂ÁßçÁ±ª ÊôÆÈÄöÊñá‰ª∂ Á∫ØÊñáÊú¨Êñá‰ª∂ÔºàASCIIÔºâÔºåÂèØ‰ª•Áî®catÂëΩ‰ª§ËØªÂèñ ‰∫åËøõÂà∂Êñá‰ª∂ÔºàbinaryÔºâÔºåLinux‰∏≠ÁöÑÂèØÊâßË°åÊñá‰ª∂ Êï∞ÊçÆÊ†ºÂºèÊñá‰ª∂ÔºàdataÔºâÔºåÂ∞±ÊòØÁ®ãÂ∫èËøêË°åÊó∂‰ºöË¢´ËØªÂèñÁöÑÂÖ∑ÊúâÁâπÂÆöÊ†ºÂºèÁöÑÊñá‰ª∂ÔºåÂ¶ÇÈÖçÁΩÆÊñá‰ª∂ÔºåÈúÄË¶ÅÁî®lastÂëΩ‰ª§ÂéªËØªÂèñÔºåÁî®catËØªÂèñ‰ºö‰π±Á†Å ÁõÆÂΩï ËøûÊé•Êñá‰ª∂ÔºåÁ±ª‰ººWindows‰∏ãÁöÑÂø´Êç∑ÊñπÂºè ËÆæÂ§á‰∏éËÆæÂ§áÊñá‰ª∂ ÂùóËÆæÂ§áÊñá‰ª∂ÔºåÁî®‰∫éÂ≠òÂÇ®Êï∞ÊçÆÁöÑËÆæÂ§áÊñá‰ª∂ÔºåÂ¶ÇÔºöÁ°¨Áõò„ÄÅËΩØÁõò Â≠óÁ¨¶ËÆæÂ§áÊñá‰ª∂ÔºåÁî®‰∫éÊï∞ÊçÆ‰º†ËæìÁöÑËÆæÂ§áÊñá‰ª∂ÔºåÂ¶ÇÔºöÈîÆÁõò„ÄÅÈº†Ê†á Â•óÊé•Â≠óÔºåËøô‰∏™ËÆæÂ§áÊñá‰ª∂Âú®/var/run‰∏≠ ÁÆ°ÈÅìÔºåÁî®‰∫éËß£ÂÜ≥Â§ö‰∏™Á®ãÂ∫èÂêåÊó∂ËÆøÈóÆ‰∏Ä‰∏™Êñá‰ª∂ÊâÄÈÄ†ÊàêÁöÑÈîôËØØÈóÆÈ¢ò Êñá‰ª∂Êâ©Â±ïÂêç LinuxÂπ∂Ê≤°ÊúâÊâ©Â±ïÂêçÔºå‰∏Ä‰∏™LinuxÁöÑÊñá‰ª∂ÊòØÂê¶ÂèØ‰ª•ÊâßË°åÔºåÂèñÂÜ≥‰∫éËøô‰∏™Êñá‰ª∂ÁöÑÂ±ûÊÄß‰∏≠ÊòØÂê¶ÊúâxËøô‰∏™ÊùÉÈôêÔºà‰πüË¶ÅÁúüÁöÑÂèØ‰ª•ÊâßË°åÔºâ„ÄÇ ‰ΩÜÊòØ‰∏∫‰∫ÜÂ¢ûÂº∫Êñá‰ª∂ÁöÑÂèØËØªÊÄßÔºåÊàë‰ª¨ËøòÊòØÁªôÊñá‰ª∂Â¢ûÂä†‰∫Ü‚ÄúÊâ©Â±ïÂêç‚Äú„ÄÇÂ¶Ç‰∏ãÈù¢Âá†ÁßçÔºàÁ≠âÔºâÔºö Ôºä.shË°®Á§∫ËÑöÊú¨ÊàñÊâπÂ§ÑÁêÜÊñá‰ª∂ ÔºäZ„ÄÅÔºä.tar„ÄÅÔºä.tar.gz„ÄÅÔºä.zip„ÄÅÔºä.tgz‰ªñ‰ª¨ÈÉΩÊòØÂéãÁº©Êñá‰ª∂ Ê≥®ÊÑèÔºö‰ªéÁΩë‰∏ä‰∏ãËΩΩÁöÑÊñá‰ª∂ÁöÑÊùÉÈôêÊòØÊúâÂèØËÉΩÂèëÁîüÊîπÂèòÁöÑÔºåÊâÄ‰ª•ÂΩìÊàë‰ª¨‰∏ãËΩΩÁöÑÊñá‰ª∂Êó†Ê≥ïËøêË°åÊó∂Êü•Áúã‰∏Ä‰∏ãÂÆÉÁöÑÊùÉÈôêÊòØÂê¶Êúâx„ÄÇ LinuxÂØπÊñá‰ª∂ÁöÑÈôêÂà∂ÔºöLinxuÈªòËÆ§ÈááÁî®Ext2/Ext3Êñá‰ª∂Á≥ªÁªüÔºåÂØπÊñá‰ª∂ÂêçÁöÑÈïøÂ∫¶ÈôêÂà∂‰∏∫ÔºåÂçï‰∏™Êñá‰ª∂ÂêçÊàñÁõÆÂΩïÂêçÊúÄÂ§ßÈïøÂ∫¶255‰∏™Â≠óÁ¨¶ÔºõÂÆåÊï¥ÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÂêçÊúÄÂ§ßÈïøÂ∫¶‰∏∫4096‰∏™Â≠óÁ¨¶„ÄÇ LinuxÁõÆÂΩïÈÖçÁΩÆLinuxÁõÆÂΩïÈÖçÁΩÆÊ†áÂáÜFHS‰∏ÄÂè•Êñá‰ª∂Á≥ªÁªü‰ΩøÁî®ÁöÑÈ¢ëÁπÅ‰∏éÂê¶‰∏éÊòØÂê¶ÂÖÅËÆ∏Áî®Êà∑ÈöèÊÑèÊîπÂä®ÔºåËÄåÂ∞ÜÁõÆÂΩïÂÆö‰πâ‰∏∫Âõõ‰∏≠‰∫§‰∫íÁöÑÂΩ¢ÊÄÅÔºåÂ¶Ç‰∏ãÔºö / ÂèØÂàÜ‰∫´ÁöÑ(shareable) ‰∏çÂèØÂàÜ‰∫´ÁöÑ(unshareable) ‰∏çÂèòÁöÑ(static) /usr (ËΩØ‰ª∂ÊîæÁΩÆÂ§Ñ) /etc (ÈÖçÁΩÆÊñá‰ª∂) ‰∏çÂèòÁöÑ(static) /opt (Á¨¨‰∏âÊñπËΩØ‰ª∂) /boot(ÂºÄÊú∫‰∏éÂÜÖÊ†∏Êñá‰ª∂) ÂèØÂèòÂä®ÁöÑ(variable) /var/mail (Áî®Êà∑ÈÇÆÁÆ±‰ø°‰ª∂) /var/run (Á®ãÂ∫èÁõ∏ÂÖ≥) ÂèØÂèòÂä®ÁöÑ(variable) /var/spool/news (Êñ∞ÈóªÁªÑ) /var/lock (Á®ãÂ∫èÁõ∏ÂÖ≥) Ëß£Èáä‰∏Ä‰∏ãÂõõ‰∏™Á±ªÂûãÁöÑÊÑèÊÄùÔºö ÂèØÂàÜ‰∫´ÁöÑÔºöÂèØ‰ª•ÂàÜ‰∫´ÁªôÁΩëÁªú‰∏äÁöÑÂÖ∂‰ªñ‰∏ªÊú∫ÊåÇËΩΩ‰ΩøÁî® ‰∏çÂèØÂàÜ‰∫´ÁöÑÔºöÂè™‰∏éËá™Â∑±ÁöÑÊú∫Âô®ÊúâÂÖ≥ÔºåÊâÄ‰ª•Ëá™ÁÑ∂Â∞±‰∏çËÉΩÂàÜ‰∫´ÁªôÂÖ∂‰ªñ‰∏ªÊú∫ ‰∏çÂèòÁöÑÔºö‰∏çÁÆ°‰ªÄ‰πàÊ†∑ÁöÑdistributionsÔºåËøô‰∫õÊï∞ÊçÆÂü∫Êú¨‰∏çÂèëÁîüÂèòÂåñ„ÄÇ‰∏ÄËà¨Ëøô‰∫õÁõÆÂΩï‰∏≠Â≠òÊîæÂáΩÊï∞Â∫ì„ÄÅÁ≥ªÁªüÈÖçÁΩÆÊñá‰ª∂Á≠â ÂèØÂèòÁöÑÔºöÁªèÂ∏∏ÊîπÂèòÁöÑÊï∞ÊçÆÔºåÂ¶ÇÁôªÂΩïÊñá‰ª∂„ÄÅÊñ∞ÈóªÁªÑÁ≠â Ê†πÁõÆÂΩïÊòØÊï¥‰∏™Á≥ªÁªüÊúÄÈáçË¶ÅÁöÑÁõÆÂΩïÔºåÂÖ∂‰ªñÊâÄÊúâÁöÑÂ≠êÁõÆÂΩïÈÉΩÊòØÁî±Ê†πÁõÆÂΩïË°çÁîüËÄåÊù•ÁöÑÔºåÂêåÊó∂Ê†πÁõÆÂΩï‰πü‰∏éÂºÄÊú∫„ÄÅËøòÂéü„ÄÅÁ≥ªÁªü‰øÆÂ§çÁ≠âÊìç‰ΩúÊúâÂÖ≥„ÄÇ FHSÂª∫ËÆÆÔºöÊ†πÁõÆÂΩïË¶ÅË∂≥Â§üÁöÑÂ∞èÔºåËÄå‰∏îÂ∫îÁî®Á®ãÂ∫è‰∏çË¶ÅÂíåÊ†πÁõÆÂΩïÊîæÂú®Âêå‰∏Ä‰∏™ÂàÜÂå∫‰∏≠„ÄÇÂêåÊó∂ÔºåFHSÂª∫ËÆÆÊ†πÁõÆÂΩï‰∏ãÂ∫îËØ•Ë¶ÅÊúâËøô‰∫õÁõÆÂΩïÔºö ÁõÆÂΩï Â∫îÊîæÁΩÆÊñá‰ª∂ÂÜÖÂÆπ /bin Âú®binÁõÆÂΩï‰∏ãÁöÑÂëΩ‰ª§ÂèØ‰ª•Ë¢´ÊâÄÊúâË¥¶Âè∑‰ΩøÁî®Ôºå‰∏ÄËà¨ÁöÑÂëΩ‰ª§ÊòØÔºöcat„ÄÅchmod„ÄÅchown„ÄÅdate„ÄÅmv„ÄÅmkdir„ÄÅcp„ÄÅbash /boot ‰∏ªË¶ÅÊîæÁΩÆÂºÄÊú∫‰ºö‰ΩøÁî®Âà∞ÁöÑÊñá‰ª∂ /dev ‰ªª‰ΩïËÆæÂ§áÈÉΩÊòØ‰ª•Êñá‰ª∂ÁöÑÂΩ¢ÂºèÂ≠òÊîæÂú®Ëøô‰∏™ÁõÆÂΩïÂΩì‰∏≠ /etc Áªü‰∏ªË¶ÅÁöÑÈÖçÁΩÆÊñá‰ª∂ÈÉΩÊîæÂú®Ëøô‰∏™ÁõÆÂΩï‰∏≠„ÄÇËøô‰∏™ÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂Â±ûÊÄßÊòØÂèØ‰ª•Áªô‰∏ÄËà¨Áî®Êà∑Êü•ÈòÖÁöÑÔºå‰ΩÜÂè™ÊúârootÊâçÂèØ‰ª•‰øÆÊîπÔºåFHSÂª∫ËÆÆÔºöËøô‰∏™ÁõÆÂΩï‰∏ã‰∏çË¶ÅÊîæÁΩÆÂèØÊâßË°åÊñá‰ª∂ /home Á≥ªÁªüÈªòËÆ§ÁöÑÁî®Êà∑‰∏ªÊñá‰ª∂Â§π,ÔΩûË°®Á§∫ÂΩìÂâçÁôªÈôÜÁî®Êà∑ÁöÑ‰∏ªÊñá‰ª∂Â§π ÔºåÔΩûrexË°®Á§∫ÊåáÂÆöÁî®Êà∑ÁöÑ‰∏ªÊñá‰ª∂Â§π /lib Â≠òÊîæÂºÄÊú∫Êó∂Áî®Âà∞ÁöÑÂ∫ìÂáΩÊï∞Âèä/bin„ÄÅ/sbinÁõÆÂΩï‰∏ãÁöÑÂëΩ‰ª§‰ºö‰ΩøÁî®Âà∞ÁöÑÂ∫ìÂáΩÊï∞ /media ÊîæÁΩÆÂèØÂà†Èô§ÁöÑËÆæÂ§áÊñá‰ª∂„ÄÇÂ¶ÇÔºöËΩØÁõò„ÄÅÂÖâÁõò /mnt Â¶ÇÊûúË¶Å‰∏¥Êó∂ÊåÇËΩΩ‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑËÆæÂ§áÂ∞±ÊîæÂú®Ëøô‰∏™Êñá‰ª∂Â§π‰∏ã /opt ÊîæÁΩÆÁ¨¨‰∏âÊñπËΩØ‰ª∂ÁöÑÁõÆÂΩï /root Á≥ªÁªüÁÆ°ÁêÜÂëòÁöÑ‰∏ªÊñá‰ª∂Â§π /sbin ÊîæÁΩÆÂºÄÊú∫ËøáÁ®ã‰∏≠ÈúÄË¶ÅÁöÑÔºåÂåÖÊã¨ÂºÄÊú∫„ÄÅ‰øÆÂ§ç„ÄÅËøòÂéüÁ≥ªÁªüÊâÄÈúÄË¶ÅÁöÑÂëΩ‰ª§ /srv ÊòØserviceÁöÑÁº©ÂÜôÔºåÂ≠òÊîæÁΩëÁªúÊúçÂä°ÊâÄÈúÄÁöÑ‰∏Ä‰∫õÊï∞ÊçÆ /tmp ‰∏ÄËà¨Áî®Êà∑ÊâßË°åÁ®ãÂ∫èÊöÇÊó∂Â≠òÊîæÊï∞ÊçÆÁöÑÂú∞Êñπ„ÄÇ‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ËÆøÈóÆÔºåÊâÄ‰ª•Ë¶ÅÂÆöÊó∂Ê∏ÖÁêÜ‰∏Ä‰∏ã„ÄÇFHSÂª∫ËÆÆdistributionsÂºÄÊú∫Êó∂Ë¶ÅÂ∞ÜËøô‰∏™ÁõÆÂΩïÊ∏ÖÁ©∫ ÂÖ∂‰ªñÈáçË¶ÅÁöÑÁõÆÂΩïÔºö ÁõÆÂΩï Â∫îÊîæÁΩÆÊñá‰ª∂ÂÜÖÂÆπ /lost+found ‰ΩøÁî®ext2/ext3Êñá‰ª∂Á≥ªÁªüÊâç‰ºö‰∫ßÁîüÁöÑ‰∏Ä‰∏™ÁõÆÂΩï„ÄÇÂΩìÊñá‰ª∂Á≥ªÁªüÂèëÁîüÈîôËØØÊó∂Ôºå‰∏Ä‰∫õ‰∏¢Â§±ÁöÑÁâáÊÆµÂ∞±‰ºöÊîæÂú®Ëøô‰∏™ÁõÆÂΩï‰∏≠ /proc ÊòØ‰∏Ä‰∏™ËôöÊãüÊñá‰ª∂Á≥ªÁªüÔºå‰πüÂ∞±ÊòØÂÆÉÁöÑÊï∞ÊçÆÈÉΩÊòØÂ≠òÊîæÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºå‰∏çÂç†Áî®Á°¨ÁõòÁ©∫Èó¥ /sys ‰πüÊòØ‰∏Ä‰∏™ËôöÊãüÊñá‰ª∂Á≥ªÁªüÔºåËÆ∞ÂΩïÂÜÖÊ†∏Áõ∏ÂÖ≥‰ø°ÊÅØ ÂºÄÊú∫ÁöÑÊó∂ÂÄôÂè™ÊúâÊ†πÁõÆÂΩïË¢´ÊåÇËΩΩ‰∫ÜÔºåÂÖ∂‰ªñÁöÑÁõÆÂΩïÊâÄÂú®ÁöÑÂàÜÂå∫ÈÉΩÊòØÂú®Á≥ªÁªüÂêØÂä®ÂÆåÊàê‰πãÂêéÊâçË¢´ÊåÇËΩΩÁöÑ„ÄÇÂõ†Ê≠§‰∏éÂºÄÊú∫ËøáÁ®ãÊúâÂÖ≥ÁöÑÁõÆÂΩïÂ∞±ÂøÖÈ°ªË¶ÅÂíåÊ†πÁõÆÂΩïÊîæÂú®Âêå‰∏Ä‰∏™ÂàÜÂå∫‰∏≠„ÄÇÂøÖÈ°ª‰∏éÊ†πÁõÆÂΩïÊîæÂú®Âêå‰∏Ä‰∏™ÂàÜÂå∫‰∏≠ÁöÑÁõÆÂΩïÊúâ‰∏ãÈù¢Ëøô‰∫õÁõÆÂΩïÔºö /etcÔºöÈÖçÁΩÆÊñá‰ª∂ /binÔºöÈáçË¶ÅÁöÑÊâßË°åÊñá‰ª∂ /devÔºöÊâÄÈúÄË¶ÅÁöÑËÆæÂ§áÊñá‰ª∂ /libÔºöÊâßË°åÊñá‰ª∂ÊâÄÈúÄË¶ÅÁöÑÂ∫ìÂáΩÊï∞‰∏éÂÜÖÊ†∏ÊâÄÈúÄË¶ÅÁöÑÊ®°Âùó /sbinÔºöÈáçË¶ÅÁöÑÁ≥ªÁªüÊâßË°åÊñá‰ª∂ /usrÁõÆÂΩïÔºöÔºùUNIX Software ResourceÔºåÊòØÊìç‰ΩúÁ≥ªÁªüÂÖ≥ÈîÆËµÑÊ∫êÊîæÁΩÆÁöÑÁõÆÂΩï„ÄÇFHSÂª∫ËÆÆÔºöÊâÄÊúâËΩØ‰ª∂ÂºÄÂèëËÄÖÈÉΩÂ∫îÂ∞ÜÊï∞ÊçÆÊîæÁΩÆÂú®Ëøô‰∏™ÁõÆÂΩïÁöÑÂ≠êÁõÆÂΩï‰∏ãÔºåËÄå‰∏çË¶ÅËá™Ë°åÂàõÂª∫Áã¨Á´ãÁöÑÁõÆÂΩï„ÄÇËøô‰∏™ÁõÆÂΩïÂ∞±Áõ∏ÂΩì‰∫éWindows‰∏ãÁöÑc:\program files /varÁõÆÂΩïÔºö/usrÊîæÁΩÆÂÆâË£ÖÁ®ãÂ∫èÊó∂ÊâÄÈúÄË¶ÅÁöÑËæÉÂ§ßÂÆπÈáèÁöÑÊñá‰ª∂ÔºåËÄå/var‰∏ãÂ≠òÊîæÁ≥ªÁªüËøêË°åÂêéÊâç‰ºöÊ∏êÊ∏êÂç†Áî®Á°¨ÁõòÁöÑÁõÆÂΩï„ÄÇÂ¶ÇÔºöÁºìÂ≠ò„ÄÅÊó•Âøó„ÄÅMysqlÊï∞ÊçÆÂ∫ìÁöÑÊñá‰ª∂Á≠â„ÄÇ ÁõÆÂΩïÊ†ëÂú®LinuxÈáåÈù¢ÔºåÊâÄÊúâÁöÑÊñá‰ª∂‰∏éÁõÆÂΩïÈÉΩÊòØÁî±Ê†πÁõÆÂΩïÂºÄÂßãÁöÑÔºåÈÇ£ÊòØÊâÄÊúâÁõÆÂΩï‰∏éÊñá‰ª∂ÁöÑÊ∫êÂ§¥ÔºåÁÑ∂ÂêéÂú®‰∏Ä‰∏™‰∏Ä‰∏™ÂàÜÊîØ‰∏ãÊù•ÔºåÊàë‰ª¨Áß∞ËøôÁßçÁõÆÂΩïÈÖçÁΩÆ‰∏∫ÁõÆÂΩïÊ†ë„ÄÇ ÁõÆÂΩïÊ†ë‰∏ªË¶ÅÊúâ‰ª•‰∏ãÁâπÂæÅÔºö ÁõÆÂΩïÊ†ëÁöÑËµ∑ÂßãÁÇπ‰∏∫Ê†πÁõÆÂΩïÔºà/ÔºårootÔºâ ÊØè‰∏™ÁõÆÂΩï‰∏çÂè™ËÉΩ‰ΩøÁî®Êú¨Âú∞Á´ØÁöÑÊñá‰ª∂Á≥ªÁªüÔºå‰πüÂèØ‰ª•‰ΩøÁî®ÁΩëÁªú‰∏äÁöÑÊñá‰ª∂Á≥ªÁªüÔºå‰æãÂ¶ÇÂèØ‰ª•Âà©Áî®NFSÊúçÂä°Âô®ÊåÇËΩΩÊüêÁâπÂÆöÁõÆÂΩïÁ≠â Á±≥Ê†ºÊñá‰ª∂Âú®Ê≠§ÁõÆÂΩïÊ†ëÁöÑÊñá‰ª∂ÂêçÔºàÂåÖÂê´ÂÆåÊï¥Ë∑ØÂæÑÔºâÈÉΩÊòØÁã¨‰∏ÄÊó†‰∫åÁöÑ„ÄÇ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_LinuxÂëΩ‰ª§‰ΩøÁî®‰∏éÊü•ËØ¢]]></title>
    <url>%2F2018%2F03%2F21%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_Linux%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E4%B8%8E%E6%9F%A5%E8%AF%A2%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰ªéÊµÖÂÖ•Ê∑±ÔºåÊàë‰ª¨‰πü‰ªéÂü∫Á°ÄÂëΩ‰ª§ÂºÄÂßã„ÄÇÂ≠¶‰ºöÂü∫Êú¨ÂëΩ‰ª§ÁöÑ‰ΩøÁî®ÔºåÂ≠¶‰ºöÊÄé‰πàÂéªÊü•ÂëΩ‰ª§ÁöÑ‰ΩøÁî®ÔºåÊúÄÂêéÂ≠¶‰ºö‰∏Ä‰∏¢‰∏¢Áª¥Êä§ÔºàÂºÄÂÖ≥Êú∫Ôºâ„ÄÇ Âü∫Á°ÄÂëΩ‰ª§ÂºÄÂßãÊâßË°åÂëΩ‰ª§È¶ñÂÖàÊàë‰ª¨Ë¶Å‰∫ÜËß£ÂëΩ‰ª§ÁöÑÊ†ºÂºèÔºö command(ÂëΩ‰ª§ÊàñÂèØÊâßË°åÊñá‰ª∂) -options parameter1(ÂèÇÊï∞1) parameter2(ÂèÇÊï∞2) Â¶ÇÊûúÂëΩ‰ª§Â§™ÈïøÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂèçÊñúÊù†(\)Êù•ËΩ¨‰πâ[enterÁ¨¶Âè∑]ÔºåÊ≥®ÊÑèÂèçÊñúÊù†ÂøÖÈ°ªÁ´ãÂàªÊé•ÁâπÊÆäÂ≠óÁ¨¶ÔºåÊâçËÉΩËΩ¨‰πâ„ÄÇ Âú®linux‰∏ãÈù¢ÊòØÂå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑ„ÄÇ Âü∫Á°ÄÂëΩ‰ª§ÁöÑÊìç‰Ωú ÊòæÁ§∫Êó•Êúü‰∏éÊó∂Èó¥ÁöÑÂëΩ‰ª§Ôºödate ÊòæÁ§∫Êó•ÂéÜÁöÑÂëΩ‰ª§Ôºöcal ÁÆÄÂçïÂ•ΩÁî®ÁöÑËÆ°ÁÆóÂô®ÔºöbcÔºå‰ΩøÁî®quitÂÅúÊ≠¢ ÈáçË¶ÅÁöÑÁÉ≠ÈîÆ TabÊåâÈîÆÔºöÂÖ∑ÊúâÂëΩ‰ª§Ë°•ÂÖ®ÔºåÊñá‰ª∂Ë°•ÈΩêÁöÑÂäüËÉΩ ctrl + cÔºöÂèØ‰ª•ËÆ©Á®ãÂ∫èÁ´ãÂàªÂÅú‰∏ãÊù• ctrl + dÔºöÈÄöÂ∏∏‰ª£Á†ÅÈîÆÁõòËæìÂÖ•ÁªìÊùüÔºåÁõ∏ÂΩì‰∫éexit Âú®Á∫øÊ±ÇÂä©man page ‰∏éinfo pageman pagemanÂÖ∂ÂÆûÊòØmanualÔºàÊìç‰ΩúËØ¥ÊòéÔºâÁöÑÁÆÄÂÜôÔºåÂè™Ë¶ÅÈÄöËøáÔºàman + ÂëΩ‰ª§Ôºâ Â∞±‰ºöÊúâËØ¶ÁªÜÁöÑËØ¥ÊòéÂá∫Áé∞„ÄÇ Â¶Ç man dateÂèØ‰ª•ÂæóÂà∞‰∏ãÈù¢ÁöÑÊñáÊú¨Ôºö123456789101112131415161718192021222324252627282930313233DATE(1) User Commands DATE(1)NAME date - print or set the system date and timeSYNOPSIS date [OPTION]... [+FORMAT] date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]DESCRIPTION Display the current time in the given FORMAT, or set the system date. Mandatory arguments to long options are mandatory for short options too. -d, --date=STRING display time described by STRING, not &apos;now&apos; ...ÁúÅÁï•ÂÖ∂‰ªñÂèÇÊï∞ENVIRONMENTEXAMPLESDATE STRINGAUTHOR Written by David MacKenzie.COPYRIGHTSEE ALSOGNU coreutils 8.22 November 2016 DATE(1) Êàë‰ª¨È¶ñÂÖàÁúãÂà∞ÁöÑÊòØ‚ÄúDATE(1)‚ÄùÔºåËøô‰∏™(1)ÊòØÊúâÁâπÊÆäÂê´‰πâÁöÑÔºåÂ¶Ç‰∏ãË°®Ôºö ‰ª£Âè∑ ‰ª£Ë°®ÂÜÖÂÆπ 1 Áî®Êà∑Âú®shellÁéØÂ¢É‰∏≠ÂèØ‰ª•Êìç‰ΩúÁöÑÂëΩ‰ª§ÊàñÂèØÊâßË°åÁöÑÊñá‰ª∂ 2 Á≥ªÁªüÂÜÖÊ†∏ÂèØË∞ÉÁî®ÁöÑÂáΩÊï∞‰∏éÂ∑•ÂÖ∑Á≠â 3 ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÂáΩÊï∞‰∏éÂáΩÊï∞Â∫ìÔºåÂ§ßÈÉ®ÂàÜ‰∏∫CÁöÑÂáΩÊï∞Â∫ì 4 ËÆæÂ§áÊñá‰ª∂ÁöÑËØ¥ÊòéÔºåÈÄöÂ∏∏Âú®/devÁöÑÊñá‰ª∂ 5 ÈÖçÁΩÆÊñá‰ª∂ÊàñËÄÖÊüê‰∫õÊñá‰ª∂ÁöÑÊ†ºÂºè 6 Ê∏∏Êàè 7 ÊÉØ‰æã‰∏éÂçèËÆÆÁ≠âÔºå‰æãÂ¶ÇLinuxÊñá‰ª∂Á≥ªÁªüÔºåÁΩëÁªúÂçèËÆÆ„ÄÅASCII codeÁ≠âËØ¥Êòé 8 Á≥ªÁªüÁÆ°ÁêÜÂëò‰∏éÂèØÁî®ÁöÑÁÆ°ÁêÜÂëΩ‰ª§ 9 Ë∑ükernelÊúâÂÖ≥ÁöÑÊñá‰ª∂ Êàë‰ª¨Ë¶ÅÁâπÂà´Ê≥®ÊÑè1Ôºå5Ôºå8Ëøô‰∏â‰∏™Âè∑Á†ÅÔºåÂ∞ΩÈáèËÉå‰∏ãÊù•„ÄÇ Âú®‰∏äÈù¢ÁöÑman page‰∏≠Ôºå‰ª•NAME‰Ωú‰∏∫ÂºÄÂßã‰ªãÁªçÔºåÊúÄÂêéËøòÊúâ‰∏™SEE ALSOÊù•‰Ωú‰∏∫ÁªìÊùü„ÄÇÂü∫Êú¨‰∏äÔºåman pageÂ§ßËá¥ÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™ÈÉ®ÂàÜÔºö ‰ª£Âè∑ ÂÜÖÂÆπËØ¥Êòé NAME ÁÆÄÁü≠ÁöÑÂëΩ‰ª§„ÄÅÊï∞ÊçÆÂêçÁß∞ËØ¥Êòé SYNOPSIS ÁÆÄÁü≠ÁöÑÂëΩ‰ª§ÊâßË°åËØ≠Ê≥ïÔºàsyntaxÔºâÁÆÄ‰ªã DESCRIPTION ËæÉ‰∏∫ÂÆåÊï¥ÁöÑËØ¥ÊòéÔºåÊúÄÂ•Ω‰ªîÁªÜÁúãÁúã OPTIONS ÈíàÂØπSYNNPSISÈÉ®ÂàÜ‰∏≠ÔºåÊúâÂàó‰∏æÁöÑÊâÄÊúâÂèØÁî®ÁöÑÈÄâÈ°πËØ¥Êòé COMMANDS Âú®Ëøô‰∏™Á®ãÂ∫èÂú®ÊâßË°åÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•Âú®Ê≠§Á®ãÂ∫è‰∏≠ÊâßË°åÁöÑÂëΩ‰ª§ FILES Ëøô‰∏™Á®ãÂ∫èÊàñÊï∞ÊçÆÊâÄ‰ΩøÁî®ÊàñÂèÇËÄÉÊàñËøûÊé•Âà∞ÁöÑÊüê‰∫õÊñá‰ª∂ SEE ALSO Ëøô‰∏™ÂëΩ‰ª§ÊàñÊï∞ÊçÆÊúâÁõ∏ÂÖ≥ÁöÑÂÖ∂‰ªñËØ¥Êòé EXAMPLES ‰∏Ä‰∫õÂèØ‰ª•ÂèÇËÄÉÁöÑËåÉ‰æã BUGS ÊòØÂê¶ÊúâÁõ∏ÂÖ≥ÁöÑÈîôËØØ ÈÄöÂ∏∏Âú®Êü•ËØ¢Êüê‰∫õÊï∞ÊçÆÊòØËøôÊ†∑Êù•Êü•ÈòÖÁöÑÔºö ÂÖàÁúãNAMEÁöÑÈ°πÁõÆÔºåÁï•ÂæÆÁúã‰∏Ä‰∏ãÊï∞ÊçÆÁöÑÊÑèÊÄù ÂÜç‰ªîÁªÜÁúã‰∏Ä‰∏ãDESCRIPTIONÔºåËøô‰∏™ÈÉ®ÂàÜ‰ºöÊèêÂà∞ÂæàÂ§öÁõ∏ÂÖ≥ÁöÑËµÑÊñôÂíåÁî®Ê≥ï„ÄÇ Â¶ÇÊûúËøô‰∏™ÂëΩ‰ª§ÂÖ∂ÂÆûÂæàÁÜüÊÇâ‰∫ÜÔºåÈÇ£‰πà‰∏ªË¶ÅÂ∞±ÊòØÊü•ËØ¢OPTIONSÁöÑÈÉ®ÂàÜ‰∫Ü„ÄÇ ÊúÄÂêé‰ºöÁúã‰∏Ä‰∏ãÂíåËøô‰∏™ËµÑÊñôÊúâÂÖ≥ÁöÑËøòÊúâÂì™‰∫õ‰∏úË•øÂèØ‰ª•‰ΩøÁî®„ÄÇ Êüê‰∫õËØ¥ÊòéÂÜÖÂÆπËøò‰ºöÂàó‰∏æÊúâÂÖ≥ÁöÑÊñá‰ª∂ÔºàFILESÔºâÊù•Êèê‰æõÊàë‰ª¨ÂèÇËÄÉ„ÄÇ man page Â∏∏Áî®ÁöÑÊåâÈîÆÔºö ÊåâÈîÆ ËøõË°åÂ∑•‰Ωú Á©∫Ê†ºÈîÆ Âêë‰∏ãÁøª‰∏ÄÈ°µ Page Down Âêë‰∏ãÁøª‰∏ÄÈ°µ Page Up Âêë‰∏äÁøª‰∏ÄÈ°µ Home ÂéªÂà∞Á¨¨‰∏ÄÈ°µ End Âú®ÂéªÂà∞ÊúÄÂêé‰∏ÄÈ°µ /string Âêë‰∏ãÊü•ËØ¢stringÂ≠óÁ¨¶‰∏≤ ?string Âêë‰∏äÊü•ËØ¢stringÂ≠óÁ¨¶‰∏≤ n,N Âà©Áî®/ÊàñÔºüÊù•Êü•ËØ¢Â≠óÁ¨¶‰∏≤Êó∂ÔºåÂèØ‰ª•Áî®nÊù•ÁªßÁª≠Êü•ËØ¢‰∏ã‰∏Ä‰∏™Êü•ËØ¢ÔºåÂèØ‰ª•Âà©Áî®NÊù•ËøõË°åÂèçÂêëÊü•ËØ¢ q ÁªìÊùüËøôÊ¨°man page ‰∏ãÈù¢ËøòÊúâ‰∏§‰∏™manÁöÑÁî®ÈÄîÔºö man -f command Ôºà= whatisÔºâÔºöÊü•ËØ¢ÂíåcommandËøô‰∏™ÂëΩ‰ª§ÊúâÂÖ≥ÁöÑËØ¥ÊòéÊñá‰ª∂ man -k dataÔºà= aproposÔºâÔºöÊü•ËØ¢ÂåÖÂê´dataËøô‰∏™Êï∞ÊçÆÊúâÂÖ≥ÁöÑÊñá‰ª∂ info pageinfo‰∏émanÁöÑÁî®ÈÄîÂ∑Æ‰∏çÂ§öÔºåÈÉΩÊòØÁî®Êù•Êü•ËØ¢ÂëΩ‰ª§ÁöÑÁî®Ê≥ïÊàñËÄÖÊñá‰ª∂ÁöÑÊ†ºÂºèÔºå‰ΩÜÊòØ‰∏éman page‰∏Ä‰∏ãÂ≠êËæìÂá∫‰∏ÄÂ†Ü‰ø°ÊÅØ‰∏çÂêåÁöÑÊòØÔºåinfo pageÂàôÊòØÂ∞ÜÊñá‰ª∂Êï∞ÊçÆÊãÜÊàê‰∏Ä‰∏™‰∏Ä‰∏™ÊÆµËêΩÔºåÊØè‰∏™ÊÆµËêΩÁî®Ëá™Â∑±ÁöÑÈ°µÈù¢Êù•Êí∞ÂÜôÔºåÂπ∂‰∏îÂú®ÂêÑ‰∏™È°µÈù¢‰∏≠ËøòÊúâÁ±ª‰ººÁΩëÈ°µÁöÑ‚ÄúË∂ÖÈìæÊé•‚ÄùÊù•Ë∞ÉÂà∞ÂêÑ‰∏™È°µÈù¢ÔºåÊØè‰∏™Áã¨Á´ãÁöÑÈ°µÈù¢‰πüË¢´Áß∞‰∏∫‰∏Ä‰∏™ËäÇÁÇπÔºànodeÔºâ„ÄÇ ËøôÈáåËøôÈáå‰∏çÂ§öËØ¥ÔºåÊúâÂÖ¥Ë∂£ËÄÖÂèØ‰ª•Ëá™Â∑±ÂéªÁúãÁúã‰ΩøÁî®„ÄÇ ÂÖ∂‰ªñÊúâÁî®ÁöÑÊñá‰ª∂‰∏ÄËà¨ËÄåË®ÄÔºåÂëΩ‰ª§ÊàñËÄÖËΩØ‰ª∂ÂºÄÂèëËÄÖÈÉΩ‰ºöÂ∞ÜËá™Â∑±ÁöÑÂëΩ‰ª§ÊàñËÄÖÊòØËΩØ‰ª∂ÁöÑËØ¥ÊòéÂà∂‰ΩúÊàê‚ÄúÂú®Á∫øÂ∏ÆÂä©Êñá‰ª∂‚ÄùÔºå‰ΩÜÊòØÊØïÁ´ü‰∏çÊòØ‰ªÄ‰πàÈÉΩÈúÄË¶ÅÂÅöÊàêÂú®Á∫øÂ∏ÆÂä©Êñá‰ª∂ÁöÑÔºåÂú®/usr/share/doc‰∏≠Êàë‰ª¨‰ºöÂèëÁé∞‰ºöÊúâÂæàÂ§öËØ¥ÊòéÊñá‰ª∂ÊñáÊ°£ÔºåËøô‰∫õ‰ºöÂëäËØâÊàë‰ª¨ÊÄé‰πàÂÅöÔºå‰ª•Âèä‰∏Ä‰∫õÁõ∏ÂÖ≥ÁöÑÂéüÁêÜ„ÄÇ ÂºÄÊú∫‰∏éÂÖ≥Êú∫ÂºÄÊú∫‰∏éÁôªÂΩï‰∏ÄËà¨ÊúçÂä°Âô®ÈÉΩ‰∏çÊÄé‰πàÈáçÂêØÔºåÊàë‰ª¨Âú®ÁôªÂΩïÊúçÂä°Âô®ÁöÑÊó∂ÂÄôÔºåÂü∫Êú¨‰∏äÈÉΩÊòØ‰ΩøÁî®sshÊù•ÁôªÂΩïÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ôºö ssh ip Âú®Ëøô‰∏™ÂëΩ‰ª§‰πãÂêé‰ºöË¶ÅÊ±Ç‰∏é‰Ω†ËæìÂÖ•ÂØÜÁ†ÅÂç≥ÂèØÊàêÂäü„ÄÇ ÂÖ≥Êú∫Âú®Linux‰∏≠ÔºåÁî±‰∫éÊØè‰∏™Á®ãÂ∫èÈÉΩÊòØÂú®ÂêéÂè∞ËøêË°åÁöÑÔºåÂõ†Ê≠§‰Ω†Áúã‰∏çÂà∞Â±èÂπïÂêéÈù¢ÂÖ∂ÂÆûÂèØËÉΩÊúâÂæàÂ§ö‰∫∫ÂêåÊó∂Âú®‰Ω†ÁöÑ‰∏ªÊú∫‰∏äÈù¢Â∑•‰ΩúÔºåÊâÄ‰ª•Êàë‰ª¨‰∏çËÉΩÈöèÊÑèÂÖ≥Êú∫„ÄÇÊâÄ‰ª•Âú®Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåË¶ÅÂÖ≥Êú∫Êó∂Ë¶ÅÊ≥®ÊÑè‰∏ãÈù¢Âá†‰ª∂‰∫ãÔºö Êü•ÁúãÁ≥ªÁªüÁöÑ‰ΩøÁî®Áä∂ÊÄÅ Â¶ÇÊûúË¶ÅÁúãÁõÆÂâçÊúâË∞ÅÂú®Á∫øÔºöÊâßË°å‚Äúwho‚ÄùËøô‰∏™ÂëΩ‰ª§ Â¶ÇÊûúË¶ÅÁúãÁΩëÁªúÁöÑËÅîÊú∫Áä∂ÊÄÅÔºöÊâßË°å‚Äúnetstat -a‚ÄùËøô‰∏™ÂëΩ‰ª§ Â¶ÇÊûúË¶ÅÁúãÂêéÂè∞ÊâßË°åÁöÑÁ®ãÂ∫èÔºöÊâßË°å‚Äúps -aux‚ÄùËøô‰∏™ÂëΩ‰ª§ ÈÄöÁü•Âú®Á∫øÁî®Êà∑ÂÖ≥Êú∫ÁöÑÊó∂Âàª Ê≠£Á°ÆÂú∞ÂÖ≥Êú∫ÂëΩ‰ª§‰ΩøÁî®Ôºöshutdown‰∏éreboot Â∞ÜÊï∞ÊçÆÂêåÊ≠•ÂÜôÂÖ•Á°¨ÁõòÁöÑÂëΩ‰ª§Ôºösync ÊÉØÁî®ÁöÑÂÖ≥Êú∫ÂëΩ‰ª§Ôºöshutdown ÈáçÂêØ„ÄÅÂÖ≥Êú∫Ôºöreboot,halt,poweroff ÊÄªÁªìËøô‰∏ÄÁ´†ÊúÄ‰∏∫Âü∫Á°ÄÔºåÁÅ∞Â∏∏ÈáçË¶ÅÔºåÂ∞±ÂÉèÂú∞Âü∫ÔºåÂè™ÊúâÊúâ‰∫ÜÂú∞Âü∫ÔºåÊàë‰ª¨ÊâçËÉΩÂ•ΩÂ•ΩÈÄ†‰∏ãÈù¢ÁöÑÊàøÂ≠ê„ÄÇ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_LinuxÁ£ÅÁõòÂàÜÂå∫]]></title>
    <url>%2F2018%2F03%2F21%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_Linux%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöLinuxÂú®ÊàëÂç∞Ë±°‰∏≠ÊúÄÂ§ßÁöÑÁâπÁÇπÂ∞±ÊòØÂÆÉÊääÊâÄÊúâÁöÑÁ°¨‰ª∂ÈÉΩÂΩìÂÅö‰∏Ä‰∏™Êñá‰ª∂ÔºåÁÑ∂ÂêéËøòÊòØ‰ª•/‰∏∫Ê†πËäÇÁÇπÁöÑÁõÆÂΩïÊ†ëÔºåÁÆÄÊ¥ÅÊòé‰∫ÜÔºåÁõ∏‰ø°Â§ßÂÆ∂‰∏ÄÂÆö‰ºöÁà±‰∏äÂÆÉÁöÑ„ÄÇÂõ†‰∏∫Ê∂âÂèäÂà∞Êñá‰ª∂ÁöÑÂ≠òÂÇ®ÔºåÊâÄ‰ª•Êàë‰ª¨Ë¶ÅÈáçËßÜÁ£ÅÁõòÂàÜÂå∫„ÄÇ Á°¨‰ª∂ËÆæÂ§áÂú®linux‰∏≠ÁöÑÊñá‰ª∂ÂêçLinux‰∏≠ÊØè‰∏Ä‰∏™ËÆæÂ§áÈÉΩË¢´ÂΩìÊàêÊñá‰ª∂ÔºåÊâÄÊúâÁöÑËÆæÂ§áÊñá‰ª∂ÈÉΩÂú®/devËøô‰∏™ÁõÆÂΩï‰∏ã„ÄÇ‰∏ãÈù¢ÂàóÂá∫Âá†‰∏™Â∏∏ËßÅËÆæÂ§á‰∏éÂÖ∂Âú®LinuxÂΩì‰∏≠ÁöÑÊñá‰ª∂ÂêçÔºåÂ¶Ç‰∏ãË°®Ôºö ËÆæÂ§á ËÆæÂ§áÂú®LinuxÂÜÖÁöÑÊñá‰ª∂Âêç IDEÁ°¨Áõò /dev/hd[a-d] SATA/USB/SCSIÁ°¨Áõò /dev/sd[a-p] UÁõò /dev/sd[a-p]Ôºà‰∏éSATAÁõ∏ÂêåÔºâ ËΩØÈ©± /dev/fd[0Ôºç1] ÊâìÂç∞Êú∫ 25ÈíàÔºö/dev/lp[0Ôºç2] usbÔºö/dev/usb/lp[0-15] Èº†Ê†á usb:/dev/usb/mouse[0Ôºç15] ps2:/dev/psaux ÂΩìÂâçCD/DVD ROM /dev/cdrom ÂΩìÂâçÈº†Ê†á /dev/mouse Á£ÅÂ∏¶Êú∫ IDE:/dev/ht0 SCSI:/dev/st0 Á°¨ÁõòÂàÜÂå∫Á£ÅÁõòÁöÑÊñá‰ª∂ÂëΩÂêçËßÑÂàôÁ£ÅÁõòÁöÑÊé•Âè£Êúâ‰∏§ÁßçÔºåÂàÜÂà´ÊòØIDEÊé•Âè£„ÄÅSATAÊé•Âè£„ÄÇÁõÆÂâç‰∏ªÊµÅÁöÑÊé•Âè£ÊòØSATAÊé•Âè£„ÄÇ‰ΩøÁî®IDEÊé•Âè£ÁöÑËÆæÂ§áÊàë‰ª¨Áß∞‰∏∫IDEËÆæÂ§á„ÄÇ IDEËÆæÂ§áÔºö‰∏Ä‰∏™IDEÊé•Âè£ÂèØ‰ª•ËøûÊé•‰∏§‰∏™IDEËÆæÂ§áÔºå‰∏ªÊú∫‰∏≠‰∏ÄËà¨Áî®‰∏§‰∏™IDEÊé•Âè£ÔºåÂõ†Ê≠§ÊúÄÂ§öÂèØ‰ª•ËøûÊé•Âõõ‰∏™IDEËÆæÂ§á„ÄÇËøô‰∏§‰∏™IDEÊé•Âè£ÈÄöÂ∏∏Ë¢´Áß∞‰∏∫IDE1„ÄÅIDE2ÔºåËÄåÊØè‰∏™IDEÊé•Âè£ËøûÊé•ÁöÑ‰∏§‰∏™IDEËÆæÂ§áÂèàË¢´ÂàÜ‰∏∫‰∏ªËÆæÂ§áÂíå‰ªéËÆæÂ§á„ÄÇËøôÂõõ‰∏™IDEËÆæÂ§áÁöÑÊñá‰ª∂ÂêçÂ¶Ç‰∏ãË°®Ôºö IDEÊé•Âè£ ‰∏ªËÆæÂ§á ‰ªéËÆæÂ§á IDE1 /dev/hda /dev/hdb IDE2 /dev/hdc /dev/hdd SATAËÆæÂ§áÔºö‰ª•SATA/USB/SCSI‰∏∫Êé•Âè£ÁöÑÁ£ÅÁõò‰ΩøÁî®ÁöÑÈÉΩÊòØSCSIÊ®°ÂùóÊù•È©±Âä®ÁöÑÔºåÂõ†Ê≠§‰ªñ‰ª¨ÁöÑËÆæÂ§áÊñá‰ª∂ÂêçÈÉΩÊòØ/dev/sd[a-p]„ÄÇ‰ΩÜÊòØ‰∏éIDEËÆæÂ§á‰∏çÂêåÁöÑÊòØÔºå‰ªñ‰ª¨ÁöÑÊñá‰ª∂ÂêçÊ≤°Êúâ‰∏ÄÂÆöÁöÑÈ°∫Â∫èÔºåË∞ÅÂÖàÊèí‰∏äÂéªÔºåË∞ÅÂ∞±ÊòØaÔºå‰ª•Ê≠§Á±ªÊé®„ÄÇ Á£ÅÁõòÁöÑÁªÑÊàêÊï¥‰∏™Á£ÅÁõòÁöÑÁ¨¨‰∏Ä‰∏™ÊâáÂå∫ÈùûÂ∏∏ÈáçË¶ÅÔºåÂõ†‰∏∫‰ªñËÆ∞ÂΩï‰∫Ü‰∏ãÈù¢ÁöÑÈáçË¶ÅÁöÑ‰ø°ÊÅØÔºö ‰∏ªÂºïÂØºÂàÜÂå∫Master Boot Record,MBRÔºöÂèØ‰ª•ÂÆâË£Ö‚ÄúÂºïÂØºÂä†ËΩΩÁ®ãÂ∫è‚ÄùÁöÑÂú∞Êñπ„ÄÇÊúâ446bytes„ÄÇ ÂàÜÂå∫Ë°®ÔºöËÆ∞ÂΩïÊï¥ÂùóÁ°¨ÁõòÁöÑÂàÜÂå∫Áä∂ÂÜµÔºåÊúâ64bytes„ÄÇ Á£ÅÁõòÂàÜÂå∫Ë°®ÂØπÁ£ÅÁõòËøõË°åÂàÜÂå∫Êó∂ÔºåÈááÁî®Êü±Èù¢‰Ωú‰∏∫Âü∫Êú¨Âçï‰Ωç„ÄÇÂàÜÂå∫Ë°®Êúâ64bytesÔºåË¢´ÂàÜÊàêÂõõ‰∏™Âå∫ÂüüÔºåÊØè‰∏™Âå∫ÂüüËÆ∞ÂΩïÂΩìÂâçÁ£ÅÁõòÁöÑÊâÄÊúâÂàÜÂå∫ÁöÑËµ∑ÂßãÂíåÁªìÊùüÊü±Èù¢Âè∑„ÄÇ‰æãÂ¶ÇÔºö‰∏ÄÂùóIDEÁ°¨ÁõòË¢´ÂàÜÊàêÂõõ‰∏™Âå∫ÂüüÔºö P1Ôºö/dev/hda1 ÔºåP2Ôºö/dev/hda2 ÔºåP3Ôºö/dev/hda3 ÔºåP4Ôºö/dev/hda4„ÄÇÊØè‰∏™Á£ÅÁõòÁöÑÂàÜÂå∫Ë°®Âè™ËÉΩË¢´ÂàÜÊàêÂõõ‰∏™Âå∫ÂüüÔºåËøôÂõõ‰∏™Âå∫ÂüüË¢´Áß∞‰∏∫‰∏ªÂàÜÂå∫ÊàñÊâ©Â±ïÂàÜÂå∫„ÄÇÂΩìÁ≥ªÁªüËøõË°åÊï∞ÊçÆÁöÑËØªÂÜôÊó∂Ôºå‰∏ÄÂÆöË¶ÅÂèÇËÄÉÂàÜÂå∫Ë°®ÊâçËÉΩËøõË°å„ÄÇ ÂàÜÂå∫ÁöÑÂéüÂõ†‰øùËØÅÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄßÔºàÂàÜÂå∫‰∏ç‰ºöÂΩ±ÂìçÔºâÔºõÊèêÂçáÁ≥ªÁªüÁöÑÊÄßËÉΩÔºàÂè™Âú®Ëá™Â∑±ÁöÑÂàÜÂå∫Êü•ÊâæÔºâ„ÄÇ Êâ©Â±ïÂàÜÂå∫‰∏ªÂàÜÂå∫ÂíåÊâ©Â±ïÂàÜÂå∫ÈÉΩÊòØÂàÜÂå∫Ë°®‰∏≠ÁöÑ‰∏ÄÊù°ËÆ∞ÂΩïÔºå‰∏ªÂàÜÂå∫‰∏≠Â≠òÊîæÈÄöËøáÁõ¥Êé•Á¥¢ÂºïÂ∞±ËÉΩÂà∞ËææÁöÑÂàÜÂå∫ÁöÑÂºÄÂßãÂíåÁªìÊùüÁöÑÊü±Èù¢Âè∑ÔºõËÄåÊâ©Â±ïÂàÜÂå∫‰∏≠Â≠òÊîæÁöÑÊòØÈÄªËæëÂàÜÂå∫Ë°®ÁöÑÂºÄÂßãÂíåÁªìÊùüÊü±Èù¢Âè∑ÔºåËøôÂº†ÈÄªËæëÂàÜÂå∫Ë°®‰∏≠ÊâçÂ≠òÊîæÂàÜÂå∫ÁöÑÂºÄÂßãÂíåÁªìÊùüÊü±Èù¢Âè∑„ÄÇ Áî±‰∫é‰∏ÄÂº†ÂàÜÂå∫Ë°®Âè™ËÉΩÂ≠òÊîæÂõõÊù°ËÆ∞ÂΩïÔºå‰πüÂ∞±ÊòØÂõõ‰∏™ÂàÜÂå∫ÔºåÂΩìÊàë‰ª¨ÊÉ≥Ë¶ÅÂ§ö‰∏Ä‰∫õÂàÜÂå∫ÁöÑÊó∂ÂÄôÂ∞±ÂøÖÈ°ªË¶ÅÈÄöËøáÊâ©Â±ïÂàÜÂå∫Êù•ÂÆûÁé∞„ÄÇ ÂàÜÂå∫Ë°®‰∏≠ÁöÑÂõõÊù°ËÆ∞ÂΩïÂØπÂ∫îÁöÑËÆæÂ§áÊñá‰ª∂ÂêçÊòØ‰∏ç‰ºöÂèòÁöÑ„ÄÇÂ¶Ç‰∏äÈù¢ÁöÑÂõõ‰∏™ÂêçÂ≠óÔºåÊâÄ‰ª•ÈÄªËæëÂàÜÂå∫ÁöÑÊñá‰ª∂Âêç‰∏ÄÂÆöÊòØ‰ªé5ÂºÄÂßãÁöÑ„ÄÇÂ¶ÇÔºö/dev/hda5„ÄÇ ÊèêÈÜí Êâ©Â±ïÂàÜÂå∫ÊúÄÂ§öÂè™ËÉΩÊúâ1‰∏™„ÄÇ Linux‰∏≠ÔºåIDEÁ°¨ÁõòÊúÄÂ§öÊúâ59‰∏™ÈÄªËæëÂàÜÂå∫Ôºå5Âè∑Ôºç63Âè∑ÔºõSATAÁ°¨ÁõòÊúÄÂ§öÊúâ11‰∏™ÈÄªËæëÂàÜÂå∫Ôºå5Âè∑Ôºç15Âè∑„ÄÇ Âú®Windows‰∏≠Ëã•D„ÄÅEÁõòÈÉΩÊòØÊâ©Â±ïÂàÜÂå∫‰∏≠ÁöÑÈÄªËæëÂàÜÂå∫ÔºåÈÇ£‰πà‰ªñ‰ª¨ÂèØ‰ª•Êï¥ÂêàÊàê‰∏Ä‰∏™ÂàÜÂå∫ÔºõËã•‰∏§‰∏™Áõò‰∏Ä‰∏™ÊòØÈÄªËæëÂàÜÂå∫Ôºå‰∏Ä‰∏™ÊòØ‰∏ªÂàÜÂå∫ÔºåÈÇ£‰ªñ‰ª¨ÊòØ‰∏çËÉΩÂêàÂπ∂ÁöÑ„ÄÇ ‰∏ÄÂùóÁ°¨ÁõòÁöÑÁ¨¨‰∏Ä‰∏™ÊâáÂå∫ËÆ∞ÂΩï‰∫ÜMBRÂíåÂàÜÂå∫Ë°®ÔºåÈùûÂ∏∏ÁöÑÈáçË¶ÅÔºåÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÊâáÂå∫Âùè‰∫ÜÔºåÈÇ£‰πàÊï¥‰∏™Á°¨ÁõòÂ∞±Êä•Â∫ü‰∫Ü„ÄÇ ÂºÄÊú∫ÊµÅÁ®ãÊï¥‰∏™ÂºÄÊú∫ÊµÅÁ®ãÂà∞Êìç‰ΩúÁ≥ªÁªü‰πãÂâçÁöÑÂä®‰ΩúÂ∫îËØ•ÊòØËøôÊ†∑ÁöÑÔºö BIOSÔºöÂºÄÊú∫‰∏ªÂä®ÊâßË°åÁöÑÈüß‰ΩìÔºå‰ºöËÆ§ËØÜÁ¨¨‰∏Ä‰∏™ÂèØÂºÄÊú∫ÁöÑÂØπË±°„ÄÇ MBRÔºöÁ¨¨‰∏Ä‰∏™ÂèØÂºÄÊú∫ËÆæÂ§áÁöÑÁ¨¨‰∏Ä‰∏™ÊâáÂå∫ÁöÑ‰∏ªÂºïÂØºÂàÜÂå∫ÂùóÔºåÂÜÖÂåÖÂê´ÂºïÂØºÂä†ËΩΩÁ®ãÂ∫è„ÄÇ ÂºïÂØºÂä†ËΩΩÁ®ãÂ∫èÔºö‰∏ÄÊîØÂèØËØªÂèñÂÜÖÊ†∏Êñá‰ª∂Êù•ÊâßË°åÁöÑËΩØ‰ª∂„ÄÇÔºàÂèØÂ§ö‰∏™‰∏çÂêåÁ≥ªÁªüÁöÑÂä†ËΩΩÁ®ãÂ∫èÂØπÂ∫î‰∫Ü‰∏çÂêåÁöÑÊìç‰ΩúÁ≥ªÁªüÔºâ ÂÜÖÊ†∏Êñá‰ª∂ÔºöÂºÄÂßãÊìç‰ΩúÁ≥ªÁªüÁöÑÂäüËÉΩ„ÄÇ PSÔºö‰∏∫‰ªÄ‰πàÂ¶ÇÊûúÂÆâË£ÖÂ§öÈáçÂºïÂØºÔºåÊúÄÂ•ΩÂÖàÂÆâË£ÖWindowsÂú®ÂÆâË£ÖLinuxÔºü‚Äî‚ÄîÂõ†‰∏∫LinuxÂú®ÂÆâË£ÖÁöÑÊó∂ÂÄôÂèØ‰ª•ÈÄâÊã©Â∞ÜÂºïÂØºÂä†ËΩΩÁ®ãÂ∫èÂÆâË£ÖÂú®MBRÊàñ‰∏™Âà´ÂàÜÂå∫ÁöÑÂêØÂä®ÊâáÂå∫ÔºåËÄå‰∏îÂú®linnuxÁöÑloaderÂèØ‰ª•ÊâãÂä®ËÆæÁΩÆËèúÂçïÔºåÊâÄ‰ª•‰Ω†ÂèØ‰ª•Âú®LinuxÁöÑboot loaderÈáåÈù¢Âä†ÂÖ•WindowsÂºÄÊú∫ÁöÑÈÄâÈ°π„ÄÇWindowsÂú®ÂÆâË£ÖÁöÑÊó∂ÂÄôÔºåÂÆÉÁöÑÂÆâË£ÖÁ®ãÂ∫è‰ºö‰∏ªÂä®Ë¶ÜÁõñÊéâMBR‰ª•ÂèäËá™Â∑±ÊâÄÂú®ÂàÜÂå∫ÁöÑÂêØÂä®ÊâáÂå∫Ôºå‰Ω†Ê≤°ÊúâÈÄâÊã©ÁöÑÊú∫‰ºöÔºåËÄå‰∏îÊ≤°ÊúâËÆ©Êàë‰ª¨ÈÄâÊã©ËèúÂçïÁöÑÂäüËÉΩ„ÄÇ ÊåÇËΩΩÁõÆÂΩïÊ†ëÂú®Linux‰∏≠ÔºåÊï¥‰∏™Êñá‰ª∂Á≥ªÁªüÂëà‰∏ÄÊ£µ‰ª•/‰∏∫Ê†πÁõÆÂΩïÁöÑÊ†ë„ÄÇ Êñá‰ª∂Á≥ªÁªü‰∏éÁõÆÂΩïÊ†ëÁöÑÂÖ≥Á≥ªÔºàÊåÇËΩΩÔºâÊåÇËΩΩÂ∞±ÊòØÊää‰∏Ä‰∏™ÁõÆÂΩïÂΩì‰ΩúÁ£ÅÁõò‰∏≠Êüê‰∏Ä‰∏™ÂàÜÂå∫ÁöÑËøõÂÖ•ÁÇπÔºå‰πüÂ∞±ÊòØËØ¥ÔºåËøõÂÖ•‰∫ÜËøô‰∏™ÁõÆÂΩïÔºåÂ∞±ËøõÂÖ•‰∫ÜËøô‰∏™Á£ÅÁõòÁöÑËøô‰∏™ÂàÜÂå∫„ÄÇËøô‰∏™ËøõÂÖ•ÁöÑÁõÆÂΩïÊàë‰ª¨Â∞±Áß∞‰∏∫ÊåÇËΩΩÁÇπ„ÄÇÊ†πÁõÆÂΩï‰∏ÄÂÆöË¶ÅÊåÇËΩΩÂà∞Êüê‰∏™ÂàÜÂå∫„ÄÇ Â¶Ç‰ΩïÂØªÊâæÊåÇËΩΩÁÇπÔºàÂà§Êñ≠Êüê‰∏™Âú®Êñá‰ª∂Âú®Âì™‰∏™ÂàÜÂå∫‰∏ãÔºâÔºüÁ≠îÔºöÈÄöËøáÂèçÂêëËøΩË∏™Âç≥ÂèØÔºåÂΩìÊàë‰ª¨ÊÉ≥Ë¶ÅÁü•ÈÅì/home/rex/testÊñá‰ª∂Âú®ÈÇ£‰∏™ÂàÜÂå∫Êó∂ÔºåÂè™Ë¶ÅÈÄÜÂêëÂØªÊâæÁ¨¨‰∏Ä‰∏™ÊåÇËΩΩÁÇπÂ∞±ÊòØËøô‰∏™Êñá‰ª∂ÁöÑÊåÇËΩΩÁÇπ„ÄÇ ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ôºö df /home/rex/test ÊÄªÁªì‰∫ÜËß£ÂàÜÂå∫Ôºå‰∫ÜËß£ÂºÄÊú∫ÊµÅÁ®ãÔºå‰∫ÜËß£ÊåÇËΩΩÔºåokÔºåÂ∞±Ëøô‰∫õÔºÅ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_ÂàùËØÜLinux]]></title>
    <url>%2F2018%2F03%2F20%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_%E5%88%9D%E8%AF%86Linux%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∫ÜËß£LinuxÔºåÂ≠¶‰π†LinuxÔºåÊ∑±ÂÖ•Linux„ÄÇ LinuxÊòØ‰ªÄ‰πàLinuxÂ∞±ÊòØ‰∏ÄÂ•óÊìç‰ΩúÁ≥ªÁªüÔºåÂÆÉÁöÑÂÜÖÊ†∏ÊòØLinux TorvaldsÂú®1991Âπ¥ÂºÄÂèëÂá∫Êù•ÁöÑ„ÄÇ LinuxÁöÑÂÜÖÊ†∏ÁâàÊú¨Áúã‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºö122.6.18-92.e15‰∏ªÁâàÊú¨.Ê¨°ÁâàÊú¨.ÈáäÂá∫ÁâàÊú¨-‰øÆÊîπÁâàÊú¨ ‰∏ª„ÄÅÊ¨°ÁâàÊú¨‰∏∫Â•áÊï∞ÔºöÂºÄÂèë‰∏≠ÁâàÊú¨ÔºåÂ¶Ç2.5.xxÔºåËøôÁßçÁâàÊú¨‰ªÖÂÜÖÊ†∏ÂºÄÂèëÂ∑•Á®ãÂ∏à‰ΩøÁî®„ÄÇ ‰∏ª„ÄÅÊ¨°ÁâàÊú¨‰∏∫ÂÅ∂Êï∞ÔºöÁ®≥ÂÆöÁâàÊú¨ÔºåÂ¶Ç2.6.xx ÔºåÂÆ∂Â∫≠„ÄÅ‰ºÅ‰∏ö‰ΩøÁî®„ÄÇ Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÂëΩ‰ª§Êü•ÁúãËá™Â∑±ÁöÑlinuxÁöÑÁâàÊú¨Âè∑Ôºö uname -r LinuxÂèëË°åÁâàLinuxÂÖ∂ÂÆûÂ∞±ÊòØLinux KernelÔºàÂÜÖÊ†∏ÔºâÔºãÂÜÖÊ†∏Â∑•ÂÖ∑„ÄÇ‰ªñÊòØGNU GPLÊéàÊùÉÊ®°ÂºèÔºå‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•Ëé∑ÂèñÊ∫ê‰ª£Á†ÅÂπ∂ËøõË°å‰øÆÊîπ„ÄÇÂõ†Ê≠§LinuxÁöÑÂÖ®ÂêçÊòØÔºöGNU/Linux„ÄÇLinux ditributionÊòØÁî±ÂêÑ‰∏™ÂïÜ‰∏öÂÖ¨Âè∏ÂºÄÂèëÔºåÊú¨Ë¥®‰∏äÊòØLinuxKernelÔºãÂÜÖÊ†∏Â∑•ÂÖ∑ÔºãËΩØ‰ª∂ÔºåËÆ©ÊôÆÈÄöÁî®Êà∑ÈÉΩËÉΩ‰ΩøÁî®ÁöÑÊìç‰ΩúÁ≥ªÁªü„ÄÇ Âü∫Êú¨‰∏äLinux distributionsÂπ∂Êó†Â§™Â§ßÂå∫Âà´ÔºåÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÂñúÂ•ΩÈÄâÊã©„ÄÇ‰ªñ‰ª¨ÁöÑÂÜÖÊ†∏ÈÉΩÊòØ‰ªéwww.kernel.org‰∏ä‰∏ãËΩΩÁöÑ„ÄÇ LinuxÁöÑÁâπËâ≤ Ëá™Áî±‰∏éÂºÄÊîæÁöÑ‰ΩøÁî®‰∏éÂ≠¶‰π†ÁéØÂ¢É ÈÖçÁΩÆÈúÄÊ±Ç‰ΩéÂªâ ÂÜÖÊ†∏ÂäüËÉΩÂº∫Â§ßËÄåÁ®≥ÂÆö Áã¨Á´ã‰Ωú‰∏ö Linux‰ºòÁÇπ Á®≥ÂÆöÁöÑÁ≥ªÁªü ÂÖçË¥πÊàñÂ∞ëËÆ∏Ë¥πÁî® ÂÆâÂÖ®ÊÄß„ÄÅÊºèÊ¥ûÁöÑÂø´ÈÄü‰øÆË°• Â§ö‰ªªÂä°„ÄÅÂ§öÁî®Êà∑ Áî®Êà∑‰∏éÁî®Êà∑ÁªÑÁöÑËßÑÂàí Áõ∏ÂØπÊØîËæÉ‰∏çËÄóËµÑÊ∫êÁöÑÁ≥ªÁªü Êï¥ÂêàÂ∫¶‰Ω≥‰∏îÂ§öÊ†∑ÁöÑÂõæÂΩ¢Áî®Êà∑ÁïåÈù¢ LinuxÁº∫ÁÇπ Ê≤°ÊúâÁâπÂÆöÁöÑÊîØÊåÅ‰∫ßÂïÜ Ê∏∏ÊàèÁöÑÊîØÊåÅÂ∫¶‰∏çË∂≥ ‰∏ì‰∏öËΩØ‰ª∂ÁöÑÊîØÊåÅÂ∫¶‰∏çË∂≥ LinuxÂΩìÂâçÁöÑËßíËâ≤‰ºÅ‰∏öÁéØÂ¢ÉÁöÑÂ∫îÁî® ÁΩëÁªúÊúçÂä°Âô®ÔºàÂΩì‰ªäÊúÄÁÉ≠Èó®ÁöÑËøêÁî®Ôºâ ÂÖ≥ÈîÆ‰ªªÂä°ÁöÑÂ∫îÁî®ÔºàÈáëËûçÊï∞ÊçÆÂ∫ì„ÄÅÂ§ßÂûã‰ºÅ‰∏öÔºâ Â≠¶ÊúØÊú∫ÊûÑÁöÑÈ´òÊÄßËÉΩËøêÁÆó‰ªªÂä° ‰∏™‰∫∫ÁéØÂ¢ÉÁöÑ‰ΩøÁî® Ê°åÈù¢ËÆ°ÁÆóÊú∫(Âú®LinuxÁ≥ªÁªü‰∏äË£Ö‰∏Ä‰∏™X Window SystemËΩØ‰ª∂‰πãÂêéÔºåÂ∞±ËÉΩÊúâÊ°åÈù¢‰∫Ü) ÊâãÊåÅËÆæÂ§áÔºàPAD„ÄÅÊâãÊú∫Ôºâ ÂµåÂÖ•ÂºèÁ≥ªÁªü LinuxÁöÑÂ≠¶‰π†Ë∑ØÁ∫ø Â≠¶‰π†ËÆ°ÁÆóÊú∫Ê¶ÇËÆ∫ÂèäÁ°¨‰ª∂Áõ∏ÂÖ≥Áü•ËØÜ ‰ªéLinuxÁöÑÂÆâË£ÖÂºÄÂßãÂ≠¶Ëµ∑ Â≠¶‰ºö‰ΩøÁî®LinuxÁöÑÂü∫Êú¨ÊäÄËÉΩ Â≠¶‰ºöviÁºñËæëÂô® shell‰∏éshellËÑöÊú¨ÁöÑÂ≠¶‰π† ‰∏ÄÂÆöË¶Å‰ºöËΩØ‰ª∂ÁÆ°ÁêÜÂëò ‰∫ÜËß£ÁΩëÁªúÂü∫Á°Ä ‰ΩøÁî®LinuxÊû∂ËÆæÁΩëÁ´ô ÊÄªÁªìÂú®‰ΩøÁî®Linux‰πãÂâçËØ∑Â≠¶‰ºöLinuxÔºÅ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëµ∞ËøõLinux_ËÆ°ÁÆóÊú∫Âü∫Á°Ä]]></title>
    <url>%2F2018%2F03%2F20%2F%E8%B5%B0%E8%BF%9BLinux%2F%E8%B5%B0%E8%BF%9BLinux_%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊàë‰πüÁÆóÊòØ‰ªéÈÄö‰ø°‰∏ì‰∏öËΩ¨Âà∞ËÆ°ÁÆóÊú∫ÁöÑÔºåÊâÄ‰ª•ÂΩìÁÑ∂ÂØπËÆ°ÁÆóÊú∫‰∏ì‰∏öËØæÁü•ËØÜ‰∏çÂ§™‰∫ÜËß£ÔºåÊâÄ‰ª•‰πüÊÉ≥ÁÆÄÂçïÊéåÊè°‰ª•‰∏ãËÆ°ÁÆóÊú∫Âü∫Á°ÄÁü•ËØÜ„ÄÇ ËÆ°ÁÆóÊú∫ÂÖ∂ÂÆûÊòØÔºöÊé•Êî∂Áî®Êà∑ËæìÂÖ•Êåá‰ª§ÂíåÊï∞ÊçÆÔºåÁªèËøá‰∏≠Â§ÆÂ§ÑÁêÜÂô®ÁöÑÊï∞ÊçÆÊ¨≤ÈÄªËæëÂçïÂÖÉËøêÁÆóÂ§ÑÁêÜÂêéÔºå‰ª•‰∫ßÁîüÊàñÂ≠òÂÇ®ÊàêÊúâÁî®ÁöÑ‰ø°ÊÅØ„ÄÇ ËÆ°ÁÆóÊú∫ÁªÑÊàêËÆ°ÁÆóÊú∫Á°¨‰ª∂ÁöÑ‰∫îÂ§ßÂçïÂÖÉ ËæìÂÖ•ÂçïÂÖÉ ËæìÂá∫ÂçïÂÖÉ CPUÂÜÖÈÉ®ÁöÑÊéßÂà∂ÂçïÂÖÉ CPUÂÜÖÈÉ®ÁöÑÁÆóÊúØÈÄªËæëÂçïÂÖÉ ÂÜÖÂ≠ò CPUÁöÑÁßçÁ±ªCPUÂÜÖÈÉ®Â∑≤ÁªèÂê´Êúâ‰∏Ä‰∫õÂ∞èÊåá‰ª§ÈõÜÔºåÊàë‰ª¨ÊâÄ‰ΩøÁî®ÁöÑËΩØ‰ª∂ÈÉΩË¶ÅÁªèËøáCPUÂÜÖÈÉ®ÁöÑÂæÆÊåá‰ª§ÈõÜÊù•ÂÆåÊàêÊâçË°å„ÄÇËøô‰∫õÊåá‰ª§ÈõÜÁöÑËÆæËÆ°‰∏ªË¶ÅË¢´ÂàÜ‰∏∫‰∏§ÁßçËÆæËÆ°ÁêÜÂøµÔºåÂ¶Ç‰∏ãÔºö Á≤æÁÆÄÊåá‰ª§ÈõÜÔºàRISCÔºâ ÈááÁî®Á≤æÁÆÄÊåá‰ª§ÈõÜÁöÑcpuÁöÑÊåá‰ª§ËæÉ‰∏∫Á≤æÁÆÄÔºåÊØèÊù°Êåá‰ª§ÁöÑÊâßË°åÊó∂Èó¥ÂæàÁü≠ÔºåÂÆåÊàêÁöÑÊìç‰Ωú‰πüÂæàÂçïÁ∫ØÔºåÊåá‰ª§ÁöÑÊâßË°åÊÄßËÉΩËæÉÂ•ΩÔºõ‰ΩÜÊòØÂ¶ÇÊûúË¶ÅÂÅö‰∏Ä‰∫õÂ§çÊùÇÁöÑÊìç‰ΩúÔºåÂàôÈúÄË¶ÅÂ§ö‰∏™Êåá‰ª§Êù•ÂçèÂêåÂÆåÊàê„ÄÇ Â∏∏ËßÅÁöÑÁ≤æÁÆÄÊåá‰ª§ÈõÜCPUÊúâÔºö sunÂÖ¨Âè∏ÁöÑSPARCÁ≥ªÂàóÔºåÂ∏∏Â∫îÁî®‰∫éÂ≠¶ÊúØÈ¢ÜÂüüÁöÑÂ§ßÂûãÂ∑•‰ΩúÁ´ô IBMÂÖ¨Âè∏ÁöÑPower ArchitectureÔºàÂåÖÊã¨Power PCÔºâÔºåÂ¶ÇÁ¥¢Â∞ºÁöÑPS3 IBMÂÖ¨Âè∏ÁöÑARMÁ≥ªÂàóÔºåÂ∏∏Áî®‰∫éÊâãÊú∫„ÄÅpda„ÄÅÂØºËà™Á≥ªÁªü„ÄÅÁΩëÁªúËÆæÂ§áÁ≠â Ôºà‰ΩøÁî®ÊúÄÂπøÊ≥õÔºâ Â§çÊùÇÊåá‰ª§ÈõÜÔºàCISCÔºâ ÊØè‰∏ÄÊù°Êåá‰ª§ËæÉ‰∏∫Â§çÊùÇÔºåÂõ†‰∏∫ÊâßË°åÁöÑÊó∂Èó¥ÊØîËæÉÈïøÔºå‰ΩÜÊòØÊØèÊù°Êåá‰ª§Â§ÑÁêÜÁöÑÂ∑•‰ΩúËæÉ‰∏∫‰∏∞ÂØå„ÄÇ Â∏∏ËßÅÁöÑÂ§çÊùÇÊåá‰ª§ÈõÜÁöÑCPUÔºöAMD„ÄÅIntel„ÄÅVIAÁ≠âx86Êû∂ÊûÑÁöÑcpu„ÄÇÁî±‰∫éËøô‰∫õÈááÁî®‰∫ÜÂ§çÊùÇÊåá‰ª§ÈõÜÁöÑx86Êû∂ÊûÑÁöÑcpuÂ∏∏Â∏∏Ë¢´Áî®Âú®‰∏™‰∫∫ËÆ°ÁÆóÊú∫‰∏äÔºåÊâÄ‰ª•‰∏™‰∫∫ËÆ°ÁÆóÊú∫Â∏∏Â∏∏Â∞±Ë¢´Áß∞‰∏∫x86ËÆ°ÁÆóÊú∫„ÄÇx86Êû∂ÊûÑÁöÑCPUÊúÄÊó©Áî±Âõ†ÁâπÂ∞îÂºÄÂèëÔºåÂπ∂‰∏îÂÆÉÂ∞ÜCPU‰ªé8‰ΩçÊèêÂçá‰∏∫16‰Ωç„ÄÅ32‰Ωç„ÄÇÂêéÊù•ÔºåAMDÂÖ¨Âè∏Âü∫‰∫éx86Êû∂ÊûÑÂºÄÂèëÂá∫‰∫Ü64‰ΩçÁöÑCPU„ÄÇÊâÄ‰ª•64‰ΩçCPUuÁöÑÊû∂ÊûÑÂè´ÂÅöx86_64ÔºåÈùû64‰ΩçcpuÁöÑÊû∂ÊûÑ‰ªçÁÑ∂Âè´ÂÅöx86„ÄÇ Êé•Âè£ËÆæÂ§á Â≠òÂÇ®ËÆæÂ§áÔºöÂåÖÊã¨Á°¨ÁõòÔºåËΩØÁõòÁ≠â ÊòæÁ§∫ËÆæÂ§áÔºöÊòæÂç°Á≠â ÁΩëÁªúËÆæÂ§áÔºöÁΩëÂç°Á≠â ËÆ°ÁÆóÊú∫ÂàÜÁ±ª Ë∂ÖÁ∫ßËÆ°ÁÆóÊú∫ÔºöËøêÁÆóÈÄüÂ∫¶ÊúÄÂø´ÁöÑËÆ°ÁÆóÊú∫Ôºå‰∏ªË¶ÅÊòØÁî®‰∫éÈúÄË¶ÅÊúâÈ´òÈÄüËÆ°ÁÆóÁöÑÈ°πÁõÆ‰∏≠„ÄÇ Â§ßÂûãËÆ°ÁÆóÊú∫ÔºöÂäüËÉΩ‰∏ä‰∏çÂèäË∂ÖÁ∫ßËÆ°ÁÆóÊú∫Ôºå‰ΩÜ‰πüÂèØ‰ª•Áî®Êù•Â§ÑÁêÜÂ§ßÈáèÊï∞ÊçÆ‰∏éÂ§çÊùÇËÆ°ÁÆó„ÄÇ Ëø∑‰Ω†ËÆ°ÁÆóÊú∫Ôºö‰∏ªÊú∫ÂèØ‰ª•ÊîæÂú®‰∏ÄËà¨Âú∫ÊâÄÔºåÊó†ÈúÄÂÉèÂ§ßÂûãËÆ°ÁÆóÊú∫‰∏ÄÊ†∑ÈúÄË¶ÅÁâπÊÆäÁöÑÁ©∫Ë∞ÉÂú∫ÊâÄ„ÄÇ Â∑•‰ΩúÁ´ôÔºöÂ∑•‰ΩúÁ´ôÁöÑ‰ª∑Ê†ºÊØîËø∑‰Ω†ËÆ°ÁÆóÊú∫‰æøÂÆúËÆ∏Â§öÔºå„ÄÇÊòØÈíàÂØπÁâπÊÆäÁî®ÈÄîËÄåËÆæËÆ°ÁöÑËÆ°ÁÆóÊú∫„ÄÇ ÂæÆÁîµËÑëÔºö‰∏™‰∫∫ËÆ°ÁÆóÊú∫ÔºàPCÔºâ„ÄÇ ËÆ°ÁÆóÊú∫‰∏äÈù¢ÁöÑÂ∏∏Áî®ÁöÑËÆ°ÁÆóÂçï‰ΩçÔºàÂ§ßÂ∞è„ÄÅÈÄüÂ∫¶Á≠âÔºâ Êñá‰ª∂Â§ßÂ∞èÔºö1GB=1024*1024*1024ByteÔºõ1Byte=8bit CPUËøêÁÆóÈÄüÂ∫¶ÔºöMHzÊàñËÄÖGHzÔºåHz‰∏∫ÁßíÂàÜ‰πã‰∏Ä ÁΩëÁªú‰º†ËæìÔºöMbit/sÊàñËÄÖMB/sÔºåÊ≥®ÊÑèbitËøòÊòØByte ‰∏™‰∫∫ËÆ°ÁÆóÊú∫Êû∂ÊûÑ‰∏éÊé•Âè£ËÆæÂ§áÂú®ËÆ°ÁÆóÊú∫‰∏ªÊùø‰∏äÁöÑËäØÁâáÁªÑÈÄöÂ∏∏ÂèàÂàÜ‰∏∫‰∏§‰∏™Ê°•Êé•Âô®Êù•ÊéßÂà∂ÂêÑÁªÑ‰ª∂ÁöÑÈÄö‰ø°Ôºö ÂåóÊ°•Ë¥üË¥£ËøûÊé•ÈÄüÂ∫¶ËæÉÂø´ÁöÑCPU„ÄÅÂÜÖÂ≠ò‰∏éÊòæÂç°Á≠âÁªÑ‰ª∂„ÄÇÂåóÊ°•ÁöÑÊÄªÁ∫øÁß∞‰∏∫Á≥ªÁªüÊÄªÁ∫ø„ÄÇÂõ†‰∏∫ÊòØÂÜÖÂ≠ò‰º†ËæìÁöÑ‰∏ªË¶ÅÈÄöÈÅìÔºåÊâÄ‰ª•ÈÄüÂ∫¶Âø´„ÄÇ ÂçóÊ°•Ë¥üË¥£ÈìæÊé•ÈÄüÂ∫¶ËæÉÊÖ¢ÁöÑÂë®ËæπÊé•Âè£ÔºåÂåÖÊã¨Á°¨Áõò„ÄÅUSB„ÄÅÁΩëÂç°Á≠â„ÄÇÂçóÊ°•ÁöÑÊÄªÁ∫øÁß∞‰∏∫ËæìÂÖ•ËæìÂá∫(I/O)ÊÄªÁ∫ø„ÄÇ AMDÂíåIntelÁöÑËäØÁâáÁªÑÊû∂ÊûÑÊúÄ‰∏ªË¶ÅÁöÑÂå∫Âà´ÊòØAMDÁöÑÂÜÖÂ≠òÊòØÁõ¥Êé•‰∏éCPUÈÄö‰ø°ËÄå‰∏çÈÄöËøáÂåóÊ°•„ÄÇ CPUÂ§ñÈ¢ë‰∏éÂÜÖÂ±è Â§ñÈ¢ëÔºöCPU‰∏éÂ§ñÈÉ®ÁªÑ‰ª∂ËøõË°åÊï∞ÊçÆ‰º†Ëæì/ËøêÁÆóÊó∂ÁöÑÈÄüÂ∫¶„ÄÇ ÂÄçÈ¢ëÔºöCPUÂÜÖÈÉ®Áî®Êù•Âä†ÈÄüÂ∑•‰ΩúÊÄßËÉΩÁöÑ‰∏Ä‰∏™ÂÄçÈÄüÔºå‰∏§ËÄÖÁõ∏‰πòÊâçÊòØcpu ÁöÑÈ¢ëÁéá„ÄÇ 32‰Ωç‰∏é64‰Ωç ÂåóÊ°•ÊâÄÊîØÊåÅÁöÑÈ¢ëÁéáÁß∞‰∏∫ÂâçÁ´ØÊÄªÁ∫øÈÄüÔºàFSBÔºâÂ∫¶ÔºåËÄåÊØèÊ¨°‰º†ÈÄÅÁöÑ‰ΩçÊï∞ÂàôÊòØÊÄªÁ∫øÂÆΩÂ∫¶ÔºåÊâÄË∞ìÊÄªÁ∫øÈ¢ëÂÆΩÂàôÊòØ‚ÄúFSB*ÊÄªÁ∫øÂÆΩÂ∫¶‚ÄùÔºå‰∏öÊäÄÊúØÊØèÁßíÈíüÂèØ‰ª•‰º†ÈÄÅÁöÑÊúÄÂ§ßÊï∞ÊçÆÈáè„ÄÇ CPUÊØèÊ¨°ËÉΩÂ§ÑÁêÜÁöÑÊï∞ÊçÆÈáèÁß∞‰∏∫Â≠óÁªÑÂ§ßÂ∞è(word size)ÔºåÂ≠óÁªÑÂ§ßÂ∞è‰æùÊçÆcpuÁöÑËÆæËÆ°Êúâ32Ôºè64‰Ωç„ÄÇÊàë‰ª¨Áé∞Âú®Áß∞ËÆ°ÁÆóÊú∫ÊòØ32Ôºè64‰ΩçÊòØÊ†πÊçÆCPUËß£ÊûêÁöÑÂ≠óÁªÑÂ§ßÂ∞èÊù•ÁöÑ„ÄÇ ÂÜÖÂ≠òÊàë‰ª¨Âπ≥Êó∂ÊâÄËØ¥ÁöÑÂÜÖÂ≠òÁöÑÂÖ®ÂêçÂè´ÂÅöÂä®ÊÄÅÈöèÊú∫ËÆøÈóÆÂ≠òÂÇ®Âô®ÔºàDRAMÔºâ„ÄÇDRAMÊòØ‰∏ÄÁßçÊå•ÂèëÊÄßÂÜÖÂ≠òÔºåÂè™ÊúâÂÆÉÈÄöÁîµÁöÑÊó∂ÂÄôÊâçËÉΩË¢´‰ΩøÁî®ÔºåÊñ≠ÁîµÊï∞ÊçÆÂ∞±Ê∂àÂ§±„ÄÇDRAMÂàÜ‰∏∫Ôºö SDRAM DDR SDRAMÔºåDDR=Double Data Rate ÊâÄ‰ª•‰ªñÁöÑ‰º†ËæìÈÄüÂ∫¶ÊØîSDRAMË¶ÅÂø´„ÄÇ ÂØπÊúçÂä°Âô®ËÄåË®ÄÔºåÂÜÖÂ≠òÁöÑÂÆπÈáèÊØîCPUÁöÑÈÄüÂ∫¶Êõ¥Âä†ÈáçË¶Å„ÄÇCPU‰∏éÂÜÖÂ≠òÁöÑÂ§ñÈ¢ëÂ∫îËØ•Áõ∏ÂêåÊâçÂ•Ω„ÄÇ ÂèåÈÄöÈÅìËÆæËÆ°ÊÄªÁ∫øÂÆΩÂ∫¶‰∏ÄËà¨ÊòØ64‰ΩçÔºå‰πüÂ∞±ÊòØÊØèÊ¨°ÊÄªÁ∫ø‰ªéÂÜÖÂ≠ò‰∏≠ËØªÂÜô64‰ΩçÊï∞ÊçÆÔºåËã•Âú®‰∏ªÊùø‰∏äÊèí‰∏§Ê†πÂÜÖÂ≠òÊù°ÔºåÈÇ£‰πàÊÄªÁ∫øÂÆΩÂ∫¶Â∞±ËææÂà∞128‰ΩçÔºå‰ªéËÄåÊèêÂçá‰∫ÜÂÜÖÂ≠òÁöÑËØªÂÜôÈÄüÂ∫¶„ÄÇÂú®‰∏ªÊùø‰∏äÊèí‰∏§Ê†πÂÜÖÂ≠òÊù°ÁöÑËÆæËÆ°Â∞±Âè´ÂÅöÂèåÈÄöÈÅìËÆæËÆ°„ÄÇ‰ΩÜÊòØË¶ÅÂêØÂä®ÂèåÈÄöÈÅìÂäüËÉΩÔºåÂÆâÊèíÁöÑ‰∏§Ê†πÂÜÖÂ≠òÊù°ÂøÖÈ°ªÂûãÂè∑‰∏ÄÊ†∑ÔºåÂ§ßÂ∞è‰∏ÄÊ†∑ÔºåËøôÊ†∑ÊâçËÉΩÊï¥‰Ωì‰∏äÊèêÂçáÂÜÖÂ≠òÁöÑËØªÂÜôÈÄüÂ∫¶„ÄÇ DRAM‰∏éSRAMDRAMÂ∞±ÊòØÊàë‰ª¨Âπ≥Êó∂ÊâÄËØ¥ÁöÑÂÜÖÂ≠òÔºåÂÆÉÁöÑÂÖ®Áß∞Âè´ÂÅöÂä®ÊÄÅÈöèÊú∫ËÆøÈóÆÂ≠òÂÇ®Âô®„ÄÇËÄåSRAMÁöÑÂÖ®Á®ãÂè´ÂÅöÈùôÊÄÅÈöèÊú∫ËÆøÈóÆÂ≠òÂÇ®Âô®„ÄÇSRAMÂèØ‰ª•Áî®Âú®ÂæàÂ§ö‰∏çÂêåÁöÑÂú∞ÊñπÔºåËÄåCPU‰∏≠ÁöÑÁ¨¨‰∫åÂ±ÇÈ´òÈÄüÁºìÂ≠òÂ∞±ÊòØÈÄâÊã©SRAM‰Ωú‰∏∫Â≠òÂÇ®Âô®„ÄÇÁî±‰∫éL2 CacheÈõÜÊàêÂú®CPUÂÜÖÈÉ®ÔºåCPUËØªÂèñÊï∞ÊçÆÊó†ÈúÄÂÜçÁªèËøáÂåóÊ°•‰ªéÂÜÖÂ≠ò‰∏≠Ëé∑ÂèñÔºåÁõ¥Êé•‰ªéL2 Cache‰∏≠Ëé∑ÂèñÔºå‰ªéËÄåËÉΩÊèêÂçáÊÄßËÉΩ„ÄÇ ÊòæÂç°ÊòæÂç°ÂèàÂè´ÂÅöVGAÔºàVideo Graphics ArrayÔºâ„ÄÇÂõæÂΩ¢ÂΩ±ÂìçÁöÑÊòæÁ§∫Ë¥®ÈáèÁöÑÂ•ΩÂùèÈáçÁÇπÂú®‰∫éÂàÜËæ®ÁéáÂíåËâ≤ÂΩ©Ê∑±Â∫¶„ÄÇÁî±‰∫éÊòæÁ§∫ÁöÑÊØè‰∏Ä‰∏™ÂÉèÁ¥†ÈÉΩ‰ºöÂç†Áî®ÂÜÖÂ≠òÔºåÂõ†Ê≠§ÊòæÂç°‰∏äÈù¢‰πüÊúâ‰∏™Â≠òÂÇ®Âô®ÔºåËÄåËøô‰∏™Â≠òÂÇ®Âô®ÁöÑÂ§ßÂ∞èÁõ¥Êé•ÂΩ±ÂìçÊòæÁ§∫ÁöÑÊïàÊûú„ÄÇÊó©ÊúüÊó∂ÂÄô3DÁöÑËøêÁÆóÊòØ‰∫§ÁªôCPUÂéªÂ§ÑÁêÜÁöÑÔºå‰∏∫‰∫ÜÂáèÂ∞ëCPUÁöÑË¥üÊãÖÔºåÊâÄ‰ª•Âú®ÊòæÂç°‰∏äËÆæÁΩÆ‰∏Ä‰∏™Â§ÑÁêÜÂô®ÔºåËøô‰∏™Â§ÑÁêÜÂô®Â∞±ÊòØGPU„ÄÇ PS: Â¶ÇÊûú‰Ω†ÁöÑ‰∏ªÊú∫ÊòØÁî®Êù•Êâì3DÊ∏∏ÊàèÔºåÈÇ£‰πàÊòæÂç°ÁöÑÈÄâË¥≠ÈùûÂ∏∏ÈáçË¶ÅÔºåÂ¶ÇÊûú‰Ω†ÁöÑ‰∏ªÊú∫ÊòØÁî®Êù•‰Ωú‰∏∫ÁΩëÁªúÊúçÂä°Âô®ÔºåÈÇ£‰πàÁÆÄÂçïÁöÑÂÖ•Èó®Á∫ßÊòæÂç°ÂØπ‰Ω†ÁöÑ‰∏ªÊú∫Êù•ËØ¥Â∞±ÈùûÂ∏∏Â§üÁî®‰∫Ü„ÄÇ Á°¨Áõò‰∏éÂ≠òÂÇ®ËÆæÂ§áËÆ°ÁÆóÊú∫Á≥ªÁªü‰∏äÁöÑÂ≠òÂÇ®ËÆæÂ§áÂåÖÊã¨Á°¨Áõò„ÄÅËΩØÁõò„ÄÅUÁõòÁ≠âÔºåÊàë‰ª¨‰∏ªË¶Å‰ªãÁªçÁ°¨ÁõòÔºö Á°¨Áõò‰∏ªË¶ÅÊòØÁî±ËÆ∏Â§öÁöÑÁõòÁâá„ÄÅÊú∫Ê¢∞ÊâãËáÇ„ÄÅÁ£ÅÂ§¥‰∏é‰∏ªËΩ¥È©¨ËææÊâÄÁªÑÊàê„ÄÇÂÆûÈôÖÁöÑÊï∞ÊçÆÈÉΩÊòØÂÜôÂú®ÂÖ∑ÊúâÁ£ÅÊÄßÁâ©Ë¥®ÁöÑÁõòÁâá‰∏äÔºåÁ°¨ÁõòËøêË°åÊó∂Ôºå‰∏ªËΩ¥È©¨ËææËÆ©ÁõòÁâáËΩ¨Âä®ÔºåÊú∫Ê¢∞ÊâãËáÇÂèØ‰ª•‰º∏Áº©ÔºåËÆ©ËØªÂèñÂ§¥Âú®ÁõòÁâá‰∏äÈù¢ËøõË°åËØªÂÜôÊìç‰Ωú„ÄÇ Á°¨ÁõòÁöÑÊúÄÂ∞èÂ≠òÂÇ®Âçï‰ΩçÊòØÊâáÂå∫ÔºåÊØè‰∏™ÊâáÂå∫ÁöÑÂ§ßÂ∞èÊòØ512bytesÔºåËøô‰∏™ÂÄºÊòØ‰∏çÂèØÊîπÂèòÁöÑ„ÄÇÊâáÂå∫ÁªÑÊàêÁöÑÁéØÂè´ÂÅöÁ£ÅÈÅì„ÄÇ‰∏ä‰∏ãÁöÑÊâÄÊúâÁ£ÅÈÅìÊûÑÊàêÊü±Èù¢„ÄÇÊü±Èù¢ÊòØÂàÜÂâ≤Á°¨ÁõòÁöÑÊúÄÂ∞èÂçï‰Ωç„ÄÇ‰∏ÄËà¨Á°¨ÁõòÂà∂ÈÄ†ÂïÜÊùÇÊòæÁ§∫Á°¨ÁõòÂÆπÈáèÊó∂ÔºåÂ§ßÂ§öÊòØ‰ª•ÂçÅËøõÂà∂Êù•ÁºñÂè∑ÔºåÊâÄÊúâ500GBÁöÑÁ°¨ÁõòÔºåÁêÜËÆ∫‰∏ä‰ªÖ‰ºöÊúâ460GBÂ∑¶Âè≥ÁöÑÂÆπÈáè„ÄÇ ‰º†ËæìÊé•Âè£‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†ÁßçÔºö IDEÊé•Âè£ÔºöÊØèÁßí‰º†ËæìÂèØËææ133MB„ÄÇ SATAÊé•Âè£ÔºöSATAÔºç1ÊØèÁßí‰º†Ëæì150MBÔºåSATAÔºç2ÊØèÁßí‰º†Ëæì300MBÔºåÁõÆÂâç‰∏™‰∫∫ËÆ°ÁÆóÊú∫ÈÉΩÂ∑≤‰ΩøÁî®SATA„ÄÇ SCSIÊé•Âè£ÔºöËøô‰∏™Êé•Âè£Âê´Êúâ‰∏Ä‰∏™Â§ÑÁêÜÂô®ÔºåÁ°¨ÁõòÁöÑËØªÂÜôÊìç‰ΩúÁî±Ëøô‰∏™Â§ÑÁêÜÂô®ÂÆåÊàêÔºå‰ªéËÄåÊèêÂçáËÆ°ÁÆóÊú∫Êï¥‰ΩìÊÄßËÉΩ„ÄÇ PSÔºöÁ°¨ÁõòÂæàËÑÜÂº±ÔºåÂçÉ‰∏áÂà´ËÆ©ÂÆÉÊëî‰∫ÜËøòÊòØÊÄéÊ†∑ÔºåË°ÄÁöÑÊïôËÆ≠„ÄÇ ‰∏ªÊùø‰∏ªÊùøÂèØ‰ª•ËØ¥ÊòØÊï¥Âè∞‰∏ªÊú∫Áõ∏ÂΩìÈáçË¶ÅÁöÑÂú∞ÊñπÔºåÂõ†‰∏∫ÈáçË¶ÅÁöÑÁªÑ‰ª∂ÈÉΩÊòØÂÆâÊèíÂú®‰∏ªÊùø‰∏äÈù¢ÁöÑÔºåËÄå‰∏ªÊùø‰∏äÈù¢Ë¥üË¥£ÈÄö‰ø°ÂêÑ‰∏™ÁªÑ‰ª∂ÁöÑÂ∞±ÊòØËäØÁâáÁªÑ„ÄÇ‰∏ãÈù¢ËØ¥ËØ¥‰∏ªÊùøÊàë‰ª¨Â∏∏Áî®ÁöÑ‰∏úË•øÔºö CMOS‰∏éBIOSÔºöCMOS‰∏ªË¶ÅÁöÑÂäüËÉΩÊòØËÆ∞ÂΩï‰∏ªÊùø‰∏äÈù¢ÁöÑÈáçË¶ÅÂèÇÊï∞ÔºåÂ¶ÇÁ≥ªÁªüÊó∂Èó¥Á≠â„ÄÇBIOS‰∏∫ÂÜôÂÖ•Âà∞‰∏ªÊùø‰∏äÊüê‰∏ÄÂùóÈó™Â≠òÊàñEEPROMÁöÑÁ®ãÂ∫èÔºåÂÆÉÂèØ‰ª•Âú®ÂºÄÊú∫ÁöÑÊó∂ÂÄôÊâßË°åÔºåÂ∑≤Âä†ËΩΩCMOSÂΩì‰∏≠ÁöÑÂèÇÊï∞ÔºåÂπ∂Â∞ùËØïË∞ÉÁî®Â≠òÂÇ®ËÆæÂ§á‰∏≠ÁöÑÂºÄÊú∫Á®ãÂ∫èÔºåËøõ‰∏ÄÊ≠•ËøõÂÖ•Êìç‰ΩúÁ≥ªÁªüÂΩì‰∏≠„ÄÇ ËøûÊé•Êé•Âè£ËÆæÂ§áÔºö‰∏ªÊùø‰∏éÂêÑÈ°πËæìÂá∫/ËæìÂÖ•ËÆæÂ§áÁöÑÈìæÊé•‰∏ªË¶ÅÈÉΩÊòØÂú®‰∏ªÊú∫ÁÆ±ÁöÑÂêéÊñπÔºåÂ¶ÇUSBÊé•Âè£RJ-45Êé•Âè£Á≠â„ÄÇ ËÆ°ÁÆóÊú∫ÁºñÁ†Å Â∏∏Áî®ÁöÑËã±ÊñáÁºñÁ†ÅË°®ÊòØASKIIÔºåÊØè‰∏™Â≠óÁ¨¶Âç†1BÔºåÂõ†Ê≠§ÊÄªÂÖ±Êúâ2ÁöÑ8Ê¨°ÊñπÁßçÂèòÂåñ„ÄÇ ‰∏≠ÊñáÁºñÁ†ÅË°®Â∏∏Áî®gb2312ÔºåÊØè‰∏™Â≠óÁ¨¶Âç†2BÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏á‰∏âÂçÉÂ§ö‰∏™Â≠ó„ÄÇ‰ΩÜÊòØÔºåËøô‰∏™ÁºñÁ†ÅË°®ÂØπ‰∫éÊï∞ÊçÆÂ∫ìÂ≠òÂÇ®ÊúâÈóÆÈ¢òÔºå‰ªéÊï∞ÊçÆÂ∫ìËØªÂá∫Êï∞ÊçÆÁöÑÊó∂ÂÄôÊúâ‰∫õÂ≠ó‰ºöË¢´ËØªÈîô„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥‰∏äÈù¢ÁöÑÈóÆÈ¢òÔºåÂá∫Áé∞‰∫ÜUnicodeÁºñÁ†ÅË°®ÔºåÂ∞±ÊòØUTF-8„ÄÇ ËΩØ‰ª∂Á®ãÂ∫èËøêË°å‰∏ÄËà¨Êù•ËØ¥ÁõÆÂâçÁöÑËÆ°ÁÆóÊú∫Á≥ªÁªüÂ∞ÜËΩØ‰ª∂ÂàÜ‰∏∫‰∏§Â§ßÁ±ªÔºö‰∏ÄÊòØÁ≥ªÁªüËΩØ‰ª∂ÔºàÂÜÖÊ†∏ÔºâÔºå‰∏Ä‰∏™ÊòØÂ∫îÁî®Á®ãÂ∫èÔºàÊó•Â∏∏ÊâÄËØ¥ÁöÑËΩØ‰ª∂Ôºâ„ÄÇ Êú∫Âô®Á®ãÂ∫è‰∏éÁºñËØëÁ®ãÂ∫è Êú∫Âô®Á®ãÂ∫èÔºöÈÉΩÊòØÊú∫Âô®Á†ÅÔºåÂèØ‰ª•Áõ¥Êé•ÁªôÊú∫Âô®ËØÜÂà´„ÄÇ ÁºñËØëÁ®ãÂ∫èÔºöËÉΩÂ§üÂ∞ÜÈ´òÁ∫ßËØ≠Ë®ÄÁºñËØëÊàêÊú∫Âô®Á®ãÂ∫è„ÄÇ Êìç‰ΩúÁ≥ªÁªüÂÖàÁúãÁúãÊìç‰ΩúÁ≥ªÁªüÁöÑËßíËâ≤Ôºå‰ªéÂ∫ïÂ±ÇÂà∞È´òÂ±ÇÔºöÁ°¨‰ª∂-&gt;ÂÜÖÊ†∏-&gt;Á≥ªÁªüË∞ÉÁî®-&gt;Â∫îÁî®Á®ãÂ∫è„ÄÇÂÖ∂‰∏≠ÂÜÖÊ†∏‰ª•ÂèäÁ≥ªÁªüË∞ÉÁî®Ë¢´Áß∞‰∏∫Êìç‰ΩúÁ≥ªÁªü„ÄÇ Êìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏ÔºöÊìç‰ΩúÁ≥ªÁªüÂÖ∂ÂÆû‰πüÊòØ‰∏ÄÁªÑÁ®ãÂ∫èÔºåËøôÁªÑÁ®ãÂ∫èÁöÑÈáçÁÇπÂú®‰∫éÁÆ°ÁêÜËÆ°ÁÆóÊú∫ÁöÑÊâÄÊúâÊ¥ªÂä®‰ª•ÂèäÈ©±Âä®Á≥ªÁªüÁöÑÊâÄÊúâÁ°¨‰ª∂„ÄÇ Á≥ªÁªüË∞ÉÁî®ÔºöÊìç‰ΩúÁ≥ªÁªüÊèê‰æõÁöÑ‰∏ÄÁªÑÂºÄÂèëÊé•Âè£„ÄÇ ÂÜÖÊ†∏ÂäüËÉΩÔºö Á≥ªÁªüË∞ÉÁî®Êé•Âè£ Á®ãÂ∫èÁÆ°ÁêÜ ÂÜÖÂ≠òÁÆ°ÁêÜ Êñá‰ª∂Á≥ªÁªüÁÆ°ÁêÜ ËÆæÂ§áÈ©±Âä® Êìç‰ΩúÁ≥ªÁªü‰∏éÈ©±Âä®Á®ãÂ∫èÔºöÊìç‰ΩúÁ≥ªÁªüÈÄöÂ∏∏‰ºöÊèê‰æõ‰∏Ä‰∏™ÂºÄÂèëÊé•Âè£ÁªôÁ°¨‰ª∂ÂïÜÔºåËÆ©‰ªñ‰ª¨ÂèØ‰ª•Ê†πÊçÆËøô‰∏™Êé•Âè£Ëâ≤ÂêàËÆ°ÂèØ‰ª•È©±Âä®‰ªñ‰ª¨Á°¨‰ª∂ÁöÑÈ©±Âä®Á®ãÂ∫è„ÄÇ Â∫îÁî®Á®ãÂ∫èÂ∫îÁî®Á®ãÂ∫èÊòØÂèÇËÄÉÊìç‰ΩúÁ≥ªÁªüÊèê‰æõÁöÑÂºÄÂèëÊé•Âè£ÊâÄÂºÄÂèëÂá∫Êù•ÁöÑËΩØ‰ª∂ÔºåËøô‰∫õËΩØ‰ª∂ÂèØ‰ª•ËÆ©Áî®Êà∑Êìç‰ΩúÔºå‰ª•ËææÂà∞Êüê‰∫õËÆ°ÁÆóÊú∫ÁöÑÂäüËÉΩÂà©Áî®„ÄÇ ÊÄªÁªì‰∫ÜËß£Â•ΩËÆ°ÁÆóÊú∫ÁöÑÂü∫Á°ÄÁü•ÈÅìÔºåÊàë‰ª¨ÂØπËÆ°ÁÆóÊú∫ÈáåÈù¢ÁöÑÁ°¨‰ª∂‰ª•ÂèäÁ®ãÂ∫èÁöÑÂÆûÁé∞Êúâ‰∫Ü‰∏Ä‰∏™Â§ßÊ¶ÇÁöÑ‰∫ÜËß£ÔºåÊúâÂà©‰∫éÊàë‰ª¨Â≠¶‰π†‰∏ãÈù¢ÁöÑÁü•ËØÜ„ÄÇ ÂèÇËÄÉ „ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„Äã]]></content>
      <categories>
        <category>Ëµ∞ËøõLinux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÊ°•Ê¢ÅÊ®°Âºè]]></title>
    <url>%2F2018%2F03%2F19%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E6%A1%A5%E6%A2%81%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∏çÂèòÁöÑÈÉ®ÂàÜÁî®ÁªßÊâøÊù•ÂÆûÁé∞ÔºåÂèòÂæóÈÉ®ÂàÜÊîæÂú®Â§ñÈÉ®ÔºåÂπ∂ÈÄöËøáÊ°•Ê¢ÅÊ®°ÂºèÊäΩË±°ËÄ¶ÂêàËøõÊù•ÔºåËøôÊ†∑Â∞±Ëß£ÂÜ≥‰∫ÜÁªßÊâøÁöÑÂºäÁ´Ø„ÄÇ ÂÆö‰πâÊ°•Ê¢ÅÊ®°Âºè‰πüÂè´ÂÅöÊ°•Êé•Ê®°ÂºèÔºåÂÖ∂ÂÆö‰πâÂ¶Ç‰∏ãÔºö Â∞ÜÊäΩË±°ÂíåÂÆûÁé∞Ëß£ËÄ¶Ôºå‰ΩøÂæó‰∏§ËÄÖÂèØ‰ª•Áã¨Á´ãÂèòÂåñ„ÄÇ‚Äî‚ÄîÁªìÊûÑÁ±ª ‰∏ãÈù¢ÊòØÊ°•Ê¢ÅÊ®°ÂºèÁöÑÈÄöÁî®Á±ªÂõæÔºö Êàë‰ª¨ÁúãÁúãÊ°•Ê¢ÅÊ®°ÂºèÁ±ªÂõæ‰∏≠ÁöÑ4‰∏™ËßíËâ≤Ôºö AbstractionÊäΩË±°ÂåñËßíËâ≤Ôºö‰∏ªË¶ÅËÅåË¥£ÊòØÂÆö‰πâÂá∫ËØ•ËßíËâ≤ÁöÑË°å‰∏∫ÔºåÂêåÊó∂‰øùÂ≠ò‰∏Ä‰∏™ÂØπÂÆûÁé∞ÂåñËßíËâ≤ÁöÑÂºïÁî®ÔºåËØ•ËßíËâ≤‰∏ÄËà¨ÊòØÊäΩË±°Á±ª„ÄÇ ImplementorÂÆûÁé∞ÂåñËßíËâ≤ÔºöÂÆö‰πâËßíËâ≤ÂøÖÈ°ªÁöÑË°å‰∏∫ÂíåÂ±ûÊÄß„ÄÇ RefinedAbstraction‰øÆÊ≠£ÊäΩË±°ÂåñËßíËâ≤ÔºöÂÆÉÂºïÁî®ÂÆûÁé∞ÂåñËßíËâ≤ÂØπÊäΩË±°ÂåñËßíËâ≤ËøõË°å‰øÆÊ≠£„ÄÇ ConcreteImplementorÂÖ∑‰ΩìÂÆûÁé∞ÂåñËßíËâ≤ÔºöÂÆûÁé∞Êé•Âè£ÊàñÊäΩË±°Á±ªÂÆö‰πâÁöÑÊñπÊ≥ïÂíåÂ±ûÊÄß„ÄÇ ÂÆÉÁöÑÈÄöÁî®Ê∫êÁ†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667public interface Implementor &#123; // Âü∫Êú¨ÊñπÊ≥ï public void doSomething(); public void doAnything();&#125;// ÂÖ∑‰ΩìÂÆûÁé∞ÂåñËßíËâ≤public class ConcreteImplementor1 implements Implementor &#123; public void doSomething() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125; public void doAnything() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125;&#125;public class ConcreteImplementor2 implements Implementor &#123; public void doSomething() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125; public void doAnything() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125;&#125;// ÊäΩË±°ÂåñËßíËâ≤public abstract class Abstraction &#123; // ÂÆö‰πâÂØπÂÆûÁé∞ÂåñËßíËâ≤ÁöÑÂºïÁî® private Implementor imp; // Á∫¶ÊùüÂ≠êÁ±ªÂøÖÈ°ªÂÆûÁé∞ËØ•ÊûÑÈÄ†ÂáΩÊï∞ public Abstraction(Implementor _imp) &#123; this.imp = _imp; &#125; // Ëá™Ë∫´ÁöÑË°å‰∏∫ÂíåÂ±ûÊÄß public void request() &#123; this.imp.doSomething(); &#125; // Ëé∑ÂæóÂÆûÁé∞ÂåñËßíËâ≤ public Implementor getImp() &#123; return imp; &#125;&#125;// ÂÖ∑‰ΩìÊäΩË±°ÂåñËßíËâ≤public class RefinedAbstraction extends Abstraction &#123; // Ë¶ÜÂÜôÊûÑÈÄ†ÂáΩÊï∞ public RefinedAbstraction(Implementor _imp) &#123; super(_imp); &#125; // ‰øÆÊ≠£Áà∂Á±ªÁöÑË°å‰∏∫ @Override public void request() &#123; super.request(); super.getImp().doAnything(); &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // ÂÆö‰πâ‰∏Ä‰∏™ÂÆûÁé∞ÂåñËßíËâ≤ Implementor imp = new ConcreteImplementor1(); // ÂÆö‰πâ‰∏Ä‰∏™ÊäΩË±°ÂåñËßíËâ≤ Abstraction abs = new RefinedAbstraction(imp); // ÊâßË°å abs.request(); &#125;&#125; Â∫îÁî®‰ºòÁÇπ ÊäΩË±°ÂíåÂÆûÁé∞ÂàÜÁ¶ª„ÄÇ ‰ºòÁßÄÁöÑÊâ©ÂÖÖËÉΩÂäõ„ÄÇ ÂÆûÁé∞ÁªÜËäÇÂØπÂÆ¢Êà∑ÈÄèÊòé„ÄÇ ‰ΩøÁî®Âú∫ÊôØ ‰∏çÂ∏åÊúõÊàñ‰∏çÂêàÈÄÇ‰ΩøÁî®ÁªßÊâøÁöÑÂú∫ÊôØ„ÄÇ Êé•Âè£ÊàñÊäΩË±°Á±ª‰∏çÁ®≥ÂÆöÁöÑÂú∫ÊôØ„ÄÇ ÈáçÁî®ÊÄßË¶ÅÊ±ÇËæÉÈ´òÁöÑÂú∫ÊôØ„ÄÇ Ê≥®ÊÑè‰∫ãÈ°π‰ΩøÁî®Ê°•Ê¢ÅÊ®°Âºè‰∏ªË¶ÅËÄÉËôëÂ¶Ç‰ΩïÊãÜÂàÜÊäΩË±°ÂíåÂÆûÁé∞„ÄÇÊ°•Ê¢ÅÊ®°ÂºèÁöÑÊÑèÂõæËøòÊòØÂØπÂèòÂåñÁöÑÂ∞ÅË£ÖÔºåÂ∞ΩÈáèÊääÂèØËÉΩÂèòÂåñÁöÑÂõ†Á¥†Â∞ÅË£ÖÂà∞ÊúÄÁªÜ„ÄÅÊúÄÂ∞èÁöÑÈÄªËæëÂçïÂÖÉÔºåÈÅøÂÖçÈ£éÈô©Êâ©Êï£„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÁªßÊâøÈùûÂ∏∏Â•ΩÔºå‰ΩÜÊòØÊúâÁº∫ÁÇπ„ÄÇÊàë‰ª¨ÂèØ‰ª•Êâ¨ÈïøÈÅøÁü≠ÔºåÂØπ‰∫éÊØîËæÉÊòéÁ°Æ‰∏çÂèëÁîüÂèòÂåñÁöÑÔºåÂàôÈÄöËøáÁªßÊâøÊù•ÂÆåÊàêÔºõËã•‰∏çËÉΩÁ°ÆÂÆöÊòØÂê¶‰ºöÂèëÁîüÂèòÂåñÁöÑÔºåÈÇ£Â∞±ËÆ§‰∏∫‰ºöÂèëÁîüÂèòÂåñÔºåÂàôÈÄöËøáÊ°•Ê¢ÅÊ®°ÂºèÊù•Êê≠Âª∫‰∏Ä‰∏™Ê°•Ê¢ÅÂ∞ÜÂèòÂåñÁöÑÁöÑ‰∏úË•øÊîæÂú®Â§ñÈÉ®ÂíåÊú¨‰ΩìËøõË°åËøûÊé•„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚Äî‰∫´ÂÖÉÊ®°Âºè]]></title>
    <url>%2F2018%2F03%2F18%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂØπË±°Â§ö‰∫ÜÔºåËÄå‰∏îËøòÈÉΩÊòØÂ§Ñ‰∫éÊúâÁî®Áä∂ÊÄÅÔºåÈÇ£‰∏ÄÂÆö‰ºöÂá∫Áé∞ÂÜÖÂ≠òÊ∫¢Âá∫ÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∫´ÂÖÉÊ®°ÂºèÊù•ÂÆûÁé∞ÂØπË±°ÁöÑÂ§çÁî®Ôºå‰ª•ËææÂà∞ÂáèÂ∞ëÁöÑÁõÆÁöÑÔºå‰ªéËÄåËß£ÂÜ≥ÂÜÖÂ≠òÊ∫¢Âá∫ÁöÑÈóÆÈ¢ò„ÄÇ ÂÆö‰πâ‰∫´ÂÖÉÊ®°ÂºèÊòØÊ±†ÊäÄÊúØÁöÑÈáçË¶ÅÂÆûÁé∞ÊñπÂºèÔºåÂÖ∂ÂÆö‰πâÂ¶Ç‰∏ãÔºö ‰ΩøÁî®‚ÄùÂÖ±‰∫´ÂØπË±°‚ÄùÂèØÊúâÊïàÂú∞ÊîØÊåÅÂ§ßÈáèÁöÑ‚ÄùÁªÜÁ≤íÂ∫¶ÁöÑÂØπË±°‚Äù„ÄÇ‚Äî‚ÄîÁªìÊûÑÁ±ª ‰∫´ÂÖÉÊ®°ÂºèÁöÑÂÆö‰πâ‰∏∫Êàë‰ª¨ÊèêÂá∫‰∫Ü‰∏§‰∏™Ë¶ÅÊ±ÇÔºöÁªÜÁ≤íÂ∫¶ÂØπË±°ÂíåÂÖ±‰∫´ÂØπË±°„ÄÇÊàë‰ª¨Áü•ÈÅìÂàÜÈÖçÂ§™Â§öÁöÑÂØπË±°Âà∞Â∫îÁî®Á®ãÂ∫è‰∏≠Â∞ÜÊúâÊçüÁ®ãÂ∫èÁöÑÊÄßËÉΩÔºåÂêåÊó∂ËøòÂÆπÊòìÈÄ†ÊàêÂÜÖÂ≠òÊ∫¢Âá∫ÔºåÈÇ£ÊÄé‰πàÈÅøÂÖçÂë¢ÔºüÂ∞±ÊòØ‰∫´ÂÖÉÊ®°ÂºèÊèêÂà∞ÁöÑÂÖ±‰∫´ÊäÄÊúØ„ÄÇÊàë‰ª¨ÂÖàÊù•‰∫ÜËß£‰∏Ä‰∏ãÂØπË±°ÁöÑÂÜÖÈÉ®Áä∂ÊÄÅÂíåÂ§ñÈÉ®Áä∂ÊÄÅÔºö ÂÜÖÈÉ®Áä∂ÊÄÅÔºöÂÜÖÈÉ®Áä∂ÊÄÅÊòØÂØπË±°ÂèØÂÖ±‰∫´Âá∫Êù•ÁöÑ‰ø°ÊÅØÔºåÂ≠òÂÇ®Âú®‰∫´ÂÖÉÂØπË±°Âπ∂‰∏î‰∏ç‰ºöÈöèÁéØÂ¢ÉÊîπÂèòËÄåÊîπÂèòÔºå‰∏çÂøÖÂ≠òÂÇ®Âú®ÂÖ∑‰ΩìÊüê‰∏™ÂØπË±°‰∏≠ÔºåÂ±û‰∫éÂèØ‰ª•ÂÖ±‰∫´ÁöÑÈÉ®ÂàÜ„ÄÇ Â§ñÈÉ®Áä∂ÊÄÅÔºöÂ§ñÈÉ®Áä∂ÊÄÅÊòØÂØπË±°Âæó‰ª•‰æùËµñÁöÑ‰∏Ä‰∏™Ê†áËÆ∞ÔºåÊòØÈöèÁéØÂ¢ÉÊîπÂèòËÄåÊîπÂèòÁöÑÔºå‰∏çÂèØ‰ª•ÂÖ±‰∫´ÁöÑÁä∂ÊÄÅÔºå‰ªñÊòØ‰∏ÄÊâπÂØπË±°ÁöÑÁªü‰∏ÄÊ†áËØÜÔºåÊòØÂîØ‰∏ÄÁöÑÁ¥¢ÂºïÂÄº„ÄÇ ‰∏ãÈù¢ÊòØ‰∫´ÂÖÉÊ®°ÂºèÁöÑÈÄöÁî®Á±ªÂõæÔºö ÁÆÄÂçï‰ªãÁªçÁ±ªÂõæ‰∏≠ÁöÑËßíËâ≤Ôºö FlyweightÊäΩË±°‰∫´ÂÖÉËßíËâ≤Ôºö‰∫ßÂìÅÁöÑÊäΩË±°Á±ªÔºåÂêåÊó∂ÂÆö‰πâÂá∫ÂØπË±°ÁöÑÂ§ñÈÉ®Áä∂ÊÄÅÂíåÂÜÖÈÉ®Áä∂ÊÄÅÁöÑÊé•Âè£ÊàñÂÆûÁé∞„ÄÇ ConcreteFlyWeightÂÖ∑‰Ωì‰∫´ÂÖÉËßíËâ≤ÔºöÂÖ∑‰ΩìÁöÑ‰∏Ä‰∏™‰∫ßÂìÅÁ±ªÔºåÂÆûÁé∞ÊäΩË±°ËßíËâ≤ÂÆö‰πâÁöÑ‰∏öÂä°„ÄÇËØ•ËßíËâ≤‰∏≠ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂÜÖÈÉ®Áä∂ÊÄÅÂ§ÑÁêÜÂ∫îËØ•‰∏éÁéØÂ¢ÉÊó†ÂÖ≥Ôºå‰∏çÂ∫îËØ•Âá∫Áé∞‰∏Ä‰∏™Êìç‰ΩúÊîπÂèò‰∫ÜÂÜÖÈÉ®Áä∂ÊÄÅÔºåÂêåÊó∂‰øÆÊîπ‰∫ÜÂ§ñÈÉ®Áä∂ÊÄÅÔºåËøôÊòØÁªùÂØπ‰∏çÂÖÅËÆ∏ÁöÑ„ÄÇ UnsharedConcreteFlyWeight‰∏çÂèØÂÖ±‰∫´ÁöÑ‰∫´ÂÖÉËßíËâ≤Ôºö‰∏çÂ≠òÂú®Â§ñÈÉ®Áä∂ÊÄÅÊàñËÄÖÂÆâÂÖ®Ë¶ÅÊ±ÇÔºàÂ¶ÇÁ∫øÁ®ãÂÆâÂÖ®Ôºâ‰∏çËÉΩÂ§ü‰ΩøÁî®ÂÖ±‰∫´ÊäÄÊúØÁöÑÂØπË±°ÔºåËØ•ÂØπË±°‰∏ÄËà¨‰∏ç‰ºöÂá∫Áé∞‰∫´ÂÖÉÂ∑•ÂéÇ‰∏≠„ÄÇÔºàÊúâÁÇπ‰∏çÂ§™ÁêÜËß£Ôºâ FlyWeightFactory‰∫´ÂÖÉÂ∑•ÂéÇÔºöËÅåË¥£ÈùûÂ∏∏ÁÆÄÂçïÔºåÂ∞±ÊòØÊûÑÈÄ†‰∏Ä‰∏™Ê±†ÂÆπÂô®ÔºåÂêåÊó∂Êèê‰æõ‰ªéÊ±†‰∏≠Ëé∑ÂèñÂØπË±°ÁöÑÊñπÊ≥ï„ÄÇ ‰∫´ÂÖÉÊ®°ÂºèÁöÑÁõÆÁöÑÂú®‰∫éËøêÁî®ÂÖ±‰∫´ÊäÄÊúØÔºå‰ΩøÂæó‰∏Ä‰∫õÁªÜÁ≤íÂ∫¶ÁöÑÂØπË±°ÂèØ‰ª•ÂÖ±‰∫´ÔºåÂ§ö‰ΩøÁî®ÁªÜÁ≤íÂ∫¶ÁöÑÂØπË±°Ôºå‰æø‰∫éÈáçÊûÑÊàñÈáçÁî®Ôºå‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263// ÊäΩË±°‰∫´ÂÖÉËßíËâ≤public abstract class Flyweight &#123; // ÂÜÖÈÉ®Áä∂ÊÄÅ private String intrinsic; // Â§ñÈÉ®Áä∂ÊÄÅ Ê≥®ÊÑèfinal protected final String extrinsic; // Ë¶ÅÊ±Ç‰∫´ÂÖÉËßíËâ≤ÂøÖÈ°ªÊé•ÂèóÂ§ñÈÉ®Áä∂ÊÄÅ public Flyweight(String _extrinsic) &#123; this.extrinsic = _extrinsic; &#125; // ÂÆö‰πâ‰∏öÂä°Êìç‰Ωú public abstract vid operate(); // ÂÜÖÈÉ®Áä∂ÊÄÅÁöÑgetter/setter public String getIntrinsic() &#123; return intrinsic; &#125; public void setIntrinsic(String intrinsic) &#123; this.intrinsic = intrinsic; &#125;&#125;// ÂÖ∑‰Ωì‰∫´ÂÖÉËßíËâ≤public class ConcreteFlyweight1 extends Flyweight &#123; // Êé•ÂèóÂ§ñÈÉ®Áä∂ÊÄÅ public ConcreteFlyweight1(String _extrinsic) &#123; super(_extrinsic) &#125; // Ê†πÊçÆÂ§ñÈÉ®Áä∂ÊÄÅËøõË°åÈÄªËæëÂ§ÑÁêÜ public void operate() &#123; // ‰∏öÂä°ÈÄªËæë &#125;&#125;public class ConcreteFlyweight2 extends Flyweight &#123; // Êé•ÂèóÂ§ñÈÉ®Áä∂ÊÄÅ public ConcreteFlyweight2(String _extrinsic) &#123; super(_extrinsic) &#125; // Ê†πÊçÆÂ§ñÈÉ®Áä∂ÊÄÅËøõË°åÈÄªËæëÂ§ÑÁêÜ public void operate() &#123; // ‰∏öÂä°ÈÄªËæë &#125;&#125;// ‰∫´ÂÖÉÂ∑•ÂéÇpublic class FlyweightFactory &#123; // ÂÆö‰πâ‰∏Ä‰∏™Ê±†ÂÆπÂô® private static HashMap&lt;String,Flyweight&gt; pool = new HashMap&lt;String,Flyweight&gt;(); // ‰∫´ÂÖÉÂ∑•ÂéÇ public static Flyweight getFlyweight(String extrinsic) &#123; // ÈúÄË¶ÅËøîÂõûÁöÑÂØπË±° Flyweight flyweight = null; // Âú®Ê±†‰∏≠Ê≤°ÊúâËØ•ÂØπË±° if(pool.containKey(extrinsic)) &#123; flyweight = pool.get(extrinsic); &#125; else &#123; // Ê†πÊçÆÂ§ñÈÉ®Áä∂ÊÄÅÂàõÂª∫‰∫´ÂÖÉÂØπË±° flyweight = new ConcreteFlyweight1(extrinsic); // ÊîæÁΩÆÂà∞Ê±†‰∏≠ pool.put(extrinsic,flyweight); &#125; return flyweight; &#125;&#125; Â∫îÁî®‰ºòÁÇπÂèØ‰ª•Â§ßÂ§ßÂáèÂ∞ëÂ∫îÁî®Á®ãÂ∫èÂàõÂª∫ÁöÑÂØπË±°ÔºåÈôç‰ΩéÁ®ãÂ∫èÂÜÖÂ≠òÁöÑÂç†Áî®ÔºåÂ¢ûÂº∫Á®ãÂ∫èÂØπÁöÑÊÄßËÉΩ„ÄÇ Áº∫ÁÇπÊèêÈ´ò‰∫ÜÁ≥ªÁªüÁöÑÂ§çÊùÇÊÄßÔºåÈúÄË¶ÅÂàÜÁ¶ªÂá∫Â§ñÈÉ®Áä∂ÊÄÅÂíåÂÜÖÈÉ®Áä∂ÊÄÅÔºåËÄå‰∏îÂ§ñÈÉ®Áä∂ÊÄÅÂÖ∑ÊúâÂõ∫ÂåñÁâπÊÄßÔºàÂä†fianlÂÖ≥ÈîÆÂ≠óÔºâÔºå‰∏çÂ∫îËØ•ÈöèÂÜÖÈÉ®ÊîπÂèòËÄåÊîπÂèòÔºåÂê¶ÂàôÂØºËá¥Á≥ªÁªüÁöÑÈÄªËæëÊ∑∑‰π±„ÄÇ ‰ΩøÁî®Âú∫ÊôØ Á≥ªÁªü‰∏≠Â≠òÂú®Â§ßÈáèÁöÑÁõ∏‰ººÂØπË±°„ÄÇ ÁªÜÁ≤íÂ∫¶ÁöÑÂØπË±°ÈÉΩÂÖ∑ÊúâËæÉÊé•ËøëÁöÑÂ§ñÈÉ®Áä∂ÊÄÅÔºåËÄå‰∏îÂÜÖÈÉ®Áä∂ÊÄÅ‰∏éÁéØÂ¢ÉÊó†ÂÖ≥Ôºå‰πüÂ∞±ÊòØËØ¥ÂØπË±°Ê≤°ÊúâÁâπÂÆöË∫´‰ªΩ„ÄÇ ÈúÄË¶ÅÁºìÂÜ≤Ê±†ÁöÑÂú∫ÊôØ„ÄÇ Ê≥®ÊÑè‰∫ãÈ°πÂΩìÂØπË±°Ê±†ÁöÑÂØπË±°Â§™Â∞ëÊó∂Ôºå‰ºöÂá∫Áé∞Á∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÁé∞Ë±°„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µ‰∫´ÂÖÉÊ®°ÂºèÂú®Java API‰∏≠‰πüÊòØÈöèÂ§ÑÂèØËßÅÁöÑÔºåÊØîÂ¶ÇStringÁ±ªÁöÑinternÊñπÊ≥ïÂ∞±ÊòØÂà©Áî®‰∫ÜStringÁöÑÂØπË±°Ê±†„ÄÇÂΩìÁÑ∂ÂØπË±°Ê±†‰∏ªË¶ÅËß£ÂÜ≥Â§çÁî®ÔºåËÄå‰∫´ÂÖÉÊ®°Âºè‰∏ªË¶ÅËß£ÂÜ≥ÂØπË±°ÁöÑÂÖ±‰∫´ÈóÆÈ¢òÔºåÂ¶ÇÊûúÂª∫Á´ãÂ§ö‰∏™ÂèØÂÖ±‰∫´ÁöÑÁªÜÁ≤íÂ∫¶ÂØπË±°ÊòØÂÖ∂ÂÖ≥Ê≥®ÁöÑÈáçÁÇπ„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîËß£ÈáäÂô®Ê®°Âºè]]></title>
    <url>%2F2018%2F03%2F18%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊó†ËÆ∫ÊòØÁºñËØëÂéüÁêÜÔºåËøòÊòØËß£ÈáäÂûãËØ≠Ë®ÄÔºåÈÉΩ‰ºöÊ∂âÂèäÂà∞Ëß£ÈáäÔºåÂÖ∂ÊÄùÊÉ≥‰πüÈÉΩÂíåËß£ÈáäÂô®Ê®°ÂºèÁ±ª‰ºº„ÄÇ ÂÆö‰πâÁªôÂÆö‰∏ÄÈó®ËØ≠Ë®ÄÔºåÂÆö‰πâÂÆÉÁöÑÊñáÊ≥ïÁöÑ‰∏ÄÁªÑË°®Á§∫ÔºåÂπ∂ÂÆö‰πâ‰∏Ä‰∏™Ëß£ÈáäÂô®ÔºåËØ•Ëß£ÈáäÂô®‰ΩøÁî®ËØ•Ë°®Á§∫Êù•Ëß£ÈáäËØ≠Ë®Ä‰∏≠ÁöÑÂè•Â≠ê„ÄÇ‚Äî‚ÄîË°å‰∏∫Á±ª Ëß£ÈáäÂô®Ê®°ÂºèÁöÑÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö ËøôÈáåËß£Èáä‰∏Ä‰∏ãÁ±ªÂõæ‰∏≠ÁöÑËßíËâ≤: AbstractExpressionÊäΩË±°Ëß£ÈáäÂô®ÔºöÂÖ∑‰ΩìÁöÑÂç≥Êó∂‰ªªÂä°ÂèàÂêÑ‰∏™ÂÆûÁé∞Á±ªÂÆåÊàêÔºåÂÖ∑‰ΩìÁöÑËß£ÈáäÂô®ÂàÜÂà´Áî±TerminalExpressionÔºàÂÄºÔºâÂíåNotermianlExpressionÔºàÁ¨¶Âè∑ÔºâÂÆåÊàê„ÄÇ TerminalExpressionÁªàÁªìÁ¨¶Ë°®ËææÂºèÔºöÂÆûÁé∞‰∏éÊñáÊ≥ï‰∏≠ÁöÑÂÖÉÁ¥†Áõ∏ÂÖ≥ËÅîÁöÑËß£ÈáäÊìç‰ΩúÔºåÈÄöÂ∏∏‰∏Ä‰∏™Ëß£ÈáäÂô®Ê®°Âºè‰∏≠Âè™Êúâ‰∏Ä‰∏™ÁªàÁªìÁ¨¶Ë°®ËææÂºèÔºå‰ΩÜÊòØÊúâÂ§ö‰∏™ÂÆû‰æãÔºåÂØπÂ∫î‰∏çÂêåÁöÑÁªàÁªìÁ¨¶„ÄÇ NotermianlExpressionÈùûÁªàÁªìÁ¨¶Ë°®ËææÂºèÔºöÊñáÊ≥ï‰∏≠ÁöÑÊØèÊù°ËßÑÂàôÂØπÂ∫î‰∫é‰∏Ä‰∏™ÈùûÁªàÁªìË°®ËææÂºè„ÄÇ ContextÁéØÂ¢ÉËßíËâ≤ÔºöÂ≠òÊîæÊï∞ÊçÆ Ëß£ÈáäÂô®ÊòØ‰∏Ä‰∏™ÊØîËæÉÂ∞ëÁî®ÁöÑÊ®°ÂºèÔºå‰ª•‰∏ã‰∏∫ÂÖ∂ÈÄöÁî®Ê∫êÁ†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041// ÊäΩË±°Ë°®ËææÂºèpublic abstract class Expression &#123; // ÊØè‰∏™Ë°®ËææÂºèÂøÖÈ°ªÊúâ‰∏Ä‰∏™Ëß£Èáä‰ªªÂä° public abstract Object interpreter(Context ctx);&#125;// ÁªàÁªìÁ¨¶Ë°®ËææÂºèpublic class TerminalExpression extends Expression &#123; // ÈÄöÂ∏∏ÁªàÁªìÁ¨¶Ë°®ËææÂºèÂè™Êúâ‰∏Ä‰∏™Ôºå‰ΩÜÊòØÊúâÂ§ö‰∏™ÂØπË±° public Object interpreter(Context ctx) &#123; // ‰∏ªË¶ÅÂ§ÑÁêÜÂú∫ÊôØÂÖÉÁ¥†ÂíåÊï∞ÊçÆÁöÑËΩ¨Êç¢ return null; &#125;&#125;// ÈùûÁªàÁªìÁ¨¶Ë°®ËææÂºèpublic class NotermianlExpression extends Expression &#123; // ÊØè‰∏™ÈùûÁªàÁªìÁ¨¶Ë°®ËææÂºèÈÉΩ‰ºöÂØπÂÖ∂‰ªñË°®ËææÂºè‰∫ßÁîü‰æùËµñ public NotermianlExpression(Expression... expression) &#123;&#125; public Object interpreter(Context ctx) &#123; // ËøõË°åÊñáÊ≥ïÂ§ÑÁêÜ return null; &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; Context ctx = new Context(); // ÈÄöÂ∏∏ÂÆö‰∏Ä‰∏™ËØ≠Ê≥ïÂÆπÂô®ÔºåÂÆπÁ∫≥‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑË°®ËææÂºèÔºåÈÄöÂ∏∏‰∏∫ListArray„ÄÅLinkedList„ÄÅStackÁ≠âÂÆπÂô® Stack&lt;Expression&gt; stack = null; for(;;) &#123; // ËøõË°åËØ≠Ê≥ïÂà§Êñ≠ÔºåÂπ∂‰∫ßÁîüÈÄíÂΩíË∞ÉÁî® &#125; // ‰∫ßÁîü‰∏Ä‰∏™ÂÆåÊï¥ÁöÑËØ≠Ê≥ïÊ†ëÔºåÁî±ÂêÑ‰∏™ÂÖ∑‰ΩìÁöÑËØ≠Ê≥ïÂàÜÊûêËøõË°åËß£Êûê Expression exp = stack.pop(); // ÂÖ∑‰ΩìÂÖÉÁ¥†ËøõÂÖ•Âú∫ÊôØ exp.interpreter(ctx); &#125;&#125; ÈÄöÂ∏∏ClientÊòØ‰∏Ä‰∏™Â∞ÅË£ÖÁ±ªÔºåÂ∞ÅË£ÖÁöÑÁªìÊûúÂ∞±ÊòØ‰º†ÈÄíËøõÊù•ÁöÑËßÑËåÉËØ≠Ê≥ïÊñá‰ª∂ÔºåËß£ÈáäÂô®ÂàÜÊûêÂêé‰∫ßÁîüÁªìÊûúÂπ∂ËøîÂõûÔºåÈÅøÂÖç‰∫ÜË∞ÉÁî®ËÄÖ‰∏éËØ≠Ê≥ïËß£ÊûêÂô®ÁöÑËÄ¶ÂêàÂÖ≥Á≥ª„ÄÇ Â∫îÁî®‰ºòÁÇπËß£ÈáäÂô®ÊòØ‰∏Ä‰∏™ÁÆÄÂçïËØ≠Ê≥ïÂàÜÊûêÂ∑•ÂÖ∑ÔºåÂÆÉÊúÄÊòæËëóÁöÑÊúâÁÇπÂ∞±ÊòØÊâ©Â±ïÊÄßÔºå‰øÆÊîπËØ≠Ê≥ïËßÑÂàôÂè™Ë¶Å‰øÆÊîπÁõ∏Â∫îÁöÑÈùûÁªàÁªìÁ¨¶Ë°®ËææÂºèÂ∞±ÂèØ‰ª•‰∫ÜÔºåËã•Êâ©Â±ïËØ≠Ê≥ïÔºåÂàôÂè™Ë¶ÅÂ¢ûÂä†ÈùûÁªàÁªìÁ¨¶Á±ªÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ Áº∫ÁÇπ Ëß£ÈáäÂô®Ê®°Âºè‰ºöÂºïËµ∑Á±ªËÜ®ËÉÄÔºàÊòæËÄåÊòìËßÅÔºâ Ëß£ÈáäÂô®ÈááÁî®ÈÄíÂΩíË∞ÉÁî®ÊñπÊ≥ïÔºåË∞ÉËØïÂ§çÊùÇÔºå‰∏îÂΩ±ÂìçÊïàÁéá„ÄÇ ‰ΩøÁî®Âú∫ÊôØ ÈáçÂ§çÂèëÁîüÁöÑÈóÆÈ¢òÂèØ‰ª•‰ΩøÁî®Ëß£ÈáäÂô®Ê®°ÂºèÔºåÂ¶ÇÂØπ‰∏çÂêåÁöÑÊó•ÂøóÊñá‰ª∂ËøõË°å‰∏çÂêåÁöÑÂàÜÊûê„ÄÇ ‰∏Ä‰∏™ÁÆÄÂçïËØ≠Ê≥ïÈúÄË¶ÅËß£ÈáäÁöÑÂú∫ÊôØ„ÄÇ Ê≥®ÊÑè‰∫ãÈ°πÂ∞ΩÈáè‰∏çË¶ÅÂú®ÈáçË¶ÅÁöÑÊ®°Âùó‰∏≠‰ΩøÁî®Ëß£ÈáäÂô®Ê®°ÂºèÔºåÂê¶ÂàôÁª¥Êä§Âõû‰∫ã‰∏Ä‰∏™ÂæàÂ§ßÁöÑÈóÆÈ¢ò„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µËß£ÈáäÂô®Ê®°ÂºèÂú®ÂÆûÈôÖÁöÑÁ≥ªÁªüÂºÄÂèë‰∏≠‰ΩøÁî®ÂæóÈùûÂ∏∏Â∞ëÔºåÂõ†‰∏∫ÂÆÉ‰ºöÂºïËµ∑ÊïàÁéáÈóÆÈ¢ò„ÄÅÊÄßËÉΩ‰ª•ÂèäÁª¥Êä§Á≠âÈóÆÈ¢òÔºå‰∏ÄËà¨Âú®Â§ß‰∏≠ÂûãÁöÑÊ°ÜÊû∂ÂûãÈ°πÁõÆËÉΩÂ§üÊâæÂà∞ÂÆÉÁöÑË∫´ÂΩ±ÔºåÂ¶Ç‰∏Ä‰∫õÊï∞ÊçÆÂàÜÊûêÂ∑•ÂÖ∑„ÄÅÊä•Ë°®ËÆæËÆ°Â∑•ÂÖ∑„ÄÅÁßëÂ≠¶ËÆ°ÁÆóÂ∑•ÂÖ∑Á≠âÔºåËã•‰Ω†Á°ÆÂÆûÈÅáÂà∞‚Äú‰∏ÄÁßçÁâπÂÆöÁ±ªÂûãÁöÑÈóÆÈ¢òÂèëÁîüÁöÑÈ¢ëÁéáË∂≥Â§üÈ´ò‚ÄùÁöÑÊÉÖÂÜµ‰∏ãÔºåÂáÜÂ§á‰ΩøÁî®Ëß£ÈáäÂô®Ê®°ÂºèÊó∂ÔºåÂèØ‰ª•ËÄÉËôë‰∏Ä‰∏ãExpression4J„ÄÅMESP„ÄÅJepÁ≠âÂºÄÂÖÉÁöÑËß£ÊûêÂ∑•ÂÖ∑ÂåÖ„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÁä∂ÊÄÅÊ®°Âºè]]></title>
    <url>%2F2018%2F03%2F18%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁä∂ÊÄÅÔºà‰∏Ä‰∏™ÂèòÈáèÔºâÂèòÂåñ‰∫ÜÔºåÁÑ∂ÂêéÂ∞±‰ºöÂá∫Áé∞‰∏çÂêåÁöÑË°å‰∏∫ÔºåËøôÂ∞±ÊòØÂØπÁä∂ÊÄÅÊ®°ÂºèÊúÄÁÆÄÂçïÁöÑÁêÜËß£ÔºåÂΩìÁÑ∂ÂÆÉËøòÊúâÂæàÂ§öÁ∫¶Êùü„ÄÇ ÂÆö‰πâÂΩì‰∏Ä‰∏™ÂØπË±°ÂÜÖÂú®Áä∂ÊÄÅÊîπÂèòÊó∂ÂÖÅËÆ∏ÂÖ∂‰ªñÊîπÂèòË°å‰∏∫ÔºåËøô‰∏™ÂØπË±°ÁúãËµ∑Êù•ÂÉèÊîπÂèòÂÖ∂Á±ª„ÄÇ‚Äî‚ÄîË°å‰∏∫Á±ª Áä∂ÊÄÅÊ®°ÂºèÁöÑÊ†∏ÂøÉÊòØÂ∞ÅË£ÖÔºåÁä∂ÊÄÅÁöÑÂèòÊõ¥ÂºïËµ∑‰∫ÜË°å‰∏∫ÁöÑÂèòÊõ¥Ôºå‰ªéÂ§ñÈÉ®ÂºÄËµ∑Êù•Â∞±Â•ΩÂÉèËøô‰∏™ÂØπË±°ÂØπÂ∫îÁöÑÁ±ªÂèëÁîü‰∫ÜÊîπÂèò‰∏ÄÊ†∑ÔºåÁä∂ÊÄÅÊ®°ÂºèÁöÑÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö ÁÆÄÂçï‰ªãÁªçÁ±ªÂõæ‰∏≠ÁöÑ3‰∏™ËßíËâ≤ StateÊäΩË±°Áä∂ÊÄÅËßíËâ≤ÔºöË¥üË¥£ÂØπË±°ÁöÑÁä∂ÊÄÅÁöÑÂÆö‰πâÔºåÂπ∂‰∏îÂ∞ÅË£ÖÁéØÂ¢ÉËßíËâ≤‰ª•ÂÆûÁé∞Áä∂ÊÄÅÁöÑÂàáÊç¢„ÄÇ ConcreteStateÂÖ∑‰ΩìÂØπË±°Áä∂ÊÄÅÂÆö‰πâÔºöÊØè‰∏™ÂÖ∑‰ΩìÁä∂ÊÄÅÂøÖÈ°ªÂÆåÊàê‰∏§‰∏™ËÅåË¥£ÔºöÊú¨Áä∂ÊÄÅÁöÑË°å‰∏∫ÁÆ°ÁêÜ‰ª•ÂèäË∂ãÂêëÁä∂ÊÄÅÂ§ÑÁêÜ„ÄÇ ContextÁéØÂ¢ÉËßíËâ≤ÔºöÂÆö‰πâÂÆ¢Êà∑Á´ØÈúÄË¶ÅÁöÑÊé•Âè£ÔºåÂπ∂‰∏îË¥üË¥£ÂÖ∑‰ΩìÁä∂ÊÄÅÁöÑÂàáÊç¢„ÄÇ ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Ê∫êÁ†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182// ÊäΩË±°Áä∂ÊÄÅËßíËâ≤public abstract class State &#123; // ÂÆö‰πâ‰∏Ä‰∏™ÁéØÂ¢ÉËßíËâ≤ÔºåÊèê‰æõÂ≠êÁ±ªËÆøÈóÆ protected Context context; // ËÆæÁΩÆÁéØÂ¢ÉËßíËâ≤ public void setContext(Context _context) &#123; this.context = _context; &#125; // Ë°å‰∏∫1 public abstract void handle1(); // Ë°å‰∏∫2 public abstract void handle2();&#125;// ÂÖ∑‰ΩìÁä∂ÊÄÅËßíËâ≤public alass concreteState1 extends State &#123; @Override public void handle1() &#123; // Êú¨Áä∂ÊÄÅ‰∏ãÂøÖÈ°ªÂ§ÑÁêÜÁöÑÈÄªËæë &#125; @Override public void handle2() &#123; // ËÆæÁΩÆÂΩìÂâçÁä∂ÊÄÅ‰∏∫state2 super.context.setCurrentState(Context.STATE2); // ËøáÂ∫¶Âà∞state2Áä∂ÊÄÅÔºåÁî±ContextÂÆûÁé∞ super.context.handle2(); &#125;&#125;public alass concreteState2 extends State &#123; @Override public void handle2() &#123; // Êú¨Áä∂ÊÄÅ‰∏ãÂøÖÈ°ªÂ§ÑÁêÜÁöÑÈÄªËæë &#125; @Override public void handle1() &#123; // ËÆæÁΩÆÂΩìÂâçÁä∂ÊÄÅ‰∏∫state1 super.context.setCurrentState(Context.STATE1); // ËøáÂ∫¶Âà∞state1Áä∂ÊÄÅÔºåÁî±ContextÂÆûÁé∞ super.context.handle1(); &#125;&#125;// ÁéØÂ¢ÉËßíËâ≤ÔºåÂÆÉÂÖ∑Êúâ‰ª•‰∏ã‰∏§‰∏™‰∏çÊàêÊñáÁöÑÁ∫¶ÊùüÔºö// 1. ÊääÁä∂ÊÄÅÂØπË±°Â£∞Êòé‰∏∫ÈùôÊÄÅÂèòÈáèÔºåÊúâÂá†‰∏™Áä∂ÊÄÅÂØπË±°Â∞±Â£∞ÊòéÂá†‰∏™ÈùôÊÄÅÂèòÈáè// 2. ÁéØÂ¢ÉËßíËâ≤ÂÖ∑ÊúâÁä∂ÊÄÅÊäΩË±°ËßíËâ≤ÂÆö‰πâÁöÑÊâÄÊúâË°å‰∏∫ÔºåÂÖ∑‰ΩìÊâßË°å‰ΩøÁî®ÂßîÊâòÊñπÂºèpublic class Context &#123; // ÂÆö‰πâÁä∂ÊÄÅ public final static State STATE1 = new ConcreteState1(); public final static State STATE2 = new ConcreteState2(); // ÂΩìÂâçÁä∂ÊÄÅ private State currentState; // Ëé∑ÂæóÂΩìÂâçÁä∂ÊÄÅ public State getCurrentState() &#123; returncurrentState; &#125; // ËÆæÁΩÆÂΩìÂâçÁä∂ÊÄÅ public void setCurrentState(State currentState) &#123; this.currentState = currentState; // ÂàáÊç¢Áä∂ÊÄÅ, ÈáçË¶Å this.currentState.setContext(this); // Ë°å‰∏∫ÂßîÊâò, ÈáçË¶Å public void handle1() &#123; this.currentState.handle1(); &#125; public void handle2() &#123; this.currentState.handle2(); &#125; &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // ÂÆö‰πâÁéØÂ¢ÉËßíËâ≤ Context context = new Context(); // ÂàùÂßãÂåñÁä∂ÊÄÅ context.setCurrentState(new ConcreteState1()); // Ë°å‰∏∫ÊâßË°å context.handle1(); context.handle2(); &#125;&#125; Â∫îÁî®‰ºòÁÇπ ÁªìÊûÑÊ∏ÖÊô∞ÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÁª¥Êä§ÊÄß ÈÅµÂæ™ËÆæËÆ°ÂéüÂàôÔºåÂæàÂ•Ω‰ΩìÁé∞‰∫ÜÂºÄÈó≠ÂéüÂàôÂíåÂçï‰∏ÄËÅåË¥£ÂéüÂàô„ÄÇ Â∞ÅË£ÖÊÄßÈùûÂ∏∏Â•ΩÔºåÂ∞ÜÁä∂ÊÄÅÂèòÂåñÊîæÁΩÆÂà∞Á±ªÁöÑÂÜÖÈÉ®Êù•ÂÆûÁé∞ÔºåÂ§ñÈÉ®ÁöÑË∞ÉÁî®‰∏çÁî®Áü•ÈÅìÁ±ªÂÜÖÈÉ®Â¶Ç‰ΩïÂÆûÁé∞Áä∂ÊÄÅÂíåË°å‰∏∫ÁöÑÂèòÊç¢„ÄÇ Áº∫ÁÇπÂè™Êúâ‰∏Ä‰∏™Áº∫ÁÇπÔºåÂ∞±ÊòØ‰ºöÈöèÁùÄÁä∂ÊÄÅÁöÑÂ¢ûÂ§ö‰ºöÂá∫Áé∞Á±ªËÜ®ËÉÄ„ÄÇ ‰ΩøÁî®Âú∫ÊôØ Ë°å‰∏∫ÈöèÁä∂ÊÄÅÊîπÂèòËÄåÊîπÂèòÁöÑÂú∫ÊôØÔºåÂ¶ÇÊùÉÈôêËÆæËÆ°„ÄÇ Êù°‰ª∂„ÄÅÂàÜÊîØÂà§Êñ≠ËØ≠Âè•ÁöÑÊõø‰ª£ËÄÖ„ÄÇ Ê≥®ÊÑè‰∫ãÈ°πÁä∂ÊÄÅÊ®°ÂºèÈÄÇÁî®‰∫éÂΩìÊüê‰∏™ÂØπË±°Âú®ÂÆÉÁöÑÁä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ÔºåÂÆÉÁöÑË°å‰∏∫‰πüÈöèÁùÄÂèëÁîüÊØîËæÉÂ§ßÁöÑÂèòÂåñÔºå‰πüÂ∞±ÊòØËØ¥Âú®Ë°å‰∏∫ÂèóÁä∂ÊÄÅÁ∫¶ÊùüÁöÑÊÉÖÂÜµ‰∏ãÂèØ‰ª•‰ΩøÁî®Áä∂ÊÄÅÊ®°ÂºèÔºåËÄå‰∏î‰ΩøÁî®Êó∂ÂØπË±°ÁöÑÁä∂ÊÄÅÊúÄÂ•Ω‰∏çË¶ÅË∂ÖËøá5‰∏™„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÁä∂ÊÄÅÊ®°ÂºèÂÖ∂ÂÆûÁªèÂ∏∏‰ºöÈÅáÂà∞ÔºåÂõ†‰∏∫Âü∫Êú¨‰∏äÈÉΩ‰ºöÈÅáÂà∞Áä∂ÊÄÅÁöÑÂàáÊç¢„ÄÇÂØπ‰∫éÁä∂ÊÄÅÈ°∫Â∫èÁöÑ‰∏çÂêåÁªÑÊàê‰∏çÂêåÁöÑÁä∂ÊÄÅÂèòÂåñÁ∫øÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Âª∫ÈÄ†ËÄÖÊ®°Âºè„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîËÆøÈóÆËÄÖÊ®°Âºè]]></title>
    <url>%2F2018%2F03%2F15%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∏Ä‰∏™ÂØπË±°ÁªìÊûÑÂåÖÂê´ÂæàÂ§öÁ±ªÂØπË±°Ôºå‰ªñ‰ª¨ÂèàÊúâ‰∏çÂêåÁöÑÊé•Âè£ÔºåËÄå‰Ω†ÊÉ≥ÂØπËøô‰∫õÂØπË±°ÂÆûÊñΩ‰∏Ä‰∫õ‰æùËµñ‰∫éÂÖ∂ÂÖ∑‰ΩìÁ±ªÁöÑÊìç‰ΩúÔºåÊé•ÂèØ‰ª•‰ΩøÁî®ËÆøÈóÆËÄÖÊ®°Âºè„ÄÇ ÂÆö‰πâÂ∞ÅË£Ö‰∏Ä‰∫õ‰ΩúÁî®‰∫éÊüêÁßçÊï∞ÊçÆÁªìÊûÑ‰∏≠ÁöÑÂêÑÂÖÉÁ¥†ÁöÑÊìç‰ΩúÔºåÂÆÉÂèØ‰ª•Âú®‰∏çÊîπÂèòÊï∞ÊçÆÁªìÊûÑÁöÑÂâçÊèê‰∏ãÂÆö‰πâ‰ΩúÁî®‰∏éËøô‰∫õÂÖÉÁ¥†ÁöÑÊñ∞Êìç‰Ωú„ÄÇ‚Äî‚ÄîË°å‰∏∫Á±ª ÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö Êàë‰ª¨ÁúãÁúãÁ±ªÂõæ‰∏≠Âá†‰∏™ËßíËâ≤ÁöÑËÅåË¥£Ôºö VisitorÊäΩË±°ËÆøÈóÆËÄÖÔºöÂ£∞ÊòéËÆøÈóÆËÄÖÂèØ‰ª•ËÆøÈóÆÂì™‰∫õÂÖÉÁ¥†ÔºåÂÖ∑‰ΩìÂà∞Á®ãÂ∫èÊâæÈÇ£‰∏™Â∞±ÊòØvisitÊñπÊ≥ïÁöÑÂèÇÊï∞ÂÆö‰πâÂì™‰∫õÂØπË±°ÊòØÂèØ‰ª•Ë¢´ËÆøÈóÆÁöÑ„ÄÇ ConcreteVisitorÂÖ∑‰ΩìËÆøÈóÆËÄÖÔºöÂÆÉÂΩ±ÂìçËÆøÈóÆËÄÖËÆøÈóÆÂà∞‰∏Ä‰∏™Á±ªÂêéËØ•ÊÄé‰πàÂπ≤ÔºåË¶ÅÂÅö‰ªÄ‰πà‰∫ãÊÉÖ„ÄÇ ElementÊäΩË±°ÂÖÉÁ¥†ÔºöÂ£∞ÊòéÊé•ÂèóÂì™‰∏ÄÁ±ªËÆøÈóÆËÄÖËÆøÈóÆÔºåÁ®ãÂ∫è‰∏äÊòØÈÄöËøáacceptÊñπÊ≥ï‰∏≠ÁöÑÂèÇÊï∞Êù•ÂÆö‰πâÁöÑ„ÄÇ ConcreteElementÂÖ∑‰ΩìÂÖÉÁ¥†ÔºöÂÆûÁé∞acceptÊñπÊ≥ïÔºåÈÄöÂ∏∏ÊòØvisitor.visit(this)ÔºåÂü∫Êú¨ÈÉΩÂΩ¢Êàê‰∫Ü‰∏ÄÁßçÊ®°Âºè‰∫Ü„ÄÇ ObjectStrutureÁªìÊûÑÂØπË±°ÔºöÂÖÉÁ¥†‰∫ßÁîüËÄÖÔºå‰∏ÄËà¨ÂÆπÁ∫≥Âú®Â§ö‰∏™‰∏çÂêåÁ±ªÔºå‰∏çÂêåÊé•Âè£ÁöÑÂÆπÂô®ÔºåÂ¶ÇListÔºåSetÔºåMapÁ≠âÔºåÂú®È°πÁõÆ‰∏≠Ôºå‰∏ÄËà¨ÂæàÂ•ΩÊäΩË±°Âá∫Ëøô‰∏™ËßíËâ≤„ÄÇ Êé•ÁùÄÁúãÁúãÂÖ∑‰ΩìÁöÑÈÄöÁî®Ê∫êÁ†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273// ÊäΩË±°ÂÖÉÁ¥†public abstract class Element &#123; // ÂÆö‰πâ‰∏öÂä°ÈÄªËæë public abstract void doSomething(); // ÂÖÅËÆ∏Ë∞ÅÊù•ËÆøÈóÆ public abstract void accept(Ivisitor visitor);&#125;// ÂÖ∑‰ΩìÂÖÉÁ¥†public class ConcreteElement1 extends Element &#123; // ÂÆåÂñÑ‰∏öÂä°ÈÄªËæë public void doSomething() &#123; // ‰∏öÂä°Â§ÑÁêÜ &#125; // ÂÖÅËÆ∏Âì™‰∏™ËÆøÈóÆËÄÖËÆøÈóÆ public void accept(Ivisitor visitor) &#123; visitor.visit(this); &#125;&#125;public class ConcreteElement2 extends Element &#123; // ÂÆåÂñÑ‰∏öÂä°ÈÄªËæë public void doSomething() &#123; // ‰∏öÂä°Â§ÑÁêÜ &#125; // ÂÖÅËÆ∏Âì™‰∏™ËÆøÈóÆËÄÖËÆøÈóÆ public void accept(Ivisitor visitor) &#123; visitor.visit(this); &#125;&#125;// ÊäΩË±°ËÆøÈóÆËÄÖpublic interface Ivisitor &#123; // ÂèØ‰ª•ËÆøÈóÆÂì™‰∫õÂØπË±° public void visitor (ConcreteElement1 el1); public void visitor (ConcreteElement2 el2);&#125;// ÂÖ∑‰ΩìËÆøÈóÆËÄÖpublic class Visitor implements Ivisitor &#123; // ËÆøÈóÆel1ÂÖÉÁ¥† public void visit(ConcreteElement1 el1) &#123; el1.doSomething; &#125; // ËÆøÈóÆel2ÂÖÉÁ¥† public void visit(ConcreteElement2 el2) &#123; el2.doSomething(); &#125;&#125;// ÁªìÊûÑÂØπË±° ‰∫ßÁîü‰∏çÂêåÁöÑÂÖÉÁ¥†ÂØπË±°ÔºåÂèØ‰ª•Áî®Â∑•ÂéÇÊñπÂºèÊ®°ÂºèÊ®°Êãüpublic class ObjectStruture &#123; // ÂØπË±°ÁîüÊàêÂô®ÔºåÈÄöËøáÂ∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÊ®°Êãü public static Element createElement() &#123; Random random = new Random(); if(random.nextInt(100) &gt;50) &#123; return new ConcreteElement1(); &#125; else &#123; return new ConcreteElement2(); &#125; &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; for(int i = 0; i&lt;10; i++) &#123; // Ëé∑ÂèñÂÖÉÁ¥†ÂØπË±° Element el = ObjectStruture.createElement(); // Êé•ÂèóËÆøÈóÆËÄÖËÆøÈóÆ el.accept(new Visitor()); &#125; &#125;&#125; Â∫îÁî®‰ºòÁÇπ Á¨¶ÂêàÂçï‰∏ÄËÅåË¥£ÂéüÂàô„ÄÇÂÖ∑‰ΩìÂÖÉÁ¥†ËßíËâ≤Ë¥üË¥£Êï∞ÊçÆÁöÑÂä†ËΩΩÔºåËÆøÈóÆËÄÖÁ±ªË¥üË¥£Êä•Ë°®ÁöÑÂ±ïÁé∞ÔºåËÅåË¥£ÊòéÁ°Æ„ÄÇ ‰ºòÁßÄÁöÑÊâ©Â±ïÊÄß„ÄÇÊä•Ë°®‰∏çÂêåÂè™ÈúÄË¶Å‰øÆÊîπvisitÊñπÊ≥ï„ÄÇ ÁÅµÊ¥ªÊÄßÈùûÂ∏∏È´ò„ÄÇ Áº∫ÁÇπ ÂÖ∑‰ΩìÂÖÉÁ¥†ÂØπËÆøÈóÆËÄÖÂÖ¨Â∏ÉÁªÜËäÇÔºå‰∏çÁ¨¶ÂêàËø™Á±≥ÁâπÊ≥ïÂàô„ÄÇ ÂÖ∑‰ΩìÂÖÉÁ¥†ÂèòÊõ¥ÊØîËæÉÂõ∞Èöæ„ÄÇ ËøùËÉå‰∫Ü‰æùËµñÂÄíÁΩÆÂéüÂàôÔºåËÆøÈóÆËÄÖ‰æùËµñÁöÑÊòØÂÖ∑‰ΩìÂÖÉÁ¥†ÔºåËÄå‰∏çÊòØÊäΩË±°ÂÖÉÁ¥†„ÄÇ ‰ΩøÁî®Âú∫ÊôØ ‰∏Ä‰∏™ÂØπË±°ÁªìÊûÑÂåÖÂê´ÂæàÂ§öÁ±ªÂØπË±°Ôºå‰ªñ‰ª¨ÂèàÊúâ‰∏çÂêåÁöÑÊé•Âè£ÔºåËÄå‰Ω†ÊÉ≥ÂØπËøô‰∫õÂØπË±°ÂÆûÊñΩ‰∏Ä‰∫õ‰æùËµñ‰∫éÂÖ∂ÂÖ∑‰ΩìÁ±ªÁöÑÊìç‰ΩúÔºå‰πüÂ∞±ÊòØËØ¥Áî®Ëø≠‰ª£Âô®Ê®°ÂºèÂ∑≤Áªè‰∏çËÉΩËÉú‰ªªÁöÑÊÉÖÊôØ„ÄÇ ÈúÄË¶ÅÂØπ‰∏Ä‰∏™ÂØπË±°ÁªìÊûÑ‰∏≠ÁöÑÂØπË±°ËøõË°å‰∏çÂêåÂπ∂‰∏î‰∏çÁõ∏ÂÖ≥ÁöÑÊìç‰ΩúÔºåËÄå‰Ω†ÊÉ≥ÈÅøÂÖçËÆ©Ëøô‰∫õÊìç‰Ωú‚ÄúÊ±°Êüì‚ÄùËøô‰∫õÂØπË±°ÁöÑÁ±ª„ÄÇ ÊÄªÁªìÔºöÂú®ËøôÁßçÂú∞Êñπ‰∏ÄÂÆöË¶ÅËÄÉËôë‰ΩøÁî®ËÆøÈóÆËÄÖÊ®°ÂºèÔºö‰∏öÂä°ËßÑÂàôË¶ÅÊ±ÇÈÅçÂéÜÂ§ö‰∏™‰∏çÂêåÁöÑÂØπË±°ÔºåËø≠‰ª£Âô®Âè™ËÉΩËÆøÈóÆÂêåÁ±ªÊàñÂêåÊé•Âè£ÁöÑÊï∞ÊçÆÔºåËÄåËÆøÈóÆËÄÖÊ®°ÂºèÊòØÂØπËø≠‰ª£Âô®Ê®°ÂºèÁöÑÊâ©ÂÖÖÔºåÂèØ‰ª•ÈÅçÂéÜ‰∏çÂêåÁöÑÂØπË±°ÔºåÁÑ∂ÂêéÊâßË°å‰∏çÂêåÁöÑÊìç‰Ωú„ÄÇËÆøÈóÆËÄÖÊ®°ÂºèËøòÂèØ‰ª•ÂÖÖÂΩìÊã¶Êà™Âô®ÁöÑËßíËâ≤„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µËÆøÈóÆËÄÖÊ®°Âºè‰∏ÄÁßçÈõÜ‰∏≠ËßÑÊï¥Ê®°ÂºèÔºåÁâπÂà´ÈÄÇÁî®‰∫éÂ§ßËßÑÊ®°ÈáçÊûÑÁöÑÈ°πÁõÆ„ÄÇÈÄöËøáËÆøÈóÆËøô‰πàÊ¨ßÂºèÂèØ‰ª•ÂæàÂÆπÊòìÂêß‰∏Ä‰∫õËøõË°åÊ¢≥ÁêÜÔºåËææÂà∞ÊúÄÁªàÁõÆÁöÑ‚Äî‚ÄîÂäüËÉΩÈõÜ‰∏≠Âåñ„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÂ§áÂøòÂΩïÊ®°Âºè]]></title>
    <url>%2F2018%2F03%2F14%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö Â§áÂøòÂΩïÊ®°ÂºèÊòØÊàë‰ª¨ËÆæËÆ°‰∏äÁöÑ‚ÄúÊúàÂÖâÂÆùÁõí‚ÄùÔºåÂèØ‰ª•ËÆ©Êàë‰ª¨ÂõûÂà∞ÈúÄË¶ÅÁöÑÂπ¥‰ª£ÔºõÊòØÁ®ãÂ∫èÊï∞ÊçÆÁöÑ‚ÄúÂêéÊÇîËçØ‚ÄùÔºåÂêÉ‰∫ÜÂÆÉÂ∞±ÂèØ‰ª•ËøîÂõû‰∏ä‰∏Ä‰∏™Áä∂ÊÄÅÔºõÊòØËÆæËÆ°‰∫∫ÂëòÁöÑÂÆöÂøÉ‰∏∏ÔºåÁ°Æ‰øùÂç≥‰ΩøÂú®ÊúÄÂùèÁöÑÊÉÖÂÜµ‰∏ã‰πüËÉΩËé∑ÂæóÊúÄËøëÁöÑÂØπË±°Áä∂ÊÄÅ„ÄÇ ÂÆö‰πâÂ§áÂøòÂΩïÊ®°ÂºèÊèê‰æõ‰∫Ü‰∏ÄÁßçÂº•Ë°•ÁúüÂÆû‰∏ñÁïåÁº∫Èô∑ÁöÑÊñπÊ≥ïÔºåËÆ©‚ÄúÂêéÊÇîËçØ‚ÄùÂú®Á®ãÂ∫èÁöÑ‰∏ñÁïå‰∏≠ÁúüÂÆûÂèØË°åÔºåÂÖ∂ÂÆö‰πâÂ¶Ç‰∏ãÔºö Âú®‰∏çÁ†¥ÂùèÂ∞ÅË£ÖÊÄßÁöÑÂâçÊèê‰∏ãÔºåÊçïËé∑‰∏Ä‰∏™ÂØπË±°ÁöÑÂÜÖÈÉ®Áä∂ÊÄÅÔºåÂπ∂Âú®ÊîπÂØπË±°‰πãÂ§ñ‰øùÂ≠òËøô‰∏™Áä∂ÊÄÅÔºåËøôÊ†∑‰ª•ÂêéÂ∞±ÂèØÂ∞ÜËØ•ÂØπË±°ÁöÑÊÅ¢Â§çÂà∞ÂéüÂÖà‰øùÂ≠òÁöÑÁä∂ÊÄÅ„ÄÇ‚Äî‚ÄîË°å‰∏∫Á±ª Â§áÂøòÂΩïÊ®°ÂºèÂ∞±ÊòØ‰∏Ä‰∏™ÂØπË±°ÁöÑÂ§á‰ªΩÊ®°ÂºèÔºåÊèê‰æõ‰∫Ü‰∏ÄÁßçÁ®ãÂ∫èÊï∞ÊçÆÁöÑÂ§á‰ªΩÊñπÊ≥ïÔºåÂÖ∂ÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö ‰∏ãÈù¢ÁÆÄÂçï‰ªãÁªçÁ±ªÂõæ‰∏≠ÁöÑÂá†‰∏™ËßíËâ≤Ôºö OriginatorÂèëËµ∑‰∫∫ËßíËâ≤ÔºöËÆ∞ÂΩïÂΩìÂâçÊó∂ÂàªÁöÑÂÜÖÈÉ®Áä∂ÊÄÅÔºåË¥üË¥£ÂÆö‰πâÂì™‰∫õÂ±û‰∫éÂ§á‰ªΩËåÉÂõ¥ÁöÑÁä∂ÊÄÅÔºåË¥üË¥£ÂàõÂª∫ÂíåÊÅ¢Â§çÂ§áÂøòÂΩïÊï∞ÊçÆ„ÄÇ MementoÂ§áÂøòÂΩïËßíËâ≤ÔºöË¥üË¥£Â≠òÂÇ®OriginatorÂèëËµ∑‰∫∫ÂØπË±°ÁöÑÂÜÖÈÉ®Áä∂ÊÄÅÔºåÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôÊèê‰æõÂèëËµ∑‰∫∫ÈúÄË¶ÅÁöÑÂÜÖÈÉ®Áä∂ÊÄÅ„ÄÇ CaretakerÂ§áÂøòÂΩïÁÆ°ÁêÜÂëòËßíËâ≤ÔºöÂØπÂ§áÂøòÂΩïËøõË°åÁÆ°ÁêÜÔºå‰øùÂ≠òÂíåÊèê‰æõÂ§áÂøòÂΩï„ÄÇ ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Ê∫ê‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162// ÂèëËµ∑‰∫∫ËßíËâ≤public class Originate &#123; // ÂÜÖÈÉ®Áä∂ÊÄÅ private String state = ""; public String getState() &#123; return state; &#125; public void setState(String state) &#123; this.state = state; &#125; // ÂàõÂª∫‰∏Ä‰∏™Â§áÂøòÂΩï public Memento createMemento() &#123; return new Memento(this.state); &#125; // ÊÅ¢Â§ç‰∏Ä‰∏™Â§áÂøòÂΩï public void restoreMemento(Memento _memento) &#123; this.setState(_memento.getState()); &#125;&#125;// Â§áÂøòÂΩïËßíËâ≤public class Memento &#123; // ÂèëËµ∑‰∫∫ÂÜÖÈÉ®Áä∂ÊÄÅ private String state = ""; // ÊûÑÈÄ†ÂáΩÊï∞‰º†ÈÄí public Memento(String _state) &#123; this.state = _state; &#125; public String getState() &#123; return state; &#125; public void setState(String state) &#123; this.state = state; &#125;&#125;// Â§áÂøòÂΩïÁÆ°ÁêÜËÄÖpublic class CareTaker &#123; // Â§áÂøòÂΩïÂØπË±° private Memento memento; public Memento getMemento() &#123; return memento; &#125; public void setMemento(Memento memento) &#123; this.memento = memento; &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // ÂÆö‰πâÂèëËµ∑‰∫∫ Originator originator = new Originator(); // ÂÆö‰πâÂá∫Â§áÂøòÂΩïÁÆ°ÁêÜÂëò Caretaker caretaker = new Caretaker(); // ÂàõÂª∫‰∏Ä‰∏™Â§áÂøòÂΩï caretaker.setMemento(originator.createMemento()); // ÊÅ¢Â§ç‰∏Ä‰∏™Â§áÂøòÂΩï originator.restoreMemento(caretaker.getMemento()); &#125;&#125; Â∫îÁî®‰ΩøÁî®Âú∫ÊôØ ÈúÄË¶Å‰øùÂ≠òÂíåÊÅ¢Â§çÊï∞ÊçÆÁöÑÁõ∏ÂÖ≥Áä∂ÊÄÅÂú∫ÊôØ„ÄÇ Êèê‰æõ‰∏Ä‰∏™ÂèØÂõûÊªöÁöÑÊìç‰Ωú„ÄÇ ÈúÄË¶ÅÁõëÊéßÁöÑÂâØÊú¨Âú∫ÊôØ„ÄÇ Êï∞ÊçÆÂ∫ìËøûÊé•ÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÂ∞±ÊòØÁî®ÁöÑÂ§áÂøòÂΩïÊ®°Âºè„ÄÇ Ê≥®ÊÑè‰∫ãÈ°π Â§áÂøòÂΩïÁöÑÁîüÂëΩÂë®Êúü Â§áÂøòÂΩïÂàõÂª∫Âá∫Êù•Â∞±Ë¶ÅÂú®‚ÄúÊúÄËøë‚ÄùÁöÑ‰ª£Á†Å‰∏≠‰ΩøÁî®ÔºåË¶Å‰∏ªÂä®ÁÆ°ÁêÜÂÆÉÁöÑÁîüÂëΩÂë®ÊúüÔºåÂª∫Á´ãÂ∞±Ë¶Å‰ΩøÁî®Ôºå‰∏ç‰ΩøÁî®Â∞±Ë¶ÅÁ´ãÂàªÂà†Èô§ÂÖ∂ÂºïÁî®ÔºåÁ≠âÂæÖÂûÉÂúæÂõûÊî∂Âô®ÂØπÂÆÉÁöÑÂõûÊî∂Â§ÑÁêÜ„ÄÇ Â§áÂøòÂΩïÊÄßËÉΩ ‰∏çË¶ÅÂú®È¢ëÁπÅÂª∫Á´ãÂ§á‰ªΩÁöÑÂú∫ÊôØ‰∏≠‰ΩøÁî®Â§áÂøòÂΩïÊ®°ÂºèÔºåÂéüÂõ†ÊúâËÄåÔºö‰∏ÄÊòØÊéßÂà∂‰∏ç‰∫ÜÂ§áÂøòÂΩïÂª∫Á´ãÁöÑÂØπË±°Êï∞ÈáèÔºõ‰∫åÊòØÂ§ßÂØπË±°ÁöÑÂª∫Á´ãÊòØË¶ÅÊ∂àËÄóËµÑÊ∫êÁöÑÔºåÁ≥ªÁªüÁöÑÊÄßËÉΩÈúÄË¶ÅËÄÉËôë„ÄÇ Êâ©Â±ïcloneÊñπÂºèÁöÑÂ§áÂøòÂΩïÂèëËµ∑‰∫∫ËßíËâ≤ËûçÂÖ•‰∫ÜÂèëËµ∑‰∫∫ËßíËâ≤ÂíåÂ§á‰ªΩË∑ØËßíËâ≤ÔºåÂà©Áî®clone()ÊñπÊ≥ïÂÖãÈöÜÂá∫Êù•ÁöÑÂØπË±°ÂÖÖÂΩìÂ§áÂøòÂΩïÂØπË±°„ÄÇ‰ΩÜÊòØÁî±‰∫éÂ≠òÂú®Ê∑±Êã∑Ë¥ùÂíåÊµÖÊã∑Ë¥ùÁöÑÈóÆÈ¢òÔºåÂú®Â§çÊùÇÁöÑÂú∫ÊôØ‰∏ãÂÆÉ‰ºöËÆ©‰Ω†ÁöÑÁ®ãÂ∫èÈÄªËæëÂºÇÂ∏∏Ê∑∑‰π±ÔºåÂõ†Ê≠§CloneÊñπÂºèÁöÑÂ§áÂøòÂΩïÊ®°ÂºèÈÄÇÁî®‰∫éÊØîËæÉÁÆÄÂçïÁöÑÂú∫ÊôØ„ÄÇ Â§öÁä∂ÊÄÅÁöÑÂ§áÂøòÂΩïÊ®°ÂºèÂ∞ÜÂ§ö‰∏™Áä∂ÊÄÅËΩ¨Êç¢Âà∞HashMap‰∏≠ÔºåÊñπ‰æøÂ§áÂøòÂΩïËßíËâ≤Â≠òÂÇ®„ÄÇ Â§öÂ§á‰ªΩÁöÑÂ§áÂøòÂΩïÂ∞ÜÂ§á‰ªΩÁöÑÊï∞ÊçÆÂ≠òÂÖ•Âà∞HashMap‰∏≠ÔºåÂπ∂ÁªôÊØè‰∏™‰∏çÂêåÁöÑÂ§á‰ªΩ‰∏Ä‰∏™‰∏çÂêåÁöÑkey„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÂ§ßÂÆ∂‰∏ªË¶ÅÁöÑËøòÊòØËÆ∞‰ΩèÊï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°Áî®ÁöÑÊòØÂ§áÂøòÂΩïÊ®°ÂºèÂ∞±Â•Ω‰∫Ü„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÈó®Èù¢Ê®°Âºè]]></title>
    <url>%2F2018%2F03%2F13%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊÄéÊ†∑‰øùËØÅ‚ÄúÈáëÁéâÂÖ∂Â§ñÔºåË¥•ÁµÆÂÖ∂‰∏≠‚ÄùÔºåÈó®Èù¢Ê®°ÂºèÂèØ‰ª•ËææÂà∞‰Ω†ÁöÑË¶ÅÊ±ÇÔºÅ ÂÆö‰πâË¶ÅÊ±Ç‰∏Ä‰∏™Â≠êÁ≥ªÁªüÁöÑÂ§ñÈÉ®‰∏éÂÖ∂ÂÜÖÈÉ®ÁöÑÈÄö‰ø°ÂøÖÈ°ªÈÄöËøá‰∏Ä‰∏™Áªü‰∏ÄÁöÑÂØπË±°ËøõË°å„ÄÇÈó®Èù¢Ê®°ÂºèÊèê‰æõ‰∏Ä‰∏™È´òÂ±ÇÊ¨°ÁöÑÊé•Âè£Ôºå‰ΩøÂæóÂ≠êÁ≥ªÁªüÊõ¥Êòì‰∫é‰ΩøÁî®„ÄÇ‚Äî‚ÄîÁªìÊûÑÁ±ª Èó®Èù¢Ê®°ÂºèÊ≥®ÈáçÁªü‰∏ÄÁöÑÂØπË±°Ôºå‰πüÂ∞±ÊòØÊèê‰æõ‰∏Ä‰∏™ËÆøÈóÆÂ≠êÁ≥ªÁªüÁöÑÊé•Âè£ÔºåÈô§‰∫ÜËøô‰∏™Êé•Âè£‰∏çÂÖÅËÆ∏Êúâ‰ªª‰ΩïËÆøÈóÆÂ≠êÁ≥ªÁªüÁöÑË°å‰∏∫ÂèëÁîüÔºåÂÖ∂ÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö ‰∏ãÈù¢ÁÆÄÂçï‰ªãÁªçÁ±ªÂõæ‰∏≠ÁöÑ‰∏§‰∏™ËßíËâ≤Ôºö FacadeÈó®Èù¢ËßíËâ≤ÔºöÂÆ¢Êà∑Á´ØË∞ÉÁî®Ëøô‰∏™ËßíËâ≤ÁöÑÊñπÊ≥ïÔºåÊ≠§ËßíËâ≤Áü•ÊôìÂ≠êÁ≥ªÁªüÁöÑÊâÄÊúâÂäüËÉΩÂíåË¥£‰ªª„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊú¨ËßíËâ≤‰ºöÂ∞ÜÊâÄÊúâ‰ªéÂÆ¢Êà∑Á´ØÂèëËµ∑ÁöÑËØ∑Ê±ÇÂßîÊ¥æÂà∞Áõ∏Â∫îÁöÑÂ≠êÁ≥ªÁªüÂéªÔºå‰πüÂ∞±ÊòØËØ¥ËØ•ËßíËâ≤Ê≤°ÊúâÂÆûÈôÖÁöÑ‰∏öÂä°ÈÄªËæëÔºåÂè™ÊòØ‰∏Ä‰∏™ÂßîÊâòÁ±ª„ÄÇ Subsystem ClassesÂ≠êÁ≥ªÁªüÊâÄÊúâÁ±ªËßíËâ≤ÔºöÂèØ‰ª•ÂêåÊó∂Êúâ‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™Â≠êÁ≥ªÁªü„ÄÇÊØè‰∏™Â≠êÁ≥ªÁªüÈÉΩ‰∏çÊòØ‰∏Ä‰∏™ÂçïÁã¨ÁöÑÁ±ªÔºåËÄåÊòØ‰∏Ä‰∏™Á±ªÁöÑÈõÜÂêàÔºåÂ≠êÁ≥ªÁªü‰∏çÁü•ÈÅìÈó®Èù¢ÁöÑÂ≠òÂú®„ÄÇ ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Ê∫êÁ†ÅÔºö123456789101112131415161718192021222324252627282930313233343536// Â≠êÁ≥ªÁªüpublic class Class A &#123; public void doSomethingA() &#123; // ‰∏öÂä°ÈÄªËæë &#125;&#125;public class ClassB &#123; public void doSomethingB() &#123; // ‰∏öÂä°ÈÄªËæë &#125;&#125;public class ClassC &#123; public void doSomethingC() &#123; // ‰∏öÂä°ÈÄªËæë &#125;&#125;// Èó®Èù¢ÂØπË±°public class Facade &#123; // Ë¢´ÂßîÊâòÁöÑÂØπË±° private ClassA a = new ClassA(); private ClassB b = new ClassB(); private ClassC c = new ClassC(); // Êèê‰æõÁªôÂ§ñÈÉ®ËÆøÈóÆÁöÑÊñπÊ≥ï public void methodA() &#123; this.a.doSomethingA(); &#125; public void methodB() &#123; this.b.doSomethingB(); &#125; public void methodC() &#123; this.c.doSomethingC(); &#125;&#125; Â∫îÁî®‰ºòÁÇπ ÂáèÂ∞ëÁ≥ªÁªüÁöÑÁõ∏‰∫í‰æùËµñ„ÄÇÊâÄÊúâÁöÑ‰æùËµñÈÉΩÊòØÂØπÈó®Èù¢ÂØπË±°ÁöÑ‰æùËµñÔºå‰∏éÂ≠êÁ≥ªÁªüÊó†ÂÖ≥„ÄÇ Êèê‰æõ‰∫ÜÁÅµÊ¥ªÊÄß„ÄÇ‰∏çÁÆ°Â≠êÁ≥ªÁªüÂÜÖÈÉ®Â¶Ç‰ΩïÂèòÂåñÔºåÂè™Ë¶Å‰∏çÂΩ±ÂìçÂà∞Èó®Èù¢ÂØπË±°Ôºå‰ªª‰Ω†Ëá™Áî±Ê¥ªÂä®„ÄÇ Êèê‰æõÂÆâÂÖ®ÊÄß„ÄÇÊÉ≥ËÆ©‰Ω†ËÆøÈóÆÂ≠êÁ≥ªÁªüÁöÑÈÇ£‰∫õ‰∏öÂä°Â∞±ÂºÄÈÄöÈÇ£‰∫õÈÄªËæëÔºå‰∏çÂú®Èó®Èù¢‰∏äÂºÄÈÄöÁöÑÊñπÊ≥ïÔºå‰Ω†‰ºëÊÉ≥ËÆøÈóÆÂà∞„ÄÇ Áº∫ÁÇπÈó®Èù¢Ê®°ÂºèÊúÄÂ§ßÁöÑÁº∫ÁÇπÂ∞±ÊòØ‰∏çÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàôÔºåÊ≤°ÊúâÂØπ‰øÆÊîπÂÖ≥Èó≠ÔºåÂØπÊâ©Â±ïÂºÄÊîæ„ÄÇ ‰ΩøÁî®Âú∫ÊôØ ‰∏∫‰∏Ä‰∏™Â§çÊùÇÁöÑÊ®°ÂùóÊàñÂ≠êÁ≥ªÁªüÊèê‰æõ‰∏Ä‰∏™‰æõÂ§ñÁïåËÆøÈóÆÁöÑÊé•Âè£„ÄÇ Â≠êÁ≥ªÁªüÁõ∏ÂØπÁã¨Á´ã‚Äî‚ÄîÂ§ñÁïåÂØπÂ≠êÁ≥ªÁªüÁöÑËÆøÈóÆÂè™Ë¶ÅÈªëÁÆ±Êìç‰ΩúÂç≥ÂèØ„ÄÇ È¢ÑÈò≤‰ΩéÊ∞¥Âπ≥‰∫∫ÂëòÂ∏¶Êù•ÁöÑÈ£éÈô©Êâ©Êï£„ÄÇ Ê≥®ÊÑè‰∫ãÈ°π ‰∏Ä‰∏™Á≥ªÁªüÂèØ‰ª•ÊúâÂ§ö‰∏™Èó®Èù¢„ÄÇÊØîÂ¶Ç‰∏ãÈù¢ÁöÑÊÉÖÂÜµÔºö Èó®Èù¢Â∑≤ÁªèÂ∫ûÂ§ßÂà∞‰∏çËÉΩÂøçÂèóÁöÑÁ®ãÂ∫¶ Â≠êÁ≥ªÁªüÂèØ‰ª•Êèê‰æõ‰∏çÂêåËÆøÈóÆË∑ØÂæÑ Èó®Èù¢‰∏çÂèÇ‰∏éÂ≠êÁ≥ªÁªüÂÜÖÁöÑ‰∏öÂä°ÈÄªËæë„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÈó®Èù¢Ê®°ÂºèÊòØ‰∏Ä‰∏™ÂæàÂ•ΩÁöÑÂ∞ÅË£ÖÊñπÊ≥ïÔºåÂæàÂ§öÊÉÖÂÜµÈÉΩÂèØ‰ª•‰ΩøÁî®Âà∞ÔºåÂ¶Ç‰∏ãÈù¢ÁöÑÊÉÖÂÜµÔºö ‰∏Ä‰∏™Â≠êÁ≥ªÁªüÊØîËæÉÂ§çÊùÇÔºåÂ∞±ÂèØ‰ª•Â∞ÅË£ÖÂá∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™Èó®Èù¢ÔºåÈ°πÁõÆÁªìÊûÑÁÆÄÂçïÔºåÊâ©Â±ïÊÄßÈùûÂ∏∏Â•Ω„ÄÇ ÂØπ‰∫é‰∏Ä‰∏™ÊØîËæÉÂ§ßÁöÑÈ°πÁõÆÔºå‰∏∫‰∫ÜÈÅøÂÖç‰∫∫ÂëòÂ∏¶Êù•ÁöÑÈ£éÈô©Ôºå‰πüÂèØ‰ª•‰ΩøÁî®Èó®Èù¢Ê®°ÂºèÔºåÊäÄÊúØÊ∞¥Âπ≥Â∑ÆÁöÑÊàêÂëòÔºåÂ∞ΩÈáèÂÆâÊéíÁã¨Á´ãÁöÑÊ®°ÂùóÔºåÁÑ∂ÂêéÊää‰ªñÂÜôÁöÑÁ®ãÂ∫èÂ∞ÅË£ÖÂà∞‰∏Ä‰∏™Èó®Èù¢ÊùéÔºåÂ∞ΩÈáèËÆ©ÂÖ∂‰ªñÈ°πÁõÆÊàêÂëò‰∏çÁî®ÁúãÂà∞Ëøô‰∫õ‰∫∫ÁöÑ‰ª£Á†Å„ÄÇÁúã‰πüÁúã‰∏çÊáÇÔºåÂìàÂìà„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîËßÇÂØüËÄÖÊ®°Âºè]]></title>
    <url>%2F2018%2F03%2F12%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöË¢´ËßÇÂØüËÄÖÂÅöÂá∫Âä®‰Ωú‰∫ÜÔºåÁÑ∂ÂêéÈÄöÁü•ËßÇÂØüËÄÖÂÅöÂá∫ÂèçÂ∫î„ÄÇËßÇÂØüËÄÖÊ®°ÂºèÂ∞±ÊòØËøô‰πàÁÆÄÂçïÔºÅ ÂÆö‰πâËßÇÂØüËÄÖÊ®°ÂºèÂèàÁß∞ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè„ÄÇ ÂÆö‰πâÂØπË±°Èó¥‰∏ÄÁßç‰∏ÄÂØπÂ§öÁöÑ‰æùËµñÂÖ≥Á≥ªÔºå‰ΩøÂæóÊØèÂΩì‰∏Ä‰∏™ÂØπË±°ÊîπÂèòÁä∂ÊÄÅÔºåÂàôÊâÄÊúâÂÆÉ‰æùËµñÁöÑÂØπË±°ÈÉΩ‰ºöÂæóÂà∞ÈÄöÁü•Âπ∂Ë¢´Ëá™Âä®Êõ¥Êñ∞„ÄÇË°å‰∏∫Á±ª ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÔºö ‰∏ãÈù¢ÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ãÁ±ªÂõæ‰∏≠ÁöÑÂá†‰∏™ËßíËâ≤Ôºö SubjectË¢´ËßÇÂØüËÄÖÔºöÂÆö‰πâËßÇÂØüËÄÖÂøÖÈ°ªÂÆûÁé∞ÁöÑËÅåË¥£ÔºåÂÆÉÂøÖÈ°ªËÉΩÂ§üÂä®ÊÄÅÂú∞Â¢ûÂä†„ÄÅÂèñÊ∂àËßÇÂØüËÄÖ„ÄÇÁÆ°ÁêÜËßÇÂØüËÄÖÂπ∂ÈÄöÁü•ËßÇÂØüËÄÖ„ÄÇ ObserverËßÇÂØüËÄÖÔºöËßÇÂØüËÄÖÊé•ÂèóÂà∞Ê∂àÊÅØÂêéÔºåÂç≥ËøõË°åupdateÊìç‰ΩúÔºåÂØπÊé•Êî∂ÁöÑ‰ø°ÊÅØËøõË°åÂ§ÑÁêÜ„ÄÇ ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Ê∫ê‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556// Ë¢´ËßÇÂØüËÄÖpublic abstract class Subject &#123; // ÂÆö‰πâ‰∏Ä‰∏™ËßÇÂØüËÄÖÊï∞ÁªÑ private Vector&lt;Observer&gt; observerVector = new Vector&lt;Observer&gt;(); // Â¢ûÂä†‰∏Ä‰∏™ËßÇÂØüËÄÖ public void addObserver(Observer o) &#123; this.observerVector.add(o); &#125; // Âà†Èô§‰∏Ä‰∏™ËßÇÂØüËÄÖ public void deleteObserver(Observer 0) &#123; this.observerVector.remove(o); &#125; // ÈÄöÁü•ÊâÄÊúâËßÇÂØüËÄÖ public void notifyObservers() &#123; for (Observer o : this.observerVector) &#123; o.update(); &#125; &#125;&#125;// ÂÖ∑‰ΩìË¢´ËßÇÂØüËÄÖpublic class ConcreteSubject extends Subject &#123; // ÂÖ∑‰ΩìÁöÑ‰∏öÂä° public void doSomething() &#123; // do somthing super.notifyObservers(); &#125;&#125;// ËßÇÂØüËÄÖpublic interface Observer &#123; // Êõ¥Êñ∞ÊñπÊ≥ï public void update();&#125;// ÂÖ∑‰ΩìËßÇÂØüËÄÖpublic class ConcreteObserver implements Observer &#123; // ÂÆûÁé∞Êõ¥Êñ∞ÊñπÊ≥ï public void updatea()&#123; System.out.println("Êé•Âà∞Ê∂àÊÅØÔºåÂπ∂ËøõË°åÂ§ÑÁêÜ"); &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // Âú∫ÊôØ‰∏Ä‰∏™Ë¢´ËßÇÂØüËÄÖ ConcreteSubject subject = new ConcreteSubject(); // ÂÆö‰πâ‰∏Ä‰∏™ËßÇÂØüËÄÖ Observer obs = new ConcreteObserver(); // ËßÇÂØüËÄÖËßÇÂØüË¢´ËßÇÂØüËÄÖ subject.addObserver(obs); // ËßÇÂØüËÄÖÂºÄÂßãÊ¥ªÂä®‰∫Ü subject.doSomething(); &#125;&#125; Â∫îÁî®‰ºòÁÇπ ËßÇÂØüËÄÖÂíåË¢´ËßÇÂØüËÄÖ‰πãÈó¥ÊòØÊäΩË±°ËÄ¶ÂêàÁöÑÔºå‰∏çÁÆ°ÊòØÂ¢ûÂä†ËßÇÂØüËÄÖÈÉΩÈùûÂ∏∏ÂÆπÊòìÊâ©Â±ï„ÄÇ Âª∫Á´ã‰∏ÄÂ•óËß¶ÂèëÊú∫Âà∂„ÄÇÂÆπÊòìÂú®Âçï‰∏ÄËÅåË¥£‰∏ãÊûÑÂª∫‰∏ÄÊù°Ëß¶ÂèëÈìæ„ÄÇ Áº∫ÁÇπËßÇÂØüËÄÖÊ®°ÂºèÈúÄË¶ÅËÄÉËôë‰∏Ä‰∏ãÂºÄÂèëÊïàÁéáÂíåËøêË°åÊïàÁéáÈóÆÈ¢òÔºå‰∏Ä‰∏™Ë¢´ËßÇÂØüËÄÖÔºåÂ§ö‰∏™ËßÇÂØüËÄÖÔºåÂºÄÂèëÂíåË∞ÉËØïÂ∞±‰ºöÊØîËæÉÂ§çÊùÇÔºåËÄå‰∏îÂú®Java‰∏≠Ê∂àÊÅØÁöÑÈÄöÁü•ÈªòËÆ§ÊòØÈ°∫Â∫èÊâßË°åÁöÑÔºå‰∏Ä‰∏™ËßÇÂØüËÄÖÂç°Â£≥Ôºå‰ºöÂΩ±ÂìçÊï¥‰ΩìÁöÑÊâßË°åÊïàÁéá„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰∏ÄËà¨ËÄÉËôëÈááÁî®ÂºÇÊ≠•ÁöÑÊñπÂºè„ÄÇ ‰ΩøÁî®Âú∫ÊôØ ÂÖ≥ËÅîË°å‰∏∫Âú∫ÊôØ„ÄÇËøôÁßçÂÖ≥ËÅîË°å‰∏∫Êó∂ÂèØ‰ª•ÊãÜÂàÜÁöÑ„ÄÇ ‰∫ã‰ª∂Â§öÁ∫ßËß¶ÂèëÂú∫ÊôØ„ÄÇ Ë∑®Á≥ªÁªüÁöÑÊ∂àÊÅØ‰∫§Êç¢Âú∫ÊôØÔºåÂ¶ÇÊ∂àÊÅØÈòüÂàóÁöÑÂ§ÑÁêÜÊú∫Âà∂„ÄÇ Ê≥®ÊÑè‰∫ãÈ°π ÂπøÊí≠Èìæ„ÄÇÂú®‰∏Ä‰∏™ËßÇÂØüËÄÖÊ®°Âºè‰∏≠ÊúÄÂ§öÂá∫Áé∞‰∏Ä‰∏™ÂØπË±°Êó¢ÊòØËßÇÂØüËÄÖÂèàÊòØË¢´ËßÇÂØüËÄÖÔºå‰πüÂ∞±ÊòØËØ¥Ê∂àÊÅØÊúÄÂ§öË¢´ËΩ¨Âèë‰∏ÄÊ¨°„ÄÇÔºàÂíåË¥£‰ªªÈìæÁöÑÂå∫Âà´Âú®‰∫éÂπøÊí≠ÈìæÂú®Ê∂àÊÅØ‰º†Êí≠ËøáÁ®ã‰∏≠Ê∂àÊÅØÊòØÂèØÂèòÁöÑÔºâ ÂºÇÊ≠•Â§ÑÁêÜÈóÆÈ¢ò„ÄÇÂ¶ÇÊûúËßÇÂØüËÄÖÊØîËæÉÂ§öÔºåÂ§ÑÁêÜÊó∂Èó¥ÈïøÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅÁî®ÂºÇÊ≠•„ÄÇÂºÇÊ≠•Â§ÑÁêÜÈúÄË¶ÅËÄÉËôëÂà∞Á∫øÁ®ãÂÆâÂÖ®ÂíåÈòüÂàóÈóÆÈ¢ò„ÄÇ Êâ©Â±ïJava‰∏ñÁïå‰∏≠ÁöÑËßÇÂØüËÄÖÊ®°ÂºèÂú®JDK‰∏≠Â∑≤ÁªèÊèê‰æõ‰∫Üjava.util.ObservableÂÆûÁé∞Á±ªÔºàË¢´ËßÇÂØüËÄÖÔºâ‰ª•Âèäjava.util.ObserverÊé•Âè£ÔºàËßÇÂØüËÄÖÔºâ„ÄÇÂ§ßÂÆ∂Ë¶ÅËÆ∞‰ΩèÂú®javaÁöÑ‰∏ñÁïåÈáåÊ®™Ë°åÊó∂ÔºåÂ§öÁúãÁúãAPIÔºåÊúâÂæàÂ§ßÁöÑÂ∏ÆÂä©ÔºåÂæàÂ§ö‰∏úË•øJavaÂ∑≤ÁªèÂ∏ÆÊàë‰ª¨ËÆæËÆ°‰∫Ü‰∏Ä‰∏™ËâØÂ•ΩÁöÑÊ°ÜÊû∂„ÄÇ È°πÁõÆ‰∏≠ÁúüÂÆûÁöÑËßÇÂØüËÄÖÊ®°ÂºèÂú®Á≥ªÁªüËÆæËÆ°‰∏≠‰ºöÂØπËßÇÂØüËÄÖÊ®°ÂºèËøõË°åÊîπÈÄ†ÊàñÊîπË£ÖÔºå‰∏ªË¶ÅÂú®‰ª•‰∏ã3‰∏™ÊñπÈù¢Ôºö ËßÇÂØüËÄÖÂíåË¢´ËßÇÂØüËÄÖ‰πãÈó¥ÁöÑÊ∂àÊÅØÊ≤üÈÄö Ë¢´ËßÇÂØüËÄÖÁä∂ÊÄÅÊîπÂèò‰ºöËß¶ÂèëËßÇÂØüËÄÖÁöÑ‰∏Ä‰∏™Ë°å‰∏∫ÔºåÂêåÊó∂‰ºö‰º†ÈÄí‰∏Ä‰∏™Ê∂àÊÅØÁªôËßÇÂØüËÄÖÔºåËøôÊòØÊ≠£Á°ÆÂú∞Ôºå‰ΩÜÊòØÂú®ÂÆûÈôÖ‰∏≠‰∏ÄËà¨ÁöÑÂÅöÊ≥ïÊòØÔºöËßÇÂØüËÄÖ‰∏≠updateÊñπÊ≥ï‰ºöÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØË¢´ËßÇÂØüËÄÖÔºå‰∏Ä‰∏™ÊòØDTOÔºàÊï∞ÊçÆ‰º†ËæìÂØπË±°ÔºâÔºåDTO‰∏ÄËà¨ÊòØ‰∏Ä‰∏™Á∫ØÊ¥ÅÁöÑJavaBeanÔºåÁî±Ë¢´ËßÇÂØüËÄÖÁîüÊàêÔºåÁî±ËßÇÂØüËÄÖÊ∂àË¥π„ÄÇ ËßÇÂØüËÄÖÂìçÂ∫îÊñπÂºè ‰∏∫‰∫ÜËß£ÂÜ≥ËßÇÂØüËÄÖÁöÑÂø´ÈÄüÂìçÂ∫îÊúâ‰ª•‰∏ã‰∏§‰∏™ÂäûÊ≥ïÔºö ÈááÁî®Â§öÁ∫øÁ®ãÊäÄÊúØ ÁºìÂ≠òÊäÄÊúØÔºàÂêåÊ≠•Êû∂ÊûÑÔºâ Ë¢´ËßÇÂØüËÄÖÂ∞ΩÈáèËá™Â∑±ÂÅö‰∏ª Ë¢´ËßÇÂØüËÄÖÁöÑÁä∂ÊÄÅÊîπÂèò‰∏ç‰∏ÄÂÆöË¶ÅÈÄöÁü•ËßÇÂØüËÄÖÔºåÊâÄ‰ª•doSomethingÊñπÊ≥ïÂèØ‰ª•Ë¢´ÈáçËΩΩÔºåÂ¢ûÂä†‰∏Ä‰∏™doSomething(boolean isNotifyObs)ÊñπÊ≥ïÔºåÂÜ≥ÂÆöÊòØÂê¶ÈÄöÁü•ËßÇÂØüËÄÖÔºåËÄå‰∏çÊòØÂú®Ê∂àÊÅØÂà∞ËææËßÇÂØüÂíåÊâçÂà§Êñ≠ÊòØÂê¶Ë¶ÅÊ∂àË¥π„ÄÇ ËÆ¢ÈòÖÂèëÂ∏ÉÊ®°ÂûãÈ°æÂêçÊÄù‰πâÂ∞±ÊòØÊ∂àÊÅØÁöÑÂèëÂ∏ÉËÄÖÂèëÂ∏É‰∏Ä‰∏™Ê∂àÊÅØÔºåÁÑ∂ÂêéÂà©Áî®Ê∂àÊÅØÈòüÂàóÈÄöÁü•ËÆ¢ÈòÖËÄÖÂÅöÂá∫ÂèçÂ∫î„ÄÇËøôÁõ∏ÂΩì‰∫éËßÇÂØüËÄÖÊ®°ÂºèÁöÑÂçáÁ∫ßÁâà„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µËßÇÂØüËÄÖÊ®°ÂºèÂú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÂíåÁîüÊ¥ª‰∏≠ÈùûÂ∏∏Â∏∏ËßÅÔºåÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºö Êñá‰ª∂Á≥ªÁªüÔºöÂú®‰∏Ä‰∏™ÁõÆÂΩï‰∏ãÊñ∞Âª∫Á´ã‰∏Ä‰∏™Êñá‰ª∂ÔºåËøô‰∏™Âä®‰Ωú‰ºöÂêåÊó∂ÈÄöÁü•ÁõÆÂΩïÁÆ°ÁêÜÂô®Â¢ûÂä†ËØ•ÁõÆÂΩï„ÄÇÊñá‰ª∂ÊòØ‰∏Ä‰∏™Ë¢´ËßÇÂØüËÄÖÔºåÁõÆÂΩïÁÆ°ÁêÜÂô®ÊòØ‰∏Ä‰∏™Ë¢´ËßÇÂØüËÄÖ„ÄÇ ÂπøÊí≠Êî∂Èü≥Êú∫ÔºöÁîµÂè∞Âú®ÂπøÊí≠ÔºåÊî∂Èü≥Êú∫Âú®Êî∂Âê¨„ÄÇÁîµÂè∞ÊòØ‰∏Ä‰∏™Ë¢´ËßÇÂØüËÄÖÔºåÊî∂Èü≥Êú∫ÊòØ‰∏Ä‰∏™Ë¢´ËßÇÂØüËÄÖ„ÄÇÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÁªÑÂêàÊ®°Âºè]]></title>
    <url>%2F2018%2F03%2F10%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÈÉ®ÂàÜÁ±ªÂèØ‰ª•ÁªÑÊàêÊï¥‰ΩìÁ±ªÔºåÁÑ∂ÂêéÊã•Êúâ‰∏Ä‰∏™Áªü‰∏ÄÁöÑÊé•Âè£ÔºåËøôÂ∞±ÊòØÁªÑÂêàÊ®°Âºè„ÄÇ ÂÆö‰πâÂ∞ÜÂØπË±°ÁªÑÂêàÊàêÊ†ëÂΩ¢ÁªìÊûÑ‰ª•Ë°®Á§∫‚ÄúÈÉ®ÂàÜ-Êï¥‰Ωì‚ÄùÁöÑÂ±ÇÊ¨°ÁªìÊûÑÔºå‰ΩøÂæóÁî®Êà∑ÂØπÂçï‰∏™ÂØπË±°ÂíåÁªÑÂêàÂØπË±°ÁöÑ‰ΩøÁî®ÂÖ∑Êúâ‰∏ÄËá¥ÊÄß„ÄÇ‚Äî‚ÄîÁªìÊûÑÁ±ª ÁªÑÂêàÊ®°Âºè‰πüÂè´ÂêàÊàêÊ®°ÂºèÔºåÊúâÊó∂ÂèàÂè´ÂÅöÈÉ®ÂàÜ‚Äî‚ÄîÊï¥‰ΩìÊ®°ÂºèÔºå‰∏ªË¶ÅÁî®Êù•ÊèèËø∞ÈÉ®ÂàÜÂíåÊï¥‰ΩìÁöÑÂÖ≥Á≥ª„ÄÇ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÔºö Êé•‰∏ãÊù•ÁÆÄÂçï‰ªãÁªçÁ±ªÂõæÁöÑÂá†‰∏™Á±ªÔºö ComponentÊäΩË±°ÊûÑÂª∫ËßíËâ≤ÔºöÂÆö‰πâÂèÇÂä†ÁªÑÂêàÂØπË±°ÁöÑÂÖ±ÊúâÊñπÊ≥ïÂíåÂ±ûÊÄßÔºåÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∫õÈªòËÆ§ÁöÑË°å‰∏∫ÊàñÂ±ûÊÄß„ÄÇ LeafÂè∂Â≠êÊûÑ‰ª∂ÔºöÂè∂Â≠êÂØπË±°ÔºåÂÖ∂‰∏ãÂÜç‰πüÊ≤°ÊúâÂÖ∂‰ªñÁöÑÂàÜÊîØÔºåÈÅçÂéÜÁöÑÊúÄÂ∞èÂçï‰Ωç„ÄÇ CompositeÊ†ëÊûùÊûÑ‰ª∂ÔºöÊ†ëÊûùÂØπË±°ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÁªÑÂêàÊ†ëÊûùËäÇÁÇπÂíåÂè∂Â≠êËäÇÁÇπÂΩ¢Êàê‰∏Ä‰∏™Ê†ëÂΩ¢ÁªìÊûÑ„ÄÇ ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Ê∫ê‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758// ÊäΩË±°ÊûÑÂª∫public abstract class Component &#123; // ‰∏™‰ΩìÂíåÊï¥‰ΩìÈÉΩÂÖ∑ÊúâÁöÑÂÖ±‰∫´ public void doSomething()&#123; // ÁºñÂÜôÈÄªËæë‰∏öÂä° &#125;&#125;// Ê†ëÊûùÊûÑ‰ª∂public class Composite extends Component &#123; // ÊûÑ‰ª∂ÂÆπÂô® private ArrayList&lt;Component&gt; componentArrayList = new ArrayList&lt;Component&gt;(); // Â¢ûÂä†‰∏Ä‰∏™Âè∂Â≠êÊûÑ‰ª∂ÊàñÊ†ëÊûùÊûÑ‰ª∂ public void add(Component component) &#123; this.componentArrayList.add(component); &#125; // Âà†Èô§‰∏Ä‰∏™Âè∂Â≠êÊûÑ‰ª∂ÊàñÊ†ëÊûùÊûÑ‰ª∂ public void remove(Component component) &#123; this.componentArrayList.remove(component); &#125; // Ëé∑ÂæóÂàÜÊîØ‰∏ãÁöÑÊâÄÊúâÂè∂Â≠êÊûÑ‰ª∂ÂíåÊ†ëÊûùÊûÑ‰ª∂ public ArrayList&lt;Component&gt; getChildren() &#123; return this.componentArrayList; &#125;&#125;// Ê†ëÂè∂ËäÇÁÇπpublic class Leaf extends Component &#123; public void doSomething() &#123; // Ë¶ÜÂÜôÁà∂Á±ªÊñπÊ≥ï &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // ÂàõÂª∫‰∏Ä‰∏™Ê†πËäÇÁÇπ Composite root = new Composite(); root.doSomething(); // ÂàõÂª∫‰∏Ä‰∏™Ê†ëÊûùËäÇÁÇπ Composite branch = new Composite(); // ÂàõÂª∫‰∏Ä‰∏™Âè∂Â≠êËäÇÁÇπ Leaf leaf = new Leaf(); // Âª∫Á´ãÊï¥‰Ωì root.add(branch); branch.add(leaf); &#125; // ÈÄöËøáÈÄíÂΩíÈÅçÂéÜÊ†ë public static void display(Composite root) &#123; for(Component c : root.getChildren()) &#123; if (c instanceof Leaf) &#123; c.doSomething(); &#125; else &#123; display((Composite) c); &#125; &#125; &#125;&#125; Êàë‰ª¨ÂèØ‰ª•‰ªéÂú∫ÊôØÁ±ªÁúãÂá∫ÁªÑÂêàÊ®°ÂºèÁ†¥Âùè‰∫Ü‰æùËµñÂÄíËΩ¨ÂéüÂàôÔºåÊ†ëÊûùÂíåÊ†ëÂè∂Áõ¥Êé•‰ΩøÁî®‰∫ÜÂÆûÁé∞Á±ª„ÄÇ Â∫îÁî®‰ºòÁÇπ È´òÂ±ÇÊ®°ÂùóË∞ÉÁî®ËäÇÁÇπÔºå‰∏ÄÊ£µÊ†ëÊú∫ÊûÑ‰∏≠ÁöÑÊâÄÊúâËäÇÁÇπÈÉΩÊòØComponent„ÄÇ ËäÇÁÇπËá™Áî±Â¢ûÂä†ÔºåÂÆπÊòìÊâ©Â±ïÔºåÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇ Áº∫ÁÇπ‰∏é‰æùËµñÂÄíÁΩÆÂéüÂàôÂÜ≤Á™ÅÔºåÈôêÂà∂‰∫ÜÊé•Âè£ÁöÑÂΩ±ÂìçËåÉÂõ¥„ÄÇ ‰ΩøÁî®Âú∫ÊôØ Áª¥Êä§ÂíåÂ±ïÁ§∫ÈÉ®ÂàÜ-Êï¥‰ΩìÂÖ≥Á≥ªÁöÑÂú∫ÊôØÔºåÂ¶ÇÊ†ëÂΩ¢ËèúÂçïÔºåÊñá‰ª∂ÂíåÊñá‰ª∂Â§πÁÆ°ÁêÜ„ÄÇ ‰ªé‰∏Ä‰∏™Êï¥‰ΩìËÉΩÂ§üÁã¨Á´ãÂá∫ÈÉ®ÂàÜÊ®°ÂùóÊàñÂäüËÉΩÁöÑÂú∫ÊôØ„ÄÇ Ê≥®ÊÑè‰∫ãÈ°πÂè™Ë¶ÅÊòØÊ†ëÂΩ¢ÁªìÊûÑÊàñËÄÖ‰ΩìÁé∞Â±ÄÈÉ®ÂíåÊï¥‰ΩìÁöÑÂÖ≥Á≥ªÁöÑÊó∂ÂÄôÔºåË¶ÅËÄÉËôëÁªÑÂêàÊ®°Âºè„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÁªÑÂêàÊ®°ÂºèÂú®È°πÁõÆ‰∏≠Âà∞Â§ÑÈÉΩÊúâÔºåÊØîÂ¶ÇÈ°µÈù¢ÁªìÊûÑÔºåXMLÁªìÊûÑÁ≠âÁ≠â„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîËø≠‰ª£Âô®Ê®°Âºè]]></title>
    <url>%2F2018%2F03%2F08%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊèêËµ∑Ëø≠‰ª£Âô®ÔºåÂ§ßÂÆ∂‰∏ÄÂÆöËÉΩÊÉ≥Âà∞JavaÁöÑIteratorÔºå‰∏çÈîôÔºåÊàë‰ª¨ËøôÊ¨°ËÆ≤ÁöÑËø≠‰ª£Âô®Ê®°ÂºèÂ∞±ÊòØÁõÆÂâçÂ§ßÈÉ®ÂàÜËØ≠Ë®ÄÈÉΩÂ∑≤ÁªèÂÆûÁé∞ÁöÑËø≠‰ª£Âô®„ÄÇ ÂÆö‰πâÂÆÉÊèê‰æõ‰∏ÄÁßçÊñπÊ≥ïËÆøÈóÆ‰∏Ä‰∏™ÂÆπÂô®ÂØπË±°‰∏≠ÂêÑ‰∏™ÂÖÉÁ¥†ÔºåËÄåÂèà‰∏çÈúÄË¶ÅÊö¥Èú≤ËØ•ÂØπË±°ÁöÑÂÜÖÈÉ®ÁªÜËäÇ„ÄÇ‚Äî‚ÄîÂàõÈÄ†Á±ª Ëø≠‰ª£Âô®ÊòØ‰∏∫ÂÆπÂô®ÊúçÂä°ÁöÑÔºåËÉΩÂÆπÁ∫≥ÂØπË±°ÁöÑÊâÄÊúâÁ±ªÂûãÈÉΩÂèØ‰ª•Áß∞‰∏∫ÂÆπÂô®„ÄÇËø≠‰ª£Âô®Ê®°ÂºèÊèê‰æõ‰∫ÜÈÅçÂéÜ ÂÆπÂô®ÁöÑÊñπ‰æøÊÄßÔºåÂÆπÂô®‰∏ªË¶ÅÁÆ°ÁêÜÂ¢ûÂáèÂÖÉÁ¥†Â∞±ÂèØ‰ª•‰∫ÜÔºåÈúÄË¶ÅÈÅçÂéÜÊó∂‰∫§Áî±Ëø≠‰ª£Âô®ËøõË°å„ÄÇÁõÆÂâçÂü∫Êú¨‰∏ä‰∏ç‰ºöÂçïÁã¨ÂÜô‰∏Ä‰∏™Ëø≠‰ª£Âô®„ÄÇ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÔºö ‰∏ãÈù¢ÁÆÄÂçï‰ªãÁªçÁ±ªÂõæ‰∏≠ÁöÑÂá†‰∏™ËßíËâ≤Ôºö IteratorÊäΩË±°Ëø≠‰ª£Âô®ÔºöÊäΩË±°Ëø≠‰ª£Âô®Ë¥üË¥£ÂÆö‰πâËÆøÈóÆÂíåÈÅçÂéÜÂÖÉÁ¥†ÁöÑÊé•Âè£„ÄÇ ConcreteIteratorÂÖ∑‰ΩìËø≠‰ª£Âô®ÔºöÂÆûÁé∞Ëø≠‰ª£Âô®Êé•Âè£ÔºåÂÆåÊàêÂÆπÂô®ÂÖÉÁ¥†ÁöÑÈÅçÂéÜ„ÄÇ AggregateÊäΩË±°ÂÆπÂô®ÔºöÂÆπÂô®ËßíËâ≤Ë¥üË¥£Êèê‰æõÂàõÂª∫ÂÖ∑‰ΩìËø≠‰ª£Âô®ËßíËâ≤ÁöÑÁöÑÊé•Âè£ÔºåÂøÖÁÑ∂Êèê‰æõ‰∏Ä‰∏™Á±ª‰ººcreateIterator()ËøôÊ†∑ÁöÑÊñπÊ≥ïÔºåÂú®Java‰∏≠‰∏ÄËà¨ÊòØiterator()ÊñπÊ≥ï„ÄÇ ConcreteAggregateÂÖ∑‰ΩìÂÆπÂô®ÔºöÂÆûÁé∞ÂÆπÂô®Êé•Âè£ÂÆö‰πâÁöÑÊñπÊ≥ïÔºåÂàõÂª∫Âá∫ÂÆπÁ∫≥Ëø≠‰ª£Âô®ÁöÑÂØπË±°„ÄÇ ‰∏ãÈù¢ÊòØËø≠‰ª£Âô®Ê®°ÂºèÁöÑÈÄöÁî®Ê∫ê‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788// ÊäΩË±°Ëø≠‰ª£Âô®public interface Iterator &#123; // ÈÅçÂéÜÂà∞‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥† public Object next(); // ÊòØÂê¶Â∑≤ÁªèÈÅçÂéÜÂà∞Â∞æÈÉ® public boolean hasNext(); // Âà†Èô§ÂΩìÂâçÊåáÂêëÁöÑÂÖÉÁ¥† public boolean remove();&#125;// ÂÖ∑‰ΩìËø≠‰ª£Âô®public class ConcreteIterator implements Iterator &#123; private Vector vector = new Vector(); // ÂÆö‰πâÂΩìÂâçÊ∏∏Ê†á public int cursor = 0; @SuppressWarnings("checked") public ConcreteIterator(Vector _vector) &#123; this.vector = _vector; &#125; // Âà§Êñ≠ÊòØÂê¶Âà∞ËææÂ∞æÈÉ® public boolean hasNext() &#123; if (this.cursor == this.vector.size()) &#123; return false; &#125; else &#123; return true; &#125; &#125; // ËøîÂõû‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥† public Object next() &#123; Object result = null; if (this.hasNext()) &#123; result = this.vector.get(this.cursor++); &#125; else &#123; result = null; &#125; return result; &#125; // Âà†Èô§ÂΩìÂâçÂÖÉÁ¥† public boolean remove() &#123; this.vector.remove(this.cursor); return true; &#125;&#125;// ÊäΩË±°ÂÆπÂô®public interface Aggregate &#123; // ÊòØÂÆπÂô®ÂøÖÁÑ∂ÊúâÂÖÉÁ¥†ÁöÑÂ¢ûÂä† public void add(Object object); // ÂáèÂ∞ëÂÖÉÁ¥† public void remove(Object object); // Áî±Ëø≠‰ª£Âô®Êù•ÈÅçÂéÜÊâÄÊúâÁöÑÂÖÉÁ¥† public Iterator iterator();&#125;// ÂÖ∑‰ΩìÂÆπÂô®public class ConcreteAggregate implements Aggregate &#123; // ÂÆπÁ∫≥ÂØπË±°ÁöÑÂÆπÂô® private Vector vector = new Vector(); // Â¢ûÂä†‰∏Ä‰∏™ÂÖÉÁ¥† public void add(Object object) &#123; this.vector.add(object); &#125; // ËøîÂõûËø≠‰ª£Âô®ÂØπË±° public Iterator iterator() &#123; return new ConcreteIterator(this.vector); &#125; // Âà†Èô§‰∏Ä‰∏™ÂÖÉÁ¥† public void remove(Object object) &#123; this.remove(object); &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // Â£∞ÊòéÂÆπÂô® Aggregate agg = new ConcreteAggregate(); // ‰∫ßÁîüÂØπË±°Êï∞ÊçÆÊîæËøõÂéª agg.add("abc"); agg.add("aaa"); agg.add("1234"); // ÈÅçÂéÜ‰∏Ä‰∏ã Iterator iterator = agg.iterator(); while(Iterator.hasNext()) &#123; System.out.println(iterator.next()); &#125; &#125;&#125; Â∫îÁî®Âè™Ë¶Å‰∏çÊòØÂú®‰ΩøÁî®ÈÇ£‰∫õÂè§Ëë£Á∫ßÁöÑÁºñÁ®ãËØ≠Ë®ÄÔºåÈÉΩ‰∏çÁî®Ëá™Â∑±Âä®ÊâãÂÜôËø≠‰ª£Âô®„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÂ¶ÇÊûú‰Ω†ÊòØÂÅöJavaÂºÄÂèëÔºåÂ∞ΩÈáè‰∏çË¶ÅËá™Â∑±ÂÜôËø≠‰ª£Âô®Ê®°Âºè„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÈÄÇÈÖçÂô®Ê®°Âºè]]></title>
    <url>%2F2018%2F03%2F08%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÈÄÇÈÖçÂô®Ê®°ÂºèÂú®ÁîüÊ¥ª‰∏≠ÈùûÂ∏∏Â∏∏ËßÅÔºåÊØîÂ¶Ç‰Ω†ÁöÑÁ¨îËÆ∞Êú¨‰∏äÁöÑÁîµÊ∫êÈÄÇÈÖçÂô®ÔºåÈÄöËøáÂÆÉÁ¨îËÆ∞Êú¨ÂèØ‰ª•‰ΩøÁî®Âú®110~220V‰πãÈó¥ÂèòÂåñÁöÑÁîµÊ∫êÔºåËÄåÁ¨îËÆ∞Êú¨ËøòÂèØ‰ª•Ê≠£Â∏∏Â∑•‰Ωú„ÄÇ ÂÆö‰πâÂ∞Ü‰∏Ä‰∏™Á±ªÁöÑÊé•Âè£ÂèòÊç¢ÊàêÂÆ¢Êà∑Á´ØÊúüÂæÖÁöÑÂè¶‰∏ÄÁßçÊé•Âè£Ôºå‰ªéËÄå‰ΩøÂéüÊú¨Âõ†Êé•Âè£‰∏çÂåπÈÖçËÄåÊó†Ê≥ïÂÜç‰∏ÄËµ∑Â∑•‰ΩúÁöÑ‰∏§‰∏™Á±ªËÉΩÂ§üÂú®‰∏ÄËµ∑Â∑•‰Ωú„ÄÇ‚Äî‚ÄîÁªìÊûÑÁ±ª ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÔºö ‰∏ãÈù¢ÁÆÄÂçï‰ªãÁªçÁ±ªÂõæ‰∏≠ÁöÑÂá†‰∏™Á±ªÔºö TargetÁõÆÊ†áËßíËâ≤ÔºöËØ•ËßíËâ≤ÂÆö‰πâÂêßÂÖ∂‰ªñÁ±ªËΩ¨Âåñ‰∏∫‰ΩïÁßçÊé•Âè£Ôºå‰πüÂ∞±ÊòØÊàë‰ª¨ÊúüÊúõÁöÑÊé•Âè£„ÄÇ AdapteeÊ∫êËßíËâ≤ÔºöÈúÄË¶ÅËΩ¨ÂåñÁöÑËßíËâ≤ÔºåÈÄöËøáÈÄÇÈÖçÂô®ËßíËâ≤ÁöÑÂåÖË£ÖÂèØ‰ª•Êàê‰∏∫‰∏Ä‰∏™Êñ∞ËßíËâ≤„ÄÇ AdapterÈÄÇÈÖçÂô®ËßíËâ≤ÔºöÂÆÉÁöÑËÅåË¥£Â∞±ÊòØÈÄöËøáÁªßÊâøÊàñËÄÖÁ±ªÂÖ≥ËÅîÁöÑÊñπÂºèÊääÊ∫êËßíËâ≤ËΩ¨Âåñ‰∏∫ÁõÆÊ†áËßíËâ≤„ÄÇ ‰∏ãÈù¢ÊòØ‰ªñÁöÑÈÄöËøáÊ∫êÁ†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839// ÁõÆÊ†áËßíËâ≤public interface Target &#123; // ÁõÆÊ†áËßíËâ≤ÊúâËá™Â∑±ÁöÑÊñπÊ≥ï public void request();&#125;// ÁõÆÊ†áËßíËâ≤ÁöÑÂÆûÁé∞Á±ªpublic class ConcreteTarget implements Target &#123; public void request() &#123; System.out.println("if you need any help,please call me!"); &#125;&#125;// Ê∫êËßíËâ≤public class Adaptee &#123; // ÂéüÊúâÁöÑ‰∏öÂä°ÈÄªËæë public void doSomething() &#123; System.out.println("I`m kind of busy,leave me alone,please!"); &#125;&#125;// ÈÄÇÈÖçÂô®Ê©òËâ≤public class Adapter extends Adaptee implements Target &#123; public void request() &#123; super.doSomething(); &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // ÂéüÊúâÁöÑ‰∏öÂä°ÈÄªËæë Target target = new ConcreteTarget(); target.request(); // Áé∞Âú®Â¢ûÂä†‰∫ÜÈÄÇÈÖçÂô®ËßíËâ≤ÁöÑ‰∏öÂä°ÈÄªËæë Target target2 = new Adapter(); target2.request(); &#125;&#125; Â∫îÁî®‰ºòÁÇπ ÈÄÇÈÖçÂô®Ê®°ÂºèÂèØ‰ª•ËÆ©‰∏§‰∏™Ê≤°Êúâ‰ªª‰ΩïÂÖ≥Á≥ªÁöÑÁ±ª‰∏ÄËµ∑ËøêË°å ÊèêÈ´ò‰∫ÜÁ±ªÁöÑÈÄèÊòéÊÄßÔºåÊ∫êËßíËâ≤ÂØπ‰∫éÈ´òÂ±ÇÊ®°ÂùóÊòØÈÄèÊòéÁöÑ ÊèêÈ´ò‰∫ÜÁ±ªÁöÑÂ§çÁî®Â∫¶ÔºåÊ∫êËßíËâ≤Âú®ÂéüÁ≥ªÁªü‰∏≠ËøòÊòØÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®ÁöÑ ÁÅµÊ¥ªÊÄßÈùûÂ∏∏Â•ΩÔºå‰∏çÈúÄË¶ÅÈÄÇÈÖçÂô®ÁöÑÊó∂ÂÄôÂà†Èô§ÊéâËøô‰∏™ÈÄÇÈÖçÂô®Âç≥ÂèØ ‰ΩøÁî®Âú∫ÊôØÂΩì‰Ω†ÊúâÂä®Êú∫‰øÆÊîπ‰∏Ä‰∏™Â∑≤ÁªèÊäï‰∫ß‰∏≠ÁöÑÊé•Âè£Êó∂ÔºåÈÄÇÈÖçÂô®ÂèØËÉΩÊòØÊúÄÈÄÇÂêàÁöÑ‰Ω†Ê®°Âºè„ÄÇÊØîÂ¶ÇÁ≥ªÁªüÊâ©Â±ï‰∫ÜÔºåÈúÄË¶Å‰ΩøÁî®‰∏Ä‰∏™Â∑≤ÊúâÊàñÊñ∞Âª∫Á´ãÁöÑÁ±ªÔºåÂΩìËøô‰∏™Á±ªÂèà‰∏çÁ¨¶ÂêàÁ≥ªÁªüÁöÑÊé•Âè£ÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•‰ΩøÁî®ÈÄÇÈÖçÂô®Ê®°Âºè„ÄÇ Ê≥®ÊÑè‰∫ãÈ°πÈÄÇÈÖçÂô®Ê®°ÂºèÊúÄÂ•ΩÂú®ËØ¶ÁªÜËÆæËÆ°Èò∂ÊÆµ‰∏çË¶ÅËÄÉËôëÂÆÉÔºåÂÆÉ‰∏çÊòØ‰∏∫Ëß£ÂÜ≥ËøòÂ§ÑÂú®ÂºÄÂèëÈò∂ÊÆµÁöÑÈóÆÈ¢òÔºåËÄåÊòØËß£ÂÜ≥Ê≠£Âú®ÊúçÂΩπÁöÑÈ°πÁõÆÈóÆÈ¢ò„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÈÄÇÈÖçÂô®Ê®°ÂºèÊòØ‰∏Ä‰∏™Ë°•ÊïëÊ®°ÂºèÔºåÈÄöÂ∏∏Áî®Êù•Ëß£ÂÜ≥Êé•Âè£‰∏çÁõ∏ÂÆπÁöÑÈóÆÈ¢ò„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÁ≠ñÁï•Ê®°Âºè]]></title>
    <url>%2F2018%2F03%2F07%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂ∞ÜÊâÄÊúâÊñπÊ≥ïÂ∞ÅË£ÖËµ∑Êù•ÔºåË¶ÅÁî®‰ªÄ‰πàÊñπÊ≥ïÂ∞±ÊâìÂºÄ‰ªÄ‰πàÊñπÊ≥ïÔºåËøôÂ∞±ÊòØÁ≠ñÁï•Ê®°Âºè„ÄÇ ÂÆö‰πâÂÆö‰πâ‰∏ÄÁªÑÁÆóÊ≥ïÔºåÂ∞ÜÊØè‰∏™ÁÆóÊ≥ïÈÉΩÂ∞ÅË£ÖËµ∑Êù•ÔºåÂπ∂‰∏î‰Ωø‰ªñ‰ª¨‰πãÈó¥ÂèØ‰ª•‰∫íÊç¢„ÄÇ‚Äî‚ÄîË°å‰∏∫Á±ª Êàë‰ª¨ÂÖàÁúãÂÆÉÁöÑÁ±ªÂõæÔºö ÁÆÄÂçï‰ªãÁªçÁ±ªÂõæ‰∏≠ÁöÑÂá†‰∏™Á±ªÔºö ContextÂ∞ÅË£ÖËßíËâ≤Ôºå‰πüÂè´‰∏ä‰∏ãÊñáËßíËâ≤ÔºåËµ∑Êâø‰∏äÂêØ‰∏ãÂ∞ÅË£Ö‰ΩúÁî®ÔºåÂ±èËîΩÈ´òÂ±ÇÊ®°ÂùóÂØπÁ≠ñÁï•„ÄÅÁÆóÊ≥ïÁöÑÁõ¥Êé•ËÆøÈóÆ„ÄÇ StrategyÊäΩË±°Á≠ñÁï•ËßíËâ≤ÔºåÂÆö‰πâÊØè‰∏™Á≠ñÁï•ÊàñÁÆóÊ≥ïÂøÖÈ°ªÂÖ∑ÊúâÁöÑÊñπÊ≥ïÂíåÂ±ûÊÄß„ÄÇ ConcreteStrategyÂÖ∑‰ΩìÁ≠ñÁï•ËßíËâ≤ÔºåÂÆûÁé∞ÊäΩË±°Á≠ñÁï•ÁöÑÊìç‰ΩúÔºåËØ•Á±ªÂê´ÊúâÂÖ∑‰ΩìÁöÑÁÆóÊ≥ï„ÄÇ ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Ê∫êÁ†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243// ÊäΩË±°ÁöÑÁ≠ñÁï•ËßíËâ≤public interface Strategy &#123; // Á≠ñÁï•Ê®°ÂºèÁöÑËøêÁÆóÊ≥ïÂàô public void doSomething();&#125;// ÂÖ∑‰ΩìËßíËâ≤Á±ªpublic class ConcreteStrategy1 implements Strategy &#123; public void doSomething() &#123; System.out.println("ÂÖ∑‰ΩìÁ≠ñÁï•1ÁöÑËøêÁÆóÊ≥ïÂàô"); &#125;&#125;public class ConcreteStrategy2 implements Strategy &#123; public void doSomething() &#123; System.out.println("ÂÖ∑‰ΩìÁ≠ñÁï•2ÁöÑËøêÁÆóÊ≥ïÂàô"); &#125;&#125;// Â∞ÅË£ÖËßíËâ≤public class Context &#123; // ÊäΩË±°Á≠ñÁï• private Strategy strategy = null; // ÊûÑÈÄ†ÂáΩÊï∞ËÆæÁΩÆÂÖ∑‰ΩìÁ≠ñÁï• public Context(Strategy _strategy) &#123; this.strategy = _strategy; &#125; // Â∞ÅË£ÖÂêéÁöÑÁ≠ñÁï•ÊñπÊ≥ï public void doAngthing() &#123; this.strategy.doSomething(); &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // Â£∞Êòé‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑÁ≠ñÁï• Strategy strategy = new ConcreteStrategy1(); // Â£∞Êòé‰∏ä‰∏ãÊñáÂØπË±° Context context = new Context(strategy); // ÊâßË°åÂ∞ÅË£ÖÂêéÁöÑÊñπÊ≥ï context.doAngthing(); &#125;&#125; Á≠ñÁï•Ê®°ÂºèÂÆûË¥®ÊòØÈááÁî®‰∫ÜÈù¢ÂêëÂØπË±°ÁöÑÁªßÊâøÂíåÂ§öÊÄÅÊú∫Âà∂„ÄÇ‰ΩÜÊòØ‰∏Ä‰∏™Á±ªÂÆûÁé∞Â§ö‰∏™Êé•Âè£ÂæàÊ≠£Â∏∏ÔºåÊâÄ‰ª•ËØÜÂà´Âá∫ÊäΩË±°Á≠ñÁï•Êé•Âè£ÊòØÁ≥ªÁªüÂàÜÊûêÂ∏àÁöÑ‰ª∑ÂÄºÊâÄÂú®„ÄÇÁ≠ñÁï•Ê®°ÂºèÂíå‰ª£ÁêÜÊ®°ÂºèÁöÑÂå∫Âà´ÊòØÁ≠ñÁï•Ê®°ÂºèÁöÑÂ∞ÅË£ÖËßíËâ≤ÂíåË¢´Â∞ÅË£ÖÁöÑÁ≠ñÁï•Á±ª‰∏çÁî®ÊòØÂêå‰∏Ä‰∏™Êé•Âè£„ÄÇ Â∫îÁî®‰ºòÁÇπ ÁÆóÊ≥ïÂèØ‰ª•Ëá™Áî±ÂàáÊç¢ ÈÅøÂÖç‰ΩøÁî®Â§öÈáçÊù°‰ª∂Âà§Êñ≠ Êâ©Â±ïÊÄßËâØÂ•Ω Áº∫ÁÇπ Á≠ñÁï•Á±ªÊï∞ÈáèÂ¢ûÂ§öÔºåÂ§çÁî®ÂèØËÉΩÊÄßÂ∞è ÊâÄÊúâÁ≠ñÁï•Á±ªÈÉΩÈúÄË¶ÅÂØπÂ§ñÊö¥Èú≤Ôºå‰∏äÂ±ÇÊ®°ÂùóÈúÄË¶ÅÁü•ÈÅìÊúâÂì™‰∫õÁ≠ñÁï•ÔºåËøùËÉå‰∫ÜËø™Á±≥ÁâπÊ≥ïÂàô ‰ΩøÁî®Âú∫ÊôØ Â§ö‰∏™Á±ªÂè™ÊúâÂú®ÁÆóÊ≥ïÊàñË°å‰∏∫‰∏äÁ®çÊúâ‰∏çÂêåÁöÑÂú∫ÊôØ ÁÆóÊ≥ïÈúÄË¶ÅËá™Áî±ÂàáÊç¢ÁöÑÂú∫ÊôØ ÈúÄË¶ÅÂ±èËîΩÁÆóÊ≥ïËßÑÂàôÁöÑÂú∫ÊôØ Ê≥®ÊÑè‰∫ãÈ°πÂ¶ÇÊûúÁ≥ªÁªü‰∏≠ÁöÑ‰∏Ä‰∏™Á≠ñÁï•ÂÆ∂ÊóèÁöÑÂÖ∑‰ΩìÁ≠ñÁï•Êï∞ÈáèË∂ÖËøá4‰∏™ÔºåÂàôÈúÄË¶ÅËÄÉËôë‰ΩøÁî®Ê∑∑ÂêàÊ®°ÂºèÔºåËß£ÂÜ≥Á≠ñÁï•Á±ªËÜ®ËÉÄÂíåÂØπÂ§ñÊö¥Èú≤ÈóÆÈ¢ò„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÁ≠ñÁï•Ê®°ÂºèÂú®È°πÁõÆ‰∏≠‰ºöÁªèÂ∏∏‰ΩøÁî®Ôºå‰ΩÜÊòØÂÆÉÂÖ∑Êúâ‰∏Ä‰∏™Ëá¥ÂëΩÁº∫Èô∑ÔºöÊâÄÊúâÁöÑÁ≠ñÁï•ÈÉΩÈúÄË¶ÅÊö¥Èú≤Âá∫Âéª„ÄÇÂú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÔºåÊàë‰ª¨‰∏ÄËà¨ÈÄöËøáÂ∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÊù•ÂÆûÁé∞Á≠ñÁï•Á±ªÁöÑÂ£∞Êòé„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîË£ÖÈ•∞Ê®°Âºè]]></title>
    <url>%2F2018%2F03%2F07%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊÉ≥ÁªôÊüê‰∫õÁ±ªÂ¢ûÂä†‰∏Ä‰∫õÂäüËÉΩÔºåÊúâ‰∫õ‰∫∫ÂèØËÉΩ‰ºöÊÉ≥Âà∞Áõ¥Êé•‰øÆÊîπÁ±ªÔºå‰ΩÜÊòØË¶ÅÊ±Ç‰∏çÂΩ±ÂìçÂ≠êÁ±ªÔºåËøôÂ∞±ÈúÄË¶ÅÁî®Âà∞Ë£ÖÈ•∞Ê®°Âºè‰∫Ü„ÄÇ ÂÆö‰πâÂä®ÊÄÅÂú∞Áªô‰∏Ä‰∏™ÂØπË±°Ê∑ªÂä†‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑËÅåË¥£„ÄÇÂ∞±Â¢ûÂä†ÂäüËÉΩÊù•ËØ¥ÔºåË£ÖÈ•∞Ê®°ÂºèÁõ∏ÊØîÁîüÊàêÂ≠êÁ±ªÊõ¥‰∏∫ÁÅµÊ¥ª„ÄÇ‚Äî‚ÄîÁªìÊûÑÁ±ª Ë£ÖÈ•∞Ê®°ÂºèÂíå‰ª£ÁêÜÊ®°ÂºèÂæàÂÉèÔºåÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö ‰∏ãÈù¢ÁÆÄÂçïËØ¥ËØ¥Á±ªÂõæ‰∏≠ÁöÑ4‰∏™ÂØπË±°Ôºö ComponentÊòØ‰∏Ä‰∏™Êé•Âè£ÊàñËÄÖÊäΩË±°Á±ªÔºåÂ∞±ÊòØÂÆö‰πâÊàë‰ª¨ÊúÄÊ†∏ÂøÉÁöÑÂØπË±°Ôºå‰πüÊòØÊúÄÂéüÂßãÁöÑÂØπË±°„ÄÇ ConcreteComponentÊòØÊúÄÊ†∏ÂøÉÁöÑÂØπË±°ÁöÑÂÆûÁé∞ÔºåÊàë‰ª¨Ë¶ÅË£ÖÈ•∞ÁöÑÂ∞±ÊòØÂÆÉ„ÄÇ DecoratorË£ÖÈ•∞ÂØπË±°ÔºåÂÆÉÈáåÈù¢‰∏ç‰∏ÄÂÆöÊúâÊäΩË±°ÁöÑÊñπÊ≥ïÔºå‰ΩÜÊòØÂÆÉÁöÑÂ±ûÊÄßÈáåÂøÖÁÑ∂Êúâ‰∏Ä‰∏™privateÂèòÈáèÊåáÂêëComponent„ÄÇ ConcreteDecoratorÊòØË£ÖÈ•∞ÂØπË±°ÁöÑÂÆûÁé∞Á±ª„ÄÇ Ë£ÖÈ•∞Ê®°ÂºèÁöÑÂÖ∑‰ΩìÂÆûÁé∞‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172public abstract class Component &#123; // ÊäΩË±°ÁöÑÊñπÊ≥ï public abstract void operate();&#125;public class ConcreteComponent exgtends Component &#123; // ÂÖ∑‰ΩìÂÆûÁé∞ @Override public void operate() &#123; System.out.println("do something"); &#125;&#125;// ÊäΩË±°Ë£ÖÈ•∞Á±ªÔºåÂ¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™Ë£ÖÈ•∞Á±ªÔºåÂàôÂèØ‰ª•Ê≤°ÊúâÊäΩË±°Ë£ÖÈ•∞ËÄÖpublic abstract class Decorator extends Component &#123; private Component component = null; // ÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞‰º†ÈÄíË¢´‰øÆÈ•∞ËÄÖ public Decorator(Component _component) &#123; this.component = _component; &#125; // ÂßîÊâòÁªôË¢´‰øÆÈ•∞ËÄÖÊâßË°å @Override public void operate() &#123; this.component.operate(); &#125;&#125;// ÂÖ∑‰ΩìË£ÖÈ•∞Á±ªpublic class ConcreteDecorator1 extends Decorator &#123; // ÂÆö‰πâË¢´‰øÆÈ•∞ËÄÖ public ConcreteDecorator1(Component _component) &#123; super(_component); &#125; // ÂÆö‰πâËá™Â∑±ÁöÑ‰øÆÈ•∞ÊñπÊ≥ï private void method1() &#123; System.out.println("method1 ‰øÆÈ•∞"); &#125; // ÈáçÂÜôÁà∂Á±ªÁöÑoperateÊñπÊ≥ï public void operate() &#123; this.method1(); super.operate(); &#125;&#125;public class ConcreteDecorator2 extends Decorator &#123; // ÂÆö‰πâË¢´‰øÆÈ•∞ËÄÖ public ConcreteDecorator2(Component _component) &#123; super(_component); &#125; // ÂÆö‰πâËá™Â∑±ÁöÑ‰øÆÈ•∞ÊñπÊ≥ï private void method2() &#123; System.out.println("method2 ‰øÆÈ•∞"); &#125; // ÈáçÂÜôÁà∂Á±ªÁöÑoperateÊñπÊ≥ï public void operate() &#123; this.method2(); super.operate(); &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; Component component = new ConcreteComponent(); // Á¨¨‰∏ÄÊ¨°‰øÆÈ•∞ component = new ConcreteDecorator1(component); // Á¨¨‰∫åÊ¨°‰øÆÈ•∞ component = new ConcreteDecorator2(component); // ‰øÆÈ•∞ÂêéËøêË°å component.operate(); &#125;&#125; Â∫îÁî®‰ºòÁÇπ Ë£ÖÈ•∞Á±ªÂíåË¢´‰øÆÈ•∞Á±ªÂèØ‰ª•Áã¨Á´ãÂèëÂ±ïÔºåËÄå‰∏ç‰ºöÁõ∏‰∫íËÄ¶Âêà„ÄÇ Ë£ÖÈ•∞Ê®°ÂºèÊòØÁªßÊâøÂÖ≥Á≥ªÁöÑ‰∏Ä‰∏™Êõø‰ª£ÊñπÊ°à„ÄÇ Ë£ÖÈ•∞Ê®°ÂºèÂèØ‰ª•Âä®ÊÄÅÂú∞Êâ©Â±ï‰∏Ä‰∏™ÂÆûÁé∞Á±ªÁöÑÂäüËÉΩ„ÄÇ Áº∫ÁÇπÂ§öÂ±ÇÁöÑË£ÖÈ•∞ÊòØÊØîËæÉÂ§çÊùÇÁöÑ„ÄÇ ‰ΩøÁî®Âú∫ÊôØ ÈúÄË¶ÅÊâ©Â±ï‰∏Ä‰∏™Á±ªÁöÑÂäüËÉΩÔºåÊàñÁªô‰∏Ä‰∏™Á±ªÂ¢ûÂä†ÈôÑÂä†ÂäüËÉΩ„ÄÇ ÈúÄË¶ÅÂä®ÊÄÅÂú∞Áªô‰∏Ä‰∏™ÂØπË±°Â¢ûÂä†ÂäüËÉΩÔºåËøô‰∫õÂäüËÉΩÂèØ‰ª•ÂÜçÂä®ÊÄÅÂú∞Êí§ÈîÄÁöÑ„ÄÇ ÈúÄË¶Å‰∏∫‰∏ÄÊâπÂÖÑÂºüÁ±ªËøõË°åÊîπË£ÖÊàñÂä†Ë£ÖÂäüËÉΩ„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µ Ë£ÖÈ•∞Ê®°ÂºèÊòØÂØπÁªßÊâøÁöÑÊúâÂäõË°•ÂÖÖ„ÄÇ Âú®‰∏öÂä°ÂèòÊõ¥ÁöÑÊó∂ÂÄôÔºåÂ¢ûÂº∫Á±ªÁöÑÂäüËÉΩ„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîË¥£‰ªªÈìæÊ®°Âºè]]></title>
    <url>%2F2018%2F03%2F07%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∏Ä‰∏™ÈóÆÈ¢òÂØπÂ∫î‰∏Ä‰∏™Ëß£ÂÜ≥ÊñπÊ≥ïÔºå‰Ω†‰∏ÄËà¨ÈúÄË¶ÅÂéªÊâæÂà∞ÂØπÂ∫îÁöÑÊñπÊ≥ïÔºåÁé∞Âú®Êúâ‰∏ÄÁßçÊñπÊ≥ïÂ∞±ÊòØ‰Ω†‰∏çÁÆ°ÈÅáÂà∞‰ªÄ‰πàÈóÆÈ¢òÂè™Ë¶Å‰∫§ÁªôÁ¨¨‰∏Ä‰∏™Ëß£ÂÜ≥ÊñπÊ≥ïÂ∞±ÂèØ‰ª•‰∫ÜÔºåÁæéÊªãÊªãÔºåËøôÂ∞±ÊòØË¥£‰ªªÈìæÊ®°Âºè„ÄÇ ÂÆö‰πâ‰ΩøÂ§ö‰∏™ÂØπË±°ÈÉΩÊúâÊú∫‰ºöÂ§ÑÁêÜËØ∑Ê±ÇÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜËØ∑Ê±ÇÁöÑÂèëÈÄÅËÄÖÂíåÊé•ÂèóËÄÖ‰πãÈó¥ÁöÑËÄ¶ÂêàÂÖ≥Á≥ª„ÄÇÂ∞ÜËøô‰∫õÂØπË±°ËøûÊàê‰∏ÄÊù°ÈìæÔºåÂπ∂Ê≤øÁùÄËøôÊù°Èìæ‰º†ÈÄíËØ•ËØ∑Ê±ÇÔºåÁõ¥Âà∞ÊúâÂØπË±°Â§ÑÁêÜÂÆÉ‰∏∫Ê≠¢„ÄÇ‚Äî‚ÄîË°å‰∏∫Á±ª Ë¥£‰ªªÈìæÊ®°ÂºèÁöÑÈáçÁÇπÂú®‚ÄúÈìæ‚Äù‰∏äÔºåÁî±‰∏ÄÊù°ÈìæÂéªÂ§ÑÁêÜÁõ∏‰ººÁöÑËØ∑Ê±ÇÂú®Èìæ‰∏≠ÂÜ≥ÂÆöË∞ÅÊù•Â§ÑÁêÜËøô‰∏™ËØ∑Ê±ÇÔºåÂπ∂ËøîÂõûÁõ∏Â∫îÁöÑÁªìÊûú„ÄÇÂÖ∂ÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö Ë¥£‰ªªÈìæÊ®°ÂºèÁöÑÊ†∏ÂøÉÂú®Èìæ‰∏äÔºå‚ÄúÈìæ‚ÄùÊòØÁî±Â§ö‰∏™Â§ÑÁêÜËÄÖConcreteHandleÁªÑÊàêÁöÑÔºåÂÆÉÁöÑÈÄöÁî®Ê∫êÁ†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394// ÊäΩË±°Â§ÑÁêÜËÄÖpublic abstract class Handler &#123; private Handler nextHandler; // ÊØè‰∏™Â§ÑÁêÜËÄÖÈÉΩÂøÖÈ°ªÂØπËØ∑Ê±ÇÂÅöÂá∫Â§ÑÁêÜ public final Response handleMessage(Request request) &#123; // finalÂÖ≥ÈîÆÂ≠óÂèÇËÄÉÊ®°ÊùøÊ®°ÂºèÁöÑÊ®°ÊùøÊñπÊ≥ï // Âà§Êñ≠ÊòØÂê¶ÊòØËá™Â∑±ÁöÑÂ§ÑÁêÜÁ∫ßÂà´ if (this.getHandlerLevel().equals(request.getRequestLevel())) &#123; response = this.echo(request); &#125; else &#123; // ‰∏çÂ±û‰∫éËá™Â∑±ÁöÑÂ§ÑÁêÜÁ∫ßÂà´ // Âà§Êñ≠ÊòØÂê¶Êúâ‰∏ã‰∏Ä‰∏™Â§ÑÁêÜËÄÖ if (this.nextHandler != null) &#123; response = this.nextHandler.handleMessage(request); &#125; else &#123; // Ê≤°ÊúâÈÄÇÂΩìÂ§ÑÁêÜËÄÖÔºå‰∏öÂä°Ëá™Ë°åÂ§ÑÁêÜ &#125; &#125; return response; &#125; // ËÆæÁΩÆ‰∏ã‰∏Ä‰∏™Â§ÑÁêÜËÄÖ public void setNext(Handler _handler) &#123; this.nextHandler = _handler; &#125; // ÊØè‰∏™Â§ÑÁêÜËÄÖÈÉΩÊúâ‰∏Ä‰∏™Â§ÑÁêÜÁ∫ßÂà´ protect abstract Level getHandlerLevel(); //ÊØè‰∏™Â§ÑÁêÜËÄÖÈÉΩÂøÖÈ°ªÂÆûÁé∞Â§ÑÁêÜ‰ªªÂä° protect abstract Response echo(Request request);&#125;// ÂÖ∑‰ΩìÂ§ÑÁêÜËÄÖpublic class Concretehandler1 extends Handler &#123; // ÂÆö‰πâËá™Â∑±ÁöÑÂ§ÑÁêÜÈÄªËæë protected Response echo(Request request) &#123; // ÂÆåÊàêÂ§ÑÁêÜÈÄªËæë return null; &#125; // ËÆæÁΩÆËá™Â∑±ÁöÑÂ§ÑÁêÜÁ∫ßÂà´ protected Level getHandlerLevel() &#123; // ËÆæÁΩÆËá™Â∑±ÁöÑÂ§ÑÁêÜÁ∫ßÂà´ return null; &#125;&#125;public class Concretehandler2 extends Handler &#123; // ÂÆö‰πâËá™Â∑±ÁöÑÂ§ÑÁêÜÈÄªËæë protected Response echo(Request request) &#123; // ÂÆåÊàêÂ§ÑÁêÜÈÄªËæë return null; &#125; // ËÆæÁΩÆËá™Â∑±ÁöÑÂ§ÑÁêÜÁ∫ßÂà´ protected Level getHandlerLevel() &#123; // ËÆæÁΩÆËá™Â∑±ÁöÑÂ§ÑÁêÜÁ∫ßÂà´ return null; &#125;&#125;public class Concretehandler3 extends Handler &#123; // ÂÆö‰πâËá™Â∑±ÁöÑÂ§ÑÁêÜÈÄªËæë protected Response echo(Request request) &#123; // ÂÆåÊàêÂ§ÑÁêÜÈÄªËæë return null; &#125; // ËÆæÁΩÆËá™Â∑±ÁöÑÂ§ÑÁêÜÁ∫ßÂà´ protected Level getHandlerLevel() &#123; // ËÆæÁΩÆËá™Â∑±ÁöÑÂ§ÑÁêÜÁ∫ßÂà´ return null; &#125;&#125;// Ê®°Âºè‰∏≠ÊúâÂÖ≥Ê°ÜÊû∂‰ª£Á†Åpublic class Level &#123; // ÂÆö‰πâ‰∏Ä‰∏™ËØ∑Ê±ÇÂíåÂ§ÑÁêÜÁ≠âÁ∫ß&#125;public class Request &#123; // ËØ∑Ê±ÇÁöÑÁ≠âÁ∫ß public Level getRequestLevel() &#123; return null; &#125;&#125;publci class Request &#123; // Â§ÑÁêÜËÄÖËøîÂõûÁöÑÊï∞ÊçÆ&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // Â£∞ÊòéÊâÄÊúâÁöÑÂ§ÑÁêÜËäÇÁÇπ Handler handler1 = new ConcreteHandler1(); Handler handler2 = new ConcreteHandler2(); Handler handler3 = new ConcreteHandler3(); // ËÆæÁΩÆÈìæ‰∏≠ÁöÑÈò∂ÊÆµÈ°∫Â∫è1--&gt;2--&gt;3 handler1.setNext(handler2); handler2.setNext(handler3); // Êèê‰∫§ËØ∑Ê±ÇÔºåËøîÂõûÁªìÊûú Response response = handler1.handlerMessage(new Request()); &#125;&#125; Âú®ÂÆûÈôÖÂ∫îÁî®‰∏≠Ôºå‰∏ÄËà¨‰ºöÊúâ‰∏Ä‰∏™Â∞ÅË£ÖÁ±ªÂØπË¥£‰ªªÊ®°ÂºèËøõË°åÂ∞ÅË£ÖÔºåÁõ¥Êé•ËøîÂõûÈìæ‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™Â§ÑÁêÜËÄÖÔºåÂÖ∑‰ΩìÈìæÁöÑËÆæÁΩÆ‰∏çÈúÄË¶ÅÈ´òÂ±ÇÊ®°ÂùóÂÖ≥Á≥ªÔºåËøôÊ†∑ÔºåÁÆÄÂåñ‰∫ÜÈ´òÂ±ÇÊ¨°Ê®°ÂºèÁöÑË∞ÉÁî®ÔºåÂáèÂ∞ëÊ®°ÂùóÈó¥ÁöÑËÄ¶ÂêàÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÁÅµÊ¥ªÊÄß„ÄÇ Â∫îÁî®‰ºòÁÇπÂ∞ÜËØ∑Ê±ÇÂíåÂ§ÑÁêÜÂàÜÂºÄÔºåËØ∑Ê±ÇËÄÖÂèØ‰ª•‰∏çÁî®Áü•ÈÅìË∞ÅÂ§ÑÁêÜÁöÑÔºåÂ§ÑÁêÜËÄÖÂèØ‰ª•‰∏çÁî®Áü•ÈÅìËØ∑Ê±ÇÁöÑÂÖ®Ë≤åÔºå‰∏§ËÄÖËß£ËÄ¶„ÄÇ Áº∫ÁÇπ ÊÄßËÉΩÈóÆÈ¢òÔºåÊØè‰∏™ËØ∑Ê±ÇÈÉΩÊòØ‰ªéÈìæÂ§¥ÈÅçÂéÜÂà∞ÈìæÂ∞æÔºåÂú®ÈìæÊØîËæÉÈïøÁöÑÊó∂ÂÄôÔºåÊÄßËÉΩÂ∞±‰ºöÂá∫Áé∞ÈóÆÈ¢ò„ÄÇ Ë∞ÉËØï‰∏çÊñπ‰æøÔºåË∞ÉËØïÈÄªËæëÂ§çÂà∂„ÄÇ Ê≥®ÊÑè‰∫ãÈ°πÈìæ‰∏≠ËäÇÁÇπÊï∞ÈáèÈúÄË¶ÅÊéßÂà∂ÔºåÈÅøÂÖçÂá∫Áé∞Ë∂ÖÈïøÈìæÁöÑÊÉÖÂÜµÔºå‰∏ÄËà¨ÂÅöÊ≥ïÊòØÂú®Handler‰∏≠ËÆæÁΩÆ‰∏Ä‰∏™ÊúÄÂ§ßËäÇÁÇπÊï∞ÈáèÔºåÂú®setNextÊñπÊ≥ï‰∏≠Âà§Êñ≠ÊòØÂê¶Â∑≤ÁªèË∂ÖËøáÂÖ∂ÈòàÂÄºÔºåË∂ÖËøáÂàô‰∏çÂÖÅËÆ∏ËØ•ÈìæÂª∫Á´ã„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µ ËûçÂêàÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÔºåÊØè‰∏™ÂÆûÁé∞Á±ªÂè™Ë¶ÅÂÆûÁé∞‰∏§‰∏™ÊñπÊ≥ïÔºöechoÊñπÊ≥ïÂ§ÑÁêÜËØ∑Ê±ÇÂíågetHandlerLevelËé∑ÂæóÂ§ÑÁêÜÁ∫ßÂà´ÔºåÁ¨¶ÂêàÂçï‰∏ÄËÅåË¥£ÂéüÂàôÂíåËø™Á±≥ÁâπÊ≥ïÂàô„ÄÇ Ë¥£‰ªªÈìæÊ®°ÂºèÁöÑÊ†∏ÂøÉÂÆÉÂ±èËîΩ‰∫ÜËØ∑Ê±ÇÁöÑÂ§ÑÁêÜËøáÁ®ãÔºåÂè™Ë¶Å‰Ω†ÊääËØ∑Ê±ÇÊäõÁªôË¥£‰ªªÈìæÁöÑÁ¨¨‰∏Ä‰∏™Â§ÑÁêÜËÄÖÔºåÊúÄÁªà‰ºöËøîÂõû‰∏Ä‰∏™Â§ÑÁêÜÁªìÊûúÔºå‰Ωú‰∏∫ËØ∑Ê±ÇËÄÖ‰∏çÁî®Áü•ÈÅìÈúÄË¶ÅË∞ÅÊù•Â§ÑÁêÜ„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÂëΩ‰ª§Ê®°Âºè]]></title>
    <url>%2F2018%2F03%2F06%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰Ωú‰∏∫È¢ÜÂØº‰∫∫Âè™Ë¶ÅÂèëÂ∏ÉÂëΩ‰ª§Âç≥ÂèØÔºåËÄå‰∏çÁî®Âú®ÂèëÂ∏ÉÂëΩ‰ª§ÁöÑÊó∂ÂÄôËøòË¶ÅÂéªÊâæÂà∞ÂÆûÊñΩÁöÑ‰∫∫ÔºåÊàëÁõ∏‰ø°È¢ÜÂØº‰∫∫‰∏ÄÂÆöË∂ÖÁ∫ßÈ´òÂÖ¥ÔºåÂõ†‰∏∫ÂÆûÊñΩÁöÑ‰∫∫Â∑≤ÁªèÂåÖÂê´Âú®ÂëΩ‰ª§Èáå‰∫Ü„ÄÇËøôÂ∞±ÊòØÂëΩ‰ª§Ê®°Âºè„ÄÇ ÂÆö‰πâÂ∞Ü‰∏Ä‰∏™ËØ∑Ê±ÇÂ∞ÅË£ÖÊàê‰∏Ä‰∏™ÂØπË±°Ôºå‰ªéËÄåËÆ©‰Ω†‰ΩøÁî®‰∏çÂêåÁöÑËØ∑Ê±ÇÊääÂÆ¢Êà∑Á´ØÂèÇÊï∞ÂåñÔºåÂØπËØ∑Ê±ÇÊéíÈòüÊàñËÄÖËÆ∞ÂΩïËØ∑Ê±ÇÊó•ÂøóÔºåÂèØ‰ª•Êèê‰æõÂëΩ‰ª§ÁöÑÊí§ÈîÄÂíåÊÅ¢Â§çÂäüËÉΩ„ÄÇ‚Äî‚ÄîË°å‰∏∫Á±ª ÂëΩ‰ª§Ê®°ÂºèÊòØ‰∏Ä‰∏™È´òÂÜÖËÅöÊ®°Âºè„ÄÇÂÆÉÁöÑÂ∞ÅË£ÖÊÄßÈùûÂ∏∏Â•ΩÔºåÊääËØ∑Ê±ÇÊñπÔºàInvokerÔºâÂíåÊâßË°åÊñπÔºàReceiverÔºâÂ∞ÅÂºÄ‰∫Ü„ÄÇ ÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö ÈÄöÁî®‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677// ÈÄöÁî®ReceiverÁ±ªpublic abstract class Receiver &#123; // ÊäΩË±°Êé•Êî∂ËÄÖÔºåÂÆö‰πâÊØè‰∏™Êé•Êî∂ËÄÖÈÉΩÂøÖÈ°ªÂÆåÊàêÁöÑ‰∏öÂä° public abstract void doSomething();&#125;// ÂÖ∑‰ΩìÁöÑReceiverÁ±ªÔºåÂèØ‰ª•ÊòØN‰∏™ÔºåÂíå‰∏öÂä°ÊúâÂÖ≥public class ConcereteReceiver1 extends Receiver &#123; // ÊØè‰∏™Êé•Êî∂ËÄÖÈÉΩÂøÖÈ°ªÂ§ÑÁêÜ‰∏ÄÂÆöÁöÑ‰∏öÂä°ÈÄªËæë public void doSomething()&#123;&#125;&#125;public class ConcereteReceiver2 extends Receiver &#123; // ÊØè‰∏™Êé•Êî∂ËÄÖÈÉΩÂøÖÈ°ªÂ§ÑÁêÜ‰∏ÄÂÆöÁöÑ‰∏öÂä°ÈÄªËæë public void doSomething()&#123;&#125;&#125;// ÊäΩË±°ÁöÑCommandÁ±ªpublic abstract class Command &#123; // ÊØè‰∏™ÂëΩ‰ª§Á±ªÈÉΩÂøÖÈ°ªÊúâ‰∏Ä‰∏™ÊâßË°åÂëΩ‰ª§ÁöÑÊñπÊ≥ï public abstract void execute();&#125;// ÂÖ∑‰ΩìÁöÑCommandÁ±ªpublic class ConcreteCommand1 extends Command &#123; //ÂÖ≥ËÅîÔºåÂØπÂì™‰∏™ReceiverÁ±ªËøõË°åÂëΩ‰ª§Â§ÑÁêÜ private Receiver receiver; // ÊûÑÈÄ†ÂáΩÊï∞‰º†ÈÄíÊé•Êî∂ËÄÖ public ConcreteCommand1(Receiver _receiver) &#123; this.receiver = _receiver; &#125;; // ÂøÖÈ°ªÂÆûÁé∞‰∏Ä‰∏™ÂëΩ‰ª§ public void execute() &#123; // ‰∏öÂä°Â§ÑÁêÜ this.receiver.doSomething(); &#125;&#125;public class ConcreteCommand2 extends Command &#123; //ÂÖ≥ËÅîÔºåÂØπÂì™‰∏™ReceiverÁ±ªËøõË°åÂëΩ‰ª§Â§ÑÁêÜ private Receiver receiver; // ÊûÑÈÄ†ÂáΩÊï∞‰º†ÈÄíÊé•Êî∂ËÄÖ public ConcreteCommand2(Receiver _receiver) &#123; this.receiver = _receiver; &#125;; // ÂøÖÈ°ªÂÆûÁé∞‰∏Ä‰∏™ÂëΩ‰ª§ public void execute() &#123; // ‰∏öÂä°Â§ÑÁêÜ this.receiver.doSomething(); &#125;&#125;// Ë∞ÉÁî®ËÄÖInvokerÁ±ªpublic class Invoker &#123; private Command command; // Êé•ÂèóÂëΩ‰ª§ public void setCommand(Command _command) &#123; this.command = _command; &#125; // ÊâßË°åÂëΩ‰ª§ public void action()&#123; this.command.execute(); &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // È¶ñÂÖàÂ£∞ÊòéË∞ÉÁî®ËÄÖInvoker Invoker invoker = new Invoker(); // ÂÆö‰πâÊé•Êî∂ËÄÖ Receiver receiver = new ConcreteReceiver1(); // ÂÆö‰πâ‰∏Ä‰∏™ÂèëÈÄÅÁªôÊé•ÂèóËÄÖÁöÑÂëΩ‰ª§ Command command = new ConcreteCommand1(receiver); // ÊääÂëΩ‰ª§‰∫§ÁªôË∞ÉÁî®ËÄÖÂéªÊâßË°å invoker.setCommand(command); invoker.action(); &#125;&#125; Â∫îÁî®‰ºòÁÇπ Á±ªÈó¥Ëß£ËÄ¶ÔºöË∞ÉÁî®ËÄÖ‰∏éÊé•Êî∂ËÄÖ‰πãÈó¥Ê≤°Êúâ‰ªª‰Ωï‰æùËµñÂÖ≥Á≥ªÔºåË∞ÉÁî®ËÄÖÂÆûÁé∞ÂäüËÉΩÊó∂Âè™ÈúÄË¶ÅË∞ÉÁî®CommandÊäΩË±°Á±ªÁöÑexecuteÊñπÊ≥ïÂç≥ÂèØÔºå‰∏çÈúÄË¶Å‰∫ÜËß£ÊòØÂì™‰∏™Êé•Êî∂ËÄÖÊâßË°å„ÄÇ ÂèØÊâ©Â±ïÊÄßÔºöCommandÁöÑÂ≠êÁ±ªÈùûÂ∏∏ÂÆπÊòìÊâ©Â±ï„ÄÇ ÂëΩ‰ª§Ê®°ÂºèÁªìÂêàÂÖ∂‰ªñÊ®°Âºè‰ºöÊõ¥‰ºòÁßÄÔºå‰æãÂ¶ÇË¥£‰ªªÈìæÊ®°ÂºèÔºåÊ®°ÊùøÊñπÊ≥ïÊ®°Âºè„ÄÇ Áº∫ÁÇπÊúâN‰∏™ÂëΩ‰ª§Â∞±‰ºöÊúâN‰∏™CommandÁöÑÂ≠êÁ±ªÔºåËøôÊ†∑Ëøô‰∏™Á±ªÂ∞±‰ºöËÜ®ËÉÄ‰∫Ü„ÄÇ ‰ΩøÁî®Âú∫ÊôØÂè™Ë¶ÅÊòØ‰Ω†ËÆ§‰∏∫ÊòØÂëΩ‰ª§ÁöÑÂú∞ÊñπÂ∞±ÂèØ‰ª•ÈááÁî®ÂëΩ‰ª§Ê®°Âºè„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÊ†πÊçÆÂºÄÂèëÂú∫ÊôØË¶ÅÊ±ÇÂèØ‰ª•ÊúâÂ§ö‰∏™Êé•Êî∂ËÄÖÔºåÈÇ£Â∞±ÈúÄË¶ÅÁî®ÈõÜÂêàÁ±ªÂûãÊù•Â∞ÅË£ÖCommandÁ±ª‰∫Ü„ÄÇËØ•ËÆæËÆ°Ê®°ÂºèÊúÄÂ§ßÁöÑ‰ºòÁÇπÂ∞±ÊòØÈ´òÂ±ÇÊ®°Âºè‰∏çÈúÄË¶ÅÁü•ÈÅìÊé•Êî∂ËÄÖÔºåPerfectÔºÅ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚Äî‰∏≠‰ªãËÄÖÊ®°Âºè]]></title>
    <url>%2F2018%2F02%2F10%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂ§ö‰∏™ÂØπË±°Áõ∏‰∫í‰æùËµñÔºåÂÖ≥Á≥ªÈîôÁªºÂ§çÊùÇÔºåÊàë‰ª¨ÁªèÂ∏∏‰ºöÊÑüÂà∞Êó†‰ªé‰∏ãÊâãÔºåÂ¶ÇÊûúËøô‰∏™Êó∂ÂÄôÂá∫Áé∞‰∏Ä‰∏™ÂØπË±°ÔºåËÉΩÂ§üÂçèË∞ÉÂêÑ‰∏™ÂØπË±°ÁöÑÂÖ≥Á≥ªÔºåÂπ∂‰∏îÂÖ∂‰ªñÂØπË±°Âè™Ë¶Å‰∏éËøô‰∏™ÂØπË±°‰∫§ÊµÅÔºåÈÇ£Ëøò‰∏çÊòØÁæéÊªãÊªãÔºåËøôÂ∞±ÊòØ‰∏≠‰ªãËÄÖÊ®°Âºè„ÄÇ ÂÆö‰πâÁî®‰∏Ä‰∏™‰∏≠‰ªãÂØπË±°Â∞ÅË£Ö‰∏ÄÁ≥ªÂàóÁöÑÂØπË±°‰∫§‰∫íÔºå‰∏≠‰ªãËÄÖ‰ΩøÂêÑÂØπË±°‰∏çÈúÄË¶ÅÊòæÁ§∫Âú∞Áõ∏‰∫í‰ΩúÁî®Ôºå‰ªéËÄå‰ΩøÂÖ∂ËÄ¶ÂêàÊùæÊï£ÔºåËÄå‰∏îÂèØ‰ª•Áã¨Á´ãÂæóÊîπÂèò‰ªñ‰ª¨‰πãÈó¥ÁöÑ‰∫§‰∫í„ÄÇ‚Äî‚ÄîË°å‰∏∫Á±ª ÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö ‰ªéÁ±ªÂõæ‰∏≠ÁúãÔºå‰∏≠‰ªãËÄÖÊ®°ÂºèÁî±‰ª•‰∏ãÂá†ÈÉ®ÂàÜÁªÑÊàêÔºö MediatorÊäΩË±°‰∏≠‰ªãËÄÖËßíËâ≤ÔºöÂÆö‰πâÁªü‰∏ÄÁöÑÊé•Âè£ÔºåÁî®‰∫éÂêÑÂêå‰∫ãËßíËâ≤‰πãÈó¥ÁöÑÈÄö‰ø°„ÄÇ ConcreteMediatorÂÖ∑‰Ωì‰∏≠‰ªãËÄÖËßíËâ≤Ôºö‰æùËµñ‰∫éÂêÑ‰∏™Âêå‰∫ãËßíËâ≤ÔºåÂçèË∞ÉÂêÑÂêå‰∫ãËßíËâ≤ÂÆûÁé∞Âçè‰ΩúË°å‰∏∫„ÄÇ ColleagueÂêå‰∫ãËßíËâ≤ÔºöÊØè‰∏Ä‰∏™Âêå‰∫ãËßíËâ≤ÈÉΩÁü•ÈÅì‰∏≠‰ªãËÄÖËßíËâ≤ÔºåËÄå‰∏î‰∏éÂÖ∂‰ªñÁöÑÂêåÊó∂ËßíËâ≤ÈÄö‰ø°ÁöÑÊó∂ÂÄôÔºå‰∏ÄÂÆöË¶ÅÈÄöËøá‰∏≠‰ªãËÄÖËßíËâ≤Âçè‰Ωú„ÄÇÂêå‰∫ãÁ±ªÁöÑË°å‰∏∫ÂàÜ‰∏§ÁßçÔºö‰∏ÄÊòØÂêå‰∫ãÊú¨Ë∫´ÁöÑË°å‰∏∫ÔºàÊú¨Ë∫´Ë°å‰∏∫ÔºâÔºå‰∫åÊòØÂøÖÈ°ª‰æùËµñ‰∏≠‰ªãËÄÖÊâçËÉΩÂÆåÊàêÁöÑË°å‰∏∫Ôºà‰æùËµñÊñπÊ≥ïÔºâ„ÄÇ ÂÆÉÁöÑÈÄöÁî®Ê∫êÁ†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354// ÈÄöÁî®ÊäΩË±°‰∏≠‰ªãËÄÖ// Âú®ËØ•ÊäΩË±°Á±ª‰∏≠ÔºåÊàë‰ª¨Âà©Áî®‰∫ÜÂêå‰∫ãÂÆûÁé∞Á±ªÊ≥®ÂÖ•ÔºåÊòØÂõ†‰∏∫Âêå‰∫ãÁ±ªËôΩÁÑ∂ÊúâÊäΩË±°Ôºå‰ΩÜÊòØÊ≤°ÊúâÊØè‰∏™Âêå‰∫ãÂøÖÈ°ªË¶ÅÂÆûÁé∞ÁöÑÊñπÊ≥ï„ÄÇpublic abstract class Mediator &#123; // ÂÆö‰πâÂêå‰∫ãÁ±ª protect ConcreteColleague1 c1; protect ConcreteColleague2 c2; // ÈÄöËøágetter/setterÊñπÊ≥ïÂêßÂêå‰∫ãÁ±ªÊ≥®ÂÖ•ËøõÊù• ... ÁúÅÁï•get„ÄÅsetÊñπÊ≥ï // ‰∏≠‰ªãËÄÖÊ®°ÂºèÁöÑ‰∏öÂä°ÈÄªËæë public abstract void doSomething1(); public abstract void doSomething2();&#125;// ÈÄöÁî®‰∏≠‰ªãËÄÖpublic class ConcreteMediator extend Mediator &#123; @Override public void doSomething1() &#123; // Ë∞ÉÁî®Âêå‰∫ãÁ±ªÁöÑÊñπÊ≥ï super.c1.selfMethod1(); super.c2.selfMethod2(); &#125; @Override public void doSomething2() &#123; // Ë∞ÉÁî®Âêå‰∫ãÁ±ªÁöÑÊñπÊ≥ï super.c1.selfMethod1(); super.c2.selfMethod2(); &#125;&#125;// ÊäΩË±°Âêå‰∫ãÁ±ªpublic abstract class Colleague &#123; protected Mediator mediator; public Colleague(Mediator _mediator) &#123; this.mediator = _mediator; &#125;&#125;// ÂÖ∑‰ΩìÂêå‰∫ãÁ±ª 1,2 Á±ª‰ººpublic class ConcreteColleague1 extends Colleague &#123; // ÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞‰º†ÈÄí‰∏≠‰ªãËÄÖÔºåÂõ†‰∏∫Âêå‰∫ãÁ±ªÂøÖÈ°ªË¶ÅÊúâ‰∏≠‰ªãËÄÖ public ConcreteColleague1(Mediator _mediator) &#123; super(_mediator); &#125; // Ëá™ÊúâÊñπÊ≥ï public void selfMethod1()&#123; // Â§ÑÁêÜËá™Â∑±ÁöÑ‰∏öÂä°ÈÄªËæë &#125; // ‰æùËµñÊñπÊ≥ï public void depMethod1()&#123; // Ëá™Â∑±‰∏çËÉΩÂ§ÑÁêÜÁöÑ‰∏öÂä°ÈÄªËæëÔºåÂßîÊâòÁªô‰∏≠‰ªãËÄÖÂ§ÑÁêÜ super.mediator.doSomething1(); &#125;&#125; Â∫îÁî®‰ºòÁÇπÂáèÂ∞ëÁ±ªÈó¥ÁöÑ‰æùËµñÔºåÊääÂéüÊúâÁöÑ‰∏ÄÂØπÂ§öÁöÑ‰æùËµñÂèòÊàê‰∫Ü‰∏ÄÂØπ‰∏ÄÁöÑ‰æùËµñ„ÄÇ Áº∫ÁÇπÂêå‰∫ãÁ±ªË∂äÂ§öÔºå‰∏≠‰ªãËÄÖÁöÑÈÄªËæëÂ∞±Ë∂äÂ§çÊùÇ„ÄÇ ‰ΩøÁî®Âú∫ÊôØ‰∏≠‰ªãËÄÖÊ®°ÂºèÈÄÇÁî®‰∫éÂ§ö‰∏™ÂØπË±°‰πãÈó¥Á¥ßÂØÜËÄ¶ÂêàÁöÑÊÉÖÂÜµÔºåÁ¥ßÂØÜËÄ¶ÂêàÁöÑÊ†áÂáÜÊòØÔºöÂú®Á±ªÂõæ‰∏≠Âá∫Áé∞‰∫ÜËúòËõõÁΩëÁä∂ÁªìÊûÑ„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ã‰∏ÄÂÆöË¶ÅËÄÉËôë‰ΩøÁî®‰∏≠‰ªãËÄÖÊ®°ÂºèÔºåËøôÊúâÂà©‰∫éÊääËúòËõõÁΩëÊ¢≥ÁêÜ‰∏∫ÊòüÂûãÁªìÊûÑÔºå‰ΩøÂéüÊú¨Â§çÊùÇÊ∑∑‰π±ÁöÑÂÖ≥Á≥ªÂèòÂæóÊ∏ÖÊô∞ÁÆÄÂçï„ÄÇ‰ΩÜÊòØÊàë‰ª¨ÈúÄË¶ÅÈáèÂäõËÄåË°åÔºåÈÅøÂÖç‰∏≠‰ªãËÄÖËøá‰∫éÂ§çÊùÇÂåñ„ÄÇ ÂÆûÈôÖÂ∫îÁî® Êú∫Âú∫Ë∞ÉÂ∫¶‰∏≠ÂøÉ MVCÊ°ÜÊû∂ÁöÑCÂçèË∞ÉMÂíåV Â™í‰ΩìÁΩëÂÖ≥‚Äî‚Äî‰∏≠ËΩ¨Á´ô ‰∏≠‰ªãÊúçÂä° ÊúÄ‰Ω≥ÂÆûË∑µÂèØ‰ª•Âú®Â¶Ç‰∏ãÁöÑÊÉÖÂÜµ‰∏ãÂ∞ùËØï‰ΩøÁî®‰∏≠‰ªãËÄÖÊ®°Âºè: N‰∏™ÂØπË±°‰πãÈó¥‰∫ßÁîüÁõ∏‰∫íÁöÑ‰æùËµñÂÖ≥Á≥ªÔºàN &gt; 2Ôºâ Â§ö‰∏™ÂØπË±°Êúâ‰æùËµñÂÖ≥Á≥ªÔºå‰ΩÜÊòØ‰æùËµñÁöÑË°å‰∏∫Â∞ö‰∏çÁ°ÆÂÆöÊàñËÄÖÊúâÂèëÁîüÊîπÂèòÁöÑÂèØËÉΩ„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÂéüÂûãÊ®°Âºè]]></title>
    <url>%2F2018%2F02%2F10%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁî±‰∏Ä‰∏™Ê≠£Êú¨ÂàõÂª∫Â§ö‰∏™ÂâØÊú¨ÔºåÂπ∂ÂèØ‰ª•ËøõË°åÈÄÇÂΩìÁöÑ‰øÆÊîπÔºåËøôÂ∞±ÊòØÂéüÂûãÊ®°Âºè„ÄÇ ÂÆö‰πâÁî®ÂéüÂûãÂÆû‰æãÊåáÂÆöÂàõÂª∫ÂØπË±°ÁöÑÁßçÁ±ªÔºåÂπ∂‰∏îÈÄöËøáÊã∑Ë¥ùËøô‰∫õÂéüÂûãÂàõÂª∫Êñ∞ÁöÑÂØπË±°„ÄÇ‚Äî‚ÄîÂàõÈÄ†Á±ª ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÔºö ÂéüÂûãÊ®°ÂºèÁöÑÊ†∏ÂøÉÊòØ‰∏Ä‰∏™cloneÊñπÊ≥ïÔºåÈÄöËøáËØ•ÊñπÊ≥ïËøõË°åÂØπË±°ÁöÑÊã∑Ë¥ùÔºåJavaÊèê‰æõ‰∫Ü‰∏Ä‰∏™CloneableÊé•Âè£Ê†áËØÜËøô‰∏™ÂØπË±°ÊòØÂèØÊã∑Ë¥ùÁöÑÔºåÂú®JVM‰∏≠ÂÖ∑ÊúâËøô‰∏™Ê†áËØÜÁöÑÂØπË±°ÊâçÊúâÂèØËÉΩË¢´Êã∑Ë¥ùÔºå‰ΩÜÊòØÂè™ÊúâÂú®Ë¶ÜÁõñcloneÊñπÊ≥ï‰πãÂêéÊâçÂèØ‰ª•Ë¢´Êã∑Ë¥ù„ÄÇ ÂÆÉÁöÑÈÄöÁî®‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526// ÊäΩË±°ÂéüÂûãÁ±ªpublic abstract class Prototype implements Cloneable &#123; // Ë¶ÜÂÜôÁà∂Á±ªObjectÊñπÊ≥ï @Override public Prototype clone() &#123; Prototype prototype = null; try &#123; prototype = (Prototype) super.clone(); &#125; catch (CloneNotSupportedException e) &#123; // ÂºÇÂ∏∏Â§ÑÁêÜ &#125; return prototype; &#125;&#125;// ÂÖ∑‰ΩìÂéüÂûãÁ±ªpublic class ConcretePrototype extends Prototype &#123;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; Prototype prototype = new ConcretePrototype(); // Â§çÂà∂‰∏Ä‰∏™ÂØπË±° Prototype prototype1 = prototype.clone();&#125; Â∫îÁî®‰ºòÁÇπ ÊÄßËÉΩ‰ºòËâØ„ÄÇÂéüÂûãÊ®°ÂºèÊòØÂú®ÂÜÖÂ≠ò‰∫åËøõÂà∂ÊµÅÁöÑÊã∑Ë¥ùÔºåË¶ÅÊØîÁõ¥Êé•new‰∏Ä‰∏™ÂØπË±°ÊÄßËÉΩÂ•ΩÁöÑÂ§öÔºåÁâπÂà´ÊòØË¶ÅÂú®‰∏Ä‰∏™Âæ™ÁéØ‰ΩìÂÜÖ‰∫ßÁîüÂ§ßÈáèÁöÑÂØπË±°Êó∂Ôºå ÈÄÉÈÅøÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ∫¶Êùü„ÄÇÊòØ‰ºòÁÇπ‰πüÊòØÁº∫ÁÇπ„ÄÇ ‰ΩøÁî®Âú∫ÊôØ ËµÑÊ∫ê‰ºòÂåñÂú∫ÊôØ„ÄÇÂõ†‰∏∫Á±ªÁöÑÂàùÂßãÂåñÈúÄË¶ÅÊ∂àËÄóÈùûÂ∏∏Â§öÁöÑËµÑÊ∫ê„ÄÇ ÊÄßËÉΩÂíåÂÆâÂÖ®Ë¶ÅÊ±ÇÁöÑÂú∫ÊôØ„ÄÇÂõ†‰∏∫ÈÄöËøánew‰∫ßÁîü‰∏Ä‰∏™ÂØπË±°ÈúÄË¶ÅÈùûÂ∏∏ÁπÅÁêêÁöÑÊï∞ÊçÆÂáÜÂ§áÂíåËÆøÈóÆÊùÉÈôê„ÄÇ ‰∏Ä‰∏™ÂØπË±°Â§ö‰∏™‰øÆÊîπËÄÖ„ÄÇËøôÊ†∑Ê¨°Â∞±ËÉΩÈÅøÂÖçÂπ∂ÂèëÂ∏¶Êù•Êï∞ÊçÆÊ∑∑‰π±ÁöÑÈóÆÈ¢ò„ÄÇ ÂéüÂûãÊ®°ÂºèÂæàÂ∞ëÂçïÁã¨Âá∫Áé∞Ôºå‰∏ÄËà¨ÊòØ‰∏éÂ∑•ÂéÇÊñπÊ≥ïÊ®°Âºè‰∏ÄËµ∑Âá∫Áé∞ÔºåÈÄöËøácloneÁöÑÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™ÂØπË±°ÔºåÁÑ∂ÂêéÁî±Â∑•ÂéÇÊñπÊ≥ïÊèê‰æõÁªôË∞ÉÁî®ËÄÖ„ÄÇ Ê≥®ÊÑè‰∫ãÈ°π ÊûÑÈÄ†ÂáΩÊï∞‰∏ç‰ºöÊâßË°å„ÄÇÂõ†‰∏∫ObjectÁ±ªÁöÑcloneÊñπÊ≥ïÁöÑÂéüÁêÜÊòØ‰ªéÂÜÖÂ≠ò‰∏≠‰ª•‰∫åËøõÂà∂ÊµÅÁöÑÊñπÂºèËøõË°åÊã∑Ë¥ùÔºåÈáçÊñ∞ÂàÜÈÖç‰∏Ä‰∏™ÂÜÖÂ≠òÂùó„ÄÇ ÊµÖÊã∑Ë¥ùÂíåÊ∑±Êã∑Ë¥ù ÊµÖÊã∑Ë¥ùÔºöÂè™Êã∑Ë¥ùÊú¨ÂØπË±°ÔºåÂÖ∂ÂØπË±°ÂÜÖÈÉ®ÁöÑÊï∞ÁªÑ„ÄÅÂºïÁî®ÂØπË±°Á≠âÈÉΩ‰∏çÊã∑Ë¥ùÔºåËøòÊòØÊåáÂêëÂéüÁîüÂØπË±°ÁöÑÂÜÖÈÉ®ÂÖÉÁ¥†Âú∞ÂùÄ„ÄÇ Ê∑±Êã∑Ë¥ùÔºöÂú®ÊµÖÊã∑Ë¥ùÁöÑÂü∫Á°Ä‰∏äÔºåÂØπÁßÅÊúâÁöÑÁ±ªÂèòÈáèËøõË°åÁã¨Á´ãÁöÑÊã∑Ë¥ù„ÄÇ ‰ΩøÁî®ÂéüÂûãÊ®°ÂºèÊó∂ÔºåÂºïÁî®ÁöÑÊàêÂëòÂèòÈáèÂøÖÈ°ªÊª°Ë∂≥‰∏§‰∏™Êù°‰ª∂Êâç‰∏ç‰ºöË¢´Êã∑Ë¥ùÔºö‰∏ÄÊòØÁ±ªÁöÑÊàêÂëòÂèòÈáèÔºå‰∫åÊòØÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂèØÂèòÁöÑÂºïÁî®ÂØπË±°„ÄÇ ÂØπË±°ÁöÑcloneÂíåÂØπË±°ÂÜÖÁöÑfinalÂÖ≥ÈîÆÂ≠óÊòØÊúâÂÜ≤Á™ÅÁöÑ„ÄÇË¶Å‰ΩøÁî®cloneÊñπÊ≥ïÔºåÁ±ªÁöÑÊàêÂëòÂèòÈáè‰∏ä‰∏çË¶ÅÂ¢ûÂä†finalÂÖ≥ÈîÆÂ≠ó„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÂéüÂûãÊ®°ÂºèÂÖà‰∫ßÁîü‰∏Ä‰∏™ÂåÖÂê´Â§ßÈáè‰ø°ÊÅØÁöÑÁ±ªÔºåÁÑ∂ÂêéÂèØ‰ª•Êã∑Ë¥ùÂá∫ÂâØÊú¨Ôºå‰øÆÊ≠£ÁªÜËäÇ‰ø°ÊÅØÔºåÂª∫Á´ã‰∫Ü‰∏Ä‰∏™ÂÆåÊï¥ÁöÑ‰∏™ÊÄßÂØπË±°„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚Äî‰ª£ÁêÜÊ®°Âºè]]></title>
    <url>%2F2018%2F02%2F09%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂ¶ÇÊûú‰Ω†‰∏çÊÉ≥Âπ≤Â∞±Êâæ‰∏™‰ª£ÁêÜÂ∏Æ‰Ω†Âπ≤Â•Ω‰∫ÜÔºåÂ∞±ÂÉèÊ∏∏Êàè‰∏çÊÉ≥Ëá™Â∑±ÂçáÁ∫ßÂ∞±Êâæ‰∏™‰ª£ÁêÜÂ∏Æ‰Ω†ÂçáÁ∫ßÂ•Ω‰∫ÜÔºåËøôÂ∞±ÊòØ‰ª£ÁêÜÊ®°Âºè„ÄÇ ÂÆö‰πâ‰∏∫ÂÖ∂‰ªñÂØπË±°Êèê‰æõ‰∏ÄÁßç‰ª£ÁêÜ‰ª•ÊéßÂà∂ÂØπËøô‰∏™ÂØπË±°ÁöÑËÆøÈóÆ„ÄÇ‚Äî‚ÄîÁªìÊûÑÁ±ª„ÄÇ ÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Á±ªÂõæ‰∏≠ÁöÑ‰∏â‰∏™ËßíËâ≤Ôºö SubjectÊäΩË±°‰∏ªÈ¢òËßíËâ≤ÔºöÂÆÉÂèØ‰ª•ÊòØÊäΩË±°Á±ª‰πüÂèØ‰ª•ÊòØÊé•Âè£ÔºåÊòØ‰∏Ä‰∏™ÊúÄÊôÆÈÄöÁöÑ‰∏öÂä°Á±ªÂûãÂÆö‰πâ„ÄÇ RealSubjectÂÖ∑‰Ωì‰∏ªÈ¢òËßíËâ≤Ôºö‰πüÂè´ÂÅöË¢´ÂßîÊâòËßíËâ≤„ÄÅË¢´‰ª£ÁêÜËßíËâ≤„ÄÇ Proxy‰ª£ÁêÜ‰∏ªÈ¢òËßíËâ≤Ôºö‰πüÂè´ÂÅöÂßîÊâòÁ±ª„ÄÅ‰ª£ÁêÜÁ±ª„ÄÇÂÆÉË¥üË¥£ÂØπÁúüÂÆûËßíËâ≤ÁöÑÂ∫îÁî®ÔºåÊääÊâÄÊúâÊäΩË±°‰∏ªÈ¢òÁ±ªÂÆö‰πâÁöÑÊñπÊ≥ïÈôêÂà∂ÂßîÊâòÁªôÁúüÂÆû‰∏ªÈ¢òËßíËâ≤ÂÆûÁé∞ÔºåÂπ∂‰∏îÂú®ÁúüÂÆû‰∏ªÈ¢òËßíËâ≤Â§ÑÁêÜÂÆåÊØïÂâçÂêéÂÅöÈ¢ÑÂ§ÑÁêÜÂíåÂñÑÂêéÂ§ÑÁêÜÂ∑•‰Ωú„ÄÇ ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®ÂÆûÁé∞‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243// ÊäΩË±°‰∏ªÈ¢òÁ±ªpublic interface Subject &#123; // ÂÆö‰πâ‰∏Ä‰∏™ÊñπÊ≥ï public void request();&#125;// ÁúüÂÆû‰∏ªÈ¢òÁ±ªpublic class RealSubject implements Subject &#123; // ÂÆûÁé∞ÊñπÊ≥ï @Override public void request() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125;&#125;// ‰ª£ÁêÜÁ±ªpublic class Proxy implements Subject &#123; // Ë¶Å‰ª£ÁêÜÂì™‰∏™ÂÆûÁé∞Á±ª private Subject subject = null; // ÈªòËÆ§Ë¢´‰ª£ÁêÜËÄÖ public Proxy() &#123; this.subject = new Proxy(); &#125; // ÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞‰º†ÈÄíË¢´‰ª£ÁêÜËÄÖ public Proxy(Subject _subject) &#123; this.subject = _subject; &#125; // ÂÆûÁé∞Êé•Âè£‰∏≠ÂÆö‰πâÁöÑÊñπÊ≥ï @Override public void request() &#123; this.before(); this.subject.request(); this.after(); &#125; // È¢ÑÂ§ÑÁêÜ private void before() &#123; // do something &#125; // ÂñÑÂêéÂ§ÑÁêÜ private void after() &#123; // do something(); &#125;&#125; Â∫îÁî®‰ºòÁÇπ ËÅåË¥£Ê∏ÖÊô∞ÔºåÁúüÂÆûÁöÑËßíËâ≤Â∞±ÊòØÂÆûÁé∞ÂÆûÈôÖÁöÑ‰∏öÂä°ÈÄªËæëÔºå‰∏çÁî®ÂÖ≥ÂøÉÂÖ∂‰ªñÈùûÊú¨ËÅåË¥£ÁöÑ‰∫ãÂä°ÔºåÈÄöËøáÂêéÊúüÁöÑ‰ª£ÁêÜÂÆåÊàê‰∏Ä‰ª∂‰∫ãÂä°„ÄÇ È´òÊâ©Â±ïÊÄßÔºåÊó†ËÆ∫ÂÖ∑‰ΩìËßíËâ≤ÊÄé‰πàÂèòÂåñ„ÄÇ ‰ΩøÁî®Âú∫ÊôØÂÖ∏ÂûãÁöÑSpring AOP Êâ©Â±ïÊôÆÈÄö‰ª£ÁêÜË¶ÅÊ±ÇÂè™ËÉΩËÆøÈóÆ‰ª£ÁêÜËßíËâ≤ÔºåËÄå‰∏çËÉΩËÆøÈóÆÁúüÂÆûËßíËâ≤ÔºåÁúüÂÆûËßíËâ≤ÁöÑÂàõÂª∫ÊòØÂú®‰ª£ÁêÜÁöÑÂÜÖÈÉ®ÂàõÂª∫ÁöÑ„ÄÇÂú®ËØ•Ê®°Âºè‰∏ãÔºåË∞ÉÁî®ËÄÖÂè™Áü•‰ª£ÁêÜËÄå‰∏çÁî®Áü•ÈÅìÁúüÂÆûÁöÑËßíËâ≤ÊòØË∞ÅÔºåÂ±èËîΩ‰∫ÜÁúüÂÆûËßíËâ≤ÁöÑÂèòÊõ¥ÂØπÈ´òÂ±ÇÊ®°ÂùóÁöÑÂΩ±Âìç„ÄÇ psÔºöÂú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠Ôºå‰∏ÄËà¨ÊòØÈÄöËøáÁ∫¶ÂÆöÊù•Á¶ÅÊ≠¢new‰∏Ä‰∏™ÁúüÂÆûÁöÑËßíËâ≤„ÄÇ Âº∫Âà∂‰ª£ÁêÜË¶ÅÊ±ÇÂøÖÈ°ªÈÄöËøáÁúüÂÆûËßíËâ≤ÊâæÂà∞‰∏Ä‰∏™‰ª£ÁêÜËßíËâ≤ÔºåÂê¶Âàô‰∏çËÉΩÁõ¥Êé•ËÆøÈóÆÔºåÂç≥Ë¶ÅÊ±ÇÁúüÂÆûËßíËâ≤Êúâ‰∏Ä‰∏™Ëµã‰∫àËá™Â∑±‰∏Ä‰∏™‰ª£ÁêÜÁöÑÊñπÊ≥ï„ÄÇ ‰ª£ÁêÜÂ¢ûÂº∫‰∏Ä‰∏™Á±ªÂèØ‰ª•ÂÆûÁé∞Â§ö‰∏™Êé•Âè£Ôºå‰ª£ÁêÜÁ±ª‰πüÂèØ‰ª•ÂÆûÁé∞Â§ö‰∏™‰∏ªÈ¢òÊé•Âè£ÔºåÂÆûÁé∞‰∏çÂêåÁöÑ‰ªªÂä°„ÄÇËÄå‰∏î‰ª£ÁêÜÁöÑÁõÆÁöÑÊòØÂú®ÁõÆÊ†áÂØπË±°ÊñπÊ≥ïÁöÑÂü∫Á°Ä‰∏äÂÅöÂ¢ûÂº∫ÔºåËøôÁßçÂ¢ûÂº∫ÁöÑÊú¨Ë¥®ÈÄöÂ∏∏ÊòØÂØπÁõÆÊ†áÂØπË±°ÁöÑÊñπÊ≥ïÁ≤æÂøÉÊã¶Êà™ÂíåËøáÊª§„ÄÇ‰ª£ÁêÜÁ±ªÂèØ‰ª•‰∏∫ÁúüÊòØËßíËâ≤È¢ÑÂ§ÑÁêÜÊ∂àÊÅØ„ÄÅËøáÊª§Ê∂àÊÅØ„ÄÅÊ∂àÊÅØËΩ¨Âèë„ÄÅ‰∫ãÂêéÂ§ÑÁêÜÊ∂àÊÅØÁ≠âÂäüËÉΩ„ÄÅ Âä®ÊÄÅ‰ª£ÁêÜÂä®ÊÄÅ‰ª£ÁêÜÊòØÂú®ÂÆûÁé∞Èò∂ÊÆµ‰∏çÁî®ÂÖ≥ÂøÉ‰ª£ÁêÜË∞ÅÔºåËÄåÊòØÂú®ËøêË°åÈò∂ÊÆµÊâçÊåáÂÆö‰ª£ÁêÜÂì™‰∏Ä‰∏™ÂØπË±°ÔºåÂç≥Èù¢ÂêëÂàáÈù¢ÁºñÁ®ãÔºå‰πüÂè´AOP„ÄÇ ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÔºö ‰∏§Êù°Áã¨Á´ãÂèëÂ±ïÁöÑÁ∫øË∑Ø„ÄÇÂä®ÊÄÅ‰ª£ÁêÜÂÆûÁé∞‰ª£ÁêÜÁöÑËÅåË¥£Ôºå‰∏öÂä°ÈÄªËæëSubjectÂÆûÁé∞Áõ∏ÂÖ≥ÁöÑÈÄªËæëÂäüËÉΩÔºå‰∏§ËÄÖÊ≤°ÊúâÂøÖÁÑ∂ÁöÑÁõ∏‰∫íËÄ¶ÂêàÁöÑÂÖ≥Á≥ª„ÄÇÈÄöÁü•Advice‰ªéÂè¶‰∏Ä‰∏™ÂàáÈù¢ÂàáÂÖ•ÔºåÊúÄÁªàÂú®È´òÂ±ÇÊ®°ÂùóClientËøõË°åËÄ¶ÂêàÔºåÂÆåÊàêÈÄªËæëÁöÑÂ∞ÅË£Ö‰ªªÂä°„ÄÇ‰∏ãÈù¢ÊòØ‰ªñÁöÑÈÄöÁî®ÂÆûÁé∞‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768// ÊäΩË±°‰∏ªÈ¢òpublic interface Subject &#123; // ‰∏öÂä°Êìç‰Ωú public void doSomething(String str);&#125;// ÁúüÂÆû‰∏ªÈ¢òpublic class RealSubject implements Subject &#123; // ‰∏öÂä°Êìç‰Ωú public void doSomething(String str) &#123; System.out.println("do Something!----&gt;" + str); &#125;&#125;// Âä®ÊÄÅ‰ª£ÁêÜÁöÑHandlerpublic class MyInvocationHandler implements InvocationHandler &#123; // Ë¢´‰ª£ÁêÜÁöÑÂØπË±° private Object target = null; // ÈÄöËøá‰∏Ä‰∏™ÊûÑÈÄ†ÂáΩÊï∞‰º†ÈÄí‰∏Ä‰∏™ÂØπË±° public MyInvocationHandler(Object _obj) &#123; this.target = _obj; &#125; public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; return method.invoke(this.target,args); &#125;&#125;// Âä®ÊÄÅ‰ª£ÁêÜÁ±ªpublic class DynamicProxy&lt;T&gt; &#123; public static &lt;T&gt; T newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h) &#123; // Spring AOPÁü•ËØÜ„ÄÇ if (true) &#123; // ÊâßË°å‰∏Ä‰∏™ÂâçÁΩÆÈÄöÁü• (new BeforeAdvice()).exec(); &#125; // ÊâßË°åÁõÆÊ†áÔºåÂπ∂ËøîÂõûÁªìÊûú return (T) Proxy.newProxyInstance(loader,interfaces,h); &#125;&#125;// ÈÄöÁü•Êé•Âè£ÂèäÂÆûÁé∞public interface IAdvice &#123; // ÈÄöÁü•Âè™Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÔºåÊâßË°åÂç≥ÂèØ public void exec();&#125;public class BeforeAdvice implements IAdvice &#123; public void exec() &#123; System.out.println("ÊàëÊòØÂâçÁΩÆÈÄöÁü•ÔºåÊàëË¢´ÊâßË°å‰∫ÜÔºÅ"); &#125;&#125;// Âä®ÊÄÅ‰ª£ÁêÜÁöÑÂú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // ÂÆö‰πâ‰∏Ä‰∏™‰∏ªÈ¢ò Subject subject = new RealSubject(); // ÂÆö‰πâ‰∏Ä‰∏™Handler InvocationHandler invocationHandler = new MyInvocationHandler(subject); // ÂÆö‰πâ‰∏ªÈ¢òÁöÑ‰ª£ÁêÜ Subject proxy = DynamicProxy.newProxyInstance(subject.getClass().getClassLoader(),subject.getClass().getInterfaces(),invocationHandler); // ‰ª£ÁêÜÁöÑË°å‰∏∫ proxy.doSomething("Finish"); &#125;&#125;// ËæìÂá∫ÊàëÊòØÂâçÁΩÆÈÄöÁü•ÔºåÊàëË¢´ÊâßË°å‰∫ÜÔºÅdo Something!----&gt;Finish subject.getInterfaces()ÊòØÊü•ÊâæËØ•Á±ªÁöÑÊâÄÊúâÊé•Âè£ÔºåÁÑ∂ÂêéÂÆûÁé∞Êé•Âè£ÁöÑÊâÄÊúâÊñπÊ≥ïÔºåÁÑ∂ÂêéÂèàInvocationHandlerÂÆûÁé∞ËØ•Á±ªÁöÑÊâÄÊúâÁöÑÊñπÊ≥ïÔºåÁî±ÂÖ∂invokeÊñπÊ≥ïÊé•ÁÆ°ÊâÄÊúâÊñπÊ≥ïÁöÑÂÆûÁé∞„ÄÇÂÖ∂Âä®ÊÄÅË∞ÉÁî®ËøáÁ®ãÂ¶Ç‰∏ãÔºö Client -&gt; dynamicProxy -&gt; MyInvocationHandler -&gt; RealSubject ‰ªé‰∏äÈù¢ÂèØ‰ª•ÁúãÂá∫Ë¶ÅÂÆûÁé∞Âä®ÊÄÅ‰ª£ÁêÜÁöÑÈ¶ñË¶ÅÊù°‰ª∂Êó∂ÔºöË¢´‰ª£ÁêÜÁ±ªË¶ÅÂÆûÁé∞‰∏Ä‰∏™Êé•Âè£„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µ‰ª£ÁêÜÊ®°ÂºèÂ∫îÁî®ÂæóÈùûÂ∏∏ÂπøÊ≥õÔºåÂ§ßÂà∞‰∏Ä‰∏™Á≥ªÁªüÊ°ÜÊû∂„ÄÅ‰ºÅ‰∏öÂπ≥Âè∞ÔºåÂ∞èÂà∞‰ª£Á†ÅÁâáÊÆµ„ÄÅ‰∫ãÂä°Â§ÑÁêÜÔºåÈÉΩ‰ºöÁî®Âà∞‰ª£ÁêÜÊ®°Âºè„ÄÇÁâπÂà´ÊòØÂú®Sping AOPÈáåÈù¢ÔºåÂ¶ÇÊûúË∞ÉËØïÁúãÂà∞$Proxy()Ëøô‰∏™‰∏úË•øÔºåÂÆÉÂ∫îËØ•Â∞±ÊòØ‰∏Ä‰∏™Âä®ÊÄÅ‰ª£ÁêÜ‰∫Ü„ÄÇ Âú®Â≠¶‰π†AOPÊ°ÜÊû∂Êó∂ÔºåÂºÑÊ∏ÖÊ•öÂá†‰∏™ÂêçËØçÂ∞±ÊàêÔºöÂàáÈù¢ÔºàAspectÔºâ„ÄÅÂàáÂÖ•ÁÇπÔºàJoinPointÔºâ„ÄÅÈÄöÁü•ÔºàAdviceÔºâ„ÄÅÁªáÂÖ•ÔºàweaveÔºâÂ∞±Ë∂≥Â§ü‰∫Ü„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÂª∫ÈÄ†ËÄÖÊ®°Âºè]]></title>
    <url>%2F2018%2F02%2F08%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁîü‰∫ß‰∏Ä‰∏™‰∫ßÂìÅÔºåÂÆÉÂøÖÁÑ∂ÊúâÂæàÂ§öÈõ∂ÈÉ®‰ª∂Ôºå‰∏çÂêåÁöÑÁªÑË£ÖÈ°∫Â∫èÂíåÈõ∂ÈÉ®‰ª∂‰∏™Êï∞ÂèØËÉΩ‰ºöÂØºËá¥‰∏çÂêåÁöÑ‰∫ßÂìÅÔºåÈÄöËøáÊéßÂà∂Ëøô‰∫õÈ°∫Â∫è‰∏é‰∏™Êï∞ÂèØ‰ª•ËææÂà∞Âø´ÈÄüÁîüÊàê‰∏çÂêå‰∫ßÂìÅÁöÑÁõÆÁöÑÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®Âª∫ÈÄ†ËÄÖÊ®°Âºè„ÄÇ ÂÆö‰πâÂª∫ÈÄ†ËÄÖÊ®°Âºè‰πüÂè´ÂÅöÁîüÊàêÂô®Ê®°Âºè„ÄÇ Â∞Ü‰∏Ä‰∏™Â§çÊùÇÂØπË±°ÁöÑÊûÑÂª∫‰∏éÂÆÉÁöÑË°®Á§∫ÂàÜÁ¶ªÔºå‰ΩøÂæóÂêåÊ†∑ÁöÑÊûÑÂª∫ËøáÁ®ãÂèØ‰ª•ÂàõÂª∫‰∏çÂêåÁöÑË°®Á§∫„ÄÇ‚Äî‚ÄîÂàõÈÄ†Á±ª ÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö Âú®Âª∫ÈÄ†ËÄÖÊ®°Âºè‰∏≠ÔºåÊúâÂ¶Ç‰∏ã4‰∏™ËßíËâ≤Ôºö Product‰∫ßÂìÅÁ±ªÔºöÈÄöÂ∏∏ÊòØÂÆûÁé∞‰∫ÜÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÔºå‰πüÂ∞±ÊòØÊúâÊ®°ÊùøÊñπÊ≥ïÂíåÂü∫Êú¨ÊñπÊ≥ï„ÄÇËøô‰∏™ÂèØ‰ª•Áúã‰πãÂâçÂÜôÁöÑÊ®°ÊùøÊñπÊ≥ïÊ®°Âºè„ÄÇ BuilderÊäΩË±°Âª∫ÈÄ†ËÄÖÔºöËßÑËåÉ‰∫ßÂìÅÁöÑÁªÑ‰ª∂Ôºå‰∏ÄËà¨ÊòØÁî±Â≠êÁ±ªÂÆûÁé∞„ÄÇ ContreteBuilderÂÖ∑‰ΩìÂª∫ÈÄ†ËÄÖÔºöÂÆûÁé∞ÊäΩË±°Á±ªÂÆö‰πâÁöÑÊâÄÊúâÊñπÊ≥ïÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÁªÑÂª∫Â•ΩÁöÑÂØπË±°„ÄÇ DirectorÂØºÊºîÁ±ªÔºöË¥üË¥£ÂÆâÊéíÂ∑≤ÊúâÊ®°ÂùóÁöÑÈ°∫Â∫èÔºåÁÑ∂ÂêéÂëäËØâBuilderÂºÄÂßãÂª∫ÈÄ†„ÄÇ Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏ãÈù¢ÁöÑÊ∫êÁ†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940// ‰∫ßÂìÅÁ±ª ÈÄöÂ∏∏Áî±Ê®°ÊùøÊñπÊ≥ïÊ®°ÂºèÂÆûÁé∞public class Product &#123; // ‰∏Ä‰∏™ÊñπÊ≥ïÁõ∏ÂΩì‰∫é‰∫ßÂìÅÁöÑ‰∏Ä‰∏™Èõ∂‰ª∂ public void doSomething() &#123; // Áã¨Á´ã‰∏öÂä°Â§ÑÁêÜ &#125;&#125;// ÊäΩË±°Âª∫ÈÄ†ËÄÖpublic abstract class Builder &#123; // ËÆæÁΩÆ‰∫ßÂìÅÁöÑ‰∏çÂêåÈÉ®ÂàÜ(ÂåÖÊã¨Èõ∂‰ª∂ÁßçÁ±ªÂíåÈ°∫Â∫è)Ôºå‰ª•Ëé∑Âæó‰∏çÂêåÁöÑ‰∫ßÂìÅ public abstract void setPart(); // Âª∫ÈÄ†‰∫ßÂìÅ public abstract Product bulidProduct();&#125;// ÂÖ∑‰ΩìÂª∫ÈÄ†ËÄÖpublic class ContreteBuilder extends Builder &#123; private Product product = new Product(); @Override public void setPart() &#123; // ‰∫ßÂìÅÁ±ªÂÜÖÈÉ®ÈÄªËæë &#125; @Override public Product buildProduct() &#123; return product; &#125;&#125;// ÂØºÊºîÁ±ªÔºåËµ∑Âà∞Â∞ÅË£ÖÁöÑ‰ΩúÁî®ÔºåÈÅøÂÖçÈ´òÂ±ÇÊ®°ÂùóÊ∑±ÂÖ•Âà∞Âª∫ÈÄ†ËÄÖÂÜÖÈÉ®ÁöÑÂÆûÁé∞Á±ª„ÄÇpublic class Director &#123; private Builder builder = new ContreteBuilder(); public Product getProduct() &#123; builder.setPart(); return builder.buildProduct(); &#125;&#125; Â∫îÁî®‰ºòÁÇπ Â∞ÅË£ÖÊÄßÔºå‰ΩøÁî®Âª∫ÈÄ†ËÄÖÊ®°ÂºèÂèØ‰ª•‰ΩøÂÆ¢Êà∑Á´Ø‰∏çÂøÖÁü•ÈÅì‰∫ßÂìÅÂÜÖÈÉ®ÁªÑÊàêÁöÑÁªÜËäÇ„ÄÇ Âª∫ÈÄ†ËÄÖÁã¨Á´ãÔºåÂÆπÊòìÊâ©Â±ï„ÄÇ ‰ΩøÁî®Âú∫ÊôØ Áõ∏ÂêåÊñπÊ≥ïÔºå‰∏çÂêåÊâßË°åÈ°∫Â∫èÔºå‰∫ßÁîü‰∏çÂêå‰∫ã‰ª∂ÁªìÊûúÊó∂ÔºåÂèØ‰ª•ÈááÁî®Âª∫ÈÄ†ËÄÖÊ®°Âºè„ÄÇ Â§ö‰∏™ÈÉ®‰ª∂ÊàñÈõ∂‰ª∂ÔºåÈÉΩÂèØ‰ª•Ë£ÖÈÖçÂà∞‰∏Ä‰∏™ÂØπË±°‰∏≠Ôºå‰ΩÜÊòØ‰∫ßÁîü‰∏çÂêåÁöÑÊïàËÉΩÔºåÂèØ‰ª•‰ΩøÁî®Âª∫ÈÄ†ËÄÖÊ®°Âºè„ÄÇ ‰∫ßÂìÅÁ±ª‰∏≠ÁöÑË∞ÉÁî®È°∫Â∫è‰∏çÂêå‰∫ßÁîü‰∏çÂêåÁöÑÊïàËÉΩÔºåÂèØ‰ª•‰ΩøÁî®Âª∫ÈÄ†ËÄÖÊ®°Âºè„ÄÇ Ê≥®ÊÑè‰∫ãÈ°πÂª∫ÈÄ†ËÄÖÊ®°ÂºèÂÖ≥Ê≥®ÁöÑÊòØÈõ∂‰ª∂Á±ªÂûãÂíåË£ÖÈÖçÂ∑•Ëâ∫ÔºàÈ°∫Â∫èÔºâÔºåËøôÊòØÂÆÉ‰∏éÂ∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÊúÄÂ§ß‰∏çÂêåÁöÑÂú∞Êñπ„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÂú®‰ΩøÁî®Âª∫ÈÄ†ËÄÖÊ®°ÂºèÁöÑÊó∂ÂÄôËÄÉËôë‰∏Ä‰∏ãÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÔºåÂà´Â≠§Á´ãÂú∞ÊÄùËÄÉ‰∏Ä‰∏™Ê®°ÂºèÔºåÂÉµÂåñÂæóÂ•óÁî®‰∏Ä‰∏™Ê®°Âºè‰ºöËÆ©‰Ω†ÂèóÂÆ≥Êó†Á©∑„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÊ®°ÊùøÊñπÊ≥ïÊ®°Âºè]]></title>
    <url>%2F2018%2F02%2F08%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂ∞ëÂÜô‰ª£Á†ÅÔºåÂ§ßÂÆ∂‰∏ÄÂÆöËßâÂæóÂæàÊúâÂê∏ÂºïÂäõ„ÄÇËÄå‰∏îËøòÊòØÂÖàÁ°ÆÂÆö‰∏Ä‰∏™Ê°ÜÊû∂ÔºåÂÜçÂÜôÂÖ∂‰∏≠ÁöÑÈÉ®ÂàÜÔºåËøô‰πàÁªìÊûÑÊ∏ÖÊô∞Âú∞ÂÜô‰ª£Á†ÅÔºåÂ§ßÂÆ∂‰∏ÄÂÆö‰ºöËßâÂæóÊõ¥ÊúâÂê∏ÂºïÂäõÔºåÈÇ£‰πàÊàëÊÉ≥Ê®°ÊùøÊñπÊ≥ïÊ®°ÂºèÂèØ‰ª•ËææÂà∞‰Ω†ÁöÑÈúÄÊ±Ç„ÄÇ ÂÆö‰πâÂÆö‰πâ‰∏Ä‰∏™Êìç‰Ωú‰∏≠ÁöÑÁÆóÊ≥ïÁöÑÊ°ÜÊû∂ÔºåËÄåÂ∞Ü‰∏Ä‰∫õÊ≠•È™§Âª∂ËøüÂà∞Â≠êÁ±ª‰∏≠„ÄÇ‰ΩøÂæóÂ≠êÁ±ªÂèØ‰ª•‰∏çÊîπÂèò‰∏Ä‰∏™ÁÆóÊ≥ïÁöÑÁªìÊûÑÂç≥ÂèØÈáçÂÆö‰πâËØ•ÁÆóÊ≥ïÁöÑÊüê‰∫õÁâπÂÆöÊ≠•È™§„ÄÇ‚Äî‚ÄîË°å‰∏∫Á±ª ‰∏ãÈù¢ÊòØ‰ªñÁöÑÈÄöÁî®Á±ªÂõæÔºö ÂÖ∂‰∏≠AbstractClassÂè´ÂÅöÊäΩË±°Ê®°ÊùøÔºåÂÆÉÁöÑÊñπÊ≥ïÂàÜ‰∏∫‰∏§Á±ªÔºö Âü∫Êú¨ÊñπÊ≥ïÔºöÁî±Â≠êÁ±ªÂÆûÁé∞ÁöÑÊñπÊ≥ïÔºåÂπ∂‰∏îÂú®Ê®°ÊùøÊñπÊ≥ïË¢´Ë∞ÉÁî®„ÄÇ Ê®°ÊùøÊñπÊ≥ïÔºö‰∏ÄËà¨ÊòØ‰∏Ä‰∏™ÂÖ∑‰ΩìÊñπÊ≥ïÔºåÂÆûÁé∞ÂØπÂü∫Êú¨ÊñπÊ≥ïÁöÑË∞ÉÂ∫¶ÔºåÂÆåÊàêÂõ∫ÂÆöÁöÑÈÄªËæë„ÄÇ ‰∏∫‰∫ÜÈò≤Ê≠¢ÊÅ∂ÊÑèÁöÑÊìç‰ΩúÔºå‰∏ÄËà¨Ê®°ÊùøÊñπÊ≥ïÈÉΩÂä†‰∏äfinalÂÖ≥ÈîÆÂ≠óÔºå‰∏çÂÖÅËÆ∏Ë¢´Ë¶ÜÂÜô„ÄÇ ËÄåConcreteClassÂ±û‰∫éÂÖ∑‰ΩìÊ®°ÊùøÔºåÂÆûÁé∞Áà∂Á±ªÊâÄÂÆö‰πâÁöÑÊäΩË±°ÊñπÊ≥ï„ÄÇ ‰∏ãÈù¢ÂÜçÁúãÁúã‰ªñÁöÑÈÄöÁî®‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// ÊäΩË±°Ê®°ÊùøÁ±ªpublic abstract class AbstrctClass &#123; // Âü∫Êú¨ÊñπÊ≥ï protected abstract void doSomething(); // Âü∫Êú¨ÊñπÊ≥ï protected abstract void doAngthing(); // Ê®°ÊùøÊñπÊ≥ï final public void templateMethod() &#123; // Ë∞ÉÁî®Âü∫Êú¨ÊñπÊ≥ïÔºåÂÆåÊàêÁõ∏ÂÖ≥ÈÄªËæë this.doAnything(); this.doSomething(); &#125;&#125;// ÂÖ∑‰ΩìÊ®°ÊùøÁ±ªpublic class ContreteClass1 extends AbstractClass &#123; // ÂÆûÁé∞Âü∫Êú¨ÊñπÊ≥ï @Override protected void doAngthing() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125; @Override protected void doSomething() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125;&#125;public class ContreteClass2 extends AbstractClass &#123; // ÂÆûÁé∞Âü∫Êú¨ÊñπÊ≥ï @Override protected void doAngthing() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125; @Override protected void doSomething() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main (String[] args) &#123; AbstractClass class1 = new ConcreteClass1(); AbstractClass class2 = new ConcreteClass2(); // Ë∞ÉÁî®Ê®°ÊùøÊñπÊ≥ï class1.templateMethod(); class2.templateMethod(); &#125;&#125; ÊäΩË±°Ê®°Êùø‰∏≠ÁöÑÂü∫Êú¨ÊñπÊ≥ïÂ∞ΩÈáèËÆæËÆ°‰∏∫protectedÁ±ªÂûãÔºåÁ¨¶ÂêàËø™Á±≥ÁâπÂéüÂàô„ÄÇÂÆûÁé∞Á±ªËã•ÈùûÂøÖË¶ÅÔºåÂ∞ΩÈáè‰∏çË¶ÅÊâ©Â§ßÁà∂Á±ª‰∏≠ÁöÑËÆøÈóÆÊùÉÈôê„ÄÇ Â∫îÁî®‰ºòÁÇπ Â∞ÅË£Ö‰∏çÂèòÈÉ®ÂàÜÔºåÊâ©Â±ïÂèØÂèòÈÉ®ÂàÜ„ÄÇ ÊèêÂèñÂÖ¨ÂÖ±ÈÉ®ÂàÜ‰ª£Á†ÅÔºå‰æø‰∫éÁª¥Êä§„ÄÇ Ë°å‰∏∫Áî±Áà∂Á±ªÊéßÂà∂ÔºåÂ≠êÁ±ªÂÆûÁé∞„ÄÇÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇ Áº∫ÁÇπÊòØ‰ºòÁÇπ‰πüÊòØÁº∫ÁÇπÔºöÂ≠êÁ±ªÂØπÁà∂Á±ª‰∫ßÁîü‰∫ÜÂΩ±Âìç„ÄÇ ‰ΩøÁî®Âú∫ÊôØ Â§ö‰∏™Â≠êÁ±ªÊúâÂÖ¨ÊúâÁöÑÊñπÊ≥ïÔºåÂπ∂‰∏îÈÄªËæëÂü∫Êú¨Áõ∏Âêå„ÄÇ ÈáçË¶Å„ÄÅÂ§çÊùÇÁöÑÁÆóÊ≥ïÔºåÂèØ‰ª•ÊääÊ†∏ÂøÉÁÆóÊ≥ïËÆæËÆ°‰∏∫Ê®°ÊùøÊñπÊ≥ïÔºåÂë®ËæπÁöÑÁõ∏ÂÖ≥ÁªÜËäÇÂäüËÉΩÂàôÁî±ÂêÑ‰∏™Â≠êÁ±ªÂÆûÁé∞„ÄÇ ÈáçÊûÑÊó∂ÔºåÊ®°ÊùøÊñπÊ≥ïÊ®°Âºè‰∏Ä‰∏™Â∏∏Áî®ÁöÑÊ®°ÂºèÔºåÊääÁõ∏ÂêåÁöÑ‰ª£Á†ÅÊäΩÂèñÂà∞Áà∂Á±ª‰∏≠ÔºåÁÑ∂ÂêéÈÄöËøáÈí©Â≠êÂáΩÊï∞Á∫¶ÊùüÂÖ∂Ë°å‰∏∫„ÄÇÊúâ‰∫ÜÈí©Â≠êÊñπÊ≥ïÁöÑÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÊâçÊòØÂÆåÁæéÁöÑ„ÄÇ psÔºöÈí©Â≠êÊñπÊ≥ïÂ∞±ÊòØÂ≠êÁ±ªÂÆûÁé∞ÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂèØ‰ª•Âà©Áî®ÂÖ∂ËøîÂõûÂÄºÂÜ≥ÂÆöÂÖ¨ÂÖ±ÈÉ®ÂàÜÁöÑÊâßË°åÁªìÊûú„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µ Áà∂Á±ªÂ¶Ç‰ΩïË∞ÉÁî®Â≠êÁ±ªÁöÑÊñπÊ≥ïÔºàÊûÅÂ∫¶‰∏çÂª∫ËÆÆËøô‰πàÂÅöÔºâ ÊääÂ≠êÁ±ª‰º†ÈÄíÂà∞Áà∂Á±ªÁöÑÊúâÂèÇÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÔºåÁÑ∂ÂêéË∞ÉÁî®„ÄÇ ‰ΩøÁî®ÂèçÂ∞ÑÁöÑÊñπÂºèË∞ÉÁî®„ÄÇ Áà∂Á±ªË∞ÉÁî®Â≠êÁ±ªÁöÑÈùôÊÄÅÊñπÊ≥ï„ÄÇ ‰ΩÜÊòØÈÄöËøáÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÂ∞±ÂèØ‰ª•ÂèòÁõ∏Âú∞ÂÆûÁé∞Áà∂Á±ªË∞ÉÁî®Â≠êÁ±ªÁöÑÊñπÊ≥ï„ÄÇ Âú®ÂºÄÊ∫êÊ°ÜÊû∂‰∏≠ÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÊäΩË±°Á±ªÔºåÁÑ∂ÂêéÂºÄÊ∫êÊ°ÜÊû∂ÂÜô‰∫Ü‰∏ÄÂ†ÜÂ≠êÁ±ª„ÄÇÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÊâ©Â±ïÔºåÂèØ‰ª•ÁªßÊâøËøô‰∏™ÊäΩË±°Á±ªÔºåÁÑ∂ÂêéË¶ÜÂÜôprotectedÊñπÊ≥ïÔºåÂÜçË∞ÉÁî®‰∏Ä‰∏™Á±ª‰ººexecuteÊñπÊ≥ïÔºåÂ∞±ÂÆåÊàê‰∫ÜÊâ©Â±ïÂºÄÂèë„ÄÇÁõ∏‰ø°Â§ßÂÆ∂‰∏ÄÂÆöÊ∑±ÊúâÊÑüËß¶„ÄÇ]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÊäΩË±°Â∑•ÂéÇÊ®°Âºè]]></title>
    <url>%2F2018%2F02%2F07%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®ÂºÄÂèëÂ∫îÁî®ÁöÑÊó∂ÂÄô‰∏∫‰∫ÜÈÄÇÂ∫î‰∏çÂêåÁöÑÊìç‰ΩúÁ≥ªÁªü‰ª•Âèä‰∏çÂêåÊï∞ÊçÆÂ∫ìÊó∂ÔºåÊàë‰ª¨ÊÄª‰ºöÊòæÂæóÂäõ‰∏ç‰ªéÂøÉ„ÄÇËÄåÊäΩË±°Â∑•ÂéÇÊ®°Âºè‰∏∫‰∫ÜÊàë‰ª¨Êèê‰æõ‰∫Ü‰ºòÁßÄÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÂÆö‰πâ‰∏∫ÂàõÂª∫‰∏ÄÁªÑÁõ∏ÂÖ≥ÊàñÁõ∏‰∫í‰æùËµñÁöÑÂØπË±°Êèê‰æõ‰∏Ä‰∏™Êé•Âè£ÔºåËÄå‰∏îÊó†È°ªÊåáÂÆö‰ªñ‰ª¨ÁöÑÂÖ∑‰ΩìÁ±ª„ÄÇ‚Äî‚ÄîÂàõÈÄ†Á±ª ÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö ‰∏∫‰∫ÜÂ±ïÁ§∫ÈÄöÁî®ÁöÑÊ∫ê‰ª£Á†ÅÔºåÂ∞ÜÂéüÊù•ÁöÑÈÄöÁî®Á±ªÂõæÊâ©Â±ï‰∏∫Â¶Ç‰∏ãÁ±ªÂõæÔºö ‰∏ãÈù¢ÊòØÂü∫‰∫éÁ±ªÂõæÁöÑ‰ª£Á†Å:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273// ÊäΩË±°‰∫ßÂìÅÁ±ª ProductA‰∏éProductBÁ±ª‰ºº;1,2‰ª£Ë°®‰∫ßÂìÅÁ≠âÁ∫ßpublic abstract class AbstractProductA &#123; // ÊØè‰∏™‰∫ßÂìÅÂÖ±ÊúâÊñπÊ≥ï public void shareMethod() &#123; ... &#125; // ÊØè‰∏™‰∫ßÂìÅÁõ∏ÂêåÊñπÊ≥ïÔºå‰∏çÂêåÂÆûÁé∞ public abstract void doSomething();&#125;// ‰∫ßÂìÅA1ÁöÑÂÆûÁé∞Á±ªpublic class ProductA1 extends AbstractProductA &#123; @Override public void doSomething() &#123; System.out.println("‰∫ßÂìÅA1ÁöÑÂÆûÁé∞ÊñπÊ≥ï"); &#125;&#125;// ‰∫ßÂìÅA2ÁöÑÂÆûÁé∞Á±ªpublic class ProductA2 extends AbstractProductA &#123; @Override public void doSomething() &#123; System.out.println("‰∫ßÂìÅA2ÁöÑÂÆûÁé∞ÊñπÊ≥ï"); &#125;&#125;// ÊäΩË±°Â∑•ÂéÇÁ±ª ÊúâN‰∏™‰∫ßÂìÅÊóèÔºåÂú®ÊäΩË±°Â∑•ÂéÇÁ±ªÂ∞±ÊúâN‰∏™ÂàõÂª∫ÊñπÊ≥ïpublic abstract class AbstractCreator &#123; // ÂàõÂª∫A‰∫ßÂìÅÂÆ∂Êóè public abstract AbstractProductA createProductA(); // ÂàõÂª∫B‰∫ßÂìÅÂÆ∂Êóè public abstract AbstractProductB createProductB();&#125;// ÊúâM‰∏™‰∫ßÂìÅÁ≠âÁ∫ßÂ∞±Â∫îËØ•ÊúâM‰∏™ÂÆûÁé∞Â∑•ÂéÇÁ±ªÔºåÂú®ÊØè‰∏™ÂÆûÁé∞Â∑•ÂéÇ‰∏≠ÔºåÂÆûÁé∞‰∏çÂêå‰∫ßÂìÅÊóèÁöÑÁîü‰∫ß‰ªªÂä°// ‰∫ßÂìÅÁ≠âÁ∫ß1ÁöÑÂÆûÁé∞Á±ªpublic class Creator1 extends AbstractCreator &#123; // Âè™Áîü‰∫ß‰∫ßÂìÅÁ≠âÁ∫ß‰∏∫1ÁöÑA‰∫ßÂìÅ public AbstractProductA createProductA() &#123; retrurn new ProductA1(); &#125; // Âè™Áîü‰∫ß‰∫ßÂìÅÁ≠âÁ∫ß‰∏∫1ÁöÑB‰∫ßÂìÅ public AbstractProductB createProductB() &#123; retrurn new ProductB1(); &#125;&#125;// ‰∫ßÂìÅÁ≠âÁ∫ß2ÁöÑÂÆûÁé∞Á±ªpublic class Creator2 extends AbstractCreator &#123; // Âè™Áîü‰∫ß‰∫ßÂìÅÁ≠âÁ∫ß‰∏∫2ÁöÑA‰∫ßÂìÅ public AbstractProductA createProductA() &#123; retrurn new ProductA2(); &#125; // Âè™Áîü‰∫ß‰∫ßÂìÅÁ≠âÁ∫ß‰∏∫2ÁöÑB‰∫ßÂìÅ public AbstractProductB createProductB() &#123; retrurn new ProductB2(); &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; // ÂÆö‰πâ‰∏§‰∏™Â∑•ÂéÇ AbstractCreator creator1 = new Creator1(); AbstractCreator creator2 = new Creator2(); // ‰∫ßÁîüA1ÂØπË±° AbstractProductA a1 = creator1.createProductA(); // ‰∫ßÁîüA2ÂØπË±° AbstractProductA a2 = creator2.createProductA(); // ‰∫ßÁîüB1ÂØπË±° AbstractProductB b1 = creator1.createProductB(); // ‰∫ßÁîüB2ÂØπË±° AbstractProductB b2 = creator2.createProductB(); &#125;&#125; ‰∏ªË¶ÅÊòØË¶ÅÁêÜËß£‰∫ßÂìÅÊóè‰ª•Âèä‰∫ßÂìÅÁ≠âÁ∫ßÁöÑÂÖ≥Á≥ª„ÄÇ Â∫îÁî®‰ºòÁÇπ Â∞ÅË£ÖÊÄßÔºåÂÆÉÂè™ÈúÄË¶Å‰∫ÜËß£Êé•Âè£„ÄÇ ‰∫ßÂìÅÊóèÁöÑÁ∫¶Êùü‰∏∫ÈùûÂÖ¨ÂºÄÁä∂ÊÄÅ„ÄÇ Áº∫ÁÇπÊâ©Â±ïÈùûÂ∏∏Âõ∞Èöæ„ÄÇÂ¶ÇÊûúË¶ÅÊñ∞Â¢û‰∏Ä‰∏™‰∫ßÂìÅÔºåÈúÄË¶Å‰øÆÊîπAbstractCreatorÁ±ª‰ª•ÂèäÂÆÉÁöÑÂÆûÁé∞Á±ª„ÄÇËøô‰∏•ÈáçËøùÂèç‰∫ÜÂºÄÈó≠ÂéüÂàô„ÄÇ ‰ΩøÁî®Âú∫ÊôØÂ¶ÇÊûú‰∏Ä‰∏™ÂØπË±°ÊóèÈÉΩÊúâÁõ∏ÂêåÁöÑÁ∫¶ÊùüÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®ÊäΩË±°Â∑•ÂéÇÊ®°Âºè„ÄÇ‰æãÂ¶ÇlinuxÂíåwindows‰∏ãÂæóÁºñËæëÂô®Âíå‰∏çÂêåÊï∞ÊçÆÂ∫ìÁöÑËßÑËåÉÊìç‰Ωú„ÄÇ Ê≥®ÊÑè‰∫ãÈ°π‰∏äÈù¢ÁöÑÊâ©Â±ïÂõ∞ÈöæÊòØÊåá‰∫ßÂìÅÊóèÊâ©Â±ïÂõ∞ÈöæÔºå‰ΩÜÊòØ‰∫ßÂìÅÁ≠âÁ∫ßÊâ©Â±ïËøòÊòØÂÆπÊòìÁöÑ„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÂú®Ê∂âÂèä‰∏çÂêåÊìç‰ΩúÁ≥ªÁªüÔºå‰∏çÂêåÊï∞ÊçÆÂ∫ìÁöÑÊó∂ÂÄôÈùûÂ∏∏ÈÄÇÂêàÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÔºåÂõ†‰∏∫ÂÆÉÂèØ‰ª•Â±èËîΩÊéâÊìç‰ΩúÁ≥ªÁªüÊàñÊï∞ÊçÆÂ∫ìÂØπÂ∫îÁî®ÁöÑÂΩ±Âìç„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÂ∑•ÂéÇÊñπÊ≥ïÊ®°Âºè]]></title>
    <url>%2F2018%2F02%2F06%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®Èù¢ÂêëÂØπË±°ÁöÑÊÄùÁª¥‰∏≠Ôºå‰∏áÁâ©ÁöÜÂØπË±°ÔºåÂ∞±ÂÉèÊúâÂ•≥ËúóÈÄ†‰∫∫ÔºåÊàë‰ª¨‰πüÂèØ‰ª•Áî®Â∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÈÄ†ÂØπË±°„ÄÇ ÂÆö‰πâÂÆö‰πâ‰∏Ä‰∏™Áî®‰∫éÂàõÂª∫ÂØπË±°ÁöÑÊé•Âè£ÔºåËÆ©Â≠êÁ±ªÂÜ≥ÂÆöÂÆû‰æãÂåñÂì™‰∏Ä‰∏™Á±ª„ÄÇÂ∑•ÂéÇÊñπÊ≥ï‰Ωø‰∏Ä‰∏™Á±ªÁöÑÂÆû‰æãÂåñÂª∂ËøüÂà∞Â≠êÁ±ª„ÄÇ‚Äî‚ÄîÂàõÈÄ†Á±ª Â∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÁöÑÈÄöÁî®Á±ªÂõæÂ¶Ç‰∏ãÔºö ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÊØîËæÉÂÆûÁî®ÁöÑÈÄöÁî®Ê∫êÁ†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657// ÊäΩË±°‰∫ßÂìÅÁ±ªpublic abstract class Product &#123; // ‰∫ßÂìÅÁ±ªÁöÑÂÖ¨ÂÖ±ÊñπÊ≥ï public void method1() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125; //ÊäΩË±°ÊñπÊ≥ï public abstract void method2();&#125;// ÂÖ∑‰Ωì‰∫ßÂìÅÁ±ªpublic class ContreteProduct1 extends Product &#123; @Override public void method2() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125;&#125;public class ContreteProduct2 extends Product &#123; @Override public void method2() &#123; // ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ &#125;&#125;// ÊäΩË±°Â∑•ÂéÇÁ±ªpublic abstract class Creator &#123; /* * ÂàõÂª∫‰∏Ä‰∏™‰∫ßÂìÅÂØπË±°ÔºåÂÖ∂ËæìÂÖ•ÂèÇÊï∞Á±ªÂûãÂèØ‰ª•Ëá™Ë°åËÆæÁΩÆ * ÈÄöÂ∏∏‰∏∫String, Enum, ClassÁ≠âÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•‰∏∫Á©∫ */ public abstract &lt;T extends Product&gt; T createProduct(Class&lt;T&gt; c);&#125;// ÂÖ∑‰ΩìÂ∑•ÂéÇÁ±ªpublic class ContreteCreator extends Creator &#123; public abstract &lt;T extends Product&gt; T createProduct(Class&lt;T&gt; c) &#123; Product product = null; try &#123; product = (Product) Class.forName(c.getName()).newInstance(); &#125; catch (Exception e) &#123; // ÂºÇÂ∏∏Â§ÑÁêÜ &#125; return ÔºàTÔºâproduct; &#125;&#125;// Âú∫ÊôØÁ±ªpublic class Client &#123; public static void main(String[] args) &#123; Creator creator = new ContreteCreate(); Product product = creator.createProduct(ContreteProduct1.class); /* * ÁªßÁª≠‰∏öÂä°Â§ÑÁêÜ */ &#125;&#125; Â∫îÁî®‰ºòÁÇπ ËâØÂ•ΩÁöÑÂ∞ÅË£ÖÊÄßÔºå‰ª£Á†ÅÁªìÊûÑÊ∏ÖÊô∞„ÄÇ Êâ©Â±ïÊÄßÈùûÂ∏∏‰ºòÁßÄÔºåË¶ÅÂ¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑ‰∫ßÂìÅÔºåÂè™Ë¶ÅÂÆûÁé∞ProductÊé•Âè£„ÄÇ Â±èÈó≠‰∫ßÂìÅÁ±ª„ÄÇÂè™Ë¶ÅÂÖ≥ÂøÉ‰∫ßÂìÅÁöÑÊé•Âè£Âç≥ÂèØÔºå‰æãÂ¶ÇÊç¢Êï∞ÊçÆÂ∫ìÂè™Ë¶ÅÊç¢È©±Âä®Âç≥ÂèØ„ÄÇ Á¨¶ÂêàËø™Á±≥ÁâπÊ≥ïÂàôÔºàÂè™Ë¶ÅÁü•ÈÅì‰∫ßÂìÅÁöÑÊé•Âè£Âç≥ÂèØÔºâÔºõÁ¨¶Âêà‰æùËµñÂÄíÁΩÆÂéüÂàôÔºàÂÄº‰æùËµñ‰∫ßÂìÅÁöÑÊäΩË±°Á±ªÂç≥ÂèØÔºâÔºõÁ¨¶ÂêàÈáåÊ∞èÊõøÊç¢ÂéüÂàôÔºà‰ΩøÁî®‰∫ßÂìÅÂ≠êÁ±ªÂèØ‰ª•ÊõøÊç¢‰∫ßÂìÅÁà∂Á±ªÔºâ„ÄÇ ‰ΩøÁî®Âú∫ÊôØ Âè™Ë¶Å‰ΩøÁî®newÁöÑÂú∞ÊñπÈÉΩÂèØ‰ª•‰ΩøÁî®Â∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÔºå‰ΩÜÊòØË¶ÅËÄÉËôë‰ª£Á†ÅÁöÑÂ§çÊùÇÂ∫¶„ÄÇ ÈúÄË¶ÅÁÅµÊ¥ªÁöÑÔºåÂèØÊâ©Â±ïÁöÑÊ°ÜÊû∂Êó∂ÔºàÊúâÂ§ö‰∏™‰∫ßÂìÅÂèØÈÄâ‰∏îÂèØ‰ª•ÈöèÊó∂Â¢ûÂä†Êó∂ÔºâÔºåÂèØ‰ª•ËÄÉËôëÂ∑•ÂéÇÊñπÊ≥ïÊ®°Âºè„ÄÇ Â∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÂèØ‰ª•Áî®Âú®ÂºÇÊûÑÈ°πÁõÆ‰∏≠„ÄÇ ÂèØ‰ª•‰ΩøÁî®Âú®ÊµãËØïÈ©±Âä®ÂºÄÂèëÁöÑÊ°ÜÊû∂‰∏ã„ÄÇ Â∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÁöÑÊâ©Â±ï Áº©Â∞è‰∏∫ÁÆÄÂçïÂ∑•ÂéÇÊ®°Âºè ÂÆûË¥®ÊòØÂéªÊéâ‰∫ÜÂàõÈÄ†ËÄÖÊé•Âè£Ôºå‰ΩøÂÖ∑‰ΩìÂàõÈÄ†ËÄÖÁõ¥Êé•‰æùËµñ‰∫ßÂìÅÊé•Âè£„ÄÇÁº∫ÁÇπÊòØÊâ©Â±ïÊØîËæÉÂõ∞ÈöæÔºå‰∏çÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇ ÂçáÁ∫ß‰∏∫Â§ö‰∏™Â∑•ÂéÇÁ±ª ÂÆûË¥®ÊòØ‰∏∫‰∫ÜÁªìÊûÑÊ∏ÖÊô∞ÔºåÊàë‰ª¨‰∏∫ÊØè‰∏™‰∫ßÂìÅÂÆö‰πâ‰∏Ä‰∏™ÂàõÈÄ†ËÄÖÔºåÁÑ∂ÂêéÁî±Ë∞ÉÁî®ËÄÖËá™Â∑±ÂéªÈÄâÊã©‰∏éÈÇ£‰∏™Â∑•ÂéÇÊñπÊ≥ïÂÖ≥ËÅî„ÄÇ Êõø‰ª£Âçï‰æãÊ®°Âºè ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456789101112131415161718192021public class SingletonFactory &#123;private static Singleton singleton;static &#123; try &#123; Class c1 = Class.forName(Singleton.class.getName()); // Ëé∑ÂæóÊó†ÂèÇÊûÑÈÄ† Constructor constructor = c1.getDeclaredConstructor(); //ËÆæÁΩÆÊó†ÂèÇÊûÑÈÄ†ÊòØÂèØËÆøÈóÆÁöÑ constructor.setAccessible(true); // ‰∫ßÁîü‰∏Ä‰∏™ÂÆû‰æãÂØπË±° singleton = (Singleton) constructor.newInstance(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125;&#125;public static Singleton getSingleton() &#123; return singleton;&#125;&#125; Âª∂ËøüÂàùÂßãÂåñ ÊâÄË∞ìÂª∂ËøüÂàùÂßãÂåñÂç≥‰∏Ä‰∏™ÂØπË±°Ë¢´Ê∂àË¥πÂÆåÊØïÂêéÔºåÂπ∂‰∏çÁ´ãÂàªÈáäÊîæÔºåÂ∑•ÂéÇÁ±ª‰øùÊåÅÂÖ∂ÂàùÂßãÁä∂ÊÄÅÔºåÁ≠âÂæÖÂÜçÊ¨°Ë¢´‰ΩøÁî®„ÄÇÂÖ∂ÂÆûË¥®ÔºåÊòØÂà©Áî®‰∏Ä‰∏™Map‰øùÂ≠òÂàõÈÄ†ËøáÁöÑÂØπË±°ÔºåÂ¶ÇÊûúÂú®MapÂÆπÂô®Â∑≤ÁªèÊúâÁöÑÂØπË±°ÔºåÂàôÁõ¥Êé•ÂèñÂá∫ËøîÂõûÔºõÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôÊ†πÊçÆÈúÄË¶ÅÁöÑÁ±ªÂûã‰∫ßÁîü‰∏Ä‰∏™ÂØπË±°Âπ∂ÊîæÂÖ•Âà∞MapÂÆπÂô®‰∏≠Ôºå‰ª•Êñπ‰æø‰∏ãÊ¨°Ë∞ÉÁî®„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÂ≠∞ËÉΩÁîüÂ∑ßÔºåÁÜüÁªÉÊéåÊè°ËØ•ËÆæËÆ°Ê®°ÂºèÔºåÂ§öÊÄùËÄÉÂ∑•ÂéÇÊñπÊ≥ïÂ¶ÇÂíåÂ∫îÁî®ÔºåËÄå‰∏îÂ∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÂèØ‰ª•‰∏éÂÖ∂‰ªñÊ®°ÂºèÊ∑∑Âêà‰ΩøÁî®ÔºåÂèòÂåñÂá∫Êó†Á©∑ÁöÑ‰ºòÁßÄËÆæËÆ°„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö‚Äî‚ÄîÂçï‰æãÊ®°Âºè]]></title>
    <url>%2F2018%2F02%2F06%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%A6%85%E2%80%94%E2%80%94%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂ¶ÇÊûúÊØè‰∏™‰∫∫ÂèØ‰ª•Ëµ∞ÁöÑË∑ØÂè™Êúâ‰∏ÄÊù°ÔºåÂ¶ÇÊûúÊØè‰∏™‰∫∫ÊÉ≥Ë¶ÅÁöÑ‰∏úË•øÈÉΩÊòØ‰∏Ä‰∏™(Âçï‰æãÊ®°Âºè)ÔºåÈÇ£‰πà‰∫∫Â∫îËØ•ÈÉΩ‰∏ç‰ºöËø∑Ëå´‰∫ÜÂêß„ÄÇËôΩÁÑ∂Ëß£ÂÜ≥‰∫ÜËø∑Ëå´Ôºå‰ΩÜÊòØ‰πüÊäπÊùÄ‰∫ÜÂ§öÊ†∑ÊÄßÔºåÊúâÂ•ΩÊúâÂùèÔºåÂêÑÊúâÊâÄËßÅ„ÄÇ ÂÆö‰πâÁ°Æ‰øùÊüê‰∏Ä‰∏™Á±ªÂè™Êúâ‰∏Ä‰∏™ÂÆû‰æãÔºåËÄå‰∏îËá™Ë°åÂÆû‰æãÂåñÂπ∂ÂêëÊï¥‰∏™Á≥ªÁªüÊèê‰æõËøô‰∏™ÂÆû‰æã„ÄÇ‚Äî‚ÄîÂàõÈÄ†Á±ª ‰∏ãÈù¢ÊòØÂÆÉÁöÑÈÄöÁî®Á±ªÂõæÔºö ‰ª£Á†ÅÂÆûÁé∞Êúâ‰∏§ÁßçÔºåÂ¶Ç‰∏ãÔºö12345678910111213// È•øÊ±âÂºèÂçï‰æã Á∫øÁ®ãÂÆâÂÖ®public class Singleton &#123; private static final Singleton = new Singleton(); // ÈôêÂà∂‰∫ßÁîüÂ§ö‰∏™ÂØπË±° private Singleton() &#123; ... &#125; // ÈÄöËøáËØ•ÊñπÊ≥ïËé∑ÂæóÂÆû‰æãÂØπË±° public static Singleton getSingleton() &#123; return singleton; &#125; // Á±ª‰∏≠ÂÖ∂‰ªñÊñπÊ≥ïÂ∞ΩÈáèÊòØstatic public static void doSomething &#123; ... &#125;&#125; 12345678910111213141516// ÊáíÊ±âÂºèÂçï‰æã Á∫øÁ®ã‰∏çÂÆâÂÖ®public class Singleton &#123; private static final Singleton = null; // ÈôêÂà∂‰∫ßÁîüÂ§ö‰∏™ÂØπË±° private Singleton() &#123; ... &#125; // ÈÄöËøáËØ•ÊñπÊ≥ïËé∑ÂæóÂÆû‰æãÂØπË±° public static Singleton getSingleton() &#123; if (singleton = null) &#123; singleton = new Singleton(); &#125; return singleton; &#125; // Á±ª‰∏≠ÂÖ∂‰ªñÊñπÊ≥ïÂ∞ΩÈáèÊòØstatic public static void doSomething &#123; ... &#125;&#125; Â∫îÁî®‰ºòÁÇπ ÂáèÂ∞ëÂÜÖÂ≠òÂºÄÊîØ ÂáèÂ∞ëÁ≥ªÁªüÁöÑÊÄßËÉΩÂºÄÈîÄ ÈÅøÂÖçÂØπËµÑÊ∫êÁöÑÂ§öÈáçÂç†Áî® Áº∫ÁÇπ Êâ©Â±ïÂõ∞ÈöæÔºåÁî±‰∫éÂÆÉÈúÄË¶ÅËá™Ë°åÂÆû‰æãÂåñ ‰∏çÂà©‰∫éÊµãËØïÔºåÁî±‰∫éÂçï‰æãÊ≤°ÂÆåÊàêÔºå‰∏çËÉΩÊµãËØï ‰∏éÂçï‰∏ÄËÅåË¥£ÊúâÂÜ≤Á™Å ‰ΩøÁî®Âú∫ÊôØ Ë¶ÅÊ±ÇÁîüÊàêÂîØ‰∏ÄÂ∫èÂàóÂè∑ÁöÑÁéØÂ¢É Âú®Êï¥‰∏™È°πÁõÆ‰∏≠ÈúÄË¶Å‰∏Ä‰∏™ÂÖ±‰∫´ËÆøÈóÆÂ∏¶‰Ω†ÊàñÂÖ±‰∫´Êï∞ÊçÆ ÂàõÂª∫‰∏Ä‰∏™ÂØπË±°ÈúÄË¶ÅÊ∂àËÄóÁöÑËµÑÊ∫êËøáÂ§öÔºåÂ¶ÇËÆøÈóÆIOÂíåÊï∞ÊçÆÂ∫ì ÈúÄË¶ÅÂÆö‰πâÂ§ßÈáèÁöÑÈùôÊÄÅÂ∏∏ÈáèÂíåÈùôÊÄÅÊñπÊ≥ïÔºàÂ¶ÇÂ∑•ÂÖ∑Á±ªÔºâÁöÑÁéØÂ¢É Ê≥®ÊÑè‰∫ãÈ°π Âú®È´òÂπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ãÔºåËØ∑Ê≥®ÊÑèÂçï‰æãÊ®°ÂºèÁöÑÁ∫øÁ®ãÂêåÊ≠•ÈóÆÈ¢òÔºåÈÄâÊã©ÂêàÈÄÇÁöÑÂÆûÁé∞Ê®°Âºè„ÄÇ ‰∏çÂèØ‰ª•Â§çÂà∂ÔºåÂç≥‰∏çÂÆûÁé∞CloneableÊé•Âè£„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÂú®Spring‰∏≠ÔºåÊØè‰∏™BeanÈªòËÆ§Â∞±ÊòØÂçï‰æãÁöÑÔºåËøôÊ†∑ÁöÑ‰ºòÁÇπÊòØSpringÂÆπÂô®ÂèØ‰ª•ÁÆ°ÁêÜËøô‰∫õBeanÁöÑÁîüÂëΩÂë®ÊúüÔºåÂÜ≥ÂÆö‰ªÄ‰πàÊó∂ÂÄôÈîÄÈ≠ÇÔºåÈîÄÊØÅÁöÑÊó∂ÂÄôË¶ÅÂ¶Ç‰ΩïÂ§ÑÁêÜÔºåÁ≠âÁ≠â„ÄÇÂ¶ÇÊûúÈááÁî®ÈùûÂçï‰æãÊ®°ÂºèÔºåÂàôBeanÂàùÂßãÂåñÂêéÁöÑÁÆ°ÁêÜ‰∫§Áî±J2EEÂÆπÂô®ÔºåSpringÂÆπÂô®‰∏çÂú®Ë∑üË∏™ÁÆ°ÁêÜBeanÁöÑÁîüÂëΩÂë®Êúü„ÄÇ]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖàÂêπÂìçÂè£Âè∑_6Â§ßËÆæËÆ°ÂéüÂàô]]></title>
    <url>%2F2018%2F02%2F01%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F%E5%85%88%E5%90%B9%E5%93%8D%E5%8F%A3%E5%8F%B7-6%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂÖàÊúâ6Â§ßËÆæËÆ°ÂéüÂàôÔºåÂêéÊúâ23ÁßçËÆæËÆ°Ê®°Âºè„ÄÇËÆ©Êàë‰ª¨ÂÖàÂêπÂìçËøôÂÖàË°åÁöÑÂè£Âè∑„ÄÇ Âçï‰∏ÄËÅåË¥£ÂéüÂàô SRPÂÆö‰πâÂ∞±‰∏Ä‰∏™Á±ªÊàñÊé•Âè£ËÄåË®ÄÔºåÂ∫îËØ•Êúâ‰∏îÂè™Êúâ‰∏Ä‰∏™ÂéüÂõ†ÂºïËµ∑Á±ªÁöÑÂèòÊõ¥„ÄÇ ‰æãÂ≠êÂÖ≥‰∫éÁîµËØùÈÄöËØùÁöÑÊé•Âè£ÔºåÊúâ‰∏â‰∏™ËøáÁ®ãÔºöÊã®Âè∑„ÄÅÈÄöËØù„ÄÅÊåÇÊú∫„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678public interface IPhone &#123; //Êã®ÈÄöÁîµËØù public void dial(String phoneNumber); //ÈÄöËØù public void chat(Onbject o); //ÊåÇÊú∫ public void hangup();&#125; ‰ΩÜÊòØIPhoneËøô‰∏™Êé•Âè£‰∏çÊòØÂè™Êúâ‰∏Ä‰∏™ËÅåË¥£ÔºåÂÆÉÂåÖÂê´‰∫Ü‰∏§‰∏™ËÅåË¥£Ôºö‰∏Ä‰∏™ÊòØÂçèËÆÆÁÆ°ÁêÜÔºå‰∏Ä‰∏™ÊòØÊï∞ÊçÆ‰º†ÈÄÅ„ÄÇÊâÄ‰ª•Êàë‰ª¨Êîπ‰∏∫‰∏ãÈù¢ËÆæËÆ°ÁöÑÁ±ªÂõæÔºö Â•ΩÂ§Ñ Á±ªÁöÑÂ§çÊùÇÊÄßÈôç‰ΩéÔºåÂÆûÁé∞‰ªÄ‰πàËÅåË¥£ÈÉΩÊúâÊ∏ÖÊô∞ÊòéÁ°ÆÁöÑÂÆö‰πâ ÂèØËØªÊÄßÊèêÈ´òÔºåÂ§çÊùÇÂ∫¶Èôç‰ΩéÔºåÈÇ£ÂΩìÁÑ∂ÂèØËØªÊÄßÊèêÈ´ò‰∫Ü ÂèØÁª¥Êä§ÊÄßÊèêÈ´òÔºåÂèØËØªÊÄßÊèêÈ´ò‰∫ÜÔºåÈÇ£ÂΩìÁÑ∂Êõ¥ÂÆπÊòìÁª¥Êä§‰∫Ü ÂèòÊõ¥ÂºïËµ∑ÁöÑÈ£éÈô©Èôç‰Ωé ÊúÄ‰Ω≥ÂÆûË∑µÊé•Âè£‰∏ÄÂÆöË¶ÅÂÅöÂà∞Âçï‰∏ÄËÅåË¥£ÔºåÁ±ªÁöÑËÆæËÆ°Â∞ΩÈáèÂÅöÂà∞Âè™Êúâ‰∏Ä‰∏™ÂéüÂõ†ÂºïËµ∑ÂèòÂåñ„ÄÇ ÈáåÊ∞èÊõøÊç¢ÂéüÂàô LSPÂÆö‰πâ Ê≠£ÂÆóÂÆö‰πâÔºöÂ¶ÇÊûúÂØπÊØè‰∏Ä‰∏™Á±ªÂûã‰∏∫SÁöÑÂØπË±°o1ÔºåÈÉΩÊúâÁ±ªÂûã‰∏∫TÁöÑÂØπË±°o2Ôºå‰ΩøÂæó‰ª•TÂÆö‰πâÁöÑÊâÄÊúâÁ®ãÂ∫èPÂú®ÊâÄÊúâÁöÑÂØπË±°o2ÈÉΩ‰ª£Êç¢Êàêo1Êó∂ÔºåÁ®ãÂ∫èPÁöÑË°å‰∏∫Ê≤°ÊúâÂèëÁîüÂèòÂåñÔºåÈÇ£‰πàÁ±ªÂûãSÊòØÁ±ªÂûãTÁöÑÂ≠êÁ±ªÂûã„ÄÇÔºàÊÑüËßâ„ÄäJavaËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„ÄãÁöÑÁøªËØëÈîôËØØÔºâ ÈÄö‰øóÂÆö‰πâÔºöÊâÄÊúâÂºïÁî®Âü∫Á±ªÁöÑÂú∞ÊñπÂøÖÈ°ªËÉΩÈÄèÊòéÂú∞‰ΩøÁî®ÂÖ∂Â≠êÁ±ªÁöÑÂØπË±°ÔºàÂè™Ë¶ÅÁà∂Á±ªËÉΩÂá∫Áé∞ÂæóÂú∞ÊñπÂ≠êÁ±ªÂ∞±ÂèØ‰ª•Âá∫Áé∞ÔºõÊúâÂ≠êÁ±ªÂá∫Áé∞ÁöÑÂú∞ÊñπÔºåÁà∂Á±ªÊú™ÂøÖËÉΩÈÄÇÂ∫îÔºâ„ÄÇ ËßÑÂàô Â≠êÁ±ªÂøÖÈ°ªÂÆåÂÖ®ÂÆûÁé∞Áà∂Á±ªÁöÑÊñπÊ≥ï„ÄÇÔºàÂ¶ÇÊûúÂ≠êÁ±ª‰∏çËÉΩÂÆåÊï¥Âú∞ÂÆûÁé∞Â≠êÁ±ªÁöÑÊñπÊ≥ïÔºåÊàñËÄÖÁà∂Á±ªÁöÑÊüê‰∫õÊñπÊ≥ïÂú®Â≠êÁ±ª‰∏≠Â∑≤ÁªèÂèëÁîü‚ÄúÁï∏Âèò‚ÄùÔºåÂàôÂª∫ËÆÆÊñ≠ÂºÄÁà∂Â≠êÁªßÊâøÂÖ≥Á≥ªÔºåÈááÁî®‰æùËµñ„ÄÅËÅöÂêà„ÄÅÁªÑÂêàÁÅØÂÖ≥Á≥ªÊù•‰ª£ÊõøÁªßÊâø„ÄÇÔºâ Â≠êÁ±ªÂèØ‰ª•ÊúâËá™Â∑±ÁöÑ‰∏™ÊÄß„ÄÇ Ë¶ÜÁõñÊàñÂÆûÁé∞Áà∂Á±ªÁöÑÊñπÊ≥ïÊó∂ËæìÂÖ•ÂèÇÊï∞ÂèØ‰ª•Ë¢´ÊîæÂ§ß„ÄÇÔºàÂ≠êÁ±ª‰∏≠ÊñπÊ≥ïÁöÑÂâçÁΩÆÊù°‰ª∂ÔºàÊñπÊ≥ï‰∏≠ËæìÂÖ•ÂèÇÊï∞ÔºâÂøÖÈ°ª‰∏éË∂ÖÁ±ª‰∏≠Ë¢´Ë¶ÜÂÜôÁöÑÊñπÊ≥ïÁöÑÂâçÁΩÆÊù°‰ª∂Áõ∏ÂêåÊàñËÄÖÊõ¥ÂÆΩÊùæ„ÄÇÔºâ Ë¶ÜÂÜôÊàñÂÆûÁé∞Áà∂Á±ªÁöÑÊñπÊ≥ïÊó∂ËæìÂá∫ÁªìÊûúÂèØ‰ª•Ë¢´Áº©Â∞è„ÄÇ ÁñëÈóÆÔºàÂ§öÊÄÅÊòØÂê¶ËøùËÉåLSPÔºüÔºâÂ¶ÇÊûúÁªßÊâøÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂ§öÊÄÅÔºåËÄåÂ§öÊÄÅÁöÑÂâçÊèêÂ∞±ÊòØÂ≠êÁ±ªË¶ÜÁõñÂπ∂ÈáçÊñ∞ÂÆö‰πâÁà∂Á±ªÁöÑÊñπÊ≥ïÔºå‰∏∫‰∫ÜÁ¨¶ÂêàLSPÔºåÊàë‰ª¨Â∫îËØ•Â∞ÜÁà∂Á±ªÂÆö‰πâ‰∏∫ÊäΩË±°Á±ªÔºåÂπ∂ÂÆö‰πâÊäΩË±°ÊñπÊ≥ïÔºåËÆ©Â≠êÁ±ªÈáçÊñ∞ÂÆö‰πâËøô‰∫õÊñπÊ≥ïÔºåÂΩìÁà∂Á±ªÊòØÊäΩË±°Á±ªÊó∂ÔºåÁà∂Á±ªÂ∞±ÊòØ‰∏çËÉΩÂÆû‰æãÂåñÔºåÊâÄ‰ª•‰πü‰∏çÂ≠òÂú®ÂèØÂÆû‰æãÂåñÁöÑÁà∂Á±ªÂØπË±°Âú®Á®ãÂ∫èÈáå„ÄÇ‰πüÂ∞±‰∏çÂ≠òÂú®Â≠êÁ±ªÊõøÊç¢Áà∂Á±ªÂÆû‰æãÊó∂ÈÄªËæë‰∏ç‰∏ÄËá¥ÁöÑÂèØËÉΩ„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÂú®È°πÁõÆ‰∏≠ÔºåÈááÁî®ÈáåÊ∞èÊõøÊç¢ÂéüÂàôÊó∂ÔºåÂ∞ΩÈáèÈÅøÂÖçÂ≠êÁ±ªÁöÑ‚Äú‰∏™ÊÄß‚ÄùÔºå‰∏ÄÊó¶Â≠êÁ±ªÊúâ‰∫Ü‚Äú‰∏™ÊÄß‚ÄùÔºåËøô‰∏™Â≠êÁ±ªÂíåÁà∂Á±ª‰πãÈó¥ÁöÑÂÖ≥Á≥ªÂ∞±ÈöæË∞ÉÂíåÔºåÊääÂ≠êÁ±ªÂΩìÂÅöÁà∂Á±ª‰ΩøÁî®ÔºåÂ≠êÁ±ªÁöÑ‚Äú‰∏™ÊÄß‚ÄùË¢´Êä∫ÊùÄ‰∫ÜÔºåÊääÂ≠êÁ±ªÂçïÁã¨‰Ωú‰∏∫‰∏Ä‰∏™‰∏öÂä°Êù•‰ΩøÁî®ÔºåÂàô‰ºöËÆ©‰ª£Á†ÅÈó¥ÁöÑËÄ¶ÂêàÂÖ≥Á≥ªÂèòÂæóÊâëÊúîËø∑Á¶ª‚ÄìÁº∫‰πèÁ±ªÊõøÊç¢ÁöÑÊ†áÂáÜ„ÄÇ ‰æùËµñÂÄíÁΩÆÂéüÂàô DIPÂÆö‰πâÈ´òÂ±ÇÊ®°Âùó‰∏çÂ∫îËØ•‰æùËµñÂ∫ïÂ±ÇÊ®°ÂùóÔºå‰∏§ËÄÖÈÉΩÂ∫îËØ•‰æùËµñÂÖ∂ÊäΩË±°„ÄÇÊäΩË±°‰∏çÂ∫îËØ•‰æùËµñÁªÜËäÇ„ÄÇÁªÜËäÇÂ∫îËØ•‰æùËµñÊäΩË±°„ÄÇÔºà‰∏çÂèØ‰ª•ÂàÜÂâ≤ÁöÑÂéüÂ≠êÈÄªËæëÂ∞±ÊòØÂ∫ïÂ±ÇÊ®°ÂùóÔºåÂéüÂ≠êÈÄªËæëÁöÑÂÜçÁªÑË£ÖÂ∞±ÊòØÈ´òÂ±ÇÊ®°Âùó„ÄÇÊäΩË±°Â∞±ÊòØÊåáÊé•Âè£ÊàñÊäΩË±°Á±ª„ÄÇÁªÜËäÇÂ∞±ÊòØÂÆûÁé∞Á±ª„ÄÇÔºâ JavaËØ≠Ë®ÄË°®Áé∞ÔºöÊ®°ÂùóÈó¥ÁöÑ‰æùËµñÈÄöËøáÊäΩË±°‰∫ßÁîüÔºåÂÆûÁé∞Á±ª‰πãÈó¥‰∏çÂèëÁîüÁõ¥Êé•ÁöÑ‰æùËµñÂÖ≥Á≥ªÔºåÂÖ∂‰æùËµñÂÖ≥Á≥ªÊòØÈÄöËøáÊé•Âè£ÊàñÊäΩË±°Á±ª‰∫ßÁîüÁöÑ„ÄÇÊé•Âè£ÊàñÊäΩË±°Á±ª‰∏ç‰æùËµñÂÆûÁé∞Á±ª„ÄÇÂÆûÁé∞Á±ª‰æùËµñÊé•Âè£ÊàñÊäΩË±°Á±ª„ÄÇ‚Äî‚ÄîÈù¢ÂêëÊé•Âè£ÁºñÁ®ã(OOD)„ÄÇ ‰æùËµñÁöÑ‰∏âÁßçÂÜôÊ≥ï ÊûÑÈÄ†ÂáΩÊï∞‰º†ÈÄí‰æùËµñÂØπË±°(ÊûÑÈÄ†ÂáΩÊï∞Ê≥®ÂÖ•) 123456789101112131415public interface IDriver &#123; public void drive();&#125;public class Driver implements IDriver &#123; private ICar car; //ÊûÑÈÄ†ÂáΩÊï∞Ê≥®ÂÖ• public Drive(ICar _car) &#123; this.car = _car; &#125; public void drive() &#123; this.car.run(); &#125;&#125; SetterÊñπÊ≥ï‰º†ÈÄí‰æùËµñÂØπË±°ÔºàSetter‰æùËµñÊ≥®ÂÖ•Ôºâ 12345678910111213141516public interface IDriver &#123; public void setCar(ICar car); public void drive();&#125;public class Driver implements IDriver &#123; private ICar car; //setterÊ≥®ÂÖ• public void setCar(ICar car) &#123; this.car = car; &#125; public void drive() &#123; this.car.run(); &#125;&#125; Êé•Âè£Â£∞Êòé‰æùËµñÂØπË±°(Êé•Âè£Ê≥®ÂÖ•) 12345678910public interface IDriver &#123; public void drive(ICar car);&#125;public class Driver implements IDriver &#123; //Êé•Âè£Ê≥®ÂÖ• public void drive(ICar car) &#123; car.run(); &#125;&#125; ÊúÄ‰Ω≥ÂÆûË∑µ ÊØè‰∏™Á±ªÂ∞ΩÈáèÈÉΩÊúâÊé•Âè£ÊàñÊäΩË±°Á±ªÔºåÊàñËÄÖÊäΩË±°Á±ªÂíåÊé•Âè£‰∏§ËÄÖÈÉΩÂÖ∑Â§á„ÄÇ ÂèòÈáèÁöÑË°®Èù¢Á±ªÂûãÔºàÂÆö‰πâÁöÑÁ±ªÂûãÔºâÂ∞ΩÈáèÊòØÊé•Âè£ÊàñËÄÖÊòØÊäΩË±°Á±ª„ÄÇ ‰ªª‰ΩïÁ±ªÈÉΩ‰∏çÂ∫îËØ•‰ªéÂÖ∑‰ΩìÁ±ªÊ¥æÁîü„ÄÇ Â∞ΩÈáè‰∏çË¶ÅË¶ÜÂÜôÂü∫Á±ªÁöÑÊñπÊ≥ï„ÄÇ ÁªìÂêàÈáåÊ∞èÊõøÊç¢ÂéüÂàô‰ΩøÁî®ÔºàÂ§öÊÄÅÔºâ Êàë‰ª¨Âú®ÂÆûÈôÖÁöÑÈ°πÁõÆ‰∏≠‰ΩøÁî®‰æùËµñÂÄíÁΩÆÂéüÂàôÈúÄË¶ÅÂÆ°Êó∂Â∫¶ÂäøÔºå‰∏çÂìüÂïäÊäì‰Ωè‰∏Ä‰∏™ÂéüÂàô‰∏çÊîæÔºåÊØè‰∏Ä‰∏™ÂéüÂàôÁöÑ‰ºòÁÇπÈÉΩÊòØÊúâÈôêÂ∫¶ÁöÑÔºåÂπ∂‰∏çÊòØÊîæ‰πãÂõõÊµ∑ËÄåÁöÜÂáÜÁöÑÁúüÁêÜÔºåÊâÄ‰ª•Âà´‰∏∫‰∫ÜÈÅµÂæ™‰∏Ä‰∏™ÂéüÂàôËÄåÊîæÂºÉ‰∫Ü‰∏Ä‰∏™È°πÁõÆÁöÑÁªàÊûÅÁõÆÊ†áÔºöÊäï‰∫ß‰∏äÁ∫øÂíåÁõàÂà©„ÄÇ Êé•Âè£ÈöîÁ¶ªÂéüÂàô ISPÂÆö‰πâÂÆ¢Êà∑Á´Ø‰∏çÂ∫îËØ•‰æùËµñ‰ªñ‰∏çÈúÄË¶ÅÁöÑÊé•Âè£„ÄÇÁ±ªÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªÂ∫îËØ•Âª∫Á´ãÂú®ÊúÄÂ∞èÁöÑÊé•Âè£‰∏ä„ÄÇÔºàÂÆû‰æãÊé•Âè£ÔºöclassÔºõÁ±ªÊé•Âè£ÔºöinterfaceÔºâ Á∫¶Êùü Êé•Âè£Ë¶ÅÂ∞ΩÈáèÂ∞è„ÄÇÔºàÊ†πÊçÆÊé•Âè£ÈöîÁ¶ªÂéüÂàôÊãÜÂàÜÊé•Âè£Êó∂ÔºåÈ¶ñÂÖàÂøÖÈ°ªË¶ÅÊª°Ë∂≥Âçï‰∏ÄËÅåË¥£ÂéüÂàô„ÄÇÔºâ Êé•Âè£Ë¶ÅÈ´òÂÜÖËÅö„ÄÇÔºàÂú®Êé•Âè£‰∏≠Â∞ΩÈáèÂ∞ëÂÖ¨Â∏ÉpublicÊñπÊ≥ï„ÄÇÔºâ ÂÆöÂà∂ÊúçÂä°„ÄÇÔºàËÆæËÆ°Êó∂ÈúÄË¶Å‰∏∫ÂêÑ‰∏™ËÆøÈóÆËÄÖÂÆöÂà∂ÊúçÂä°ÔºàÊé•Âè£Ôºâ„ÄÇÔºâ Êé•Âè£ËÆæËÆ°Êó∂ÊúâÈôêÂ∫¶ÁöÑ„ÄÇÔºàÊé•Âè£ÁöÑËÆæËÆ°Á≤íÂ∫¶Ë¶ÅÂçèË∞ÉÂºÄÂèëÈöæÂ∫¶ÂíåÂèØÁª¥Êä§ÊÄß„ÄÇÔºâ ÊúÄ‰Ω≥ÂÆûË∑µ ‰∏Ä‰∏™Êé•Âè£Âè™ÊúçÂä°‰∫é‰∏Ä‰∏™Â≠êÊ®°ÂùóÊàñ‰∏öÂä°ÈÄªËæë„ÄÇ ÈÄöËøá‰∏öÂä°ÈÄªËæëÂéãÁº©Êé•Âè£‰∏≠ÁöÑpublicÊñπÊ≥ïÔºåÁªèÂ∏∏ÂõûÈ°æÊé•Âè£„ÄÇ Â∑≤ÁªèË¢´Ê±°ÊüìÁöÑÊé•Âè£ÔºåÂ∞ΩÈáèÂéª‰øÆÊîπÔºåÂ¶ÇÊûúÂèòÊõ¥È£éÈô©ËæÉÂ§ßÔºåÂàôÈááÁî®ÈÄÇÈÖçÂô®Ê®°ÂºèËøõË°åËΩ¨ÂåñÂ§ÑÁêÜ„ÄÇ ‰∫ÜËß£ÁéØÂ¢ÉÔºåÊãíÁªùÁõ≤‰ªé„ÄÇ Ëø™Á±≥ÁâπÊ≥ïÂàô LoD LKPÂÆö‰πâ‰∏Ä‰∏™ÂØπË±°Â∫îËØ•ÂØπÂÖ∂‰ªñÂØπË±°ÊúâÊúÄÂ∞ëÁöÑ‰∫ÜËß£„ÄÇÔºàÁ±ªËß£ËÄ¶Ôºâ Âê´‰πâ Âè™‰∏éÊúãÂèã‰∫§ÊµÅ ÊúãÂèãÁ±ªÁöÑÂÆö‰πâÔºöÂá∫Áé∞Âú®ÊàêÂëòÂèòÈáè„ÄÅÊñπÊ≥ïÁöÑËæìÂÖ•ËæìÂá∫ÂèÇÊï∞ÁöÑÁ±ªÁß∞‰∏∫ÊàêÂëòÊúãÂèãÁ±ª„ÄÇ ÊâÄ‰ª•Âú®ÂéüÁ±ªÁöÑÊñπÊ≥ï‰∏≠‰∏çËÉΩÂá∫Áé∞ÈùûÊúãÂèãÁöÑÁ±ªÔºåJDK APIÊèê‰æõÁöÑÁ±ªÈô§Â§ñ„ÄÇ ÊúãÂèãÈó¥‰πüÊòØÊúâË∑ùÁ¶ªÁöÑ Â∞ΩÈáè‰∏çË¶ÅÂØπÂ§ñÂÖ¨Â∏ÉÂ§™Â§öÁöÑpublicÊñπÊ≥ïÂíåÈùûÈùôÊÄÅÁöÑpublicÂèòÈáè„ÄÇ ÊòØËá™Â∑±ÁöÑÂ∞±ÊòØËá™Â∑±ÁöÑ Â¶ÇÊûúËøá‰∏Ä‰∏™ÊñπÊ≥ïÊîæÂú®Êú¨Á±ª‰∏≠ÔºåÊó¢‰∏çÂ¢ûÂä†Á±ªÈó¥ÂÖ≥Á≥ªÔºå‰πüÂØπÊú¨Á±ª‰∏ç‰∫ßÁîüË¥üÈù¢ÂΩ±ÂìçÔºåÈÇ£Â∞±ÊîæÁΩÆÂú®Êú¨Á±ª‰∏≠„ÄÇ Ë∞®ÊÖé‰ΩøÁî®Serializable Èò≤Ê≠¢ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Á´ØÁ±ª‰∏çÂêåÊ≠•„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µËø™Á±≥ÁâπÊ≥ïÂàôÁöÑÊ†∏ÂøÉÊòØÁ±ªÈó¥Ëß£ËÄ¶ÔºåÂº±ËÄ¶ÂêàÔºåÂè™ÊúâÂº±ËÄ¶Âêà‰∫Ü‰ª•ÂêéÔºåÁ±ªÁöÑÂ§çÁî®ÁéáÊâçÂèØ‰ª•ÊèêÈ´ò„ÄÇÂÖ∂Ë¶ÅÊ±ÇÁöÑÁªìÊûúÂ∞±ÊòØ‰∫ßÁîüÂ§ßÈáèÁöÑ‰∏≠ËΩ¨ÊàñË∑≥ËΩ¨Á±ªÔºåÂØºËá¥Á≥ªÁªüÁöÑÂ§çÊùÇÊÄßÊèêÈ´òÔºåÂêåÊó∂‰πü‰∏∫Áª¥Êä§Â∏¶Êù•‰∫ÜÈöæÂ∫¶ÔºåÂú®ÈááÁî®Ëø™Á±≥ÁâπÊ≥ïÂàôÊó∂ÈúÄË¶ÅÂèçÂ§çÊùÉË°°ÔºåÊó¢ÂÅöÂà∞ËÆ©ÁªìÊûÑÊ∏ÖÊô∞ÔºåÂèàË¶ÅÂÅöÂà∞È´òÂÜÖËÅö‰ΩéËÄ¶Âêà„ÄÇÂΩì‰∏Ä‰∏™Á±ªË∑≥ËΩ¨‰∏§Ê¨°‰ª•‰∏äÊâçËÉΩËÆøÈóÆÂà∞Âè¶‰∏Ä‰∏™Á±ªÔºåÂ∞±ÈúÄË¶ÅÈáçÊûÑ‰∫Ü„ÄÇ ÂºÄÈó≠ÂéüÂàô OCPÂÆö‰πâ‰∏Ä‰∏™ËΩØ‰ª∂ÂÆû‰ΩìÂ¶ÇÁ±ª„ÄÅÊ®°ÂùóÂíåÂáΩÊï∞Â∫îËØ•ÂØπÊâ©Â±ïÂºÄÊîæÔºåÂØπ‰øÆÊîπÂÖ≥Èó≠„ÄÇ PS: 3WÂéüÂàôÔºàwhatÔºöÊòØ‰ªÄ‰πàÔºõwhyÔºö‰∏∫‰ªÄ‰πàÔºõHowÔºöÊÄé‰πàÂÅöÔºâ ÊòØ‰ªÄ‰πàÂºÄÈó≠ÂéüÂàôÂëäËØâÊàë‰ª¨Â∫îËØ•Â∞ΩÈáèÈÄöËøáÊâ©Â±ïËΩØ‰ª∂ÂÆû‰ΩìÊù•ÂÆûÁé∞ÂèòÂåñÔºåËÄå‰∏çÊòØÈÄöËøá‰øÆÊîπÂ∑≤ÊúâÁöÑ‰ª£Á†ÅÊù•ÂÆåÊàêÂèòÂåñÔºåÂÆÉÊòØ‰∏∫ËΩØ‰ª∂ÂÆû‰ΩìÁöÑÊú™Êù•‰∫ã‰ª∂ËÄåÂà∂ÂÆöÁöÑÂØπÁé∞Ë°åÂºÄÂèëËÆæËÆ°ËøõË°åÁöÑÁ∫¶ÊùüËßÑÂàô„ÄÇ ÂºÄÈó≠ÂéüÂàôÂØπÊâ©Â±ïÂºÄÊîæÔºåÂØπ‰øÆÊîπÂÖ≥Èó≠ÔºåÂπ∂‰∏ç‰ª•‰∏∫ÁùÄ‰∏çÂÅö‰ªª‰Ωï‰øÆÊîπÔºå‰ΩéÂ±ÇÊ®°ÂùóÁöÑÂèòÊõ¥ÔºåÂøÖÁÑ∂Ë¶ÅÊúâÈ´òÂ±ÇÊ®°ÂùóÁöÑËøõË°åËÄ¶ÂêàÔºåÂê¶ÂàôÂ∞±ÊòØ‰∏Ä‰∏™Â≠§Á´ãÊó†ÊÑè‰πâÁöÑ‰ª£Á†ÅÁâáÊÆµ„ÄÇ ‰∏Ä‰∏™È°πÁõÆÁöÑÂü∫Êú¨Ë∑ØÂæÑÔºöÈ°πÁõÆÂºÄÂèë„ÄÅÈáçÊûÑ„ÄÅÊµãËØï„ÄÅÊäï‰∫ß„ÄÅËøêÁª¥ÔºåÂÖ∂‰∏≠ÁöÑÈáçÊûÑÂèØ‰ª•ÂØπÂéüÊúâÁöÑËÆæËÆ°Âíå‰ª£Á†ÅËøõË°å‰øÆÊîπÔºåËøêÁª¥Â∞ΩÈáèÂáèÂ∞ëÂØπÂéüÊúâ‰ª£Á†ÅÁöÑ‰øÆÊîπÔºå‰øùÊåÅÂéÜÂè≤‰ª£Á†ÅÁöÑÁ∫ØÊ¥ÅÊÄßÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÁ®≥ÂÆöÊÄß„ÄÇ ‰∏∫‰ªÄ‰πà ÁÆÄÂåñÊµãËØïÔºöÂ¶ÇÊûúÊîπÂèòËΩØ‰ª∂ÂÜÖÂÆπ, ÈúÄË¶ÅÂ∞ÜÊâÄÊúâÁöÑÊµãËØïÊµÅÁ®ãÈÉΩÊâßË°å‰∏ÄÈÅç, Â¶Ç ÂçïÂÖÉÊµãËØï, ÂäüËÉΩÊµãËØï, ÈõÜÊàêÊµãËØïÁ≠â, Â¶ÇÊûúÂè™ÊòØÊâ©Â±ï, Âè™ÂçïÁã¨ÊµãËØïÊâ©Â±ïÈÉ®ÂàÜÂç≥ÂèØ„ÄÇ ÊèêÈ´òÂ§çÁî®ÊÄßÔºöÊâÄÊúâÈÄªËæëÈÉΩ‰ªéÂéüÂ≠êÈÄªËæëÁªÑÂêà, ÂéüÂ≠êÈÄªËæëÁ≤íÂ∫¶Ë∂äÂ∞è, Â§çÁî®ÊÄßË∂äÂ§ß; ËøôÊ†∑ÈÅøÂÖçÁõ∏ÂêåÈÄªËæëÂ≠òÂú®, ‰øÆÊîπÊó∂ÈúÄË¶Å‰øÆÊîπÂ§ö‰∏™Ê≠§Áõ∏ÂêåÈÄªËæë„ÄÇ ÊèêÈ´òÂèØÁª¥Êä§ÊÄßÔºöÁª¥Êä§‰∏Ä‰∏™Á±ªÊúÄÂ•ΩÁöÑÊñπÂºèÊòØÊâ©Â±ï‰∏Ä‰∏™Á±ª, ËÄå‰∏çÊòØ‰øÆÊîπ‰∏Ä‰∏™Á±ª, Â¶ÇÊûúÈúÄË¶Å‰øÆÊîπÈúÄË¶ÅËØªÊáÇÊ∫êÁ†ÅÊâçËÉΩ‰øÆÊîπ, Êâ©Â±ïÁöÑËØùÂè™ÈúÄË¶Å‰∫ÜËß£Âç≥ÂèØ, Áõ¥Êé•ÁªßÊâøÊâ©Â±ï„ÄÇ ÊÄé‰πàÂÅö ÊäΩË±°Á∫¶Êùü ÈÄöËøáÊé•Âè£ÊàñÊäΩË±°Á±ªÂèØ‰ª•Á∫¶Êùü‰∏ÄÁªÑÂèØËÉΩÂèòÂåñÁöÑË°å‰∏∫ÔºåÂπ∂‰∏îÂÆûÁé∞ÂØπÊâ©Â±ïÂºÄÊîæ„ÄÇÂÖ∂‰∏≠ÂåÖÊã¨‰∏âÂ±ÇÂê´‰πâÔºöÁ¨¨‰∏ÄÔºåÈÄöËøáÊé•Âè£ÊàñÊäΩË±°Á±ªÁ∫¶ÊùüÊâ©Â±ïÔºåÂØπÊâ©Â±ïËøõË°åËæπÁïåËÆæÂÆöÔºå‰∏çÂÖÅËÆ∏Âá∫Áé∞Âú®Êé•Âè£ÊàñÊäΩË±°Á±ª‰∏çÂ≠òÂú®ÁöÑpublicÊñπÊ≥ïÔºõÁ¨¨‰∫åÔºåÂèÇÊï∞Á±ªÂûãÔºåÂºïÁî®ÂØπË±°Â∞ΩÈáè‰ΩøÁî®Êé•Âè£ÊàñËÄÖÊäΩË±°Á±ªÔºåËÄå‰∏çÊòØÂÆûÁé∞Á±ªÔºõÁ¨¨‰∏âÔºåÊäΩË±°Â±ÇÂ∞ΩÈáè‰øùÊåÅÁ®≥ÂÆö„ÄÇ ÂÖÉÊï∞ÊçÆÊéßÂà∂Ê®°ÂùóË°å‰∏∫ ÈÄöËøáÈÖçÁΩÆÂèÇÊï∞Ôºà‰ªéÊñá‰ª∂ÊàñËÄÖÊï∞ÊçÆÂ∫ì‰∏≠Êù•ÔºâÊù•ÊéßÂà∂Ë°å‰∏∫Ôºå‰æãÂ¶ÇspringÈÖçÁΩÆÊñá‰ª∂ÁöÑÊûÑÈÄ†ÂáΩÊï∞Ê≥®ÂÖ•ÈÖçÁΩÆ„ÄÇ Âà∂ÂÆöÈ°πÁõÆÁ´†Á®ã Á∫¶ÂÆö‰ºò‰∫éÈÖçÁΩÆ„ÄÇ Â∞ÅË£ÖÂèòÂåñ ÂØπÂèòÂåñÁöÑÂ∞ÅË£ÖÂåÖÂê´‰∏§Â±ÇÂê´‰πâÔºöÁ¨¨‰∏ÄÔºåÂ∞ÜÁõ∏ÂêåÁöÑÂèòÂåñÂ∞ÅË£ÖÂà∞‰∏Ä‰∏™Êé•Âè£ÊàñÊäΩË±°Á±ª‰∏≠ÔºõÁ¨¨‰∫åÔºåÂ∞Ü‰∏çÂêåÁöÑÂèòÂåñÂ∞ÅË£ÖÂà∞‰∏çÂêåÁöÑÊé•Âè£ÊàñÊäΩË±°Á±ª‰∏≠„ÄÇ23‰∏™ËÆæËÆ°Ê®°ÂºèÈÉΩÊòØ‰ªéÂêÑ‰∏™‰∏çÂêåÁöÑËßíÂ∫¶ÂØπÂèòÂåñËøõË°åÂ∞ÅË£ÖÁöÑ„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µ ÂºÄÈó≠ÂéüÂàôÂè™ÊòØ‰∏Ä‰∏™ÂéüÂàôÔºåÈÄÇÂΩìÊó∂ÂÄô‰πüÂèØ‰ª•ËøõË°åË°•ÂÖÖ„ÄÇ È°πÁõÆËßÑÁ´†ÈùûÂ∏∏ÈáçË¶Å„ÄÇ È¢ÑÁü•ÂèòÂåñÔºåÈ°πÁõÆÈúÄË¶ÅÂÖ∑ÊúâÂèØÊâ©Â±ïÊÄß„ÄÇ ÊÄªÁªìÊää‰∏äÈù¢6Â§ßÂéüÂàôÁöÑÈ¶ñÂ≠óÊØçÔºàÈáåÊ∞èÊõøÊç¢ÂéüÂàôÂíåËø™Á±≥ÁâπÊ≥ïÂàôÁöÑÈ¶ñÂ≠óÊØçÈáçÂ§çÔºåÂè™Âèñ‰∏Ä‰∏™ÔºâËÅîÂêàËµ∑Êù•Â∞±ÊòØSOLIDÔºàÁ®≥ÂÆöÁöÑÔºâÔºåÂÖ∂‰ª£Á†ÅÁöÑÂê´‰πâÂ∞±ÊòØÊääËøô6‰∏™ÂéüÂàôÁªìÂêà‰ΩøÁî®ÁöÑÂ•ΩÂ§ÑÔºöÂª∫Á´ãÁ®≥ÂÆöÁÅµÊ¥ªÔºåÂÅ•Â£ÆÁöÑËÆæËÆ°ÔºåËÄåÂºÄÈó≠ÂéüÂàôÂèàÊòØÈáç‰∏≠‰πã‰∏≠ÔºåÊòØÊúÄÂü∫Á°ÄÁöÑÂéüÂàôÔºåÊòØÂÖ∂‰ªñ5Â§ßÂéüÂàôÁöÑÁ≤æÁ•ûÈ¢ÜË¢ñ„ÄÇ ÂèÇËÄÉ „ÄäËÆæËÆ°Ê®°Âºè‰πãÁ¶Ö„Äã]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UML_JavaÁ±ªÂõæ]]></title>
    <url>%2F2018%2F01%2F27%2F%E5%B7%A5%E5%85%B7%2FUML-Java%E7%B1%BB%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®ÁúãÊ∫êÁ†ÅÊàñËÄÖÂæàÂ§öÊäÄÊúØ‰π¶Á±çÁöÑÊó∂ÂÄôÈÉΩÈÅøÂÖç‰∏ç‰∫ÜÁúãÂà∞Á±ªÂõæÔºåÊó∂Èó¥Èïø‰∫ÜÊÄª‰ºöÂøò‰∫ÜÂê´‰πâÔºåÂú®ËøôÈáåÂ∞±ÊÄªÁªì‰∏Ä‰∏ãÔºåÊñπ‰æø‰ª•ÂêéÂõûÈ°æ„ÄÇËøôÈáå‰ΩøÁî®ÁöÑÂ∑•ÂÖ∑ÊòØstartUML„ÄÇ UMLUMLÔºö Áªü‰∏ÄÂª∫Ê®°ËØ≠Ë®ÄÔºàUnified Modeling LanguageÔºâ„ÄÇÂú® UML Á≥ªÁªüÂºÄÂèë‰∏≠Êúâ‰∏â‰∏™‰∏ªË¶ÅÁöÑÊ®°ÂûãÔºö ÂäüËÉΩÊ®°ÂûãÔºö‰ªéÁî®Êà∑ÁöÑËßíÂ∫¶Â±ïÁ§∫Á≥ªÁªüÁöÑÂäüËÉΩÔºåÂåÖÊã¨Áî®‰æãÂõæ„ÄÇ ÂØπË±°Ê®°ÂûãÔºöÈááÁî®ÂØπË±°ÔºåÂ±ûÊÄßÔºåÊìç‰ΩúÔºåÂÖ≥ËÅîÁ≠âÊ¶ÇÂøµÂ±ïÁ§∫Á≥ªÁªüÁöÑÁªìÊûÑÂíåÂü∫Á°ÄÔºåÂåÖÊã¨Á±ªÂõæ„ÄÅÂØπË±°Âõæ„ÄÅÂåÖÂõæ„ÄÇ Âä®ÊÄÅÊ®°ÂûãÔºöÂ±ïÁé∞Á≥ªÁªüÁöÑÂÜÖÈÉ®Ë°å‰∏∫„ÄÇÂåÖÊã¨Êó∂Â∫èÂõæÔºåÊ¥ªÂä®ÂõæÔºåÁä∂ÊÄÅÂõæ„ÄÇ Á±ªÂõæÁ±ªÂõæ‰ΩøÁî®Á±ªÊù•ÊèèËø∞Á≥ªÁªüÁöÑÈùôÊÄÅÁªìÊûÑÔºåÁ±ªÂõæÂåÖÂê´Á±ªÂíåÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºåÂÆÉÊèèËø∞Á≥ªÁªüÂÜÖÊâÄÂ£∞ÊòéÁöÑÁ±ªÔºå‰ΩÜÂÆÉÊ≤°ÊúâÊèèËø∞Á≥ªÁªüËøêË°åÊó∂Á±ªÁöÑË°å‰∏∫„ÄÇ Âú®UMLÁ±ªÂõæ‰∏≠ÔºåÁ±ª‰∏ÄËà¨Áî±‰∏âÈÉ®ÂàÜÁªÑÊàêÔºöÁ±ªÂêç„ÄÅÂ±ûÊÄß‰ª•ÂèäÊìç‰Ωú„ÄÇ Á±ªÂêçÊØè‰∏™Á±ªÈÉΩÂøÖÈ°ªÊúâ‰∏Ä‰∏™ÂêçÂ≠óÔºåÁ±ªÂêçÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇ Â±ûÊÄßÂ±ûÊÄßÊòØÊåáÁ±ªÁöÑÊÄßË¥®ÔºåÂç≥Á±ªÁöÑÊàêÂëòÂèòÈáè„ÄÇÁ±ªÂèØ‰ª•Êúâ‰ªªÊÑèÂ§ö‰∏™Â±ûÊÄßÔºå‰πüÂèØ‰ª•Ê≤°ÊúâÂ±ûÊÄß„ÄÇ Ê†ºÂºè‰∏∫Ôºö „ÄêÂèØËßÅÊÄß„Äë Â±ûÊÄßÂêç „ÄêÔºöÁ±ªÂûã„Äë „Äê=ÂàùÂßãÂÄº„Äë „Äê{Â±ûÊÄßÂ≠óÁ¨¶‰∏≤}„Äë ÂèØËßÅÊÄßÔºöÂú®UML‰∏≠publicÁ±ªÂûãÁî®Á¨¶Âè∑‚Äú+‚ÄùË°®Á§∫ÔºåprivateÁ±ªÂûãÁî®‚Äú-‚ÄùË°®Á§∫ÔºåprotectedÁ±ªÂûãÁî®‚Äú#‚ÄùË°®Á§∫„ÄÇ Â±ûÊÄßÂ≠óÁ¨¶‰∏≤ÔºöÁî®Êù•ÊåáÂÆöÂÖ≥‰∫éÂ±ûÊÄßÁöÑÂÖ∂‰ªñ‰ø°ÊÅØÔºå‰ªª‰ΩïÂ∏åÊúõÊ∑ªÂä†Â±ûÊÄßÂÆö‰πâÂ≠óÁ¨¶‰∏≤‰ΩÜÂèàÊ≤°ÊúâÂêàÈÄÇÂú∞ÊñπÂèØ‰ª•Âä†ÂÖ•ÁöÑËßÑÂàôÈÉΩÂèØ‰ª•ÊîæÂú®Â±ûÊÄßÂ≠óÁ¨¶‰∏≤ÈáåÔºå‰æãÂ¶ÇÁ±ªÂèòÈáè„ÄÇ Êìç‰ΩúÊìç‰ΩúÊòØÁ±ªÁöÑ‰ªªÊÑè‰∏Ä‰∏™ÂÆû‰æãÂØπË±°ÈÉΩÂèØ‰ª•‰ΩøÁî®ÁöÑË°å‰∏∫ÔºåÊìç‰ΩúÊòØÁ±ªÁöÑÊàêÂëòÊñπÊ≥ï„ÄÇ Ê†ºÂºè‰∏∫Ôºö„ÄêÂèØËßÅÊÄß„Äë Êìç‰ΩúÂêç „Äê{ÂèÇÊï∞ÂàóË°®}„Äë „ÄêÔºöËøîÂõûÁ±ªÂûã„Äë „Äê{Â±ûÊÄßÂ≠óÁ¨¶‰∏≤}„Äë Á±ª‰πãÈó¥ÁöÑÂÖ≥Á≥ªÂÖ≥ËÅîÂÖ≥Á≥ªÂÖ≥ËÅîÂÖ≥Á≥ª(Association)ÊòØÁ±ª‰∏éÁ±ª‰πãÈó¥ÊúÄÂ∏∏Áî®ÁöÑ‰∏ÄÁßçÂÖ≥Á≥ªÔºåÂÆÉÊòØ‰∏ÄÁßçÁªìÊûÑÂåñÂÖ≥Á≥ªÔºåÁî®‰∫éË°®Á§∫‰∏Ä‰∏™Á±ª‰∏éÂè¶‰∏Ä‰∏™Á±ª‰πãÈó¥ÊúâËÅîÁ≥ª„ÄÇ Âú® UML Á±ªÂõæ‰∏≠ÔºåÁî®ÂÆûÁ∫øËøûÊé•ÊúâÂÖ≥ËÅîÁöÑÁöÑÁ±ª„ÄÇÂú®ÂÆûÁé∞ÂÖ≥ËÅîÂÖ≥Á≥ªÊó∂ÔºåÈÄöÂ∏∏Â∞Ü‰∏Ä‰∏™Á±ªÁöÑÂØπË±°‰Ωú‰∏∫Âè¶‰∏Ä‰∏™Á±ªÁöÑÂ±ûÊÄß„ÄÇ ÂçïÂêëÂÖ≥ËÅîÁ±ªÁöÑÂÖ≥ËÅîÂÖ≥Á≥ªÂèØ‰ª•ÊòØÂçïÂêëÁöÑÔºåÂçïÂêëÂÖ≥ËÅîÁî®Â∏¶ÁÆ≠Â§¥ÁöÑÂÆûÁ∫øË°®Á§∫„ÄÇÂ¶Ç‰∏ãÂõæÔºö1234567public class Person &#123; private Address address;&#125;public class Address &#123;&#125; ÂèåÂêëÂÖ≥ËÅîÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂÖ≥ËÅîÊòØÂèåÂêëÁöÑ„ÄÇÂ¶Ç‰∏ãÂõæÔºö1234567public class Order &#123; private Product product;&#125;public class Product &#123; private Order order;&#125; Ëá™ÂÖ≥ËÅîÂú®Á≥ªÁªü‰∏≠ÂèØËÉΩ‰ºöÂ≠òÂú®‰∏Ä‰∫õÁ±ªÁöÑÂ±ûÊÄßÂØπË±°Á±ªÂûã‰∏∫ËØ•Á±ªÊú¨Ë∫´ÔºåËøôÁßçÁâπÊÆäÁöÑÂÖ≥ËÅîÂÖ≥Á≥ªÁß∞‰∏∫Ëá™ÂÖ≥ËÅî„ÄÇÂ¶Ç‰∏ãÂõæÔºö123public class Node &#123; private Node node;&#125; ÈáçÊï∞ÊÄßÂÖ≥ËÅîÈáçÊï∞ÊÄßÂÖ≥ËÅîÂÖ≥Á≥ªÂèàÁß∞‰∏∫Â§öÈáçÊÄßÂÖ≥ËÅîÂÖ≥Á≥ªÔºåË°®Á§∫‰∏Ä‰∏™Á±ªÁöÑÂØπË±°‰∏éÂè¶‰∏Ä‰∏™Á±ªÁöÑÂØπË±°ËøûÊé•ÁöÑ‰∏™Êï∞„ÄÇÂú® UML ‰∏≠Â§öÈáçÊÄßÂÖ≥Á≥ªÂèØ‰ª•Áõ¥Êé•Âú®ÂÖ≥ËÅîÁõ¥Á∫ø‰∏äÂ¢ûÂä†‰∏Ä‰∏™Êï∞Â≠óË°®Á§∫‰∏é‰πãÂØπÂ∫îÁöÑÂè¶‰∏Ä‰∏™Á±ªÁöÑÂØπË±°ÁöÑ‰∏™Êï∞„ÄÇÂ¶Ç‰∏ãÂõæÔºö ÂÖ∂‰∏≠Êï∞Â≠óÁöÑÁßçÁ±ªÂèäÂê´‰πâÂ¶Ç‰∏ãË°®Ôºö Ë°®Á§∫ÊñπÂºè Ë°®Á§∫Âê´‰πâ 1..1 Ë°®Á§∫Âè¶‰∏Ä‰∏™Á±ªÁöÑ‰∏Ä‰∏™ÂØπË±°Âè™‰∏é‰∏Ä‰∏™ËØ•Á±ªÂØπË±°ÊúâÂÖ≥Á≥ª 0..* Ë°®Á§∫Âè¶‰∏Ä‰∏™Á±ªÁöÑ‰∏Ä‰∏™ÂØπË±°‰∏éÈõ∂‰∏™ÊàñÂ§ö‰∏™ËØ•Á±ªÂØπË±°ÊúâÂÖ≥Á≥ª 1..* Ë°®Á§∫Âè¶‰∏Ä‰∏™Á±ªÁöÑ‰∏Ä‰∏™ÂØπË±°‰∏é‰∏Ä‰∏™ÊàñÂ§ö‰∏™ËØ•Á±ªÂØπË±°ÊúâÂÖ≥Á≥ª 0..1 Ë°®Á§∫Âè¶‰∏Ä‰∏™Á±ªÁöÑ‰∏Ä‰∏™ÂØπË±°Ê≤°ÊúâÊàñÂè™‰∏é‰∏Ä‰∏™ËØ•Á±ªÂØπË±°ÊúâÂÖ≥Á≥ª m..n Ë°®Á§∫Âè¶‰∏Ä‰∏™Á±ªÁöÑ‰∏Ä‰∏™ÂØπË±°‰∏éÊúÄÂ∞ëm„ÄÅÊúÄÂ§ön‰∏™ËØ•Á±ªÂØπË±°ÊúâÂÖ≥Á≥ª (m&lt;=n) ËÅöÂêàÂÖ≥Á≥ªËÅöÂêàÂÖ≥Á≥ªË°®Á§∫‰∏Ä‰∏™Êï¥‰Ωì‰∏éÈÉ®ÂàÜÁöÑÂÖ≥Á≥ª„ÄÇÈÄöÂ∏∏Âú®ÂÆö‰πâ‰∏Ä‰∏™Êï¥‰ΩìÁ±ªÂêéÔºåÂÜçÂéªÊâæÂá∫Ëøô‰∏™Êï¥‰ΩìÁ±ªÁöÑ‰∏Ä‰∫õÊàêÂëòÁ±ªÔºåËØ•Êï¥‰ΩìÁ±ªÂíåÊàêÂëòÁ±ª‰πãÈó¥Â∞±ÂΩ¢Êàê‰∫ÜËÅöÂêàÂÖ≥Á≥ª„ÄÇ Âú®ËÅöÂêàÂÖ≥Á≥ª‰∏≠ÔºåÊàêÂëòÁ±ªÊòØÊï¥‰ΩìÁ±ªÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂç≥ÊàêÂëòÂØπË±°ÊòØÊï¥‰ΩìÂØπË±°ÁöÑ‰∏ÄÈÉ®ÂàÜÔºå‰ΩÜÊòØÊàêÂëòÂØπË±°ÂèØ‰ª•ËÑ±Á¶ªÊï¥‰ΩìÂØπË±°Áã¨Á´ãÂ≠òÂú®„ÄÇÂú®UML‰∏≠ÔºåËÅöÂêàÂÖ≥Á≥ªÁî®Â∏¶Á©∫ÂøÉËè±ÂΩ¢ÁöÑÁõ¥Á∫øË°®Á§∫„ÄÇÂ¶Ç‰∏ãÂõæÔºö123456789101112131415public class Car &#123; private Engine engine; public Car(Engine engine) &#123; this.engine = engine; &#125; public setEngine(Engine engine) &#123; this.engine = engine; &#125;&#125;public class Engine &#123;&#125; ÁªÑÂêàÂÖ≥Á≥ªÁªÑÂêàÂÖ≥Á≥ª‰πüË°®Á§∫Á±ª‰πãÈó¥Êï¥‰ΩìÂíåÈÉ®ÂàÜÁöÑÂÖ≥Á≥ªÔºå‰ΩÜÊòØÁªÑÂêàÂÖ≥Á≥ª‰∏≠ÈÉ®ÂàÜÂíåÊï¥‰ΩìÂÖ∑ÊúâÁªü‰∏ÄÁöÑÁîüÂ≠òÊúü„ÄÇ‰∏ÄÊó¶Êï¥‰ΩìÂØπË±°‰∏çÂ≠òÂú®ÔºåÈÉ®ÂàÜÂØπË±°‰πüÂ∞Ü‰∏çÂ≠òÂú®ÔºåÈÉ®ÂàÜÂØπË±°‰∏éÊï¥‰ΩìÂØπË±°‰πãÈó¥ÂÖ∑ÊúâÂêåÁîüÂÖ±Ê≠ªÁöÑÂÖ≥Á≥ª„ÄÇ Âú®ÁªÑÂêàÂÖ≥Á≥ª‰∏≠ÔºåÊàêÂëòÁ±ªÊòØÊï¥‰ΩìÁ±ªÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËÄå‰∏îÊï¥‰ΩìÁ±ªÂèØ‰ª•ÊéßÂà∂ÊàêÂëòÁ±ªÁöÑÁîüÂëΩÂë®ÊúüÔºåÂç≥ÊàêÂëòÁ±ªÁöÑÂ≠òÂú®‰æùËµñ‰∫éÊï¥‰ΩìÁ±ª„ÄÇÂú®UML‰∏≠ÔºåÁªÑÂêàÂÖ≥Á≥ªÁî®Â∏¶ÂÆûÂøÉËè±ÂΩ¢ÁöÑÁõ¥Á∫øË°®Á§∫„ÄÇÂ¶Ç‰∏ãÂõæÔºö1234567891011public class Head &#123; private Eye eye; public Head() &#123; this.eye = new Eye(); &#125;&#125;public class Eye &#123;&#125; ‰æùËµñÂÖ≥Á≥ª‰æùËµñÂÖ≥Á≥ªÊòØ‰∏ÄÁßç‰ΩøÁî®ÂÖ≥Á≥ªÔºåÁâπÂÆö‰∫ãÁâ©ÁöÑÊîπÂèòÊúâÂèØËÉΩ‰ºöÂΩ±ÂìçÂà∞‰ΩøÁî®ËØ•‰∫ãÁâ©ÁöÑÂÖ∂‰ªñ‰∫ãÁâ©ÔºåÂú®ÈúÄË¶ÅË°®Á§∫‰∏Ä‰∏™‰∫ãÁâ©‰ΩøÁî®Âè¶‰∏Ä‰∏™‰∫ãÁâ©Êó∂‰ΩøÁî®‰æùËµñÂÖ≥Á≥ª„ÄÇÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºå‰æùËµñÂÖ≥Á≥ª‰ΩìÁé∞Âú®Êüê‰∏™Á±ªÁöÑÊñπÊ≥ï‰ΩøÁî®Âè¶‰∏Ä‰∏™Á±ªÁöÑÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÂú®UML‰∏≠Ôºå‰æùËµñÂÖ≥Á≥ªÁî®Â∏¶ÁÆ≠Â§¥ÁöÑËôöÁ∫øË°®Á§∫ÔºåÁî±‰æùËµñÁöÑ‰∏ÄÊñπÊåáÂêëË¢´‰æùËµñÁöÑ‰∏ÄÊñπ„ÄÇÂ¶Ç‰∏ãÂõæÔºö1234567891011public class Driver &#123; public drive(Car car) &#123; car.move(); &#125;&#125;public class Car &#123; public move() &#123; ... &#125;&#125; Ê≥õÂåñÂÖ≥Á≥ªÊ≥õÂåñÂÖ≥Á≥ª‰πüÂ∞±ÊòØÁªßÊâøÂÖ≥Á≥ªÔºå‰πüÁß∞‰∏∫‚Äúis-a-kind-of‚ÄùÂÖ≥Á≥ªÔºåÊ≥õÂåñÂÖ≥Á≥ªÁî®‰∫éÊèèËø∞Áà∂Á±ª‰∏éÂ≠êÁ±ª‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇÂú®UML‰∏≠ÔºåÊ≥õÂåñÂÖ≥Á≥ªÁî®Â∏¶Á©∫ÂøÉ‰∏âËßíÂΩ¢ÁöÑÁõ¥Á∫øÊù•Ë°®Á§∫„ÄÇÂ¶Ç‰∏ãÂõæÔºö ÂÆûÁé∞ÂÖ≥Á≥ªÂÆûÁé∞ÂÖ≥Á≥ªÊòØÁ±ªÂÆûÁé∞‰∫ÜÊé•Âè£ÔºåÁ±ª‰∏≠ÁöÑÊìç‰ΩúÂÆûÁé∞‰∫ÜÊé•Âè£‰∏≠ÊâÄÂ£∞ÊòéÁöÑÊìç‰Ωú„ÄÇÂú®UML‰∏≠ÔºåÁ±ª‰∏éÊé•Âè£‰πãÈó¥ÁöÑÂÆûÁé∞ÂÖ≥Á≥ªÁî®Â∏¶Á©∫ÂøÉ‰∏âËßíÂΩ¢ÁöÑËôöÁ∫ø(mac‰∏≠ÁöÑstartUMLÁîª‰∏çÂá∫Êù•ÔºåÂ§ßÂÆ∂Â∞ÜÂ∞±ÁùÄÁúã)Êù•Ë°®Á§∫„ÄÇÂ¶Ç‰∏ãÂõæÔºö ÊÄªÁªìÁêÜËß£Á±ªÂõæÊúâÂä©‰∫éÊàë‰ª¨Êõ¥Â•ΩÁöÑÂéªÁúãÊäÄÊúØ‰π¶Á±çÔºå‰ª•ÂèäÊ∫êÁ†ÅÔºåËøôÊòØÂøÖÂ§áÊäÄËÉΩÔºåget itÔºÅ ÂèÇËÄÉ UML Âèä StarUml]]></content>
      <categories>
        <category>Â∑•ÂÖ∑</category>
      </categories>
      <tags>
        <tag>UML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_12_ÂéüÂ≠êÂèòÈáè‰∏éÈùûÈòªÂ°ûÂêåÊ≠•Êú∫Âà∂]]></title>
    <url>%2F2018%2F01%2F25%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-12-%E5%8E%9F%E5%AD%90%E5%8F%98%E9%87%8F%E4%B8%8E%E9%9D%9E%E9%98%BB%E5%A1%9E%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂéüÂ≠êÂèòÈáè‰∏éÈùûÈòªÂ°ûÂêåÊ≠•Êú∫Âà∂Áõ∏ÊØî‰∫éÂü∫‰∫éÈîÅÁöÑÊñπÊ°àÂèØ‰ª•Êã•ÊúâÊõ¥È´òÁöÑÊÄßËÉΩÂíåÂèØ‰º∏Áº©ÊÄß„ÄÇ ÈîÅÁöÑÂä£Âäø ÈÄöËøá‰ΩøÁî®‰∏ÄËá¥ÁöÑÈîÅÂÆöÂçèËÆÆÊù•ÂçèË∞ÉÂØπÂÖ±‰∫´Áä∂ÊÄÅÁöÑËÆøÈóÆÔºåÂèØ‰ª•Á°Æ‰øùÊó†ËÆ∫Âì™‰∏™Á∫øÁ®ãÊåÅÊúâÂÆàÊä§ÂèòÈáèÁöÑÈîÅÔºåÈÉΩËÉΩÈááÁî®Áã¨Âç†ÊñπÂºèÊù•ËÆøÈóÆËøô‰∫õÂèòÈáèÔºåÂπ∂‰∏îÂØπÂèòÈáèÁöÑ‰ªª‰Ωï‰øÆÊîπÂØπÈöèÂêéËé∑ÂæóËøô‰∏™ÈîÅÁöÑÂÖ∂‰ªñÁ∫øÁ®ãÈÉΩÊòØÂèØËßÅÁöÑ„ÄÇ‰ΩÜÊòØÂΩìÂú®ÈîÅ‰∏äÂ≠òÂú®ÊøÄÁÉàÁöÑÁ´û‰∫âÊó∂ÔºåË∞ÉÂ∫¶ÂºÄÈîÄ‰∏éÂ∑•‰ΩúÂºÄÈîÄÁöÑÊØîÂÄº‰ºöÈùûÂ∏∏È´ò„ÄÇ volatileÂèòÈáèÊòØ‰∏ÄÁßçÊõ¥ËΩªÈáèÁ∫ßÁöÑÂêåÊ≠•Êú∫Âà∂Ôºå‰ΩÜÊòØËôΩÁÑ∂‰ªñ‰ª¨Êèê‰æõ‰∫ÜÁõ∏‰ººÁöÑÂèØËßÅÊÄß‰øùËØÅÔºå‰ΩÜ‰∏çËÉΩÁî®‰∫éÊûÑÂª∫ÂéüÂ≠êÁöÑÂ§çÂêàÊìç‰Ωú„ÄÇÂõ†Ê≠§ÔºåÂΩì‰∏Ä‰∏™ÂèòÈáè‰æùËµñÂÖ∂‰ªñÁöÑÂèòÈáèÊó∂ÔºåÊàñËÄÖÂΩìÂèòÈáèÁöÑÊñ∞ÂÄº‰æùËµñÊóßÂÄºÊó∂ÔºåÂ∞±‰∏çËÉΩ‰ΩøÁî®volatile„ÄÇ Á°¨‰ª∂ÂØπÂπ∂ÂèëÁöÑÊîØÊåÅ Áã¨Âç†ÈîÅÊòØ‰∏ÄÁßçÊÇ≤ËßÇÊäÄÊúØ‚Äî‚ÄîÂÆÉÂÅáËÆæÊúÄÂùèÁöÑÊÉÖÂÜµÔºåÂπ∂‰∏îÂè™ÊúâÂú®Á°Æ‰øùÂÖ∂‰ªñÁ∫øÁ®ã‰∏ç‰ºöÊâæÂá∫Âπ≤Êâ∞ÁöÑÊÉÖÂÜµ‰∏ãÊâçËÉΩÊâßË°å‰∏ãÂéª„ÄÇ ÊØîËæÉÂπ∂‰∫§Êç¢ÔºàCASÔºåÁ°¨‰ª∂Êåá‰ª§ÔºâÊòØ‰∏ÄÁßç‰πêËßÇÁöÑÊäÄÊúØ‚Äî‚ÄîÈÄöËøáËøôÁßçÊñπÊ≥ïÂèØ‰ª•Âú®‰∏çÂèëÁîüÂπ≤Êâ∞ÁöÑÊÉÖÂÜµ‰∏ãÂÆåÊàêÊõ¥Êñ∞Êìç‰ΩúÔºå‰∏çËøáËøôÁßçÊñπÊ≥ïÈúÄË¶ÅÂÄüÂä©Ê£ÄÊü•Êú∫Âà∂Êù•Âà§Êñ≠Âú®Êõ¥Êñ∞ËøáÁ®ã‰∏≠ÊòØÂê¶Â≠òÂú®ÂÖ∂‰ªñÁ∫øÁ®ãÁöÑÂπ≤Êâ∞ÔºåÂ¶ÇÊûúÂ≠òÂú®ÔºåËøô‰∏™Êìç‰ΩúÂ∞ÜÂ§±Ë¥•ÔºåÂπ∂‰∏îÂèØ‰ª•ÈáçËØïÔºà‰πüÂèØ‰ª•‰∏çÈáçËØïÔºâ„ÄÇ ‰∏ãÈù¢ÊòØÊ®°ÊãüCASÊìç‰Ωú‰ª£Á†ÅÔºö1234567891011121314151617181920// CASÂê´‰πâÔºöÊàëËÆ§‰∏∫VÁöÑÂÄºÂ∫îËØ•ÊòØAÔºåÂ¶ÇÊûúÊòØÔºåÈÇ£‰πàÊääÂÄºÊõ¥Êñ∞‰∏∫BÔºåÂê¶Âàô‰∏ç‰øÆÊîπÂπ∂ÂëäËØâVÁöÑÂÄºÂÆûÈôÖÊòØÂ§öÂ∞ëpublic class SimulatedCAS &#123; private int value; public synchronized int get() &#123; return value; &#125; public synchronized int compareAndSwap(int expectedValue, int newValue) &#123; int oldValue = value; if (oldValue == expectedValue) &#123; value = new Value; &#125; return oldValue; &#125; public synchronized boolean compareAndSet(int expectedValue, int newValue) &#123; return (expectedValue == compareAndSwap(expectedValue, newValue)); &#125;&#125; CASÁöÑ‰ºòÁÇπÔºöÂΩìÁ´û‰∫âÁ®ãÂ∫è‰∏çÈ´òÊó∂ÔºåÊÄßËÉΩËøúËøúÈ´ò‰∫éÂü∫‰∫éÈîÅÁöÑÊñπÊ°à„ÄÇ CASÁöÑÁº∫ÁÇπÔºöÂÆÉÂ∞Ü‰ΩøË∞ÉÁî®ËÄÖÂ§ÑÁêÜÁ´û‰∫âÈóÆÈ¢òÔºàÈÄöËøáÈáçËØï„ÄÅÂõûÈÄÄ„ÄÅÊîæÂºÉÔºâÔºåËÄåÂú®ÈîÅ‰∏≠ËÉΩËá™Âä®Â§ÑÁêÜÁ´û‰∫âÈóÆÈ¢òÔºàÁ∫øÁ®ãÂú®Ëé∑ÂæóÈîÅ‰πãÂâçÂ∞Ü‰∏ÄÁõ¥ÈòªÂ°ûÔºâ„ÄÇ ÂéüÂ≠êÂèòÈáèÁ±ªÂéüÂ≠êÂèòÈáèÁ±ªÂú®ÂèëÁîüÁ´û‰∫âÁöÑÊÉÖÂÜµ‰∏ãËÉΩÊèê‰æõÊõ¥È´òÁöÑÂèØ‰º∏Áº©ÊÄßÔºåÂõ†‰∏∫ÂÆÉÁõ¥Êé•Âà©Áî®‰∫ÜÁ°¨‰ª∂ÂØπÂπ∂ÂèëÁöÑÊîØÊåÅÔºàÊØîËæÉÂπ∂‰∫§Êç¢Êåá‰ª§Ôºâ„ÄÇ ÂÖ±Êúâ12‰∏™ÂéüÂ≠êÂèòÈáèÁ±ªÔºöÂèØÂàÜ‰∏∫ÂõõÁªÑÔºöÊ†áÈáèÁ±ª„ÄÅÊõ¥Êñ∞Âô®Á±ª„ÄÅÊï∞ÁªÑÁ±ª‰ª•ÂèäÂ§çÂêàÂèòÈáèÁ±ª„ÄÇÊúÄÂ∏∏Áî®ÁöÑÂéüÂ≠êÂèòÈáèÁ±ªÂ∞±ÊòØÊ†áÈáèÁ±ªÔºöAtomicInteger„ÄÅAtomicLong„ÄÅAtomicBoolean‰ª•ÂèäAtomicReference„ÄÇ ÂéüÂ≠êÂèòÈáè‰∏éÈîÅÈÄÇÁî®ÁöÑ‰∏çÂêåÂπ∂ÂèëÂú∫ÊôØÔºö Âú®‰∏≠‰ΩéÁ®ãÂ∫èÁöÑÁ´û‰∫â„ÄÅÈîÅÂç†Áî®Êó∂Èó¥‰∏çÈïøÁöÑÊÉÖÂÜµ‰∏ãÔºåÂéüÂ≠êÂèòÈáèËÉΩÊèê‰æõÊõ¥È´òÁöÑÂèØ‰º∏Áº©ÊÄß„ÄÇ ËÄåÂú®È´òÂº∫Â∫¶ÁöÑÁ´û‰∫â‰∏ãÔºåÈîÅËÉΩÂ§üÊõ¥ÊúâÊïàÁöÑÂú∞ÈÅøÂÖçÁ´û‰∫â„ÄÇ ÈùûÈòªÂ°ûÁÆóÊ≥ïÊó†ÈòªÂ°ûÁÆóÊ≥ïÔºö Â¶ÇÊûúÂú®ÊüêÁßçÁÆóÊ≥ï‰∏≠Ôºå‰∏Ä‰∏™Á∫øÁ®ãÁöÑÂ§±Ë¥•ÊàñËÄÖÊåÇËµ∑‰∏ç‰ºöÂØºËá¥ÂÖ∂‰ªñÁ∫øÁ®ã‰πüÂ§±Ë¥•ÊàñÊåÇËµ∑ÔºåÈÇ£‰πàËøôÁßçÁÆóÊ≥ïÂ∞±Ë¢´Áß∞‰∏∫Êó†ÈòªÂ°ûÁÆóÊ≥ï„ÄÇ Êó†ÈîÅÁÆóÊ≥ïÔºö Â¶ÇÊûúÂú®ÁÆóÊ≥ïÁöÑÊØè‰∏™Ê≠•È™§‰∏≠ÈÉΩÂ≠òÂú®Êüê‰∏™Á∫øÁ®ãËÉΩÂ§üÊâßË°å‰∏ãÂéªÔºåÈÇ£‰πàËøôÁßçÁÆóÊ≥ïË¢´Áß∞‰∏∫Êó†ÈîÅÁÆóÊ≥ï„ÄÇ Â¶ÇÊûúÂú®ÁÆóÊ≥ï‰∏≠‰ªÖÂ∞ÜCASÁî®‰∫éÂçèË∞ÉÁ∫øÁ®ã‰πãÈó¥ÁöÑÊìç‰ΩúÔºåÂπ∂‰∏îËÉΩÊ≠£Á°ÆÂú∞ÂÆûÁé∞ÔºåÈÇ£‰πàÂÆÉÊó¢ÊòØÊó†ÈòªÂ°ûÁÆóÊ≥ïÔºåÂèàÊòØÊó†ÈîÅÁÆóÊ≥ï„ÄÇ Âà©Áî®CASÂπ∂ÂèëÊåá‰ª§ÂèØ‰ª•ÂÆûÁé∞ÈùûÈòªÂ°ûÁöÑÂêåÊ≠•ÂÆπÂô®Ôºå‰æãÂ¶ÇÂÆûÁé∞ÈùûÈòªÂ°ûÁöÑÊ†à„ÄÅÈùûÈòªÂ°ûÁöÑÈìæË°®‰ª•ÂèäÂéüÂ≠êÁöÑÂüüÊõ¥Êñ∞Âô®Á≠â„ÄÇ ÊÄªÁªì ÈùûÈòªÂ°ûÁÆóÊ≥ïÈÄöËøáÂ∫ïÂ±ÇÁöÑÂπ∂ÂèëÂéüËØ≠Ôºà‰æãÂ¶ÇÊØîËæÉÂπ∂‰∫§Êç¢ÔºâÊù•Áª¥ÊåÅÁ∫øÁ®ãÁöÑÂÆâÂÖ®ÊÄß„ÄÇËøô‰∫õÂ∫ïÂ±ÇÁöÑÂéüËØ≠ÈÄöËøáÂéüÂ≠êÂèòÈáèÁ±ªÂêëÂ§ñÂÖ¨ÂºÄÔºå‰ªéËÄå‰∏∫Êï¥Êï∞ÂíåÂØπË±°ÂºïÁî®Êèê‰æõÂéüÂ≠êÁöÑÊõ¥Êñ∞Êìç‰Ωú„ÄÇ Âú®JVM‰ªé‰∏Ä‰∏™ÁâàÊú¨ÂçáÁ∫ßÂà∞‰∏ã‰∏Ä‰∏™ÁâàÊú¨ÁöÑËøáÁ®ã‰∏≠ÔºåÂπ∂ÂèëÊÄßËÉΩ‰∏ªË¶ÅÊèêÂçáÈÉΩÊù•Ëá™‰∫éÂØπÈùûÈòªÂ°ûÁÆóÊ≥ïÁöÑ‰ΩøÁî®„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_11_ÊûÑÂª∫Ëá™ÂÆö‰πâÂêåÊ≠•Â∑•ÂÖ∑]]></title>
    <url>%2F2018%2F01%2F24%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-11-%E6%9E%84%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E5%90%8C%E6%AD%A5%E5%B7%A5%E5%85%B7%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂàõÂª∫Áä∂ÊÄÅ‰æùËµñÁöÑÁ±ªÁöÑÊúÄÁÆÄÂçïÁöÑÊñπÊ≥ïÈÄöÂ∏∏ÊòØÂú®Á±ªÂ∫ì‰∏≠Áé∞ÊúâÁä∂ÊÄÅ‰æùËµñÁ±ªÁöÑÂü∫Á°Ä‰∏äËøõË°åÊûÑÈÄ†„ÄÇ‰ΩÜÂ¶ÇÊûúÁ±ªÂ∫ìÊ≤°ÊúâÊèê‰æõ‰Ω†ÈúÄË¶ÅÁöÑÂäüËÉΩÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî®JavaËØ≠Ë®ÄÂíåÁ±ªÂ∫ìÊèê‰æõÁöÑÂ∫ïÂ±ÇÊú∫Âà∂Êù•ÊûÑÈÄ†Ëá™Â∑±ÁöÑÂêåÊ≠•Êú∫Âà∂ÔºåÂåÖÊã¨ÂÜÖÁΩÆÁöÑÊù°‰ª∂ÈòüÂàó„ÄÅÊòæÂºèÁöÑConditionÂØπË±°‰ª•ÂèäAbstractQueuedSynchronizerÊ°ÜÊû∂„ÄÇ Áä∂ÊÄÅ‰æùËµñÊÄßÁÆ°ÁêÜÁ®ãÂ∫èÂú®ÂÅöÊüê‰∏Ä‰∏™Êìç‰Ωú‰πãÂâçÔºåÈúÄË¶Å‰æùËµñÂè¶‰∏Ä‰∏™Êìç‰ΩúÁöÑÂÆåÊàêÊàñËÄÖÁä∂ÊÄÅÁöÑÂ∞±Áª™ÔºåËøôÊ†∑ÁöÑ‰∏ÄÁßçÂÖ≥Á≥ªÂ∞±Âè´ÂÅö‚ÄúÁä∂ÊÄÅ‰æùËµñ‚Äù„ÄÇ Áä∂ÊÄÅ‰æùËµñÁöÑÂÆûÁé∞Á±ª,‰æãÂ¶ÇFutureTask„ÄÅSemaphoreÂíåBlockingQueueÁ≠â„ÄÇÂú®Ëøô‰∫õÁ±ªÁöÑ‰∏Ä‰∫õÊìç‰Ωú‰∏≠ÊúâÁùÄÂü∫‰∫éÁä∂ÊÄÅÁöÑÂâçÊèêÊù°‰ª∂Ôºå‰æãÂ¶ÇÔºå‰∏çËÉΩ‰ªé‰∏Ä‰∏™Á©∫ÈòüÂàóÂà†Èô§ÂÖÉÁ¥†ÔºåÊàñËÄÖËé∑Âèñ‰∏Ä‰∏™Â∞öÊú™ÁªìÊùüÁöÑ‰ªªÂä°ÁöÑËÆ°ÁÆóÁªìÊûúÔºåÂú®Ëøô‰∫õÊìç‰ΩúÂèØ‰ª•ÊâßË°å‰πãÂâçÔºåÂøÖÈ°ªÁ≠âÂæÖÈòüÂàóËøõÂÖ•‚ÄúÈùûÁ©∫‚ÄùÁä∂ÊÄÅÔºåÊàñËÄÖ‰ªªÂä°ËøõÂÖ•‚ÄúÂ∑≤ÂÆåÊàê‚ÄùÁä∂ÊÄÅ„ÄÇ ‰æùËµñÁä∂ÊÄÅÁöÑÊìç‰ΩúÂèØ‰ª•‰∏ÄÁõ¥ÈòªÂ°ûÁõ¥Âà∞ÂèØ‰ª•ÁªßÁª≠ÊâßË°åÔºåËøôÊØî‰Ωø‰ªñ‰ª¨ÂÖàÂ§±Ë¥•ÂÜçÂÆûÁé∞Ëµ∑Êù•Ë¶ÅÊõ¥‰∏∫Êñπ‰æø‰∏îÊõ¥‰∏çÂÆπÊòìÂá∫Èîô„ÄÇËÄåÂÜÖÁΩÆÁöÑÊù°‰ª∂ÈòüÂàóÂ∞±ÂèØ‰ª•ÊòØÁ∫øÁ®ã‰∏ÄÁõ¥ÈòªÂ°ûÔºåÁõ¥Âà∞ÂØπË±°ËøõÂÖ•Êüê‰∏™Á∫øÁ®ãÂèØ‰ª•ÁªßÁª≠ÊâßË°åÁöÑÁä∂ÊÄÅÔºåÂπ∂‰∏îÂΩìË¢´ÈòªÂ°ûÁöÑÁ∫øÁ®ãÂèØ‰ª•ÊâßË°åÊó∂ÂÜçÂî§ÈÜí‰ªñ‰ª¨„ÄÇ ‰ΩøÁî®Êù°‰ª∂ÈòüÂàóÊù°‰ª∂ÈòüÂàóÔºöÂÆÉ‰ΩøÂæó‰∏ÄÁªÑÁ∫øÁ®ãÔºàÁß∞‰πã‰∏∫Á≠âÂæÖÁ∫øÁ®ãÈõÜÂêàÔºâËÉΩÂ§üÈÄöËøáÊüêÁßçÊñπÂºèÊù•Á≠âÂæÖÁâπÂÆöÁöÑÊù°‰ª∂Âèò‰∏∫Áúü„ÄÇ‰º†ÁªüÁöÑÈòüÂàóÊòØ‰∏Ä‰∏™‰∏™Êï∞ÊçÆÔºåËÄå‰∏é‰πã‰∏çÂêåÁöÑÊòØÔºåÊù°‰ª∂ÈòüÂàó‰∏≠ÁöÑÂÖÉÁ¥†ÊòØ‰∏Ä‰∏™‰∏™Ê≠£Âú®Á≠âÂæÖÁõ∏ÂÖ≥Êù°‰ª∂ÁöÑÁ∫øÁ®ã„ÄÇ Object‰∏≠ÁöÑwait„ÄÅnotifyÂíånotifyAllÊñπÊ≥ïÊûÑÊàê‰∫ÜÂÜÖÈÉ®Êù°‰ª∂ÈòüÂàóÁöÑAPI„ÄÇ ÂØπË±°ÁöÑÂÜÖÁΩÆÈîÅ‰∏éÂÜÖÈÉ®Êù°‰ª∂ÊòØÁõ∏‰∫íÂÖ≥ËÅîÁöÑÔºåË¶ÅË∞ÉÁî®ÂØπË±°X‰∏≠ÁöÑÊù°‰ª∂ÈòüÂàóÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂøÖÈ°ªÊåÅÊúâÂØπË±°X‰∏äÁöÑÈîÅ„ÄÇ Object.wait‰ºöËá™Âä®ÈáäÊîæÈîÅÔºåÂπ∂ËØ∑Ê±ÇÊìç‰ΩúÁ≥ªÁªüÊåÇËµ∑ÂΩìÂâçÁ∫øÁ®ãÔºå‰ªéËÄå‰ΩøÂÖ∂ÂÆÉÁ∫øÁ®ãËÉΩÂ§üËé∑ÂæóËøô‰∏™ÈîÅÂπ∂‰øÆÊîπÂØπË±°ÁöÑÁä∂ÊÄÅ„ÄÇÂΩìË¢´ÊåÇËµ∑ÁöÑÁ∫øË∑ØÈÜíÊù•Êó∂ÔºåÂÆÉÂ∞ÜÂú®ËøîÂõû‰πãÂâçÈáçÊñ∞Ëé∑ÂèñÈîÅ„ÄÇÔºàÈúÄË¶ÅÈáçÊñ∞Á´û‰∫âÔºåÂπ∂Ê≤°Êúâ‰ºòÂÖàËé∑ÂèñÊùÉÔºâ ‰ΩøÁî®Êù°‰ª∂ÈòüÂàóÊûÑÈÄ†ÊúâÁïåÁºìÂ≠òÁ§∫‰æãÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960//Êú™Âä†‰ªª‰ΩïÁ∫¶ÊùüÁöÑÁºìÂÜ≤ÈòüÂàópublic abstract class BaseBoundedBuffer&lt;V&gt; &#123; private final V[] buf;//ÁºìÂ≠ò private int tail;//ÈòüÂ∞æ private int head;//ÈòüÈ¶ñ private int count;//ÂÖÉÁ¥†‰∏™Êï∞ protected BaseBoundedBuffer(int capacity) &#123; this.buf = (V[]) new Object[capacity]; &#125; protected synchronized final void doPut(V v) &#123;//ÂÖ•Èòü buf[tail] = v;//Âú®ÈòüÂ∞æÊ∑ªÂä† if (++tail == buf.length)//Â¶ÇÊûúÊª°‰∫ÜÔºå‰ªéÂ§¥ÂºÄÂßã tail = 0; ++count; &#125; protected synchronized final V doTake() &#123;//Âá∫Èòü V v = buf[head];//‰ªéÈòüÈ¶ñÂèñÂá∫ buf[head] = null;//GC if (++head == buf.length)//Â¶ÇÊûúÂà∞Â∞æ‰∫ÜÔºåÂàô‰ªéÂ§¥ÂºÄÂßã head = 0; --count; return v; &#125; public synchronized final boolean isFull() &#123;//ÈòüÂàóÊòØÂê¶Êª° return count == buf.length; &#125; public synchronized final boolean isEmpty() &#123;//ÈòüÂàóÊòØÂê¶Á©∫ return count == 0; &#125;&#125;@ThreadSafepublic class BoundedBuffer&lt;V&gt; extends BaseBoundedBuffer&lt;V&gt; &#123; // Êù°‰ª∂Ë∞ìËØçÔºönot-full(!isFull()) // Êù°‰ª∂Ë∞ìËØçÔºönot-empty(!isEmpty()) public BoundedBuffer(int size) &#123; super(size); &#125; // ÈòªÂ°ûÂπ∂Áõ¥Âà∞: not-full public synchronized void put(V v) throws InterruptedException &#123; while (isFull())//Â¶ÇÊûúÊª°ÔºåÂàôÁ≠âÂæÖ wait(); doPut(v); notifyAll();//Âπ∂Âú®ÊîæÂÖ•ÂêéÈ©¨‰∏äÈÄöÁü•ÂÖ∂‰ªñÁ∫øÁ®ã &#125; // ÈòªÂ°ûÂπ∂Áõ¥Âà∞: not-empty public synchronized V take() throws InterruptedException &#123; while (isEmpty())//Â¶ÇÊûú‰∏∫Á©∫ÔºåÂàôÁ≠âÂæÖ wait(); V v = doTake(); notifyAll(); return v; &#125;&#125; Êù°‰ª∂Ë∞ìËØçÊù°‰ª∂Ë∞ìËØçÊòØ‰ΩøÊüê‰∏™Êìç‰ΩúÊàê‰∏∫Áä∂ÊÄÅ‰æùËµñÊìç‰ΩúÁöÑÂâçÊèêÊù°‰ª∂„ÄÇÂú®ÊúâÁïåÁºìÂ≠ò‰∏≠ÔºåÂè™ÊúâÂΩìÁºìÂ≠ò‰∏ç‰∏∫Á©∫Êó∂ÔºåtakeÊñπÊ≥ïÊâçËÉΩÊâßË°åÔºåÂê¶ÂàôÂøÖÈ°ªÁ≠âÂæÖ„ÄÇÂØπtakeÊñπÊ≥ïÊù•ËØ¥ÔºåÂÆÉÁöÑÊù°‰ª∂Ë∞ìËØçÂ∞±ÊòØ‚ÄúÁºìÂ≠ò‰∏ç‰∏∫Á©∫‚ÄùÔºåtakeÊñπÊ≥ïÂú®ÊâßË°å‰πãÂâçÂøÖÈ°ªÈ¶ñÂÖàÊµãËØïËØ•Êù°‰ª∂Ë∞ìËØç„ÄÇ Êù°‰ª∂Á≠âÂæÖÂ≠òÂú®ÁöÑ‰∏âÂÖÉÂÖ≥Á≥ªÔºö ÂåÖÊã¨Âä†ÈîÅ„ÄÅwaitÊñπÊ≥ïÂíå‰∏Ä‰∏™Êù°‰ª∂Ë∞ìËØç„ÄÇÂú®Êù°‰ª∂Ë∞ìËØç‰∏≠ÂåÖÂê´Â§ö‰∏™ÂåÖÂê´Â§ö‰∏™Áä∂ÊÄÅÂèòÈáèÔºåËÄåÁä∂ÊÄÅÂèòÈáèÁî±‰∏Ä‰∏™ÈîÅÊù•‰øùÊä§ÔºåÂõ†Ê≠§Âú®ÊµãËØïÊù°‰ª∂Ë∞ìËØç‰πãÂâçÂøÖÈ°ªÂÖàÊåÅÊúâËøô‰∏™ÈîÅÔºåÈîÅÂØπË±°‰∏éÊù°‰ª∂ÈòüÂàóÂØπË±°ÔºàÂç≥Ë∞ÉÁî®waitÂíånotifyÁ≠âÊñπÊ≥ïÊâÄÂú®ÁöÑÂØπË±°ÔºâÂøÖÈ°ªÊòØÂêå‰∏Ä‰∏™ÂØπË±°„ÄÇ ÊØè‰∏ÄÊ¨°waitË∞ÉÁî®ÈÉΩ‰ºöÈöêÂºèÂú∞‰∏éÁâπÂÆöÁöÑÊù°‰ª∂Ë∞ìËØçÂÖ≥ËÅîËµ∑Êù•„ÄÇÂΩìË∞ÉÁî®Êüê‰∏™ÁâπÂÆöÊù°‰ª∂Ë∞ìËØçÁöÑwaitÊó∂ÔºåË∞ÉÁî®ËÄÖÂøÖÈ°ªÂ∑≤ÁªèÊåÅÊúâ‰∏éÊù°‰ª∂ÈòüÂàóÁõ∏ÂÖ≥ÁöÑÈîÅÔºåÂπ∂‰∏îËøô‰∏™ÈîÅÂøÖÈ°ª‰øùÊä§ÁùÄÊûÑÊàêÊù°‰ª∂Ë∞ìËØçÁöÑÁä∂ÊÄÅÂèòÈáè„ÄÇ ËøáÊó©Âî§ÈÜíwaitÊñπÊ≥ïÁöÑËøîÂõûÂπ∂‰∏ç‰∏ÄÂÆöÊÑèÂë≥ÁùÄÁ∫øÁ®ãÊ≠£Âú®Á≠âÂæÖÁöÑÊù°‰ª∂Ë∞ìËØçÂ∑≤ÁªèÂèòÁúü‰∫ÜÔºåÂõ†‰∏∫‰πüËÆ∏ÊòØÂõ†‰∏∫‰∏éÂêå‰∏ÄÊù°‰ª∂ÈòüÂàóÁõ∏ÂÖ≥ÁöÑÂè¶‰∏Ä‰∏™Êù°‰ª∂Ë∞ìËØçÂèòÊàê‰∫ÜÁúü„ÄÇ ÂΩì‰ΩøÁî®Êù°‰ª∂Á≠âÂæÖÊó∂Ë¶ÅÊª°Ë∂≥ÁöÑÊù°‰ª∂ÔºàObject.waitÊàñCondition.waitÔºâ ÈÄöÂ∏∏ÈÉΩÊúâ‰∏Ä‰∏™Êù°‰ª∂Ë∞ìËØç‚Äî‚ÄîÂåÖÊã¨‰∏Ä‰∫õÂØπË±°Áä∂ÊÄÅÁöÑÊµãËØïÔºåÁ∫øÁ®ãÂú®ÊâßË°åÂâçÂøÖÈ°ªÈ¶ñÂÖàÈÄöËøáËøô‰∫õÊµãËØï„ÄÇ Âú®Ë∞ÉÁî®wait‰πãÂâçÊµãËØïÊù°‰ª∂Ë∞ìËØçÔºåÂπ∂‰∏î‰ªéwait‰∏≠ËøîÂõûÊó∂ÂÜçÊ¨°ËøõË°åÊµãËØï„ÄÇ Âú®‰∏Ä‰∏™Âæ™ÁéØ‰∏≠Ë∞ÉÁî®wait„ÄÇ Á°Æ‰øù‰ΩøÁî®‰∏éÊù°‰ª∂ÈòüÂàóÁõ∏ÂÖ≥ÁöÑÈîÅÊù•‰øùÊä§ÊûÑÊàêÊù°‰ª∂Ë∞ìËØçÁöÑÂêÑ‰∏™Áä∂ÊÄÅÂèòÈáè„ÄÇ ÂΩìË∞ÉÁî®wait/notify/notifyAllÁ≠âÊñπÊ≥ïÊó∂Ôºå‰∏ÄÂÆöË¶ÅÊåÅÊúâ‰∏éÊù°‰ª∂ÈòüÂàóÁõ∏ÂÖ≥ÁöÑÈîÅ„ÄÇ Âú®Ê£ÄÊü•Êù°‰ª∂Ë∞ìËØç‰πãÂêé‰ª•ÂèäÂºÄÂßãÊâßË°åÁõ∏Â∫îÁöÑÊìç‰Ωú‰πãÂâçÔºå‰∏çË¶ÅÈáäÊîæÈîÅ„ÄÇ ‰∏¢Â§±ÁöÑ‰ø°Âè∑‰∏¢Â§±ÁöÑ‰ø°Âè∑Ôºö notifyÊàñËÄÖnotifyAllÊìç‰ΩúÂèëÁîüÂú®wait‰πãÂâçÔºåÂ∞±‰ºöÈÄ†ÊàêÈÄöÁü•‰ø°Âè∑ÁöÑ‰∏¢Â§±ÔºåÊúÄÁªàwaitÊ∞∏ËøúÈÉΩÂæó‰∏çÂà∞ÊÅ¢Â§çÊàñËÄÖ‰∏çÂæó‰∏çÁ≠âÂæÖ‰∏ã‰∏ÄÊ¨°ÈáçÊñ∞ÈÄöÁü•ËÄåÂª∂Ëøü‰∫ÜÊÅ¢Â§çÊó∂Èó¥„ÄÇ ÈÄöÁü•ÊØèÂΩìÂú®Á≠âÂæÖ‰∏Ä‰∏™Êù°‰ª∂Êó∂Ôºå‰∏ÄÂÆöË¶ÅÁ°Æ‰øùÂú®Êù°‰ª∂Ë∞ìËØçÂèò‰∏∫ÁúüÊó∂ÈÄöËøáÊüêÁßçÊñπÂºèÂèëÂá∫ÈÄöÁü• ÂèëÂá∫ÈÄöÁü•ÁöÑÁ∫øÁ®ãÂ∫îËØ•Â∞ΩÂø´Âú∞ÈáäÊîæÈîÅÔºå‰ªéËÄåÁ°Æ‰øùÊ≠£Âú®Á≠âÂæÖÁöÑÁ∫øÁ®ãÂ∞ΩÂèØËÉΩÂø´Âú∞Ëß£Èô§ÈòªÂ°û„ÄÇÂ¶ÇÊûúËøô‰∫õÁ≠âÂæÖ‰∏≠Á∫øÁ®ãÊ≠§Êó∂‰∏çËÉΩÈáçÊñ∞Ëé∑ÂæóÈîÅÔºåÈÇ£‰πàÊó†Ê≥ï‰ªéwaitËøîÂõû„ÄÇ Âè™ÊúâÂêåÊó∂Êª°Ë∂≥‰ª•‰∏ã‰∏§‰∏™Êù°‰ª∂Êó∂ÔºåÊâçËÉΩÁî®Âçï‰∏ÄÁöÑnotifyËÄå‰∏çÊòØnotifyAllÔºö ÊâÄÊúâÁ≠âÂæÖÁ∫øÁ®ãÁöÑÁ±ªÂûãÈÉΩÁõ∏Âêå„ÄÇÂè™Êúâ‰∏Ä‰∏™Êù°‰ª∂Ë∞ìËØç‰∏éÊù°‰ª∂ÈòüÂàóÁõ∏ÂÖ≥ÔºåÂπ∂‰∏îÊØè‰∏™Á∫øÁ®ãÂú®waitËøîÂõûÂêéÂ∞ÜÊâßË°åÁõ∏ÂêåÁöÑÊìç‰Ωú„ÄÇ ÂçïËøõÂçïÂá∫„ÄÇÂú®Êù°‰ª∂ÂèòÈáè‰∏äÁöÑÊØèÊ¨°ÈÄöÁü•ÔºåÊúÄÂ§öÂè™ËÉΩÂî§ÈÜí‰∏Ä‰∏™Á∫øÁ®ãÊù•ÊâßË°å„ÄÇ ÊòæÂºèÁöÑConditionÂØπË±°ÂÜÖÁΩÆÊù°‰ª∂ÈòüÂàóÁöÑÂ±ÄÈôêÊÄßÔºöÊØè‰∏™ÂÜÖÁΩÆÈîÅÈÉΩÂè™ËÉΩÊúâ‰∏Ä‰∏™Áõ∏ÂÖ≥ËÅîÁöÑÊù°‰ª∂ÈòüÂàóÔºåÂõ†ËÄåÂú®ÂÉèBoundBufferËøôÁßçÁ±ª‰∏≠ÔºåÂ§ö‰∏™Á∫øÁ®ãÂèØËÉΩÂú®Âêå‰∏Ä‰∏™Êù°‰ª∂ÈòüÂàó‰∏äÁ≠âÂæÖ‰∏çÂêåÁöÑÊù°‰ª∂Ë∞ìËØçÔºåÂπ∂‰∏îÂú®ÊúÄÂ∏∏ËßÅÁöÑÂä†ÈîÅÊ®°Âºè‰∏ãÂÖ¨ÂºÄÊù°‰ª∂ÈòüÂàóÂØπË±°„ÄÇ ÊòæÁ§∫Êù°‰ª∂ÈòüÂàóÁöÑ‰ºòÂäøÔºöÂèØ‰ª•ÁºñÂÜô‰∏Ä‰∏™Â∏¶ÊúâÂ§ö‰∏™Êù°‰ª∂Ë∞ìËØçÁöÑÂπ∂ÂèëÂØπË±°ÔºåÊàñËÄÖËé∑ÂæóÈô§‰∫ÜÊù°‰ª∂ÈòüÂàóÂèØËßÅÊÄß‰πãÂ§ñÁöÑÊõ¥Â§öÊéßÂà∂ÊùÉÔºåËøôÊòØ‰∏ÄÁßçÁÅµÊ¥ªÁöÑÈÄâÊã©ÔºõÂØπ‰∫éÊØè‰∏™LockÔºåÂèØ‰ª•Êúâ‰ªªÊÑèÊï∞ÈáèÁöÑConditionÂØπË±°„ÄÇConditionÂØπË±°ÁªßÊâø‰∫ÜÁõ∏ÂÖ≥ÁöÑLockÂØπË±°ÁöÑÂÖ¨Âπ≥ÊÄßÔºåÂØπ‰∫éÂÖ¨Âπ≥ÁöÑÈîÅÔºåÁ∫øÁ®ã‰ºö‰æùÁÖßFIFOÈ°∫Â∫è‰ªéCondition await‰∏≠ÈáäÊîæ„ÄÇ ÁâπÂà´Ê≥®ÊÑèÔºöConditionÂØπË±°‰∏≠Ôºå‰∏â‰∏™‰∏éÊù°‰ª∂ÈòüÂàóÁõ∏ÂÖ≥ÁöÑAPIÊòØÔºöawait,signal,signalAll„ÄÇ ‰∏ãÈù¢ÊòØ‰ΩøÁî®ÊòæÁ§∫ÁöÑConditionÂØπË±°ÂÆûÁé∞ÁöÑÊúâÁïåÁºìÂ≠ò:123456789101112131415161718192021222324252627282930313233343536373839public class ConditionBoundedBuffer&lt;T&gt; &#123; protected final Lock lock = new ReentrantLock(); private final Condition notFull = lock.newCondition();//Êù°‰ª∂Ôºöcount &lt; items.length private final Condition notEmpty = lock.newCondition();//Êù°‰ª∂Ôºöcount &gt; 0 private final T[] items = (T[]) new Object[100]; private int tail, head, count; public void put(T x) throws InterruptedException &#123; lock.lock(); try &#123; while (count == items.length) notFull.await();//Á≠âÂà∞Êù°‰ª∂count &lt; items.lengthÊª°Ë∂≥ items[tail] = x; if (++tail == items.length) tail = 0; ++count; notEmpty.signal();//ÈÄöÁü•ËØªÂèñÁ≠âÂæÖÁ∫øÁ®ã &#125; finally &#123; lock.unlock(); &#125; &#125; public T take() throws InterruptedException &#123; lock.lock(); try &#123; while (count == 0) notEmpty.await();//Á≠âÂà∞Êù°‰ª∂count &gt; 0Êª°Ë∂≥ T x = items[head]; items[head] = null; if (++head == items.length) head = 0; --count; notFull.signal();//ÈÄöÁü•ÂÜôÂÖ•Á≠âÂæÖÁ∫øÁ®ã return x; &#125; finally &#123; lock.unlock(); &#125; &#125;&#125; AbstractQueuedSynchronizerAbstractQueuedSynchronizerÊòØ‰∏Ä‰∏™Áî®‰∫éÊûÑÂª∫ÈîÅÂíåÂêåÊ≠•Âô®ÁöÑÊ°ÜÊû∂ÔºåËÆ∏Â§öÂêåÊ≠•Âô®ÈÉΩÂèØ‰ª•ÈÄöËøáAQSÂæàÂÆπÊòìÂπ∂‰∏îÈ´òÊïàÂú∞ÊûÑÈÄ†Âá∫Êù•„ÄÇ‰æãÂ¶ÇÔºöReentrantLock„ÄÅSemaphore„ÄÅCountDownLatch„ÄÅReentrantReadWriteLock„ÄÅSynchronousQueueÂíåFutureTask„ÄÇ ‰∏ãÈù¢ÊòØAQS‰∏≠Ëé∑ÂèñÊìç‰ΩúÂíåÈáäÊîæÊìç‰ΩúÁöÑÊ†áÂáÜÂΩ¢ÂºèÔºö1234567891011121314151617181920212223boolean acquire() throws InterruptedException&#123; while (ÂΩìÂâçÁä∂ÊÄÅ‰∏çÂÖÅËÆ∏Ëé∑ÂèñÊìç‰Ωú) &#123; if (ÈúÄË¶ÅÈòªÂ°ûËé∑ÂèñËØ∑Ê±Ç) &#123; Â¶ÇÊûúÂΩìÂâçÁ∫øÁ®ã‰∏çÂú®ÈòüÂàó‰∏≠ÔºåÂàôÂ∞ÜÂÖ∂ÊèíÂÖ•ÈòüÂàó ÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ã &#125; else ËøîÂõûÂ§±Ë¥• &#125; ÂèØËÉΩÊõ¥Êñ∞ÂêåÊ≠•Âô®ÁöÑÁä∂ÊÄÅ Â¶ÇÊûúÁ∫øÁ®ã‰Ωç‰∫éÈòüÂàó‰∏≠ÔºåÂàôÂ∞ÜÂÖ∂ÁßªÂá∫ÈòüÂàó ËøîÂõûÊàêÂäü&#125;void release()&#123; Êõ¥Êñ∞ÂêåÊ≠•Âô®ÁöÑÁä∂ÊÄÅ if (Êñ∞ÁöÑÁä∂ÊÄÅÂÖÅËÆ∏Êüê‰∏™Ë¢´ÈòªÂ°ûÁöÑÁ∫øÁ®ãËé∑ÂèñÊàêÂäü) Ëß£Èô§ÈòüÂàó‰∏≠‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á∫øÁ®ãÁöÑÈòªÂ°ûÁä∂ÊÄÅ&#125; ÊÄªÁªìË¶ÅÂÆûÁé∞‰∏Ä‰∏™‰æùËµñÁä∂ÊÄÅÁöÑÁ±ª‚Äî‚ÄîÂ¶ÇÊûúÊ≤°ÊúâÊª°Ë∂≥‰æùËµñÁä∂ÊÄÅÁöÑÂâçÊèêÊù°‰ª∂ÔºåÈÇ£‰πàËøô‰∏™Á±ªÁöÑÊñπÊ≥ïÂøÖÈ°ªÈòªÂ°ûÔºåÈÇ£‰πàÊúÄÂ•ΩÁöÑÊñπÂºèÊòØÂü∫‰∫éÁé∞ÊúâÁ±ªÂ∫ìÊù•ÊûÑÂª∫Ôºå‰æãÂ¶ÇSemaphore.BlockingQueueÊàñCountDownLatch„ÄÇÁÑ∂ËÄåÔºåÊúâÊó∂ÂÄôÁé∞ÊúâÁöÑÁ±ªÂ∫ì‰∏çËÉΩÊèê‰æõË∂≥Â§üÁöÑÂäüËÉΩÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•‰ΩøÁî®ÂÜÖÁΩÆÁöÑÊù°‰ª∂ÈòüÂàó„ÄÅÊòæÂºèÁöÑConditionÂØπË±°ÊàñËÄÖAbstractQueuedSynchronizerÊù•ÊûÑÂª∫Ëá™Â∑±ÁöÑÂêåÊ≠•Âô®„ÄÇÂÜÖÁΩÆÊù°‰ª∂ÈòüÂàó‰∏éÂÜÖÁΩÆÈîÅÊòØÁ¥ßÂØÜÁªëÂÆöÂú®‰∏ÄËµ∑ÁöÑÔºåËøôÊòØÂõ†‰∏∫ÁÆ°ÁêÜÁä∂ÊÄÅ‰æùËµñÊÄßÁöÑÊú∫Âà∂ÂøÖÈ°ª‰∏éÁ°Æ‰øùÁä∂ÊÄÅ‰∏ÄËá¥ÊÄßÁöÑÊú∫Âà∂ÂÖ≥ËÅîËµ∑Êù•„ÄÇÂêåÊ†∑ÔºåÊòæÂºèÁöÑCondition‰∏éÊòæÂºèÂú∞Lock‰πüÊòØÁ¥ßÂØÜÂú∞ÁªëÂÆöÂú®‰∏ÄËµ∑ÁöÑÔºåÂπ∂‰∏î‰∏éÂÜÖÁΩÆÊù°‰ª∂ÈòüÂàóÁõ∏ÊØîÔºåËøòÊèê‰æõ‰∫Ü‰∏Ä‰∏™Êâ©Â±ïÁöÑÂäüËÉΩÈõÜÔºåÂåÖÊã¨ÊØè‰∏™ÈîÅÂØπÂ∫î‰∫éÂ§ö‰∏™Á≠âÂæÖÁ∫øÁ®ãÈõÜÔºåÂèØ‰∏≠Êñ≠Êàñ‰∏çÂèØ‰∏≠Êñ≠ÁöÑÊù°‰ª∂Á≠âÂæÖÔºåÂÖ¨Âπ≥ÊàñÈùûÂÖ¨Âπ≥ÁöÑÈòüÂàóÊìç‰ΩúÔºå‰ª•ÂèäÂü∫‰∫éÊó∂ÈôêÁöÑÁ≠âÂæÖ„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_10_ÊòæÁ§∫ÈîÅ]]></title>
    <url>%2F2018%2F01%2F24%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-10-%E6%98%BE%E7%A4%BA%E9%94%81%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöJava5.0‰ª•ÂêéÊèê‰æõ‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑÂçèË∞ÉÂØπÂÖ±‰∫´ÂØπË±°ÁöÑËÆøÈóÆÊú∫Âà∂‚Äî‚ÄîReentrantLock„ÄÇÂÆÉÂπ∂‰∏çÊòØÁî®Êù•Êõø‰ª£ÂÜÖÁΩÆÈîÅÁöÑÊñπÊ≥ïÔºåËÄåÊòØÂΩìÂÜÖÁΩÆÂä†ÈîÅ‰∏çÈÄÇÁî®Êó∂Ôºå‰Ωú‰∏∫‰∏ÄÁßçÂèØÈÄâÊã©ÁöÑÈ´òÁ∫ßÂäüËÉΩ„ÄÇ ReentrantLockReentrantLockÂÆûÁé∞‰∫ÜLockÊé•Âè£ÔºåÂπ∂Êèê‰æõ‰∫Ü‰∏ésynchronizedÁõ∏ÂêåÁöÑ‰∫íÊñ•ÊÄßÂíåÂÜÖÂ≠òÂèØËßÅÊÄßÔºå‰ΩÜÊòØÈÄöÂ∏∏ËÉΩÊèê‰æõÊõ¥Â•ΩÁöÑÊ¥ªË∑ÉÊÄßÊàñÊÄßËÉΩ„ÄÇ‰∏ãÈù¢ÊòØLockÊé•Âè£‰ª£Á†ÅÔºö12345678public interface Lock &#123; void lock(); void lockInterruptibly() throws InterruptedException; boolean tryLock(); boolean tryLock(long timeout, TimeUnit unit) throws InterruptedException; void unlock(); Condition newCondition();&#125; ‰∏∫‰ªÄ‰πàË¶ÅÂàõÂª∫‰∏ÄÁßç‰∏éÂÜÖÁΩÆÈîÅÂ¶ÇÊ≠§Áõ∏‰ººÁöÑÊñ∞Âä†ÈîÅ‰ª∑ÂÄºÔºüÊòØÁî±‰∫éÂÜÖÁΩÆÈîÅÂÖ∑Êúâ‰ª•‰∏ãÁöÑÂ±ÄÈôêÊÄßÔºö Êó†Ê≥ï‰∏≠Êñ≠‰∏Ä‰∏™Ê≠£Âú®Á≠âÂæÖËé∑ÂèñÈîÅÁöÑÁ∫øÁ®ã„ÄÇ ÂÜÖÁΩÆÈîÅÂøÖÈ°ªÂú®Ëé∑ÂèñÈîÅÁöÑ‰ª£Á†ÅÂùó‰∏≠ÈáäÊîæÔºåËøôÂ∞±ÁÆÄÂåñ‰∫ÜÁºñÁ†ÅÂ∑•‰ΩúÔºåÂπ∂‰∏î‰∏éÂºÇÂ∏∏Â§ÑÁêÜÊìç‰ΩúÂÆûÁé∞‰∫ÜÂæàÂ•ΩÁöÑ‰∫íÂä®Ôºå‰ΩÜÂç¥Êó†Ê≥ïÂÆûÁé∞ÈùûÈòªÂ°ûÁªìÊûÑÁöÑÂä†ÈîÅËßÑÂàô„ÄÇ ‰∏ãÈù¢ÊòØLockÊé•Âè£ÁöÑÊ†áÂáÜ‰ΩøÁî®ÂΩ¢ÂºèÔºö123456789Lock lock = new ReentrantLock();...lock.lock();try &#123; //Êõ¥Êñ∞ÂØπË±°Áä∂ÊÄÅ //ÊçïËé∑ÂºÇÂ∏∏ÔºåÂπ∂Âú®ÂøÖË¶ÅÊó∂ÊÅ¢Â§ç‰∏çÂèòÊÄßÊù°‰ª∂&#125; finally &#123; lock.unlock(); //‚ÄúÂÆöÊó∂ÁÇ∏Âºπ‚ÄùÔºå‰∏ÄÂÆöË¶ÅËÆ∞ÂæóÈáäÊîæLock&#125; ËΩÆËØ¢ÈîÅ‰∏éÂÆöÊó∂ÈîÅÂèØÂÆöÊó∂ÁöÑ‰∏éÂèØËΩÆËØ¢ÁöÑÈîÅËé∑ÂèñÊ®°ÂºèÊòØÁî±tryLockÊñπÊ≥ïÂÆûÁé∞ÁöÑÔºå‰∏éÊó†Êù°‰ª∂ÁöÑÈîÅËé∑ÂèñÊ®°ÂºèÁõ∏ÊØîÔºåÂÆÉÂÖ∑ÊúâÊõ¥ÂÆåÂñÑÁöÑÈîôËØØÊÅ¢Â§çÊú∫Âà∂„ÄÇÂú®ÂÜÖÁΩÆÈîÅ‰∏≠ÔºåÊ≠ªÈîÅÊòØ‰∏Ä‰∏™‰∏•ÈáçÁöÑÈóÆÈ¢òÔºåÊÅ¢Â§çÁ®ãÂ∫èÁöÑÂîØ‰∏ÄÂäûÊ≥ïÊòØÈáçÊñ∞ÂêØÂä®Á®ãÂ∫èÔºåËÄåÈò≤Ê≠¢Ê≠ªÈîÅÁöÑÂîØ‰∏ÄÊñπÊ≥ïÂ∞±ÊòØÂú®ÊûÑÈÄ†Á®ãÂ∫èÊó∂ÈÅøÂÖçÂá∫Áé∞‰∏ç‰∏ÄËá¥ÁöÑÈîÅÈ°∫Â∫è„ÄÇÂèØÂÆöÊó∂ÁöÑ‰∏éÂèØËΩÆËØ¢ÁöÑÁöÑÈîÅÊèê‰æõ‰∫ÜÂè¶‰∏ÄÁßçÈÄâÊã©ÔºåÈÅøÂÖçÊ≠ªÈîÅÁöÑÂèëÁîü„ÄÇÈÄöËøáÈáçÊñ∞Ëé∑ÂèñÂèäÈáäÊîæÈîÅÊù•ÈÅøÂÖçÊ≠ªÈîÅ„ÄÇ ÂèØ‰∏≠Êñ≠ÁöÑÈîÅÊìç‰ΩúËé∑ÂèñÊìç‰ΩúÂèØ‰∏≠Êñ≠ÁöÑÈîÅÊìç‰ΩúËé∑ÂèñÊìç‰ΩúÊòØÊúâlockInterruptiblyÊàñËÄÖtryLockÊñπÊ≥ïÂÆûÁé∞ÁöÑÔºåÂ¶ÇÊûúÂú®ÂèØ‰∏≠Êñ≠ÁöÑÈîÅËé∑ÂèñÊìç‰Ωú‰∏≠ÊäõÂá∫‰∫ÜInterruptedExceptionÔºåÈÇ£‰πàÂèØ‰ª•‰ΩøÁî®Ê†áÂáÜÁöÑtry-finallyÂä†ÈîÅÊ®°Âºè„ÄÇ ÈùûÂùóÁªìÊûÑÁöÑÂä†ÈîÅÊàë‰ª¨ÈÄöËøáLockÁöÑ‰ΩøÁî®ÁªìÊûÑÂèØ‰ª•Áü•ÈÅìÔºåÊàë‰ª¨ÈÄöËøáReentrantLockÂèØ‰ª•ÁÅµÊ¥ªÁöÑÂÆûÁé∞ÈîÅÁöÑÁ≤íÂ∫¶„ÄÇ ÂÖ¨Âπ≥ÊÄßÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåÈùûÂÖ¨Âπ≥ÈîÅÁöÑÊÄßËÉΩË¶ÅÈ´ò‰∫éÂÖ¨Âπ≥ÈîÅÁöÑÊÄßËÉΩÔºåÂéüÂõ†ÊòØÂêéËÄÖ‰∏∫‰∫ÜÂÆûÁé∞ÂÖ¨Âπ≥Ôºå‰ºöÊúâÊõ¥Â§öÁöÑÁ∫øÁ®ã‰∏ä‰∏ãÊñáÂàáÊç¢ÊàêÊú¨„ÄÇ ÂΩìÊåÅÊúâÈîÅÁöÑÊó∂Èó¥ËæÉÈïøÔºåÊàñËÄÖËØ∑Ê±ÇÈîÅÁöÑÂπ≥ÂùáÊó∂Èó¥Èó¥ÈöîËæÉÈïøÔºåÈÇ£‰πàÂ∫îËØ•‰ΩøÁî®ÂÖ¨Âπ≥ÈîÅ„ÄÇÂú®Ëøô‰∫õÊÉÖÂÜµ‰∏ãÔºåÂÖÅËÆ∏‚ÄúÊèíÈòü‚ÄùÂ∏¶Êù•ÁöÑÂêûÂêêÈáèÊèêÂçáÔºàÂΩìÈîÅÂ§Ñ‰∫éÂèØÁî®ÁöÑÁä∂ÊÄÅÊó∂ÔºåÁ∫øÁ®ãÂç¥ËøòÂ§Ñ‰∫éË¢´Âî§ÈÜíÁöÑËøáÁ®ã‰∏≠ÔºâÂàôÂèØËÉΩ‰∏ç‰ºöÂá∫Áé∞„ÄÇ Âú®synchronizedÂíåReentrantLock‰πãÈó¥ËøõË°åÈÄâÊã©Âú®‰∏Ä‰∫õÂÜÖÁΩÆÈîÅÊó†Ê≥ïÊª°Ë∂≥ÈúÄÊ±ÇÁöÑÊÉÖÂÜµ‰∏ãÔºåReentrantLockÂèØ‰ª•‰Ωú‰∏∫‰∏ÄÁßçÈ´òÁ∫ßÂ∑•ÂÖ∑„ÄÇÂΩìÈúÄË¶Å‰∏Ä‰∫õÈ´òÁ∫ßÂäüËÉΩÊó∂ÊâçÂ∫îËØ•‰ΩøÁî®ReentrantLockÔºåËøô‰∫õÂäüËÉΩÂåÖÊã¨ÔºöÂèØÂÆöÊó∂ÁöÑ„ÄÅÂèØËΩÆËØ¢ÁöÑ‰∏éÂèØ‰∏≠Êñ≠ÁöÑÈîÅËé∑ÂèñÊìç‰ΩúÔºåÂÖ¨Âπ≥ÈòüÂàóÔºàÈªòËÆ§ÈùûÂÖ¨Âπ≥ÔºâÔºå‰ª•ÂèäÈùûÂùóÁªìÊûÑÁöÑÈîÅ„ÄÇÂê¶ÂàôÔºåËøòÊòØÂ∫îËØ•‰ºòÂÖà‰ΩøÁî®synchronized„ÄÇ ËØª-ÂÜôÈîÅÂú®ËØª-ÂÜôÈîÅÁöÑÂä†ÈîÅÁ≠ñÁï•‰∏≠ÔºåÂÖÅËÆ∏Â§ö‰∏™ËØªÊìç‰ΩúÂêåÊó∂ËøõË°åÔºå‰ΩÜÊØèÊ¨°Âè™ÂÖÅËÆ∏‰∏Ä‰∏™ÂÜôÊìç‰Ωú„ÄÇ ReentrantReadWriteLock‰∏∫ËØªÈîÅÂíåÂÜôÈîÅÈÉΩÊèê‰æõ‰∫ÜÂèØÈáçÂÖ•ÁöÑÂä†ÈîÅËØ≠‰πâ„ÄÇReentrantReadWriteLockÂú®ÊûÑÈÄ†Êó∂ÂèØ‰ª•ÈÄâÊã©ÊòØ‰∏Ä‰∏™ÈùûÂÖ¨Âπ≥ÁöÑÈîÅÔºàÈªòËÆ§ÔºâËøòÊòØ‰∏Ä‰∏™ÂÖ¨Âπ≥ÁöÑÈîÅ„ÄÇÂú®ÂÖ¨Âπ≥ÁöÑÈîÅ‰∏≠ÔºåÁ≠âÂæÖÊó∂Èó¥ÊúÄÈïøÁöÑÁ∫øÁ®ãÂ∞Ü‰ºòÂÖàËé∑ÂæóÈîÅ„ÄÇÂú®ÈùûÂÖ¨Âπ≥ÁöÑÈîÅ‰∏≠ÔºåÁ∫øÁ®ãËé∑ÂæóËÆøÈóÆËÆ∏ÂèØÁöÑÈ°∫Â∫èÊòØ‰∏çÁ°ÆÂÆöÁöÑ„ÄÇÂÜôÁ∫øÁ®ãÂèØ‰ª•ÈôçÁ∫ß‰∏∫ËØªÁ∫øÁ®ãÔºå‰ΩÜÊòØËØªÁ∫øÁ®ã‰∏çÂèØ‰ª•ÂçáÁ∫ß‰∏∫ÂÜôÁ∫øÁ®ãÔºàÂõ†‰∏∫Â§ö‰∏™ËØªÁ∫øÁ®ãÈÉΩ‰∏ç‰ºöÊîæÂºÉËá™Â∑±ÁöÑËØªÂèñÈîÅËÄåÂØºËá¥Ê≠ªÈîÅÔºâ„ÄÇ ÈÄÇÁî®Âú∫ÊôØÔºö ÂΩìÈîÅÁöÑÊåÅÊúâÊó∂Èó¥ËæÉÈïøÂπ∂‰∏îÂ§ßÈÉ®ÂàÜÊìç‰ΩúÈÉΩ‰∏ç‰ºö‰øÆÊîπË¢´ÂÆàÊä§ÁöÑËµÑÊ∫êÊó∂ÔºåÈÇ£‰πàËØª-ÂÜôÈîÅËÉΩÊèêÈ´òÂπ∂ÂèëÊÄß„ÄÇÂ¶ÇÊûúÂÜôÊìç‰Ωú‰πüÂæàÈ¢ëÁπÅÔºåÈÇ£ÂèØËÉΩÁã¨Âç†ÈîÅÊõ¥ÂêàÈÄÇ‰∏Ä‰∫õÔºåÂõ†‰∏∫ÂÜôÊìç‰ΩúÂ§™Â§öÔºåÁ´û‰∫â‰ºöÂæàÊøÄÁÉàÔºåÂÜçÂä†‰∏äÂçèË∞ÉËØªÂÜôÈîÅÔºåÊÄßËÉΩÂèçËÄå‰∏çÂ¶ÇÁã¨Âç†ÈîÅ‰∫Ü„ÄÇ ‰∏ãÈù¢Â±ïÁ§∫Áî®ËØª-ÂÜôÈîÅÊù•ÂåÖË£ÖMapÔºö123456789101112131415161718192021222324252627282930public class ReadWriteMap&lt;K, V&gt; &#123; private final Map&lt;K, V&gt; map; private final ReadWriteLock lock = new ReentrantReadWriteLock(); private final Lock r = lock.readLock(); private final Lock w = lock.writeLock(); public ReadWriteMap(Map&lt;K, V&gt; map) &#123; this.map = map; &#125; public V put (K key, V value) &#123; w.lock(); try &#123; return map. put(key, value); &#125; finally &#123; w.unlock(); &#125; &#125; // ÂØπremove(),putAll(),clear()Á≠âÊñπÊ≥ïÊâßË°åÂêåÊ†∑ÁöÑÊìç‰Ωú public V get(Object key) &#123; r.lock(); try &#123; return map.get(key); &#125; finally &#123; r.unlock(); &#125; &#125; // ÂØπÂÖ∂‰ªñÂè™ËØªÁöÑMapÊñπÊ≥ïÊâßË°åÁõ∏ÂêåÁöÑÊìç‰Ωú&#125; ÊÄªÁªì ‰∏éÂÜÖÁΩÆÈîÅÁõ∏ÊØîÔºåÊòæÁ§∫ÁöÑLockÊèê‰æõ‰∫Ü‰∏Ä‰∫õÊâ©Â±ïÂäüËÉΩÔºåÂú®Â§ÑÁêÜÈîÅÁöÑ‰∏çÂèØÁî®ÊÄßÊñπÊ≥ïÊúâÁùÄÊõ¥È´òÁöÑÁÅµÊ¥ªÊÄß„ÄÇ‰ΩÜReentrantLock‰∏çËÉΩÂÆåÂÖ®Êõø‰ª£synchronizedÔºåÂè™ÊúâÂú®synchronizedÊó†Ê≥ïÊª°Ë∂≥ÈúÄÊ±ÇÊó∂ÔºåÊâçÂ∫îËØ•‰ΩøÁî®ÂÆÉ„ÄÇ ËØª-ÂÜôÈîÅËøêË°åÂ§ö‰∏™ËØªÁ∫øÁ®ãÂπ∂ÂèëÂú∞ËÆøÈóÆË¢´‰øùÊä§ÁöÑÂØπË±°ÔºåÂΩìËÆøÈóÆ‰ª•ËØªÂèñÊìç‰Ωú‰∏∫‰∏ªÁöÑÊï∞ÊçÆÁªìÊûÑÊó∂ÔºåÂÆÉËÉΩÊèêÈ´òÁ®ãÂ∫èÁöÑÂèØ‰º∏Áº©ÊÄß„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_9_ÊÄßËÉΩÂíåÂèØ‰º∏Áº©ÊÄß]]></title>
    <url>%2F2018%2F01%2F24%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-9-%E6%80%A7%E8%83%BD%E5%92%8C%E5%8F%AF%E4%BC%B8%E7%BC%A9%E6%80%A7%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁ∫øÁ®ãÊúÄ‰∏ªË¶ÅÁöÑÁõÆÁöÑÊòØÊèêÈ´òÁ®ãÂ∫èÁöÑËøêË°åÊÄßËÉΩÔºåËôΩÁÑ∂Êàë‰ª¨Â∏åÊúõËé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºå‰ΩÜÂßãÁªàË¶ÅÊääÂÆâÂÖ®ÊÄßÊîæÂú®Á¨¨‰∏Ä‰Ωç„ÄÇÈ¶ñÂÖàË¶Å‰øùËØÅÁ®ãÂ∫èÁöÑÊ≠£Â∏∏ËøêË°åÔºåÁÑ∂Âêé‰ªÖÂΩìÁ®ãÂ∫èÁöÑÊÄßËÉΩÈúÄÊ±ÇÂíåÊµãËØïÁªìÊûúË¶ÅÊ±ÇÁ®ãÂ∫èÊâßË°åÂæóÊõ¥Âø´Êó∂ÔºåÊâçÂ∫îËØ•ËÆæÊ≥ïÊèêÈ´òÂÆÉÁöÑËøêË°åÈÄüÂ∫¶ ÊÄßËÉΩÂíåÂèØ‰º∏Áº©ÊÄßÊèêÂçáÊÄßËÉΩÊÑèÂë≥ÁùÄÁî®Êõ¥Â∞ëÁöÑËµÑÊ∫êÂÅöÊõ¥Â§öÁöÑ‰∫ã„ÄÇËøô‰∫õËµÑÊ∫êÂåÖÊã¨CPUÊó∂ÈíüÂë®Êúü„ÄÅÂÜÖÂ≠ò„ÄÅÁΩëÁªúÂ∏¶ÂÆΩ„ÄÅI/OÂ∏¶ÂÆΩ„ÄÅÊï∞ÊçÆÂ∫ìËØ∑Ê±Ç„ÄÅÁ£ÅÁõòÁ©∫Èó¥‰ª•ÂèäÂÖ∂‰ªñËµÑÊ∫ê„ÄÇ Â∞ΩÁÆ°Â∞±ÊòØÁî®Â§ö‰∏™Á∫øÁ®ãÁöÑÁõÆÊ†áÊòØÊèêÂçáÊï¥‰ΩìÊÄßËÉΩÔºå‰ΩÜ‰∏éÂçïÁ∫øÁ®ãÁõ∏ÊØîÔºå‰ΩøÁî®Â§ö‰∏™Á∫øÁ®ã‰ºöÂºïÂÖ•‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÂºÄÈîÄ„ÄÇÈÄ†ÊàêËøô‰∫õÂºÄÈîÄÁöÑÊìç‰ΩúÂåÖÊã¨ÔºöÁ∫øÁ®ã‰πãÈó¥ÁöÑÂçèË∞ÉÔºà‰æãÂ¶ÇÂä†ÈîÅ„ÄÅËß¶Âèë‰ø°Âè∑‰ª•ÂèäÂÜÖÂ≠òÂêåÊ≠•Á≠âÔºâÔºåÂ¢ûÂä†‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÁ∫øÁ®ãÁöÑÂàõÂª∫ÂíåÈîÄÊØÅ„ÄÅ‰ª•ÂèäÁ∫øÁ®ãÁöÑË∞ÉÂ∫¶Á≠â„ÄÇ ‰∏∫‰∫ÜÈÄöËøáÂπ∂ÂèëËé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºåÈúÄË¶ÅÔºö Êõ¥ÊúâÊïàÂú∞Âà©Áî®Áé∞ÊúâÂ§ÑÁêÜËµÑÊ∫ê Âú®Âá∫Áé∞Êñ∞ÁöÑÂ§ÑÁêÜËµÑÊ∫êÊó∂‰ΩøÁ®ãÂ∫èÂ∞ΩÂèØËÉΩÂú∞Âà©Áî®Ëøô‰∫õÊñ∞ËµÑÊ∫ê ‰ªéÊÄßËÉΩÁõëËßÜËßíÂ∫¶Êù•ÁúãÔºåCPUÈúÄË¶ÅÂ∞ΩÂèØËÉΩ‰øùÊåÅÂøôÁªøÁä∂ÊÄÅ Â∫îÁî®Á®ãÂ∫èÊÄßËÉΩÁöÑË°°ÈáèÊåáÊ†á ÊúçÂä°Êó∂Èó¥„ÄÅÁ≠âÂæÖÊó∂Èó¥Áî®‰∫éË°°ÈáèÁ®ãÂ∫èÁöÑ‚ÄúËøêË°åÈÄüÂ∫¶‚ÄùÔºåÂç≥Êüê‰∏™ÊåáÂÆöÁöÑ‰ªªÂä°ÂçïÂÖÉÈúÄË¶Å‚ÄúÂ§öÂø´‚ÄùÊâçËÉΩÂ§ÑÁêÜÂÆåÊàê„ÄÇ Áîü‰∫ßÈáè„ÄÅÂêûÂêêÈáèÁî®‰∫éË°°ÈáèÁ®ãÂ∫èÁöÑ‚ÄúÂ§ÑÁêÜËÉΩÂäõ‚ÄùÔºåÂç≥Âú®ÁªôÂÆöËÆ°ÁÆóÊú∫ËµÑÊ∫êÁöÑÊÉÖÂÜµ‰∏ãÔºåËÉΩÂÆåÊàê‚ÄúÂ§öÂ∞ë‚ÄùÂ∑•‰Ωú„ÄÇ ÊÄßËÉΩÁöÑÊèêÈ´òÂ∞±ÊòØ‰ΩøÂ∫îÁî®Á®ãÂ∫èÔºå1ÔºâÂØπ‰ªªÂä°ÂçïÂÖÉÁöÑÂ§ÑÁêÜÈÄüÂ∫¶Êõ¥Âø´Ôºå2ÔºâËµÑÊ∫ê‰∏ÄÂÆöÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÆåÊàêÊõ¥Â§öÁöÑÂ∑•‰Ωú ÂèØ‰º∏Áº©ÊÄßÂÆö‰πâÂΩìÂ¢ûÂä†ËÆ°ÁÆóËµÑÊ∫êÊó∂Ôºà‰æãÂ¶ÇCPU„ÄÅÂÜÖÂ≠ò„ÄÅÂ≠òÂÇ®ÂÆπÈáèÊàñI/OÂ∏¶ÂÆΩÔºâÔºåÁ®ãÂ∫èÁöÑÂêûÂêêÈáèÊàñËÄÖÂ§ÑÁêÜËÉΩÂäõËÉΩÁõ∏Â∫îÂú∞Â¢ûÂä†„ÄÇ ËØÑ‰º∞ÂêÑÁßçÊÄßËÉΩÊùÉË°°Âõ†Á¥†ÊúçÂä°Âô®Â∫îÁî®Á®ãÂ∫èÁöÑÊåáÊ†áÊòØÂèØ‰º∏Áº©ÊÄß„ÄÅÂêûÂêêÈáèÂíåÁîüÊàêÈáèÔºõ‰∫§‰∫íÂºèÂ∫îÁî®Á®ãÂ∫èÊåáÊ†áÊòØÂ§öÂø´„ÄÇ ÈÅøÂÖç‰∏çÊàêÁÜüÁöÑ‰ºòÂåñÔºàÁî±‰∫éÈúÄÊ±Ç‰∏çÊòéÁ°ÆÔºâÔºåÈ¶ñÂÖà‰ΩøÁ®ãÂ∫èÊ≠£Á°ÆÔºåÁÑ∂ÂêéÂÜçÊèêÈ´òËøêË°åÈÄüÂ∫¶‚Äî‚ÄîÂ¶ÇÊûúÂÆÉËøòËøêË°åÂæó‰∏çÂ§üÂø´„ÄÇ AmdahlÂÆöÂæãAmdahlÂÆöÂæãÔºö Âú®Â¢ûÂä†ËÆ°ÁÆóËµÑÊ∫êÁöÑÊÉÖÂÜµ‰∏ãÔºåÁ®ãÂ∫èÂú®ÁêÜËÆ∫‰∏äËÉΩÂ§üÂÆûÁé∞ÊúÄÈ´òÂä†ÈÄüÊØîÔºåËøô‰∏™ÂÄºÂèñÂÜ≥‰∫éÂèØÂπ∂Ë°åÁªÑ‰ª∂‰∏é‰∏≤Ë°åÁªÑ‰ª∂ÊâÄÂç†ÁöÑÊØîÈáç„ÄÇÂÅáÂÆöFÊòØÂøÖÈ°ªË¢´‰∏≤Ë°åÊâßË°åÁöÑÈÉ®ÂàÜÔºåÈÇ£‰πàÊ†πÊçÆAmdahlÂÆöÂæãÔºåÂú®ÂåÖÂê´N‰∏™Â§ÑÁêÜÂô®ÁöÑÊú∫Âô®‰∏≠ÔºåÊúÄÈ´òÁöÑÂä†ÈÄüÊØî‰∏∫Ôºö1Speedup &lt;= 1 / ( F + (1-F) / N ) ÂΩìNË∂ãËøë‰∫éÊó†Á©∑Â§ßÊó∂ÔºåÊúÄÂ§ßÁöÑÂä†ÈÄüÊØîË∂ãËøë‰∫é1/F„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûúÁ®ãÂ∫èÊúâ50%ÁöÑËÆ°ÁÆóÈúÄË¶Å‰∏≤Ë°åÊâßË°åÔºåÈÇ£‰πàÊúÄÈ´òÁöÑÂä†ÈÄüÊØîÂè™ËÉΩÊòØ2ÔºàËÄå‰∏çÁÆ°ÊúâÂ§öÂ∞ë‰∏™Á∫øÁ®ãÂèØÁî®Ôºâ Ê≥®ÊÑèÔºöÂú®ÊâÄÊúâÂπ∂ÂèëÁ®ãÂ∫è‰∏≠ÈÉΩÂåÖÂê´‰∏Ä‰∫õ‰∏≤Ë°åÈÉ®ÂàÜ„ÄÇ Êàë‰ª¨ËØÑ‰º∞‰∏Ä‰∏™ÁÆóÊ≥ïÊó∂ÔºåË¶ÅËÄÉËôëÁÆóÊ≥ïÂú®Êï∞Áôæ‰∏™ÊàñÊï∞ÂçÉ‰∏™Â§ÑÁêÜÂô®ÁöÑÊÉÖÂÜµ‰∏ãÁöÑÊÄßËÉΩË°®Áé∞Ôºå‰ªéËÄåÂØπÂèØËÉΩÂá∫Áé∞ÁöÑÂèØ‰º∏Áº©ÊÄßÂ±ÄÈôêÊúâ‰∏ÄÂÆöÁ®ãÂ∫¶ÁöÑËÆ§ËØÜ„ÄÇ Á∫øÁ®ãÂºïÂÖ•ÁöÑÂºÄÈîÄÂú®Â§ö‰∏™Á∫øÁ®ãÁöÑË∞ÉÂ∫¶ÂíåÂçèË∞ÉËøáÁ®ã‰∏≠ÈÉΩÈúÄË¶Å‰∏ÄÂÆöÁöÑÊÄßËÉΩÂºÄÈîÄÔºöÂØπ‰∫é‰∏∫‰∫ÜÊèêÂçáÊÄßËÉΩËÄåÂºïÂÖ•ÁöÑÁ∫øÁ®ãÊù•ËØ¥ÔºåÂπ∂Ë°åÂ∏¶Êù•ÁöÑÊÄßËÉΩÊèêÂçáÂøÖÈ°ªË∂ÖËøáÂπ∂ÂèëÂØºËá¥ÁöÑÂºÄÈîÄ„ÄÇ ‰∏ä‰∏ãÊñáÂàáÊç¢Â¶ÇÊûúÂèØËøêË°åÁöÑÁ∫øÁ®ãÊï∞Â§ß‰∫éCPUÊï∞ÈáèÔºåÈÇ£‰πàÊìç‰ΩúÁ≥ªÁªüÊúÄÁªà‰ºöÂ∞ÜÊüê‰∏™ËøêË°åÁöÑÁ∫øÁ®ãË∞ÉÂ∫¶Âá∫Êù•Ôºå‰ªéËÄå‰ΩøÂÖ∂‰ªñÁ∫øÁ®ãËÉΩÂ§ü‰ΩøÁî®CPUÔºåËøôÂ∞ÜÂØºËá¥‰∏ÄÊ¨°‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠Â∞Ü‰øùÂ≠òÂΩìÂâçËøêË°åÁ∫øÁ®ãÁöÑÊâßË°å‰∏ä‰∏ãÊñáÔºåÂπ∂Â∞ÜÊñ∞Ë∞ÉÂ∫¶ËøõÊù•ÁöÑÁ∫øÁ®ãÁöÑÊâßË°å‰∏ä‰∏ãÊñáËÆæÁΩÆ‰∏∫ÂΩìÂâç‰∏ä‰∏ãÊñá„ÄÇ ÂΩìÁ∫øÁ®ãÁî±‰∫éÁ≠âÂæÖÊüê‰∏™ÂèëÁîüÁ´û‰∫âÁöÑÈîÅËÄåË¢´ÈòªÂ°ûÊó∂ÔºåJVMÈÄöÂ∏∏‰ºöÂ∞ÜËøô‰∏™Á∫øÁ®ãÊåÇËµ∑ÔºåÂπ∂ÂÖÅËÆ∏ÂÆÉË¢´‰∫§Êç¢Âá∫Âéª„ÄÇÂ¶ÇÊûúÁ∫øÁ®ãÈ¢ëÁπÅÂú∞ÂèëÁîüÈòªÂ°ûÔºåÈÇ£‰πà‰ªñ‰ª¨Â∞ÜÊó†Ê≥ï‰ΩøÁî®ÂÆåÊï¥ÁöÑË∞ÉÂ∫¶Êó∂Èó¥Áâá„ÄÇÂú®Á®ãÂ∫è‰∏≠ÂèëÁîüË∂äÂ§öÁöÑÈòªÂ°ûÔºåCPUÂØÜÈõÜÂûãÁöÑÁ®ãÂ∫èÂ∞±‰ºöÂèëÁîüË∂äÂ§öÁöÑ‰∏ä‰∏ãÊñáÂàáÊç¢Ôºå‰ªéËÄåÂ¢ûÂä†Ë∞ÉÂ∫¶ÂºÄÈîÄÔºåÂπ∂Âõ†Ê≠§ËÄåÈôç‰ΩéÂêûÂêêÈáè„ÄÇ ÂÜÖÂ≠òÂêåÊ≠•ÂêåÊ≠•Êìç‰ΩúÁöÑÊÄßËÉΩÂºÄÈîÄÂåÖÊã¨Â§ö‰∏™ÊñπÈù¢„ÄÇÂú®synchronizedÂíåvolatileÊèê‰æõÁöÑÂèØËßÅÊÄß‰øùËØÅ‰∏≠ÂèØËÉΩ‰ºö‰ΩøÁî®‰∏Ä‰∫õÁâπÊÆäÁöÑÊåá‰ª§ÔºåÂç≥ÂÜÖÂ≠òÊ†ÖÊ†è„ÄÇÂÜÖÂ≠òÊ†ÖÊ†èÂèØ‰ª•Âà∑Êñ∞ÁºìÂ≠òÔºå‰ΩøÁºìÂ≠òÊó†ÊïàÔºåÂà∑Êñ∞Á°¨‰ª∂ÁöÑÂÜôÁºìÂÜ≤Ôºå‰ª•ÂèäÂÅúÊ≠¢ÊâßË°åÁÆ°ÈÅì„ÄÇÂÜÖÂ≠òÊ†ÖÊ†èÂèØËÉΩÂêåÊ†∑‰ºöÂØπÊÄßËÉΩÂ∏¶Êù•Èó¥Êé•Âú∞ÂΩ±ÂìçÔºåÂ∫î‰∏∫ÂÆÉ‰ºöÊäëÂà∂‰∏Ä‰∫õÁºñËØëÂô®ÁöÑ‰ºòÂåñ„ÄÇÂú®ÂÜÖÂ≠òÊ†ÖÊ†è‰∏≠ÔºåÂ§ßÂ§öÊï∞Êìç‰ΩúÊòØ‰∏çËÉΩË¢´ÈáçÊéíÂ∫èÁöÑ„ÄÇ ‰∏çË¶ÅËøáÂ∫¶ÊãÖÂøÉÈùûÁ´û‰∫âÂêåÊ≠•Â∏¶Êù•ÁöÑÂºÄÈîÄ„ÄÇËøô‰∏™Âü∫Êú¨ÁöÑÊú∫Âà∂Â∑≤ÁªèÈùûÂ∏∏Âø´‰∫ÜÔºåÂπ∂‰∏îJVMËøòËÉΩËøõË°åÈ¢ùÂ§ñÁöÑ‰ºòÂåñ‰ª•Ëøõ‰∏ÄÊ≠•Èôç‰ΩéÊàñÂºÄÈîÄ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨Â∫îËØ•Â∞Ü‰ºòÂåñÁöÑÈáçÁÇπÊîæÂú®ÈÇ£‰∫õÂèëÁîüÈîÅÁ´û‰∫âÁöÑÂú∞Êñπ„ÄÇ ÈòªÂ°ûÂΩìÂú®ÈîÅ‰∏äÂèëÁîüÁ´û‰∫âÊó∂ÔºåÁ´û‰∫âÂ§±Ë¥•ÁöÑÁ∫øÁ®ãËÇØÂÆö‰ºöÈòªÂ°ûÔºåJVMÂú®ÂÆûÁé∞ÈòªÂ°ûË°å‰∏∫Êó∂ÔºåÂèØ‰ª•ÈááÁî®Ëá™ÊóãÁ≠âÂæÖÔºàÊåáÈÄöËøáÂæ™ÁéØ‰∏çÊñ≠Â∞ùËØïËé∑ÂèñÈîÅÔºåÁõ¥Âà∞ÊàêÂäüÔºâÊàñËÄÖÈÄöËøáÊìç‰ΩúÁ≥ªÁªüÊåÇËµ∑Ë¢´ÈòªÂ°ûÁöÑÁ∫øÁ®ã„ÄÇËøô‰∏§ÁßçÊñπÂºèÁöÑÊïàÁéáÈ´ò‰ΩéÔºåË¶ÅÂèñÂÜ≥‰∫é‰∏ä‰∏ãÊñáÂàáÊç¢ÁöÑÂºÄÈîÄ‰ª•ÂèäÂú®ÊàêÂäüËé∑ÂèñÈîÅ‰πãÂâçÈúÄË¶ÅÁ≠âÂæÖÁöÑÊó∂Èó¥„ÄÇ Á≠âÂæÖÊó∂Èó¥ËæÉÁü≠ÔºöÈÄÇÂêàÈááÁî®Ëá™ÊóãÁ≠âÂæÖÊñπÂºè Á≠âÂæÖÊó∂Èó¥ËæÉÈïøÔºöÈÄÇÂêàÈááÁî®Á∫øÁ®ãÊåÇËµ∑ÊñπÂºè ÂáèÂ∞èÈîÅÁöÑÁ´û‰∫â‰∏≤Ë°åÊìç‰Ωú‰ºöÈôç‰ΩéÂèØ‰º∏Áº©ÊÄßÔºåÂπ∂‰∏î‰∏ä‰∏ãÊñáÂàáÊç¢‰πü‰ºöÈôç‰ΩéÊÄßËÉΩ„ÄÇÂú®ÈîÅ‰∏äÂèëÁîüÁ´û‰∫âÊó∂Â∞ÜÂêåÊó∂ÂØºËá¥Ëøô‰∏§ÁßçÈóÆÈ¢òÔºåÂõ†Ê≠§ÂáèÂ∞ëÈîÅÁ´û‰∫â‰ºöÊèêÈ´òÊÄßËÉΩÂíåÂèØ‰º∏Áº©ÊÄß„ÄÇ Âú®Âπ∂ÂèëÁ®ãÂ∫è‰∏≠ÔºåÂØπÂèØ‰º∏Áº©ÊÄßÁöÑÊúÄ‰∏ªË¶ÅÂ®ÅËÉÅÂ∞±ÊòØÁã¨Âç†ÊñπÂºèÁöÑËµÑÊ∫êÈîÅ„ÄÇ Êúâ‰∏§‰∏™Âõ†Á¥†Â∞ÜÂΩ±ÂìçÂú®ÈîÅ‰∏äÂèëÁîüÁ´û‰∫âÁöÑÂèØËÉΩÊÄßÔºö ÈîÅÁöÑËØ∑Ê±ÇÈ¢ëÁéá ÊØèÊ¨°ÊåÅÊúâÈîÅÁöÑÊó∂Èó¥ Â¶ÇÊûú‰∏§ËÄÖÁöÑ‰πòÁßØÂæàÂ∞èÔºåÈÇ£‰πàÂ§ßÂ§öÊï∞Ëé∑ÂèñÈîÅÁöÑÊìç‰ΩúÈÉΩ‰∏ç‰ºöÂèëÁîüÁ´û‰∫â„ÄÇ Êúâ‰∏âÁßçÊñπÂºèÂèØ‰ª•Èôç‰ΩéÈîÅÁöÑÁ´û‰∫âÁ®ãÂ∫¶Ôºö ÂáèÂ∞ëÈîÅÁöÑÊåÅÊúâÊó∂Èó¥ Èôç‰ΩéÈîÅÁöÑËØ∑Ê±ÇÈ¢ëÁéá ‰ΩøÁî®Â∏¶ÊúâÂçèË∞ÉÊú∫Âà∂ÁöÑÁã¨Âç†ÈîÅÔºåËøô‰∫õÊú∫Âà∂ÂÖÅËÆ∏Êõ¥È´òÁöÑÂπ∂ÂèëÊÄß Áº©Â∞èÈîÅÁöÑËåÉÂõ¥Ôºà‚ÄúÂø´ËøõÂø´Âá∫‚ÄùÔºâÂÖ∂ÂÆûË¥®ÊòØÂáèÂ∞ëÈîÅÁöÑÊåÅÊúâÊó∂Èó¥„ÄÇÔºåÂêåÊó∂Ê†πÊçÆAmdahlÂÆöÂæãÔºåËøôÊ†∑Ê∂àÈô§‰∫ÜÈôêÂà∂ÂèØ‰º∏Áº©ÊÄßÁöÑ‰∏Ä‰∏™Âõ†Á¥†ÔºåÂõ†‰∏∫‰∏≤Ë°å‰ª£Á†ÅÁöÑÊÄªÈáèÂáèÂ∞ë‰∫Ü„ÄÇ Ê≥®ÊÑèÔºö Âú®ÂÆûÈôÖÊÉÖÂÜµ‰∏≠Ôºå‰ªÖÂΩìÂèØ‰ª•Â∞Ü‰∏Ä‰∫õ‚ÄúÂ§ßÈáè‚ÄùÁöÑËÆ°ÁÆóÊàñÈòªÂ°ûÊìç‰Ωú‰ªéÂêåÊ≠•‰ª£Á†ÅÂùóÁßªÂá∫Êó∂ÔºåÊâçÂ∫îËØ•ËÄÉËôëÂêåÊ≠•‰ª£Á†ÅÂùóÁöÑÂ§ßÂ∞è„ÄÇ ÂáèÂ∞èÈîÅÁöÑÁ≤íÂ∫¶Âè¶‰∏ÄÁßçÂáèÂ∞èÈîÅÁöÑÊåÅÊúâÊó∂Èó¥ÁöÑÊñπÂºèÊòØÈôç‰ΩéÁ∫øÁ®ãËØ∑Ê±ÇÁöÑÈ¢ëÁéáÔºà‰ªéËÄåÂáèÂ∞èÂèëÁîüÁ´û‰∫âÁöÑÂèØËÉΩÊÄßÔºâ„ÄÇËøôÂèØ‰ª•ÈÄöËøáÈîÅÂàÜËß£ÂíåÈîÅÂàÜÊÆµÁ≠âÊäÄÊúØÊù•ÂÆûÁé∞„ÄÇ ÈîÅÂàÜËß£Â¶ÇÊûú‰∏Ä‰∏™ÈúÄË¶Å‰øùÊä§Â§ö‰∏™Áõ∏‰∫íÁã¨Á´ãÁöÑÁä∂ÊÄÅÂèòÈáèÔºåÈÇ£‰πàÂèØ‰ª•Â∞ÜËøô‰∏™ÈîÅÂàÜËß£‰∏∫Â§ö‰∏™ÈîÅÔºåÂπ∂‰∏îÊØè‰∏™ÈîÅÂè™‰øùÊä§‰∏Ä‰∏™ÂèòÈáèÔºå‰ªéËÄåÊèêÈ´òÂèØ‰º∏Áº©ÊÄßÔºåÂπ∂ÊúÄÁªàÈôç‰ΩéÊØè‰∏™ÈîÅÁöÑËØ∑Ê±ÇÈ¢ëÁéá„ÄÇÁúãÂà∞‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂèòÂåñÔºö123456789// Âéü‰ª£Á†ÅÔºöÈÄöËøáÂÜÖÁΩÆÈîÅ‰øùÊä§‰∫ÜusersÂíåqueries‰∏§‰∏™Áä∂ÊÄÅÂèòÈáèpublic class ServerStatus &#123; public final Set&lt;String&gt; users; public final Set&lt;String&gt; queries; public synchronized void addUser(String u) &#123; users.add(u); &#125; public synchronized void addQuery(String q) &#123; queries.add(q); &#125;&#125; 123456789101112131415161718// ‰øÆÊîπ‰ª£Á†ÅÔºöÈÄöËøáÈîÅÂàÜËß£ÂàÜÂºÄ‰øùÊä§‰∫ÜusersÂíåqueries‰∏§‰∏™Áä∂ÊÄÅÂèòÈáèpublic class ServerStatus &#123; public final Set&lt;String&gt; users; public final Set&lt;String&gt; queries; public void addUser(String u) &#123; synchronized (users) &#123; users.add(u); &#125; &#125; public void addQuery(String q) &#123; synchronized (queries) &#123; queries.add(q); &#125; &#125;&#125; ÂØπÁ´û‰∫âÈÄÇ‰∏≠ÁöÑÈîÅËøõË°åÂàÜËß£Êó∂ÔºåÂÆûÈôÖ‰∏äÊòØÊääËøô‰∫õËΩ¨Âèò‰∏∫ÈùûÁ´û‰∫âÁöÑÈîÅÔºå‰ªéËÄåÊúâÊïàÂú∞ÊèêÈ´òÊÄßËÉΩÂíåÂèØ‰º∏Áº©ÊÄß„ÄÇ ÈîÅÂàÜÊÆµÁî±‰∫éÂú®‰∏Ä‰∏™Êã•ÊúâÂ§ö‰∏™Â§ÑÁêÜÂô®ÁöÑÁ≥ªÁªü‰∏≠ÔºåÈîÅÂàÜËß£‰ªçÁÑ∂Êó†Ê≥ïÁªôÂèØ‰º∏Áº©ÊÄßÂ∏¶Êù•ÊûÅÂ§ßÁöÑÊèêÈ´òÔºåËøô‰∏™Êó∂ÂÄôÂ∞±Âá∫Êù•ÈîÅÂàÜÊÆµÊäÄÊúØ„ÄÇ ÈîÅÂàÜÊÆµÔºö Â∞ÜÈîÅÂàÜËß£ÊäÄÊúØËøõ‰∏ÄÊ≠•Êâ©Â±ï‰∏∫ÂØπ‰∏ÄÁªÑÂØπË±°‰∏äÁöÑÈîÅËøõË°åÂàÜËß£„ÄÇ ‰æãÂ≠êÔºöÂú®ConcurentHashMapÁöÑÂÆûÁé∞‰∏≠‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÂåÖÂê´16‰∏™ÈîÅÁöÑÊï∞ÁªÑÔºåÊØè‰∏™ÈîÅ‰øùÊä§ÊâÄÊúâÊï£ÂàóÊ°∂ÁöÑ1/16ÔºåÂÖ∂‰∏≠Á¨¨N‰∏™Êï£ÂàóÊ°∂ÊúâÁ¨¨ÔºàN mod 16Ôºâ‰∏™ÈîÅÊù•‰øùÊä§„ÄÇÊ≠£ÊòØËøôÈ°πÊäÄÊúØ‰ΩøÂæóCouncurentHashMapËÉΩÂ§üÊîØÊåÅÂ§öËææ16‰∏™Âπ∂ÂèëÁöÑÂÜôÂÖ•Âô®„ÄÇ ÈîÅÂàÜÊÆµÁöÑÂä£ÂäøÔºö‰∏éÈááÁî®Âçï‰∏™ÈîÅÊù•ÂÆûÁé∞Áã¨Âç†ËÆøÈóÆÁõ∏ÊØîÔºåË¶ÅËé∑ÂæóÂ§ö‰∏™ÈîÅÊù•ÂÆûÁé∞Áã¨Âç†ËÆøÈóÆÂ∞ÜÊõ¥Âõ∞ÈöæÊï¥‰∏™ÂÆπÂô®Ôºå‰æãÂ¶ÇÂΩìConcurrentHashMapÈúÄË¶ÅÊâ©Â±ïÊò†Â∞ÑËåÉÂõ¥Á≠â„ÄÇ ÈÅøÂÖçÁÉ≠ÁÇπÂüüÂ¶ÇÊûúÂ∞Ü‰∏Ä‰∫õÂèçÂ§çËÆ°ÁÆóÁöÑÁªìÊûúÁºìÂ≠òËµ∑Êù•ÔºåÈÇ£‰πàÂ∞Ü‰ºöÂºïÂÖ•‰∏Ä‰∫õ‚ÄúÁÉ≠ÁÇπÂüü‚Äù„ÄÇËÄåËøô‰∫õÁÉ≠ÁÇπÂüüÂæÄÂæÄ‰ºöÈôêÂà∂ÂèØ‰º∏Áº©ÊÄß„ÄÇ ‰æãÂ≠êÔºöÂèÇËÄÉConcurrentHashMapÈáåËæπÂ∞ÜÁÉ≠ÁÇπÂüüsizeÂàÜÊàêÂ§ö‰∏™ÂÄºÔºåÂΩìÊàë‰ª¨ÈúÄË¶ÅËé∑ÂèñÂÖ®Â±ÄsizeÁöÑÊó∂ÂÄôÔºåÂ∞±‰∏¥Êó∂ÊääËøô‰∫õÂÄºÂä†Ëµ∑Êù•Â∞±ÊòØÔºåËôΩÁÑ∂ÂèØËÉΩÂæó‰∏çÂà∞‰∏Ä‰∏™ÂáÜÁ°ÆÁöÑÂÄºÔºå‰ΩÜÂ§ßÂ§ßÊèêÈ´ò‰∫ÜÂπ∂ÂèëÊÄßÔºåÊòØÂàíÁÆóÁöÑ„ÄÇ ‰∏Ä‰∫õ‰ª£ÊõøÁã¨Âç†ÈîÅÁöÑÊñπÊ≥ïÊîæÂºÉ‰ΩøÁî®Áã¨Âç†ÈîÅÔºå‰ªéËÄåÊúâÂä©‰∫é‰ΩøÁî®‰∏ÄÁßçÂèãÂ•ΩÂπ∂ÂèëÁöÑÊñπÂºèÊù•ÁÆ°ÁêÜÂÖ±‰∫´Áä∂ÊÄÅ„ÄÇ‰æãÂ¶ÇÔºå‰ΩøÁî®Âπ∂ÂèëÂÆπÂô®„ÄÅËØª-ÂÜôÈîÅ„ÄÅ‰∏çÂèØÂèòÂØπË±°‰ª•ÂèäÂéüÂ≠êÂèòÈáè„ÄÇ ÁõëÊµãCPUÁöÑÂà©Áî®ÁéáÂΩìÊµãËØïÂèØ‰º∏Áº©ÊÄßÊó∂ÔºåÈÄöÂ∏∏Ë¶ÅÁ°Æ‰øùÂ§ÑÁêÜÂô®ÂæóÂà∞ÂÖÖÂàÜÂà©Áî®„ÄÇ Â¶ÇÊûúCPUÊ≤°ÊúâÂæóÂà∞ÂÖÖÂàÜÂà©Áî®ÔºåÈÇ£‰πàÈúÄË¶ÅÊâæÂá∫ÂÖ∂‰∏≠ÁöÑÂéüÂõ†Ôºàvmstat,mpstatÊü•ËØ¢CPU‰ΩøÁî®ÊÉÖÂÜµÔºâ„ÄÇÂèØËÉΩÁöÑÂéüÂõ†Â¶Ç‰∏ãÔºö Ë¥üËΩΩ‰∏çÂÖÖË∂≥„ÄÇÂèØ‰ª•Âú®ÊµãËØïÊó∂Â¢ûÂä†Ë¥üËΩΩÔºåÂπ∂Ê£ÄÊü•Âà©Áî®ÁéáÔºåÂìçÂ∫îÊó∂Èó¥ÂíåÊúçÂä°Êó∂Èó¥Á≠âÊåáÊ†áÁöÑÂèòÂåñ„ÄÇÂ¶ÇÊûú‰∫ßÁîüË∂≥Â§üÂ§öÁöÑË¥üËΩΩ‰ΩøÂ∫îÁî®Á®ãÂ∫èËææÂà∞È•±ÂíåÔºåÈÇ£‰πàÂèØËÉΩÈúÄË¶ÅÂ§ßÈáèÁöÑËÆ°ÁÆóÊú∫ËÉΩËÄóÔºåÂπ∂‰∏îÈóÆÈ¢òÂèØËÉΩÂú®‰∫éÂÆ¢Êà∑Á´ØÁ≥ªÁªüÊòØÂê¶ÂÖ∑ÊúâË∂≥Â§üÁöÑËÉΩÂäõÔºåËÄå‰∏çÊòØË¢´ÊµãËØïÁ≥ªÁªü„ÄÇ IOÂØÜÈõÜ„ÄÇÂèØ‰ª•ÈÄöËøáiostatÊàñËÄÖperfmonÊù•Âà§Êñ≠Êüê‰∏™Â∫îÁî®Á®ãÂ∫èÊòØÂê¶ÊòØÁ£ÅÁõòI/OÂØÜÈõÜÂûãÁöÑÔºåÊàñËÄÖÈÄöËøáÁõëÊµãÂ∫îÁî®ÁöÑÈÄö‰ø°ÊµÅÈáèÊù•Âà§Êñ≠ÂÆÉÊòØÂê¶ÈúÄË¶ÅÈ´òÂ∏¶ÂÆΩ„ÄÇ Â§ñÈÉ®ÈôêÂà∂„ÄÇÂ¶ÇÊûúÂ∫îÁî®Á®ãÂ∫è‰æùËµñ‰∫éÂ§ñÈÉ®ÊúçÂä°ÔºåÊØîÂ¶ÇÊï∞ÊçÆÂ∫ìÊàñwebÊúçÂä°ÔºåÈÇ£‰πàÊÄßËÉΩÁì∂È¢àÂèØËÉΩÂπ∂‰∏çÂú®‰Ω†Ëá™Â∑±ÁöÑ‰ª£Á†Å‰∏≠„ÄÇ ÈîÅÁ´û‰∫â„ÄÇ‰ΩøÁî®ÂàÜÊûêÂ∑•ÂÖ∑ÂèØ‰ª•Áü•ÈÅìÂú®Á®ãÂ∫è‰∏≠Â≠òÂú®‰ΩïÁßçÁ®ãÂ∫¶ÁöÑÈîÅÁ´û‰∫â„ÄÇÊØîÂ¶ÇËøõË°åÁ∫øÁ®ãÊ†àÂ∏ßËΩ¨ÂÇ®ÔºåÊù•ËßÇÂØüÊòØ‰∏çÊòØÊúâ‚Äúwaiting to lock monitor‚Äù‰πãÁ±ªÁöÑÂÖ≥ÈîÆÂ≠ó„ÄÇ Âú®CPU‰øùÊåÅÂøôÁ¢åÁä∂ÊÄÅ‰πãÂêéÔºåÊàë‰ª¨ËØïËØïÂ¢ûÂä†CPUÁöÑÊï∞ÈáèÔºåÊØîÂ¶Ç‰ªé4Ê†∏Êç¢Âà∞8Ê†∏ÔºåÁúãÊòØÂê¶ËÉΩÂ¢ûÂä†Â§ÑÁêÜËÉΩÂäõÔºåÂ¶ÇÊ≠§Â∞±ÂèØ‰ª•ÂæóÂá∫ÁªìËÆ∫ÔºöÂ¢ûÂä†CPUÂèØ‰ª•ÊèêÈ´òÁ®ãÂ∫èÁöÑÂ§ÑÁêÜËÉΩÂäõÔºåÁ±ª‰ººÁöÑÂÖ∂ÂÆÉËµÑÊ∫êÈ™åËØÅËøáÁ®ã‰πüÊòØÁ±ª‰ººÁöÑ„ÄÇ ÂêëÂØπË±°Ê±†ËØ¥‚Äú‰∏ç‚ÄùÊó©ÊúüÂûÉÂúæÂõûÊî∂Êú∫Âà∂ÂæàÊÖ¢ÔºåÊïàÁéáÂæà‰ΩéÔºåÂæàÂ§öÁ®ãÂ∫èÈÄöËøáÂØπË±°Ê±†Êù•Èôç‰ΩéÂûÉÂúæÂõûÊî∂ÁöÑÂéãÂäõ„ÄÇ‰ΩÜÁé∞Âú®ÁöÑÂûÉÂúæÂõûÊî∂Êú∫Âà∂Â∑≤ÁªèÂæàÂø´‰∫Ü„ÄÇÂú®Âπ∂ÂèëÁ®ãÂ∫è‰∏≠ÔºåÂØπË±°Ê±†ÁöÑË°®Áé∞Êõ¥Âä†Á≥üÁ≥ï„ÄÇ ÂáèÂ∞è‰∏ä‰∏ãÊñáÂàáÊç¢ÁöÑÂºÄÈîÄ‰º†ÁªüÁΩëÁªúÊ®°Âºè‰∏ãÔºåÂêåÊ≠•ÈòªÂ°ûIOÂ∞ÜÂØºËá¥‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÂêåÊó∂Ôºå‰∏Ä‰∏™ËøûÊé•‰∏Ä‰∏™Á∫øÁ®ãÂ∞ÜÂØºËá¥Êõ¥Â§öÁöÑ‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÊîπËøõÊñπÊ≥ïÂ¶Ç‰∏ãÔºö Â∞ÜÈòªÂ°ûIOÊìç‰Ωú‰ªéÂ§ÑÁêÜËØ∑Ê±ÇÁöÑÁ∫øÁ®ãÂàÜÁ¶ªÂá∫Êù•ÔºåÊîæÂà∞‰∏ìÈó®ÁöÑÁ∫øÁ®ã‰∏≠ÂéªÂ§ÑÁêÜ„ÄÇ ‰ΩøÁî®nioÔºåÂ§öË∑ØÂ§çÁî®Êú∫Âà∂ÔºåÂÆûÁé∞ÂèØ‰ª•Áî±ÊúâÈôêÁ∫øÁ®ãÊ±†Êù•Â§ÑÁêÜÊâÄÊúâÁöÑËøûÊé•ËØ∑Ê±Ç„ÄÇ ÊÄªÁªìÁî±‰∫é‰ΩøÁî®Á∫øÁ®ãÈÄöÂ∏∏ÊòØ‰∏∫‰∫ÜÂÖÖÂàÜÂà©Áî®Â§ö‰∏™Â§ÑÁêÜÂô®ÁöÑËÆ°ÁÆóËÉΩÂäõÔºåÂõ†Ê≠§Âú®Âπ∂ÂèëÁ®ãÂ∫èÊÄßËÉΩÁöÑÂ•óË∑ØÈÇ£ÁßçÔºåÈÄöÂ∏∏Êõ¥Â§öÂú∞Â∞ÜÈáçÁÇπÊîæÂú®ÂêûÂêêÈáèÂíåÂèØ‰º∏Áº©ÊÄß‰∏äÔºåËÄå‰∏çÊòØÊúçÂä°Êó∂Èó¥„ÄÇAmdahlÂÆöÂæãÂëäËØâÊàë‰ª¨ÔºåÁ®ãÂ∫èÁöÑÂèØ‰º∏Áº©ÊÄßÂèñÂÜ≥‰∫éÂú®ÊâÄÊúâ‰ª£Á†Å‰∏≠ÂøÖÈ°ªË¢´‰∏≤Ë°åÂåñÊâßË°åÁöÑ‰ª£Á†ÅÊØî‰æã„ÄÇÂõ†‰∏∫JavaÁ®ãÂ∫è‰∏≠‰∏≤Ë°åÊìç‰ΩúÁöÑ‰∏ªË¶ÅÊù•Ê∫êÊòØÁã¨Âç†ÊñπÂºèÁöÑËµÑÊ∫êÈîÅÔºåÂõ†Ê≠§ÈÄöÂ∏∏ÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÊñπÂºèÊù•ÊèêÈ´òÂèØ‰º∏Áº©ÊÄßÔºöÂáèÂ∞ëÈîÅÁöÑÊåÅÊúâÊó∂Èó¥ÔºåÈôç‰ΩéÈîÅÁöÑÁ≤íÂ∫¶Ôºå‰ª•ÂèäÈááÁî®ÈùûÁã¨Âç†ÁöÑÈîÅÊàñÈùûÈòªÂ°ûÈîÅÊù•‰ª£ÊõøÁã¨Âç†ÈîÅ„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã Âπ∂ÂèëÁºñÁ®ãÂÆûÊàòÂ≠¶‰π†Á¨îËÆ∞ÔºàÂÖ´Ôºâ‚Äî‚ÄîÊÄßËÉΩ‰∏éÂèØ‰º∏Áº©ÊÄß]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_8_ÈÅøÂÖçÊ¥ªË∑ÉÊÄßÂç±Èô©]]></title>
    <url>%2F2018%2F01%2F22%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-8-%E9%81%BF%E5%85%8D%E6%B4%BB%E8%B7%83%E6%80%A7%E5%8D%B1%E9%99%A9%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®ÂÆâÂÖ®ÊÄßÂíåÊ¥ªË∑ÉÊÄß‰πãÈó¥ÈÄöÂ∏∏Â≠òÂú®ÁùÄÊüê‰∫õÂà∂Ë°°„ÄÇÊàë‰ª¨‰ΩøÁî®Âä†ÈîÅÊú∫Âà∂Êù•Á°Æ‰øùÁ∫øÁ®ãÂÆâÂÖ®Ôºå‰ΩÜÂ¶ÇÊûúËøáÂ∫¶Âú∞‰ΩøÁî®Âä†ÈîÅÔºåÂàôÂèØËÉΩÂØºËá¥È°∫Â∫èÊ≠ªÈîÅ„ÄÇÂêåÊ†∑ÔºåÊàë‰ª¨‰ΩøÁî®Á∫øÁ®ãÊ±†Âíå‰ø°Âè∑ÈáèÊù•ÈôêÂà∂ÂØπËµÑÊ∫êÁöÑ‰ΩøÁî®Ôºå‰ΩÜËøô‰∫õË¢´ÈôêÂà∂ÁöÑË°å‰∏∫ÂèØËÉΩ‰ºöÂØºËá¥ËµÑÊ∫êÊ≠ªÈîÅ„ÄÇJavaÂ∫îÁî®Á®ãÂ∫èÊó†Ê≥ï‰ªéÊ≠ªÈîÅ‰∏≠ÊÅ¢Â§çËøáÊù•ÔºåÂõ†Ê≠§Âú®ËÆæËÆ°Êó∂‰∏ÄÂÆöË¶ÅÊéíÈô§ÈÇ£‰∫õÂèØËÉΩÂØºËá¥Ê≠ªÈîÅÂá∫Áé∞ÁöÑÊù°‰ª∂„ÄÇ Ê≠ªÈîÅÊúÄÁÆÄÂçïÁöÑÊ≠ªÈîÅÔºöÂΩìÁ∫øÁ®ãAÊåÅÊúâÈîÅLÂπ∂ÊÉ≥Ëé∑ÂæóÈîÅMÁöÑÂêåÊó∂ÔºåÁ∫øÁ®ãBÊåÅÊúâÈîÅMÂπ∂Â∞ùËØïËé∑ÂæóÈîÅLÔºåÈÇ£‰πàËøô‰∏§‰∏™Á∫øÁ®ãÂ∞ÜÊ∞∏ËøúÁ≠âÂæÖ‰∏ãÂéª„ÄÇ Êï∞ÊçÆÂ∫ìËß£ÂÜ≥Ê≠ªÈîÅÈóÆÈ¢òÔºö ÂΩìÂÆÉÊ£ÄÊµãÂà∞‰∏ÄÁªÑ‰∫ãÂä°ÂèëÁîü‰∫ÜÊ≠ªÈîÅÊó∂ÔºàÈÄöËøáÂú®Ë°®Á§∫Á≠âÂæÖÂÖ≥Á≥ªÁöÑÊúâÂêëÂõæ‰∏≠ÊêúÁ¥¢Âæ™ÁéØÔºâÔºåÂ∞ÜÈÄâÊã©‰∏Ä‰∏™Áâ∫Áâ≤ËÄÖÂπ∂ÊîæÂºÉËøô‰∏™‰∫ãÂä°„ÄÇ‰Ωú‰∏∫Áâ∫Áâ≤ËÄÖÁöÑ‰∫ãÂä°‰ºöÈáäÊîæÂÆÉÊâÄÊåÅÊúâÁöÑËµÑÊ∫êÔºå‰ªéËÄå‰ΩøÂÖ∂‰ªñ‰∫ãÂä°ÁªßÁª≠ËøõË°å„ÄÇÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•ÈáçÊñ∞ÊâßË°åË¢´Âº∫Âà∂ÁªàÊ≠¢ÁöÑ‰∫ãÂä°ÔºåËÄåËøô‰∏™‰∫ãÂä°Áé∞Âú®ÂèØ‰ª•ÊàêÂäüÂÆåÊàêÔºåÂõ†‰∏∫ÊâÄÊúâË∑üÂÆÉÁ´û‰∫âËµÑÊ∫êÁöÑ‰∫ãÂä°ÈÉΩÂ∑≤ÁªèÂÆåÊàê‰∫Ü„ÄÇ JVMËß£ÂÜ≥Ê≠ªÈîÅÈóÆÈ¢òÔºöÂΩì‰∏ÄÁªÑJavaÁ∫øÁ®ãÂèëÁîüÊ≠ªÈîÅÊó∂Ôºå‚ÄúÊ∏∏Êàè‚ÄùÂ∞ÜÂà∞Ê≠§ÁªìÊùü‚Äî‚ÄîËøô‰∫õÁ∫øÁ®ãÊ∞∏Ëøú‰∏çËÉΩ‰ΩøÁî®‰∫Ü„ÄÇ ÈîÅÈ°∫Â∫èÊ≠ªÈîÅÁ§∫‰æã‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122// Ê≥®ÊÑèÔºöÂÆπÊòìÂèëÁîüÊ≠ªÈîÅÔºÅpublic class LeftRightDeadLock &#123; private final Object left = new Object(); private final Object right = new Object(); public void leftRight() &#123; synchronized (left) &#123; synchronized (right) &#123; doSomething(); &#125; &#125; &#125; public void rightLeft() &#123; synchronized (right) &#123; synchronized (left) &#123; doSomething(); &#125; &#125; &#125;&#125; Ëß£ÂÜ≥ÊñπÊ≥ïÔºö Â¶ÇÊûúÊâÄÊúâÁ∫øÁ®ã‰ª•Âõ∫ÂÆöÁöÑÈ°∫Â∫èÊù•Ëé∑ÂæóÈîÅÔºåÈÇ£‰πàÂú®Á®ãÂ∫è‰∏≠Â∞±‰∏ç‰ºöÂá∫Áé∞ÈîÅÈ°∫Â∫èÊ≠ªÈîÅÈóÆÈ¢ò„ÄÇ Âä®ÊÄÅÊ≠ªÈîÅÈóÆÈ¢òÁ§∫‰æã‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415// Ê≥®ÊÑèÔºöÂÆπÊòìÂèëÁîüÊ≠ªÈîÅÔºÅpublic void transferMoney(Account fromAccount, Account toAccount, DollarAmount amount) throws InsufficientFundsException&#123; synchronized (fromAccount) &#123; synchronized (fromAccount) &#123; if (fromAccount.getBalance().compareTo(amount)) &#123; throw new InsufficientFundsException(); &#125; else &#123; fromAccount.debit(amount); toAccount.credit(amount); &#125; &#125; &#125;&#125; Ëß£ÂÜ≥ÊñπÊ≥ïÔºö ÈÄöËøá‰∏ÄËá¥ÂìàÂ∏åÁÆóÊ≥ïÊàñËÄÖÂÖ∂ÂÆÉÊñπÂºèÊù•Áªü‰∏ÄÈîÅÈ°∫Â∫èÔºå‰ΩøÊú™Áü•È°∫Â∫èÂèò‰∏∫Â∑≤Áü•È°∫Â∫è„ÄÇÂØπ‰∫éÊûÅÂ∞ëÊï∞ÁöÑÂìàÂ∏åÂÜ≤Á™ÅÔºåÂèØ‰ª•‰ΩøÁî®‚ÄúÂä†Êó∂Ëµõ‚ÄùÈîÅÊù•Ëß£ÂÜ≥„ÄÇËß£ÂÜ≥‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142private static final Object tieLock = new Object();public void transferMoney(final Account fromAcct, final Account toAcct, final DollarAmount amount) throws InsufficientFundsException&#123; class Helper&#123; public void transfer throws InsufficientFundsException&#123; if(fromAcct.getBalance().compareTo(amount) &lt; 0)&#123; throw new InsufficientFundsException(); &#125;else&#123; fromAcct.debit(amount); toAcct.credit(amount); &#125; &#125; &#125; int fromHash = System.identifyHashCode(fromAcct); int toHash = System.identityHashCode(toAcct); if(fromHash &lt; toHash)&#123; synchronized(fromAcct)&#123; synchronized(toAcct)&#123; new Helper.transfer(); &#125; &#125; &#125;else if (fromHash &gt; toHash) &#123; synchronized(toAcct)&#123; synchronized(fromAcct)&#123; new Helper().transfer(); &#125; &#125; &#125; else &#123; synchronized(tieLock)&#123;//Âä†Êó∂ËµõÈîÅÊù•Ëß£ÂÜ≥ÈóÆÈ¢ò synchronized(fromAcct)&#123; synchronized(toAcct)&#123; new Helper().transfer(); &#125; &#125; &#125; &#125;&#125; Âú®Âçè‰ΩúÂØπË±°‰πãÈó¥ÂèëÁîüÁöÑÊ≠ªÈîÅÁ§∫‰æã‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// Ê≥®ÊÑèÔºöÂêåÊ≠•ÊñπÊ≥ïËé∑ÂæóÁöÑÊòØÂØπË±°ÈîÅclass Taxi &#123; @GuardedBy("this") private Point location, destination; private final Dispatcher dispatcher; public Taxi(Dispatcher dispatcher) &#123; this.dispatcher = dispatcher; &#125; public synchronized Point getLocation() &#123; return location; &#125; public synchronized void setLocation(Point location) &#123; this.location = location; if (location.equals(destination)) dispatcher.notifyAvailable(this); &#125; public synchronized Point getDestination() &#123; return destination; &#125; public synchronized void setDestination(Point destination) &#123; this.destination = destination; &#125;&#125;class Dispatcher &#123; @GuardedBy("this") private final Set&lt;Taxi&gt; taxis; @GuardedBy("this") private final Set&lt;Taxi&gt; availableTaxis; public Dispatcher() &#123; taxis = new HashSet&lt;Taxi&gt;(); availableTaxis = new HashSet&lt;Taxi&gt;(); &#125; public synchronized void notifyAvailable(Taxi taxi) &#123; availableTaxis.add(taxi); &#125; public synchronized Image getImage() &#123; Image image = new Image(); for (Taxi t : taxis) image.drawMarker(t.getLocation()); return image; &#125;&#125; Â∞ΩÁÆ°Ê≤°Êúâ‰ªª‰ΩïÊñπÊ≥ï‰ºöÊòæÂºèÂú∞Ëé∑Âæó‰∏§‰∏™ÈîÅÔºå‰ΩÜÊòØsetLocationÂíågetImageÁ≠âÊñπÊ≥ïÁöÑË∞ÉÁî®ËÄÖÈÉΩ‰ºöËé∑Âæó‰∏§‰∏™ÈîÅÔºåÊâÄ‰ª•ÊúâÂèØËÉΩÈÄ†ÊàêÊ≠ªÈîÅ„ÄÇ Ê≥®ÊÑèÔºö Â¶ÇÊûúÂú®ÊåÅÊúâÈîÅÁöÑÊÉÖÂÜµ‰∏ãË∞ÉÁî®Êüê‰∏™Â§ñÈÉ®ÊñπÊ≥ïÊó∂ÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅË≠¶ÊÉïÊ≠ªÈîÅ„ÄÇ ÂºÄÊîæË∞ÉÁî®ÂºÄÊîæË∞ÉÁî®Ôºö Â¶ÇÊûúÂú®Ë∞ÉÁî®Êüê‰∏™ÊñπÊ≥ïÊó∂‰∏çÈúÄË¶ÅÊåÅÊúâÈîÅÔºåÈÇ£‰πàËøôÁßçË∞ÉÁî®Ë¢´Áß∞‰∏∫ÂºÄÊîæË∞ÉÁî®„ÄÇ ÈÄöËøáÂºÄÊîæË∞ÉÁî®Ëß£ÂÜ≥Âú®Âçè‰ΩúÂØπË±°‰πãÈó¥ÂèëÁîüÁöÑÊ≠ªÈîÅÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940class Taxi &#123; @GuardedBy("this") private Point location, destination; private final Dispatcher dispatcher; ... public synchronized Point getLocation() &#123; return location; &#125; public void setLocation(Point location) &#123; boolean reachedDestination; synchronized (this) &#123; this.location = location; reachedDestination = location.equals(destination); &#125; if (reachedDestination) dispatcher.notifyAvailable(this); &#125;&#125;class Dispatcher &#123; @GuardedBy("this") private final Set&lt;Taxi&gt; taxis; @GuardedBy("this") private final Set&lt;Taxi&gt; availableTaxis; ... public synchronized void notifyAvailable(Taxi taxi) &#123; availableTaxis.add(taxi); &#125; public synchronized Image getImage() &#123; Set&lt;Taxi&gt; copy; sychronized (this) &#123; copy = new HashSet&lt;Taxi&gt;(taxis); &#125; Image image = new Image(); for (Taxi t : copy) image.drawMarker(t.getLocation()); return image; &#125;&#125; Ëß£ÂÜ≥ÁöÑÊñπÊ≥ïÊÄùË∑ØÂ∞±ÊòØÔºöÁº©Â∞èÈîÅÁöÑÁ≤íÂ∫¶„ÄÇ Áº∫ÁÇπÔºöÂèØËÉΩ‰∏¢Â§±Êìç‰ΩúÂéüÂ≠êÊÄßÔºåÊ≠§Êó∂ÈúÄË¶ÅÈÄöËøáÂçèËÆÆÊù•ÂÆûÁé∞ÂéüÂ≠êÊÄßÔºåËÄå‰∏çÊòØÈÄöËøáÂä†ÈîÅ„ÄÇ ËµÑÊ∫êÊ≠ªÈîÅÁã¨Âç†Á±ªÂûãÁöÑËÆøÈóÆÈÉΩÂèØ‰ª•ÂíåÂä†ÈîÅÊìç‰ΩúÁ±ªÊØîÔºåÁúãËµ∑Êù•Â∞±ÂÉèÈúÄË¶ÅËé∑ÂæóÈîÅÊâçËÉΩËÆøÈóÆ„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™‰ªªÂä°ÈúÄË¶ÅËøûÊé•‰∏§‰∏™Êï∞ÊçÆÂ∫ìÔºåÂπ∂‰∏îÂú®ËØ∑Ê±ÇËøô‰∏§‰∏™ËµÑÊ∫êÊó∂‰∏ç‰ºöÂßãÁªàÈÅµÂæ™Áõ∏ÂêåÁöÑÈ°∫Â∫èÔºåÈÇ£‰πàÁ∫øÁ®ãAÂèØËÉΩÊåÅÊúâ‰∏éÊï∞ÊçÆÂ∫ìD1ÁöÑËøûÊé•ÔºåÂπ∂Á≠âÂæÖ‰∏éÊï∞ÊçÆÂ∫ìD2ÁöÑËøûÊé•ÔºåËÄåÁ∫øÁ®ãBÊåÅÊúâD2ÁöÑËøûÊé•Âπ∂Á≠âÂæÖ‰∏éD1ÁöÑËøûÊé•„ÄÇËµÑÊ∫êÊ±†Ë∂äÂ§ßÔºåÂ∞±Ë∂ä‰∏çÂÆπÊòìÂá∫Áé∞ËøôÁßçÁ±ªÂûãÁöÑÊ≠ªÈîÅ„ÄÇ Á∫øÁ®ãÈ••È•øÊ≠ªÈîÅ„ÄÇÂ¶ÇÊûúÊüê‰∫õ‰ªªÂä°ÈúÄË¶ÅÁ≠âÂæÖÂÖ∂ÂÆÉ‰ªªÂä°ÁöÑÁªìÊûúÔºåÈÇ£‰πàËøô‰∫õ‰ªªÂä°ÂæÄÂæÄÊòØ‰∫ßÁîüÁ∫øÁ®ãÈ••È•øÊ≠ªÈîÅÁöÑ‰∏ªË¶ÅÊù•Ê∫êÔºåÊúâÁïåÁ∫øÁ®ãÊ±†/ËµÑÊ∫êÊ±†‰∏éÁõ∏‰∫í‰æùËµñÁöÑ‰ªªÂä°‰∏çËÉΩ‰∏ÄËµ∑‰ΩøÁî®„ÄÇ Ê≠ªÈîÅÁöÑÈÅøÂÖç‰∏éËØäÊñ≠Â¶ÇÊûúÂøÖÈ°ªËé∑ÂèñÂ§ö‰∏™ÈîÅÔºåÈÇ£‰πàÂú®ËÆæËÆ°Êó∂ÂøÖÈ°ªËÄÉËôëÈîÅÁöÑÈ°∫Â∫èÔºöÂ∞ΩÈáèÂáèÂ∞ëÊΩúÂú®ÁöÑÂä†ÈîÅ‰∫§‰∫íÊï∞ÈáèÔºåÂ∞ÜËé∑ÂèñÈîÅÊó∂ÈúÄË¶ÅÈÅµÂæ™ÁöÑÂçèËÆÆÂÜôÂÖ•Ê≠£ÂºèÊñáÊ°£Âπ∂ÂßãÁªàÈÅµÂæ™Ëøô‰∫õÂçèËÆÆ„ÄÇ Âú®ÁªÜÁ≤íÂ∫¶ÈîÅÁöÑÁ®ãÂ∫è‰∏≠ÔºåÂèØ‰ª•ÈÄöËøá‰∏ÄÁßç‰∏§Èò∂ÊÆµÁ≠ñÁï•Êù•Ê£ÄÊü•‰ª£Á†Å‰∏≠ÁöÑÊ≠ªÈîÅÔºöÈ¶ñÂÖàÔºåÊâæÂá∫Âú®‰ªÄ‰πàÂú∞ÊñπÂ∞ÜËé∑ÂèñÂ§ö‰∏™ÈîÅÔºà‰ΩøËøô‰∏™ÈõÜÂêàÂ∞ΩÈáèÂ∞èÔºâÔºåÁÑ∂ÂêéÂØπÊâÄÊúâËøô‰∫õÂÆû‰æãËøõË°åÂÖ®Â±ÄÂàÜÊûêÔºå‰ªéËÄåÁ°Æ‰øù‰ªñ‰ª¨Âú®Êï¥‰∏™Á®ãÂ∫è‰∏≠Ëé∑ÂèñÈîÅÁöÑÈ°∫Â∫è‰øùÊåÅ‰∏ÄËá¥„ÄÇÂ∞ΩÂèØËÉΩ‰ΩøÁî®ÂºÄÂèëË∞ÉÁî®„ÄÇ ÊîØÊåÅÂÆöÊó∂ÁöÑÈîÅÂΩìÂÆöÊó∂ÈîÅÂ§±Ë¥•Êó∂Ôºå‰Ω†Âπ∂‰∏çÈúÄË¶ÅÁü•ÈÅìÂ§±Ë¥•ÁöÑÂéüÂõ†„ÄÇËá≥Â∞ë‰Ω†ËÉΩËÆ∞ÂΩïÊâÄÂèëÁîüÁöÑÂ§±Ë¥•Ôºå‰ª•ÂèäÂÖ≥‰∫éËøôÊ¨°Êìç‰ΩúÁöÑÂÖ∂ÂÆÉÊúâÁî®‰ø°ÊÅØÔºåÂπ∂ÈÄöËøá‰∏ÄÁßçÊõ¥Âπ≥ÁºìÁöÑÊñπÂºèÊù•ÈáçÊñ∞ÂêØÂä®ËÆ°ÁÆóÔºåËÄå‰∏çÊòØÂÖ≥Èó≠Êï¥‰∏™ËøõÁ®ã„ÄÇ Â¶ÇÊûúÂú®Ëé∑ÂèñÈîÅÊó∂Ë∂ÖÊó∂ÔºåÈÇ£‰πàÂèØ‰ª•ÈáäÊîæËøô‰∏™ÈîÅÔºåÁÑ∂ÂêéÂêéÈÄÄÂπ∂Âú®‰∏ÄÊÆµÊó∂Èó¥ÂêéÂπ∂ÂÜçÊ¨°Â∞ùËØïÔºå‰ªéËÄåÊ∂àÈô§‰∫ÜÊ≠ªÈîÅÂèëÁîüÁöÑÊù°‰ª∂Ôºå‰ΩøÁ®ãÂ∫èÊÅ¢Â§çËøáÊù•„ÄÇÔºàËøôÈ°πÊäÄÊúØÂè™ÊúâÂú®ÂêåÊó∂Ëé∑Âèñ‰∏§‰∏™ÈîÅÊó∂ÊâçÊúâÊïàÔºåÂ¶ÇÊûúÂú®ÂµåÂ•óÁöÑÊñπÊ≥ïË∞ÉÁî®‰∏≠ËØ∑Ê±ÇÂ§ö‰∏™ÈîÅÔºåÈÇ£‰πàÂç≥‰Ωø‰Ω†Áü•ÈÅìÂ∑≤ÁªèÊåÅÊúâ‰∫ÜÂ§ñÂ±ÇÁöÑÈîÅÔºå‰πüÊó†Ê≥ïÈáäÊîæÂÆÉ„ÄÇÔºâ ÈÄöËøáÁ∫øÁ®ãËΩ¨ÂÇ®‰ø°ÊÅØÊù•ÂàÜÊûêÊ≠ªÈîÅJVM‰ºöÈÄöËøáÁ∫øÁ®ãËΩ¨ÂÇ®Êù•Â∏ÆÂä©ÊòØË¢´Ê≠ªÈîÅÁöÑÂèëÁîü„ÄÇÂú®ÁîüÊàêÁ∫øÁ®ãËΩ¨ÂÇ®‰ø°ÊÅØ‰πãÂâçÔºåJVMÂ∞ÜÂú®Á≠âÂæÖÂÖ≥Á≥ªÂõæ‰∏≠ÈÄöËøáÊêúÁ¥¢Âæ™ÁéØÊù•ÊâæÂá∫Ê≠ªÈîÅ„ÄÇÂ¶ÇÊûúÂèëÁé∞‰∫Ü‰∏Ä‰∏™Ê≠ªÈîÅÔºåÂàôËé∑ÂèñÁõ∏Â∫îÁöÑÊ≠ªÈîÅ‰ø°ÊÅØÔºåÁêÜÁî±Âú®Ê≠ªÈîÅ‰∏≠Ê∂âÂèäÂì™‰∫õÈîÅÂíåÁ∫øÁ®ãÔºå‰ª•ÂèäËøô‰∏™ÈîÅÁöÑËé∑ÂèñÊìç‰Ωú‰Ωç‰∫éÁ®ãÂ∫èÁöÑÂì™‰∫õ‰ΩçÁΩÆ„ÄÇ ÂÖ∂‰ªñÊ¥ªË∑ÉÂç±Èô©È••È•øÂΩìÁ∫øÁ®ãÁî±‰∫éÊó†Ê≥ïËÆøÈóÆÂÆÉÊâÄÈúÄË¶ÅÁöÑËµÑÊ∫êËÄå‰∏çËÉΩÁªßÁª≠ÊâßË°åÊó∂ÔºåÂ∞±ÂèëÁîü‰∫Ü‚ÄúÈ••È•ø‚ÄùÔºåÂºïÂèëÈ••È•øÁöÑÊúÄÂ∏∏ËßÅËµÑÊ∫êÂ∞±ÊòØCPUÊó∂ÈíüÂë®Êúü„ÄÇ Ë¶ÅÈÅøÂÖç‰ΩøÁî®Á∫øÁ®ã‰ºòÂÖàÁ∫ßÔºåÂõ†‰∏∫Ëøô‰ºöÂ¢ûÂä†Âπ≥Âè∞‰æùËµñÊÄßÔºåÂπ∂ÂèØËÉΩÂØºËá¥Ê¥ªË∑ÉÊÄßÈóÆÈ¢òÔºåÂú®Â§ßÂ§öÊï∞Âπ∂ÂèëÂ∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÈÉΩÂèØ‰ª•‰ΩøÁî®ÈªòËÆ§ÁöÑÁ∫øÁ®ã‰ºòÂÖàÁ∫ß„ÄÇ Ê¥ªÈîÅÊ¥ªÈîÅÊòØÂè¶‰∏ÄÁßçÂΩ¢ÂºèÁöÑÊ¥ªË∑ÉÊÄßÈóÆÈ¢òÔºåËØ•ÈóÆÈ¢òÂ∞ΩÁÆ°‰∏ç‰ºöÈòªÂ°ûÁ∫øÁ®ãÔºå‰ΩÜ‰πü‰∏çËÉΩÁªßÁª≠ÊâßË°åÔºåÂõ†‰∏∫Á∫øÁ®ãÂ∞Ü‰∏çÊñ≠ÈáçÂ§çÊâßË°åÁõ∏ÂêåÁöÑÊìç‰ΩúÔºåËÄå‰∏îÊÄª‰ºöÂ§±Ë¥•„ÄÇ Ê¥ªÈîÅÈÄöÂ∏∏ÂèëÁîüÂú®Â§ÑÁêÜ‰∫ãÂä°Ê∂àÊÅØÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠ÔºöÂ¶ÇÊûú‰∏çËÉΩÊàêÂäüÂú∞Â§ÑÁêÜÊüê‰∏™Ê∂àÊÅØÔºåÈÇ£‰πàÊ∂àÊÅØÂ§ÑÁêÜÊú∫Âà∂Â∞Ü‰ºöÂõûÊªöÊï¥‰∏™‰∫ãÂä°ÔºåÂπ∂Â∞ÜÂÆÉÈáçÊñ∞ÊîæÂà∞ÈòüÂàóÁöÑÂºÄÂ§¥„ÄÇÂ¶ÇÊûúÊ∂àÊÅØÂ§ÑÁêÜÂô®Âú®Â§ÑÁêÜÊüêÁßçÁâπÂÆöÁ±ªÂûãÁöÑÊ∂àÊÅØÊó∂Â≠òÂú®ÈîôËØØÂπ∂ÂØºËá¥ÂÆÉÂ§±Ë¥•ÔºåÈÇ£‰πà‰ºöÂá∫‰∏ÄÁõ¥Â≠òÂú®‚ÄúÂ§ÑÁêÜ-Âá∫Èîô-ÂõûÊªö-Â§ÑÁêÜ‚ÄùÁöÑÂæ™ÁéØ‰∏≠„ÄÇ Ëß£ÂÜ≥ÊñπÊ≥ïÔºöÂú®ÈáçËØïÊú∫Âà∂‰∏≠ÂºïÁî®ÈöèÊú∫ÊÄß„ÄÇ ÊÄªÁªìÊ¥ªË∑ÉÊÄßÊïÖÈöúÊòØ‰∏Ä‰∏™ÈùûÂ∏∏‰∏•ÈáçÁöÑÈóÆÈ¢òÔºåÂõ†‰∏∫ÂΩìÂá∫Áé∞Ê¥ªË∑ÉÊÄßÊïÖÈöúÊó∂ÔºåÈô§‰∫Ü‰∏≠Ê≠¢Â∫îÁî®Á®ãÂ∫è‰πãÂ§ñÊ≤°ÊúâÂÖ∂‰ªñ‰ªª‰ΩïÊú∫Âà∂ÂèØ‰ª•Â∏ÆÂä©‰ªéËøôÁßçÊïÖÈöúÊÅ¢Â§çËøáÊù•„ÄÇÊúÄÂ∏∏ËßÅÁöÑÊ¥ªË∑ÉÊÄßÊïÖÈöúÊòØÈîÅÈ°∫Â∫èÊ≠ªÈîÅ„ÄÇÂú®ËÆæËÆ°Êó∂Â∫îËØ•ÈÅøÂÖçÈîÅÈ°∫Â∫èÊ≠ªÈîÅÔºöÁ°Æ‰øùÁ∫øÁ®ãÂú®Ëé∑ÂèñÂ§ö‰∏™ÈîÅÈááÁî®‰∏ÄËá¥ÁöÑÈ°∫Â∫è„ÄÇÊúÄÂ•ΩÁöÑËß£ÂÜ≥ÊñπÊ≥ïÊòØÂú®Á®ãÂ∫è‰∏≠ÂßãÁªà‰ΩøÁî®ÂºÄÊîæË∞ÉÁî®„ÄÇËøôÂ∞ÜÂ§ßÂ§ßÂáèÂ∞ëÈúÄË¶ÅÂêåÊó∂ÊåÅÊúâÂ§ö‰∏™ÈîÅÁöÑÂú∞ÊñπÔºå‰πüÊõ¥ÂÆπÊòìÂèëÁé∞Ëøô‰∫õÂú∞Êñπ„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_7_Á∫øÁ®ãÊ±†ÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2018%2F01%2F22%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-7-%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰πãÂâç‰ªãÁªç‰∫ÜExecutor‰ªªÂä°ÊâßË°åÊ°ÜÊû∂ÁöÑ‰ΩøÁî®ÔºåÂÆÉ‰∏ç‰ªÖÁÆÄÂåñ‰∫Ü‰ªªÂä°‰∏éÁ∫øÁ®ãÁöÑÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜÔºåËÄå‰∏îËøòÊèê‰æõ‰∫Ü‰∏ÄÁßçÁÆÄÂçïÁÅµÊ¥ªÁöÑÊñπÂºèÂ∞Ü‰ªªÂä°ÁöÑÊèê‰∫§Âíå‰ªªÂä°ÁöÑÊâßË°åÁ≠ñÁï•Ëß£ËÄ¶ÂºÄÊù•„ÄÇ‰ΩÜÊòØÊ∑±ÂÖ•‰∏ãÂéªÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπÁ∫øÁ®ãÊ±†ËøõË°åÈÖçÁΩÆÂíåË∞É‰ºòÔºåÂπ∂‰∏îÂàÜÊûêÂÜç‰ΩøÁî®‰ªªÂä°ÊâßË°åÊ°ÜÊû∂Êó∂ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂêÑÁßçÂç±Èô©„ÄÇ Âú®‰ªªÂä°‰∏éÊâßË°åÁ≠ñÁï•‰πãÈó¥ÁöÑÈöêÊÄßËÄ¶Âêà‰∏çÊòØÊâÄÊúâ‰ªªÂä°ÈÉΩËÉΩÈÄÇÁî®ÊâÄÊúâÁöÑÊâßË°åÁ≠ñÁï•ÁöÑÔºåÊúâ‰∫õÁ±ªÂûãÁöÑ‰ªªÂä°ÈúÄË¶ÅÊòéÁ°ÆÂú∞ÊåáÂÆöÊâßË°åÁ≠ñÁï•ÔºåÂåÖÊã¨Ôºö ‰æùËµñÊÄß‰ªªÂä°ÔºöÊèê‰∫§ÁªôÁ∫øÁ®ãÊ±†ÁöÑ‰ªªÂä°ÈúÄË¶Å‰æùËµñÂÖ∂‰ªñÁöÑ‰ªªÂä°ÔºåÊàë‰ª¨ÈúÄË¶ÅÈÅøÂÖçÁ∫øÁ®ãÈ••È•øÊ≠ªÈîÅ„ÄÇ ‰ΩøÁî®Á∫øÁ®ãÂ∞ÅÈó≠Êú∫Âà∂ÁöÑ‰ªªÂä°Ôºö‰ªªÂä°Ë¶ÅÊ±ÇÂÖ∂ÊâßË°åÁ≠ñÁï•ÊâÄÂú®ÁöÑExecutorÊòØÂçïÁ∫øÁ®ãÁöÑ„ÄÇ ÂØπÂìçÂ∫îÊó∂Èó¥ÊïèÊÑüÁöÑ‰ªªÂä°ÔºöGUIÂ∫îÁî®Á®ãÂ∫èÂØπ‰∫éÂìçÂ∫îÊó∂Èó¥ÊòØÊïèÊÑüÁöÑ„ÄÇ ‰ΩøÁî®ThreadLocalÁöÑ‰ªªÂä°ÔºöExecutor‰ºöÈáçÁî®Á∫øÁ®ãÔºåÊâÄÂÅ∂‰∏Ä‰ΩøÁî®ThreadLocal‰ºöÊ≤°ÊúâÊÑè‰πâ„ÄÇ Âè™ÊúâÂΩì‰ªªÂä°ÈÉΩÊòØÂêåÁ±ªÂûãÁöÑÂπ∂‰∏îÊòØÁõ∏‰∫íÁã¨Á´ãÊó∂ÔºåÁ∫øÁ®ãÊ±†ÁöÑÊÄßËÉΩÊâçËÉΩËææÂà∞ÊúÄ‰Ω≥„ÄÇ Âú®‰∏Ä‰∫õ‰ªªÂä°‰∏≠ÔºåÈúÄË¶ÅÊã•ÊúâÊàñÊéíÈô§ÊüêÁßçÁâπÂÆöÁöÑÊâßË°åÁ≠ñÁï•„ÄÇÂ¶ÇÊûúÊüê‰∫õ‰ªªÂä°‰æùËµñ‰∫éÂÖ∂‰ªñÁöÑ‰ªªÂä°ÔºåÈÇ£‰πà‰ºöË¶ÅÊ±ÇÁ∫øÁ®ãÊ±†Ë∂≥Â§üÂ§ßÔºå‰ªéËÄåÁ°Æ‰øù‰ªñ‰ª¨‰æùËµñ‰ªªÂä°‰∏ç‰ºöË¢´ÊîæÂÖ•Á≠âÂæÖÈòüÂàó‰∏≠ÊàñË¢´ÊãíÁªùÔºåËÄåÈááÁî®Á∫øÁ®ãÂ∞ÅÈó≠Êú∫Âà∂ÁöÑ‰ªªÂä°ÈúÄË¶Å‰∏≤Ë°åÊâßË°å„ÄÇ Á∫øÁ®ãÈ••È•øÊ≠ªÈîÅÂú®Á∫øÁ®ãÊ±†‰∏≠ÔºåÂ¶ÇÊûú‰ªªÂä°‰æùËµñ‰∫éÂÖ∂‰ªñ‰ªªÂä°ÔºåÈÇ£‰πàÂèØËÉΩ‰∫ßÁîüÊ≠ªÈîÅ„ÄÇÂú®ÂçïÁ∫øÁ®ãÁöÑExecutor‰∏≠ÔºåÂ¶ÇÊûú‰∏Ä‰∏™‰ªªÂä°Â∞ÜÂè¶‰∏Ä‰∏™‰ªªÂä°Êèê‰∫§Âà∞Âêå‰∏Ä‰∏™ExecutorÔºåÂπ∂‰∏îÁ≠âÂæÖËøô‰∏™Ë¢´Êèê‰∫§‰ªªÂä°ÁöÑÁªìÊûúÔºåÈÇ£‰πàÈÄöÂ∏∏‰ºöÂºïÂèëÊ≠ªÈîÅ„ÄÇÁ¨¨‰∫å‰∏™‰ªªÂä°ÂÅúÁïôÂú®Â∑•‰ΩúÈòüÂàó‰∏≠ÔºåÁ≠âÂæÖÁ¨¨‰∏Ä‰∏™‰ªªÂä°ÂÆåÊàêÔºåËÄåÁ¨¨‰∏Ä‰∏™‰ªªÂä°ÂèàÊó†Ê≥ïÂÆåÊàêÔºåÂõ†‰∏∫ÂÆÉÂú®Á≠âÂæÖÁ¨¨‰∫å‰∏™‰ªªÂä°ÁöÑÂÆåÊàê„ÄÇÂú®Êõ¥Â§ßÁöÑÁ∫øÁ®ãÊ±†‰∏≠ÔºåÂ¶ÇÊûúÊâÄÊúâÊ≠£Âú®ÊâßË°å‰ªªÂä°ÁöÑÁ∫øÁ®ãÈÉΩÁî±‰∫éÁ≠âÂæÖÂÖ∂‰ªñ‰ªçÂ§Ñ‰∫éÂ∑•‰ΩúÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°ËÄåÈòªÂ°ûÔºå‰πü‰ºöÂèëÁîüÂêåÊ†∑ÁöÑÈóÆÈ¢ò„ÄÇËøôÁßçÁé∞Ë±°Âè´ÂÅöÁ∫øÁ®ãÈ••È•øÊ≠ªÈîÅÔºàThread Starvation DeadlockÔºâÔºåÂè™Ë¶ÅÁ∫øÁ®ãÊ±†‰∏≠ÁöÑ‰ªªÂä°ÈúÄË¶ÅÊó†ÈôêÊúüÁ≠âÂæÖ‰∏Ä‰∫õÂøÖÈ°ªÁî±Ê±†‰∏≠ÂÖ∂‰ªñ‰ªªÂä°ÊâçËÉΩÊèê‰æõÁöÑËµÑÊ∫êÊàñÊù°‰ª∂Ôºå‰æãÂ¶ÇÊüê‰∏™‰ªªÂä°Á≠âÂæÖÂè¶‰∏Ä‰∏™‰ªªÂä°ÁöÑËøîÂõûÂÄºÊàñÊâßË°åÁªìÊûúÔºåÈÇ£‰πàÈô§ÈùûÁ∫øÁ®ãÊ±†Ë∂≥Â§üÂ§ßÔºåÂê¶ÂàôÂ∞ÜÂèëÁîüÁ∫øÁ®ãÈ••È•øÊ≠ªÈîÅ„ÄÇ ÊØèÂΩìÊèê‰∫§‰∫Ü‰∏Ä‰∏™Êúâ‰æùËµñÊÄßÁöÑExecutor‰ªªÂä°Êó∂ÔºåË¶ÅÊ∏ÖÊ•öÂú∞Áü•ÈÅìÂèØËÉΩ‰ºöÂá∫Áé∞Á∫øÁ®ãÈ••È•øÊ≠ªÈîÅÔºåÂõ†Ê≠§ÈúÄË¶ÅÂú®‰ª£Á†ÅÊàñÈÖçÁΩÆExecutorÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ËÆ∞ÂΩïÁ∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞èÈôêÂà∂ÊàñÈÖçÁΩÆÈôêÂà∂„ÄÇ ËøêË°åÊó∂Èó¥ËæÉÈïøÁöÑ‰ªªÂä°Â¶ÇÊûú‰ªªÂä°ÈòªÂ°ûÊó∂Èó¥ËøáÈïøÔºåÈÇ£‰πàÂç≥‰Ωø‰∏çÂá∫Áé∞Ê≠ªÈîÅÔºåÁ∫øÁ®ãÊ±†ÁöÑÂìçÂ∫îÊÄß‰πü‰ºöÂèòÂæóÁ≥üÁ≥ï„ÄÇÊâßË°åÊó∂Èó¥ËæÉÈïøÁöÑ‰ªªÂä°‰∏ç‰ªÖ‰ºöÈÄ†ÊàêÁ∫øÁ®ãÊ±†Â†µÂ°ûÔºåÁîöËá≥‰ºöÂ¢ûÂä†ÊâßË°åÊó∂Èó¥ËæÉÁü≠‰ªªÂä°ÁöÑÊúçÂä°Êó∂Èó¥„ÄÇÂ¶ÇÊûúÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÊï∞ÈáèËøúÂ∞è‰∫éÂú®Á®≥ÂÆöÁä∂ÊÄÅ‰∏ãÊâßË°åÊó∂Èó¥ËæÉÈïø‰ªªÂä°ÁöÑÊï∞ÈáèÔºåÈÇ£‰πàÂà∞ÊúÄÂêéÂèØËÉΩÊâÄÊúâÁ∫øÁ®ãÈÉΩ‰ºöËøêË°åËøô‰∫õÊâßË°åÊó∂Èó¥ËæÉÈïøÁöÑ‰ªªÂä°Ôºå‰ªéËÄåÂΩ±ÂìçÊï¥‰ΩìÁöÑÂìçÂ∫îÊÄß„ÄÇ ÁºìËß£Ëøô‰∏™ÈóÆÈ¢òÁöÑÊäÄÊúØÂ∞±ÊòØÈôêÂÆöÁ≠âÂæÖËµÑÊ∫êÁöÑÊó∂Èó¥ÔºåËÄå‰∏çÊòØÊó†ÈôêÂà∂Á≠âÂæÖ„ÄÇ‰æãÂ¶ÇThraed.join(),BlockingQueue.put()„ÄÅCountDownLatch.await()Á≠âÔºåÂ¶ÇÊûúÁ≠âÂæÖË∂ÖÊó∂ÔºåÂèØ‰ª•Êää‰ªªÂä°Ê†áËØÜ‰∏∫Â§±Ë¥•ÔºåÁÑ∂ÂêéÁªàÊ≠¢‰ªªÂä°ÊàñÂ∞Ü‰ªªÂä°ÈáçÊñ∞ÊîæÂõûÈòüÂàó‰ª•‰æøÈöèÂêéÊâßË°å„ÄÇ ËÆæÁΩÆÁ∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞èÁ∫øÁ®ãÊ±†ÁöÑÁêÜÊÉ≥Â§ßÂ∞èÂèñÂÜ≥‰∫éË¢´Êèê‰∫§‰ªªÂä°ÁöÑÁ±ªÂûã‰ª•ÂèäÊâÄÈÉ®ÁΩ≤Á≥ªÁªüÁöÑÁâπÊÄß„ÄÇ Âè™Ë¶ÅÈÅøÂÖçËøáÂ§ßÂíåËøáÂ∞è‰∏§ÁßçÊûÅÁ´ØÊÉÖÂÜµÔºåÂ¶ÇÊûúÁ∫øÁ®ãÊ±†ËøáÂ§ßÔºåÈÇ£‰πàÂ§ßÈáèÁöÑÁ∫øÁ®ãÂ∞ÜÂú®Áõ∏ÂØπÂæàÂ∞ëÁöÑCPUÂíåÂÜÖÂ≠òËµÑÊ∫ê‰∏äÂèëÁîüÁ´û‰∫âÔºåËøô‰∏ç‰ªÖ‰ºöÂØºËá¥Êõ¥È´òÁöÑÂÜÖÂ≠ò‰ΩøÁî®ÈáèÔºåËÄå‰∏îËøòÂèØËÉΩËÄóÂ∞ΩËµÑÊ∫ê„ÄÇÂ¶ÇÊûúÁ∫øÁ®ãÊ±†ËøáÂ∞èÔºåÈÇ£‰πàÂØºËá¥ËÆ∏Â§öÁ©∫Èó≤ÁöÑÂ§ÑÁêÜÂô®Êó†Ê≥ïÊâßË°åÂ∑•‰ΩúÔºå‰ªéËÄåÈôç‰ΩéÂêûÂêêÁéá„ÄÇ Ë¶ÅÊÉ≥Ê≠£Á°ÆËÆæÁΩÆÁ∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞èÔºåÂøÖÈ°ªÂàÜÊûêËÆ°ÁÆóÁéØÂ¢É„ÄÅËµÑÊ∫êÈ¢ÑÁÆóÂíå‰ªªÂä°ÁöÑÁâπÊÄß„ÄÇ ÂØπ‰∫éËÆ°ÁÆóÂØÜÈõÜÂûãÁöÑ‰ªªÂä°ÔºåÂú®Êã•ÊúâN‰∏™Â§ÑÁêÜÂô®ÁöÑÁ≥ªÁªü‰∏äÔºåÂΩìÁ∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞è‰∏∫N + 1Êó∂ÔºåÈÄöÂ∏∏ËÉΩÂÆûÁé∞ÊúÄ‰ºòÁöÑÂà©Áî®Áéá„ÄÇ ÂØπ‰∫éÂåÖÂê´I/OÊìç‰ΩúÊàñËÄÖÂÖ∂‰ªñÈòªÂ°ûÊìç‰ΩúÁöÑ‰ªªÂä°ÔºåÁî±‰∫éÁ∫øÁ®ãÂπ∂‰∏ç‰ºö‰∏ÄÁõ¥ÊâßË°åÔºåÂõ†Ê≠§Á∫øÁ®ãÊ±†ÁöÑËßÑÊ®°Â∫îËØ•Êõ¥Â§ß„ÄÇË¶ÅÊ≠£Á°ÆÂú∞ËÆæÁΩÆÁ∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞èÔºåÂøÖÈ°ª‰º∞ÁÆóÂá∫‰ªªÂä°ÁöÑÁ≠âÂæÖÊó∂Èó¥‰∏éËÆ°ÁÆóÊó∂Èó¥ÁöÑÊØîÂÄº„ÄÇÊúâ‰∏™ÂÖ¨ÂºèÔºö1234N = CPUÁöÑÊï∞Èáè = Runtime.getRuntime().availableProcessors();U = È¢ÑÊúüCPUÂà©Áî®ÁéáW/C = Á≠âÂæÖÊó∂Èó¥,ËÆ°ÁÆóÊó∂Èó¥‰πãÊØîÔºàwait time / compute timeÔºâÁ∫øÁ®ãÊ±†ÁöÑÊúÄ‰ºòÂ§ßÂ∞è = N * U * Ôºà1 + W/CÔºâ ÈÖçÁΩÆThreadPoolExecutorÂ¶ÇÊûúnewCachedThreadPool„ÄÅnewFixedTheadPoolÂíånewScheduledTheadPoolÁ≠âÂ∑•ÂéÇÊñπÊ≥ïËøîÂõûÁöÑThreadPoolExecutorÊó†Ê≥ïÊª°Ë∂≥ÈúÄÊ±ÇÔºåÂèØ‰ª•ÈÄöËøáThreadPoolExecutorÁöÑÊûÑÈÄ†ÂáΩÊï∞Êù•ÂÆû‰æãÂåñ‰∏Ä‰∏™ÂØπË±°ÔºåÂπ∂Ê†πÊçÆËá™Â∑±ÈúÄÊ±ÇÊù•ÂÆöÂà∂„ÄÇÊûÑÈÄ†ÂáΩÊï∞Â¶Ç‰∏ãÔºö1234567public ThreadPoolExecutor(int corePoolSize, //Á∫øÁ®ãÊ±†ÁöÑÂü∫Êú¨Â§ßÂ∞è int maximumPoolSize, //ÊúÄÂ§ßÂ§ßÂ∞è long keepAliveTime, //Â≠òÊ¥ªÊó∂Èó¥ TimeUnit unit, //Êó∂Èó¥Âçï‰Ωç BlockingQueue&lt;Runnable&gt; workQueue, //Â∑•‰ΩúÈòüÂàó ThreadFactory threadFactory, //Á∫øÁ®ãÂ∑•ÂéÇ RejectedExecutionHandler handler) &#123;...&#125; Á∫øÁ®ãÁöÑÂàõÂª∫‰∏éÈîÄÊØÅÈÄöËøáË∞ÉËäÇÁ∫øÁ®ãÊ±†ÁöÑÂü∫Êú¨Â§ßÂ∞èÂíåÂ≠òÊ¥ªÊó∂Èó¥ÔºåÂèØ‰ª•Â∏ÆÂä©Á∫øÁ®ãÊ±†ÂõûÊî∂Á©∫Èó≤Á∫øÁ®ãÂç†ÊúâÁöÑËµÑÊ∫êÔºå‰ªéËÄå‰ΩøÂæóËøô‰∫õËµÑÊ∫êÂèØ‰ª•Áî®‰∫éÊâßË°åÂÖ∂‰ªñÂ∑•‰Ωú„ÄÇ ÁÆ°ÁêÜÈòüÂàó‰ªªÂä°Â¶ÇÊûúÊñ∞ËØ∑Ê±ÇÁöÑÂà∞ËææÈÄüÁéáË∂ÖËøá‰∫ÜÁ∫øÁ®ãÊ±†ÁöÑÂ§ÑÁêÜÈÄüÁéáÔºåÈÇ£‰πàÊñ∞Âà∞Êù•ÁöÑËØ∑Ê±ÇÂ∞Ü‰ºöÂú®‰∏Ä‰∏™Áî±ExecutorÁÆ°ÁêÜÁöÑRunnableÈòüÂàó‰∏≠Á≠âÂæÖÔºåËÄå‰∏ç‰ºöÂÉèÁ∫øÁ®ãÈÇ£Ê†∑ÂéªÁ´û‰∫âCPUËµÑÊ∫ê„ÄÇ ThreadPoolExecutorÂÖÅËÆ∏Êèê‰æõ‰∏Ä‰∏™BlockingQueueÊù•‰øùÂ≠òÁ≠âÂæÖÊâßË°åÁöÑ‰ªªÂä°„ÄÇÂü∫Êú¨ÁöÑ‰ªªÂä°ÊéíÈòüÊñπÊ≥ïÊúâ3ÁßçÔºöÊó†ÁïåÈòüÂàó„ÄÅÊúâÁïåÈòüÂàóÂíåÂêåÊ≠•Áßª‰∫§„ÄÇ ‰∏ÄÁßçÊõ¥Á®≥Â¶•ÁöÑËµÑÊ∫êÁÆ°ÁêÜÁ≠ñÁï•Êó∂‰ΩøÁî®ÊúâÁïåÈòüÂàóÔºå‰æãÂ¶ÇArrayBlockingQueue„ÄÅÊúâÁïåLinkedBlockingQueue„ÄÅPriorityBlockingQueue„ÄÇÊúâÁïåÈòüÂàóÊúâÂä©‰∫éÈÅøÂÖçËµÑÊ∫êËÄóÂ∞ΩÁöÑÊÉÖÂÜµÂèëÁîüÔºå‰ΩÜÂèàÂ∏¶Êù•Êñ∞ÁöÑÈóÆÈ¢òÔºöÂΩìÈòüÂàóÊª°ÂêéÔºåÊñ∞ÁöÑ‰ªªÂä°ÊÄé‰πàÂäûÔºüÂú®‰ΩøÁî®ÊúâÁïåÁöÑÂ∑•‰ΩúÈòüÂàóÊó∂ÔºåÈòüÂàóÁöÑÂ§ßÂ∞èÂíåÁ∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞èÂøÖÈ°ª‰∏ÄËµ∑Ë∞ÉËäÇÔºåÂ¶ÇÊûúÁ∫øÁ®ãÊ±†ËæÉÂ∞èËÄåÈòüÂàóËæÉÂ§ßÔºåÈÇ£‰πàÊúâÂä©‰∫éÂáèÂ∞ëÂÜÖÂ≠ò‰ΩøÁî®ÈáèÔºåÈôç‰ΩéCPU‰ΩøÁî®ÁéáÔºåÂêåÊó∂ÂáèÂ∞ë‰∏ä‰∏ãÊñáÂàáÊç¢Ôºå‰ΩÜ‰ª£‰ª∑ÊòØÈôêÂà∂‰∫ÜÂêûÂêêÈáè„ÄÇ ÂØπ‰∫éÈùûÂ∏∏Â§ßÁöÑÊàñËÄÖÊó†ÁïåÁöÑÁ∫øÁ®ãÊ±†ÔºåÂèØ‰ª•‰ΩøÁî®SynchronousQueueÊù•ÈÅøÂÖç‰ªªÂä°ÊéíÈòüÔºåÂÆÉÂèØ‰ª•Áõ¥Êé•Â∞Ü‰ªªÂä°‰ªéÁîü‰∫ßËÄÖÁßª‰∫§ÁªôÂ∑•‰ΩúËÄÖÁ∫øÁ®ã„ÄÇSynchronousQueueÂπ∂‰∏çÊòØ‰∏Ä‰∏™ÁúüÊ≠£ÁöÑÈòüÂàóÔºåËÄåÊòØ‰∏ÄÁßçÂú®Á∫øÁ®ã‰πãÈó¥ËøõË°åÁßª‰∫§ÁöÑÊú∫Âà∂„ÄÇË¶ÅÂ∞Ü‰∏Ä‰∏™ÂÖÉÁ¥†ÊîæÂÖ•SynchronousQueue‰∏≠ÔºåÂøÖÈ°ªÁî±Âè¶‰∏Ä‰∏™Á∫øÁ®ãÊ≠£Âú®Á≠âÂæÖÊé•ÂèóËøô‰∏™ÂÖÉÁ¥†„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÁ∫øÁ®ãÊ≠£Âú®Á≠âÂæÖÔºåÂπ∂‰∏îÁ∫øÁ®ãÊ±†ÁöÑÂΩìÂâçÂ§ßÂ∞èÂ∞è‰∫éÊúÄÂ§ßÂÄºÔºåÈÇ£‰πàThreadPoolExecutor‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÊù•Â§ÑÁêÜËøô‰∏™‰ªªÂä°„ÄÇÂê¶ÂàôÔºåÊ†πÊçÆÈ•±ÂíåÁ≠ñÁï•ÔºåËøô‰∏™‰ªªÂä°Â∞ÜË¢´ÊãíÁªù„ÄÇÁõ¥Êé•‰ΩøÁî®Áßª‰∫§Â∞ÜÊõ¥È´òÊïàÔºåÂõ†‰∏∫‰ªªÂä°Áõ¥Êé•Áßª‰∫§ÁªôÊâßË°åÂÆÉÁöÑÁ∫øÁ®ãÔºåËÄå‰∏çÊòØÂÖàÊîæÂà∞ÈòüÂàóÔºåÁÑ∂ÂêéÂÜçÁî±Â∑•‰ΩúÁ∫øÁ®ã‰ªéÈòüÂàó‰∏≠ÊèêÂèñ‰ªªÂä°„ÄÇÂè™ÊúâÂΩìÁ∫øÁ®ãÊ±†ÊòØÊó†ÁïåÁöÑÊàñËÄÖÂèØ‰ª•ÊãíÁªù‰ªªÂä°Êó∂ÔºåSynchronousQueueÊâçÊúâÂÆûÈôÖ‰ª∑ÂÄº„ÄÇÂú®newCachedThreadPool‰∏≠Â∞±ÊòØ‰ΩøÁî®‰∫ÜSynchronousQueue„ÄÇ ÂΩì‰ΩøÁî®ÂÉèLinkedBlockingQueueÊàñArrayBlockingQueueËøôÊ†∑FIFOÈòüÂàóÊó∂Ôºå‰ªªÂä°ÁöÑÊâßË°åÈ°∫Â∫è‰∏éÂÆÉ‰ª¨ÁöÑÂà∞ËææÈ°∫Â∫èÁõ∏Âêå„ÄÇÂ¶ÇÊûúÊÉ≥Ëøõ‰∏ÄÊ≠•ÊéßÂà∂‰ªªÂä°ÊâßË°åÈ°∫Â∫èÔºåËøòÂèØ‰ª•‰ΩøÁî®PriorityBlockingQueueÔºåËøô‰∏™ÈòüÂàóÊ†πÊçÆ‰ºòÂÖàÁ∫ßÊù•ÂÆâÊéí‰ªªÂä°Ôºå‰ªªÂä°ÁöÑ‰ºòÂÖàÁ∫ßÊòØÈÄöËøáËá™ÁÑ∂È°∫Â∫èÊàñËÄÖComparatorÊù•ÂÆö‰πâÁöÑ„ÄÇ Âè™ÊúâÂΩì‰ªªÂä°Áõ∏‰∫íÁã¨Á´ãÊó∂Ôºå‰∏∫Á∫øÁ®ãÊ±†ÊàñÂ∑•‰ΩúÈòüÂàóËÆæÁΩÆÁïåÈôêÊâçÊòØÂêàÁêÜÁöÑ „ÄÇÂ¶ÇÊûú‰ªªÂä°‰πãÈó¥Êúâ‰æùËµñÊÄßÔºåÈÇ£‰πàÊúâÁïåÁöÑÁ∫øÁ®ãÊ±†ÊàñÈòüÂàó‰ºöÂØºËá¥Á∫øÁ®ãÈ••È•øÊ≠ªÈîÅÈóÆÈ¢òÔºåÊ≠§Êó∂Â∫îËØ•‰ΩøÁî®Êó†ÁïåÁöÑÁ∫øÁ®ãÊ±†ÔºåÂ¶ÇnewCachedThreadPool„ÄÇ ÂØπ‰∫éExecutorÔºånewCachedThreadPoolÂ∑•ÂéÇÊñπÊ≥ïÊòØ‰∏ÄÁßçÂæàÂ•ΩÁöÑÈªòËÆ§ÈÄâÊã©Ôºå‰ªñËÉΩÊèê‰æõÊØîÂõ∫ÂÆöÂ§ßÂ∞èÁöÑÁ∫øÁ®ãÊ±†Êõ¥Â•ΩÁöÑÊéíÈòüÊÄßËÉΩ„ÄÇÂΩìÈúÄË¶ÅÈôêÂà∂ÂΩìÂâç‰ªªÂä°ÁöÑÊï∞Èáè‰ª•Êª°Ë∂≥ËµÑÊ∫êÁÆ°ÁêÜÈúÄË¶ÅÊ±ÇÊó∂ÔºåÂèØ‰ª•ÈÄâÊã©Âõ∫ÂÆöÂ§ßÂ∞èÁöÑÁ∫øÁ®ãÊ±†„ÄÇ È•±ÂíåÁ≠ñÁï•ÂΩìÊúâÁïåÈòüÂàóË¢´Â°´Êª°ÂêéÔºåÈ•±ÂíåÁ≠ñÁï•ÂºÄÂßãÂèëÊå•‰ΩúÁî®ÔºåThreadPoolExecutorÁöÑÈ•±ÂíåÁ≠ñÁï•ÂèØ‰ª•ÈÄöËøáË∞ÉÁî®setRejectedExecutionHandlerÊù•‰øÆÊîπ„ÄÇ ÂΩìÂ∑•‰ΩúÈòüÂàóË¢´Â°´Êª°ÂêéÔºåÊ≤°ÊúâÈ¢ÑÂÆö‰πâÁöÑÈ•±ÂíåÁ≠ñÁï•Êù•ÈòªÂ°ûececute„ÄÇÈÄöËøá‰ΩøÁî®SemaphoreÔºà‰ø°Âè∑ÈáèÔºâÊù•ÈôêÂà∂‰ªªÂä°ÁöÑÂà∞ËææÁéáÂèØ‰ª•ÂÆûÁé∞È•±ÂíåÁ≠ñÁï•ÁöÑÂäüËÉΩ„ÄÇ Á∫øÁ®ãÂ∑•ÂéÇÊØèÂΩìÁ∫øÁ®ãÊ±†ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÊó∂ÔºåÈÉΩÊòØÈÄöËøáÁ∫øÁ®ãÂ∑•ÂéÇÊñπÊ≥ïÊù•ÂÆåÊàêÁöÑ„ÄÇÂú®TheadFactory‰∏≠Âè™ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÊñπÊ≥ïnewThreadÔºåÊØèÂΩìÁ∫øÁ®ãÊ±†ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÊó∂ÈÉΩ‰ºöË∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ï„ÄÇ Âú®Ë∞ÉÁî®ÊûÑÈÄ†ÂáΩÊï∞ÂêéÂÜçÂÆöÂà∂ThreadPoolExecutorÂú®Ë∞ÉÁî®ÂÆåThreadPoolExecutorÁöÑÊûÑÈÄ†ÂáΩÊï∞ÂêéÔºå‰ªçÁÑ∂ÂèØ‰ª•ÈÄöËøáËÆæÁΩÆÂáΩÊï∞Êù•‰øÆÊîπÂ§ßÂ§öÊï∞‰º†ÈÄíÁªô‰ªñÁöÑÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂèÇÊï∞ÔºåÂ¶ÇÊûúExecutorÊòØÈÄöËøáExecutors‰∏≠ÁöÑÊüê‰∏™Â∑•ÂéÇÊñπÊ≥ïÂàõÂª∫ÁöÑÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøáÂ∞ÜÁªìÊûúÁöÑÁ±ªÂûãËΩ¨Êç¢‰∏∫ThreadPoolExecutor‰ª•ËÆøÈóÆËÆæÁΩÆÂô®„ÄÇ Êâ©Â±ïThreadPoolExecutorThreadPoolExecutorÊòØÂèØÊâ©Â±ïÁöÑÔºåÂÆÉÊèê‰æõ‰∫ÜÂá†‰∏™ÂèØ‰ª•Âú®Â≠êÁ±ªÂåñ‰∏≠ÊîπÂÜôÁöÑÊñπÊ≥ïÔºöbeforeExcuteÔºåafterExecuteÂíåterminatedÔºåËøô‰∫õÊñπÊ≥ïÂèØ‰ª•Áî®‰∫éÊâ©Â±ïThreadPoolExecutorÁöÑË°å‰∏∫„ÄÇ Âú®ËøôÈáåÊñπÊ≥ï‰∏≠ÂèØ‰ª•Ê∑ªÂä†Êó•Âøó„ÄÅËÆ°Êó∂„ÄÅÁõëËßÜÊàñÁªüËÆ°‰ø°ÊÅØÊî∂ÈõÜÂäüËÉΩ„ÄÇ ÊÄªÁªìÂØπ‰∫éÂπ∂ÂèëÊâßË°åÁöÑ‰ªªÂä°ÔºåExecutorÊ°ÜÊû∂ÊòØ‰∏ÄÁßçÂº∫Â§ß‰∏îÁÅµÊ¥ªÁöÑÊ°ÜÊû∂„ÄÇÂÆÉÊèê‰æõ‰∫ÜÂ§ßÈáèÂèØË∞ÉËäÇÁöÑÈÄâÈ°π„ÄÇÊàë‰ª¨Ë¶ÅÊ†πÊçÆÂÆûÈôÖÊÉÖÂÜµÂØπËøô‰∫õÂèÇÊï∞ËøõË°åË∞ÉËäÇ„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_6_ÂèñÊ∂à‰∏éÂÖ≥Èó≠]]></title>
    <url>%2F2018%2F01%2F22%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-6-%E5%8F%96%E6%B6%88%E4%B8%8E%E5%85%B3%E9%97%AD%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰ªªÂä°ÂíåÁ∫øÁ®ãÁöÑÂêØÂä®ÂæàÂÆπÊòìÔºåÂú®Â§ßÂ§öÊï∞Êó∂ÂÄôÔºåÊàë‰ª¨ÈÉΩ‰ºöËÆ©‰ªñ‰ª¨ËøêË°åÁõ¥Âà∞ÁªìÊùüÔºåÁÑ∂ËÄåÔºåÊúâÊó∂ÂÄôÊàë‰ª¨Â∏åÊúõÊèêÂâçÁªìÊùü‰ªªÂä°ÊàñÁ∫øÁ®ãÔºå‰ΩÜÊòØJavaÊ≤°ÊúâÊèê‰æõ‰ªª‰ΩïÊú∫Âà∂Êù•ÂÆâÂÖ®Âú∞ÁªàÊ≠¢Á∫øÁ®ãÔºåÂè™ÊòØÊèê‰æõ‰∫Ü‰∏≠Êñ≠ÔºåËøôÊòØ‰∏ÄÁßçÂçè‰ΩúÊú∫Âà∂ÔºåËÉΩÂ§ü‰Ωø‰∏Ä‰∏™Á∫øÁ®ãÁªàÊ≠¢Âè¶‰∏Ä‰∏™Á∫øÁ®ãÁöÑÂ∑•‰Ωú„ÄÇÊâÄ‰ª•ÈúÄË¶ÅÊàë‰ª¨ËÉΩÂæàÂÆåÂñÑÂú∞Â§ÑÁêÜÂ§±Ë¥•„ÄÅÂÖ≥Èó≠ÂíåÂèñÊ∂àÁ≠âËøáÁ®ã„ÄÇ ‰ªªÂä°ÂèñÊ∂àÂ¶ÇÊûúÂ§ñÈÉ®‰ª£Á†ÅËÉΩÂú®Êüê‰∏™Êìç‰ΩúÊ≠£Â∏∏ÂÆåÊàê‰πãÂâçÂ∞ÜÂÖ∂ÁΩÆÂÖ•‚ÄúÂÆåÊàê‚ÄùÁä∂ÊÄÅÔºåÈÇ£‰πàËøô‰∏™Êìç‰ΩúÂ∞±ÂèØ‰ª•Áß∞‰∏∫ÂèØÂèñÊ∂àÁöÑ„ÄÇÂèñÊ∂àËøô‰∏™Êìç‰ΩúÁöÑÂéüÂõ†ÊúâÂæàÂ§öÔºö Áî®Êà∑ËØ∑Ê±ÇÂèñÊ∂à„ÄÇÁî®Êà∑ÁÇπÂáªÂõæÂΩ¢ÁïåÈù¢Á®ãÂ∫èÁöÑ‚ÄúÂèñÊ∂à‚ÄùÊåâÈíÆ„ÄÇ ÊúâÊó∂Èó¥ÈôêÂà∂ÁöÑÊìç‰Ωú„ÄÇÊüê‰∏™Á®ãÂ∫èÈúÄË¶ÅÂú®ÊúâÈôêÊó∂Èó¥ÂÜÖÂÆåÊàêÊêúÁ¥¢‰ªªÂä°ÔºåÂΩìË∂ÖÊó∂Êó∂ÔºåÈúÄË¶ÅÂèñÊ∂àÊêúÁ¥¢‰ªªÂä°„ÄÇ ÈîôËØØ„ÄÇÂΩì‰∏Ä‰∏™Áà¨Ëô´Á®ãÂ∫èÂèëÁîüÈîôËØØÊó∂ÔºåÈÇ£‰πàÊêúÁ¥¢‰ªªÂä°ÈÉΩ‰ºöÂèñÊ∂à„ÄÇ ÂÖ≥Èó≠„ÄÇÂú®Á´ãÂç≥ÂÖ≥Èó≠ÁöÑËøáÁ®ã‰∏≠ÔºåÂΩìÂâçÁöÑ‰ªªÂä°ÂàôÂèØËÉΩË¢´ÂèñÊ∂à„ÄÇ Âú®Java‰∏≠Ê≤°Êúâ‰∏ÄÁßçÂÆâÂÖ®ÁöÑÊä¢Âç†ÂºèÊñπÊ≥ïÊù•ÂÅúÊ≠¢Á∫øÁ®ãÔºåÂõ†Ê≠§‰πüÂ∞±Ê≤°ÊúâÂÆâÂÖ®ÁöÑÊä¢Âç†ÂºèÊñπÊ≥ïÊù•ÂÅúÊ≠¢‰ªªÂä°ÔºåÂè™Êúâ‰∏Ä‰∫õÂçè‰ΩúÂºèÁöÑÊú∫Âà∂Ôºå‰ΩøËØ∑Ê±ÇÂèñÊ∂àÁöÑ‰ªªÂä°Âíå‰ª£Á†ÅÈÉΩÈÅµÂæ™‰∏ÄÁßçÂçèÂïÜÂ•ΩÁöÑÂçèËÆÆ„ÄÇ ÂÖ∂‰∏≠‰∏ÄÁßçÂçè‰ΩúÊú∫Âà∂ËÉΩËÆæÁΩÆÊüê‰∏™‚ÄúÂ∑≤ËØ∑Ê±ÇÂèñÊ∂à‚ÄùÊ†áÂøóÔºåËÄå‰ªªÂä°Â∞ÜÂÆöÊúüÂú∞Êü•ÁúãËØ•Ê†áÂøó„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜËøô‰∏™Ê†áÂøóÔºåÈÇ£‰πà‰ªªÂä°Â∞ÜÊèêÂâçÁªìÊùü„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ã:12345678910111213141516public class Task implement Runnable &#123; // ‰∏∫‰∫Ü‰ΩøËøô‰∏™ËøáÁ®ãËÉΩÂèØÈù†ÂæóÂ∑•‰ΩúÔºåÊ†áÂøócancelledÂøÖÈ°ª‰∏∫volatileÁ±ªÂûã private volatile boolean cancelled; public void run() &#123; while(!cancelled) &#123; &#125; &#125; public void cancel() &#123; cancelled = true; &#125;&#125; ‰∏≠Êñ≠Â¶ÇÊûúÂú®‰∏äÈù¢‰ª£Á†Å‰∏≠whileÈáåÈù¢Âá∫Áé∞‰∫Ü‰∏Ä‰∏™ÈòªÂ°ûÁöÑÊñπÊ≥ïÔºåÈÇ£‰πàÂú®Ë∞ÉÁî®cancelÊñπÊ≥ïÊù•ËÆæÁΩÆcancelledÁä∂ÊÄÅÔºåÂΩìÂç¥Ê£ÄÊü•‰∏çÂà∞Ê†áÂøóÔºåÂõ†‰∏∫ÂÆÉÊó†Ê≥ï‰ªéÈòªÂ°ûÁöÑÊñπÊ≥ïÊÅ¢Â§çËøáÊù•„ÄÇÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö123456789101112131415161718192021222324public class BrokenPrimeProducer extends Thread &#123; private final BlockingQueue&lt;BigInteger&gt; queue; private volatile boolean cancelled = false; BrokenPrimeProducer(BlockingQueue&lt;BigInteger&gt; queue) &#123; this.queue = queue; &#125; public void run() &#123; try &#123; BigInteger p = BigInteger.ONE; while (!cancelled) &#123; // Â¶ÇÊûúÁîü‰∫ßËÄÖÁöÑÈÄüÂ∫¶Ë∂ÖËøáÊ∂àË¥πËÄÖÁöÑÂ§ÑÁêÜÈÄüÂ∫¶ÔºåÈòüÂàóÂ∞ÜË¢´Â°´Êª°ÔºåputÊñπÊ≥ï‰ºöË¢´ÈòªÂ°û queue.put(p = p.nextProbablePrime()); &#125; &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; public void cancel() &#123; cancelled = true; &#125;&#125; ÊâÄ‰ª•Êàë‰ª¨‰ºöÊÉ≥Âà∞‰∏Ä‰∫õÁ∫øÁ®ã‰∏≠Êñ≠ËøôÁßçÂçè‰ΩúÊú∫Âà∂ÔºåÂÆÉÂà©Áî®‰∫ÜÁâπÊÆäÁöÑÈòªÂ°ûÂ∫ìÁî®Êù•ÊòØÂÆûÁé∞‰ªªÂä°ÂèñÊ∂àÔºåÊ≥®ÊÑèÔºöÂ¶ÇÊûúÂú®ÂèñÊ∂à‰πãÂ§ñÁöÑÂÖ∂‰ªñÊìç‰Ωú‰∏≠‰ΩøÁî®‰∏≠Êñ≠ÔºåÈÉΩÊòØ‰∏çÂêàÈÄÇÁöÑÔºåÂπ∂‰∏îÂæàÈöæÊîØÊíëËµ∑Êõ¥Â§ßÁöÑÂ∫îÁî®„ÄÇ‰∏ãÈù¢ÊòØThreadÁöÑ‰∏≠Êñ≠ÊñπÊ≥ï:123456789101112// ÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâ‰∏Ä‰∏™booleanÁ±ªÂûãÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅÔºåÂΩì‰∏≠Êñ≠Á∫øÁ®ãÊó∂ÔºåËøô‰∏™Á∫øÁ®ãÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅÂ∞ÜË¢´ËÆæÁΩÆ‰∏∫truepublic class Thread &#123; // ‰∏≠Êñ≠ÁõÆÊ†áÁ∫øÁ®ã public void interrupt() &#123;&#125; // Ê∏ÖÈô§ÂΩìÂâçÁ∫øÁ®ãÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅ public static boolean interrupted() &#123;&#125; // ËøîÂõûÁõÆÊ†áÁ∫øÁ®ãÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅ public boolean isInterrupted() &#123;&#125;&#125; ÈòªÂ°ûÂ∫ìÁöÑÊñπÊ≥ïÔºåÂ¶ÇThread.sleepÂíåObject.waitÁ≠âÈÉΩ‰ºöÊ£ÄÊü•Á∫øÁ®ã‰ΩïÊó∂‰∏≠Êñ≠ÔºåÂπ∂‰∏îÂú®ÂèëÁîü‰∏≠Êñ≠Êó∂ËøîÂõû„ÄÇÂìçÂ∫î‰∏≠Êñ≠ÊâßË°åÁöÑÊìç‰ΩúÂåÖÊã¨ÔºöÊ∏ÖÈô§‰∏≠Êñ≠Áä∂ÊÄÅÔºåÊäõÂá∫InterruptedException„ÄÇJVM‰∏ç‰øùËØÅÈòªÂ°ûÊñπÊ≥ïÊ£ÄÊµãÂà∞‰∏≠Êñ≠ÁöÑÈÄüÂ∫¶Ôºå‰ΩÜÈÄöÂ∏∏ÂìçÂ∫îÈÄüÂ∫¶ËøòÊòØÈùûÂ∏∏Âø´ÁöÑ„ÄÇ Ê≥®ÊÑèÔºöË∞ÉÁî®interruptÂπ∂‰∏çÊÑèÂë≥ÁùÄÁ´ãÂç≥ÂÅúÊ≠¢ÁõÆÊ†áÁ∫øÁ®ãÊ≠£Âú®ËøõË°åÁöÑÂ∑•‰ΩúÔºåËÄåÂè™ÊòØ‰º†ÈÄí‰∫ÜËØ∑Ê±Ç‰∏≠Êñ≠ÁöÑÊ∂àÊÅØ„ÄÇÁÑ∂ÂêéÁî±Á∫øÁ®ãÂú®‰∏ã‰∏Ä‰∏™ÂêàÈÄÇÁöÑÊó∂Âàª‰∏≠Êñ≠Ëá™Â∑±ÔºàËøô‰∫õÊó∂Âàª‰πüË¢´Áß∞‰∏∫ÂèñÊ∂àÁÇπÔºâ„ÄÇÊúâ‰∫õÊñπÊ≥ïÔºå‰æãÂ¶Çwait„ÄÅsleepÂíåjoinÁ≠âÔºåÂ∞Ü‰∏•Ê†ºÂ§ÑÁêÜËøôÁßçËØ∑Ê±ÇÔºåÂΩì‰ªñ‰ª¨Êî∂Âà∞‰∏≠Êñ≠ËØ∑Ê±ÇÊàñËÄÖÂú®ÂºÄÂßãÊâßË°åÊó∂ÂèëÁé∞Êüê‰∏™Â∑≤Ë¢´ËÆæÁΩÆÂ•ΩÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅÔºåÂ∞ÜÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏„ÄÇÁ§∫‰æãÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223public class BrokenPrimeProducer extends Thread &#123; private final BlockingQueue&lt;BigInteger&gt; queue; BrokenPrimeProducer(BlockingQueue&lt;BigInteger&gt; queue) &#123; this.queue = queue; &#125; public void run() &#123; try &#123; BigInteger p = BigInteger.ONE; // Âú®ÈòªÂ°ûÁöÑputÊñπÊ≥ïË∞ÉÁî®‰∏≠‰ª•ÂèäÂú®Âæ™ÁéØÂºÄÂßãÂ§ÑÊü•ËØ¢‰∏≠Êñ≠Áä∂ÊÄÅÊó∂ÔºåÈÉΩ‰ºöÊ£ÄÊü•‰∏≠Êñ≠Ê†áÂøó while (!Thread.currentThread().isInterrupted()) &#123; queue.put(p = p.nextProbablePrime()); &#125; &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; public void cancel() &#123; interrupt(); &#125;&#125; ‰∏≠Êñ≠Á≠ñÁï•ÊúÄÂêàÁêÜÁöÑ‰∏≠Êñ≠Á≠ñÁï•ÊòØÊüêÁßçÂΩ¢ÂºèÁöÑÁ∫øÁ®ãÁ∫ßÂèñÊ∂àÊìç‰ΩúÊàñËÄÖÊúçÂä°Á∫ßÂèñÊ∂àÊìç‰ΩúÔºöÂ∞ΩÂø´ÈÄÄÂá∫ÔºåÂú®ÂøÖË¶ÅÊó∂Ê∏ÖÁêÜÔºåÈÄöÁü•Êüê‰∏™ÊâÄÊúâËÄÖËØ•Á∫øÁ®ãÂ∑≤ÁªèÈÄÄÂá∫„ÄÇÊ≠§Â§ñËøòÂèØ‰ª•Âª∫Á´ãÂÖ∂‰ªñÁöÑ‰∏≠Êñ≠Á≠ñÁï•Ôºå‰æãÂ¶ÇÊöÇÂÅúÊúçÂä°ÊàñÈáçÊñ∞ÂºÄÂßãÊúçÂä°„ÄÇ ‰ªªÂä°‰∏çÂ∫îËØ•ÂØπÊâßË°åËØ•‰ªªÂä°ÁöÑÁ∫øÁ®ãÁöÑ‰∏≠Êñ≠Á≠ñÁï•ÂÅöÂá∫ÂÅáËÆæ„ÄÇÊó†ËÆ∫‰ªªÂä°Êää‰∏≠Êñ≠ËßÜ‰∏∫ÂèñÊ∂àÔºåËøòÊòØÂÖ∂‰ªñÊüê‰∏™‰∏≠Êñ≠ÂìçÂ∫îÊìç‰ΩúÔºåÈÉΩÂ∫îËØ•Â∞èÂøÉÁöÑ‰øùÂ≠òÁ∫øÁ®ãÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅÔºåÂ¶ÇÊûúÈô§‰∫ÜÂ∞ÜInterruptException‰º†ÈÄíÁªôË∞ÉÁî®ËÄÖÂ§ñËøòÈúÄË¶ÅÊâßË°åÂÖ∂‰ªñÊìç‰ΩúÔºåÈÇ£‰πàÂ∫îËØ•Âú®ÊçïËé∑InterruptException‰πãÂêéÊÅ¢Â§ç‰∏≠Êñ≠Áä∂ÊÄÅ„ÄÇ Á∫øÁ®ãÂè™ËÉΩÁî±ÂÖ∂ÊâÄÊúâËÄÖ‰∏≠Êñ≠ÔºåÊâÄÊúâËÄÖÂèØ‰ª•Â∞ÜÁ∫øÁ®ãÁöÑ‰∏≠Êñ≠Á≠ñÁï•‰ø°ÊÅØÂ∞ÅË£ÖÂà∞Êüê‰∏™ÂêàÈÄÇÁöÑÂèñÊ∂àÊú∫Âà∂‰∏≠Ôºå‰æãÂ¶ÇÂÖ≥Èó≠ÊñπÊ≥ï‰∏≠„ÄÇ ÂìçÂ∫î‰∏≠Êñ≠Âú®Ë∞ÉÁî®ÂèØ‰∏≠Êñ≠ÁöÑÈòªÂ°ûÂáΩÊï∞Êó∂ÔºåÊúâ‰∏§ÁßçÂÆûÁî®Á≠ñÁï•ÂèØÁî®‰∫éÂ§ÑÁêÜInterruptExceptionÔºö ‰º†ÈÄíÂºÇÂ∏∏Ôºö‰ªéËÄå‰Ωø‰Ω†ÁöÑÊñπÊ≥ï‰πüÁß∞‰∏∫‰∫ÜÂèØ‰∏≠Êñ≠ÁöÑÈòªÂ°ûÊñπÊ≥ï„ÄÇ ÊÅ¢Â§ç‰∏≠Êñ≠Áä∂ÊÄÅÔºö‰ªéËÄå‰ΩøË∞ÉÁî®Ê†à‰∏≠ÁöÑ‰∏äÂ±Ç‰ª£Á†ÅËÉΩÂ§üÂØπÂÖ∂ËøõË°åÂ§ÑÁêÜ„ÄÇ Âè™ÊúâÊòØÂÆûÁé∞‰∫ÜÁ∫øÁ®ã‰∏≠Êñ≠Á≠ñÁï•ÁöÑ‰ª£Á†ÅÊâçÂèØ‰ª•Â±èËîΩ‰∏≠Êñ≠ËØ∑Ê±Ç„ÄÇÂú®Â∏∏ËßÑÁöÑ‰ªªÂä°ÂíåÂ∫ì‰ª£Á†Å‰∏≠ÈÉΩ‰∏çÂ∫îËØ•Â±èËîΩ‰∏≠Êñ≠ËØ∑Ê±Ç„ÄÇ ÈÄöËøáFutureÊù•ÂÆûÁé∞ÂèñÊ∂à‰ΩøÁî®ExecuorService.submitÊñπÊ≥ïÂ∞ÜËøîÂõû‰∏Ä‰∏™FutureÊù•ÊèèËø∞‰ªªÂä°ÔºåFutureÊúâ‰∏Ä‰∏™cancelÊñπÊ≥ï„ÄÇcancleÊñπÊ≥ïÊúâ‰∏Ä‰∏™ÂèÇÊï∞mayInterruptIfRunning,Â¶ÇÊûúËÆæÁΩÆ‰∏∫trueÔºåÈÇ£‰πàÂ∞±Ë°®Á§∫ÂèñÊ∂àÊìç‰ΩúÊòØÂê¶ÊàêÂäüÔºàËøôÂè™ÊòØË°®Á§∫‰ªªÂä°ÊòØÂê¶ËÉΩÂ§üÊé•Âèó‰∏≠Êñ≠ÔºåËÄå‰∏çÊòØË°®Á§∫‰ªªÂä°ÊòØÂê¶ËÉΩÂ§üÊ£ÄÊµãÂπ∂Â§ÑÁêÜ‰∏≠Êñ≠Ôºâ„ÄÇÂ¶ÇÊûú‰∏∫falseÔºåË°®Á§∫Â¶ÇÊûú‰ªªÂä°ËøòÊ≤°ÊúâËøêË°åÔºåÈÇ£‰πàÂ∞±‰∏çË¶ÅËøêË°åÂÆÉ„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819public class TimedRun &#123; private static final ExecutorService taskExec = Executors.newCachedThreadPool(); public static void timedRun(Runnable r,long timeout, TimeUnit unit) throws InterruptedException &#123; Future&lt;?&gt; task = taskExec.submit(r); try &#123; task.get(timeout, unit); &#125; catch (TimeoutException e) &#123; // Êé•‰∏ãÊù•‰ªªÂä°Â∞ÜË¢´ÂèñÊ∂à &#125; catch (ExecutionException e) &#123; // Â¶ÇÊûúÂú®‰ªªÂä°ÊâßË°åÂíå‰∏≠ÊäõÂá∫‰∫ÜÂºÇÂ∏∏ÔºåÈÇ£‰πàÈáçÊñ∞ÊäõÂá∫ËØ•ÂºÇÂ∏∏ throw launderThrowable(e.getCause()); &#125; finally &#123; //Â¶ÇÊûú‰ªªÂä°Â∑≤ÁªèÁªìÊùüÔºåÈÇ£‰πàÊâßË°åÂèñÊ∂àÊìç‰Ωú‰πü‰∏ç‰ºöÂ∏¶Êù•‰ªª‰ΩïÂΩ±Âìç task.cancel(true); // Â¶ÇÊûú‰ªªÂä°Ê≠£Âú®ËøêË°åÔºåÈÇ£‰πàÂ∞ÜË¢´‰∏≠Êñ≠ &#125; &#125; &#125; Â§ÑÁêÜ‰∏çÂèØ‰∏≠Êñ≠ÁöÑÈòªÂ°ûÂú®javaÂ∫ì‰∏≠ÔºåÂæàÂ§öÈòªÂ°ûÁöÑÊñπÊ≥ïÈÉΩÊòØÈÄöËøáÊèêÂâçËøîÂõûÊàñËÄÖÊòØÊäõÂá∫InterruptedExceptionÊù•ÂìçÂ∫î‰∏≠Êñ≠ËØ∑Ê±ÇÁöÑÔºåÁÑ∂ËÄåÂπ∂ÈùûÊâÄÊúâÁöÑÂèØÈòªÂ°ûÊñπÊ≥ïÊàñËÄÖÈòªÂ°ûÊú∫Âà∂ÈÉΩËÉΩÂìçÂ∫î‰∏≠Êñ≠„ÄÇ ÊØîÂ¶Ç‰∏Ä‰∏™Á∫øÁ®ãÁî±‰∫éÊâßË°åÂêåÊ≠•ÁöÑSocket IO ÊàñËÄÖÁ≠âÂæÖËé∑ÂæóÂÜÖÁΩÆÈîÅËÄåÈòªÂ°ûÔºåÈÇ£‰πà‰∏≠Êñ≠ËØ∑Ê±ÇÂè™ËÉΩËÆæÁΩÆÁ∫øÁ®ãÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅÔºåÈô§Ê≠§‰πãÂ§ñÊ≤°ÊúâÂÖ∂‰ªñ‰ªª‰Ωï‰ΩúÁî®ÔºåÂØπ‰∫éÈÇ£‰∫õÊâßË°å‰∏çÂèØ‰∏≠Êñ≠Êìç‰ΩúËÄåË¢´ÈòªÂ°ûÁöÑÁ∫øÁ®ãÔºåÂèØ‰ª•‰ΩøÁî®Á±ª‰ºº‰∫é‰∏≠Êñ≠ÁöÑÊâãÊÆµÊù•ÂÅúÊ≠¢Ëøô‰∫õÁ∫øÁ®ãÔºå‰ΩÜËøôË¶ÅÊ±ÇÊàë‰ª¨ÂøÖÈ°ªÁü•ÈÅìÁ∫øÁ®ãÈòªÂ°ûÁöÑÂéüÂõ†ÔºåÁÑ∂ÂêéÈÄöËøáÈáçÂÜôÈùûÊ†áÂáÜÁöÑÂèñÊ∂àÊìç‰Ωú„ÄÇ ÂÅúÊ≠¢Âü∫Á°ÄÁ∫øÁ®ãÁöÑÊúçÂä°Â∫îÁî®Á®ãÂ∫èÈÄöÂ∏∏‰ºöÂàõÂª∫Â§ö‰∏™Á∫øÁ®ãÁöÑÊúçÂä°Ôºå‰æãÂ¶ÇÁ∫øÁ®ãÊ±†„ÄÇÊ≠£Á°ÆÂú∞Â∞ÅË£ÖÂéüÂàôÊòØÔºöÈô§ÈùûÊã•ÊúâÊüê‰∏™Á∫øÁ®ãÔºåÂê¶Âàô‰∏çËÉΩÂØπËØ•Á∫øÁ®ãËøõË°åÊìçÊéßÔºåÁ∫øÁ®ãÊ±†ÊòØÂÖ∂Â∑•‰ΩúÁ∫øÁ®ãÁöÑÊâÄÊúâËÄÖÔºåÂ¶ÇÊûúË¶Å‰∏≠Êñ≠Ëøô‰∫õÁ∫øÁ®ãÔºåÈÇ£‰πàÂ∫îËØ•‰ΩøÁî®Á∫øÁ®ãÊ±†„ÄÇÁ∫øÁ®ãÁöÑÊâÄÊúâÊùÉÊòØ‰∏çÂèØ‰ª•‰º†ÈÄíÁöÑÔºöÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•Êã•ÊúâÊúçÂä°ÔºåÊúçÂä°ÂèØ‰ª•Êã•ÊúâÂ∑•‰ΩúËÄÖÁ∫øÁ®ãÔºå‰ΩÜÂ∫îÁî®Á®ãÂ∫èÂπ∂‰∏çËÉΩÊã•ÊúâÂ∑•‰ΩúËÄÖÁ∫øÁ®ãÔºåÂõ†Ê≠§Â∫îÁî®Á®ãÂ∫è‰∏çËÉΩÁõ¥Êé•ÂÅúÊ≠¢Â∑•‰ΩúËÄÖÁ∫øÁ®ã„ÄÇÁõ∏ÂèçÔºåÊúçÂä°Â∫îÁî®Êèê‰æõÁîüÂëΩÂë®ÊúüÊñπÊ≥ïÊù•ÂÖ≥Èó≠ÂÆÉËá™Â∑±‰ª•ÂèäÂÆÉÊâÄÊã•ÊúâÁöÑÁ∫øÁ®ãÔºåÂú®ExecutorService‰∏≠Êèê‰æõ‰∫ÜshutdownÂíåshutdownNowÊñπÊ≥ï„ÄÇ ‰æãÂ≠êÔºöÊó•ÂøóÊúçÂä° ÊñπÂºèÔºöÈÄöËøáË∞ÉÁî®logÊñπÊ≥ïÂ∞ÜÊó•ÂøóÊ∂àÊÅØÊîæÂÖ•Êüê‰∏™ÈòüÂàó‰∏≠ÔºåÂπ∂Áî±ÂÖ∂‰ªñÁ∫øÁ®ãÊù•Â§ÑÁêÜÔºõ ÂÅúÊ≠¢ËØ•ÊúçÂä°ÁöÑÊñπÂºèÔºöÈÄöËøáÂéüÂ≠êÊñπÂºèÊù•Ê£ÄÊü•ÂÖ≥Èó≠ËØ∑Ê±ÇÔºåÂπ∂‰∏îÊúâÊù°‰ª∂Âú∞ÈÄíÂ¢û‰∏Ä‰∏™ËÆ°Êï∞Âô®Êù•‰øùÂ≠òÊèê‰∫§‰ø°ÊÅØÁöÑÊùÉÂà©Ôºõ ÂÖ≥Èó≠ExecutorService ServiceÂ∞ÅË£ÖÂú®Êüê‰∏™Êõ¥È´òÁ∫ßÂà´ÁöÑÊúçÂä°‰∏≠ÔºåÂπ∂‰∏îËØ•ÊúçÂä°ËÉΩÊèê‰æõÂÖ∂Ëá™Â∑±ÁöÑÁîüÂëΩÂë®ÊúüÊñπÊ≥ï„ÄÇ ÊØí‰∏∏ÂØπË±° ÊØí‰∏∏ÊòØÊåá‰∏Ä‰∏™ÊîæÂú®ÈòüÂàó‰∏äÁöÑÂØπË±°ÔºåÂÖ∂Âê´‰πâÊòØÔºöÂΩìÂæóÂà∞Ëøô‰∏™ÂØπË±°Êó∂ÔºåÁ´ãÂç≥ÂÅúÊ≠¢Ôºõ ÈôêÂà∂ÔºöÂè™ÊúâÂú®Áîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÁöÑÊï∞ÈáèÈÉΩÂ∑≤Áü•ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊâçÂèØ‰ª•‰ΩøÁî®‚ÄúÊØí‰∏∏‚ÄùÂØπË±°Ôºõ ÂΩìÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÊï∞ÁõÆËæÉÂ§ßÊó∂ÔºåËøôÁßçÊñπÊ≥ïÂèòÂæóÈöæ‰ª•‰ΩøÁî®„ÄÇ ‰æãÂ≠êÔºöÂè™ÊâßË°å‰∏ÄÊ¨°ÁöÑÊúçÂä° Âú∫ÊôØÔºöÊüê‰∏™ÊñπÊ≥ïÈúÄË¶ÅÂ§ÑÁêÜ‰∏ÄÊâπ‰ªªÂä°ÔºåÂπ∂‰∏îÂΩìÊâÄÊúâ‰ªªÂä°ÈÉΩÂ§ÑÁêÜÂÆåÂêéÊâçËøîÂõûÔºåÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™ÁßÅÊúâÁöÑExecutorÊù•ÁÆÄÂåñÊúçÂä°ÁöÑÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜÔºåÂÖ∂‰∏≠ËØ•ExecutorÁöÑÁîüÂëΩÂë®ÊúüÊòØÁî±Ëøô‰∏™ÊñπÊ≥ïÊéßÂà∂ÁöÑ shutdownNowÁöÑÂ±ÄÈôêÊÄß ÂΩìÈÄöËøáshutdownNowÊù•Âº∫Ë°åÂÖ≥Èó≠ExecutorServiceÊó∂ÔºåÂ∞ùËØïÂèñÊ∂àÊ≠£Âú®ÊâßË°åÁöÑ‰ªªÂä°ÔºåÂπ∂ËøîÂõûÊâÄÊúâÂ∑≤ÁªèÊèê‰∫§‰ΩÜÊú™ÂºÄÂßãÁöÑ‰ªªÂä°„ÄÇ‰ΩÜÊó†Ê≥ïÂú®ÂÖ≥Èó≠ËøáÁ®ã‰∏≠Áü•ÈÅìÊ≠£Âú®ÊâßË°åÁöÑ‰ªªÂä°ÁöÑÁä∂ÊÄÅ„ÄÇÈô§Èùû‰ªªÂä°Êú¨Ë∫´‰ºöÊâßË°åÊüêÁßçÊ£ÄÊü•„ÄÇ Â§ÑÁêÜÈùûÊ≠£Â∏∏ÁöÑÁ∫øÁ®ãÁªàÊ≠¢Âú®Âπ∂ÂèëÁ®ãÂ∫è‰∏≠,ÊòØÊó†Ê≥ïÂÅöÂà∞‰∏ÄÁõ¥ËßÇÂØüÊéßÂà∂Âè∞ÁöÑ, ‰æãÂ¶Ç:‰Ω†ÁöÑwebÂ∫îÁî®ÈÉ®ÁΩ≤Âà∞ÊúçÂä°Âô®‰∏ä,ÈöæÈÅì‰Ω†Ë¶ÅÊ¥æ‰∏™‰∫∫‰∏ÄÁõ¥ÂéªËßÇÂØüÊéßÂà∂Âè∞? ‰ªª‰Ωï‰ª£Á†ÅÈÉΩÂèØËÉΩÊäõÂá∫‰∏Ä‰∏™RuntimeExecption,ÊØèÂΩìË∞ÉÁî®Âè¶‰∏Ä‰∏™ÊñπÊ≥ïÊó∂,ÈÉΩË¶ÅÂØπÂÆÉÁöÑË°å‰∏∫‰øùÊåÅÊÄÄÁñë,‰∏çË¶ÅÁõ≤ÁõÆÂú∞ËÆ§‰∏∫ÂÆÉ‰∏ÄÂÆö‰ºöÊäõÂá∫Âú®ÊñπÊ≥ïÂéüÂûã‰∏≠Â£∞ÊòéÁöÑÊüê‰∏™Â∑≤Ê£ÄÊü•ÂºÇÂ∏∏„ÄÇÂØπË∞ÉÁî®ÁöÑ‰ª£Á†ÅË∂ä‰∏çÁÜüÊÇâ,Â∞±Ë∂äÂ∫îËØ•ÂØπÂÖ∂‰ª£Á†ÅË°å‰∏∫‰øùÊåÅÊÄÄÁñë„ÄÇ ÂÖ∏ÂûãÁöÑÁ∫øÁ®ãÊ±†Â∑•‰ΩúËÄÖÁ∫øÁ®ãÁªìÊûÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112public void run()&#123; Throwable throw = null; try&#123; while(!isInterrupted)&#123; runTask(getTaskFromWorkQueue()); &#125; &#125; catch (Throwable e)&#123; thrown = e; &#125; finally&#123; threadExited(this,thrown); &#125;&#125; Â¶ÇÊûú‰ªªÂä°ÊäõÂá∫‰∫Ü‰∏Ä‰∏™Êú™Ê£ÄÊü•ÁöÑÂºÇÂ∏∏,ÈÇ£‰πàÂÆÉÂ∞Ü‰ΩøÁ∫øÁ®ãÁªàÁªì,‰ΩÜ‰ºöÈ¶ñÂÖàÈÄöÁü•Ê°ÜÊû∂ËØ•Á∫øÁ®ãÂ∑≤ÁªèÁªàÁªì.ÁÑ∂Âêé,Ê°ÜÊû∂ÂèØËÉΩ‰ºöÁî®Êñ∞ÁöÑÁ∫øÁ®ãÊù•‰ª£ÊõøËøô‰∏™Â∑•‰ΩúÁ∫øÁ®ã„ÄÇ Â∞ÜÂºÇÂ∏∏ÂÜôÂÖ•Êó•ÂøóÁöÑUncaughtExecptionHandler‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456public class Thread.UncaughtExecptionHandler&#123; public void uncaughtException(Thread t,Throwable e)&#123; Logger logger = Logger.getAnonymousLogger(); Logger.log(Level.SEVERE,"Thread terminated with exception: "+ t.getName(),e); &#125;&#125; Âú®ËøêË°åÊó∂Èó¥ËæÉÈïøÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠,ÈÄöÂ∏∏‰ºö‰∏∫ÊâÄÊúâÁ∫øÁ®ãÁöÑÊú™ÊçïËé∑ÂºÇÂ∏∏ÊåáÂÆöÂêå‰∏Ä‰∏™ÂºÇÂ∏∏Â§ÑÁêÜÂô®,Âπ∂‰∏îËØ•ÂºÇÂ∏∏Â§ÑÁêÜÂô®Ëá≥Â∞ë‰ºöÂ∞ÜÂºÇÂ∏∏‰ø°ÊÅØËÆ∞ÂΩïÂà∞Êó•Âøó‰∏≠„ÄÇ JVMÂÖ≥Èó≠JVMÊó¢ÂèØ‰ª•Ê≠£Â∏∏ÂÖ≥Èó≠Ôºå‰πüÂèØ‰ª•Âº∫Ë°åÂÖ≥Èó≠„ÄÇÊ≠£Â∏∏ÂÖ≥Èó≠ÁöÑËß¶ÂèëÊñπÂºèÊúâÂ§öÁßçÔºåÂåÖÊã¨ÔºöÂΩìÊúÄÂêé‰∏Ä‰∏™‚ÄúÊ≠£Â∏∏ÔºàÈùûÂÆàÊä§Ôºâ‚ÄùÁ∫øÁ®ãÁªìÊùüÊó∂ÔºåÊàñËÄÖË∞ÉÁî®‰∫ÜSystem.exitÊó∂ÔºåÊàñËÄÖÈÄöËøáÂÖ∂‰ªñÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑÊñπÊ≥ïÂÖ≥Èó≠Êó∂Ôºà‰æãÂ¶ÇÂèëÈÄÅ‰∫ÜSIGINT‰ø°Âè∑ÊàñCtrl-CÔºâ„ÄÇËôΩÁÑ∂ÂèØ‰ª•ÈÄöËøáËøô‰∫õÊ†áÂáÜÊñπÊ≥ïÊù•Ê≠£Â∏∏ÂÖ≥Èó≠JVMÔºå‰ΩÜ‰πüÂèØ‰ª•ÈÄöËøáË∞ÉÁî®Runtime.haltÊàñËÄÖÂú®Êìç‰ΩúÁ≥ªÁªü‰∏≠‚ÄúÊùÄÊ≠ª‚ÄùJVMËøõÁ®ãÊù•Âº∫Ë°åÂÖ≥Èó≠JVM„ÄÇ ÂÖ≥Èó≠Èí©Â≠êÂú®Ê≠£Â∏∏ÂÖ≥Èó≠‰∏≠ÔºåJVMÈ¶ñÂÖàË∞ÉÁî®ÊâÄÊúâÂ∑≤Ê≥®ÂÜåÁöÑÂÖ≥Èó≠Èí©Â≠êÔºåÂÖ≥Èó≠Èí©Â≠êÊòØÊåáÈÄöËøáRuntime.addShutdownHookÊ≥®ÂÜåÁöÑ‰ΩÜÂ∞öÊú™ÂºÄÂßãÁöÑÁ∫øÁ®ã„ÄÇJVM‰∏çËÉΩ‰øùËØÅÂÖ≥Èó≠Èí©Â≠êÁöÑË∞ÉÁî®È°∫Â∫è„ÄÇÂú®ÂÖ≥Èó≠Â∫îÁî®Á®ãÂ∫èÁ∫øÁ®ãÊó∂,Â¶ÇÊûúÊúâÁ∫øÁ®ã‰ªçÁÑ∂Âú®ËøêË°å,ÈÇ£‰πàËøô‰∫õÁ∫øÁ®ãÊé•‰∏ãÊù•Â∞Ü‰∏éÂÖ≥Èó≠ËøõÁ®ãÂπ∂ÂèëÊâßË°å. ÂÖ≥Èó≠Èí©Â≠êÂ∫îËØ•ÊòØÁ∫øÁ®ãÂÆâÂÖ®:ÂÆÉ‰ª¨Âú®ËÆøÈóÆÂÖ±‰∫´Êï∞ÊçÆÊó∂,ÂøÖÈ°ª‰ΩøÁî®ÂêåÊ≠•Êú∫Âà∂,Â∞èÂøÉÈÅøÂÖçÊ≠ªÈîÅ„ÄÇ ÂÖ≥Èó≠Èí©Â≠êÂèØ‰ª•Áî®‰∫éÂÆûÁé∞ÊúçÂä°ÊàñÂ∫îÁî®Á®ãÂ∫èÁöÑÊ∏ÖÁêÜÂ∑•‰ΩúÔºå‰æãÂ¶ÇÂà†Èô§‰∏¥Êó∂Êñá‰ª∂ÔºåÊàñËÄÖÊ∏ÖÈô§Êó†Ê≥ïÁî±Êìç‰ΩúÁ≥ªÁªüËá™Âä®Ê∏ÖÈô§ÁöÑËµÑÊ∫ê„ÄÇ ÂÆàÊä§Á∫øÁ®ãÊúâÊó∂ÂÄôÔºå‰Ω†Â∏åÊúõÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÊù•ÊâßË°å‰∏Ä‰∫õËæÖÂä©Â∑•‰ΩúÔºå‰ΩÜÂèà‰∏çÂ∏åÊúõËøô‰∏™Á∫øÁ®ãÈòªÁ¢ç‰∫ÜJVMÁöÑÂÖ≥Èó≠ÔºåËøôÁßçÊÉÖÂÜµÂ∞±ÈúÄË¶Å‰ΩøÁî®ÂÆàÊä§Á∫øÁ®ã„ÄÇ Á∫øÁ®ãÂàÜ‰∏∫‰∏§Áßç: ÊôÆÈÄöÁ∫øÁ®ãÂíåÂÆàÊä§Á∫øÁ®ã,Âú®JVMÂêØÂä®Êó∂ÂêØÂä®ÂàõÂª∫ÁöÑÊâÄÊúâÁ∫øÁ®ã‰∏≠,Èô§‰∫Ü‰∏ªÁ∫øÁ®ã‰ª•Â§ñÔºåÂÖ∂‰ªñÁöÑÁ∫øÁ®ãÈÉΩÊòØÂÆàÊä§Á∫øÁ®ã„ÄÇ‰æãÂ¶ÇÂûÉÂúæÂõûÊî∂Âô®ÔºåÂΩìÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÊó∂ÔºåÂÆÉÂ∞ÜÁªßÊâøÂàõÂª∫ÂÆÉÁöÑÁ∫øÁ®ãÁöÑÁ±ªÂûã„ÄÇ Êàë‰ª¨Â∫îËØ•Â∞ΩÂèØËÉΩÂ∞ëÂú∞‰ΩøÁî®ÂÆàÊä§Á∫øÁ®ã‚ÄìÂæàÂ∞ëÊúâÊìç‰ΩúËÉΩÂ§üÂú®‰∏çËøõË°åÊ∏ÖÁêÜÁöÑÊÉÖÂÜµ‰∏ãË¢´ÂÆâÂÖ®Âú∞ÊäõÂºÉ,ÁâπÂà´ÊòØÂú®ÊâßË°åI/OÊìç‰ΩúÁöÑ‰ªªÂä°,ÈÇ£‰πàÂ∞ÜÊòØ‰∏ÄÁßçÈùûÂ∏∏Âç±Èô©ÁöÑË°å‰∏∫; Âπ∂‰∏îÂÆàÊä§Á∫øÁ®ã‰∏çËÉΩÁî®Êù•Êõø‰ª£Â∫îÁî®Á®ãÂ∫èÁÆ°ÁêÜÁ®ãÂ∫è‰∏≠ÂêÑ‰∏™ÊúçÂä°ÁöÑÁîüÂëΩÂë®Êúü ÁªàÁªìÂô®ÂΩì‰∏çÂÜçÈúÄË¶ÅÂÜÖÂ≠òËµÑÊ∫êÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÂûÉÂúæÂõûÊî∂Âô®Êù•ÂõûÊî∂ÂÆÉ‰ª¨Ôºå‰ΩÜÂØπ‰∫éÂÖ∂‰ªñ‰∏Ä‰∫õËµÑÊ∫êÔºå‰æãÂ¶ÇÊñá‰ª∂Âè•ÊüÑÊàñÂ•óÊé•Â≠óÂè•ÊüÑÔºåÂΩì‰∏çÂÜçÈúÄË¶ÅÂÆÉ‰ª¨Êó∂,ÂøÖÈ°ªÊòæÂºè‰∫§ËøòÁªôÊìç‰ΩúÁ≥ªÁªü„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩÔºåÂûÉÂúæÂõûÊî∂Âô®ÂØπÈÇ£‰∫õÂÆö‰πâ‰∫ÜfinalizeÊñπÊ≥ïÁöÑÂØπË±°‰ºöËøõË°åÁâπÊÆäÂ§ÑÁêÜ: Âú®ÂûÉÂúæÂõûÊî∂ÊúüÈáäÊîæÂÆÉ‰ª¨ÂêéÔºåË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑfinalizeÊñπÊ≥ïÔºå‰ªéËÄå‰øùËØÅ‰∏Ä‰∫õÊåÅ‰πÖÂåñÁöÑËµÑÊ∫êË¢´ÈáäÊîæ„ÄÇ Áî±‰∫éÁªàÁªìÂô®ÂèØ‰ª•Âú®Êüê‰∏™JVMÁÆ°ÁêÜÁöÑÁ∫øÁ®ã‰∏≠ËøêË°åÔºåÂõ†Ê≠§ÁªàÁªìÂô®ËÆøÈóÆ‰ªª‰ΩïÁä∂ÊÄÅÈÉΩÂèØËÉΩË¢´Â§ö‰∏™Á∫øÁ®ãËÆøÈóÆÔºåËøôÊ†∑Â∞±ÂøÖÈ°ªÂØπÂÖ∂ËÆøÈóÆÊìç‰ΩúËøõË°åÂêåÊ≠•„ÄÇÁªàÁªìÂô®Âπ∂‰∏çËÉΩ‰øùËØÅÂÆÉ‰ª¨Â∞ÜÂú®‰ΩïÊó∂ÁîöËá≥ÊòØÂê¶‰ºöËøêË°åÔºåÂπ∂‰∏îÂ§çÊùÇÁöÑÁªàÁªìÂô®Â∏¶Êù•ÊÄßËÉΩ‰∏äÁöÑÂ∑®Â§ßÂºÄÈîÄ„ÄÇÁºñÂÜôÊ≠£Á°ÆÁöÑÁªàÁªìÂô®ÊòØÈùûÂ∏∏Âõ∞ÈöæÁöÑ„ÄÇÂú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåÈÄöËøá‰ΩøÁî®finally‰ª£Á†ÅÂùóÂíåÊòæÂºèÁöÑcloseÊñπÊ≥ïËÉΩÂ§üÊØîÁªàÁªìÂô®Êõ¥Â•ΩÁöÑÁÆ°ÁêÜËµÑÊ∫ê„ÄÇ ÈÅøÂÖç‰ΩøÁî®ÁªàÁªìÂô® ÊÄªÁªìÂú®‰ªªÂä°„ÄÅÁ∫øÁ®ã„ÄÅÊúçÂä°‰ª•ÂèäÂ∫îÁî®Á®ãÂ∫èÁ≠âÊ®°Âùó‰∏≠ÁöÑÁîüÂëΩÂë®ÊúüÁªìÊùüÈóÆÈ¢òÔºåÂèØËÉΩ‰ºöÂ¢ûÂä†‰ªñ‰ª¨Âú®ËÆæËÆ°ÂíåÂÆûÁé∞Êó∂ÁöÑÂ§çÊùÇÊÄß„ÄÇJavaÂπ∂Ê≤°ÊúâÊèê‰æõÊüêÁßçÊä¢Âç†ÂºèÁöÑÊú∫Âà∂Êù•ÂèñÊ∂àÊìç‰ΩúÊàñËÄÖÊÄªÁªìÁ∫øÁ®ã„ÄÇÁõ∏ÂèçÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁßçÂçè‰ΩúÂºèÁöÑ‰∏≠Êñ≠Êú∫Âà∂Êù•ÂÆûÁé∞ÂèñÊ∂àÊìç‰ΩúÔºå‰ΩÜËøôË¶Å‰æùËµñ‰∫éÂ¶Ç‰ΩïÊûÑÂª∫ÂèñÊ∂àÊìç‰ΩúÁöÑÂçèËÆÆÔºå‰ª•ÂèäËÉΩÂê¶ÂßãÁªàÈÅµÂæ™Ëøô‰∫õÂçèËÆÆ„ÄÇÈÄöËøá‰ΩøÁî®FutureTaskÂíåExecutorÊ°ÜÊû∂ÔºåÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÊûÑÂª∫ÂèØÂèñÊ∂àÁöÑ‰ªªÂä°ÂíåÊúçÂä°„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_5_‰ªªÂä°ÊâßË°å]]></title>
    <url>%2F2018%2F01%2F15%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-5-%E4%BB%BB%E5%8A%A1%E6%89%A7%E8%A1%8C%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®Â§ßÂ§öÊï∞Âπ∂ÂèëÂ∫îÁî®Á®ãÂ∫èÈÉΩÊòØÂõ¥Áªï‚Äú‰ªªÂä°ÊâßË°å‚ÄùÊù•ÊûÑÈÄ†ÁöÑÔºö‰ªªÂä°ÈÄöÂ∏∏ÊòØ‰∏Ä‰∫õÊäΩË±°‰∏îÁ¶ªÊï£ÁöÑÂ∑•‰ΩúÂçïÂÖÉ„ÄÇÈÄöËøáÊääÂ∫îÁî®Á®ãÂ∫èÁöÑÂ∑•‰ΩúÂàÜËß£Âà∞Â§ö‰∏™‰ªªÂä°‰∏≠ÔºåÂèØ‰ª•ÁÆÄÂåñÁ®ãÂ∫èÁöÑÁªÑÁªáÁªìÊûÑÔºåÊèê‰æõ‰∏ÄÁßçËá™ÁÑ∂ÁöÑ‰∫ãÂä°ËæπÁïåÊù•‰ºòÂåñÈîôËØØÊÅ¢Â§çËøáÁ®ãÔºå‰ª•ÂèäÊèê‰æõ‰∏ÄÁßçËá™ÁÑ∂ÁöÑÂπ∂Ë°åÂ∑•‰ΩúÁªìÊûÑÊù•ÊèêÂçáÂπ∂ÂèëÊÄß„ÄÇ Âú®Á∫øÁ®ã‰∏≠ÊâßË°å‰ªªÂä°Ë¶Å‰ΩøÊúçÂä°Âô®Â∫îÁî®Á®ãÂ∫èÂêåÊó∂Ë°®Áé∞Âá∫ËâØÂ•ΩÁöÑÂêûÂêêÈáèÂíåÂø´ÈÄüÁöÑÂìçÂ∫îÊÄßÔºåÂ∫îËØ•ÈÄâÊã©Ê∏ÖÊô∞ÁöÑ‰ªªÂä°ËæπÁïå‰ª•ÂèäÊòéÁ°ÆÁöÑ‰ªªÂä°ÊâßË°åÁ≠ñÁï•ÔºàËßÅÂêéÈù¢Ôºâ„ÄÇ ‰∏≤Ë°åÂú∞ÊâßË°å‰ªªÂä°ÊúÄÁÆÄÂçïÁöÑË∞ÉÂ∫¶‰ªªÂä°Á≠ñÁï•Â∞±ÊòØÂú®Âçï‰∏™Á∫øÁ®ã‰∏≠‰∏≤Ë°åÂú∞ÊâßË°åÂêÑÈ°π‰ªªÂä°„ÄÇ‰ΩÜ‰∏≤Ë°åÂ§ÑÁêÜÊú∫Âà∂ÈÄöÂ∏∏ÈÉΩÊó†Ê≥ïÊèê‰æõÈ´òÂêûÂêêÁéáÊàñÂø´ÈÄüÂìçÂ∫îÊÄß„ÄÇ ÊòæÁ§∫Âú∞‰∏∫‰ªªÂä°ÂàõÂª∫Á∫øÁ®ãÈÄöËøá‰∏∫ÊØè‰∏™ËØ∑Ê±ÇÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÊù•Êèê‰æõÊúçÂä°Ôºå‰ªéËÄåÂÆûÁé∞Êõ¥È´òÁöÑÂìçÂ∫îÊÄß„ÄÇ‰ΩÜ‰∏∫ÊØè‰∏™‰ªªÂä°ÂàÜÈÖç‰∏Ä‰∏™Á∫øÁ®ã‰πüÂ≠òÂú®‰∏Ä‰∫õÁº∫Èô∑„ÄÇ Êó†ÈôêÂàõÂª∫Á∫øÁ®ãÁöÑ‰∏çË∂≥ Á∫øÁ®ãÁîüÂëΩÂë®ÊúüÁöÑÂºÄÈîÄÈùûÂ∏∏È´ò„ÄÇÁ∫øÁ®ãÁöÑÂàõÂª∫ËøáÁ®ãÈúÄË¶ÅÊó∂Èó¥ÔºåËøôÂ∞±Âª∂Ëøü‰∫ÜËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÔºåÂπ∂‰∏îÈúÄË¶ÅJVMÂíåÊìç‰ΩúÁ≥ªÁªüÊèê‰æõ‰∏Ä‰∫õËæÖÂä©Êìç‰Ωú„ÄÇ ËµÑÊ∫êÊ∂àËÄó„ÄÇÂ¶ÇÊûúÂèØËøêË°åÁ∫øÁ®ãÊï∞ÈáèÂ§ö‰∫éÂèØÁî®Â§ÑÁêÜÂô®ÁöÑÊï∞ÈáèÔºåÈÇ£‰πàÊúâ‰∫õÁ∫øÁ®ã‰ºöÈó≤ÁΩÆÂ∞±‰ºöÂç†Áî®ËÆ∏Â§öÂÜÖÂ≠òÔºåÂ¶ÇÊûúÂ§ßÈáèÁ∫øÁ®ãÂú®Á´û‰∫âCPUËøò‰ºö‰∫ßÁîüÂÖ∂‰ªñÁöÑÊÄßËÉΩÊ∂àËÄó„ÄÇ Á®≥ÂÆöÊÄß„ÄÇÂú®ÂèØÂàõÂª∫Á∫øÁ®ãÁöÑÊï∞Èáè‰∏äÊúâ‰∏Ä‰∏™ÈòàÂÄºÔºåËøô‰∏™ÈòàÂÄºÈöèÁùÄÂπ≥Âè∞‰∏çÂêåËÄå‰∏çÂêåÔºåÂπ∂‰∏îÂèóÂ§ö‰∏™Âõ†Á¥†Âà∂Á∫¶ÔºåÂåÖÊã¨JVMÁöÑÂêØÂä®ÂèÇÊï∞„ÄÅThreadÊûÑÈÄ†ÂáΩÊï∞‰∏≠ËØ∑Ê±ÇÁöÑÊ†àÂ§ßÂ∞èÔºå‰ª•ÂèäÂ∫ïÂ±ÇÊìç‰ΩúÁ≥ªÁªüÂØπÁ∫øÁ®ãÁöÑÈôêÂà∂Á≠â„ÄÇÂ¶ÇÊûúË∂ÖËøáËøô‰∏™ÈôêÂà∂ÔºåÂ∞±ÂæàÂèØËÉΩÊúâOOMÂºÇÂ∏∏„ÄÇ ExecutorÊ°ÜÊû∂Á∫øÁ®ãÊ±†ÁÆÄÂåñ‰∫ÜÁ∫øÁ®ãÁöÑÁÆ°ÁêÜÂ∑•‰ΩúÔºåÂπ∂‰∏îjava.util.concurrentÊèê‰æõ‰∫Ü‰∏ÄÁßçÁÅµÊ¥ªÁöÑÁ∫øÁ®ãÊ±†‰Ωú‰∏∫ExecutorÊ°ÜÊû∂ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇÂú®javaÁ±ªÂ∫ì‰∏≠Ôºå‰ªªÂä°ÊâßË°åÁöÑ‰∏çÊòØThreadÔºåËÄåÊòØExecutor„ÄÇÂÖ∂‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123public interface Executor &#123; void execute(Runnable command);&#125; ExecutorÊ°ÜÊû∂Êèê‰æõ‰∫Ü‰∏ÄÁßçÊ†áÂáÜÁöÑÊñπÊ≥ïÂ∞Ü‰ªªÂä°ÁöÑÊèê‰∫§ËøáÁ®ã‰∏éÊâßË°åËøáÁ®ãËß£ËÄ¶ÂºÄÊù•ÔºåÂπ∂Áî®RunnableÊù•Ë°®Á§∫‰ªªÂä°„ÄÇExecutorÁöÑÂÆûÁé∞ËøòÊèê‰æõ‰∫ÜÂØπÁîüÂëΩÂë®ÊúüÁöÑÊîØÊåÅÔºå‰ª•ÂèäÁªüËÆ°‰ø°ÊÅØÊî∂ÈõÜ/Â∫îÁî®Á®ãÂ∫èÁÆ°ÁêÜÊú∫Âà∂ÂíåÊÄßËÉΩÁõëËßÜÁ≠âÊú∫Âà∂„ÄÇExecutorÂü∫‰∫éÁîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖÊ®°ÂºèÔºåÊèê‰∫§‰ªªÂä°ÁöÑÊìç‰ΩúÁõ∏ÂΩì‰∫éÁîü‰∫ßËÄÖÔºåÊâßË°å‰ªªÂä°ÁöÑÁ∫øÁ®ãÁõ∏ÂΩì‰∫éÊ∂àË¥πËÄÖ„ÄÇ Á§∫‰æãÔºöÂü∫‰∫éExecutorÁöÑWebÊúçÂä°Âô®ÂèØ‰ª•ÁúãÂà∞‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö1234567891011121314151617class TaskExecutorWebServer &#123; private static final int NTHREAD = 100; private static final Executor exe = Executors.newFixedThreadPool(NTHREAD); public static void main(String[] args) &#123; ServerSocket socket = new ServerSocket(80); while(true) &#123; final Socket connection = socket.accept(); Runnable task = new Runnable() &#123; public void run() &#123; handleRequest(connection); &#125; &#125;; exec.execute(task); &#125; &#125;&#125; Âú®TaskExecutionWebServer‰∏≠ÔºåÈÄöËøá‰ΩøÁî®ExecutorÔºåÂ∞ÜËØ∑Ê±ÇÂ§ÑÁêÜ‰ªªÂä°ÁöÑÊèê‰∫§‰∏é‰ªªÂä°ÁöÑÂÆûÈôÖÊâßË°åËß£ËÄ¶ÂºÄÊù•ÔºåÂπ∂‰∏îÂè™ÈúÄË¶ÅÈááÁî®Âè¶‰∏ÄÁßç‰∏çÂêåÁöÑExecutorÂÆûÁé∞ÔºåÂ∞±ÂèØ‰ª•ÊîπÂèòÊúçÂä°Âô®ÁöÑË°å‰∏∫„ÄÇ Â∞ÜTaskExecutorWebServerÊîπ‰∏∫ÊòæÁ§∫Âú∞‰∏∫‰ªªÂä°ÂàõÂª∫Á∫øÁ®ãÔºö123456// ‰∏∫ÊØè‰∏™ËØ∑Ê±ÇÈÉΩÂàõÂª∫Êñ∞Á∫øÁ®ãÁöÑExecutorpublic class ThreadPerTaskExecutor implements Executor &#123; public void execute(Runnable r) &#123; new Thread(r).start(); &#125;&#125; Â∞ÜTaskExecutorWebServerÊîπ‰∏∫‰∏≤Ë°åÂú∞ÊâßË°å‰ªªÂä°Ôºö123456// ‰ª•ÂêåÊ≠•ÊñπÂºèÊâßË°åÊâÄÊúâ‰ªªÂä°ÁöÑExecutorpublic class WithinThreadExecutor implements Executor &#123; public void execute(Runnable r) &#123; r.run(); &#125;&#125; ÊâßË°åÁ≠ñÁï•ÂêÑÁßçÊâßË°åÁ≠ñÁï•ÈÉΩÊòØ‰∏ÄÁßçËµÑÊ∫êÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÊúÄ‰Ω≥Á≠ñÁï•ÂèñÂÜ≥‰∫éÂèØÁî®ÁöÑËÆ°ÁÆóËµÑÊ∫ê‰ª•ÂèäÂØπÊúçÂä°Ë¥®ÈáèÁöÑÈúÄÊ±Ç„ÄÇÈÄöËøáÈôêÂà∂Âπ∂Âèë‰ªªÂä°ÁöÑÊï∞ÈáèÔºåÂèØ‰ª•Á°Æ‰øùÂ∫îÁî®Á®ãÂ∫è‰∏ç‰ºöÁî±‰∫éËµÑÊ∫êËÄóÂ∞ΩËÄåÂ§±Ë¥•ÔºåÊàñËÄÖÁî±‰∫éÂú®Á®ÄÁº∫ËµÑÊ∫êÂèëÁîüÁ´û‰∫âËÄå‰∏•ÈáçÂΩ±ÂìçÊÄßËÉΩ„ÄÇÈÄöËøáÂ∞Ü‰ªªÂä°ÁöÑÊèê‰∫§‰∫é‰ªªÂä°ÁöÑÊâßË°åÂàÜÁ¶ªÂºÄÊù•ÔºåÊúâÂä©‰∫éÂú®ÈÉ®ÁΩ≤Èò∂ÊÆµÈÄâÊã©‰∏éÂèØÁî®Á°¨‰ª∂ËµÑÊ∫êÊúÄÂåπÈÖçÁöÑÊâßË°åÁ≠ñÁï•„ÄÇ ÊØèÂΩìÁúãÂà∞‰∏ãÈù¢ÂΩ¢ÂºèÁöÑ‰ª£Á†ÅÊó∂ÔºåÂπ∂‰∏îÂ∏åÊúõËé∑Âæó‰∏ÄÁßçÊõ¥ÁÅµÊ¥ªÁöÑÊâßË°åÁ≠ñÁï•Êó∂ÔºåËÄÉËôë‰ΩøÁî®ExecutorÊù•‰ª£ÊõøThreadÔºö1new Thread(runnable).start(); Á∫øÁ®ãÊ±†Á∫øÁ®ãÊ±†ÊòØÊåáÁÆ°ÁêÜ‰∏ÄÁªÑÁõ∏ÂêåÂ∑•‰ΩúÁ∫øÁ®ãÁöÑËµÑÊ∫êÊ±†„ÄÇÁ∫øÁ®ãÊ±†ÊòØ‰∏éÂ∑•‰ΩúÈòüÂàóÂØÜÂàáÁõ∏ÂÖ≥ÁöÑÔºåÂÖ∂‰∏≠Âú®Â∑•‰ΩúÈòüÂàó‰∏≠‰øùÂ≠ò‰∫ÜÊâÄÊúâÁ≠âÂæÖÊâßË°åÁöÑ‰ªªÂä°„ÄÇÂ∑•‰ΩúÁ∫øÁ®ãÁöÑ‰ªªÂä°ÂæàÁÆÄÂçïÔºö ‰ªéÂ∑•‰ΩúÈòüÂàó‰∏≠Ëé∑Âèñ‰∏Ä‰∏™‰ªªÂä°ÔºåÊâßË°å‰ªªÂä°ÔºåÊâßË°åÂÆåÂêéËøîÂõûÁ∫øÁ®ãÊ±†Âπ∂Á≠âÂæÖ‰∏ã‰∏Ä‰∏™‰ªªÂä°„ÄÇ ‚ÄúÂú®Á∫øÁ®ãÊ±†‰∏≠ÊâßË°å‰ªªÂä°‚ÄùÊØî‚Äú‰∏∫ÊØè‰∏™‰ªªÂä°ÂàÜÈÖç‰∏Ä‰∏™Á∫øÁ®ã‚Äù‰ºòÂäøÊõ¥Â§ö„ÄÇÈÄöËøáÈáçÁî®Áé∞ÊúâÁöÑÁ∫øÁ®ãËÄå‰∏çÊòØÂàõÂª∫Êñ∞Á∫øÁ®ãÔºåÂèØ‰ª•ÂáèÂ∞ëÂú®Á∫øÁ®ãÂàõÂª∫‰∏éÈîÄÊØÅÁöÑÂºÄÈîÄ„ÄÇÂè¶‰∏Ä‰∏™Â•ΩÂ§ÑÊòØËØ∑Ê±ÇÂà∞Êù•Êó∂Ôºå‰∏ç‰ºöÂÜçÂõ†‰∏∫Ë¶ÅÁ≠âÂæÖÁ∫øÁ®ãÂàõÂª∫ËÄåÂª∂ËøüÔºå‰πüÂ∞±ÊèêÈ´ò‰∫ÜÂìçÂ∫îÊÄß„ÄÇÈÄöËøáÈÄÇÂΩìË∞ÉÊï¥Á∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞èÔºåÂèØ‰ª•ÂàõÂª∫Ë∂≥Â§üÂ§öÁöÑÁ∫øÁ®ã‰ª•‰æøÂ§ÑÁêÜÂô®‰øùÊåÅÂøôÁ¢åÁä∂ÊÄÅÔºåÂêåÊó∂ËøòÂèØ‰ª•Èò≤Ê≠¢ËøáÂ§öÁ∫øÁ®ã‰∫íÁõ∏Á´û‰∫âËµÑÊ∫êËÄå‰ΩøÂ∫îÁî®Á®ãÂ∫èËÄóÂ∞ΩÂÜÖÂ≠ò„ÄÇ Á±ªÂ∫ìÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÁÅµÊ¥ªÁöÑÁ∫øÁ®ãÊ±†‰ª•Âèä‰∏Ä‰∫õÊúâÁî®ÁöÑÈªòËÆ§ÈÖçÁΩÆ„ÄÇÂèØ‰ª•ÈÄöËøáË∞ÉÁî®Executors‰∏≠ÁöÑÈùôÊÄÅÂ∑•ÂéÇÊñπÊ≥ï‰πã‰∏ÄÊù•ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÊ±†Ôºö newFixedThreadPoolÔºöÂàõÂª∫‰∏Ä‰∏™Âõ∫ÂÆöÈïøÂ∫¶ÁöÑÁ∫øÁ®ãÊ±†ÔºåÊØèÂΩìÊèê‰∫§‰∏Ä‰∏™‰ªªÂä°Êó∂Â∞±ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÔºåÁõ¥Âà∞ËææÂà∞Á∫øÁ®ãÊ±†ÁöÑÊúÄÂ§ßÊï∞ÈáèÔºåËøôÊó∂Á∫øÁ®ãÊ±†ÁöÑËßÑÊ®°Â∞Ü‰∏çÂÜçÂèòÂåñ„ÄÇÔºàÂ¶ÇÊûúÊüê‰∏™Á∫øÁ®ãÁî±‰∫éÂèëÁîü‰∫ÜÊú™È¢ÑÊúüÁöÑExceptionËÄåÁªìÊùüÔºåÈÇ£‰πàÁ∫øÁ®ãÊ±†‰ºöË°•ÂÖÖ‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÔºâ„ÄÇ newCachedThreadPoolÔºöÂàõÂª∫‰∏Ä‰∏™ÂèØÁºìÂ≠òÁöÑÁ∫øÁ®ãÊ±†ÔºåÂ¶ÇÊûúÁ∫øÁ®ãÊ±†ÁöÑÂΩìÂâçËßÑÊ®°Ë∂ÖËøá‰∫ÜÂ§ÑÁêÜÈúÄÊ±ÇÊó∂ÔºåÈÇ£‰πàÂ∞ÜÂõûÊî∂Á©∫Èó≤ÁöÑÁ∫øÁ®ãÔºåËÄåÂΩìÈúÄÊ±ÇÂ¢ûÂä†Êó∂ÔºåÂàôÂèØ‰ª•Ê∑ªÂä†Êñ∞ÁöÑÁ∫øÁ®ãÔºåÁ∫øÁ®ãÊ±†ÁöÑËßÑÊ®°‰∏çÂ≠òÂú®‰ªª‰ΩïÈôêÂà∂„ÄÇ newSingleThreadExecutorÔºöÊòØ‰∏Ä‰∏™ÂçïÁ∫øÁ®ãÁöÑExecutorÔºåÂÆÉÂàõÂª∫Âçï‰∏™Â∑•‰ΩúÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°ÔºåÂ¶ÇÊûúËøô‰∏™Á∫øÁ®ãÂºÇÂ∏∏ÁªìÊùüÔºå‰ºöÂàõÂª∫Âè¶‰∏Ä‰∏™Á∫øÁ®ãÊù•Êõø‰ª£„ÄÇÂÆÉËÉΩÁ°Æ‰øù‰æùÁÖß‰ªªÂä°Âú®ÈòüÂàó‰∏≠ÁöÑÈ°∫Â∫èÊù•‰∏≤Ë°åÊâßË°å„ÄÇ newScheduledThreadPoolÔºöÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âõ∫ÂÆöÈïøÂ∫¶ÁöÑÁ∫øÁ®ãÊ±†ÔºåËÄå‰∏î‰ª•Âª∂ËøüÊàñÂÆöÊó∂ÁöÑÊñπÂºèÊâßË°å‰ªªÂä°ÔºåÁ±ª‰ºº‰∫éTimer„ÄÇ ‰ªé‚Äú‰∏∫ÊØè‰∏™‰ªªÂä°ÂàÜÈÖç‰∏Ä‰∏™Á∫øÁ®ã‚ÄùÁ≠ñÁï•Âèò‰∏∫Âü∫‰∫éÁ∫øÁ®ãÊ±†ÁöÑÁ≠ñÁï•ÔºåÂ∞ÜÂØπÂ∫îÁî®Á®ãÂ∫èÁöÑÁ®≥ÂÆöÊÄß‰∫ßÁîüÈáçÂ§ßÂΩ±ÂìçÔºöWebÊúçÂä°Âô®‰∏ç‰ºöÂÜçÂú®È´òË¥üËΩΩÊÉÖÂÜµ‰∏ãÂ§±Ë¥•„ÄÇÁî±‰∫éÊúçÂä°Âô®‰∏ç‰ºöÂàõÂª∫Êï∞ÂçÉ‰∏™Á∫øÁ®ãÊù•‰∫âÂ§∫ÊúâÈôêÁöÑCPUÂíåÂÜÖÂ≠òËµÑÊ∫êÔºåÂõ†Ê≠§ÊúçÂä°Âô®ÁöÑÊÄßËÉΩÂ∞ÜÂπ≥ÁºìÂú∞Èôç‰Ωé„ÄÇÈÄöËøá‰ΩøÁî®ExecutorÔºåÂèØ‰ª•ÂÆûÁé∞ÂêÑÁßçË∞É‰ºò/ÁÆ°ÁêÜ/ÁõëËßÜ/ËÆ∞ÂΩïÊó•Âøó/ÈîôËØØÊä•ÂëäÂíåÂÖ∂‰ªñÂäüËÉΩÔºåÂ¶ÇÊûú‰∏ç‰ΩøÁî®‰ªªÂä°ÊâßË°åÊ°ÜÊû∂ÔºåÈÇ£‰πàË¶ÅÂ¢ûÂä†Ëøô‰∫õÂäüËÉΩÊòØÈùûÂ∏∏Âõ∞ÈöæÁöÑ„ÄÇ ExecutorÁöÑÁîüÂëΩÂë®ÊúüExecutorÁöÑÂÆûÁé∞ÈÄöÂ∏∏‰ºöÂàõÂª∫Á∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°Ôºå‰ΩÜJVMÂè™ÊúâÂú®ÊâÄÊúâÈùûÂÆàÊä§Á∫øÁ®ãÂÖ®ÈÉ®ÁªàÊ≠¢‰πãÂêéÊâç‰ºöÈÄÄÂá∫ÔºåÂ¶ÇÊûúÊó†Ê≥ïÊ≠£Á°ÆÂÖ≥Èó≠ExecutorÔºåÈÇ£‰πàJVMÂ∞ÜÊó†Ê≥ïÁªìÊùü„ÄÇ Áî±‰∫éExecutor‰ª•ÂºÇÊ≠•ÊñπÂºèÊù•ÊâßË°å‰ªªÂä°ÔºåÂõ†Ê≠§Âú®‰ªª‰ΩïÊó∂ÂàªÔºå‰πãÂâçÊèê‰∫§‰ªªÂä°ÁöÑÁä∂ÊÄÅ‰∏çÊòØÁ´ãÂç≥ÂèØËßÅÁöÑ„ÄÇÊúâ‰∫õ‰ªªÂä°ÂèØËÉΩÂ∑≤ÁªèÂÆåÊàêÔºåÊúâ‰∫õÂèØËÉΩÊ≠£Âú®ËøêË°åÔºåËÄåÂÖ∂‰ªñÁöÑ‰ªªÂä°ÂèØËÉΩÂú®ÈòüÂàó‰∏≠Á≠âÂæÖÊâßË°å„ÄÇÂΩìÂÖ≥Èó≠Â∫îÁî®Á®ãÂ∫èÊó∂ÔºåÂèØËÉΩÈááÁî®Âπ≥ÁºìÁöÑÊñπÂºèÔºàÂÆåÊàêÊâÄÊúâÂ∑≤ÁªèÂêØÂä®ÁöÑ‰ªªÂä°ÔºåÂπ∂‰∏î‰∏çÂÜçÊé•Âèó‰ªª‰ΩïÊñ∞ÁöÑ‰ªªÂä°ÔºâÔºå‰πüÂèØËÉΩÈááÁî®Á≤óÊö¥ÊñπÂºèÔºàÁõ¥Êé•ÊâÄÊúâÈÉΩÂÖ≥ÊéâÔºâ„ÄÇExecutorËßÜ‰∏∫Â∫îÁî®Á®ãÂ∫èÊèê‰æõÊúçÂä°ÁöÑÔºåÂõ†Ê≠§ÂÆÉ‰ª¨‰πüÊòØÂèØÂÖ≥Èó≠ÁöÑÔºåÂπ∂ÊääÂú®ÂÖ≥Èó≠Êìç‰Ωú‰∏≠ÂèóÂΩ±ÂìçÁöÑ‰ªªÂä°ÁöÑÁä∂ÊÄÅËøîÂõûÁªôÂ∫îÁî®Á®ãÂ∫è„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥ÊâßË°å‰ªªÂä°ÁöÑÁîüÂëΩÂë®ÊúüÈóÆÈ¢òÔºåExecutorServiceÊé•Âè£Êâ©Â±ï‰∫ÜExecutorÔºåÊ∑ªÂä†‰∫Ü‰∏Ä‰∫õÁî®‰∫éÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜÁöÑÊñπÊ≥ïÔºö12345678public interface ExecutorService extends Executor &#123; void shutdown(); List&lt;Runnable&gt; shutDownNow(); boolean isShutdown(); boolean isTerminated(); boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException; // ......ÂÖ∂‰ªñÁî®‰∫é‰ªªÂä°Êèê‰∫§ÁöÑ‰æøÂà©ÊñπÊ≥ï&#125; ExectuorServiceÁöÑÁîüÂëΩÂë®ÊúüÊúâ‰∏âÁßçÁä∂ÊÄÅÔºöËøêË°å„ÄÅÂÖ≥Èó≠ÂíåÂ∑≤ÁªàÊ≠¢„ÄÇExecutorServiceÂú®ÂàõÂª∫Êó∂Â§Ñ‰∫éËøêË°åÁä∂ÊÄÅÔºåshutdownÊñπÊ≥ïÊâßË°å‰ºòÈõÖÂú∞ÂÖ≥Èó≠:‰∏çÂÜçÊé•ÂèóÊñ∞ÁöÑ‰ªªÂä°ÔºåÂêåÊó∂Á≠âÂæÖÂ∑≤ÁªèÊèê‰∫§ÁöÑ‰ªªÂä°ÊâßË°åÂÆåÊàê‚ÄìÂåÖÊã¨ÈÇ£‰∫õËøòÊú™ÂºÄÂßãÊâßË°åÁöÑ‰ªªÂä°„ÄÇshutdownNowÊñπÊ≥ïÊâßË°åÁ≤óÊö¥ÁöÑÂÖ≥Èó≠ÔºöÂÆÉÂ∞ÜÂ∞ùËØïÂèñÊ∂àÊâÄÊúâËøêË°å‰∏≠ÁöÑ‰ªªÂä°ÔºåÂπ∂‰∏î‰∏çÂÜçÂêØÂä®ÈòüÂàó‰∏≠Â∞öÊú™ÂºÄÂßãÊâßË°åÁöÑ‰ªªÂä°„ÄÇ ‰æãÂ¶ÇÊîØÊåÅÂÖ≥Èó≠Êìç‰ΩúÁöÑWebÊúçÂä°Âô®Ôºö12345678910111213141516171819202122232425262728293031323334class LifecycleWebServer &#123; private final ExecutorService exec = ...; public void start() throws IOException &#123; ServerSocket socket = new ServerSocket(80); while(!exec.isShutdown()) &#123; try &#123; final Socket conn = socket.accept(); exec.execute(new Runnable() &#123; public void run() &#123; handleRequest(conn); &#125; &#125; ); &#125; catch (RejectedExecutonException e) &#123; if (!exec.isShutdown()) &#123; log("task submission rejected", e); &#125; &#125; &#125; &#125; public void stop() &#123; exec.shutdown(); &#125; void handleRequest(Socket connection) &#123; Request req = readRequest(connection); if (isShutdownRequest(req)) &#123; stop(); &#125; else &#123; dispatchRequest(req); &#125; &#125;&#125; Âª∂Ëøü‰ªªÂä°‰∏éÂë®Êúü‰ªªÂä°TimerÁ±ªË¥üË¥£ÁÆ°ÁêÜÂª∂Ëøü‰ªªÂä°‰ª•ÂèäÂë®Êúü‰ªªÂä°ÔºåÁÑ∂ËÄåÔºåTimerÂ≠òÂú®‰∏Ä‰∫õÁº∫Èô∑ÔºåÂõ†Ê≠§Â∫îËØ•ËÄÉËôë‰ΩøÁî®ScheduledThreadPoolExecutorÊù•‰ª£ÊõøÂÆÉÔºåÂèØ‰ª•ÈÄöËøáScheduledThreadPoolExecutorÁöÑÊûÑÈÄ†ÂáΩÊï∞ÊàñExecutors.newScheduledThreadPoolÂ∑•ÂéÇÊñπÊ≥ïÊù•ÂàõÂª∫ËØ•Á±ªÁöÑÂØπË±°„ÄÇÂÆÉÂæàÂ∞ëË¢´‰ΩøÁî®Ôºå‰∏ªË¶ÅÁöÑÁº∫Èô∑ÊúâÔºö TimeÂú®ÊâßË°åÊâÄÊúâÂÆöÊó∂‰ªªÂä°Êó∂Âè™‰ºöÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÔºå‰ºöÁ†¥ÂùèÂÖ∂‰ªñTimeTaskÁöÑÂÆöÊó∂Á≤æÁ°ÆÊÄß„ÄÇ Â¶ÇÊûúTimeTaskÊäõÂá∫‰∏Ä‰∏™Êú™Ê£ÄÊü•ÁöÑÂºÇÂ∏∏ÔºåÈÇ£‰πàTimeÂ∞ÜË°®Áé∞Âá∫Á≥üÁ≥ïÁöÑË°å‰∏∫„ÄÇ ÊâæÂá∫ÂèØÂà©Áî®ÁöÑÂπ∂Ë°åÊÄß‰∏ãÈù¢Â∞ÜÂ±ïÁ§∫‰∏Ä‰∏™ÈÄêÊ≠•Âà©Áî®Âπ∂Ë°åÊÄßÁöÑÊµèËßàÂô®Á®ãÂ∫è‰∏≠ÁöÑÈ°µÈù¢Ê∏≤ÊüìÂäüËÉΩÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂ∞ÜHTMlÈ°µÈù¢ÂõûÊâßÂà∞ÂõæÂÉèÁºìÂ≠ò‰∏≠„ÄÇ ÊúÄÁÆÄÂçïÁöÑÊñπÊ≥ïÊòØÂØπHTMLÊñáÊ°£ËøõË°å‰∏≤Ë°åÂ§ÑÁêÜÔºåÈÅáÂà∞ÂõæÂÉèÂºïÁî®ÔºåÂ∞±ÈÄöËøáÁΩëÁªúËé∑ÂèñÂÆÉÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÂÖ∂ÁªòÂà∂Âà∞ÂõæÂÉèÁºìÂ≠ò‰∏≠„ÄÇ‰ΩÜÊòØËøôÁßçÊñπÂºèÈúÄË¶ÅÁ≠âÂæÖÂæàÈïøÊó∂Èó¥„ÄÇ Âè¶‰∏ÄÁßç‰∏≤Ë°åÊñπÂºèÊòØÂÖàÁªòÂà∂ÊñáÊú¨ÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÂÜçÂºÄÂßã‰∏ãËΩΩÂõæÂÉèÔºåÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö12345678910111213// ÂõæÁâá‰∏ãËΩΩËøáÁ®ãÁöÑÈÉ®ÂàÜÊó∂Èó¥ÈÉΩÊòØÂú®Á≠âÂæÖI/OÊìç‰ΩúÊâßË°åÂÆåÊàêÔºåÊ≤°ÊúâÂÖÖÂàÜÂà©Áî®CPUpublic class SingleThreadRenderer &#123; void renderPage(CharSequence source) &#123; renderText(source); List&lt;ImageData&gt; imageData = new ArrayList&lt;ImageData&gt;(); for (ImageInfo imageInfo : scanForImageInfo(source)) &#123; imageData.add(imageInfo.downloadImage()); &#125; for (ImageData data : imageData) &#123; renderImage(data); &#125; &#125;&#125; Executor‰ΩøÁî®Runnable‰Ωú‰∏∫ÂÖ∂Âü∫Êú¨ÁöÑ‰ªªÂä°Ë°®Á§∫ÂΩ¢ÂºèÔºå‰ΩÜÊòØRunnableÊòØ‰∏ÄÁßçÊúâÂæàÂ§ßÂ±ÄÈôêÁöÑÊäΩË±°ÔºåËôΩÁÑ∂runËÉΩÂÜôÂÖ•Âà∞Êó•ÂøóÊñá‰ª∂ÊàñËÄÖÂ∞ÜÁªìÊûúÊîæÂÖ•Âà∞Êüê‰∏™ÂÖ±‰∫´ÁöÑÊï∞ÊçÆÁªìÊûÑÔºå‰ΩÜÂÆÉ‰∏çËÉΩËøîÂõû‰∏Ä‰∏™ÂÄºÊàñÊäõÂá∫‰∏Ä‰∏™ÂèóÊ£ÄÊü•ÁöÑÂºÇÂ∏∏„ÄÇ ËÆ∏Â§ö‰ªªÂä°ÂÆûÈôÖ‰∏äÈÉΩÊòØÂ≠òÂú®Âª∂ËøüÁöÑËÆ°ÁÆó‚Äî‚Äî ÊâßË°åÊï∞ÊçÆÂ∫ìÊü•ËØ¢Ôºå‰ªéÁΩëÁªú‰∏äËé∑ÂèñËµÑÊ∫êÔºåÊàñËÄÖËÆ°ÁÆóÊüê‰∏™Â§çÊùÇÁöÑÂäüËÉΩ„ÄÇÂØπ‰∫éËøô‰∫õ‰ªªÂä°ÔºåCallableÊòØ‰∏ÄÁßçÊõ¥Â•ΩÁöÑÊäΩË±°ÔºöÂÆÉËÆ§‰∏∫‰∏ªÂÖ•Âè£ÁÇπÔºàÂç≥callÔºâÂ∞ÜËøîÂõû‰∏Ä‰∏™ÂÄºÔºåÂπ∂ÂèØËÉΩÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏„ÄÇ RunnableÂíåCallableÊèèËø∞ÁöÑÈÉΩÊòØÊäΩË±°ÁöÑËÆ°ÁÆó‰ªªÂä°„ÄÇËøô‰∫õ‰ªªÂä°ÈÄöÂ∏∏ÈÉΩÊòØÊúâËåÉÂõ¥ÁöÑÔºåÂç≥ÈÉΩÊúâ‰∏Ä‰∏™ÊòéÁ°ÆÁöÑËµ∑ÁÇπÔºåÂπ∂‰∏îÊúÄÁªà‰ºöÁªìÊùü„ÄÇExecutorÊâßË°åÁöÑ‰ªªÂä°ÂèàÂõõ‰∏™ÁîüÂëΩÂë®ÊúüÈò∂ÊÆµÔºöÂàõÂª∫/Êèê‰∫§/ÂºÄÂßã/ÂÆåÊàê„ÄÇÁî±‰∫éÊúâ‰∫õ‰ªªÂä°ÂèØËÉΩË¶ÅÊâßË°åÂæàÈïøÁöÑÊó∂Èó¥ÔºåÂõ†Ê≠§ÈÄöÂ∏∏Â∏åÊúõËÉΩÂ§üÂèñÊ∂àËøô‰∫õ‰ªªÂä°„ÄÇÂú®ExecutorÊ°ÜÊû∂‰∏≠ÔºåÂ∑≤Êèê‰∫§‰ΩÜÂ∞öÊú™ÂºÄÂßãÁöÑ‰ªªÂä°ÂèØ‰ª•ÂèñÊ∂àÔºå‰ΩÜÂØπ‰∫éÈÇ£‰∫õÂ∑≤ÁªèÂºÄÂßãÊâßË°åÁöÑ‰ªªÂä°ÔºåÂè™ÊúâÂΩìÂÆÉ‰ª¨ÂìçÂ∫î‰∏≠Êñ≠Êó∂ÔºåÊâçËÉΩÂèñÊ∂à„ÄÇ FutureË°®Á§∫‰∏Ä‰∏™‰ªªÂä°ÁöÑÁîüÂëΩÂë®ÊúüÔºåÂπ∂Êèê‰æõ‰∫ÜÁõ∏Â∫îÁöÑÊñπÊ≥ïÊù•Âà§Êñ≠ÊòØÂê¶Â∑≤ÁªèÂÆåÊàêÊàñÂèñÊ∂àÔºå‰ª•ÂèäËé∑Âèñ‰ªªÂä°ÁöÑÁªìÊûúÂíåÂèñÊ∂à‰ªªÂä°Á≠â„ÄÇÂú®FutureËßÑËåÉ‰∏≠ÂåÖÂê´ÁöÑÈöêÂê´ÊÑè‰πâÊòØÔºå‰ªªÂä°ÁöÑÁîüÂëΩÂë®ÊúüÂè™ËÉΩÂâçËøõÔºå‰∏çËÉΩÂêéÈÄÄ„ÄÇÂΩìÊüê‰∏™‰ªªÂä°ÂÆåÊàêÂêéÔºåÂÆÉÂ∞±Ê∞∏ËøúÂÅúÁïôÂú®‚ÄúÂÆåÊàê‚ÄùÁä∂ÊÄÅ‰∏ä„ÄÇ ÂèØ‰ª•ÈÄöËøáËÆ∏Â§öÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™FutureÊù•ÊèèËø∞‰ªªÂä°„ÄÇExecutorService‰∏≠ÁöÑÊâÄÊúâsubmitÊñπÊ≥ïÈÉΩÂ∞ÜËøîÂõû‰∏Ä‰∏™FutureÔºå‰ªéËÄåÂ∞Ü‰∏Ä‰∏™RunnableÊàñCallableÊèê‰∫§ÁªôExecutorÔºåÂπ∂ÂæóÂà∞‰∏Ä‰∏™FutureÁî®Êù•Ëé∑Âæó‰ªªÂä°ÁöÑÊâßË°åÁªìÊûúÊàñËÄÖÂèñÊ∂à‰ªªÂä°„ÄÇËøòÂèØ‰ª•ÊòæÂºèÂú∞‰∏∫Êüê‰∏™ÊåáÂÆöÁöÑRunnableÊàñCallableÂÆû‰æãÂåñ‰∏Ä‰∏™FutureTask„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839// FutureReaderer‰ΩøÂæóÊ∏≤ÊüìÊñáÊú¨‰∏é‰∏ãËΩΩÂõæÂÉèÊï∞ÊçÆÁöÑ‰ªªÂä°Âπ∂ÂèëÊâßË°åpublic class FutureRenderer &#123; // 1.ÂàõÂª∫ExecutorService ExecutorService executorService = Executors.newCachedThreadPool(); void renderPage(CharSequence source) &#123; final List&lt;ImageInfo&gt; imageInfos = scanFooImageInfo(source); // 2.ÂàõÂª∫Callable‰ªªÂä° Callable&lt;List&lt;ImageData&gt;&gt; task = new Callable&lt;List&lt;ImageData&gt;&gt;() &#123; public List&lt;ImageData&gt; call() &#123; List&lt;ImageData&gt; result = new ArrayList&lt;ImageData&gt;(); for (ImageInfo imageInfo : imageInfos) &#123; result.add(imageInfo); &#125; return result; &#125; &#125;; // 3. Êèê‰∫§Callable‰ªªÂä°ÔºåËé∑ÂæóFuture Future&lt;List&lt;ImageData&gt;&gt; future = (Future) executorService.submit(task); // Ê∏≤ÊüìÊñáÊú¨ renderText(source); // 4. Ë∞ÉÁî®getËé∑ÂèñÁªìÊûúÔºåÂπ∂Â§ÑÁêÜÂºÇÂ∏∏ try &#123; List&lt;ImageData&gt; imageData = future.get(); for (imageData data : imageData) &#123; RenderableImage(data); &#125; &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); future.cancel(true); &#125; catch (ExecutionException e) &#123; throw launderThrowable(e.getCause()); &#125; &#125;&#125; getÊñπÊ≥ïÁöÑË°å‰∏∫ÂèñÂÜ≥‰∫é‰ªªÂä°ÁöÑÁä∂ÊÄÅÔºàÂ∞öÊú™ÂºÄÂßãÔºåÊ≠£Âú®ÊâßË°åÔºåÂ∑≤ÂÆåÊàêÔºâ„ÄÇÂ¶ÇÊûú‰ªªÂä°Â∑≤ÁªèÂÆåÊàêÔºåÈÇ£‰πàget‰ºöÁ´ãÂç≥ËøîÂõûÊàñËÄÖÊäõÂá∫‰∏Ä‰∏™ExceptionÔºåÂ¶ÇÊûú‰ªªÂä°Ê≤°ÊúâÂÆåÊàêÔºåÈÇ£‰πàgetÂ∞ÜÈòªÂ°ûÂπ∂Áõ¥Âà∞‰ªªÂä°ÂÆåÊàê„ÄÇÂ¶ÇÊûú‰ªªÂä°ÊäõÂá∫‰∫ÜÂºÇÂ∏∏ÔºåÈÇ£‰πàgetÂ∞ÜËØ•ÂºÇÂ∏∏Â∞ÅË£Ö‰∏∫ExecutionExceptionÂπ∂ÈáçÊñ∞ÊäõÂá∫„ÄÇÂ¶ÇÊûú‰ªªÂä°Ë¢´ÂèñÊ∂àÔºåÈÇ£‰πàgetÂ∞ÜÊäõÂá∫CancellationException„ÄÇ Â¶ÇÊûúÂ∞Ü‰∏§‰∏™‰ªªÂä°AÂíåBÂàÜÈÖçÁªô‰∏§‰∏™Â∑•‰∫∫Ôºå‰ΩÜAÁöÑÊâßË°åÊó∂Èó¥ÊòØBÁöÑ10ÂÄçÔºåÈÇ£‰πàÊï¥‰∏™ËøáÁ®ã‰πüÂè™ËÉΩÂä†ÈÄü9%„ÄÇÊúÄÂêéÔºåÂΩìÂú®Â§ö‰∏™Â∑•‰∫∫‰πãÈó¥ÂàÜËß£‰ªªÂä°Êó∂ÔºåËøòÈúÄË¶Å‰∏ÄÂÆöÁöÑ‰ªªÂä°ÂçèË∞ÉÂºÄÈîÄÔºö‰∏∫‰∫Ü‰Ωø‰ªªÂä°ÂàÜËß£ËÉΩÊèêÈ´òÊÄßËÉΩÔºåËøôÁßçÂºÄÈîÄ‰∏çËÉΩÈ´ò‰∫éÂπ∂Ë°åÊÄßÂÆûÁé∞ÁöÑÊèêÂçá„ÄÇÊâÄ‰ª•Âè™ÊúâÂΩìÂ§ßÈáè‰∫íÁõ∏Áã¨Á´ã‰∏îÂêåÊûÑÁöÑ‰ªªÂä°ÂèØ‰ª•Âπ∂ÂèëËøõË°åÂ§ÑÁêÜÊó∂ÔºåÊâçËÉΩ‰ΩìÁé∞Âá∫Â∞ÜÁ®ãÂ∫èÁöÑÂ∑•‰ΩúË¥üËΩΩÂàÜÈÖçÂà∞Â§ö‰∏™‰ªªÂä°‰∏≠Â∏¶Êù•ÁöÑÁúüÊ≠£ÊÄßËÉΩÊèêÂçá„ÄÇ Â¶ÇÊûúÂêëExecutorÊèê‰∫§‰∫Ü‰∏ÄÁªÑËÆ°ÁÆó‰ªªÂä°ÔºåÂπ∂‰∏îÂ∏åÊúõÂú®ËÆ°ÁÆóÂÆåÊàêÂêéËé∑ÂæóÁªìÊûúÔºåÈÇ£‰πàÂèØ‰ª•‰øùÁïô‰∏éÊØè‰∏™‰ªªÂä°ÂÖ≥ËÅîÁöÑFutureÔºåÁÑ∂ÂêéÂèçÂ§ç‰ΩøÁî®getÊñπÊ≥ïÔºåÂêåÊó∂Â∞ÜÂèÇÊï∞timeoutÊåáÂÆö‰∏∫0Ôºå‰ªéËÄåÈÄöËøáËΩÆËÆ≠Êù•Âà§Êñ≠‰ªªÂä°ÊòØÂê¶ÂÆåÊàê„ÄÇËøôÁßçÊñπÊ≥ïËôΩÁÑ∂ÂèØË°åÔºå‰ΩÜÊúâ‰∫õÁπÅÁêê„ÄÇÂπ∏Â•ΩÊúâCompletionServiceÔºàÂÆåÊàêÊúçÂä°Ôºâ„ÄÇ CompetionServiceÂ∞ÜExecutorÂíåBlockingQueueÁöÑÂäüËÉΩËûçÂêàÂú®‰∏ÄËµ∑ÔºåÂèØ‰ª•Â∞ÜCallable‰ªªÂä°Êèê‰∫§ÁªôÂÆÉÊù•ÊâßË°åÔºåÁÑ∂Âêé‰ΩøÁî®Á±ª‰ºº‰∫éÈòüÂàóÊìç‰ΩúÁöÑtakeÂíåpollÁ≠âÊñπÊ≥ïÊù•Ëé∑ÂæóÂ∑≤ÂÆåÊàêÁöÑÁªìÊûúÔºåËÄåËøô‰∫õÁªìÊûú‰ºöÂú®ÂÆåÊàêÊó∂Ë¢´Â∞ÅË£Ö‰∏∫Future„ÄÇExecutorCompletionServiceÂÆûÁé∞‰∫ÜCompletionServiceÔºåÂπ∂Â∞ÜËÆ°ÁÆóÈÉ®ÂàÜÂßîÊâòÁªô‰∏Ä‰∏™Executor„ÄÇ123456789101112131415161718192021222324252627282930313233343536// ÈÄöËøáCompletionService‰ªé‰∏§ÊñπÈù¢Êù•ÊèêÈ´òÈ°µÈù¢Ê∏≤ÊüìÂô®ÁöÑÊÄßËÉΩÔºöÁº©Áü≠ÊÄªËøêË°åÊó∂Èó¥‰ª•ÂèäÊèêÈ´òÂìçÂ∫îÊÄß„ÄÇÂÖ∂ÂÆûÁé∞ÊòØ‰∏∫ÊØè‰∏ÄÂπÖÂõæÂÉèÈÉΩÂàõÂª∫‰∏Ä‰∏™Áã¨Á´ãÁöÑ‰ªªÂä°„ÄÇpublic class Renderer &#123; // 1.ÂàõÂª∫‰∏Ä‰∏™ExecutorService private final ExecutorService executorService = Executors.newCachedThreadPool(); Renderer(ExecutorService executor) &#123; this.executor = executor; &#125; void renderPage (CharSequence source) &#123; List&lt;ImageInfo&gt; info = scanForImageInfo(source); // 2. ÂàõÂª∫ExecutorCompletionService CompletionService&lt;ImageData&gt; completionService = new ExecutorCompletionService&lt;ImageData&gt;(executorService); // 3. ‰∏∫ÊØèÂπÖÂõæÁâáÂàõÂª∫‰∏Ä‰∏™Áã¨Á´ã‰ªªÂä° for(final ImageInfo imageInfo: info) &#123; completionService.submit(new Callable&lt;ImageData&gt;() &#123; public ImageData call() &#123; return imageInfo.downloadImage(); &#125; &#125;); &#125; // Ê∏≤ÊüìÊñáÊú¨ renderText(source); // 4. Ëé∑ÂèñFutureÔºåË∞ÉÁî®get try &#123; for(int i=0, n=info.size(); t&lt;n; t++) &#123; Future&lt;ImageData&gt; future = completionService.take(); ImageData imageData = future.get(); RenderImage(imageData); &#125; &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); &#125; catch (ExecutionException e) &#123; throw launderThrowable(e.getCause()); &#125; &#125;&#125; ÊúâÊó∂ÂÄôÔºåÂ¶ÇÊûúÊüê‰∏™‰ªªÂä°Êó†Ê≥ïÂú®ÊåáÂÆöÊó∂Èó¥ÂÜÖÂÆåÊàêÔºåÈÇ£‰πàÂ∞Ü‰∏çÂÜçÈúÄË¶ÅÂÆÉÁöÑÁªìÊûúÔºåÊ≠§Êó∂ÂèØ‰ª•ÊîæÂºÉËøô‰∏™‰ªªÂä°„ÄÇÂú®ÊîØÊåÅÊó∂Èó¥ÈôêÂà∂ÁöÑFuture.get‰∏≠ÊîØÊåÅËøôÁßçÈúÄÊ±ÇÔºöÂΩìÁªìÊûúÂèØÁî®Êó∂ÔºåÂÆÉÂ∞ÜÁ´ãÂç≥ËøîÂõûÔºåÂ¶ÇÊûúÂú®ÊåáÂÆöÊó∂ÈôêÂÜÖÊ≤°ÊúâËÆ°ÁÆóÂá∫ÁªìÊûúÔºåÈÇ£‰πàÂ∞ÜÊäõÂá∫TimeoutException„ÄÇÂú®‰ΩøÁî®ÈôêÊó∂‰ªªÂä°Êó∂ÈúÄË¶ÅÊ≥®ÊÑèÔºåÂΩìËøô‰∫õ‰ªªÂä°Ë∂ÖÊó∂ÂêéÂ∫îËØ•Á´ãÂç≥ÂÅúÊ≠¢Ôºå‰ªéËÄåÈÅøÂÖç‰∏∫ÁªßÁª≠ËÆ°ÁÆó‰∏Ä‰∏™‰∏çÂÜç‰ΩøÁî®ÁöÑÁªìÊûúËÄåÊµ™Ë¥πËÆ°ÁÆóËµÑÊ∫ê„ÄÇFutureÂ¶ÇÊûú‰∏Ä‰∏™ÈôêÊó∂ÁöÑgetÊñπÊ≥ïÊäõÂá∫‰∫ÜTimeoutExceptionÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøáFutureÊù•ÂèñÊ∂à‰ªªÂä°„ÄÇ1234567891011121314151617Page renderPageWithAd() throws InterruptedException &#123; long endNanos = System.nanoTime() + TIME_BUDGET; Future&lt;Ad&gt; future = exec.submit(new FetchAdTask()); Page page = renderPageBody(); Ad ad; try &#123; long timeLeft = endNanos - System.nanoTime(); ad = f.get(timeLeft, NANOSECONDS); // ËÆæÂÆöÊó∂Èó¥ &#125; catch (ExecutionException e) &#123; ad = DEFAULT_AD; &#125; catch (TimeoutException e) &#123; ad = DEFAULT_AD; f.cancel(true); //ÂèñÊ∂à‰ªªÂä° &#125; page.setAd(ad); return page;&#125; ÊÄªÁªìExecutorÊ°ÜÊû∂ÂèØ‰ª•Â∞Ü‰ªªÂä°Êèê‰∫§‰∏éÊâßË°åÁ≠ñÁï•Ëß£ËÄ¶ÂºÄÊù•ÔºåÂΩìÈúÄË¶ÅÂàõÂª∫Á∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°Êó∂ÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®ExecutorÔºåÂêåÊó∂ËÄÉËôëCallableÂíåFuture„ÄÇË¶ÅÊÉ≥Â∞ÜÂ∫îÁî®Á®ãÂ∫èÂàÜËß£‰∏∫‰∏çÂêåÁöÑ‰ªªÂä°Âπ∂ÂèëÊâßË°åÊó∂ÔºåÂøÖÈ°ªÂÆö‰πâÊ∏ÖÊô∞ÁöÑ‰ªªÂä°ËæπÁïå„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_4_Âü∫Á°ÄÊûÑÂª∫Ê®°Âùó]]></title>
    <url>%2F2018%2F01%2F14%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-4-%E5%9F%BA%E7%A1%80%E6%9E%84%E5%BB%BA%E6%A8%A1%E5%9D%97%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöJDKÊèê‰æõÁöÑ‰∏úË•øÊïàÁéáÂ∫îËØ•ÊòØÂèØ‰ª•‰øùËØÅÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨Ë¶ÅÂ≠¶‰ºöÂéª‰ΩøÁî®JDKËá™Â∏¶ÁöÑÂπ∂ÂèëÂü∫Á°ÄÊûÑÂª∫Ê®°ÂùóÔºå‰ª•ÂèäÁêÜËß£Âú®‰ΩøÁî®Ëøô‰∫õÊ®°ÂùóÊù•ÊûÑÂª∫Â∫îÁî®Á®ãÂ∫èÊó∂ÁöÑ‰∏Ä‰∫õÂ∏∏Áî®Ê®°Âºè„ÄÇ ÂêåÊ≠•ÂÆπÂô®Á±ªÂêåÊ≠•ÂÆπÂô®Á±ªÂåÖÊã¨VectorÂíåHashtable„ÄÇËøô‰∫õÁ±ªÂÆûÁé∞Á∫øÁ®ãÂÆâÂÖ®ÁöÑÊñπÂºèÊòØÔºöÂ∞Ü‰ªñ‰ª¨ÁöÑÁä∂ÊÄÅÂ∞ÅË£ÖËµ∑Êù•ÔºåÂπ∂ÂØπÊØè‰∏™ÂÖ¨ÊúâÊñπÊ≥ïÈÉΩËøõË°åÂêåÊ≠•Ôºå‰ΩøÂæóÊØèÊ¨°Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩËÆøÈóÆÂÆπÂô®ÁöÑÁä∂ÊÄÅ„ÄÇ ÂêåÊ≠•ÂÆπÂô®Á±ªÁöÑÈóÆÈ¢òÂÖàÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö123456789public static Object getLast(Vector list) &#123; int lastIndex = list.size() - 1; return list.get(lastIndex);&#125;public static void deleteLast(Vector list) &#123; int lastIndex = list.size() - 1; list.remove(lastIndex);&#125; Ëøô‰∫õÊñπÊ≥ïÁúãËµ∑Êù•Ê≤°ÊúâÈóÆÈ¢òÔºå‰ΩÜÊòØÂ¶ÇÊûúÁ∫øÁ®ãAÂú®ÊâßË°ådeleteLast, Á∫øÁ®ãBÂú®ÊâßË°ågetLastÔºålist‰∏≠Êúâ10‰∏™ÂÖÉÁ¥†ÔºåÂàöÂ•ΩBÂú®ÊâßË°ålist.size()Âíåget(lastIndex)‰πãÈó¥ÔºåÁ∫øÁ®ãAÊâßË°åÂÆå‰∫Üremove(lastIndex), ÈÇ£‰πàÁ∫øÁ®ãBÂú®ÊâßË°åget(lastIndex)Êó∂Â∞±‰ºöÊäõÂá∫ArrayIndexOutOfBoundsException„ÄÇ Áî±‰∫éÂêåÊ≠•ÂÆπÂô®Á±ªË¶ÅÈÅµÂÆàÂêåÊ≠•Á≠ñÁï•ÔºåÂç≥ÂÆ¢Êà∑Á´ØÂä†ÈîÅÔºåÂõ†Ê≠§Âú®ÂàõÂª∫‰∏Ä‰∫õÊñ∞ÁöÑÊìç‰ΩúÊó∂ÔºåÂè™Ë¶ÅÊàë‰ª¨Áü•ÈÅìÂ∫îËØ•‰ΩøÁî®Âì™‰∏Ä‰∏™ÈîÅÔºåÈÇ£‰πàËøô‰∫õÊñ∞Êìç‰ΩúÂ∞±‰∏éÂÆπÂô®ÁöÑÂÖ∂‰ªñÊìç‰Ωú‰∏ÄÊ†∑ÈÉΩÊòØÂéüÂ≠êÊìç‰Ωú„ÄÇÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö12345678910111213public static Object getLast(Vector list) &#123; synchronized(list) &#123; int lastIndex = list.size() - 1; return list.get(lastIndex); &#125;&#125;public static void deleteLast(Vector list) &#123; synchronized(list) &#123; int lastIndex = list.size() - 1; list.remove(lastIndex); &#125;&#125; Âú®Ë∞ÉÁî®sizeÂíåÁõ∏Â∫îÁöÑget‰πãÈó¥ÔºåVectorÁöÑÈïøÂ∫¶ÂèØËÉΩ‰ºöÂèëÁîüÂèòÂåñÔºåËøôÁßçÈ£éÈô©Âú®ÂØπVector‰∏≠ÁöÑÂÖÉÁ¥†ËøõË°åËø≠‰ª£Êó∂‰ªçÁÑ∂‰ºöÂá∫Áé∞ÔºåÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö12345// ÂèØËÉΩÊäõÂá∫ArrayIndexOutOfBoundsExceptionÁöÑËø≠‰ª£Êìç‰Ωúfor (int i = 0; i &lt; vector.size(); i++) &#123; doSomething(vetor.get(i));&#125; Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂú®ÂÆ¢Êà∑Á´ØÂä†ÈîÅÊù•Ëß£ÂÜ≥‰∏çÂèØÈù†Ëø≠‰ª£ÁöÑÈóÆÈ¢òÔºå‰ΩÜÊòØË¶ÅÁâ∫Áâ≤‰∏Ä‰∫õ‰º∏Áº©ÊÄß„ÄÇÈÄöËøáÂú®Ëø≠‰ª£ÊúüÈó¥ÊåÅÊúâVectorÁöÑÈîÅÔºåÂèØ‰ª•Èò≤Ê≠¢ÂÖ∂‰ªñÁ∫øÁ®ãÂú®Ëø≠‰ª£ÊúüÈó¥‰øÆÊîπVector„ÄÇÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö12345synchronized (vector) &#123; for (int i = 0; i &lt; vector.size(); i++) &#123; doSomething(vetor.get(i)); &#125;&#125; Ëø≠‰ª£Âô®‰∏éConcurrentModificationExceptionÂØπÂÆπÂô®Á±ªËøõË°åËø≠‰ª£ÁöÑÊ†áÂáÜÊñπÂºèÊòØ‰ΩøÁî®IteratorÔºåÁÑ∂ËÄåÔºåÂ¶ÇÊûúÊúâÂÖ∂‰ªñÁ∫øÁ®ãÂπ∂ÂèëÂú∞‰øÆÊîπÂÆπÂô®ÔºåÈÇ£‰πàÂç≥‰ΩøÊòØ‰ΩøÁî®Ëø≠‰ª£Âô®‰πüÊó†Ê≥ïÈÅøÂÖçÂú∞ÈúÄË¶ÅÂú®ÂêåÊ≠•ÂÆπÂô®‰∏äÂä†ÈîÅ„ÄÇÂú®ËÆæËÆ°ÂêåÊ≠•ÂÆπÂô®Á±ªÁöÑËø≠‰ª£Âô®Êó∂Âπ∂Ê≤°ÊúâËÄÉËôëÂà∞Âπ∂Âèë‰øÆÊîπÁöÑÈóÆÈ¢òÔºåÂÆÉ‰ª¨ÁöÑËø≠‰ª£Âô®ÊòØ‚ÄúÂèäÊó∂Â§±Ë¥•‚ÄùÁöÑÔºåÊâÄ‰ª•ÂΩìÂÆÉ‰ª¨ÂèëÁé∞ÂÆπÂô®Âú®Ëø≠‰ª£ËøáÁ®ã‰∏≠ÂèëÁîüÂèòÂåñÔºåÂ∞±‰ºöÊäõÂá∫‰∏Ä‰∏™ConcurrentModificationExceptionÂºÇÂ∏∏„ÄÇËøôÁßçfail-fastÊú∫Âà∂Âπ∂‰∏çÊòØ‰∏ÄÁßçÂÆåÂ§áÁöÑÂ§ÑÁêÜÊú∫Âà∂ÔºåËÄåÂè™ÊòØ‚ÄúÂñÑÊÑèÂú∞‚ÄùÊçïËé∑Âπ∂ÂèëÈîôËØØÔºåÂõ†Ê≠§Âè™ËÉΩ‰Ωú‰∏∫Âπ∂ÂèëÈóÆÈ¢òÁöÑÈ¢ÑË≠¶ÊåáÁ§∫Âô®„ÄÇÂÆÉ‰ª¨ÈááÂèñÁöÑÂÆûÁé∞ÊñπÂºèÊòØÂ∞ÜËÆ°Êï∞Âô®ÂèòÂåñ‰∏éÂÆπÂô®ÂÖ≥ËÅîËµ∑Êù•ÔºöÂ¶ÇÊûúÂú®Ëø≠‰ª£ÊúüÈó¥ËÆ°Êï∞Âô®Ë¢´‰øÆÊîπÔºåÈÇ£‰πàhasNextÊàñnextÂ∞ÜÊäõÂá∫ConcurrentModificationException„ÄÇÁÑ∂ËÄåÔºåËøôÁßçÊ£ÄÊü•ÊòØÂú®Ê≤°ÊúâÂêåÊ≠•ÁöÑÊÉÖÂÜµ‰∏ãËøõË°åÁöÑÔºåÂõ†Ê≠§ÂèØËÉΩ‰ºöÁúãÂà∞Â§±ÊïàÁöÑÂÄºÔºåËÄåËø≠‰ª£Âô®ÂèØËÉΩÂπ∂Ê≤°ÊúâÊÑèËØÜÂà∞Â∑≤ÁªèÂèëÁîü‰∫Ü‰øÆÊîπ„ÄÇË¶ÅÊÉ≥ÈÅøÂÖçÂá∫Áé∞ConcurrentModificationExceptionÔºåÂ∞±ÂøÖÈ°ªÂú®Ëø≠‰ª£ËøáÁ®ã‰∏≠ÊåÅÊúâÂÆπÂô®ÁöÑÈîÅ„ÄÇ ÁÑ∂ËÄåÔºåÊúâÊó∂ÂÄôÂºÄÂèë‰∫∫ÂëòÂπ∂‰∏çÂ∏åÊúõÂú®Ëø≠‰ª£Âô®Èó¥ÂØπÂÆπÂô®Âä†ÈîÅ„ÄÇ‰æãÂ¶ÇÔºåÊüê‰∫õÁ∫øÁ®ãÂú®ÂèØ‰ª•ËÆøÈóÆÂÆπÂô®‰πãÂâçÔºåÂøÖÈ°ªÁ≠âÂæÖËø≠‰ª£ËøáÁ®ãÁªìÊùüÔºåÂ¶ÇÊûúÂÆπÂô®ËßÑÊ®°ÂæàÂ§ßÔºåÊàñËÄÖÂú®ÊØè‰∏™ÂÖÉÁ¥†‰∏äÊâßË°åÊìç‰ΩúÁöÑÊó∂Èó¥ÂæàÈïøÔºåÈÇ£‰πàËøô‰∫õÁ∫øÁ®ãÂ∞±ÈúÄË¶ÅÈïøÊó∂Èó¥Á≠âÂæÖ„ÄÇÊåÅÊúâÈîÅÁöÑÊó∂Èó¥Ë∂äÈïøÔºåÈÇ£‰πàÂú®ÈîÅ‰∏äÁöÑÁ´û‰∫âÂ∞±Ë∂äÊøÄÁÉàÔºåÂ¶ÇÊûúËÆ∏Â§öÁ∫øÁ®ãÈÉΩÂú®Á≠âÂæÖÈîÅË¢´ÈáäÊîæÔºåÈÇ£‰πàÂ∞ÜÊûÅÂ§ßÂú∞Èôç‰ΩéÂêûÂêêÈáèÂíåCPUÁöÑÂà©Áî®Áéá„ÄÇ Âè¶‰∏ÄÁßçÊõø‰ª£ÊñπÊ≥ïÊòØ‚ÄúÂÖãÈöÜ‚ÄùÂÆπÂô®ÔºåÂπ∂Âú®ÂâØÊú¨‰∏äËøõË°åËø≠‰ª£„ÄÇÁî±‰∫éÂâØÊú¨Ë¢´Â∞ÅÈó≠Âú®Á∫øÁ®ãÂÜÖÔºåÂõ†Ê≠§ÂÖ∂‰ªñÁ∫øÁ®ã‰∏ç‰ºöÂú®Ëø≠‰ª£ÊúüÈó¥ÂØπÂÖ∂ËøõË°å‰øÆÊîπÔºåËøôÊ†∑Â∞±ÈÅøÂÖç‰∫ÜÊäõÂá∫ConcurrentModificationExceptionÔºå‰∏çËøáÂú®ÂÖãÈöÜËøáÁ®ã‰∏≠‰ªçÁÑ∂Ë¶ÅÂä†ÈîÅÔºà‰ª•Èò≤Âú®Ê≠§ÊúüÈó¥Ë¢´ÂÖãÈöÜÂÆπÂô®Ë¢´ÂÖ∂‰ªñÁ∫øÁ®ã‰øÆÊîπÔºåÈÇ£Ê†∑ÂÖãÈöÜÂá∫Êù•ÁöÑÂÆπÂô®Â∞±ÊòØÂ§±ÊïàÁöÑÂÆπÂô®ÔºâÔºåÊâÄ‰ª•‰πü‰ºöÂ¢ûÂä†ÊÄßËÉΩÂºÄÈîÄ„ÄÇÊâÄ‰ª•ËøôÁßçÊñπÊ≥ïÁöÑÂ•ΩÂùèÂèñÂÜ≥‰∫éÂ§ö‰∏™Âõ†Á¥†ÔºöÂÆπÂô®ÁöÑÂ§ßÂ∞èÔºåÂú®ÊØè‰∏™ÂÖÉÁ¥†‰∏äÊâßË°åÁöÑÊìç‰ΩúÔºåËø≠‰ª£Êìç‰ΩúÁõ∏ÂØπ‰∫éÂÆπÂô®‰∏äÂÖ∂‰ªñÊìç‰ΩúË¢´Ë∞ÉÁî®ÁöÑÈ¢ëÁéáÔºå‰ª•ÂèäÂú®ÂìçÂ∫îÊó∂Èó¥ÂíåÂêûÂêêÈáèÁ≠âÊñπÈù¢ÁöÑÈúÄÊ±Ç„ÄÇ ÈöêËóèËø≠‰ª£Âô®ËôΩÁÑ∂Âä†ÈîÅÂèØ‰ª•Èò≤Ê≠¢Ëø≠‰ª£Âô®ÊäõÂá∫ConcurrentModificationExceptionÔºå‰ΩÜÂøÖÈ°ªËÆ∞‰ΩèÂú®ÊâÄÊúâÂØπÂÖ±‰∫´ÂÆπÂô®ËøõË°åËø≠‰ª£ÁöÑÂú∞ÊñπÈÉΩÈúÄË¶ÅÂä†ÈîÅ„ÄÇÂÆûÈôÖÊÉÖÂÜµÊõ¥Â§çÊùÇÔºåÂõ†‰∏∫Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåËø≠‰ª£Âô®‰ºöÈöêËóèËµ∑Êù•„ÄÇ Â¶Ç‰∏ã‰æãÔºåÊ†áÂáÜÂÆπÂô®ÁöÑtoStringÊñπÊ≥ïÂ∞ÜËø≠‰ª£ÂÆπÂô®ÔºåÂπ∂Âú®ÊØè‰∏™ÂÖÉÁ¥†‰∏äË∞ÉÁî®toStringÊù•ÁîüÊàêÂÆπÂô®ÂÜÖÂÆπÁöÑÊ†ºÂºèÂåñË°®Á§∫Ôºö123456789101112131415161718public class HiddenIterator &#123; @GuardedBy("this") private final Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(); public synchronized void add(Integer i) &#123; set.add(i); &#125; public synchronized void remove(Integer i) &#123; set.remove(i); &#125; public void addTenThing() &#123; Random r = new Random(); for (int i=0; i&lt; 10; i++) &#123; set.add(r.nextInt()); &#125; System.out.println("DEBUG: added ten elements to " + set); &#125;&#125; addTenThingsÊñπÊ≥ïÂèØËÉΩ‰ºöÊäõÂá∫ConcurrentModificationExceptionÔºåÂõ†‰∏∫toStringÂØπsetËøõË°å‰∫ÜËø≠‰ª£ÔºåËÄå‰∏îÊ≤°Âä†ÈîÅ„ÄÇÂ¶ÇÊûúÁä∂ÊÄÅ‰∏é‰øùÊä§ÂÆÉÁöÑÂêåÊ≠•‰ª£Á†Å‰πãÈó¥Áõ∏ÈöîË∂äËøúÔºåÈÇ£ÂºÄÂèë‰∫∫ÂëòÂ∞±Ë∂äÂÆπÊòìÂøòËÆ∞Âú®ËÆøÈóÆÁä∂ÊÄÅÊó∂‰ΩøÁî®Ê≠£Á°ÆÁöÑÂêåÊ≠•„ÄÇÂ¶ÇÊûúHiddenIteratorÁî®synchronizedSetÊù•ÂåÖË£ÖHashSetÔºåÂπ∂‰∏îÂØπÂêåÊ≠•‰ª£Á†ÅËøõË°åÂ∞ÅË£ÖÔºåÈÇ£‰πàÂ∞±‰∏ç‰ºöÊäõÂá∫ÂºÇÂ∏∏‰∫Ü„ÄÇÂÆπÂô®ÁöÑhashCodeÂíåequalsÁ≠âÊñπÊ≥ï‰πü‰ºöÈó¥Êé•Âú∞ÊâßË°åËø≠‰ª£Êìç‰ΩúÔºåÂêåÊ†∑ÔºåcontainsAll, removeAllÂíåretainAllÁ≠âÊñπÊ≥ïÔºå‰ª•ÂèäÊääÂÆπÂô®‰Ωú‰∏∫ÂèÇÊï∞ÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÈÉΩ‰ºöÂØπÂÆπÂô®ËøõË°åËø≠‰ª£ÔºåÊâÄÊúâËøô‰∫õÈó¥Êé•ÁöÑËø≠‰ª£Êìç‰ΩúÈÉΩÂèØËÉΩÊäõÂá∫ConcurrentModificationException„ÄÇ Âπ∂ÂèëÂÆπÂô®ÂêåÊ≠•ÂÆπÂô®Â∞ÜÊâÄÊúâÂØπÂÆπÂô®Áä∂ÊÄÅÁöÑËÆøÈóÆÈÉΩ‰∏≤Ë°åÂåñÔºå‰ª•ÂÆûÁé∞ÂÆÉ‰ª¨ÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÔºåËøôÊ†∑ÁöÑ‰ª£‰ª∑Â∞±ÊòØ‰∏•ÈáçÈôç‰ΩéÂπ∂ÂèëÊÄßÔºåÂΩìÂ§ö‰∏™Á∫øÁ®ãÁ´û‰∫âÂÆπÂô®ÁöÑÈîÅÊó∂ÔºåÂêûÂêêÈáèÂ∞Ü‰∏•ÈáçÈôç‰Ωé„ÄÇJava 5.0Êèê‰æõ‰∫ÜÂ§öÁßçÂπ∂ÂèëÂÆπÂô®Á±ªÊù•ÊîπËøõÂêåÊ≠•ÂÆπÂô®ÁöÑÊÄßËÉΩ„ÄÇÈÄöËøáÂπ∂ÂèëÂÆπÂô®Êù•‰ª£ÊõøÂêåÊ≠•ÂÆπÂô®ÔºåÂèØ‰ª•ÊûÅÂ§ßÂú∞ÊèêÈ´ò‰º∏Áº©ÊÄßÂπ∂Èôç‰ΩéÈ£éÈô©„ÄÇ Java 5.0Â¢ûÂä†‰∫ÜConcurrentHashMapÔºåÁî®Êù•Êõø‰ª£Âü∫‰∫éhashÁöÑÂêåÊ≠•mapÔºåÂ¢ûÂä†‰∫ÜCopyOnWriteArrayListÔºåÁî®Êù•Êõø‰ª£‰ª•ÈÅçÂéÜÊìç‰Ωú‰∏∫‰∏ªË¶ÅÊìç‰ΩúÁöÑÂêåÊ≠•List„ÄÇÂú®Êñ∞ÁöÑConcurrentMapÊé•Âè£‰∏≠Â¢ûÂä†‰∫Ü‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÂ§çÂêàÊìç‰ΩúÔºå‰æãÂ¶Ç‚ÄúputIfAbsent‚Äù,replace, Âíå conditional remove„ÄÇ Java 5.0ËøòÂ¢ûÂä†‰∫Ü‰∏§‰∏™Êñ∞ÁöÑÈõÜÂêàÁ±ªÂûãÔºåQueueÂíåBlockingQueue„ÄÇ Java 6.0Â¢ûÂä†‰∫ÜConcurrentSkipListMapÊù•ÊõøÊç¢ÂêåÊ≠•ÁöÑSortedMapÔºåÂ¢ûÂä†‰∫ÜConcurrentSkipListSetÊõøÊç¢SortedSetÔºà‰æãÂ¶ÇTreeMapÂíåTreeSetÔºâ ConcurrentHashMap‰∏éHashMap‰∏ÄÊ†∑ÔºåConcurrentHashMap‰πüÊòØ‰∏Ä‰∏™Âü∫‰∫éHashCodeÁöÑMapÔºå‰ΩÜÂÆÉ‰ΩøÁî®‰∫Ü‰∏ÄÁßçÂÆåÂÖ®‰∏çÂêåÁöÑÂä†ÈîÅÁ≠ñÁï•Êù•Êèê‰æõÊõ¥È´òÁöÑÂπ∂ÂèëÊÄßÂíå‰º∏Áº©ÊÄß„ÄÇConcurrentHashMapÂπ∂‰∏çÊòØÂ∞ÜÊØè‰∏™ÊñπÊ≥ïÈÉΩÂú®Âêå‰∏ÄÊääÈîÅ‰∏äÂêåÊ≠•Âπ∂‰ΩøÂæóÊØèÊ¨°Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÆøÈóÆÂÆπÂô®ÔºåËÄåÊòØ‰ΩøÁî®‰∏Ä‰∏™ÁßçÁ≤íÂ∫¶Êõ¥ÁªÜÁöÑÂä†ÈîÅÊú∫Âà∂Êù•Êó∂Èó¥ÂÖ±‰∫´ÔºåÂè´ÂÅöÂàÜÊÆµÈîÅ„ÄÇÂú®ËøôÁßçÊú∫Âà∂‰∏ãÔºå‰ªªÊÑèÊï∞ÈáèÁöÑËØªÂèñÁ∫øÁ®ãÂèØ‰ª•Âπ∂ÂèëÂú∞ËÆøÈóÆËøô‰∏™mapÔºåÊâßË°åËØªÂèñÊìç‰ΩúÁöÑÁ∫øÁ®ãÂíåÊâßË°åÂÜôÂÖ•Êìç‰ΩúÁöÑÁ∫øÁ®ãÂèØ‰ª•Âπ∂ÂèëÂú∞ËÆøÈóÆmapÔºåÂπ∂‰∏î‰∏ÄÂÆöÊï∞ÈáèÁöÑÂÜôÂÖ•Á∫øÁ®ãÂèØ‰ª•Âπ∂ÂèëÂú∞‰øÆÊîπMap„ÄÇ ËÄå‰∏îConcurrentHashMapÊèê‰æõÁöÑËø≠‰ª£Âô®‰∏ç‰ºöÊäõÂá∫ConcurrentModificationExceptionÔºåÂõ†Ê≠§‰∏çÈúÄË¶ÅÂÜçËø≠‰ª£ËøáÁ®ã‰∏≠ÂØπÂÆπÂô®Âä†ÈîÅ„ÄÇÂÆÉËøîÂõûÁöÑËø≠‰ª£Âô®ÂÖ∑ÊúâÂº±‰∏ÄËá¥ÊÄßÔºåËÄåÂπ∂Èùû‚ÄúÂèäÊó∂Â§±Ë¥•‚Äù„ÄÇÂº±‰∏ÄËá¥ÊÄßÁöÑËø≠‰ª£Âô®ÂèØ‰ª•ÂÆπÂøçÂπ∂ÂèëÁöÑ‰øÆÊîπÔºåÂΩìÂàõÂª∫Ëø≠‰ª£Âô®Êó∂‰ºöÈÅçÂéÜÂ∑≤ÊúâÁöÑÂÖÉÁ¥†ÔºåÂπ∂ÂèØ‰ª•Âú®Ëø≠‰ª£Âô®Ë¢´ÊûÑÈÄ†ÂêéÂ∞Ü‰øÆÊîπÊìç‰ΩúÂèçÊò†ÁªôÂÆπÂô®„ÄÇ ‰∏éHashtableÂíåsynchronized-MapÁõ∏ÊØîÔºåConcurrentHashMapÊúâÁùÄÊõ¥Â§öÁöÑ‰ºòÂäø‰ª•ÂèäÊõ¥Â∞ëÁöÑÂä£Âäø„ÄÇÂõ†Ê≠§Âú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåÁî®ConcurrentHashMapÊù•‰ª£ÊõøÂêåÊ≠•MapËÉΩËøõ‰∏ÄÊ≠•ÊèêÈ´ò‰ª£Á†ÅÁöÑÂèØ‰º∏Áº©ÊÄßÔºåÂè™ÊúâÂΩìÂ∫îÁî®Á®ãÂ∫èÈúÄË¶ÅÁªômapÂä†ÈîÅ‰ª•ËøõË°åÁã¨Âç†ËÆøÈóÆÊó∂ÔºåÊâçÂ∫îËØ•ÊîæÂºÉ‰ΩøÁî®ConcurrentHashMap„ÄÇ È¢ùÂ§ñÁöÑÂéüÂ≠êMapÊìç‰ΩúÁî±‰∫éConcurrentHashMap‰∏çËÉΩË¢´Âä†ÈîÅÊù•ÊâßË°åÁã¨Âç†ËÆøÈóÆÔºåÂõ†Ê≠§‰πüÊó†Ê≥ï‰ΩøÁî®ÂÆ¢Êà∑Á´ØÂä†ÈîÅÊù•ÂàõÂª∫Êñ∞ÁöÑÂéüÂ≠êÊìç‰Ωú„ÄÇ‰ΩÜÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÂ§çÂêàÊìç‰ΩúÔºåÂ¶Ç‚ÄúÂ¶ÇÊ≤°ÊúâÂàôÊ∑ªÂä†Ôºàput-if-absentÔºâ‚Äù,‚ÄùËã•Áõ∏Á≠âÂàôÁßªÈô§Ôºàremove-if-equalsÔºâ‚Äù,‚ÄùËã•Áõ∏Á≠âÂàôÊõøÊç¢Ôºàreplace-if-equalsÔºâ‚ÄùÁ≠âÔºåÈÉΩÂ∑≤ÁªèÂú®ConcurrentMapÊé•Âè£‰∏≠ÊúâÂ£∞ÊòéÔºåÊâÄ‰ª•Â¶ÇÊûúÈúÄË¶Å‰∏∫Áé∞ÊúâÁöÑÂêåÊ≠•MapÊ∑ªÂä†ËøôÊ†∑ÁöÑÂäüËÉΩÔºåÂ∞±Â∫îËØ•ËÄÉËôë‰ΩøÁî®ConcurrentMap‰∫Ü„ÄÇ CopyOnWriteArrayListCopyOnWriteArrayListÁî®‰∫éÊõø‰ª£ÂêåÊ≠•listÔºåÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÊèê‰æõ‰∫ÜÊõ¥Â•ΩÁöÑÂπ∂ÂèëÊÄßËÉΩÔºåÂπ∂‰∏îÂú®Ëø≠‰ª£Âô®Èó¥‰∏çÈúÄË¶ÅÂØπÂÆπÂô®ËøõË°åÂä†ÈîÅÊàñÂ§çÂà∂„ÄÇÔºàÁ±ª‰ººÂú∞ÔºåCopyOnWriteArraySetÁöÑ‰ΩúÁî®ÊòØÊõø‰ª£ÂêåÊ≠•setÔºâ Copy-On-WriteÂÆπÂô®ÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÂú®‰∫éÔºåÂè™Ë¶ÅÊ≠£Á°ÆÂú∞ÂèëÂ∏É‰∏Ä‰∏™ÂÆûÈôÖ‰∏çÂèØÂèòÁöÑÂØπË±°ÔºåÈÇ£‰πàÂú®ËÆøÈóÆËØ•ÂØπË±°Êó∂Â∞±‰∏çÈúÄË¶ÅËøõ‰∏ÄÊ≠•ÁöÑÂêåÊ≠•‰∫Ü„ÄÇ Copy-On-Write‰ªéÂ≠óÈù¢‰∏äÁúãÂ∞±ÊòØÔºåWriteÁöÑÊó∂ÂÄôÊÄªÊòØË¶ÅCopyÔºåÊâÄ‰ª•Âú®ÊØèÊ¨°‰øÆÊîπÊó∂ÔºåÈÉΩ‰ºöÂàõÂª∫Âπ∂ÈáçÊñ∞ÂèëÂ∏É‰∏Ä‰∏™Êñ∞ÁöÑÂÆπÂô®ÂâØÊú¨„ÄÇËÄåCopyOnWriteArrayListÂÆπÂô®ÁöÑËø≠‰ª£Âô®‰ºö‰øùÁïô‰∏Ä‰∏™ÊåáÂêëÂéüÂßãÊï∞ÁªÑÁöÑÂºïÁî®ÔºåÈÅçÂéÜÁöÑ‰πüÊòØÂéüÂßãÊï∞ÁªÑÔºåËÄåÂÖ∂‰ªñÁ∫øÁ®ã‰øÆÊîπÁöÑÊòØËøô‰∏™ÂéüÂßãÊï∞ÁªÑÁöÑÂâØÊú¨ÔºåÊâÄ‰ª•‰πü‰∏ç‰ºöÂΩ±ÂìçÂéüÂßãÊï∞ÁªÑÔºåÂéüÂßãÊï∞ÁªÑ‰∏ç‰ºöÊîπÂèòÔºå‰πüÂ∞±‰∏ç‰ºöÊúâConcurrentModificationException‰∫ÜÔºåÂπ∂‰∏îËøîÂõûÁöÑÂÖÉÁ¥†ÂíåËø≠‰ª£Âô®ÂàõÂª∫Êó∂ÁöÑÂÖÉÁ¥†ÂÆåÂÖ®‰∏ÄËá¥„ÄÇ ÊòæÁÑ∂ÔºåÊØèÂΩì‰øÆÊîπÂÆπÂô®Êó∂ÈÉΩ‰ºöÂ§çÂà∂ÂéüÂßãÊï∞ÁªÑÔºåËøôÈúÄË¶Å‰∏ÄÂÆöÂºÄÈîÄÔºåÁâπÂà´ÊòØÂΩìÂÆπÂô®ÁöÑËßÑÊ®°ËæÉÂ§ßÊó∂„ÄÇ‰ªÖÂΩìËø≠‰ª£Âô®Êìç‰ΩúÂ§ö‰∫é‰øÆÊîπÊìç‰ΩúÊó∂ÔºåÊâçÂ∫îËØ•‰ΩøÁî®‚ÄúÂÜôÂÖ•Êó∂Â§çÂà∂‚ÄùÂÆπÂô®„ÄÇ ÈòªÂ°ûÈòüÂàóÂíåÁîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖÊ®°ÂºèÂü∫‰∫éÈòªÂ°ûÈòüÂàóÊûÑÂª∫ÁöÑÁîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖËÆæËÆ°‰∏≠ÔºöÂΩìÊï∞ÊçÆÁîüÊàêÊó∂ÔºåÁîü‰∫ßËÄÖÊääÊï∞ÊçÆÊîæÂÖ•ÈòüÂàóÔºåËÄåÂΩìÊ∂àË¥πËÄÖÂáÜÂ§áÂ§ÑÁêÜÊï∞ÊçÆÊó∂ÔºåÂ∞Ü‰ªéÈòüÂàó‰∏≠Ëé∑ÂèñÊï∞ÊçÆ„ÄÇÈòªÂ°ûÈòüÂàóÁÆÄÂåñ‰∫ÜÁîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖËÆæËÆ°ÁöÑÂÆûÁé∞ËøáÁ®ãÔºåÂÆÉÊîØÊåÅ‰ªªÊÑèÊï∞ÈáèÁöÑÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖ„ÄÇ Âú®ÊûÑÂª∫È´òÂèØÈù†ÁöÑÂ∫îÁî®Á®ãÂ∫èÊó∂ÔºåÊúâÁïåÈòüÂàóÊòØ‰∏ÄÁßçÂº∫Â§ßÁöÑËµÑÊ∫êÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºöÂÆÉ‰ª¨ËÉΩÊäëÂà∂Âπ∂Èò≤Ê≠¢‰∫ßÁîüËøáÂ§öÁöÑÂ∑•‰ΩúÈ°πÔºå‰ΩøÂ∫îÁî®Á®ãÂ∫èÂú®Ë¥üËç∑ËøáËΩΩÁöÑÊÉÖÂÜµ‰∏ãÂèòÂæóÊõ¥Âä†ÂÅ•Â£Æ„ÄÇ BlockingQueueÊúâÂ§öÁßçÂÆûÁé∞ÔºöLinkedBlockingQueueÂíåArrayBlockingQueueÊòØFIFOÈòüÂàóÔºå‰∏éLinkedListÂíåArrayListÁõ∏‰ººÔºå‰ΩÜÊØîÂêåÊ≠•listÊúâÊõ¥Â•ΩÁöÑÂπ∂ÂèëÊÄßËÉΩ„ÄÇPriorityBlockingQueueÊòØ‰∏Ä‰∏™Êåâ‰ºòÂÖàÁ∫ßÊéíÂ∫èÁöÑÈòüÂàóÔºåÂΩì‰Ω†Â∏åÊúõÊåâÁÖßÊüêÁßçÈ°∫Â∫èËÄå‰∏çÊòØFIFOÊù•Â§ÑÁêÜÂÖÉÁ¥†Êó∂ÔºåËøô‰∏™ÈòüÂàóÈùûÂ∏∏ÊúâÁî®ÔºåPriorityBlockingQueueÊó¢ÂèØ‰ª•Ê†πÊçÆÂÖÉÁ¥†ÁöÑËá™ÁÑ∂È°∫Â∫èÊù•ÊØîËæÉÂÖÉÁ¥†Ôºå‰πüÂèØ‰ª•‰ΩøÁî®ComparatorÊù•ÊØîËæÉ„ÄÇÊúÄÂêé‰∏Ä‰∏™BlockingQueueÊòØSynchronousQueueÔºåÂÆÉÂπ∂‰∏çÊòØ‰∏Ä‰∏™ÁúüÊ≠£ÁöÑÈòüÂàóÔºåÂõ†‰∏∫ÂÆÉ‰∏ç‰ºö‰∏∫ÈòüÂàó‰∏≠ÂÖÉÁ¥†Áª¥Êä§Â≠òÂÇ®Á©∫Èó¥„ÄÇÂÆÉÁª¥Êä§ÁöÑÊòØ‰∏ÄÁªÑÁ∫øÁ®ãÔºåËøô‰∫õÁ∫øÁ®ãÂú®Á≠âÂæÖÁùÄÊääÂÖÉÁ¥†Âä†ÂÖ•ÊàñÁßªÂá∫ÈòüÂàó„ÄÇ‰ª•Ê¥óÁõòÂ≠ê‰∏∫‰æãÔºåÁõ∏ÂΩì‰∫éÊ≤°ÊúâÁõòÊû∂ÔºåÁõ¥Êé•Â∞ÜÊ¥óÂ•ΩÁöÑÁõòÂ≠êÊîæÂÖ•‰∏ã‰∏Ä‰∏™Á©∫Èó≤ÁöÑÁÉòÂπ≤Êú∫‰∏≠ÔºåÂÆÉÂèØ‰ª•Áõ¥Êé•‰∫§‰ªòÂ∑•‰ΩúÔºå‰ªéËÄåÈôç‰Ωé‰∫ÜÂ∞ÜÊï∞ÊçÆ‰ªéÁîü‰∫ßËÄÖÁßªÂä®Âà∞Ê∂àË¥πËÄÖÁöÑÂª∂Ëøü„ÄÇÂõ†‰∏∫SynchronousQueueÊ≤°ÊúâÂ≠òÂÇ®ÂäüËÉΩÔºåÂõ†Ê≠§putÂíåtake‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÔºåÁõ¥Âà∞ÊúâÂè¶‰∏Ä‰∏™Á∫øÁ®ãÂ∑≤ÁªèÂáÜÂ§áÂ•ΩÂèÇ‰∏éÂà∞‰∫§‰ªòËøáÁ®ã‰∏≠„ÄÇ‰ªÖÂΩìÊúâË∂≥Â§üÂ§öÁöÑÊ∂àË¥πËÄÖÔºåÂπ∂‰∏îÊÄªÊúâ‰∏Ä‰∏™Ê∂àË¥πËÄÖÂáÜÂ§áÂ•ΩËé∑Âèñ‰∫§‰ªòÁöÑÂ∑•‰ΩúÊó∂ÔºåÊâçÈÄÇÂêà‰ΩøÁî®ÂêåÊ≠•ÈòüÂàó„ÄÇ ‰∏≤Ë°åÁ∫øÁ®ãÂ∞ÅÈó≠ÂØπ‰∫éÂèØÂèòÂØπË±°ÔºåÁîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖËøôÁßçËÆæËÆ°‰∏éÈòªÂ°ûÈòüÂàóÁªÑÂêàÂú®‰∏ÄËµ∑‰ΩøÂæóÊääÂØπË±°‰ªéÁîü‰∫ßËÄÖËΩ¨ÁßªÁªôÊ∂àË¥πËÄÖÂèòÂæóÂÆπÊòì„ÄÇÁ∫øÁ®ãÂ∞ÅÈó≠ÂØπË±°Âè™ËÉΩÁî±Âçï‰∏™Á∫øÁ®ãÊã•ÊúâÔºå‰ΩÜÂèØ‰ª•ÈÄöËøáÂÆâÂÖ®Âú∞ÂèëÂ∏ÉËØ•ÂØπË±°Êù•ËΩ¨ÁßªÊâÄÊúâÊùÉ„ÄÇÂú®ÊâÄÊúâÊùÉËΩ¨ÁßªÂêéÔºåÂ∞±Âè™ÊúâÊñ∞Á∫øÁ®ãËÉΩËé∑ÂæóËøô‰∏™ÂØπË±°ÁöÑËÆøÈóÆÊùÉÈôêÔºåÂπ∂‰∏îÂèëÂ∏ÉÂØπË±°ÁöÑÁ∫øÁ®ã‰∏ç‰ºöÂÜçËÆøÈóÆÂÆÉ„ÄÇËøôÁßçÂÆâÂÖ®ÁöÑÂèëÂ∏ÉÁ°Æ‰øù‰∫ÜÂØπË±°Áä∂ÊÄÅÂØπ‰∫éÊñ∞ÁöÑÊâÄÊúâËÄÖÊù•ËØ¥ÊòØÂèØËßÅÁöÑÔºåÂπ∂‰∏îÁî±‰∫éÊúÄÂàùÁöÑÊâÄÊúâËÄÖ‰∏ç‰ºöÂÜçËÆøÈóÆÂÆÉÔºåÊâÄ‰ª•Ëøô‰∏™ÂØπË±°ÂèàË¢´Â∞ÅÈó≠Âú®Êñ∞ÁöÑÁ∫øÁ®ã‰∏≠ÔºåÊñ∞Á∫øÁ®ãÂèØ‰ª•ÂØπËØ•ÂØπË±°ÂÅö‰ªªÊÑè‰øÆÊîπÔºåÂõ†‰∏∫ÂÆÉÂÖ∑ÊúâÁã¨Âç†ÁöÑËÆøÈóÆÊùÉ„ÄÇ ÂØπË±°Ê±†Âà©Áî®‰∫Ü‰∏≤Ë°åÁ∫øÁ®ãÂ∞ÅÈó≠ÔºåÂ∞ÜÂØπË±°ÂÄüÁªô‰∏Ä‰∏™ËØ∑Ê±ÇÁ∫øÁ®ã„ÄÇÂè™Ë¶ÅÂØπË±°Ê±†ÂåÖÂê´Ë∂≥Â§üÁöÑÂÜÖÈÉ®ÂêåÊ≠•Êù•ÂÆâÂÖ®Âú∞ÂèëÂ∏ÉÊ±†‰∏≠ÁöÑÂØπË±°ÔºåÂπ∂‰∏îÂè™Ë¶ÅÂÆ¢Êà∑‰ª£Á†ÅÊú¨Ë∫´‰∏ç‰ºöÂèëÂ∏ÉÊ±†‰∏≠ÁöÑÂØπË±°ÔºåÊàñËÄÖÂú®Â∞ÜÂØπË±°ËøîÂõûÁªôÂØπË±°Ê±†ÂêéÂ∞±‰∏çÂÜç‰ΩøÁî®ÂÆÉÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•ÂÆâÂÖ®Âú∞Âú®Á∫øÁ®ã‰πãÈó¥‰º†ÈÄíÊâÄÊúâÊùÉ„ÄÇ ÂèåÁ´ØÈòüÂàó‰∏éÂ∑•‰ΩúÂØÜÂèñJava 6Â¢ûÂä†‰∫Ü‰∏§ÁßçÂÆπÂô®Á±ªÂûãÔºåDeque&amp;BlockingQueue„ÄÇDequeÊòØ‰∏Ä‰∏™ÂèåÁ´ØÈòüÂàóÔºåÂÆûÁé∞‰∫ÜÂú®ÈòüÂàóÂ§¥ÂíåÈòüÂàóÂ∞æÁöÑÈ´òÊïàÊèíÂÖ•ÂíåÁßªÈô§„ÄÇ ÂèåÁ´ØÈòüÂàóÈÄÇÁî®‰∫éÂè¶‰∏ÄÁßçÁõ∏ÂÖ≥Ê®°ÂºèÔºåÂç≥Â∑•‰ΩúÂØÜÂèñÔºàWork StealingÔºâ„ÄÇÔºà‰∏çÊáÇÔºâ ÂêåÊ≠•Â∑•ÂÖ∑Á±ªÂêåÊ≠•Âô®ÂèØ‰ª•ÊòØ‰ªª‰Ωï‰∏Ä‰∏™ÂØπË±°ÔºåÂè™Ë¶ÅÂÆÉÊ†πÊçÆÂÖ∂Ëá™Ë∫´ÁöÑÁä∂ÊÄÅÊù•ÂçèË∞ÉÁ∫øÁ®ãÁöÑÊéßÂà∂ÊµÅÂ∞±ÂèØ‰ª•Âè´ÂêåÊ≠•Âô®„ÄÇÈòªÂ°ûÈòüÂàóÂèØ‰ª•‰Ωú‰∏∫ÂêåÊ≠•Âô®ÔºåÂÖ∂‰ªñÁ±ªÂûãÁöÑÂêåÊ≠•Âô®ËøòÂåÖÊã¨‰ø°Âè∑Èáè(Semaphore)/Ê†ÖÊ†èÔºàBarrierÔºâ‰ª•ÂèäÈó≠ÈîÅÔºàLatchÔºâ„ÄÇ ÊâÄÊúâÁöÑÂêåÊ≠•Âô®ÈÉΩÂåÖÂê´‰∏Ä‰∫õÁâπÂÆöÁöÑÁªìÊûÑÂåñÂ±ûÊÄßÔºöÂÆÉ‰ª¨Â∞ÅË£Ö‰∫Ü‰∏Ä‰∫õÁä∂ÊÄÅÔºåËøô‰∫õÁä∂ÊÄÅÂ∞ÜÂÜ≥ÂÆö‰ΩøÁî®ÂêåÊ≠•Âô®ÁöÑÁ∫øÁ®ãÊòØÁªßÁª≠ÊâßË°åËøòÊòØÁ≠âÂæÖÔºåÊ≠§Â§ñËøòÊèê‰æõ‰∫Ü‰∏Ä‰∫õÊñπÊ≥ïÂØπÁä∂ÊÄÅËøõË°åÊìç‰ΩúÔºå‰ª•ÂèäÂè¶‰∏Ä‰∫õÊñπÊ≥ïÁî®‰∫éÈ´òÊïàÂú∞Á≠âÂæÖÂêåÊ≠•Âô®ËøõÂÖ•Âà∞È¢ÑÊúüÁä∂ÊÄÅ„ÄÇ Èó≠ÈîÅÈó≠ÈîÅÊó∂‰∏ÄÁßçÂêåÊ≠•Âô®ÔºåÂèØ‰ª•Âª∂ËøüÁ∫øÁ®ãÁöÑËøõÂ∫¶Áõ¥Âà∞Á∫øÁ®ãÂà∞ËææÁªàÊ≠¢Áä∂ÊÄÅ„ÄÇÈó≠ÈîÅÁöÑ‰ΩúÁî®Áõ∏ÂΩì‰∫é‰∏ÄÊâáÈó®ÔºöÂú®Èó≠ÈîÅÂà∞ËææterminalÁä∂ÊÄÅÂâçÔºåËøôÊâáÈó®‰∏ÄÁõ¥ÊòØÂÖ≥Èó≠ÁöÑÔºåÊ≤°Êúâ‰ªª‰ΩïÁ∫øÁ®ãÈÄöËøáÔºåËÄåÂΩìÂà∞ËææterminalÁä∂ÊÄÅÊó∂ÔºåËøôÊâáÈó®Â∞±‰ºöÊâìÂºÄÂÖÅËÆ∏ÊâÄÊúâÁ∫øÁ®ãÈÄöËøá„ÄÇÂΩìÈó≠ÈîÅËææÂà∞terminalÁä∂ÊÄÅÔºåÂÆÉÁöÑÁä∂ÊÄÅÂ∞±‰∏ç‰ºöÂÜçÊîπÂèòÔºåÂõ†Ê≠§ËøôÊâáÈó®‰ºöÊ∞∏ËøúÊâìÂºÄ„ÄÇÈó≠ÈîÅÂèØ‰ª•Áî®Êù•Á°Æ‰øùÊüê‰∫õÊ¥ªÂä®Áõ¥Âà∞ÂÖ∂‰ªñÊ¥ªÂä®ÈÉΩÂÆåÊàêÂêéÊâçÁªßÁª≠ÊâßË°å„ÄÇ‰æãÂ¶ÇÔºö Á°Æ‰øùÊüê‰∏™ËÆ°ÁÆóÂú®ÂÖ∂ÈúÄË¶ÅÁöÑÊâÄÊúâËµÑÊ∫êÈÉΩÂàùÂßãÂåñ‰πãÂêéÊâçÁªßÁª≠ÊâßË°å Á°Æ‰øùÊüê‰∏™ÊúçÂä°Âú®ÂÖ∂‰æùËµñÁöÑÊâÄÊúâÂÖ∂‰ªñÊúçÂä°ÈÉΩÂ∑≤ÁªèÂêØÂä®‰πãÂêéÊâçÂêØÂä® Á≠âÂæÖÊüê‰∏™Êìç‰ΩúÁöÑÊâÄÊúâÂèÇ‰∏éËÄÖÈÉΩÂ∞±Áª™ÂÜçÁªßÁª≠ÊâßË°å CountDownLatchÊòØ‰∏ÄÁßçÁÅµÊ¥ªÁöÑÈó≠ÈîÅÔºåÂèØ‰ª•Âú®‰∏äËø∞ÂêÑÁßçÊÉÖÂÜµ‰∏≠‰ΩøÁî®ÔºåÂÆÉÂèØ‰ª•‰Ωø‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á∫øÁ®ãÁ≠âÂæÖ‰∏ÄÁªÑ‰∫ã‰ª∂ÂèëÁîü„ÄÇcountDownÊñπÊ≥ïÈÄíÂáèËÆ°Êï∞Âô®ÔºåË°®Á§∫Êúâ‰∏Ä‰∏™‰∫ã‰ª∂Â∑≤ÁªèÂèëÁîü‰∫ÜÔºåËÄåawaitÊñπÊ≥ïÁ≠âÂæÖËÆ°Êï∞Âô®ËææÂà∞Èõ∂ÔºåËøôË°®Á§∫ÊâÄÊúâÈúÄË¶ÅÁ≠âÂæÖÁöÑ‰∫ã‰ª∂ÈÉΩÂ∑≤ÁªèÂèëÁîü„ÄÇÂ¶ÇÊûúËÆ°Êï∞Âô®ÁöÑÂÄºÈùûÈõ∂ÔºåÈÇ£‰πàawait‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÁõ¥Âà∞ËÆ°Êï∞Âô®‰∏∫Èõ∂ÔºåÊàñËÄÖÁ≠âÂæÖ‰∏≠ÁöÑÁ∫øÁ®ã‰∏≠Êñ≠ÔºåÊàñËÄÖÁ≠âÂæÖË∂ÖÊó∂„ÄÇ‰æãÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class TestHarness &#123; public long timeTasks(int nThreads, final Runnable task) throws InterruptedException &#123; final CountDownLatch startGate = new CountDownLatch(1); final CountDownLatch endGate = new CountDownLatch(nThreads); for(int i = 0; i &lt; nThreads; i++) &#123; Thread t = new Thread() &#123; public void run() &#123; try &#123; startGate.await(); try &#123; task.run(); &#125; finally &#123; endGate.countDown(); &#125; &#125; catch (InterruptedException ignored) &#123;&#125; &#125; &#125;; t.start(); &#125; long start = System.nanoTime(); startGate.countDown(); endGate.await(); long end = System.nanoTime(); return end-start; &#125; public static void main(String[] args) &#123; Runnable task = new Runnable() &#123; @Override public void run() &#123; System.out.println("ing"); &#125; &#125;; try &#123; long interval = new TestHarness().timeTasks(3, task); System.out.println(interval); &#125; catch (InterruptedException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125;&#125; ÂêØÂä®Èó®Â∞Ü‰ΩøÂæó‰∏ªÁ∫øÁ®ãËÉΩÂ§üÂêåÊó∂ÈáäÊîæÊâÄÊúâÂ∑•‰ΩúÁ∫øÁ®ãÔºåËÄåÁªìÊùüÈó®Âàô‰Ωø‰∏ªÁ∫øÁ®ãËÉΩÂ§üÁ≠âÂæÖÊúÄÂêé‰∏Ä‰∏™Á∫øÁ®ãÊâßË°åÂÆåÊàê„ÄÇ FutureTaskFutureTask‰πüÂèØ‰ª•Áî®‰ΩúÈó≠ÈîÅÔºåÂÆÉÂèØ‰ª•Â§Ñ‰∫é‰∏ãÈù¢3ÁßçÁä∂ÊÄÅÔºöÁ≠âÂæÖËøêË°å„ÄÅÊ≠£Âú®ËøêË°åÂíåËøêË°åÂÆåÊàê„ÄÇFuture.getÁöÑË°å‰∏∫ÂèñÂÜ≥‰∫é‰ªªÂä°ÁöÑÁä∂ÊÄÅÔºåÂ¶ÇÊûú‰ªªÂä°Â∑≤ÁªèÂÆåÊàêÔºåÈÇ£‰πàget‰ºöÁ´ãÂç≥ËøîÂõûÁªìÊûúÔºåÂê¶ÂàôgetÂ∞ÜÈòªÂ°ûÁõ¥Âà∞‰ªªÂä°ËøõË°åÂÆåÊàêÁä∂ÊÄÅ„ÄÇ ‰ø°Âè∑ÈáèËÆ°Êï∞‰ø°Âè∑ÈáèÁî®Êù•ÊéßÂà∂ÂêåÊó∂ËÆøÈóÆÊüê‰∏™ÁâπÂÆöËµÑÊ∫êÁöÑÊìç‰ΩúÊï∞ÈáèÔºåÊàñËÄÖÂêåÊó∂ÊâßË°åÊüê‰∏™ÊåáÂÆöÊìç‰ΩúÁöÑÊï∞Èáè„ÄÇËÆ°Êï∞‰ø°Âè∑ÈáèËøòÂèØ‰ª•Áî®Êù•ÂÆûÁé∞ÊüêÁßçËµÑÊ∫êÊ±†ÔºåÊàñËÄÖÂØπÂÆπÂô®ÊñΩÂä†ËæπÁïå„ÄÇ SemaphoreÁÆ°ÁêÜÁùÄ‰∏ÄÁªÑËôöÊãüÁöÑpermitsÔºåËÆ∏ÂèØÁöÑÂàùÂßãÊï∞ÈáèÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞ÊåáÂÆö„ÄÇÂú®ÊâßË°åÊìç‰ΩúÂâçÂÖàacquire permitsÔºàÂè™Ë¶ÅÊúâÂâ©‰ΩôÁöÑËÆ∏ÂèØÂ∞±ÂèØ‰ª•ÔºâÔºåÂú®‰ΩøÁî®ÂÆåÂêé‰ºöreleaseËøô‰∏™ËÆ∏ÂèØ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâËé∑ÂæópermitÔºåacquireÊñπÊ≥ïÂ∞Ü‰∏ÄÁõ¥ÈòªÂ°ûÂà∞ÊúâËÆ∏ÂèØÊàñÊåáÂØºË¢´‰∏≠Êñ≠ÊàñË∂ÖÊó∂„ÄÇreleaseÊñπÊ≥ïÂ∞ÜËøîÂõû‰∏Ä‰∏™permitÁªô‰ø°Âè∑Èáè„ÄÇ Semaphore‰πüÂèØ‰ª•Â∞Ü‰ªª‰Ωï‰∏ÄÁßçÂÆπÂô®ÂèòÊàêÊúâÁïåÈòªÂ°ûÂÆπÂô®„ÄÇ‰ø°Âè∑ÈáèÁöÑËÆ°Êï∞ÂÄº‰ºöÂàùÂßãÂåñ‰∏∫ÂÆπÂô®ÂÆπÈáèÁöÑÊúÄÂ§ßÂÄºÔºåaddÊìç‰ΩúÂú®ÂêëÂÆπÂô®Ê∑ªÂä†‰∏Ä‰∏™ÂÖÉÁ¥†‰πãÂâçÔºåÈ¶ñÂÖàËé∑Âèñ‰∏Ä‰∏™permitÔºåÁÑ∂ÂêéÂÜçÊ∑ªÂä†ÔºåÂ¶ÇÊûúÊ∑ªÂä†Â§±Ë¥•ÔºåÈÇ£‰πà‰ºöÈáäÊîæËÆ∏ÂèØÔºåÂ¶ÇÊûúÊàêÂäüÂ∞±‰∏çÈáäÊîæ‰∫Ü„ÄÇÂêåÊ†∑ÔºåremoveÊìç‰Ωú‰ºöÈáäÊîæ‰∏Ä‰∏™ËÆ∏ÂèØÔºåÊù•‰ΩøÊõ¥Â§öÁöÑÂÖÉÁ¥†ËÉΩÂ§üÊ∑ªÂä†Âà∞ÂÆπÂô®‰∏≠„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132public class BoundedHashSet&lt;T&gt; &#123; private final Set&lt;T&gt; set; private final Semaphore sem; public BoundedHashSet(int bound) &#123; this.set = Collections.synchronizedSet(new HashSet&lt;T&gt;()); sem = new Semaphore(bound); &#125; public boolean add(T o) throws InterruptedException &#123; sem.acquire(); boolean wasAdded = false; try &#123; wasAdded = set.add(o); &#125; finally &#123; if (!wasAdded) &#123; sem.release(); &#125; &#125; return wasAdded; &#125; public boolean remove(Object o) &#123; boolean wasRemoved = set.remove(o); if (wasRemoved) &#123; sem.release(); &#125; return wasRemoved; &#125;&#125; Ê†ÖÊ†èÈó≠ÈîÅÂèØ‰ª•ÂêØÂä®‰∏ÄÁªÑÁõ∏ÂÖ≥ÁöÑÊìç‰ΩúÔºåÊàñËÄÖÁ≠âÂæÖ‰∏ÄÁªÑÁõ∏ÂÖ≥ÁöÑÊìç‰ΩúÁªìÊùü„ÄÇÈó≠ÈîÅÊó∂‰∏ÄÊ¨°ÊÄßÂØπË±°Ôºå‰∏ÄÊó¶ËøõÂÖ•ÁªàÊ≠¢Áä∂ÊÄÅÔºåÂ∞±‰∏çËÉΩË¢´ÈáçÁΩÆ„ÄÇ Ê†ÖÊ†èÁ±ª‰ºº‰∫éÈó≠ÈîÅÔºåÂÆÉËÉΩÈòªÂ°û‰∏ÄÁªÑÁ∫øÁ®ãÁõ¥Âà∞Êüê‰∏™‰∫ã‰ª∂ÂèëÁîü„ÄÇÊ†ÖÊ†è‰∏éÈó≠ÈîÅÁöÑÂÖ≥ÈîÆÂå∫Âà´Âú®‰∫éÔºåÊâÄÊúâÁ∫øÁ®ãÂøÖÈ°ªÂêåÊó∂Âà∞ËææÊ†ÖÊ†è‰ΩçÁΩÆÔºåÊâçËÉΩÁªßÁª≠ÊâßË°å„ÄÇÈó≠ÈîÅÁî®‰∫éÁ≠âÂæÖ‰∫ã‰ª∂ÂèëÁîüÔºåËÄåÊ†ÖÊ†èÁî®‰∫éÁ≠âÂæÖÂÖ∂‰ªñÁ∫øÁ®ã„ÄÇ ÊûÑÂª∫È´òÊïà‰∏îÂèØ‰º∏Áº©ÁöÑÁªìÊûúÁºìÂ≠ò‰∏ãÈù¢ÁöÑÂá†‰∏™‰ª£Á†ÅÊÆµÂ∞ÜÈÄêÊ≠•ÊûÑÊû∂‰∏Ä‰∏™È´òÊïà‰∏îÂèØ‰º∏Áº©ÁöÑÁºìÂ≠òÔºö123456789101112131415161718192021222324252627282930313233// Memoizer1Â≠òÂú®‰∏Ä‰∏™ÂèØ‰º∏Áº©ÁöÑÈóÆÈ¢òÔºåÊØèÊ¨°Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üÊâßË°åcompute„ÄÇpublic interface Computable&lt;A,V&gt; &#123; V compute(A arg) throws InterruptedException;&#125;public class ExpensiveFunction implements Computable&lt;String, BigInteger&gt;&#123; @Override public BigInteger compute(String arg) throws InterruptedException &#123; //Âú®ÁªèËøáÈïøÊó∂Èó¥ÁöÑËÆ°ÁÆóÂêé return new BigInteger(arg); &#125;&#125;public class Memoizer1&lt;A, V&gt; implements Computable&lt;A, V&gt; &#123; private final Map&lt;A, V&gt; cache = new HashMap&lt;A, V&gt;(); private final Computable&lt;A, V&gt; c; public Memoizer1(Computable&lt;A, V&gt; c) &#123; this.c = c; &#125; @Override public synchronized V compute(A arg) throws InterruptedException &#123; V result = cache.get(arg); if (result == null) &#123; result = c.compute(arg); cache.put(arg, result); &#125; return result; &#125;&#125; 1234567891011121314151617181920// ‰ºöÂ≠òÂú®ÈáçÂ§çËÆ°ÁÆóÁöÑÈóÆÈ¢òpublic class Memoizer2&lt;A, V&gt; implements Computable&lt;A, V&gt; &#123; private final Map&lt;A, V&gt; cache = new ConcurrentHashMap&lt;A, V&gt;(); private final Computable&lt;A, V&gt; c; public Memoizer2(Computable&lt;A, V&gt; c) &#123; this.c = c; &#125; @Override public V compute(A arg) throws InterruptedException &#123; V result = cache.get(arg); if (result == null) &#123; result = c.compute(arg); cache.put(arg, result); &#125; return result; &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/*Âà©Áî®FutureTaskÊù•ÂáèÂ∞ëÈáçÂ§çËÆ°ÁÆóÁöÑÈóÆÈ¢ò,‰ΩÜÊòØÁî±‰∫éifÂà§Êñ≠‰∏≠‰æùÁÑ∂Â≠òÂú®ÈùûÂéüÂ≠êÁöÑ‚ÄúÂÖàÊ£ÄÊü•ÂÜçÊâßË°å‚ÄùÁöÑÊìç‰ΩúÔºåÊâÄ‰ª•ËøòÊòØ‰ºöÂ≠òÂú®ÈáçÂ§çËÆ°ÁÆóÁöÑÈóÆÈ¢ò*/ public class Memoizer3&lt;A, V&gt; implements Computable&lt;A, V&gt; &#123; private final Map&lt;A, Future&lt;V&gt;&gt; cache = new ConcurrentHashMap&lt;A, Future&lt;V&gt;&gt;(); private final Computable&lt;A, V&gt; c; public Memoizer3(Computable&lt;A, V&gt; c) &#123; this.c = c; &#125; @Override public V compute(final A arg) throws InterruptedException &#123; Future&lt;V&gt; f = cache.get(arg); if (f == null) &#123; Callable&lt;V&gt; eval = new Callable&lt;V&gt;() &#123; @Override public V call() throws InterruptedException &#123; return c.compute(arg); &#125; &#125;; FutureTask&lt;V&gt; ft = new FutureTask&lt;V&gt;(eval); f = ft; cache.put(arg,ft); ft.run(); &#125; try &#123; return f.get(); &#125; catch (ExecutionException e) &#123; throw launderThrowable(e.getCause()); &#125; &#125; /** * Âº∫Âà∂Â∞ÜÊú™Ê£ÄÊü•ÁöÑThrowableËΩ¨Âåñ‰∏∫RuntimeException * @param t * @return */ public static RuntimeException launderThrowable(Throwable t) &#123; if (t instanceof RuntimeException) &#123; return (RuntimeException) t; &#125; else if (t instanceof Error) &#123; throw (Error) t; &#125; else &#123; throw new IllegalStateException("Not unchecked",t); &#125; &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738// **ÊúÄÁªàÁâà**// Âà©Áî®Â§çÂêàÊìç‰Ωú‚ÄúËã•Ê≤°ÊúâÂàôÊ∑ªÂä†‚ÄùÂèØ‰ª•Ëß£ÂÜ≥Memoizer3ÁöÑÈóÆÈ¢òpublic class Memoizer4&lt;A, V&gt; implements Computable&lt;A, V&gt; &#123; private final Map&lt;A, Future&lt;V&gt;&gt; cache = new ConcurrentHashMap&lt;A, Future&lt;V&gt;&gt;(); private final Computable&lt;A, V&gt; c; public Memoizer4(Computable&lt;A, V&gt; c) &#123; this.c = c; &#125; @Override public V compute(final A arg) throws InterruptedException &#123; while (true) &#123; Future&lt;V&gt; f = cache.get(arg); if (f == null) &#123; Callable&lt;V&gt; eval = new Callable&lt;V&gt;() &#123; @Override public V call() throws InterruptedException &#123; return c.compute(arg); &#125; &#125;; FutureTask&lt;V&gt; ft = new FutureTask&lt;V&gt;(eval); f = ft; cache.putIfAbsent(arg, ft); ft.run(); &#125; try &#123; return f.get(); &#125; catch (CancellationException e) &#123; cache.remove(arg, f); //‰∏∫‰∫ÜËß£ÂÜ≥ÁºìÂ≠òÊ±°ÊüìÈóÆÈ¢òÔºåÂΩìËÆ°ÁÆóË¢´ÂèñÊ∂àÊàñËÄÖÂ§±Ë¥•Êó∂ÔºåÂ∞±‰ªéÁºìÂ≠ò‰∏≠remove &#125; catch (ExecutionException e) &#123; throw launderThrowable(e.getCause()); &#125; &#125; &#125;&#125; ÊÄªÁªìÊûÑÂª∫‰∏Ä‰∏™È´òÊïà‰∏îÂÖ∑Êúâ‰º∏Áº©ÊÄßÁöÑÂü∫Á°ÄÊ®°ÂùóËøòÊòØÊúâÁÇπÈöæÂ∫¶ÁöÑÔºåÊàë‰ª¨Ë¶ÅËÄÉËôëÁöÑ‰∏úË•øÊØîËæÉÂ§öÔºåÊàë‰ª¨Ë¶ÅÂà©Áî®Â∑≤ÊúâÁöÑÂü∫Á°ÄÊ®°ÂùóÂêàÁêÜÊûÑÂª∫„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûË∑µ„ÄãÔºàÂõõÔºâ‚Äî- ÊûÑÂª∫ÈòªÂ°û ÂõæËß£ÈõÜÂêà3ÔºöCopyOnWriteArrayList]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_3_ÂØπË±°ÁöÑÁªÑÂêà]]></title>
    <url>%2F2018%2F01%2F13%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-3-%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BB%84%E5%90%88%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊàë‰ª¨‰∏çÂ∏åÊúõÊØè‰∏ÄÊ¨°ËÆøÈóÆÂÜÖÂ≠òÈÉΩËøõË°åÂàÜÊûê‰ª•Á°Æ‰øùÁ®ãÂ∫èÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåËÄåÊòØÂ∏åÊúõÂ∞Ü‰∏Ä‰∫õÁé∞ÊúâÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÁªÑ‰ª∂ÁªÑÂêà‰∏∫Êõ¥Â§ßËßÑÊ®°ÁöÑÁªÑ‰ª∂ÊàñÁ®ãÂ∫è„ÄÇ ËÆæËÆ°Á∫øÁ®ãÂÆâÂÖ®ÁöÑÁ±ª Âú®ËÆæËÆ°Á∫øÁ®ãÂÆâÂÖ®Á±ªÁöÑËøáÁ®ã‰∏≠ÔºåÈúÄË¶ÅÂåÖÂê´‰ª•‰∏ã‰∏â‰∏™Âü∫Êú¨Ë¶ÅÁ¥†Ôºö ÊâæÂá∫ÊûÑÊàêÂØπË±°Áä∂ÊÄÅÁöÑÊâÄÊúâÂèòÈáè ÊâæÂá∫Á∫¶ÊùüÁä∂ÊÄÅÂèòÈáèÁöÑ‰∏çÂèòÊÄßÊù°‰ª∂ Âª∫Á´ãÂØπË±°ÁöÑÂπ∂ÂèëËÆøÈóÆÁÆ°ÁêÜÁ≠ñÁï• ÂêåÊ≠•Á≠ñÁï•ËßÑÂÆö‰∫ÜÂ¶Ç‰ΩïÂ∞Ü‰∏çÂèòÊÄß„ÄÅÁ∫øÁ®ãÂ∞ÅÈó≠„ÄÅÂä†ÈîÅÊú∫Âà∂Á≠âÁªìÂêàËµ∑Êù•‰ª•Áª¥Êä§Á∫øÁ®ãÁöÑÂÆâÂÖ®ÊÄßÔºåÂπ∂‰∏îËßÑÂÆö‰∫ÜÂì™‰∫õÂèòÈáèÁî±Âì™‰∫õÈîÅÊù•‰øùÊä§„ÄÇË¶ÅÁ°Æ‰øùÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÂØπËøô‰∏™Á±ªËøõË°åÂàÜÊûê‰∏éÁª¥Êä§ÔºåÂ∞±ÂøÖÈ°ªÂ∞ÜÂêåÊ≠•Á≠ñÁï•ÂÜôÊàêÊ≠£ÂºèÊñáÊ°£„ÄÇ Êî∂ÈõÜÂêåÊ≠•ÈúÄÊ±ÇË¶ÅÁ°Æ‰øùÁ±ªÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÔºåÂ∞±ÈúÄË¶ÅÁ°Æ‰øùÂÆÉÁöÑ‰∏çÂèòÊÄßÊù°‰ª∂‰∏ç‰ºöÂÜçÂπ∂ÂèëËÆøÈóÆÊó∂Ë¢´Á†¥ÂùèÔºåËøôÂ∞±ÈúÄË¶ÅÂØπÂÖ∂Áä∂ÊÄÅËøõË°åÊé®Êñ≠„ÄÇÂú®ËÆ∏Â§öÁ±ª‰∏≠ÈÉΩÂÆö‰πâ‰∫Ü‰∏Ä‰∫õ‰∏çÂèØÂèòÊù°‰ª∂ÔºåÁî®‰∫éÂà§Êñ≠Áä∂ÊÄÅÊòØÊúâÊïàÁöÑËøòÊòØÊó†ÊïàÁöÑ„ÄÇÂêåÊ†∑ÔºåÂú®Êìç‰Ωú‰∏≠ËøòÂåÖÂê´‰∏Ä‰∫õÂêéÈ™åÊù°‰ª∂Êù•Âà§Êñ≠Áä∂ÊÄÅËΩ¨Êç¢ÊòØÂê¶ÊúâÊïà„ÄÇÂΩì‰∏ã‰∏Ä‰∏™Áä∂ÊÄÅÈúÄË¶Å‰æùËµñÂΩìÂâçÁä∂ÊÄÅÊó∂ÔºåËøô‰∏™Êìç‰ΩúÂ∞±ÂøÖÈ°ªÊòØ‰∏Ä‰∏™Â§çÂêàÊìç‰Ωú„ÄÇÂ¶ÇÊûú‰∏ç‰∫ÜËß£ÂØπË±°ÁöÑ‰∏çÂèòÊÄß‰∏éÂêéÈ™åÊù°‰ª∂ÔºåÈÇ£‰πàÂ∞±‰∏çËÉΩÁ°Æ‰øùÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÔºåË¶ÅÊª°Ë∂≥Áä∂ÊÄÅÂèòÈáèÁöÑÊúâÊïàÂÄºÊàñÁä∂ÊÄÅËΩ¨Êç¢‰∏äÁöÑÂêÑÁßçÁ∫¶ÊùüÊù°‰ª∂ÔºåÂ∞±ÈúÄË¶ÅÂÄüÂä©‰∫éÂéüÂ≠êÊÄß‰∏éÂ∞ÅË£ÖÊÄß„ÄÇ ‰æùËµñÁä∂ÊÄÅÁöÑÊìç‰ΩúÁ±ªÁöÑ‰∏çÂèòÊÄßÊù°‰ª∂ÂíåÂêéÈ™åÊù°‰ª∂ÈôêÂà∂‰∫ÜÂØπË±°ÁöÑÊúâÊïàÁä∂ÊÄÅÂ∑≤ÁªèÁä∂ÊÄÅËΩ¨Êç¢ÁöÑÊúâÊïàÊÄß„ÄÇÊúâ‰∫õÂØπË±°ÂåÖÂê´‰∏Ä‰∫õÂü∫‰∫éÁä∂ÊÄÅÁöÑÂÖàÈ™åÊù°‰ª∂Ôºå‰æãÂ¶ÇÔºå‰∏çËÉΩ‰ªéÁ©∫ÈòüÂàó‰∏≠ÁßªÈô§‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇÂ¶ÇÊûúÂú®Êìç‰Ωú‰∏≠ÂåÖÂê´Âü∫‰∫éÁä∂ÊÄÅÁöÑÂÖàÈ™åÊù°‰ª∂ÔºåÈÇ£‰πàËøô‰∏™Êìç‰ΩúÂ∞±Âè´ÂÅö‰æùËµñÁä∂ÊÄÅÊìç‰Ωú„ÄÇ Âú®Âπ∂ÂèëÁ®ãÂ∫è‰∏≠Ë¶Å‰∏ÄÁõ¥Á≠âÂà∞ÂÖàÈ™åÊù°‰ª∂‰∏∫ÁúüÁÑ∂ÂêéÂÜçËøõË°åÊìç‰ΩúÔºåÂèØ‰ª•‰ΩøÁî®Áé∞ÊúâÂ∫ìÁöÑÁ±ªÔºàÈòªÂ°ûÈòüÂàó[Blocking Queue]Êàñ‰ø°Âè∑Èáè[Semaphore]ÔºâÊù•ÂÆûÁé∞‰æùËµñÁä∂ÊÄÅÁöÑË°å‰∏∫„ÄÇ Áä∂ÊÄÅÁöÑÊâÄÊúâÊùÉÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåÊâÄÊúâÊùÉ‰∏éÂ∞ÅË£ÖÊÄßÊòØÁõ∏‰∫íÂÖ≥ËÅîÁöÑÔºöÂØπË±°Â∞ÅË£ÖÂÆÉÊã•ÊúâÁöÑÁä∂ÊÄÅÔºå‰πüÂØπÂÆÉÂ∞ÅË£ÖÁöÑÁä∂ÊÄÅÊã•ÊúâÊâÄÊúâÊùÉ„ÄÇÁä∂ÊÄÅÂèòÈáèÁöÑÊâÄÊúâËÄÖÂ∞ÜÂÜ≥ÂÆöÈááÁî®‰ΩïÁßçÂä†ÈîÅÂçèËÆÆÊù•Áª¥ÊåÅÂèòÈáèÁä∂ÊÄÅÁöÑÂÆåÊï¥ÊÄß„ÄÇÊâÄÊúâÊùÉÊÑèÂë≥ÁùÄÊéßÂà∂ÊùÉ„ÄÇÂ¶ÇÊûúÂèëÂ∏É‰∫ÜÊüê‰∏™ÂèØÂèòÂØπË±°ÁöÑÂºïÁî®ÔºåÈÇ£‰πàÂéüÊù•ÁöÑÊâÄÊúâËÄÖÂ∞±‰∏çÂÜçÁã¨Âç†ÊéßÂà∂ÊùÉ‰∫ÜÔºåÂ∞±ÂèòÊàêÂÖ±‰∫´ÊéßÂà∂ÊùÉ‰∫Ü„ÄÇ ÂÆû‰æãÂ∞ÅÈó≠Â∞ÅË£ÖÁÆÄÂåñ‰∫ÜÁ∫øÁ®ãÂÆâÂÖ®Á±ªÁöÑÂÆûÁé∞ËøáÁ®ãÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁßçÂÆû‰æãÂ∞ÅË£ÖÊú∫Âà∂Ôºå‰πüÁÆÄÁß∞‰∏∫Â∞ÅÈó≠„ÄÇÂ∞ÜÊï∞ÊçÆÂ∞ÅË£ÖÂú®ÂØπË±°ÂÜÖÈÉ®ÔºåÂ∞±ÂèØ‰ª•Â∞ÜÊï∞ÊçÆÁöÑËÆøÈóÆÈôêÂà∂Âú®ÂØπË±°ÁöÑÊñπÊ≥ï‰∏äÔºå‰ªéËÄåÊõ¥ÂÆπÊòìÁ°Æ‰øùÁ∫øÁ®ãÂú®ËÆøÈóÆÊï∞ÊçÆÊó∂ÊÄªËÉΩÊåÅÊúâÊ≠£Á°ÆÁöÑÈîÅ„ÄÇ ÂèØ‰ª•Áúã‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºö1234567891011121314@ThreadSafepublic class PersonSet &#123; @GuardedBy("this") private final Set&lt;Person&gt; mySet = new HashSet&lt;&gt;(); public synchronized void addPerson(Person p) &#123; mySet.add(p); &#125; public synchronized boolean containsPerson(Person p) &#123; return mySet.contains(p); &#125;&#125; PersonSetÁ±ªËØ¥Êòé‰∫ÜÂ¶Ç‰ΩïÈÄöËøáÂ∞ÜmySetÂ∞ÅÈó≠Âú®‰∏Ä‰∏™Á±ªÂ±ûÊÄß‰∏≠‰ª•Âèä‰ΩøÁî®Âä†ÈîÅÊú∫Âà∂‰Ωø‰∏Ä‰∏™Á±ªÊàê‰∏∫Á∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇPersonSetÁöÑÁä∂ÊÄÅÁî±HashSetÊù•ÁÆ°ÁêÜÔºåËÄåHashSet‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºå‰ΩÜÁî±‰∫émySetÊòØÁßÅÊúâÁöÑÂπ∂‰∏î‰∏ç‰ºöÈÄ∏Âá∫ÔºåÂõ†Ê≠§HashSetË¢´Â∞ÅÈó≠Âú®PersonSet‰∏≠„ÄÇÂîØ‰∏ÄËÉΩËÆøÈóÆmySetÁöÑ‰ª£Á†ÅË∑ØÂæÑÊòØaddPersonÂíåcontainsPerson‰∏§‰∏™ÊñπÊ≥ïÔºåÂú®ÊâßË°åÂÆÉ‰ª¨Êó∂ÈÉΩË¶ÅËé∑ÂæóPersonSetÁöÑÂÜÖÁΩÆÈîÅÔºåÊâÄ‰ª•PersonSetÁöÑÁä∂ÊÄÅÂÆåÂÖ®Áî±ÂÆÉÁöÑÂÜÖÁΩÆÈîÅ‰øùÊä§ÔºåÂõ†ËÄåPersonSetÊòØ‰∏Ä‰∏™Á∫øÁ®ãÂÆâÂÖ®ÁöÑÁ±ª„ÄÇ Á∫øÁ®ãÂ∞ÅÈó≠ÁöÑ‰ΩúÁî®ÂèØ‰ª•Â∞ÜÈùûÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÁ±ªËΩ¨Âåñ‰∏∫Á∫øÁ®ãÂÆâÂÖ®ÁöÑÁ±ª„ÄÇÂèØ‰ª•Âà©Áî®Âà∞Ë£ÖÈ•∞Âô®Ê®°Âºè„ÄÇÂ∞ÅÈó≠Êú∫Âà∂Êõ¥Êòì‰∫éÊûÑÈÄ†Á∫øÁ®ãÂÆâÂÖ®ÁöÑÁ±ªÔºåÂõ†‰∏∫Âú®ÂàÜÊûêÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÊó∂ÂèØ‰ª•Âè™ÂàÜÊûêËØ•Á±ªËÄå‰∏çÁî®Ê£ÄÊü•Êï¥‰∏™Á®ãÂ∫è„ÄÇ JavaÁõëËßÜÂô®Ê®°ÂºèJavaÁöÑÂÜÖÁΩÆÈîÅ‰πüÁß∞‰∏∫ÁõëËßÜÂô®ÈîÅÊàñÁõëËßÜÂô®„ÄÇÊâÄ‰ª•‰ΩøÁî®ÂÜÖÁΩÆÈîÅÊù•‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÁöÑÊ®°ÂºèÂ∞±Âè´ÂÅöJavaÁõëËßÜÂô®Ê®°Âºè„ÄÇÈÅµÂæ™JavaÁõëËßÜÂô®Ê®°ÂºèÁöÑÂØπË±°‰ºöÊääÂØπË±°ÁöÑÊâÄÊúâÂèØÂèòÁä∂ÊÄÅÈÉΩÂ∞ÅË£ÖËµ∑Êù•ÔºåÂπ∂Áî±ÂØπË±°Ëá™Â∑±ÁöÑÂÜÖÁΩÆÈîÅÊù•‰øùÊä§„ÄÇJavaÁõëËßÜÂô®Ê®°Âºè‰ªÖ‰ªÖÊòØ‰∏ÄÁßçÁºñÂÜô‰ª£Á†ÅÁöÑ‰πêÈòüÔºåÂØπ‰∫é‰ªª‰Ωï‰∏ÄÁßçÈîÅÂØπË±°ÔºåÂè™Ë¶ÅËá™ÂßãËá≥ÁªàÈÉΩ‰ΩøÁî®ËØ•ÈîÅÂØπË±°ÔºåÈÉΩÂèØ‰ª•Áî®Êù•‰øùÊä§ÂØπË±°ÁöÑÁä∂ÊÄÅ„ÄÇÔºà‰∏çÁü•ÈÅìÊòØ‰∏çÊòØÂè™Ë¶ÅËØªÂíåÂÜôÊñπÊ≥ïÂè™Ë¶ÅÈÉΩ‰øùÊåÅÂêåÊ≠•Â∞±Â•Ω‰∫ÜÔºüÔºâ Á∫øÁ®ãÂÆâÂÖ®ÁöÑÂßîÊâòÔºàÈúÄË¶ÅÂ•ΩÂ•ΩÁêÜËß£ÁöÑÔºåÊó•ÂêéÂä†Ê∑±ÔºâÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÈÄöËøáÂ§ö‰∏™Á∫øÁ®ãÁ±ªÁªÑÂêàËÄåÊàêÁöÑÁ±ªÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåËÄåÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåËøô‰ªÖ‰ªÖÊòØ‰∏Ä‰∏™Â•ΩÁöÑÂºÄÁ´ØÔºå‰ΩÜÂç¥ÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÔºàÁî±‰∫éÊ≤°ÊúâÁª¥ÊåÅ‰∏çÂèòÊÄßÁ∫¶ÊùüÔºâ„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™Á±ªÊòØÁî±Â§ö‰∏™Áã¨Á´ã‰∏îÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÁä∂ÊÄÅÂèòÈáèÁªÑÊàêÔºåÂπ∂‰∏îÂú®ÊâÄÊúâÁöÑÊìç‰Ωú‰∏≠ÈÉΩ‰∏çÂåÖÂê´Êó†ÊïàÁä∂ÊÄÅËΩ¨Êç¢ÔºåÈÇ£‰πàÂèØ‰ª•Â∞ÜÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÂßîÊâòÁªôËøô‰∫õÁä∂ÊÄÅÂèòÈáè„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™Áä∂ÊÄÅÂèòÈáèÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºå‰πü‰∏çÂèÇ‰∏é‰ªª‰Ωï‰∏çÂèòÊÄßÊù°‰ª∂Ôºå‰πüÊ≤°ÊúâÊìç‰Ωú‰∏äÁöÑÁä∂ÊÄÅÂèòÊç¢ÔºåÈÇ£Ëøô‰∏™ÂèòÈáèÂ∞±ÂèØ‰ª•ÂèëÂ∏ÉÂá∫Âéª„ÄÇ Âú®Áé∞ÊúâÁöÑÁ∫øÁ®ãÂÆâÂÖ®Á±ª‰∏≠Ê∑ªÂä†ÂäüËÉΩJavaÁ±ªÂ∫ìÂåÖ‰∏≠ÂåÖÂê´ËÆ∏Â§öÊúâÁî®ÁöÑ‚ÄúÂü∫Á°ÄÊ®°Âùó‚ÄùÁ±ªÔºåÈÄöÂ∏∏ÔºåÊàë‰ª¨Â∫îËØ•‰ºòÂÖàÈÄâÊã©ÈáçÁî®Ëøô‰∫õÁé∞ÊúâÁöÑÁ±ªËÄå‰∏çÊòØÂàõÂª∫Êñ∞ÁöÑÁ±ªÔºöÈáçÁî®ËÉΩÈôç‰ΩéÂºÄÂèëÂ∑•‰ΩúÈáè„ÄÅÂºÄÂèëÈ£éÈô©ÔºàÂõ†‰∏∫Áé∞ÊúâÁöÑÁ±ªÈÉΩÂ∑≤ÁªèÈÄöËøáÊµãËØïÔºâ‰ª•ÂèäÁª¥Êä§ÊàêÊú¨„ÄÇÊàë‰ª¨ÈúÄË¶ÅÂú®‰∏çÁ†¥ÂùèÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÁöÑÊÉÖÂÜµ‰∏ãÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÊìç‰Ωú„ÄÇ Ë¶ÅÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÂéüÂ≠êÊìç‰ΩúÔºåÊúÄÂÆâÂÖ®ÁöÑÊñπÊ≥ïÊòØ‰øÆÊîπÂéüÂßãÁ±ªÔºå‰ΩÜËøôÈÄöÂ∏∏Êó†Ê≥ïÂÅöÂà∞ÔºåÂõ†‰∏∫ÂèØËÉΩÊó†Ê≥ïËÆøÈóÆÊàñ‰øÆÊîπÁ±ªÁöÑÊ∫ê‰ª£Á†Å„ÄÇÂ¶ÇÊûúÁõ¥Êé•Â∞ÜÊñ∞ÊñπÊ≥ïÊ∑ªÂä†Âà∞Á±ª‰∏≠ÔºåÈÇ£‰πàÊÑèÂë≥ÁùÄÂÆûÁé∞ÂêåÊ≠•Á≠ñÁï•ÁöÑÊâÄÊúâ‰ª£Á†Å‰ªçÁÑ∂Â§Ñ‰∫é‰∏Ä‰∏™Ê∫êÊñá‰ª∂‰∏≠Ôºå‰ªéËÄåÊõ¥ÂÆπÊòìÁª¥Êä§„ÄÇÂè¶‰∏ÄÁßçÊñπÊ≥ïÊòØÁî®Â≠êÁ±ªÊâ©Â±ïËøô‰∏™Á±ªÔºå‰ΩÜËøôÊ†∑ÁöÑËØùÂêåÊ≠•Á≠ñÁï•ÁöÑÂÆûÁé∞Â∞±ÂàÜÂ∏ÉÂú®‰∫ÜÂ§ö‰∏™ÈúÄË¶ÅÂçïÁã¨Áª¥Êä§ÁöÑÊ∫êÊñá‰ª∂‰∏≠ÔºåÂ¶ÇÊûúÁà∂Á±ª‰øÆÊîπ‰∫ÜÂêåÊ≠•Á≠ñÁï•ÈÄâÊã©‰∏çÂêåÁöÑÈîÅÊù•‰øùÊä§ÂÆÉÁöÑÁä∂ÊÄÅÂèòÈáèÔºåÈÇ£Â≠êÁ±ª‰πüÈúÄË¶ÅË∑üÁùÄÂèò„ÄÇÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö1234567891011// Êâ©Â±ïVectorÂπ∂Â¢ûÂä†‰∏Ä‰∏™‚ÄúËã•Ê≤°ÊúâÂàôÊ∑ªÂä†‚ÄùÊñπÊ≥ïpublic class BetterVector&lt;E&gt; extends Vector&lt;E&gt; &#123; public synchronized boolean putIfAbsent(E x) &#123; boolean absent = !contains(x); if (absent) &#123; add(x); &#125; return absent &#125;&#125; ÂÆ¢Êà∑Á´ØÂä†ÈîÅÊú∫Âà∂Á¨¨‰∏âÁßçÁ≠ñÁï•ÊòØÊâ©Â±ïÁ±ªÁöÑÂäüËÉΩÔºå‰ΩÜÂπ∂‰∏çÊòØÊâ©Â±ïÁ±ªÊú¨Ë∫´ÔºåËÄåÊòØÂ∞ÜÊâ©Â±ïÊñπÊ≥ïÊîæÂú®‰∏Ä‰∏™ËæÖÂä©Á±ªÔºàHelper classÔºâ‰∏≠„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011public class ListHelper&lt;E&gt; &#123; public List&lt;E&gt; list = Collections.synchronizedList(new ArrayList&lt;E&gt;()); ... public synchronized boolean putIfAbsent(E x) &#123; boolean absent = !list.contains(x); if(absent) &#123; list.add(x); &#125; return absent; &#125;&#125; putIfAbsentÁî®ÁöÑÊòØListHelperÁöÑÂÜÖÁΩÆÈîÅÔºå‰ΩÜlistÁî®ÁöÑËÇØÂÆö‰∏çÊòØListHelperÁöÑÈîÅÔºåÂ∞ΩÁÆ°ÊâÄÊúâÁöÑlistÊìç‰ΩúÈÉΩË¢´Â£∞Êòé‰∏∫synchronizedÔºå‰ΩÜÂç¥ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÈîÅÔºåËøôÂ∞±Êó†Ê≥ïÁ°Æ‰øùÂΩìputIfAbsentÊâßË°åÊó∂Âè¶‰∏Ä‰∏™Á∫øÁ®ã‰∏ç‰ºö‰øÆÊîπËøô‰∏™list„ÄÇ Ë¶ÅÊÉ≥‰ΩøËøô‰∏™ÊñπÊ≥ïÊ≠£Á°ÆÊâßË°åÔºåÂøÖÈ°ª‰ΩølistÂú®ÂÆûÁé∞ÂÆ¢Êà∑Á´ØÂä†ÈîÅÊàñÂ§ñÈÉ®Âä†ÈîÅÊó∂‰ΩøÁî®Âêå‰∏Ä‰∏™ÈîÅ„ÄÇÂÆ¢Êà∑Á´ØÂä†ÈîÅÊòØÊåáÔºåÂØπ‰∫é‰ΩøÁî®Êüê‰∏™ÂØπË±°XÁöÑÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÔºå‰ΩøÁî®XÊú¨Ë∫´Áî®‰∫é‰øùÊä§ÂÖ∂Áä∂ÊÄÅÁöÑÈîÅÊù•‰øùÊä§ËøôÊÆµÂÆ¢Êà∑Á´Ø‰ª£Á†Å„ÄÇË¶Å‰ΩøÁî®ÂÆ¢Êà∑Á´ØÂä†ÈîÅÔºåÂ∞±ÂøÖÈ°ªÁü•ÈÅìÂØπË±°X‰ΩøÁî®ÁöÑÊòØÂì™‰∏Ä‰∏™ÈîÅ„ÄÇÂú®VectorÂíåÂêåÊ≠•Â∞ÅË£ÖÂô®Á±ªÁöÑÊñáÊ°£‰∏≠ÊåáÂá∫ÔºåÂÆÉ‰ª¨ÈÄöËøá‰ΩøÁî®VectorÊàñÂ∞ÅË£ÖÂô®ÂÆπÂô®ÁöÑÂÜÖÁΩÆÈîÅÊù•ÊîØÊåÅÂÆ¢Êà∑Á´ØÂä†ÈîÅ„ÄÇÊâÄ‰ª•‰øÆÊîπÂêéÁöÑputIfAbsentÂ¶Ç‰∏ãÔºö12345678910111213public class ListHelper&lt;E&gt; &#123; public List&lt;E&gt; list = Collections.synchronizedList(new ArrayList&lt;E&gt;()); ... public boolean putIfAbsent(E x) &#123; synchronized(list) &#123; boolean absent = !list.contains(x); if(absent) &#123; list.add(x); &#125; return absent; &#125; &#125;&#125; ÁªÑÂêàÊõ¥Â•ΩÂú∞‰∏∫Áé∞ÊúâÁ±ªÊ∑ªÂä†ÂéüÂ≠êÊìç‰ΩúÁöÑÊñπÊ≥ïÊòØÔºöÁªÑÂêà„ÄÇÁ§∫‰æãÂ¶Ç‰∏ãÔºö1234567891011121314151617public class ImprovedList&lt;T&gt; implements List&lt;T&gt; &#123; private final list&lt;T&gt; list; public ImprovedList(List&lt;T&gt; list) &#123; this.list = list; &#125; public synchronized boolean putIfAbsent(T x) &#123; boolean contains = list.contains(x); if(!contains) &#123; list.add(x); &#125; return !contains; &#125; public synchronized void clear() &#123; list.clear(); &#125;&#125; ImprovedListÈÄöËøáËá™Ë∫´ÁöÑÂÜÖÁΩÆÈîÅÂ¢ûÂä†‰∫Ü‰∏ÄÂ±ÇÈ¢ùÂ§ñÁöÑÂä†ÈîÅ„ÄÇÂÆÉÂπ∂‰∏çÂÖ≥ÂøÉListÊòØÂê¶ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÂç≥‰ΩøList‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÊàñËÄÖ‰øÆÊîπ‰∫ÜÂÆÉÁöÑÂä†ÈîÅÂÆûÁé∞ÔºåImprovedList‰πü‰ºöÊèê‰æõ‰∏ÄËá¥ÁöÑÂä†ÈîÅÊú∫Âà∂Êù•ÂÆûÁé∞Á∫øÁ®ãÂÆâÂÖ®ÊÄß„ÄÇ‰∫ãÂÆû‰∏äÔºåÊàë‰ª¨‰ΩøÁî®‰∫ÜJavaÁõëËßÜÂô®Ê®°ÂºèÊù•Â∞ÅË£ÖÁé∞ÊúâÁöÑListÔºåÂπ∂‰∏îÂè™Ë¶ÅÂú®Á±ª‰∏≠Êã•ÊúâÊåáÂêëÂ∫ïÂ±ÇListÁöÑÂîØ‰∏ÄÂ§ñÈÉ®ÂºïÁî®ÔºåÂ∞±ËÉΩÁ°Æ‰øùÁ∫øÁ®ãÂÆâÂÖ®ÊÄß„ÄÇ ÊÄªÁªìËÆæËÆ°‰∏Ä‰∏™Á∫øÁ®ãÂÆâÂÖ®ÁöÑÁ±ªÊñπÊ≥ïÊúâÂæàÂ§öÁßçÔºåËøôÈáåÊèêÂà∞‰∫Ü‰∏âÁÇπÔºöÂÆû‰æãÂ∞ÅÈó≠„ÄÅÁ∫øÁ®ãÂßîÊâò„ÄÅÂ§çÁî®Áé∞ÊúâÂü∫Á°ÄÁ±ª„ÄÇ‰ΩÜÊòØÂÖ∑‰ΩìÂÆûÁé∞Á∫øÁ®ãÂÆâÂÖ®ÈÉΩ‰∏ç‰∏ÄÊ†∑ÔºåÈúÄË¶ÅÊåâÂÆûÈôÖÊÉÖÂÜµÊù•Á°ÆÂÆö„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_2_ÂØπË±°ÁöÑÂÖ±‰∫´]]></title>
    <url>%2F2018%2F01%2F13%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-2-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%B1%E4%BA%AB%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∏∫‰∫ÜËÉΩÂ§üÂÆâÂÖ®Âú∞Áî±Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËÆøÈóÆÊüê‰∏™ÂØπË±°ÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅÂ≠¶‰ºöÂú®ÂÖ±‰∫´ÂíåÂèëÂ∏ÉÂØπË±°Êó∂ÔºåÊûÑÂª∫‰∏Ä‰∏™Á∫øÁ®ãÂÆâÂÖ®Á±ªÊàñËÄÖÈÄöËøájava.util.concurrentÁ±ªÂ∫ìÊù•ÊûÑÂª∫„ÄÇ ÂèØËßÅÊÄßÂú®ËØªÊìç‰ΩúÂíåÂÜôÊìç‰ΩúÂú®‰∏çÂêåÁ∫øÁ®ãÊâßË°åÊó∂ÔºåÊàë‰ª¨Êó†Ê≥ïÁ°Æ‰øùÊâßË°åËØªÊìç‰ΩúÁöÑÁ∫øÁ®ãËÉΩÈÄÇÊó∂Âú∞ÁúãÂà∞ÂÖ∂‰ªñÁ∫øÁ®ãÂÜôÂÖ•ÁöÑÂÄºÔºåÊâÄË∞ì‚Äú‰∏çÂèØËßÅ‚Äù„ÄÇ‰∏∫‰∫ÜÁ°Æ‰øùÂ§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÂØπÂÜÖÂ≠òÂÜôÂÖ•Êìç‰ΩúÁöÑÂèØËßÅÊÄßÔºåÂøÖÈ°ª‰ΩøÁî®ÂêåÊ≠•Êú∫Âà∂„ÄÇ ÂÖàÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö12345678910111213141516171819public class NoVisibility &#123; private static boolean ready; private static int number; private static class ReaderThread extends Thread &#123; public void run() &#123; while(!ready) &#123; Thread.yield(); &#125; System.out.println(number); &#125; &#125; public static void main(String[] args) &#123; new ReaderThread().start(); number = 42; ready = true; &#125;&#125; ËøôÊÆµ‰ª£Á†Å‰∏çËÉΩ‰øùËØÅËæìÂá∫42ÔºåÂèØËÉΩËæìÂá∫0ÔºåÂõ†‰∏∫ËØªÁ∫øÁ®ãÂèØËÉΩÁúãÂà∞‰∫ÜÂÜôÂÖ•readyÁöÑÂÄºÔºå‰ΩÜÂç¥Ê≤°ÊúâÁúãÂà∞‰πãÂêéÂÜôÂÖ•ÁöÑnumberÁöÑÂÄºÔºåËøôÁßçÁé∞Ë±°Áß∞‰∏∫‚ÄúÈáçÊéíÂ∫è‚ÄùÔºåÂÆÉÁöÑÊÑèÊÄùÊòØ‰ª£Á†ÅÁöÑÈ°∫Â∫èÂèØËÉΩÂõ†‰∏∫‰ºòÂåñËÄåÂèëÁîüÈáçÊéíÂ∫è„ÄÇ Â§±ÊïàÊï∞ÊçÆÂ§±ÊïàÊï∞ÊçÆÔºöÂΩìËØªÁ∫øÁ®ãÊü•Áúã‰∏Ä‰∏™ÂèòÈáèÊòØÔºåÂèØËÉΩ‰ºöÂæóÂà∞‰∏Ä‰∏™Â∑≤ÁªèÂ§±ÊïàÁöÑÂÄº„ÄÇÈô§ÈùûÂú®ÊØèÊ¨°ËÆøÈóÆÂèòÈáèÊó∂ÈÉΩ‰ΩøÁî®ÂêåÊ≠•ÔºåÂê¶ÂàôÂæàÂèØËÉΩËé∑ÂæóËØ•ÂèòÈáèÁöÑ‰∏Ä‰∏™Â§±ÊïàÂÄº„ÄÇÊõ¥Á≥üÁ≥ïÁöÑÊòØÔºåÂ§±ÊïàÂÄºÂèØËÉΩ‰∏ç‰ºöÂêåÊó∂Âá∫Áé∞Ôºö‰∏Ä‰∏™Á∫øÁ®ãÂèØËÉΩÂæóÂà∞Êüê‰∏™ÂèòÈáèÁöÑÊúÄÊñ∞ÂÄºÔºåËÄåËé∑ÂæóÂè¶‰∏Ä‰∏™ÂèòÈáèÁöÑÂ§±ÊïàÂÄº„ÄÇ ‰∏ãÈù¢ÁöÑ‰ª£Á†Å‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºö12345678910111213@NonThreadSafepublic class MutableInteger &#123; private int value; public int get() &#123; return value; &#125; public void set(int value) &#123; this.value = value; &#125;&#125; getÂíåsetÈÉΩÊòØÂú®Ê≤°ÊúâÂêåÊ≠•ÁöÑÊÉÖÂÜµ‰∏ãËÆøÈóÆvalueÔºåÊâÄ‰ª•Â§±ÊïàÂÄºÈóÆÈ¢òÂæàÂÆπÊòìÂá∫Áé∞ÔºöÂ¶ÇÊûúÊüê‰∏™Á∫øÁ®ãÂú®Ë∞ÉÁî®‰∫ÜgetÔºåÈÇ£‰πàÂè¶‰∏Ä‰∏™Ê≠£Âú®Ë∞ÉÁî®getÁöÑÁ∫øÁ®ãÂèØËÉΩ‰ºöÁúãÂà∞Êõ¥Êñ∞ÂêéÁöÑvalueÂÄºÔºå‰πüÂèØËÉΩÁúã‰∏çÂà∞„ÄÇË¶Å‰ΩøMutableIntegerÊàê‰∏∫‰∏Ä‰∏™Á∫øÁ®ãÂÆâÂÖ®ÁöÑÁ±ªÔºåÂøÖÈ°ªÂØπsetÂíågetÈÉΩËøõË°åÂêåÊ≠•„ÄÇ ÈùûÂéüÂ≠êÁöÑ64‰ΩçÊìç‰ΩúÊúÄ‰ΩéÂÆâÂÖ®ÊÄßÔºàout-of-thin-air-safetyÔºâ:ÂΩìÁ∫øÁ®ãÂú®Ê≤°ÊúâÂêåÊ≠•ÁöÑÊÉÖÂÜµ‰∏ãËØªÂèñÂèòÈáèÊó∂ÔºåÂèØËÉΩ‰ºöÂæóÂà∞‰∏Ä‰∏™Â§±ÊïàÂÄºÔºå‰ΩÜËá≥Â∞ëËøô‰∏™ÂÄºÊòØÁî±‰πãÂâçÊüê‰∏™Á∫øÁ®ãËÆæÁΩÆÁöÑÂÄºÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™ÈöèÊú∫ÂÄº„ÄÇ ‰æãÂ§ñÔºöÂØπ‰∫éÈùûvolatileÁ±ªÂûãÁöÑlongÂíådoubleÂèòÈáèÔºåJVMÂÖÅËÆ∏64‰ΩçÁöÑËØªÊìç‰ΩúÂíåÂÜôÊìç‰ΩúÂàÜËß£‰∏∫‰∏§‰∏™32‰ΩçÁöÑÊìç‰Ωú„ÄÇÈÇ£‰πàÂæàÊúâÂèØËÉΩ‰ºöËØªÂà∞Êüê‰∏™ÂÄºÁöÑÈ´ò32‰ΩçÂíåÂè¶‰∏Ä‰∏™ÂÄºÁöÑ‰Ωé32‰Ωç„ÄÇÊâÄ‰ª•Âú®Â§öÁ∫øÁ®ãÁ®ãÂ∫è‰∏≠‰ΩøÁî®ÂÖ±‰∫´‰∏îÂèØÂèòÁöÑlongÂíådoubleÁ≠âÁ±ªÂûãÁöÑÂèòÈáèÊòØ‰∏çÂÆâÂÖ®ÁöÑÔºåÈô§Èùû‰ΩøÁî®ÂÖ≥ÈîÆÂ≠óvolatileÊù•Â£∞Êòé‰ªñ‰ª¨ÔºåÊàñËÄÖÁî®ÈîÅ‰øùÊä§Ëµ∑Êù•„ÄÇ volatileÂèòÈáèvolatileÂèòÈáèÂèØ‰ª•Á°Æ‰øùÂ∞ÜÂèòÈáèÁöÑÊõ¥Êñ∞Êìç‰ΩúÈÄöÁü•Âà∞ÂÖ∂‰ªñÁ∫øÁ®ã„ÄÇÂπ∂‰∏î‰ºöÁ¶ÅÊ≠¢ÈáçÊéíÂ∫èÔºåÂõ†Ê≠§Âú®ËØªÂèñvolatileÁ±ªÂûãÁöÑÂèòÈáèÊó∂ÊÄª‰ºöËøîÂõûÊúÄÊñ∞ÂÜôÂÖ•ÁöÑÂÄº„ÄÇvolatileÈÄöÂ∏∏Áî®‰ΩúÊüê‰∏™Êìç‰ΩúÂÆåÊàê„ÄÇÂèëÁîü‰∏≠Êñ≠ÊàñËÄÖÁä∂ÊÄÅÁöÑÊ†áÂøó„ÄÇÂÆÉÂè™ËÉΩ‰øùËØÅÂèØËßÅÊÄßÔºå‰ΩÜÊòØ‰∏çËÉΩ‰øùËØÅÂéüÂ≠êÊÄß„ÄÇ ÂΩì‰∏î‰ªÖÂΩìÊª°Ë∂≥ÊâÄÊúâÊù°‰ª∂Êó∂ÔºåÊâçÂ∫îËØ•‰ΩøÁî®volatileÂèòÈáèÔºö ÂØπÂèòÈáèÁöÑÂÜôÂÖ•Êìç‰Ωú‰∏ç‰æùËµñÂèòÈáèÁöÑÂΩìÂâçÂÄºÔºàÊØîËØªÂà∞ÁöÑËøòË¶ÅÊñ∞ÁöÑÂÄºÔºâÔºåÊàñËÄÖ‰Ω†ËÉΩ‰øùËØÅÂè™ÊúâÂΩì‰∏™Á∫øÁ®ãÊõ¥Êñ∞ÂèòÈáèÁöÑÂÄº„ÄÇ ËØ•ÂèòÈáè‰∏ç‰ºö‰∏éÂÖ∂‰ªñÁä∂ÊÄÅÂèòÈáè‰∏ÄËµ∑Á∫≥ÂÖ•‰∏çÂèòÊÄßÊù°‰ª∂‰∏≠„ÄÇ Âú®ËÆøÈóÆÂèòÈáèÊó∂‰∏çÈúÄË¶ÅÂä†ÈîÅ„ÄÇ ÂèëÂ∏ÉÂíåÈÄ∏Âá∫‚ÄúÂèëÂ∏ÉÔºàPublishÔºâ‚ÄùÂØπË±°Ôºö‰ΩøÂØπË±°ËÉΩÂ§üÂú®ÂΩìÂâç‰ΩúÁî®Âüü‰πãÂ§ñÁöÑ‰ª£Á†Å‰∏≠‰ΩøÁî®„ÄÇ‰æãÂ¶ÇÔºöÂ∞Ü‰∏Ä‰∏™ÊåáÂêëËØ•ÂØπË±°ÁöÑÂºïÁî®‰øùÂ≠òÂà∞ÂÖ∂‰ªñ‰ª£Á†ÅÂèØ‰ª•ËÆøÈóÆÁöÑÂú∞ÊñπÔºàÂÖ¨ÊúâÁöÑÈùôÊÄÅÂèòÈáè‰∏≠Ôºâ ‚ÄúÈÄ∏Âá∫ÔºàEscapeÔºâ‚ÄùÔºöÂΩìÊüê‰∏™‰∏çÂ∫îËØ•ÂèëÂ∏ÉÁöÑÂØπË±°Ë¢´ÂèëÂ∏É„ÄÇ‰æãÂ¶ÇÔºöÂú®ÂØπË±°ÊûÑÈÄ†ÂÆåÊàê‰πãÂâçÂ∞±ÂèëÂ∏ÉÂØπË±° ÂèëÂ∏ÉÂØπË±°ÁöÑÊúÄÁÆÄÂçïÊñπÊ≥ïÊòØÂ∞ÜÂØπË±°ÁöÑÂºïÁî®‰øùÂ≠òÂà∞‰∏Ä‰∏™ÂÖ¨ÊúâÁöÑÈùôÊÄÅÂèòÈáè‰∏≠Ôºå‰ª•‰æø‰ªª‰ΩïÁ±ªÂíåÁ∫øÁ®ãÈÉΩËÉΩÁúãËßÅËØ•ÂØπË±°ÔºåÂ¶Ç‰∏ãÈù¢‰ª£Á†ÅÔºö12345public static Set&lt;Secret&gt; knownSecrets;public void initialize() &#123; knownSecrets = new HashSet&lt;Secret&gt;();&#125; ÂΩìÂèëÂ∏ÉÊüê‰∏™ÂØπË±°Êó∂ÔºåÂèØËÉΩ‰ºöÈó¥Êé•Âú∞ÂèëÂ∏ÉÂÖ∂‰ªñÂØπË±°„ÄÇÂ¶ÇÊûúÂ∞Ü‰∏Ä‰∏™SecretÂØπË±°Ê∑ªÂä†Âà∞ÈõÜÂêàknownSecrets‰∏≠ÔºåÈÇ£‰πàÂêåÊ†∑‰ºöÂèëÂ∏ÉËøô‰∏™ÂØπË±°ÔºåÂõ†‰∏∫‰ªª‰Ωï‰ª£Á†ÅÈÉΩÂèØ‰ª•ÈÅçÂéÜËøô‰∏™ÈõÜÂêàÔºåÂπ∂Ëé∑ÂæóÂØπËøô‰∏™Êñ∞SecretÂØπË±°ÁöÑÂºïÁî®„ÄÇÂêåÊ†∑ÔºåÂ¶ÇÊûú‰ªéÈùûÁßÅÊúâÊñπÊ≥ï‰∏≠ËøîÂõû‰∏Ä‰∏™ÂºïÁî®ÔºåÈÇ£‰πàÂêåÊ†∑‰ºöÂèëÂ∏ÉËøîÂõûÁöÑÂØπË±°„ÄÇÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö123456class UnsafeStates &#123; private String[] states = new String[] &#123;"AK","AL"...&#125;; public String[] getStates() &#123; return states; &#125;&#125; Âè¶‰∏ÄÁßçÂ∞Ü‰∏Ä‰∏™ÂØπË±°ÊàñËÄÖÂÆÉÂÜÖÈÉ®ÁöÑÁä∂ÊÄÅpublishÂá∫ÂéªÁöÑÊñπÂºèÂ∞±ÊòØpublishËøô‰∏™ÂØπË±°ÊâÄÂú®Á±ªÁöÑÂÜÖÈÉ®Á±ªÔºåÂ¶Ç‰∏ã‰æãÂ≠ê,‰ΩÜÊòØ‰ºöÂ∞ÜthisÂØπË±°ÁöÑÂºïÁî®escapeÂá∫Âéª„ÄÇÂõ†‰∏∫ÂΩìThisEscapeÂ∞ÜEventListener publishÂá∫ÂéªÔºåÂÆÉÂ∞±ÊòæÁ§∫Âú∞Â∞ÜÂ§ñÈÉ®Á±ªThisEscapeÂÆû‰æãÂØπË±°‰πüÂÖ¨Â∏ÉÂá∫Âéª‰∫ÜÔºåÂõ†‰∏∫ÂÜÖÈÉ®Á±ªÂÆû‰æã‰øùÂ≠ò‰∫ÜÂ§ñÈÉ®Á±ªÂÆû‰æãÁöÑÈöêËóèÂºïÁî®„ÄÇÊâÄ‰ª•‰ºöÊääthis escapeÂá∫Âéª„ÄÇ1234567891011public class ThisEscape &#123; public public ThisEscape(EventSource source) &#123; source.registerListener( new EventListener() &#123; public void onEvent(Event o) &#123; doSomething(o);// Áî±‰∫éËøô‰∏™Á∫øÁ®ãÊòØÂºÇÊ≠•ÁöÑÔºåÊâÄÊúâEventSourceÂèØËÉΩËøòÊ≤°ÊúâÊûÑÈÄ†ÂÆå &#125; &#125;); &#125;&#125; ÂΩìÂÜÖÈÉ®EventListenerÂÆû‰æãÂèëÂ∏ÉÊó∂ÔºåÂú®Â§ñÈÉ®Â∞ÅË£ÖÁöÑThisEscapeÂÆû‰æã‰πüÈÄ∏Âá∫‰∫ÜÔºåÂΩì‰∏î‰ªÖÂΩìÂØπË±°ÁöÑÊûÑÈÄ†ÂáΩÊï∞ËøîÂõûÊó∂ÔºåÂØπË±°ÊâçÂ§Ñ‰∫éÂèØÈ¢ÑÊµãÁöÑÂíå‰∏ÄËá¥ÁöÑÁä∂ÊÄÅ„ÄÇ‰∏Ä‰∏™Â∏∏ËßÅÁöÑ‰ΩøthisÂºïÁî®Âú®ÊûÑÈÄ†ËøáÁ®ã‰∏≠ÈÄ∏Âá∫ÁöÑÈîôËØØÊòØÂú®ÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÂêØÂä®‰∏Ä‰∏™Á∫øÁ®ã„ÄÇÂ¶ÇÊûúÊÉ≥Âú®ÊûÑÈÄ†ÂáΩÊï∞‰∏≠Ê≥®ÂÜå‰∏Ä‰∏™‰∫ã‰ª∂ÁõëÂê¨Âô®ÊàñÂêØÂä®Á∫øÁ®ãÔºåÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ÁßÅÊúâÁöÑÊûÑÈÄ†ÂáΩÊï∞Âíå‰∏Ä‰∏™ÂÖ¨ÂÖ±ÁöÑÂ∑•ÂéÇÊñπÊ≥ïÔºå‰ªéËÄåÈÅøÂÖç‰∏çÊ≠£Á°ÆÁöÑÊûÑÈÄ†ËøáÁ®ãÔºö123456789101112131415161718public class SafeListener &#123; private final EventListener listener; private SafeListener() &#123; listener = new EventListener() &#123; public void onEvent(Event o) &#123; doSomething(o); &#125; &#125; &#125; public static SafeListener newInstance(EventSource source) &#123; SafeListener safeListener = new SafeListener(); source.registerListener(safeListener); return safeListener; &#125;&#125; Á∫øÁ®ãÂ∞ÅÈó≠ÂΩìËÆøÈóÆÂÖ±‰∫´ÁöÑÂèØÂèòÊï∞ÊçÆÊó∂ÔºåÈÄöÂ∏∏ÈúÄË¶ÅÂêåÊ≠•„ÄÇ‰∏ÄÁßçÈÅøÂÖç‰ΩøÁî®ÂêåÊ≠•ÁöÑÊñπÂºèÂ∞±ÊòØ‰∏çÂÖ±‰∫´Êï∞ÊçÆ„ÄÇÂ¶ÇÊûú‰ªÖÂú®ÂçïÁ∫øÁ®ãÂÜÖËÆøÈóÆÊï∞ÊçÆÔºåÂ∞±‰∏çÈúÄË¶ÅÂêåÊ≠•„ÄÇËøôÁßçÊäÄÊúØË¢´Áß∞‰∏∫Á∫øÁ®ãÂ∞ÅÈó≠„ÄÇ Á∫øÁ®ãÂ∞ÅÈó≠ÁöÑ‰∏Ä‰∏™Â∏∏ËßÅÂ∫îÁî®ÊòØ‰ªéÊ±†‰∏≠ÊãøJDBC Connection„ÄÇÂú®ÂÖ∏ÂûãÁöÑÊúçÂä°Âô®Â∫îÁî®‰∏≠Ôºå‰∏Ä‰∏™Á∫øÁ®ã‰ªéÊ±†‰∏≠Ëé∑ÂèñconnectionÂØπË±°ÔºåÁî®ÂÆÉÊù•Â§ÑÁêÜ‰∏Ä‰∏™ÂçïÁã¨ÁöÑËØ∑Ê±ÇÔºåÂ§ÑÁêÜÂÆåÂêéÂΩíËøòËØ•connectionÔºåÂèàÊîæÂÖ•Ê±†‰∏≠„ÄÇConnectionÊ±†ÊòØ‰∏ç‰ºöÊääÁõ∏ÂêåÁöÑconnectionÂØπË±°ÂàÜÈÖçÁªô‰∏çÂêåÁöÑÁ∫øÁ®ãÁöÑÔºåËøôÁßçÊ®°ÂºèÂ∞±ÊòæÂºèÂú∞Â∞ÜÈÇ£‰∏™connectionÂ∞ÅÈó≠Âú®‰∏Ä‰∏™Á∫øÁ®ã‰∏≠„ÄÇ Â±ÄÈÉ®ÂèòÈáèÂíåThreadLocalÁ±ªÂ∞±ÊòØÁî®Êù•Áª¥Êä§Á∫øÁ®ãÂ∞ÅÈó≠ÁâπÊÄßÁöÑÔºå‰ΩÜÂç≥‰æøÊúâËøô‰∫õÁé∞ÊàêÁöÑÁâπÊÄßÔºåÁ®ãÂ∫èÂëò‰ªçÊúâ‰πâÂä°Âéª‰øùËØÅÂ∞ÅÈó≠Âú®Á∫øÁ®ã‰∏≠ÁöÑÂØπË±°‰∏ç‰ºö‰ªéÁ∫øÁ®ã‰∏≠ÈÄ∏Âá∫ Ad-hocÁ∫øÁ®ãÂ∞ÅÈó≠ËøôÁßçÁ∫øÁ®ãÂ∞ÅÈó≠ÊòØÊåáÔºåÁª¥Êä§Á∫øÁ®ãÂ∞ÅÈó≠ÊÄßÁöÑËÅåË¥£ÂÆåÂÖ®Áî±Á®ãÂ∫èÂÆûÁé∞Êù•ÊâøÊãÖ„ÄÇËøôÁßçÊäÄÊúØÂæàËÑÜÂº±ÔºåÂõ†Ê≠§Á®ãÂ∫è‰∏≠Â∞ΩÈáèÂ∞ëÁî®ÂÆÉ„ÄÇ Ê†àÂ∞ÅÈó≠Ê†àÂ∞ÅÈó≠ÂºèÁ∫øÁ®ãÂ∞ÅÈó≠ÁöÑ‰∏ÄÁßçÁâπ‰æãÔºåÂú®Ê†àÂ∞ÅÈó≠‰∏≠ÔºåÂè™ËÉΩÈÄöËøáÂ±ÄÈÉ®ÂèòÈáèÊâçËÉΩËÆøÈóÆÂØπË±°„ÄÇÂ±ÄÈÉ®ÂèòÈáèÁöÑÂõ∫ÊúâÂ±ûÊÄß‰πã‰∏ÄÂ∞±ÊòØÂ∞ÅÈó≠Âú®ÊâßË°åÁ∫øÁ®ã‰∏≠ÔºåÂÆÉ‰ª¨‰Ωç‰∫éÊâßË°åÁ∫øÁ®ãÁöÑÊ†à‰∏≠ÔºåÂÖ∂‰ªñÁ∫øÁ®ãÊó†Ê≥ïËÆøÈóÆËøô‰∏™Ê†à„ÄÇÊ†àÂ∞ÅÈó≠ÊØîAd-hocÁ∫øÁ®ãÂ∞ÅÈó≠Êõ¥Êòì‰∫éÁª¥Êä§Ôºå‰πüÊõ¥Âä†ÂÅ•Â£Æ„ÄÇÂèØ‰ª•ÁúãÁúã‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºö123456789101112131415161718public int loadTheArk(Collections&lt;Animal&gt; candidates) &#123; SortedSet&lt;Animal&gt; animals; int numPairs = 0; Animals candidate = null; animals = new TreeSet&lt;Animal&gt;(new SpeciesGenderComparator()); animals.addAll(candidates); for(animals a : animals) &#123; if (candidate == null || !candidate.isPotentialMate(a)) &#123; candidate = a; &#125; else &#123; ark.load(new AnimalPair(candidate, a)); ++numPairs; candidate = null; &#125; &#125; return numPairs; &#125; ‰∏äÈù¢‰ª£Á†Å‰∏≠ÁöÑnumPairs‰∏ç‰ºöÁ†¥ÂùèÁ∫øÁ®ãÂ∞ÅÈó≠ÊÄßÔºåÂõ†‰∏∫‰ªª‰ΩïÊñπÊ≥ïÈÉΩÊó†Ê≥ïËé∑ÂæóÂØπÂü∫Êú¨Á±ªÂûãÁöÑÂºïÁî®ÔºåÊâÄ‰ª•Âü∫Êú¨Á±ªÂûãÁöÑÂ±ÄÈÉ®ÂèòÈáèÂßãÁªàÂ∞ÅÈó≠Âú®Á∫øÁ®ãÂÜÖ„ÄÇ‰ΩÜÊòØÂØπ‰∫éÂØπË±°ÂºïÁî®ÁöÑÁ∫øÁ®ãÂ∞ÅÈó≠ÔºåÂ∞±ÈúÄË¶Å‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÂ∑•‰ΩúÁ°Æ‰øùÂØπË±°ÂºïÁî®‰∏ç‰ºöÈÄ∏Âá∫„ÄÇÂú®‰∏ä‰æã‰∏≠ÂÆû‰æãÂåñ‰∫Ü‰∏Ä‰∏™TreeSet,Âπ∂Áî®animalsÂºïÁî®ÊåáÂêëÂÆÉÔºåÂõ†‰∏∫Âè™Êúâ‰∏Ä‰∏™ÂºïÁî®ÊåáÂêëËøô‰∏™SetÔºåËÄå‰∏îËøô‰∏™ÂºïÁî®ÊòØÂ±ÄÈÉ®ÂèòÈáèÔºåÊâÄ‰ª•Ëøô‰∏™ÂØπË±°ÂºïÁî®‰πüË¢´Â∞ÅÈó≠Âú®Á∫øÁ®ã‰∏≠„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÊääËøô‰∏™animalsÂÖ¨Â∏ÉÔºàpublishÔºâÂá∫ÂéªÔºåÁ∫øÁ®ãÂ∞ÅÈó≠ÊÄßÂ∞±‰ºöÁ†¥Âåñ„ÄÇ ThreadLocalÁ±ªÁª¥Êä§Á∫øÁ®ãÂ∞ÅÈó≠ÊÄßÁöÑ‰∏ÄÁßçÊõ¥ËßÑËåÉÁöÑÊñπÂºèÊòØ‰ΩøÁî®ThreadLocal. ThreadLocalÊèê‰æõ‰∫ÜgetÂíåsetÊñπÊ≥ïÔºåËøô‰∫õÊñπÊ≥ï‰∏∫ÊØè‰∏™‰ΩøÁî®ËØ•ÂèòÈáèÁöÑÁ∫øÁ®ãÈÉΩÂ≠òÊúâ‰∏Ä‰ªΩÁã¨Á´ãÁöÑÂâØÊú¨ÔºåÂõ†Ê≠§getÊÄªÊòØËøîÂõûÁî±ÂΩìÂâçÊâßË°åÁ∫øÁ®ãÂú®Ë∞ÉÁî®setÊó∂ËÆæÁΩÆÁöÑÊúÄÊñ∞ÂÄº„ÄÇ ‰æãÂ¶ÇÔºåÂú®ÂçïÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫è‰∏≠ÂèØËÉΩ‰ºöÁª¥ÊåÅ‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÊï∞ÊçÆÂ∫ìËøûÊé•ÔºåÂπ∂Âú®Á®ãÂ∫èÂêØÂä®Êó∂ÂàùÂßãÂåñËøô‰∏™ËøûÊé•ÂØπË±°Ôºå‰ªéËÄåÈÅøÂÖçÂú®Ë∞ÉÁî®ÊØè‰∏™ÊñπÊ≥ïÊó∂ÈÉΩË¶Å‰º†ÈÄí‰∏Ä‰∏™ConnectionÂØπË±°„ÄÇÁî±‰∫éJDBCÁöÑËøûÊé•ÂØπË±°‰∏ç‰∏ÄÂÆöÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÂõ†Ê≠§ÔºåÂΩìÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÂú®Ê≤°ÊúâÂçèÂêåÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®ÂÖ®Â±ÄÂèòÈáèÊó∂ÔºåÂ∞±‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÈÄöËøáÂ∞ÜJDBCÁöÑËøûÊé•‰øùÂ≠òÂà∞ThreadLocalÂØπË±°‰∏≠ÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩ‰ºöÊã•ÊúâÂ±û‰∫éËá™Â∑±ÁöÑËøûÊé•ÔºåÂ¶Ç‰∏ãÔºö123456789private static ThreadLocal&lt;Connection&gt; connectionHolder = new ThreadLocal&lt;&gt;()&#123; public Connection initialValue() &#123; return DriverManager.getConnection(DB_URL); &#125;&#125;;public static Connection getConnection() &#123; return connectionHolder.get();&#125; ÂΩìÊüê‰∏™Á∫øÁ®ãÂàùÊ¨°Ë∞ÉÁî®ThreadLocal.getÊñπÊ≥ïÊó∂Ôºå‰ºöË∞ÉÁî®initialValue()ÊñπÊ≥ïÊù•Ëé∑ÂèñÂàùÂßãÂÄº„ÄÇ‰ªéÊ¶ÇÂøµ‰∏äËÆ≤ÔºåÂèØ‰ª•Â∞ÜThreadLocalËßÜ‰∏∫ÂåÖÂê´‰∫ÜMapÂØπË±°ÔºåÂÖ∂‰∏≠‰øùÂ≠ò‰∫ÜÂè™Â±û‰∫éËØ•Á∫øÁ®ãÁöÑÂÄº„ÄÇÂΩìÁ∫øÁ®ãÁªàÊ≠¢ÂêéÔºåËøô‰∫õÂÄºÂ∞±‰ºö‰Ωú‰∏∫ÂûÉÂúæË¢´ÂõûÊî∂Êéâ„ÄÇ ‰∏çÂèòÊÄßÂ¶ÇÊûúÊüê‰∏™ÂØπË±°Âú®ÂàõÂª∫‰πãÂêéÁä∂ÊÄÅÂ∞±‰∏çËÉΩË¢´‰øÆÊîπÔºåÈÇ£Ëøô‰∏™ÂØπË±°Â∞±Ë¢´Áß∞‰∏∫‰∏çÂèØÂèòÂØπË±°„ÄÇ‰∏çÂèØÂèòÂØπË±°‰∏ÄÂÆöÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ‰∏çÂèØÂèòÂØπË±°Âè™Êúâ‰∏ÄÁßçÁä∂ÊÄÅÔºåËÄå‰∏îËøôÁßçÁä∂ÊÄÅÁî±ÊûÑÈÄ†ÂáΩÊï∞Êù•ÊéßÂà∂„ÄÇ ÂΩìÊª°Ë∂≥‰∏Ä‰∏ãÊù°‰ª∂ÁöÑÊó∂ÂÄôÔºåÂØπË±°ÊâçÊòØ‰∏çÂèØÂèòÁöÑÔºö ÂØπË±°ÂàõÂª∫‰ª•ÂêéÂÖ∂Áä∂ÊÄÅÂ∞±‰∏çËÉΩ‰øÆÊîπ ÂØπË±°ÁöÑÊâÄÊúâÂüüÈÉΩÊòØfinalÁ±ªÂûã ÂØπË±°ÊòØÊ≠£Á°ÆÂàõÂª∫ÁöÑÔºàÂú®ÂØπË±°ÁöÑÂàõÂª∫ËøáÁ®ã‰∏≠ÔºåthisÂºïÁî®Ê≤°ÊúâÈÄ∏Âá∫Ôºâ ‰∏çÂèØÂèòÂØπË±°‰ªçÁÑ∂ÂèØ‰ª•Âú®ÂÜÖÈÉ®‰ΩøÁî®ÂèØÂèòÂØπË±°Êù•ÁÆ°ÁêÜÂÆÉ‰ª¨ÁöÑÁä∂ÊÄÅ„ÄÇÂ¶Ç‰∏ã‰æãÔºö12345678910111213141516@Immutablepublic final class ThreeStooges &#123; private final Set&lt;String&gt; stooges = new HashSet&lt;&gt;(); public ThreeStooges() &#123; stooges.add("Moe"); stooges.add("Larry"); stooges.add("Curly"); &#125; public boolean isStooge(String name)&#123; return stooges.contains(name); &#125;&#125; FinalÂüüÊ≠£Â¶Ç‚ÄúÈô§ÈùûÈúÄË¶ÅÊõ¥È´òÁöÑÂèØËßÅÊÄßÔºåÂê¶ÂàôÂ∫îÂ∞ÜÊâÄÊúâÁöÑÂüüÈÉΩÂ£∞Êòé‰∏∫ÁßÅÊúâÂüü‚Äù‰∏ÄÊ†∑Ôºå‚ÄúÈô§ÈùûÈúÄË¶ÅÊüê‰∏™ÂüüÊòØÂèØÂèòÁöÑÔºåÂê¶ÂàôÂ∫îÂ∞ÜÂÖ∂Â£∞Êòé‰∏∫finalÂüü‚Äù‰πüÊòØ‰∏Ä‰∏™ËâØÂ•ΩÁöÑÁºñÁ®ã‰π†ÊÉØ„ÄÇ ‰ΩøÁî®VolatileÁ±ªÂûãÊù•ÂèëÂ∏É‰∏çÂèØÂèòÂØπË±°‰∏∫‰∫Ü‰øùËØÅÊìç‰ΩúÁöÑÂéüÂ≠êÊÄßÔºåÂèØ‰ª•Â∞ÜÂ§ö‰∏™Áä∂ÊÄÅËΩ¨Âåñ‰∏∫ÂåÖÂê´Â§ö‰∏™Áä∂ÊÄÅÁöÑ‰∏çÂèØÂèòÂØπË±°ÔºåÁÑ∂Âêé‰ΩøÁî®volatileÊù•‰øùÊåÅÂèØËßÅÊÄßÔºå‰ªéËÄå‰øùËØÅ‰∫ÜÁ∫øÁ®ãÂÆâÂÖ®„ÄÇÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºö1234567891011121314151617181920212223242526272829303132public class VolatileCachedFactorizer implements Servlet&#123; private volatile OneValueCache cache = new OneValueCache(null, null); public void service(ServletRequest req, ServletResponse resp) &#123; BigInteger i = extractFromRequest(req); BigInteger[] factors = cache.getFactors(i); if (factors == null) &#123; factors = factor(i); cache = new OneValueCache(i, factors); &#125; encodeIntoResponse(resp, factors); &#125;&#125;class OneValueCache &#123; private final BigInteger lastNumber; private final BigInteger[] lastFactos; public OneValueCache(BigInteger i, BigInteger[] factors) &#123; lastNumber = i; lastFactos = Arrays.copyOf(factors, factors.length); &#125; public BigInteger[] getFactors(BigInteger i) &#123; if (lastNumber == null || !lastNumber.equals(i)) &#123; return null; &#125; else &#123; return Arrays.copyOf(lastFactos, lastFactos.length); &#125; &#125;&#125; ÂÆâÂÖ®ÂèëÂ∏ÉÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÊàë‰ª¨Â∏åÊúõÂú®Â§ö‰∏™Á∫øÁ®ãÈó¥ÂÖ±‰∫´ÂØπË±°ÔºåÊ≠§Êó∂ÂøÖÈ°ªÁ°Æ‰øùÂÆâÂÖ®Âú∞ËøõË°åÂÖ±‰∫´„ÄÇ ‰∏çÊ≠£Á°ÆÁöÑÂèëÂ∏ÉÔºöÂèØËßÅÊÄßÂá∫Áé∞ÈóÆÈ¢ò‰æãÂ≠êÔºö12345678910111213141516public Holder hoder;public void initialize() &#123; holder = new Holder(42);&#125;public class Holder &#123; private int n; public Holder(int n) &#123; this.n = n; &#125; public void assertSanity() &#123; if(n != n) &#123; throw new AssertionError("This statement is false"); &#125; &#125;&#125; Âõ†‰∏∫Èô§‰∫ÜÂèëÂ∏ÉÂØπË±°ÁöÑÁ∫øÁ®ãÂ§ñÔºåÂÖ∂‰ªñÁ∫øÁ®ãÂèØ‰ª•ÁúãÂà∞ÁöÑHolderÂüüÂèØËÉΩÊòØ‰∏Ä‰∏™Â§±ÊïàÂÄº„ÄÇ ‰∏çÂèØÂèòÂØπË±°‰∏éÂàùÂßãÂåñÂÆâÂÖ®ÊÄß‰ªª‰ΩïÁ∫øÁ®ãÈÉΩÂèØ‰ª•Âú®‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÂêåÊ≠•ÁöÑÊÉÖÂÜµ‰∏ãÂÆâÂÖ®Âú∞ËÆøÈóÆ‰∏çÂèØÂèòÂØπË±°ÔºåÂç≥‰ΩøÂú®ÂèëÂ∏ÉËøô‰∫õÂØπË±°Êó∂Ê≤°Êúâ‰ΩøÁî®ÂêåÊ≠•„ÄÇ ÂÆâÂÖ®ÂèëÂ∏ÉÁöÑÂ∏∏Áî®Ê®°ÂºèË¶ÅÂÆâÂÖ®Âú∞ÂèëÂ∏É‰∏Ä‰∏™ÂØπË±°ÔºåÈÇ£ÂÆÉÁöÑÂºïÁî®ÂíåÁä∂ÊÄÅÂøÖÈ°ªÂêåÊó∂ÂØπÂÖ∂‰ªñÁ∫øÁ®ãÂèØËßÅ„ÄÇ‰∏Ä‰∏™Ê≠£Á°ÆÊûÑÈÄ†ÁöÑÂØπË±°ÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÊñπÂºèÂÆâÂÖ®Âú∞ÂèëÂ∏ÉÔºö Âú®ÈùôÊÄÅÂàùÂßãÂåñÂáΩÊï∞‰∏≠ÂàùÂßãÂåñÂØπË±°ÁöÑÂºïÁî® ÊääÂØπË±°ÁöÑÂºïÁî®‰øùÂ≠òÂú®volatileÁ±ªÂûãÁöÑÂüüÊàñËÄÖAtomicReferenceÂØπË±°‰∏≠ Â∞ÜÂØπË±°ÁöÑÂºïÁî®‰øùÂ≠òÂà∞Êüê‰∏™Ê≠£Á°ÆÊûÑÈÄ†ÁöÑfinalÂØπË±°ÁöÑÂüü‰∏≠ Â∞ÜÂØπË±°ÁöÑÂºïÁî®‰øùÂ≠òÂà∞‰∏Ä‰∏™Áî±ÈîÅ‰øùÊä§ÁöÑÂüü‰∏≠ ‰ΩøÁî®ÈùôÊÄÅÂàùÂßãÂåñÂáΩÊï∞ÈÄöÂ∏∏ÊòØÊúÄÁÆÄÂçïÊúÄÂÆâÂÖ®ÁöÑÂèëÂ∏ÉÊñπÂºè:1public static Holder holder = new Holder(42); ÈùôÊÄÅÂàùÂßãÂåñÂô®Áî±JVMÂú®Á±ªÁöÑÂàùÂßãÂåñÈò∂ÊÆµÊâßË°åÔºåÁî±‰∫éJVMÂÜÖÈÉ®Â≠òÂú®Âú®ÂêåÊ≠•Êú∫Âà∂ÔºåÂõ†Ê≠§ÈÄöËøáËøôÁßçÊñπÂºèÂàùÂßãÂåñÁöÑ‰ªª‰ΩïÂØπË±°ÈÉΩÂì¶ÂèØ‰ª•Ë¢´ÂÆâÂÖ®ÂèëÂ∏É„ÄÇ ‰∫ãÂÆû‰∏çÂèØÂèòÂØπË±°Â¶ÇÊûúÂØπË±°Âú®ÊäÄÊúØ‰∏äÊù•ÁúãÊòØÂèØÂèòÁöÑÔºå‰ΩÜÂÖ∂Áä∂ÊÄÅÂú®ÂèëÂ∏É‰πãÂêé‰∏ç‰ºöÂÜçÊîπÂèòÔºåÈÇ£‰πàËøôÁßçÂØπË±°Êàê‰∏∫‚ÄúÂÆûÈôÖ‰∏çÂèØÂèòÂØπË±°‚ÄùÔºåÂú®Ëøô‰∫õÂØπË±°ÂèëÂ∏É‰πãÂêéÔºåÁ®ãÂ∫è‰πãÈúÄË¶ÅÂ∞ÜÂÆÉ‰ª¨ËßÜ‰∏∫‰∏çÂèØÂèòÂØπË±°Âç≥ÂèØ„ÄÇÊâÄ‰ª•Â¶ÇÊûúÁ°ÆËÆ§Êüê‰∫õÂØπË±°ÊòØÂÆûÈôÖ‰∏çÂèØÂèòÂØπË±°ÔºåÂ∞±ÂèØ‰ª•ÁÆÄÂåñÂºÄÂèëÂáèÂ∞ëÂêåÊ≠•‰ªéËÄåÊèêÂçáÊÄßËÉΩ„ÄÇ ÂèØÂèòÂØπË±°Â¶ÇÊûúÂØπË±°Âú®ÊûÑÈÄ†ÂêéÂèØ‰ª•Ë¢´‰øÆÊîπÔºåÈÇ£‰πàÂÆâÂÖ®ÂèëÂ∏ÉÂè™ËÉΩÁ°Æ‰øùËøô‰∏™ÂØπË±°Âú®ÂèëÂ∏ÉÂΩìÊó∂Áä∂ÊÄÅÁöÑÂèØËßÅÊÄßÔºå‰∏∫‰∫Ü‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÔºåÂ∞±ÈúÄË¶ÅÂú®ÊØèÊ¨°ÂØπË±°ËÆøÈóÆÊó∂‰πü‰ΩøÁî®ÂêåÊ≠•Êù•Á°Æ‰øùÂêéÁª≠‰øÆÊîπÊìç‰ΩúÁöÑÂèØËßÅÊÄß„ÄÇÂØπË±°ÁöÑÂèëÂ∏ÉÊñπÂºèÂèñÂÜ≥‰∫éÂÆÉÁöÑÂèØÂèòÊÄßÔºö ‰∏çÂèØÂèòÂØπË±°ÂèØ‰ª•ÈÄöËøá‰ªª‰ΩïÊú∫Âà∂Êù•ÂèëÂ∏ÉÔºõ ‰∫ãÂÆû‰∏çÂèØÂèòÂØπË±°ÂøÖÈ°ªÈÄöËøáÂÆâÂÖ®ÊñπÂºèÊù•ÂèëÂ∏É ÂèØÂèòÂØπË±°ÂøÖÈ°ªÈÄöËøáÂÆâÂÖ®ÊñπÂºèÊù•ÂèëÂ∏ÉÔºåÂπ∂‰∏îÂøÖÈ°ªÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÊàñÁî±Êüê‰∏™ÈîÅ‰øùÊä§Ëµ∑ ÂÆâÂÖ®ÁöÑÂÖ±‰∫´ÂØπË±°Âú®Âπ∂ÂèëÁ®ãÂ∫è‰∏≠‰ΩøÁî®ÂÖ±‰∫´ÂØπË±°ÊòØÔºåÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∫õÂÆûÁî®ÁöÑÁ≠ñÁï•Ôºö Á∫øÁ®ãÂ∞ÅÈó≠„ÄÇÁ∫øÁ®ãÂ∞ÅÈó≠ÁöÑÂØπË±°Âè™ËÉΩÁî±‰∏Ä‰∏™Á∫øÁ®ãÊã•ÊúâÔºåÂØπË±°Ë¢´Â∞ÅÈó≠Âú®ËØ•Á∫øÁ®ã‰∏≠ÔºåÂπ∂‰∏îÂè™ËÉΩÁî±Ëøô‰∏™Á∫øÁ®ã‰øÆÊîπ„ÄÇ Âè™ËØªÂÖ±‰∫´„ÄÇÂú®Ê≤°ÊúâÈ¢ùÂ§ñÂêåÊ≠•ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÖ±‰∫´ÁöÑÂè™ËØªÂØπË±°ÂèØ‰ª•Áî±Â§ö‰∏™Á∫øÁ®ãÂπ∂ÂèëËÆøÈóÆÔºå‰ΩÜ‰ªª‰ΩïÁ∫øÁ®ãÈÉΩ‰∏çËÉΩ‰øÆÊîπÂÆÉ„ÄÇÂÖ±‰∫´ÁöÑÂè™ËØªÂØπË±°ÂåÖÊã¨‰∏çÂèØÂèòÂØπË±°ÂíåÂÆûÈôÖ‰∏çÂèØÂèòÂØπË±°„ÄÇ Á∫øÁ®ãÂÆâÂÖ®ÂÖ±‰∫´„ÄÇÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂØπË±°Âú®ÂÖ∂ÂÜÖÈÉ®ÂÆûÁé∞ÂêåÊ≠•ÔºåÂõ†Ê≠§Â§ö‰∏™Á∫øÁ®ãÂèØ‰ª•ÈÄöËøáÂØπË±°ÁöÑÂÖ¨ÊúâÊé•Âè£Êù•ËøõË°åËÆøÈóÆËÄå‰∏çÈúÄË¶ÅËøõ‰∏ÄÊ≠•ÁöÑÂêåÊ≠•„ÄÇ ‰øùÊä§ÂØπË±°„ÄÇË¢´‰øùÊä§ÁöÑÂØπË±°Âè™ËÉΩÈÄöËøáÊåÅÊúâÁâπÂÆöÁöÑÈîÅÊù•ËÆøÈóÆ„ÄÇ‰øùÊä§ÂØπË±°ÂåÖÊã¨Â∞ÅË£ÖÂú®ÂÖ∂‰ªñÁ∫øÁ®ãÂÆâÂÖ®ÂØπË±°‰∏≠ÁöÑÂØπË±°Ôºå‰ª•ÂèäÂ∑≤ÂèëÂ∏ÉÁöÑÂπ∂‰∏îÁî±Êüê‰∏™ÁâπÂÆöÈîÅ‰øùÊä§ÁöÑÂØπË±°„ÄÇ ÊÄªÁªìÁî±‰∫éÂØπË±°ÈúÄË¶ÅÂÖ±‰∫´ÔºåÊâÄ‰ª•Ë¶ÅÊ≥®ÊÑèÂèëÂ∏ÉÁöÑÂÆâÂÖ®ÊÄßÔºå‰ª•ÂèäÂØπ‰∏çÂèØ‰ª•ÂèòÂØπË±°ÁöÑÂêàÁêÜÂ∫îÁî®„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã javaÂπ∂ÂèëÁºñÁ®ãÂÆûË∑µÂ≠¶‰π†ÔºàÂõõÔºâÂØπË±°ÁöÑÂèëÂ∏ÉÂíåÈÄ∏Âá∫‰πãthisÈÄÉÈÄ∏]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂Âèë_1_Á∫øÁ®ãÂÆâÂÖ®ÊÄß]]></title>
    <url>%2F2018%2F01%2F12%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%2FJava%E5%B9%B6%E5%8F%91-1-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E6%80%A7%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöË¶ÅÁºñÂÜôÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ‰ª£Á†ÅÔºåÂÖ∂Ê†∏ÂøÉÂú®‰∫éË¶ÅÂØπÁä∂ÊÄÅËÆøÈóÆÊìç‰ΩúËøõË°åÁÆ°ÁêÜÔºåÁâπÂà´ÊòØÂØπ‚ÄúÂÖ±‰∫´ÁöÑ(Shared)‚ÄùÂíå‚ÄúÂèØÂèòÁöÑ(Mutable)‚ÄùÁä∂ÊÄÅÁöÑËÆøÈóÆ„ÄÇËÄåÂØπË±°ÁöÑÁä∂ÊÄÅÊòØÊåáÂ≠òÂÇ®Âú®Áä∂ÊÄÅÂèòÈáèÔºàÁ±ªÂèòÈáèÂíåÊàêÂëòÂèòÈáèÔºâ‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ‚ÄúÂÖ±‰∫´‚ÄùÊÑèÂë≥ÁùÄÂèòÈáèÂèØ‰ª•Áî±Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËÆøÈóÆÔºåËÄå‚ÄúÂèØÂèò‚ÄùÂàôÊÑèÂë≥ÁùÄÂèòÈáèÁöÑÂÄºÂú®ÂÖ∂ÁîüÂëΩÂë®ÊúüÂèØ‰ª•ÂèëÁîüÂèòÂåñ„ÄÇ ‰ªÄ‰πàÊòØÁ∫øÁ®ãÁöÑÂÆâÂÖ®ÊÄßÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÁÆÄÂçïÁÇπËØ¥Â∞±ÊòØÊâÄËßÅÂç≥ÊâÄÁü•ÔºåËøôÊòØÂØπÊ≠£Á°ÆÊÄßÁöÑËÆ§ËØÜ„ÄÇÂú®‰π¶‰∏≠ËøòÊúâ‰∏Ä‰∏™ÊØîËæÉÈïøÁöÑÂÆö‰πâÔºö ÂΩìÂ§ö‰∏™Á∫øÁ®ãËÆøÈóÆÊüê‰∏™Á±ªÊó∂Ôºå‰∏çÁÆ°ËøêË°åÊó∂ÁéØÂ¢ÉÈááÁî®‰ΩïÁßçË∞ÉÂ∫¶ÊñπÊ≥ïÊàñËÄÖËøô‰∫õÁ∫øÁ®ãÂ∞ÜÂ¶Ç‰Ωï‰∫§ÊõøÊâßË°åÔºå Âπ∂‰∏îÂú®‰∏ªË∞É‰ª£Á†Å‰∏≠‰∏çÈúÄË¶Å‰ªª‰ΩïÈ¢ùÂ§ñÁöÑÂêåÊ≠•ÊàñÂçèÂêåÔºåËøô‰∏™Á±ªÈÉΩËÉΩË°®Áé∞Âá∫Ê≠£Á°ÆÂú∞Ë°å‰∏∫Ôºå ÈÇ£‰πàËøô‰∏™Á±ªÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ Ëá™Â∑±ÂÜçÂºÄÂßã‰πüÁÆÄÂçï‰ªãÁªç‰∫ÜÂØπË±°ÁöÑÁä∂ÊÄÅÔºåËøôÈáåÈúÄË¶ÅÊòéÁ°Æ‰∏ÄÁÇπÔºö Êó†Áä∂ÊÄÅÁöÑÂØπË±°‰∏ÄÂÆöÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ ÂéüÂ≠êÊÄß ÂéüÂ≠êÊìç‰ΩúÔºö‰∏çÂèØÂÜçÂàÜÂâ≤‰∏∫Âá†‰∏™Êìç‰ΩúÁöÑÊìç‰Ωú Á´ûÊÄÅÊù°‰ª∂ÔºöÁî±‰∫é‰∏çÊÅ∞ÂΩìÁöÑÊâßË°åÊó∂Â∫èËÄåÂá∫Áé∞‰∏çÊ≠£Á°ÆÁöÑÁªìÊûúÔºà‰∏çÊòØÂéüÂ≠êÊìç‰ΩúÂºïËµ∑ÁöÑÔºâ Á´ûÊÄÅÊù°‰ª∂ÁöÑÁ±ªÂûãÔºö ÂÖàÊ£ÄÊü•ÂêéÊâßË°åÔºå‰æãÂ¶ÇÂª∂ËøüÂàùÂßãÂåñ ËØªÂèñ-‰øÆÊîπ-ÂÜôÂÖ•Ôºå‰æãÂ¶ÇÁªüËÆ°ÂëΩ‰∏≠Êï∞Êìç‰Ωú Â§çÂêàÊìç‰ΩúÔºöÂ∞ÜÂá†‰∏™Êìç‰ΩúÂèò‰∏∫‰∏Ä‰∏™ÂéüÂ≠êÊìç‰ΩúÔºåÂú®java.util.concurrent.atomicÂåÖ‰∏≠ÂåÖÂê´‰∫Ü‰∏Ä‰∫õÂéüÂ≠êÂèòÈáèÁ±ªÔºåÁî®‰∫éÂÆûÁé∞Âú®Êï∞ÂÄºÂíåÂØπË±°ÂºïÁî®‰∏äÁöÑÂéüÂ≠êÁä∂ÊÄÅËΩ¨Êç¢„ÄÇ Âú®Êó†Áä∂ÊÄÅÁöÑÁ±ª‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Áä∂ÊÄÅÊó∂ÔºåÂ¶ÇÊûúËØ•Áä∂ÊÄÅÂÆåÂÖ®Áî±Á∫øÁ®ãÂÆâÂÖ®ÁöÑÂØπË±°Êù•ÁÆ°ÁêÜÔºåÈÇ£‰πàËøô‰∏™Á±ª‰ªçÁÑ∂ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ Âä†ÈîÅÊú∫Âà∂Ë¶Å‰øùÊåÅÁä∂ÊÄÅÁöÑ‰∏ÄËá¥ÊÄßÔºåÂ∞±ÈúÄË¶ÅÂú®Âçï‰∏™ÂéüÂ≠êÊìç‰Ωú‰∏≠Êõ¥Êñ∞ÊâÄÊúâÁõ∏ÂÖ≥ÁöÑÁä∂ÊÄÅÂèòÈáè„ÄÇ ÂÜÖÁΩÆÈîÅJavaÊèê‰æõ‰∫Ü‰∏ÄÁßçÂÜÖÁΩÆÁöÑÈîÅÊú∫Âà∂Êù•ÊîØÊåÅÂéüÂ≠êÊÄßÔºöÂêåÊ≠•‰ª£Á†ÅÂùó„ÄÇÂêåÊ≠•‰ª£Á†ÅÂùóÂåÖÊã¨‰∏§ÈÉ®ÂàÜÔºö‰∏Ä‰∏™‚Äú‰Ωú‰∏∫ÈîÅ‚ÄùÁöÑÂØπË±°ÂºïÁî®Ôºå‰∏Ä‰∏™‚Äú‰Ωú‰∏∫Áî±Ëøô‰∏™ÈîÅ‰øùÊä§‚ÄùÁöÑ‰ª£Á†ÅÂùó„ÄÇËøô‰∏™ÈîÅÁß∞‰∏∫ÂÜÖÁΩÆÈîÅÊàñÁõëËßÜÂô®ÈîÅ„ÄÇÁ∫øÁ®ãÂú®ËøõÂÖ•ÂêåÊ≠•‰ª£Á†ÅÂùó‰πãÂâç‰ºöËá™Âä®Ëé∑ÂæóÈîÅÔºåÂπ∂‰∏îÂú®ÈÄÄÂá∫ÂêåÊ≠•‰ª£Á†ÅÂùóÊó∂Ëá™Âä®ÈáäÊîæÈîÅ„ÄÇJavaÁöÑÂÜÖÁΩÆÈîÅÁõ∏ÂΩì‰∫é‰∏ÄÁßç‰∫íÊñ•‰ΩìÔºåÊúÄÂ§öÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üÊåÅÊúâËøôÁßçÈîÅ„ÄÇÁî±‰∫éÊØèÊ¨°Âè™ËÉΩÊúâ‰∏Ä‰∏™Á∫øÁ®ãÊâßË°åÂÜÖÁΩÆÈîÅ‰øùÊä§ÁöÑ‰ª£Á†ÅÂùóÔºåÂõ†Ê≠§ÔºåÊúâËøô‰∏™ÈîÅ‰øùÊä§ÁöÑÂêåÊ≠•‰ª£Á†ÅÂùó‰ºö‰ª•ÂéüÂ≠êÊñπÂºèÊâßË°å„ÄÇ ÈáçÂÖ•ÂÜÖÁΩÆÈîÅÊòØÂèØÈáçÂÖ•ÁöÑÔºåÂ¶ÇÊûúÊüê‰∏™Á∫øÁ®ãËØïÂõæËé∑Âæó‰∏Ä‰∏™Â∑≤ÁªèÊúâÂÆÉËá™Â∑±ÊåÅÊúâÁöÑÈîÅÔºåËøô‰∏™ËØ∑Ê±ÇÂ∞Ü‰ºöÊàêÂäüÔºå‚ÄúÈáçÂÖ•‚ÄùÊÑèÂë≥ÁùÄËé∑ÂèñÈîÅÁöÑÊìç‰ΩúÁöÑÁ≤íÂ∫¶ÊòØ‚ÄúÁ∫øÁ®ã‚Äù„ÄÇ ÈáçÂÖ•ÁöÑ‰∏ÄÁßçÊòØÂÆûÁé∞ÊñπÊ≥ïÊòØÔºö‰∏∫ÊØè‰∏™ÈîÅÂÖ≥ËÅî‰∏Ä‰∏™Ëé∑ÂèñËÆ°Êï∞ÂÄºÂíå‰∏Ä‰∏™ÊâÄÊúâËÄÖÁ∫øÁ®ã„ÄÇÂΩìËÆ°Êï∞ÂÄº‰∏∫0Êó∂ÔºåËøô‰∏™ÈîÅÂ∞±Ë¢´ËÆ§‰∏∫ÊòØÊ≤°ÊúâË¢´‰ªª‰ΩïÁ∫øÁ®ãÊåÅÊúâ„ÄÇÂΩìÁ∫øÁ®ãËØ∑Ê±Ç‰∏Ä‰∏™Êú™Ë¢´ÊåÅÊúâÁöÑÈîÅÊó∂ÔºåJVMÂ∞ÜËÆ∞‰∏ãÈîÅÁöÑÊåÅÊúâËÄÖÔºåÂπ∂‰∏îÂ∞ÜËé∑ÂèñËÆ°Êï∞ÂÄºÁΩÆ‰∏∫1„ÄÇÂ¶ÇÊûúÂêå‰∏™Á∫øÁ®ãÂÜçÊ¨°Ëé∑ÂèñËøô‰∏™ÈîÅÔºåËÆ°Êï∞ÂÄºÂ∞ÜÈÄíÂ¢ûÔºåËÄåÂΩìÁ∫øÁ®ãÈÄÄÂá∫ÂêåÊ≠•‰ª£Á†ÅÂùóÊó∂ÔºåËÆ°Êï∞Âô®‰ºöÁõ∏Â∫îÂú∞ÈÄíÂáèÔºåÂΩìËÆ°Êï∞ÂÄº‰∏∫0Êó∂ÔºåËøô‰∏™ÈîÅÂ∞ÜË¢´ÈáäÊîæ„ÄÇ Áî®ÈîÅÊù•‰øùÊä§Áä∂ÊÄÅ Âè™ÊääÂ§çÂêàÊìç‰ΩúÂåÖË£ÖÂú®synchronizedÂùó‰∏≠Âπ∂‰∏çÂ§üÔºåÂ¶ÇÊûúÂØπ‰∏Ä‰∏™ÂèòÈáèÁöÑËÆøÈóÆÈúÄË¶Å‰ΩøÁî®ÂêåÊ≠•ÔºåÈÇ£ÊâÄÊúâËÆøÈóÆËØ•ÂèòÈáèÁöÑÂú∞ÊñπÈÉΩË¶ÅÂä†‰∏äÂêåÊ≠•„ÄÇËÄå‰∏îÂú®‰ΩøÁî®ÈîÅÊù•ÂÆûÁé∞ÂØπÂèòÈáèÁöÑÂêåÊ≠•Êó∂ÔºåÊâÄÊúâËÆøÈóÆËØ•ÂèòÈáèÁöÑÂú∞ÊñπÈÉΩË¶Å‰ΩøÁî®Âêå‰∏ÄÊääÈîÅ„ÄÇ Ëé∑Âèñ‰∏Ä‰∏™ÂØπË±°ÂÖ≥ËÅîÁöÑÈîÅÂπ∂‰∏çËÉΩÈòªÊ≠¢ÂÖ∂‰ªñÁ∫øÁ®ãËÆøÈóÆËØ•ÂØπË±°ÔºåÂè™ÊúâÊâÄÊúâÁ∫øÁ®ãÈÉΩËé∑ÂèñÁöÑÊòØÁõ∏ÂêåÁöÑÈîÅÊâçËÉΩÁ°Æ‰øùËØ•ÂØπË±°Ë¢´‰∏≤Ë°åËÆøÈóÆ„ÄÇÊâÄ‰ª•ÊØè‰∏™ÂÖ±‰∫´ÁöÑÂèØÂèòÂèòÈáèË¶ÅË¢´Âêå‰∏ÄÊääÈîÅ‰øùÊä§„ÄÇÂπ∂ÈùûÊâÄÊúâÊï∞ÊçÆÈÉΩÈúÄË¶ÅÈîÅÁöÑ‰øùÊä§ÔºåÂè™ÊúâË¢´Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËÆøÈóÆÁöÑÂèØÂèòÊï∞ÊçÆÊâçÈúÄË¶ÅÈÄöËøáÈîÅÊù•‰øùÊä§„ÄÇ ‰∏ÄÁßçÂ∏∏ËßÅÁöÑÂä†ÈîÅÁ∫¶ÂÆöÊòØÔºåÂ∞ÜÊâÄÊúâÁöÑÂèØÂèòÁä∂ÊÄÅÈÉΩÂ∞ÅË£ÖÂú®ÂØπË±°ÂÜÖÈÉ®ÔºåÂπ∂ÈÄöËøáÂØπË±°ÁöÑÂÜÖÁΩÆÈîÅÂØπÊâÄÊúâËÆøÈóÆÂèØÂèòÁä∂ÊÄÅÁöÑ‰ª£Á†ÅËøõË°åÂêåÊ≠•Ôºå‰ΩøÂæóÂú®ËØ•ÂØπË±°‰∏ä‰∏ç‰ºöÂèëÁîüÂπ∂ÂèëËÆøÈóÆ„ÄÇ Ê¥ªË∑ÉÊÄß‰∏éÊÄßËÉΩËøôÈáåÂ±ïÁ§∫‰∏§‰∏™‰ª£Á†ÅÔºö Âà©Áî®ÂêåÊ≠•ÊñπÊ≥ïÂÆûÁé∞ÈîÅÁöÑ‰ª£Á†ÅÔºö1234567891011121314151617181920import java.math.BigInteger;public class SynchronizedFactorizer implements Servlet &#123; @GuardedBy(this) private BigInteger lastNumber; @GuardedBy(this) private BigInteger[] lastFactors; public synchronized void service(ServletRequest req, ServletResponse resp) &#123; BigInteger i = extractFromRequest(req); if(i.equals(lastNumber)) &#123; encodeIntoResponse(resp, lastFactors); &#125; else &#123; BigInteger[] factors = factor(i); lastNumber = i; lastFactors = factors.clone(); encodeIntoResponse(resp, factors); &#125; &#125;&#125; ÈÄöËøáÁº©Â∞èÂêåÊ≠•‰ª£Á†ÅÂùóÁöÑ‰ΩúÁî®ËåÉÂõ¥ÂÆûÁé∞ÈîÅÁöÑ‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839import java.math.BigInteger;import com.sun.org.apache.bcel.internal.generic.IF_ACMPEQ;@ThreadSafepublic class CachedFactorizer implements Servlet&#123; @GuardedBy(this) private BigInteger lastNumber; @GuardedBy(this) private BigInteger[] lastFactors; @GuardedBy(this) private long hits; @GuardedBy(this) private long cacheHits; public synchronized long getHits() &#123; return hits; &#125; public synchronized double getCachedHits() &#123; return (double)cacheHits /(double) hits; &#125; public void service(ServletRequest req, ServletResponse resp) &#123; BigInteger i = extractFromRequest(req); BigInteger[] factors = null; synchronized (this) &#123; ++hits; if(i.equals(lastNumber)) &#123; ++cacheHits; factors = lastFactors.clone(); &#125; &#125; if(factors == null) &#123; factors = factor(i); //Ëä±Ë¥πÊó∂Èó¥ÈïøÁöÑ‰ª£Á†Å‰∏çË¶ÅÊåÅÊúâÈîÅÔºåÁõ∏ÂΩì‰∫é‰∏§‰∏™ÂêåÊ≠•‰ª£Á†ÅÂùóÁöÑÁïåÈôê synchronized (this) &#123; lastNumber = i; lastFactors = factors.clone(); &#125; &#125; encodeIntoResponse(resp, factors); &#125;&#125; Ë¶ÅÂà§Êñ≠ÂêåÊ≠•‰ª£Á†ÅÂùóÁöÑÂêàÁêÜÂ§ßÂ∞èÔºåÈúÄË¶ÅÂú®ÂêÑÁßçËÆæËÆ°ÈúÄÊ±Ç‰πãÈó¥ËøõË°åÊùÉË°°ÔºåÂåÖÊã¨ÂÆâÂÖ®ÊÄßÔºàËøô‰∏™ÈúÄÊ±ÇÂøÖÈ°ªË¶ÅÊª°Ë∂≥Ôºâ„ÄÅÁÆÄÂçïÊÄßÂíåÊÄßËÉΩ„ÄÇÊàë‰ª¨ÈúÄË¶ÅÊùÉË°°„ÄÇ tipÔºöÂΩìÊâßË°åÊó∂Èó¥ËæÉÈïøÁöÑËÆ°ÁÆóÊàñËÄÖÂèØËÉΩÊó†Ê≥ïÂø´ÈÄüÂÆåÊàêÁöÑÊìç‰ΩúÊó∂Ôºà‰æãÂ¶ÇÔºåÁΩëÁªúI/OÊàñÊéßÂà∂Âè∞I/OÔºâÔºå‰∏ÄÂÆö‰∏çË¶ÅÊåÅÊúâÈîÅ„ÄÇ ÊÄªÁªìÂÆâÂÖ®ÊÄßÈúÄË¶Å‰øùËØÅÔºåÊ¥ªË∑ÉÊÄßÂíåÊÄßËÉΩ‰πüË¶ÅÂú®ÊùÉË°°‰πã‰∏≠„ÄÇ ÂèÇËÄÉ „ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„Äã]]></content>
      <categories>
        <category>JavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∫∫Áîü‰πãËØ≠Ë®Ä‰∏éÊï∞Â≠¶]]></title>
    <url>%2F2018%2F01%2F11%2F%E7%94%9F%E6%B4%BB%2F%E4%BA%BA%E7%94%9F%E4%B9%8B%E8%AF%AD%E8%A8%80%E4%B8%8E%E6%95%B0%E5%AD%A6%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂÖ∂ÂÆûÊúÄËøëËá™Â∑±‰∏ÄÁõ¥ÈÉΩÂú®ÂáÜÂ§áËÄÉËØïÔºåÁªìÊûúÁ™ÅÁÑ∂ËÑëÊµ∑Âá∫Áé∞‰∫ÜÂÖ≥‰∫éÂØπ‰∫∫ÁîüÁöÑÊùÇÊÉ≥ÔºàÂèØËÉΩÊÉ≥ÁöÑÈ´òÂ∫¶Â§™È´ò‰∫ÜÔºâÔºåËá™Â∑±Ê≤°ÊúâÂèäÊó∂ÂÜô‰∏ãÊù•ÔºåÁé∞Âú®Âü∫Êú¨‰∏äËÄÉÂÆå‰∫ÜÔºåÊâÄ‰ª•Â∞±ÊÉ≥ËÆ§ÁúüË∞à‰∏Ä‰∏ãËá™Â∑±ÁöÑÊÄùËÄÉ„ÄÇ ‰∫∫ÁîüÊàëÊÉ≥Â§ßÈÉ®‰∫∫ÈÉΩÊòØÊÉ≥ÁùÄÊàêÂäüÂæóËøáÂÆåËøô‰∏ÄÁîüÁöÑÔºå‰ΩÜÊòØÊØè‰∏™‰∫∫ÈÉΩ‰ºöËø∑Ëå´ÔºåÈÉΩ‰ºöÂú®Êüê‰∏™Êó∂Âàª‰∏çÁü•ÈÅìËá™Â∑±ÊÉ≥Ë¶Å‰ªÄ‰πàÔºåÊàñËÄÖËØ•ÊÄé‰πàÂÅö„ÄÇÊàëÊÉ≥ÁÆÄÂçïÂæóÊää‰∏ñÁïå‰∏äÁöÑ‰∫∫ÂΩí‰∏∫ËøôÊ†∑‰∏§Á±ª„ÄÇ ËØù‰∫∫ÁîüËøôÈáåÊúâ‰∏ÄÁ±ª‰∫∫‰ªñ‰ª¨ÊòØÈù†ÊÉÖÂïÜÂíåÂä™ÂäõÊù•Ëé∑ÂæóÊàêÂäüÁöÑÔºåËØ¥ÁöÑÈÄö‰øóÁÇπÂ∞±ÊòØËµ∞‰∏äË°åÊîøÊàñËÄÖÂÅöÁîüÊÑèÁöÑÔºåËøôÁ±ª‰∫∫ÂØπÊàë‰ª¨ÁöÑ‰∏ñÁïåÊòØÂçÅÂàÜÈáçË¶ÅÁöÑÔºåËÉΩËØ¥‰ºöÈÅìÁöÑ‰∫∫Âú®Âì™ÈÉΩËÉΩÂêÉÂæóÂºÄÂêß„ÄÇ Ë°åÊîø‰∫∫ÁîüË°åÊîøÁé∞Âú®ÂØπÂ≠¶ÂéÜÁöÑË¶ÅÊ±Ç‰πüË∂äÊù•Ë∂äÈ´ò‰∫ÜÔºåÊâÄ‰ª•‰∏çÁÆ°ÊÄé‰πàÊ†∑ÔºåÊàëËßâÂæóËøôÊ†∑ÁöÑ‰∫∫ËøòÊòØË¶ÅÂØπËÄÉËØï‰øùÊåÅÊï¨ÁïèÔºåÊàë‰∏™‰∫∫ËßâÂæóÈîªÁÇºÂ∫îËØïËÉΩÂäõÊòØÂçÅÂàÜÊúâÂøÖË¶ÅÁöÑÔºåÂõ†‰∏∫Âú®ÂçáÂ≠¶ÊàñËÄÖÂÖ•ËÅåÔºåËøôÈÉΩÂ∞ÜËµ∑ÁùÄÁΩÆÂÖ≥ÈáçË¶ÅÁöÑ‰ΩúÁî®ÔºåÊàëÊÉ≥‰πüËÆ∏‰∏çÁî®ÊääÊØèÂùóÁü•ËØÜÈÉΩÂºÑÁöÑÈÇ£‰πàÊ∑±ÔºåÈÇ£‰πàÈÄèÔºåÂèçËÄåÂ∫îËØ•ÊòØÂ≠¶‰ºöÊÄªÁªìÔºåÂ≠¶‰ºöÂΩíÁ±ªÔºåÂ≠¶‰ºöÈ¢ÑÊµã‰ª•‰æøËä±ÊúÄÂ∞ëÁöÑÊó∂Èó¥ÊàñËÄÖÊúÄ‰Ω≥ÁöÑÁªìÊûú„ÄÇËøôÈáåË¶ÅÊèê‰∏Ä‰∏ãÂ∞±ÊòØÊàë‰ª¨‰ªéÂ∞èÁöÑÂ≠¶ÁöÑËØ≠ÊñáËøôÈó®ÁßëÁõÆ‰∫ÜÔºå‰∏çËÉΩËØ¥ÂÆÉÂ§öÊúâÁî®Ôºå‰ΩÜÊòØÂØπ‰∫éÊèêÈ´òÊàë‰ª¨ÁöÑÊñáÁ¨îËøòÊòØÂæàÊúâÂ∏ÆÂä©ÁöÑÔºåËøòÊúâÂ∞±ÊòØ‰π¶ÂÜôËÉΩÂäõ‰πü‰ºöÊòæÂæóÂçÅÂàÜÈáçË¶Å„ÄÇ ÁîüÊÑè‰∫∫ÁîüÂÅöÁîüÊÑèÊàñËÄÖËØ¥ÂÅöÈîÄÂîÆÔºåÂÖ∂ÂÆûÂ§ßÈÉ®ÂàÜÁöÑ‰∫∫ÈÉΩËÉΩÊÑüËßâÂà∞ÂÆû‰∏öË∂äÊù•Ë∂äÈöæÂÅö‰∫ÜÔºåÊàñËÄÖËØ¥ÊòØÂ§™Á®≥Âõ∫ÔºåÂ¢ôÂ§ñÈù¢ÁöÑ‰∫∫ÂæàÈöæÊå§ËøõÂéªÔºåÂèçËÄåÈöèÁùÄ‰∫íËÅîÁΩëÁöÑÂèëÂ±ïÔºåÁ∫ø‰∏äÁöÑÁîüÊÑèÁÅ´Â•Ω‰∏Ä‰∫õ„ÄÇËøôÂè™ÊòØ‰∏ÄÁßçÂΩ¢Âºè„ÄÇÁúüÊ≠£ÊÉ≥ÂÅöÂ§ßÂÅöÂ•ΩÔºå‰Ω†Èô§‰∫ÜËÉΩËØ¥‰ºöÈÅìÔºåÊàëÊÉ≥ÊéåÊè°‰∏ÄÂè£Ê†áÂáÜÁöÑÊôÆÈÄöËØùÂíå‰∏ÄÂè£ÊµÅÂà©ÁöÑËã±ËØ≠Âè£ËØ≠ÂØπÁîüÊÑèÁöÑÂπøÂ∫¶ÂíåÊú™Êù•ÈÉΩ‰ºöÊúâÂæàÂ•ΩÁöÑÂ∏ÆÂä©ÔºåÊâÄ‰ª•ËØ≠Ë®ÄËÉΩÂäõÈúÄË¶ÅÂ•ΩÂ•ΩÁöÑget„ÄÇ Â≠¶‰∫∫ÁîüËøòÊúâËøô‰∏ÄÁßç‰∫∫ÈÇ£Â∞±ÊòØÈÄöËøáÂ≠¶‰π†ÂíåÂä™ÂäõÊù•ÊîπÂèò‰∫∫ÁîüÔºåÊàñËÄÖËØ¥ÊòØËµ∞ÊäÄÊúØË∑ØÁ∫øÁöÑÔºåÂΩìÁÑ∂ËøôÈáå‰πü‰ºöÂàÜ‰∏∫‰∏§Áßç‰∫∫„ÄÇ ÁßëÁ†î‰∫∫Áîü‰∏ñÁïåÈúÄË¶ÅËøõÊ≠•ÔºåÈÇ£ËøõÊ≠•‰ªé‰ΩïËÄåÊù•ÔºåÊàëÊÉ≥ÂÖ∂‰∏≠ÁöÑÊ†∏ÂøÉÊòØÊù•Ëá™‰∏ÄÈÉ®ÂàÜÂç†ÊØî‰∏çÈ´òÁöÑ‰∫∫ÔºàÁßëÂ≠¶ÂÆ∂ÔºåËá≥Â∞ëÊòØ‰∏™ÂçöÂ£´ÂêßÔºâÁöÑÂä™Âäõ„ÄÇËøôÈáåÊï∞Â≠¶Â∞±‰ºöÊòæÂæóÈÇ£‰πàÈáçË¶Å„ÄÇÂΩìÁÑ∂Êï∞Â≠¶‰ºöÂàÜÂæàÂ§öÊñπÈù¢Ôºå‰πãÂâçÂê¨Âà∞Ëøá‰∏ÄÁßçËØ¥Ê≥ïÂ∞±ÊòØÊï∞Â≠¶ÂÖ∂ÂÆû‰∏ÄÈó®Âì≤Â≠¶Ôºå‰ø°‰∫ÜÂÆÉÂ∞±ÊòØÂØπÁöÑÔºå‰∏ç‰ø°ÂÆÉÂ∞±ÊòØÈîôÁöÑ„ÄÇËØ¥ÁöÑÂÖ∂ÂÆû‰πüÊòØÂçÅÂàÜÁöÑÊúâÈÅìÁêÜÔºåÊï∞Â≠¶ÁöÑÂØπÈîôÂÖ∂ÂÆûÊòØÁõ∏ÂØπÁöÑÔºå‰∏çÊòØÁªùÂØπÁöÑÔºåË¶ÅÊ†πÊçÆÊâÄÂ§ÑÁöÑÈ¢ÜÂüüÂü∫Á°ÄÔºå‰ΩÜÊòØÂØπ‰∫éÂ§ßÈÉ®ÂàÜÊàë‰ª¨ÊâÄËÆ§ËØÜÂà∞ÁöÑÊï∞Â≠¶Â§ßÂ§öÊï∞ËøòÊòØÂêå‰∏Ä‰∏™Âü∫Á°ÄÔºåÂ∞±ÊòØÊàë‰ª¨Â§ßÈÉ®ÂàÜ‰∫∫‰ªéÂ∞èÂà∞Â§ßÊâÄÂ≠¶ÁöÑÊï∞Â≠¶„ÄÇÁÑ∂ÂêéÊàëÊÉ≥ËØ¥ËØ¥Ëá™Â∑±ÂØπ‰∫éÊï∞Â≠¶ÁöÑËÆ§Áü•ÔºåÊàëÊÉ≥ËØ¥Êï∞Â≠¶ÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™Â∑•ÂÖ∑ÔºåÂÆÉÂØπ‰∫éÊó†ËÆ∫ÊòØÂì™ÊñπÈù¢ÁöÑÁßëÁ†îÈÉΩÊòØÂæàÈáçË¶ÅÁöÑÔºåÊó†ËÆ∫ÊòØÂ∑•ÁßëËøòÊòØÁªèÊµéÂ≠¶Áßë„ÄÇÊâÄ‰ª•‰πüÂ∞±ËØûÁîü‰∫ÜÈÇ£‰πàÂ§ö‰∫§ÂèâÂ≠¶Áßë„ÄÇËøôÈáåÂèàÊÉ≥ÊèêÂà∞ËÆ°ÁÆóÊú∫ÁßëÂ≠¶ÔºåÂÖ∂ÂÆûËÆ°ÁÆóÊú∫ÁßëÂ≠¶Âú®ÁßëÁ†îÊñπ‰æøËµ∑Âà∞ÁöÑÂè™ÊòØÂáèÂ∞ë‰∫∫Á±ªÁöÑÂ∑•‰ΩúÈáè‰ª•ÂèäÊèêÈ´ò‰∫∫ÊâÄÈúÄË¶ÅÁöÑËÆ°ÁÆóËÉΩÂäõ„ÄÇÂ∞±ÂÉèÂ§ßÊï∞ÊçÆÂÖ∂ÂÆûÊòØÂ±û‰∫éÁªüËÆ°Â≠¶ÁßëÔºå‰ΩÜÊòØÁªìÂêàÂà∞ËÆ°ÁÆóÊú∫ÔºåÈÇ£‰πàÂ∞±ÂèòÊàê‰∫ÜËÆ°ÁÆóÊú∫ÁöÑÁÉ≠Èó®Â≠¶Áßë‰∫Ü„ÄÇ ÁªèÈ™å‰∫∫Áîü‰∏ñÁïåÁöÑËøõÊ≠•ÈúÄË¶ÅÁßëÂ≠¶ÂÆ∂Ôºå‰ΩÜÊòØ‰πüÂ∞ë‰∏ç‰∫ÜÈù†ÁªèÈ™åËß£ÂÜ≥ÈóÆÈ¢òÁöÑ‰∏ìÂÆ∂ÔºåÊØîÂ¶ÇÊû∂ÊûÑÂ∏àÔºåÊàëÊÉ≥Â§ßÊ¶ÇÂ∞±ÊòØÈÄöËøá‰∏çÊñ≠ÁöÑÂÆûË∑µÊù•ÊèêÈ´òËá™Â∑±ÁöÑËß£ÂÜ≥ÈóÆÈ¢òÁöÑËÉΩÂäõÔºåËÄåËøô‰∏çÈúÄË¶ÅÂ§öÂ•ΩÁöÑÁßëÁ†îËÉΩÂäõÊàñËÄÖËØ¥ÁªùÂØπÁöÑÂàõÊñ∞ËÉΩÂäõÔºåÂè™Ë¶ÅÂ§öÂÅöÂ§öÊÉ≥ÔºåÂ≠¶‰ºöÂø´ÂèàÂáÜÁ°ÆÂú∞Ëß£ÂÜ≥ÈóÆÈ¢òÂ∞±Â•Ω‰∫Ü„ÄÇÊàëÁõ∏‰ø°Â§ßÈÉ®ÂàÜ‰∫∫ÁöÑÊô∫ÂïÜÈÉΩÊòØÂ∑Æ‰∏çÂ§öÁöÑÔºåÊâÄ‰ª•ÊÉ≥Âú®ÁªèÈ™å‰∫∫Áîü‰∏äÂèñÁöÑÂ∞èÂ∞èÁöÑÊàêÂäüÔºåÁúüÁöÑÊòØÈúÄË¶ÅËä±ÂæàÂ§öÊó∂Èó¥Êù•ÊèêÂçáËá™Â∑±ÁöÑÁªèÈ™å„ÄÇ]]></content>
      <categories>
        <category>ÁîüÊ¥ª</category>
      </categories>
      <tags>
        <tag>‰∫∫Áîü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_14_Á∫øÁ®ãÂÆâÂÖ®‰∏éÈîÅ‰ºòÂåñ]]></title>
    <url>%2F2017%2F12%2F14%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-14-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E4%B8%8E%E9%94%81%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÈù¢ÂêëÂØπË±°ÁöÑÁºñÁ®ãÊÄùÊÉ≥ÊûÅÂ§ßÁöÑÊèêÂçá‰∫ÜÁé∞Âú®ËΩØ‰ª∂ÂºÄÂèëÁöÑÁîü‰∫ßÊïàÁéáÂíåËΩØ‰ª∂ÂèØ‰ª•ËææÂà∞ÁöÑËßÑÊ®°Ôºå‰ΩÜÊòØÁé∞ÂÆû‰∏≠ÂØπË±°Âú®‰∏ÄÈ°πÂ∑•‰ΩúËøõË°åÊúüÈó¥Ôºå‰ºöË¢´‰∏çÂÅúÂú∞‰∏≠Êñ≠ÂíåÂàáÊç¢ÔºåÂØπË±°ÁöÑÂ±ûÊÄßÂèØËÉΩ‰ºöÂú®‰∏≠Êñ≠ÊúüÈó¥Ë¢´‰øÆÊîπÂíåÂèò‚ÄúËÑè‚ÄùÔºåÊâÄ‰ª•Êàë‰ª¨Âú®Ë∞à‚ÄúÈ´òÊïàÂπ∂Âèë‚Äù‰πãÂâçÂøÖÈ°ªÂÖà‰øùËØÅÂπ∂ÂèëÁöÑÊ≠£Á°ÆÊÄßÂíåÂ¶Ç‰ΩïÂÆûÁé∞Á∫øÁ®ãÂÆâÂÖ®„ÄÇ Á∫øÁ®ãÁöÑÂÆâÂÖ®Âú®„ÄäJava Concurrency In Practice„Äã‰∏Ä‰π¶‰∏≠ËøôÊ†∑ÂÆö‰πâÁ∫øÁ®ãÂÆâÂÖ®ÔºöÂΩìÂ§ö‰∏™Á∫øÁ®ãËÆøÈóÆ‰∏Ä‰∏™ÂØπË±°Êó∂ÔºåÂ¶ÇÊûú‰∏çÁî®ËÄÉËôëËøô‰∫õÁ∫øÁ®ãÂú®ËøêË°åÊó∂ÁéØÂ¢É‰∏ãÂæóË∞ÉÂ∫¶Âíå‰∫§ÊõøÊâßË°åÔºå‰πü‰∏çÈúÄË¶ÅËøõË°åÈ¢ùÂ§ñÁöÑÂêåÊ≠•ÔºåÊàñËÄÖÂú®Ë∞ÉÁî®ÊñπËøõË°å‰ªª‰ΩïÂÖ∂‰ªñÁöÑÂçèË∞ÉÊìç‰ΩúÔºåË∞ÉÁî®Ëøô‰∏™ÂØπË±°ÁöÑË°å‰∏∫ÈÉΩÂèØ‰ª•Ëé∑ÂæóÊ≠£Á°ÆÂú∞ÁªìÊûúÔºåÈÇ£Ëøô‰∏™ÂØπË±°ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ ÂÆÉË¶ÅÊ±ÇÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ‰ª£Á†ÅÈÉΩÂøÖÈ°ªÂÖ∑Â§á‰∏Ä‰∏™ÁâπÂæÅÔºö‰ª£Á†ÅÊú¨Ë∫´Â∞ÅË£Ö‰∫ÜÊâÄÊúâÂøÖË¶ÅÁöÑÊ≠£Á°ÆÊÄß‰øùÈöúÊâãÊÆµÔºàÂ¶Ç‰∫íÊñ•ÂêåÊ≠•Á≠âÔºâÔºå‰ª§Ë∞ÉÁî®ËÄÖÊó†ÈúÄÂÖ≥ÂøÉÂ§öÁ∫øÁ®ãÁöÑÈóÆÈ¢òÔºåÊõ¥Êó†ÈúÄËá™Â∑±ÈááÁî®‰ªª‰ΩïÊé™ÊñΩÊù•‰øùÈöúÂ§öÁ∫øÁ®ãÁöÑÊ≠£Á°ÆË∞ÉÁî®„ÄÇ JavaËØ≠Ë®Ä‰∏≠ÁöÑÁ∫øÁ®ãÂÆâÂÖ®Âú®ËÆ®ËÆ∫Á∫øÁ®ãÂÆâÂÖ®ÁöÑÊó∂ÂÄôÔºåÈÉΩ‰ºöÈôêÂÆö‰∫éÂ§ö‰∏™Á∫øÁ®ã‰πãÈó¥Â≠òÂú®ÂÖ±‰∫´Êï∞ÊçÆËÆøÈóÆËøô‰∏™ÂâçÊèêÔºåÊàë‰ª¨ÊåâÁÖßÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ‚ÄúÂÆâÂÖ®Á®ãÂ∫¶‚ÄùÁî±Âº∫Ëá≥Âº±Êù•ÊéíÂ∫èÔºåÂèØ‰ª•Â∞ÜJavaËØ≠Ë®Ä‰∏≠ÂêÑÁßçÊìç‰ΩúÂÖ±‰∫´ÁöÑÊï∞ÊçÆÂàÜ‰∏∫‰ª•‰∏ã5Á±ªÔºö‰∏çÂèØÂèò„ÄÅÁªùÂØπÁ∫øÁ®ãÂÆâÂÖ®„ÄÅÁõ∏ÂØπÁ∫øÁ®ãÂÆâÂÖ®„ÄÅÁ∫øÁ®ãÂÖºÂÆπÂíåÁ∫øÁ®ãÂØπÁ´ã„ÄÇ ‰∏çÂèØÂèòÂú®JavaËØ≠Ë®Ä‰∏≠Ôºå‰∏çÂèØÂèòÂØπË±°‰∏ÄÂÆöÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÊó†ËÆ∫ÊòØÂØπË±°ÁöÑÊñπÊ≥ïÂÆûÁé∞ËøòÊòØÊñπÊ≥ïË∞ÉÁî®ËÄÖÈÉΩ‰∏çÈúÄË¶ÅÂú®ÈááÂèñ‰ªª‰ΩïÁöÑÁ∫øÁ®ãÂÆâÂÖ®‰øùÈöúÊé™ÊñΩ„ÄÇ JavaËØ≠Ë®Ä‰∏≠ÔºåÂ¶ÇÊûúÂÖ±‰∫´Êï∞ÊçÆÊòØ‰∏Ä‰∏™Âü∫Êú¨Á±ªÂûãÊï∞ÊçÆÔºåÈÇ£‰πàÂè™Ë¶ÅÂú®ÂÆö‰πâÊó∂‰ΩøÁî®finalÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞ÂÆÉÂ∞±ÂèØ‰ª•‰øùËØÅÂÆÉÊòØ‰∏çÂèØÂèòÁöÑ„ÄÇÂ¶ÇÊûúÂÖ±‰∫´Êï∞ÊçÆÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÈÇ£Â∞±ÈúÄË¶Å‰øùËØÅÂØπË±°ÁöÑË°å‰∏∫‰∏ç‰ºöÂØπÂÖ∂Áä∂ÊÄÅ‰∫ßÁîü‰ªª‰ΩïÂΩ±ÂìçÊâçË°å„ÄÇÂ¶ÇStringÁ±ª„ÄÅÊûö‰∏æÁ±ªÁ≠âÔºàÊúâÈúÄË¶ÅÁªßÁª≠Êé¢Á©∂ÁöÑÂèØ‰ª•ÂéªÁúãÁúãËøô‰∫õÁ±ªÁöÑÊ∫êÁ†ÅÔºâÔºå‰øùËØÅÂØπË±°Ë°å‰∏∫‰∏çÂΩ±ÂìçËá™Â∑±Áä∂ÊÄÅÊúÄÁÆÄÂçïÁöÑÈÄîÂæÑÂ∞±ÊòØËÆ≤ÂØπË±°Â∏¶ÊúâÁä∂ÊÄÅÁöÑÂèòÈáèÈÉΩÂ£∞Êòé‰∏∫final„ÄÇ ÁªùÂØπÁ∫øÁ®ãÂÆâÂÖ®ÁªùÂØπÁ∫øÁ®ãÂÆâÂÖ®ÈúÄË¶ÅÂÆåÂÖ®Êª°Ë∂≥„ÄäJava Concurrency In Practice„Äã‰∏Ä‰π¶ÂØπÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂÆö‰πâ„ÄÇËøô‰∏™ÂÆö‰πâÂÖ∂ÂÆûÊòØÂæà‰∏•Ê†ºÁöÑÔºå‰∏Ä‰∏™Á±ªË¶ÅËææÂà∞‚Äú‰∏çÁÆ°ËøêË°åÊó∂ÁéØÂ¢ÉÂ¶Ç‰ΩïÔºåË∞ÉÁî®ËÄÖÈÉΩ‰∏çË¶Å‰ªª‰ΩïÈ¢ùÂ§ñÁöÑÂêåÊ≠•Êé™ÊñΩ‚ÄùÈÄöÂ∏∏ÈúÄË¶Å‰ªòÂá∫ÂæàÂ§ßÁöÑ‰ª£‰ª∑ÔºåÂú®Java API‰∏≠Ê†áÊ≥®Ëá™Â∑±ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÁ±ªÔºåÂ§ßÂ§öÊï∞ÈÉΩ‰∏çÊòØÁªùÂØπÁöÑÁ∫øÁ®ãÂÆâÂÖ®„ÄÇ Áõ∏ÂØπÁ∫øÁ®ãÂÆâÂÖ®Áõ∏ÂØπÁ∫øÁ®ãÂÆâÂÖ®Â∞±ÊòØÊàë‰ª¨ÈÄöÂ∏∏ÊÑè‰πâ‰∏äÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÔºåÂÆÉÈúÄË¶Å‰øùËØÅËøô‰∏™ÂØπË±°ÂçïÁã¨Êìç‰ΩúÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÊàë‰ª¨Âú®Ë∞ÉÁî®ÁöÑÊó∂ÂÄô‰∏çÈúÄË¶ÅÂÅöÈ¢ùÂ§ñÁöÑ‰øùÈöúÊé™ÊñΩÔºå‰ΩÜÊòØÂØπ‰∫é‰∏Ä‰∫õÁâπÂÆöÈ°∫Â∫èÁöÑËÅîÁ≥ªË∞ÉÁî®ÔºåÂ∞±ÂèØËÉΩÈúÄË¶ÅÂú®Ë∞ÉÁî®Á´Ø‰ΩøÁî®È¢ùÂ§ñÁöÑÂêåÊ≠•ÊâãÊÆµÊù•‰øùÈöúË∞ÉÁî®ÁöÑÊ≠£Á°ÆÊÄß„ÄÇ‰∏ãÈù¢Â∞±Â±ïÁ§∫java.util.VectorÔºàVectorÂè™ÊòØÂä†‰∫Ü‰∏™ÊñπÊ≥ïÈîÅÔºå‰øùËØÅ‰∏Ä‰∏™Êó∂Èó¥Âè™ËÉΩË∞ÉÁî®ÊñπÊ≥ï‰∏ÄÊ¨°ÔºâËøô‰∏™Á∫øÁ®ãÂÆâÂÖ®ÁöÑÂÆπÂô®ÁöÑ‰∏çÂÆâÂÖ®ÂèØËÉΩÔºå„ÄÇ123456789101112131415161718192021222324252627282930313233343536// ÈîôËØØ‰ª£Á†Åpublic class VectorTest &#123; private static Vector&lt;Integer&gt; vector = new Vector&lt;&gt;(); public static void main(String[] args) &#123; while (true) &#123; for (int i = 0; i &lt; 10; i++) &#123; vector.add(i); &#125; Thread removeThread = new Thread(new Runnable() &#123; @Override public void run() &#123; for (int i = 0; i &lt; vector.size(); i++) &#123; vector.remove(i); &#125; &#125; &#125;); Thread printThread = new Thread(new Runnable() &#123; @Override public void run() &#123; for (int i = 0; i &lt; vector.size(); i++) &#123; System.out.println(vector.get(i)); &#125; &#125; &#125;); removeThread.start(); printThread.start(); while (Thread.activeCount() &gt; 20); &#125; &#125;&#125; ËøêË°åÂàÜÊûêÔºöÊàëÂú®Ëá™Â∑±Êú∫Âô®‰∏äÊ≤°ÊúâÂèëÁîüÂºÇÂ∏∏Ôºå‰ΩÜÊòØÊåâÁÖß‰ΩúËÄÖÊâÄËØ¥ÁöÑÊòØÂ∫îËØ•‰ºöÂá∫Áé∞Êï∞ÁªÑË∂äÁïåÂºÇÂ∏∏ÁöÑÔºåËøôÊòØÂõ†‰∏∫Â¶ÇÊûúÂè¶‰∏Ä‰∏™Á∫øÁ®ãÊÅ∞Â•ΩÂú®ÈîôËØØÁöÑÊó∂Èó¥Âà†Èô§‰∫Ü‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂØºËá¥Â∫èÂè∑‰∏∫iÂ∑≤Áªè‰∏çÂÜçÂèØÁî®ÁöÑËØùÔºåÂÜçÁî®iËÆøÈóÆÊï∞ÁªÑÂ∞±‰ºöÊäõÂá∫‰∏Ä‰∏™ArrayIndexOutOfBoundsExceptionÔºåÂ¶ÇÊûúË¶Å‰øùËØÅËøôÊÆµ‰ª£Á†ÅËÉΩÊ≠£Á°ÆÊâßË°å‰∏ãÂéªÔºåÈúÄË¶ÅÊîπÊàêÂ¶Ç‰∏ã‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940// ÂØπvectorÊìç‰ΩúÂä†‰∏äÈîÅpublic class VectorTest &#123; private static Vector&lt;Integer&gt; vector = new Vector&lt;&gt;(); public static void main(String[] args) &#123; while (true) &#123; for (int i = 0; i &lt; 10; i++) &#123; vector.add(i); &#125; Thread removeThread = new Thread(new Runnable() &#123; @Override public void run() &#123; synchronized (vector) &#123; for (int i = 0; i &lt; vector.size(); i++) &#123; vector.remove(i); &#125; &#125; &#125; &#125;); Thread printThread = new Thread(new Runnable() &#123; @Override public void run() &#123; synchronized (vector) &#123; for (int i = 0; i &lt; vector.size(); i++) &#123; System.out.println(vector.get(i)); &#125; &#125; &#125; &#125;); removeThread.start(); printThread.start(); while (Thread.activeCount() &gt; 20); &#125; &#125;&#125; Âú®JavaËØ≠Ë®Ä‰∏≠ÔºåÂ§ßÈÉ®ÂàÜÁ∫øÁ®ãÂÆâÂÖ®Á±ªÈÉΩÂ±û‰∫éËøôÁßçÁ±ªÂûãÔºå‰æãÂ¶ÇVector„ÄÅHashTableÁ≠â„ÄÇ Á∫øÁ®ãÂÖºÂÆπÁ∫øÁ®ãÂÖºÂÆπÊòØÊåáÂØπË±°Êú¨Ë∫´Âπ∂‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºå‰ΩÜÊòØÂèØ‰ª•ÈÄöËøáÂú®Ë∞ÉÁî®Á´ØÊ≠£Á°ÆÂú∞‰ΩøÁî®ÂêåÊ≠•ÊâãÊÆµÊù•‰øùËØÅÂØπË±°Âú®Âπ∂ÂèëÁéØÂ¢É‰∏≠ÂèØ‰ª•ÂÆâÂÖ®‰ΩøÁî®ÔºåÊàë‰ª¨Âπ≥Â∏∏ËØ¥ÁöÑ‰∏Ä‰∏™Á±ª‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÁªùÂ§ßÂ§öÊï∞Êó∂ÂÄôÊòØÊåáËøô‰∏ÄÁßçÊÉÖÂÜµ„ÄÇJava API‰∏≠Â§ßÈÉ®ÂàÜÁöÑÁ±ªÈÉΩÊòØÂ±û‰∫éÁ∫øÁ®ãÂÖºÂÆπÁöÑÔºåÂ¶Ç‰∏éÂâçÈù¢VectorÂíåHashTableÁõ∏ÂØπÂ∫îÁöÑÈõÜÂêàÁ±ªArrayListÂíåHashTableÁ≠â„ÄÇ Á∫øÁ®ãÂØπÁ´ãÁ∫øÁ®ãÂØπÁ´ãÊòØÊåáÊó†ËÆ∫Ë∞ÉÁî®Á´ØÊòØÂê¶ÈááÂèñ‰∫ÜÂêåÊ≠•Êé™ÊñΩÔºåÈÉΩÊó†Ê≥ïÂÜçÂ§öÁ∫øÁ®ãÁéØÂ¢É‰∏≠Âπ∂Âèë‰ΩøÁî®‰ª£Á†ÅÔºåÂ§ßÈÉ®ÂàÜÂéüÂõ†ÊòØ‰ºö‰∫ßÁîüÊ≠ªÈîÅ„ÄÇ Á∫øÁ®ãÂÆâÂÖ®ÁöÑÂÆûÁé∞ÊñπÊ≥ïÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂÆûÁé∞ÊòØÈÄöËøá‰ª£Á†ÅÁºñÂÜô‰ª•ÂèäÂà©Áî®ËôöÊãüÊú∫Êèê‰æõÁöÑÂêåÊ≠•ÂíåÈîÅÊú∫Âà∂ÔºåËÄåÊàë‰ª¨Ëøô‰∏ªË¶ÅÊòØËØ¥‰∏Ä‰∏ãËôöÊãüÊú∫Á∫øÁ®ãÂÆâÂÖ®ÊâãÊÆµÁöÑËøê‰ΩúËøáÁ®ã„ÄÇ ‰∫íÊñ•ÂêåÊ≠•ÔºàÈòªÂ°ûÂêåÊ≠•ÔºâÂêåÊ≠•ÊòØÊåáÂú®Â§ö‰∏™Á∫øÁ®ãÂπ∂ÂèëËÆøÈóÆÂÖ±‰∫´Êï∞ÊçÆÊó∂Ôºå‰øùËØÅÂÖ±‰∫´Êï∞ÊçÆÂú®Âêå‰∏Ä‰∏™Êó∂ÂàªÂè™Ë¢´‰∏Ä‰∏™ÔºàÊàñËÄÖÊòØ‰∏Ä‰∫õÔºå‰ΩøÁî®‰ø°Âè∑ÈáèÁöÑÊó∂ÂÄôÔºâÁ∫øÁ®ã‰ΩøÁî®„ÄÇËÄå‰∫íÊñ•ÊòØÂÆûÁé∞ÂêåÊ≠•ÁöÑ‰∏ÄÁßçÊâãÊÆµÔºå‰∏¥ÁïåÂå∫„ÄÅ‰ø°Âè∑ÈáèÔºàÈÉΩÊ≤°Áî®ËøáÔºâ„ÄÅ‰∫íÊñ•ÈáèÈÉΩÊòØ‰∏ªË¶ÅÁöÑ‰∫íÊñ•ÂÆûÁé∞ÊñπÂºè„ÄÇ‰∫íÊñ•ÊòØÂõ†ÔºåÂêåÊ≠•ÊòØÊûúÔºõ‰∫íÊñ•ÊòØÊñπÊ≥ïÔºåÂêåÊ≠•ÊòØÁõÆÁöÑ„ÄÇ‰∏ªË¶ÅÁöÑ‰∫íÊñ•ÂêåÊ≠•ÊâãÊÆµÊúâ‰∏ãÈù¢‰∏§ÁßçÔºö ‰ΩøÁî®synchronizdÂÖ≥ÈîÆÂ≠óÔºåsynchronizedÂÖ≥ÈîÆÂ≠óÁªèËøáÁºñËØë‰πãÂêéÔºå‰ºöÂú®ÂêåÊ≠•ÂùóÁöÑÂâçÂêéÂàÜÂà´ÂΩ¢Êàê monitorenter Âíå monitorexit Ëøô‰∏™‰∏§‰∏™Â≠óËäÇÁ†ÅÊåá‰ª§ÔºåËøô‰∏§‰∏™Â≠óËäÇÁ†ÅÈÉΩÈúÄË¶Å‰∏Ä‰∏™ referenceÁ±ªÂûãÁöÑÂèÇÊï∞Êù•ÊåáÊòéË¶ÅÈîÅÂÆöÂíåËß£ÈîÅÁöÑÂØπË±°ÔºõÂ¶ÇÊûújavaÁ®ãÂ∫è‰∏≠ÁöÑsynchronizedÊòéÁ°ÆÊåáÂÆö‰∫ÜÂØπË±°ÂèÇÊï∞ÔºåÈÇ£Â∞±ÊòØËøô‰∏™ÂØπË±°ÁöÑreferenceÔºõÂ¶ÇÊûúÊ≤°ÊúâÊòéÁ°ÆÊåáÂÆöÔºåÈÇ£Â∞±Ê†πÊçÆsynchronized‰øÆÈ•∞ÁöÑÂÆû‰æãÊñπÊ≥ïËøòÊòØÁ±ªÊñπÊ≥ïÔºåÂéªÂèñÂØπÂ∫îÁöÑÂØπË±°ÂÆû‰æãÊàñClassÂØπË±°Êù•‰Ωú‰∏∫ÈîÅÂØπË±°„ÄÇÂú®ÊâßË°åmonitorenterÊåá‰ª§Êó∂ÔºåÂ¶ÇÊûúËøô‰∏™ÂØπË±°Ê≤°ÊúâÈîÅÂÆöÊàñÂΩìÂâçÁ∫øÁ®ãÂ∑≤ÁªèÊã•Êúâ‰∫ÜÈÇ£‰∏™ÂØπË±°ÁöÑÈîÅÔºåÈîÅÁöÑËÆ°Êï∞Âô®Âä†1ÔºåÁõ∏Â∫îÁöÑÔºåÂú®ÊâßË°åmonitorexitÊåá‰ª§Êó∂‰ºöÂ∞ÜÈîÅËÆ°Êï∞Âô®Âáè1ÔºõÂΩìËÆ°Êï∞Âô®‰∏∫0Êó∂ÔºåÈîÅÂ∞±Ë¢´ÈáäÊîæ‰∫Ü„ÄÇÂØπ‰∫émonitorenter Âíå monitorexitÁöÑË°å‰∏∫ÊèèËø∞‰∏≠ÔºåÊúâ‰∏§ÁÇπÈúÄË¶ÅÊ≥®ÊÑèÔºö synchronizedÂêåÊ≠•ÂùóÂØπÂêå‰∏ÄÊù°Á∫øÁ®ãÊù•ËØ¥ÊòØÂèØÈáçÂÖ•ÁöÑÔºå‰∏ç‰ºöÂá∫Áé∞Ëá™Â∑±ÊääËá™Â∑±ÈîÅÊ≠ªÁöÑÈóÆÈ¢ò„ÄÇ ÂêåÊ≠•ÂùóÂú®Â∑≤ËøõÂÖ•ÁöÑÁ∫øÁ®ãÊâßË°åÂÆå‰πãÂâçÔºå‰ºöÈòªÂ°ûÂêéÈù¢ÂÖ∂‰ªñÁ∫øÁ®ãÁöÑËøõÂÖ•„ÄÇ ‰ΩøÁî®java.util.concurrentÔºàJ.U.CÔºâÂåÖ‰∏≠ÁöÑÈáçÂÖ•ÈîÅÔºàReentrantLockÔºâ„ÄÇsynchronized Âíå ReentrantLock ÁöÑÂå∫Âà´Ôºö ‰∏Ä‰∏™Ë°®Áé∞‰∏∫ API Â±ÇÈù¢ÁöÑ‰∫íÊñ•ÈîÅÔºàlock() Âíå unlock() ÊñπÊ≥ïÈÖçÂêà try/finallyËØ≠Âè•ÂùóÊù•ÂÆåÊàêÔºâÔºåÂè¶‰∏Ä‰∏™Ë°®Áé∞‰∏∫ÂéüÁîüËØ≠Ê≥ïÂ±ÇÈù¢ÁöÑ‰∫íÊñ•ÈîÅÔºõReentrantLockÂ¢ûÂä†‰∫Ü‰∏Ä‰∫õÈ´òÁ∫ßÂäüËÉΩ‰∏ªË¶ÅÊúâ‰ª•‰∏ã3È°πÔºö Á≠âÂæÖÂèØ‰∏≠Êñ≠ÔºöÊåáÂΩìÊåÅÊúâÈîÅÁöÑÁ∫øÁ®ãÈïøÊúü‰∏çÈáäÊîæÈîÅÁöÑÊó∂ÂÄôÔºåÊ≠£Âú®Á≠âÂæÖÁöÑÁ∫øÁ®ãÂèØ‰ª•ÈÄâÊã©ÊîæÂºÉÁ≠âÂæÖÔºåÊîπ‰∏∫Â§ÑÁêÜÂÖ∂‰ªñ‰∫ãÊÉÖÔºåÂèØ‰∏≠Êñ≠ÁâπÊÄßÂØπÂ§ÑÁêÜÊâßË°åÊó∂Èó¥ÈùûÂ∏∏ÈïøÁöÑÂêåÊ≠•ÂùóÂæàÊúâÂ∏Æ Âä© „ÄÇ ÂÖ¨Âπ≥ÈîÅÔºöÊåáÂ§ö‰∏™Á∫øÁ®ãÂú®Á≠âÂæÖÂêå‰∏Ä‰∏™ÈîÅÊó∂ÔºåÂøÖÈ°ªÊåâÁÖßÁî≥ËØ∑ÈîÅÁöÑÊó∂Èó¥È°∫Â∫èÊù•‰æùÊ¨°Ëé∑ÂæóÈîÅ„ÄÇ ÈîÅÁªëÂÆöÂ§ö‰∏™Êù°‰ª∂ÔºöÊåá‰∏Ä‰∏™ ReentrantLockÂØπË±°ÂèØ‰ª•ÂêåÊó∂ÁªëÂÆöÂ§ö‰∏™ ConditionÂØπË±°ÔºåËÄåÂú® synchronized‰∏≠ÔºåÈîÅÂØπË±°ÁöÑwait() Âíå notify() Êàñ notifyAll() ÊñπÊ≥ïÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∏™ÈöêÂê´ÁöÑÊù°‰ª∂ÔºåÂ¶ÇÊûúË¶ÅÂíåÂ§ö‰∫é‰∏Ä‰∏™ÁöÑÊù°‰ª∂ÂÖ≥ËÅîÁöÑÊó∂ÂÄôÔºåÂ∞±‰∏çÂæó‰∏çÈ¢ùÂ§ñÂú∞Ê∑ªÂä†‰∏Ä‰∏™ÈîÅÔºåËÄåReentrantLock ÂàôÊó†ÈúÄËøôÊ†∑ÂÅöÔºåÂè™ÈúÄË¶ÅÂ§öÊ¨°Ë∞ÉÁî® newCondition() ÊñπÊ≥ïÂç≥ÂèØ„ÄÇ ÂÖ≥‰∫é‰∏§ËÄÖÁöÑÊÄßËÉΩÂú®JDK1.6‰ª•ÂêéÔºå‰∏§ËÄÖÂü∫Êú¨ÊåÅÂπ≥‰∫ÜÔºåÊâÄ‰ª•ÊèêÂÄ°Âú®synchronizedËÉΩÂÆûÁé∞ÈúÄÊ±ÇÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ºòÂÖàËÄÉËôë‰ΩøÁî®sychronizedÊù•ËøõË°åÂêåÊ≠•ÈîÅ„ÄÇ ÈùûÈòªÂ°ûÂêåÊ≠• ÈòªÂ°ûÂêåÊ≠•‰∏éÈùûÈòªÂ°ûÂêåÊ≠•ÁöÑÂØπÊØîÔºöÈòªÂ°ûÂêåÊ≠•ÊòØ‰∏ÄÁßçÊÇ≤ËßÇÁöÑÂπ∂ÂèëÁ≠ñÁï•ÔºåÊÄªÊòØËÆ§‰∏∫Âè™Ë¶Å‰∏çÂéªÂÅöÊ≠£Á°ÆÁöÑÂêåÊ≠•Êé™ÊñΩÔºà‰æãÂ¶ÇÂä†ÈîÅÔºâÂ∞±‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºåÊâÄ‰ª•‰ºöÂ∏¶Êù•ËøõË°åÁ∫øÁ®ãÈòªÂ°ûÂíåÂî§ÈÜíÁöÑÊÄßËÉΩÈóÆÈ¢òÔºõÈùûÈòªÂ°ûÂêåÊ≠•ÊòØ‰∏ÄÁßçÂü∫‰∫éÂÜ≤Á™ÅÊ£ÄÊµãÁöÑ‰πêËßÇÁöÑÂπ∂ÂèëÁ≠ñÁï•ÔºåÂÆÉÊòØÂÖàËøõË°åÊìç‰ΩúÔºåÂ¶ÇÊûúÊ≤°ÊúâÂÖ∂‰ªñÁ∫øÁ®ã‰∫âÁî®ÂÖ±‰∫´Êï∞ÊçÆÔºåÈÇ£Êìç‰ΩúÂ∞±ÊòØÊàêÂäüÁöÑÔºåÂ¶ÇÊûúÂÖ±‰∫´Êï∞ÊçÆÊúâ‰∫âÁî®Ôºå‰∫ßÁîü‰∫ÜÂÜ≤Á™ÅÔºåÈÇ£Â∞±ÂÜçÈááÂèñÂÖ∂‰ªñÁöÑË°•ÂÅøÊé™ÊñΩÔºàÊúÄÂ∏∏ËßÅÁöÑË°•ÂÅøÊé™ÊñΩÂ∞±ÊòØ‰∏çÊñ≠Âú∞ÈáçËØïÔºåÁõ¥Âà∞ÊàêÂäü‰∏∫Ê≠¢Ôºâ„ÄÇ ÈùûÈòªÂ°ûÂêåÊ≠•ÈúÄË¶ÅÁ°¨‰ª∂Êåá‰ª§ÈõÜÁöÑÂèëÂ±ïÔºöÂõ†‰∏∫ÈúÄË¶Å‰øùËØÅÊìç‰ΩúÂíåÂÜ≤Á™ÅÊ£ÄÊµãËøô‰∏§‰∏™Ê≠•È™§ÂÖ∑Â§áÂéüÂ≠êÊÄßÔºåËÄåËøôÈáåÂéüÂ≠êÊÄßÁöÑÂÆûÁé∞ÊòØÈÄöËøá‰∏ÄÊù°Â§ÑÁêÜÂô®Êåá‰ª§ÂÆåÊàêÁöÑ„ÄÇËøôÁ±ªÊåá‰ª§Â∏∏Áî®ÁöÑÊúâÔºö ÊµãËØïÂπ∂ËÆæÁΩÆ Ëé∑ÂèñÂπ∂Â¢ûÂä† ‰∫§Êç¢ ÊØîËæÉÂπ∂‰∫§Êç¢ÔºàCompare-and-set,CASÔºâ Âä†ËΩΩÈìæÊé•/Êù°‰ª∂Â≠òÂÇ® Êàë‰ª¨ÂèØ‰ª•‰ªéJ.U.C‰∏ãÂæóÂéüÂ≠êÁ±ªÁöÑÊìç‰ΩúÊù•ËØÅÊòéËøô‰∏ÄÁÇπ„ÄÇ Êó†ÂêåÊ≠•ÊñπÊ°àÂ¶ÇÊûú‰∏Ä‰∏™ÊñπÊ≥ïÊú¨Êù•Â∞±‰∏çÊ∂âÂèäÂÖ±‰∫´Êï∞ÊçÆÔºåÈÇ£ÂÆÉËá™ÁÑ∂Â∞±Êó†È°ª‰ªª‰ΩïÂêåÊ≠•Êé™ÊñΩÂéª‰øùËØÅÊ≠£Á°ÆÊÄßÔºåÂõ†Ê≠§‰ºöÊúâ‰∏Ä‰∫õ‰ª£Á†ÅÂ§©ÁîüÂ∞±ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ‰∏ãÈù¢‰ªãÁªç‰∏§Á±ªÁ∫øÁ®ãÂÆâÂÖ®‰ª£Á†ÅÔºö ÂèØÈáçÂÖ•‰ª£Á†ÅÔºàÁ∫Ø‰ª£Á†ÅÔºâÔºöÔºåÂèØ‰ª•Âú®‰ª£Á†ÅÊâßË°åÁöÑ‰ªª‰ΩïÊó∂Âàª‰∏≠Êñ≠ÂÆÉÔºåËΩ¨ËÄåÂéªÊâßË°åÂè¶Â§ñ‰∏ÄÊÆµ‰ª£Á†ÅÔºåËÄåÂú®ÊéßÂà∂ÊùÉËøîÂõûÂêéÔºåÂéüÊù•ÁöÑÁ®ãÂ∫è‰∏ç‰ºöÂá∫Áé∞‰ªª‰ΩïÈîôËØØ„ÄÇÂ¶Ç‰ΩïÂà§Êñ≠‰ª£Á†ÅÊòØÂê¶ÂÖ∑Â§áÂèØÈáçÂÖ•ÊÄßÔºöÂ¶ÇÊûú‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂÆÉÁöÑËøîÂõûÁªìÊûúÊòØÂèØ‰ª•È¢ÑÊµãÁöÑÔºåÂè™Ë¶ÅËæìÂÖ•‰∫ÜÁõ∏ÂêåÁöÑÊï∞ÊçÆÔºåÂ∞±ÈÉΩËÉΩËøîÂõûÁõ∏ÂêåÁöÑÁªìÊûúÔºåÈÇ£ÂÆÉÂ∞±Êª°Ë∂≥ÂèØÈáçÂÖ•ÊÄßÁöÑË¶ÅÊ±ÇÔºåÂΩìÁÑ∂‰πüÂ∞±ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®ÔºöÂ¶ÇÊûú‰∏ÄÊÆµ‰ª£Á†Å‰∏≠ÊâÄÈúÄË¶ÅÁöÑÊï∞ÊçÆÂøÖÈ°ª‰∏éÂÖ∂‰ªñ‰ª£Á†ÅÂÖ±‰∫´ÔºåÈÇ£Â∞±ÁúãÁúãËøô‰∫õÂÖ±‰∫´Êï∞ÊçÆÁöÑ‰ª£Á†ÅÊòØÂê¶ËÉΩÂ§ü‰øùËØÅÂú®Âêå‰∏ÄÁ∫øÁ®ã‰∏≠ÊâßË°åÔºüÂ¶ÇÊûúËÉΩ‰øùËØÅÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÊääÂÖ±‰∫´Êï∞ÊçÆÁöÑÂèØËßÅËåÉÂõ¥ÈôêÂà∂Âú®Âêå‰∏Ä‰∏™Á∫øÁ®ãÂÜÖÔºåËøôÊ†∑ÔºåÊó†ÈúÄÂêåÊ≠•‰πüÂèØ‰ª•‰øùËØÅÁ∫øÁ®ãÈó¥‰∏çÂá∫Áé∞Êï∞ÊçÆ‰∫âÁî®ÈóÆÈ¢ò„ÄÇ ÈîÅ‰ºòÂåñÂêÑÁßçÈîÅ‰ºòÂåñÊäÄÊúØÈÉΩÊòØ‰∏∫‰∫ÜÂú®Á∫øÁ®ã‰πãÈó¥Êõ¥Âä†È´òÊïàÂú∞ÂÖ±‰∫´Êï∞ÊçÆÔºå‰ª•ÂèäËß£ÂÜ≥Á´û‰∫âÈóÆÈ¢ò„ÄÇ Ëá™ÊóãÈîÅ ‰∏∫‰ªÄ‰πàÈúÄË¶ÅËá™ÊóãÈîÅÔºö‰∫íÊñ•ÂêåÊ≠•ÂØπÊÄßËÉΩÊúÄÂ§ßÁöÑÂΩ±ÂìçÊòØÈòªÂ°ûÁöÑÂÆûÁé∞ÔºåÊåÇËµ∑Á∫øÁ®ãÂíåÊÅ¢Â§çÁ∫øÁ®ãÁöÑÊìç‰ΩúÈÉΩÈúÄË¶ÅËΩ¨ÂÖ•ÂÜÖÊ†∏ÊÄÅ‰∏≠ÂÆåÊàêÔºåÂÖ±‰∫´Êï∞ÊçÆÁöÑÈîÅÂÆöÁä∂ÊÄÅÂè™‰ºöÊåÅÁª≠ÂæàÁü≠ÁöÑ‰∏ÄÊÆµÊó∂Èó¥Ôºå‰∏∫‰∫ÜËøôÊÆµÊó∂Èó¥ÂéªÊåÇËµ∑ÂíåÊÅ¢Â§çÁ∫øÁ®ãÂæà‰∏çÂÄºÂæó„ÄÇ ‰ªÄ‰πàÊòØËá™ÊóãÈîÅÔºö‰∏∫‰∫ÜËÆ©Á∫øÁ®ãÁ≠âÂæÖÔºåÊàë‰ª¨Âè™ÈúÄËÆ©Á∫øÁ®ãÊâßË°å‰∏Ä‰∏™ÂøôÂæ™ÁéØÔºàËá™ÊóãÔºâËÄå‰∏çÊîæÂºÉÂ§ÑÁêÜÂô®Êó∂Èó¥ÔºåËøôÈ°πÊäÄÊúØÂ∞±ÊòØÊâÄË∞ìÁöÑËá™ÊóãÈîÅ„ÄÇ Ëá™ÊóãÊó∂Èó¥Êúâ‰∏ÄÂÆöÈôêÂ∫¶ÔºöÂ¶ÇÊûúËá™ÊóãË∂ÖËøá‰∫ÜÈôêÂÆöÁöÑÊ¨°Êï∞‰ªçÁÑ∂Ê≤°ÊúâÊàêÂäüËé∑ÂæóÈîÅÔºåÂ∞±Â∫îÂΩì‰ΩøÁî®‰º†ÁªüÁöÑÊñπÂºèÂéªÊåÇËµ∑Á∫øÁ®ã‰∫Ü„ÄÇËá™ÊóãÊ¨°Êï∞ÁöÑÈªòËÆ§ÂÄºÊòØ10ÔºåÁî®Êà∑ÂèØ‰ª•Áî®ÂèÇÊï∞ -XX:PreBlockSpin Êù•Êõ¥Êîπ„ÄÇ Ëá™ÈÄÇÂ∫îËá™ÊóãÈîÅÔºöjdk1.6‰∏≠ÂºïÂÖ•‰∫ÜËá™ÈÄÇÂ∫îÁöÑËá™ÊóãÈîÅ„ÄÇËá™ÈÄÇÂ∫îÊÑèÂë≥ÁùÄËá™ÊóãÁöÑÊó∂Èó¥‰∏çÂÜçÂõ∫ÂÆö‰∫ÜÔºåËÄåÊòØÁî±Ââç‰∏ÄÊ¨°Âú®Âêå‰∏Ä‰∏™ÈîÅ‰∏äÁöÑËá™ÊóãÊó∂Èó¥ÂèäÈîÅÁöÑÊã•ÊúâËÄÖÁöÑÁä∂ÊÄÅÊù•ÂÜ≥ÂÆöÔºõ ÈîÅÊ∂àÈô§ÈîÅÊ∂àÈô§ÊòØÊåáËôöÊãüÊú∫Âç≥Êó∂ÁºñËØëÂô®Âú®ËøêË°åÊó∂ÔºåÂØπ‰∏Ä‰∫õ‰ª£Á†Å‰∏äË¶ÅÊ±ÇÂêåÊ≠•Ôºå‰ΩÜÊòØË¢´Ê£ÄÊü•Âà∞‰∏çÂèØËÉΩÂ≠òÂú®ÂÖ±‰∫´Êï∞ÊçÆÁ´û‰∫âÁöÑÈîÅËøõË°åÊ∂àÈô§„ÄÇÈîÅÊ∂àÈô§ÁöÑ‰∏ªË¶ÅÂà§ÂÆö‰æùÊçÆÔºöÊù•Ê∫ê‰∫éÈÄÉÈÄ∏ÂàÜÊûêÁöÑÊï∞ÊçÆÊîØÊåÅÔºåÂ¶ÇÊûúÂà§ÂÆöÂú®‰∏ÄÊÆµ‰ª£Á†Å‰∏≠ÔºåÂ†Ü‰∏äÁöÑÊâÄÊúâÊï∞ÊçÆÈÉΩ‰∏ç‰ºöÈÄÉÈÄ∏Âá∫Âéª‰ªéËÄåË¢´ÂÖ∂‰ªñÁ∫øÁ®ãËÆøÈóÆÂà∞ÔºåÈÇ£Â∞±ÂèØ‰ª•ÊääÂÆÉ‰ª¨ÂΩìÂÅöÊ†à‰∏äÊï∞ÊçÆÂØπÂæÖÔºåËÆ§‰∏∫ÂÆÉ‰ª¨ÊòØÁ∫øÁ®ãÁßÅÊúâÁöÑÔºåÂêåÊ≠•Âä†ÈîÅËá™ÁÑ∂Â∞±Êó†È°ªËøõË°å‰∫Ü„ÄÇÂÖ∂‰∏≠ÂæàÂ§öÊó†Áî®ÁöÑÂêåÊ≠•Êé™ÊñΩÈÉΩÊòØJava APIËá™Â∏¶ÁöÑ„ÄÇ ÈîÅÁ≤óÂåñÂ¶ÇÊûú‰∏ÄÁ≥ªÂàóÁöÑËøûÁª≠Êìç‰ΩúÈÉΩÂØπÂêå‰∏Ä‰∏™ÂØπË±°ÂèçÂ§çÂä†ÈîÅÂíåËß£ÈîÅÔºåÁîöËá≥Âä†ÈîÅÊìç‰ΩúÊòØÂá∫Áé∞Âú®Âæ™ÁéØ‰Ωì‰∏≠ÁöÑÔºåÈÇ£Âç≥‰ΩøÊ≤°ÊúâÁ∫øÁ®ãÁ´û‰∫âÔºåÈ¢ëÁπÅÂú∞ËøõË°å‰∫íÊñ•ÂêåÊ≠•Êìç‰Ωú‰πü‰ºöÂØºËá¥‰∏çÂøÖË¶ÅÁöÑÊÄßËÉΩÊçüËÄó„ÄÇÂ¶ÇÊûúËôöÊãüÊú∫Êé¢ÊµãÂà∞ÊúâËøôÊ†∑‰∏Ä‰∏≤Èõ∂Á¢éÁöÑÊìç‰ΩúÈÉΩÂØπÂêå‰∏Ä‰∏™ÂØπË±°Âä†ÈîÅÔºåÂ∞Ü‰ºöÊääÂä†ÈîÅÂêåÊ≠•ÁöÑËåÉÂõ¥Êâ©Â±ïÔºàÁ≤óÂåñÔºâÂà∞Êï¥‰∏™Êìç‰ΩúÂ∫èÂàóÁöÑÂ§ñÈÉ®„ÄÇ ËΩªÈáèÁ∫ßÈîÅ ËΩªÈáèÁ∫ßÈîÅÔºö‰ΩøÁî®Êìç‰ΩúÁ≥ªÁªü‰∫íÊñ•ÈáèÊù•ÂÆûÁé∞ÁöÑ‰º†ÁªüÈîÅÈÄöÂ∏∏Ë¢´Áß∞‰∏∫ÈáçÈáèÁ∫ßÈîÅÔºåËÄåËøô‰∏™ËΩªÈáèÁ∫ßÈîÅÁöÑÂá∫Áé∞Â∞±ÊòØÊòØÂú®Ê≤°ÊúâÂ§öÁ∫øÁ®ãÁ´û‰∫âÁöÑÂâçÊèê‰∏ãÔºåÂáèÂ∞ë‰º†ÁªüÁöÑÈáçÈáèÁ∫ßÈîÅ‰ΩøÁî®Êìç‰ΩúÁ≥ªÁªü‰∫íÊñ•Èáè‰∫ßÁîüÁöÑÊÄßËÉΩÊ∂àËÄó„ÄÇ HotSpotËôöÊãüÊú∫Â§¥Mark WordÔºöÂÆÉÊòØÂÆûÁé∞ËΩªÈáèÁ∫ßÈîÅÂíåÂÅèÂêëÈîÅÁöÑÂÖ≥ÈîÆÔºåÂÆÉÁöÑÂÜÖÂÆπÂ¶Ç‰∏ãË°®Ôºö Â≠òÂÇ®ÂÜÖÂÆπ Ê†áÂøó‰Ωç ËΩ¨ÊÄÅ ÂØπË±°ÂìàÂ∏åÁ†Å„ÄÅÂØπË±°Âπ¥ÈæÑÂàÜ‰ª£ 01 Êú™ÈîÅÂÆö ÊåáÂêëÊâÄËÆ∞ÂΩïÁöÑÊåáÈíà 00 ËΩªÈáèÁ∫ßÈîÅÂÆö ÊåáÂêëÈáçÈáèÁ∫ßÈîÅÁöÑÊåáÈíà 10 ËÜ®ËÉÄÔºàÈáçÈáèÁ∫ßÈîÅÂÆöÔºâ Á©∫Ôºå‰∏çÈúÄË¶ÅËÆ∞ÂΩï‰ø°ÊÅØ 11 GCÊ†áËÆ∞ ÂÅèÂêëÁ∫øÁ®ãID„ÄÅÂÅèÂêëÊó∂Èó¥Êà≥„ÄÅÂØπË±°ÂàÜ‰ª£Âπ¥ÈæÑ 01 ÂèØÂÅèÂêë Âú®ËøõÂÖ•ÂêåÊ≠•‰ª£Á†ÅÂùóÊó∂ÔºåËΩªÈáèÁ∫ßÈîÅÂä†ÈîÅËøáÁ®ãÔºö Â¶ÇÊûúÊ≠§ÂêåÊ≠•ÂØπË±°Ê≤°ÊúâË¢´ÈîÅÂÆöÔºàÈîÅÊ†áÂøó‰Ωç‰∏∫01Áä∂ÊÄÅÔºâÔºöËôöÊãüÊú∫È¶ñÂÖàÂ∞ÜÂú®ÂΩìÂâçÁ∫øÁ®ãÁöÑÊ†àÂ∏ß‰∏≠Âª∫Á´ã‰∏Ä‰∏™Âêç‰∏∫ÈîÅËÆ∞ÂΩïÁöÑÁ©∫Èó¥ÔºåÁî®‰∫éÂ≠òÂÇ®ÂØπË±°ÁõÆÂâçÁöÑMark WordÁöÑÊã∑Ë¥ùÔºàDisplace Mark WordÔºâ„ÄÇ ÁÑ∂ÂêéÔºåËôöÊãüÊú∫Â∞Ü‰ΩøÁî®CAS Êìç‰ΩúÂ∞ùËØïÂ∞ÜÂØπË±°ÁöÑ Mark Word Êõ¥Êñ∞‰∏∫ÊåáÂêëLock RecordÁöÑÊåáÈíà„ÄÇ Â¶ÇÊûúËøô‰∏™Êõ¥Êñ∞Â∑•‰ΩúÊàêÂäü‰∫ÜÔºåÈÇ£‰πàËøô‰∏™Á∫øÁ®ãÂ∞±Êã•Êúâ‰∫ÜËØ•ÂØπË±°ÁöÑÈîÅÔºåÂπ∂‰∏îÂØπË±°Mark WordÁöÑÈîÅÊ†áÂøó‰ΩçÂ∞ÜËΩ¨Âèò‰∏∫ 00ÔºåÂç≥Ë°®Á§∫Ê≠§ÂØπË±°Â§Ñ‰∫éËΩªÈáèÁ∫ßÈîÅÂÆöÁä∂ÊÄÅÔºõ Â¶ÇÊûúËøô‰∏™Êõ¥Êñ∞Â§±Ë¥•‰∫ÜÔºåËôöÊãüÊú∫È¶ñÂÖà‰ºöÊ£ÄÊü•ÂØπË±°ÁöÑMark WordÊòØÂê¶ÊåáÂêëÂΩìÂâçÁ∫øÁ®ãÁöÑÊ†àÂ∏ßÔºåÂ¶ÇÊûúÂè™ËØ¥ÊòéÂΩìÂâçÁ∫øÁ®ãÂ∑≤ÁªèÊã•Êúâ‰∫ÜËøô‰∏™ÂØπË±°ÁöÑÈîÅÔºåÈÇ£Â∞±ÂèØ‰ª•Áõ¥Êé•ËøõÂÖ•ÂêåÊ≠•ÂùóÁªßÁª≠ÊâßË°åÔºåÂê¶ÂàôËØ¥ÊòéËøô‰∏™ÈîÅÂØπË±°‰ª•ÂèäË¢´ÂÖ∂‰ªñÁ∫øÁ®ãÊä¢Âç†‰∫Ü„ÄÇÂ¶ÇÊûúÊúâ‰∏§Êù°‰ª•‰∏äÁöÑÁ∫øÁ®ã‰∫âÁî®Âêå‰∏Ä‰∏™ÈîÅÔºåÈÇ£ËΩªÈáèÁ∫ßÈîÅÂ∞±‰∏çÂÜçÊúâÊïàÔºåË¶ÅËÜ®ËÉÄ‰∏∫ÈáçÈáèÁ∫ßÈîÅÔºåÈîÅÊ†áÂøóÁöÑÁä∂ÊÄÅÂÄºÂèò‰∏∫ 10ÔºåMark Word‰∏≠Â≠òÂÇ®ÁöÑÂ∞±ÊòØÊåáÂêëÈáçÈáèÁ∫ßÔºà‰∫íÊñ•ÈáèÔºâÁöÑÊåáÈíàÔºåÂêéÈù¢Á≠âÂæÖÈîÅÁöÑÁ∫øÁ®ã‰πüË¶ÅËøõÂÖ•ÈòªÂ°û Áä∂ÊÄÅ„ÄÇ ËΩªÈáèÁ∫ßÈîÅËß£ÈîÅËøáÁ®ãÔºö Â¶ÇÊûúÂØπË±°ÁöÑMark Word‰ªçÁÑ∂ÊåáÂêëÁùÄÁ∫øÁ®ãÁöÑÈîÅËÆ∞ÂΩïÔºåÈÇ£Â∞±Áî®CAS Êìç‰ΩúÊääÂØπË±°ÂΩìÂâçÁöÑMark WordÂíåÁ∫øÁ®ã‰∏≠Â§çÂà∂ÁöÑ Displaced Mark WordÊõøÊç¢ÂõûÊù•„ÄÇ Â¶ÇÊûúÊõøÊç¢ÊàêÂäüÔºåÊï¥‰∏™ÂêåÊ≠•ËøáÁ®ãÂ∞±ÂÆåÊàê‰∫Ü„ÄÇ Â¶ÇÊûúÊõøÊç¢Â§±Ë¥•ÔºåËØ¥ÊòéÊúâÂÖ∂‰ªñÁ∫øÁ®ãÂ∞ùËØïËøáËé∑ÂèñËØ•ÈîÅÔºåÈÇ£Â∞±Ë¶ÅÂú®ÈáäÊîæÈîÅÁöÑÂêåÊó∂ÔºåÂî§ÈÜíË¢´ÊåÇËµ∑ÁöÑÁ∫øÁ®ã„ÄÇ ËΩªÈáèÁ∫ßÈîÅËÉΩÊèêÂçáÁ®ãÂ∫èÂêåÊ≠•ÊÄßËÉΩÁöÑ‰æùÊçÆÊòØÔºöÂØπ‰∫éÁªùÂ§ßÈÉ®ÂàÜÁöÑÈîÅÔºåÂú®Êï¥‰∏™ÂêåÊ≠•Âë®ÊúüÂÜÖÈÉΩÊòØ‰∏çÂ≠òÂú®Á´û‰∫âÁöÑ„ÄÇ ÂÅèÂêëÈîÅ ÂÅèÂêëÈîÅÁöÑÁõÆÁöÑÔºöÊ∂àÈô§Êï∞ÊçÆÂú®Êó†Á´û‰∫âÊÉÖÂÜµ‰∏ãÁöÑÂêåÊ≠•ÂéüËØ≠ÔºåËøõ‰∏ÄÊ≠•ÊèêÈ´òÁ®ãÂ∫èÁöÑËøêË°åÊÄßËÉΩ„ÄÇÂ¶ÇÊûúËØ¥ËΩªÈáèÁ∫ßÈîÅÊòØÂú®Êó†Á´û‰∫âÁöÑÊÉÖÂÜµ‰ΩøÁî®CASÊìç‰ΩúÂéªÊ∂àÈô§ÂêåÊ≠•‰ΩøÁî®ÁöÑ‰∫íÊñ•ÈáèÔºåÈÇ£ÂÅèÂêëÈîÅÂ∞±ÊòØÂú®Êó†Á´û‰∫âÁöÑÊÉÖÂÜµ‰∏ãÊääÊï¥‰∏™ÂêåÊ≠•ÈÉΩÊ∂àÈô§ÊéâÔºåËøûCAS Êìç‰ΩúÈÉΩ‰∏çÂÅö‰∫Ü„ÄÇ ÂÅèÂêëÈîÅÁöÑÂÅèÔºöÂÆÉÁöÑÊÑèÊÄùÊòØËøô‰∏™ÈîÅ‰ºöÂÅèÂêë‰∫éÁ¨¨‰∏Ä‰∏™Ëé∑ÂæóÂÆÉÁöÑÁ∫øÁ®ãÔºåÂ¶ÇÊûúÂú®Êé•‰∏ãÊù•ÁöÑÊâßË°åËøáÁ®ã‰∏≠ÔºåËØ•ÈîÅÊ≤°ÊúâË¢´ÂÖ∂‰ªñÁöÑÁ∫øÁ®ãËé∑ÂèñÔºåÂàôÊåÅÊúâÂÅèÂêëÈîÅÁöÑÁ∫øÁ®ãÂ∞ÜÊ∞∏Ëøú‰∏çÈúÄË¶ÅÂÜçËøõË°åÂêåÊ≠•„ÄÇ ÂÅèÂêëÈîÅËøáÁ®ãÔºöËã•ÂΩìÂâçËôöÊãüÊú∫ÂêØÁî®‰∫ÜÂÅèÂêëÈîÅÔºåÈÇ£‰πàÔºåÂΩìÈîÅÂØπË±°Á¨¨‰∏ÄÊ¨°Ë¢´Á∫øÁ®ãËé∑ÂèñÁöÑÊó∂ÂÄôÔºåËôöÊãüÊú∫Â∞Ü‰ºöÊääÂØπË±°Â§¥‰∏≠ÁöÑÊ†áÂøó‰ΩçËÆæ‰∏∫01ÔºåÂç≥ÂÅèÂêëÊ®°ÂºèÔºõÂêåÊó∂‰ΩøÁî®CASÊìç‰ΩúÊääËé∑ÂèñÂà∞Ëøô‰∏™ÈîÅÁöÑÁ∫øÁ®ãÁöÑID ËÆ∞ÂΩïÂú®ÂØπË±°ÁöÑ Mark Word‰πã‰∏≠ÔºåÂ¶ÇÊûúCASÊìç‰ΩúÊàêÂäüÔºåÊåÅÊúâÂÅèÂêëÈîÅÁöÑÁ∫øÁ®ã‰ª•ÂêéÊØèÊ¨°ËøõÂÖ•Ëøô‰∏™ÈîÅÁõ∏ÂÖ≥ÁöÑÂêåÊ≠•ÂùóÊó∂ÔºåËôöÊãüÊú∫ÈÉΩÂèØ‰ª•‰∏çÂÜçËøõË°å‰ªª‰ΩïÂêåÊ≠•Êìç‰Ωú„ÄÇÂΩìÊúâÂè¶‰∏Ä‰∏™Á∫øÁ®ãÂéªÂ∞ùËØïËé∑ÂèñËøô‰∏™ÈîÅÊó∂ÔºåÂÅèÂêëÊ®°ÂºèÂ∞±ÁªìÊùü‰∫ÜÔºåÊ†πÊçÆÈîÅÂØπË±°ÁõÆÂâçÊòØÂê¶Â§Ñ‰∫éË¢´ÈîÅÂÆöÁöÑÁä∂ÊÄÅÔºåÊí§ÈîÄÂÅèÂêëÂêéÊÅ¢Â§çÂà∞Êú™ÈîÅÂÆöÔºàÊ†áÂøó‰Ωç‰∏∫01ÔºâÊàñËΩªÈáèÁ∫ßÈîÅÂÆöÔºàÊ†áÂøó‰Ωç‰∏∫00ÔºâÁöÑÁä∂ÊÄÅÔºåÂêéÁª≠ÁöÑÂêåÊ≠•Êìç‰ΩúÂ∞±Â¶Ç‰∏äÈù¢‰ªãÁªçÁöÑËΩªÈáèÁ∫ßÈîÅÈÇ£Ê†∑ÊâßË°å„ÄÇ ÂÅèÂêëÈîÅÊòØ‰∏Ä‰∏™Â∏¶ÊúâÊïàÁõäÊùÉË°°ÊÄßË¥®ÁöÑ‰ºòÂåñÔºöÂÅèÂêëÈîÅÂèØ‰ª•ÊèêÈ´òÂ∏¶ÊúâÂêåÊ≠•‰ΩÜÊó†Á´û‰∫âÁöÑÁ®ãÂ∫èÊÄßËÉΩÔºå‰ΩÜÊòØÂ¶ÇÊûúÁ®ãÂ∫è‰∏≠Â§ßÂ§öÊï∞ÁöÑÈîÅÊÄªÊòØË¢´Â§ö‰∏™‰∏çÂêåÁöÑÁ∫øÁ®ãËÆøÈóÆÔºåÈÇ£ÂÅèÂêëÊ®°ÂºèÊòØÂ§ö‰ΩôÁöÑ„ÄÇ ÊÄªÁªìÂÖ≥‰∫éÁ∫øÁ®ãÂÆâÂÖ®Êàë‰ª¨ÂèØ‰ª•ÊúâÊòéÁ°ÆÁöÑÂÆö‰πâÔºåÁÑ∂ÂêéÊàë‰ª¨‰πüÁü•ÈÅì‰∫ÜÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂÆûÁé∞ÊñπÂºèÔºå‰ª•ÂèäËôöÊãüÊú∫‰∏∫Êàë‰ª¨Êèê‰æõÁöÑÂêÑÁßçÈîÅ‰ºòÂåñ„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_13_JavaÂÜÖÂ≠òÊ®°Âûã‰∏éÁ∫øÁ®ã]]></title>
    <url>%2F2017%2F12%2F13%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-13-Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂπ∂ÂèëÂ§ÑÁêÜÁöÑÂπøÊ≥õÂ∫îÁî®ÊòØ‰ΩøÂæóÈòøÂßÜÂæ∑Â∞îÂÆöÂæãÊõø‰ª£Êë©Â∞îÂÆöÂæãÊàê‰∏∫ËÆ°ÁÆóÊú∫ÊÄßËÉΩÂèëÂ±ïÂéüÂä®ÂäõÁöÑÊ†πÊú¨ÂéüÂõ†„ÄÇÁî±‰∫éËÆ°ÁÆóÊú∫ÁöÑËøêÁÆóÈÄüÂ∫¶ÂíåÂÆÉÁöÑÂ≠òÂÇ®ÂíåÈÄö‰ø°Â≠êÁ≥ªÁªüÈÄüÂ∫¶Â∑ÆË∑ùÂ§™Â§ßÔºåÊâÄ‰ª•ÊâçÂá∫Áé∞‰∫ÜÂπ∂ÂèëÔºåËÄåÂπ∂ÂèëÁªùÂØπÊòØJavaËøêÁî®ÂæàÂ§ßÁöÑ‰ºòÂäø„ÄÇÊàë‰ª¨ÁªùÂØπÈúÄË¶ÅÁêÜËß£ÔºÅ Á°¨‰ª∂ÁöÑÊïàÁéá‰∏é‰∏ÄËá¥ÊÄßÁî±‰∫éËÆ°ÁÆóÊú∫ÁöÑÂ≠òÂÇ®ËÆæÂ§á‰∏éÂ§ÑÁêÜÂô®ÁöÑËøêÁÆóÈÄüÂ∫¶ÊúâÂá†‰∏™Êï∞ÈáèÁ∫ßÁöÑÂ∑ÆË∑ùÔºåÊâÄ‰ª•Áé∞‰ª£ËÆ°ÁÆóÊú∫Á≥ªÁªüÈÉΩ‰∏çÂæó‰∏çÂä†ÂÖ•‰∏ÄÂ±ÇËØªÂÜôÈÄüÂ∫¶Â∞ΩÂèØËÉΩÊé•ËøëÂ§ÑÁêÜÂô®ËøêÁÆóÈÄüÂ∫¶ÁöÑÂëäËØâÁºìÂ≠òÊù•‰Ωú‰∏∫ÂÜÖÂ≠ò‰∏éÂ§ÑÁêÜÂô®‰πãÈó¥ÁöÑÁºìÂÜ≤ÔºöÂ∞ÜËøêÁÆóÈúÄË¶Å‰ΩøÁî®Âà∞ÁöÑÊï∞ÊçÆÂ§çÂà∂Âà∞ÁºìÂ≠ò‰∏≠ÔºåËÆ©ËøêÁÆóËÉΩÂø´ÈÄüËøõË°åÔºåÂΩìËøêÁÆóÁªìÊùüÂêéÂÜç‰ªéÁºìÂ≠òÂêåÊ≠•Âà∞ÂÜÖÂ≠ò‰πã‰∏≠ÔºåËøôÊ†∑Â§ÑÁêÜÂô®Â∞±Êó†È°ªÁ≠âÂæÖÁºìÊÖ¢ÁöÑÂÜÖÂ≠òËØªÂÜô‰∫Ü„ÄÇ Âü∫‰∫éÈ´òÈÄüÁºìÂ≠òÁöÑÂ≠òÂÇ®‰∫§‰∫íÂæàÂ•ΩÂú∞Ëß£ÂÜ≥‰∫ÜÂ§ÑÁêÜÂô®‰∏éÂÜÖÂ≠òÁöÑÈÄüÂ∫¶ÁüõÁõæÔºå‰ΩÜÊòØ‰πü‰∏∫ËÆ°ÁÆóÊú∫Á≥ªÁªüÂ∏¶Êù•Êõ¥È´òÁöÑÂ§çÊùÇÂ∫¶ÔºåÂõ†‰∏∫ÂºïÂÖ•‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÈóÆÈ¢òÔºöÁºìÂ≠ò‰∏ÄËá¥ÊÄß„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥‰∏ÄËá¥ÊÄßÁöÑÈóÆÈ¢òÔºåÈúÄË¶ÅÂêÑ‰∏™Â§ÑÁêÜÂô®ËÆøÈóÆÁºìÂ≠òÊó∂ÈÉΩÈÅµÂæ™‰∏Ä‰∫õÂçèËÆÆÔºåÂú®ËØªÂÜôÊó∂Ë¶ÅÊ†πÊçÆÂçèËÆÆÊù•ËøõË°åÊìç‰Ωú„ÄÇ‰∏ãÈù¢ÊòØÂ∏∏Áî®ÁöÑÂÜÖÂ≠òÊ®°ÂûãÂõæÔºö Èô§‰∫ÜÂ¢ûÂä†È´òÈÄüÁºìÂ≠ò‰πãÂ§ñÔºå‰∏∫‰∫Ü‰ΩøÂæóÂ§ÑÁêÜÂô®ÁöÑÂÜÖÈÉ®ÁöÑËøêÁÆóÂçïÂÖÉËÉΩÂ∞ΩÈáèË¢´ÂÖÖÂàÜÂà©Áî®ÔºåÂ§ÑÁêÜÂô®ÂèØËÉΩ‰ºöÂØπËæìÂÖ•‰ª£Á†ÅËøõË°å‰π±Â∫èÊâßË°å‰ºòÂåñ„ÄÇ JavaÂÜÖÂ≠òÊ®°ÂûãÁõÆÁöÑÔºöËÆ©JavaÁ®ãÂ∫èÂú®ÂêÑÁßçÂπ≥Âè∞‰∏ãÈÉΩËÉΩËææÂà∞‰∏ÄËá¥ÁöÑÂÜÖÂ≠òËÆøÈóÆÊïàÊûú„ÄÇ ‰∏ªÂÜÖÂ≠ò‰∏éÂ∑•‰ΩúÂÜÖÂ≠òJavaÂÜÖÂ≠òÊ®°ÂûãÁöÑ‰∏ªË¶ÅÁõÆÊ†áÊòØÂÆö‰πâÁ®ãÂ∫è‰∏≠ÂêÑ‰∏™ÂèòÈáèÁöÑËÆøÈóÆËßÑÂàôÔºåÂç≥Âú®ËôöÊãüÊú∫‰∏≠Â∞ÜÂèòÈáèÂ≠òÂÇ®Âà∞ÂÜÖÂ≠òÂíå‰ªéÂÜÖÂ≠ò‰∏≠ÂèñÂá∫ÂèòÈáèËøôÊ†∑ÁöÑÂ∫ïÂ±ÇÁªÜËäÇ„ÄÇÊ≠§Â§ÑÁöÑÂèòÈáè‰∏éJavaÁºñÁ®ã‰∏≠ÊâÄËØ¥ÁöÑÂèòÈáèÊúâÊâÄÂå∫Âà´ÔºåÂÆÉÂåÖÊã¨ÂÆû‰æãÂ≠óÊÆµ„ÄÅÈùôÊÄÅÂ≠óÊÆµÂíåÊûÑÊàêÊï∞ÁªÑÂØπË±°ÁöÑÂÖÉÁ¥†Ôºå‰ΩÜ‰∏çÂåÖÊã¨Â±ÄÈÉ®ÂèòÈáè‰∏éÊñπÊ≥ïÂèÇÊï∞ÔºåÂõ†‰∏∫ÂêéËÄÖÊòØÁ∫øÁ®ãÁßÅÊúâÁöÑÔºå‰∏ç‰ºöË¢´ÂÖ±‰∫´„ÄÇ JavaÂÜÖÂ≠òÊ®°ÂûãËßÑÂÆö‰∫ÜÊâÄÊúâÁöÑÂèòÈáèÈÉΩÂ≠òÂÇ®Âú®‰∏ªÂÜÖÂ≠ò‰∏≠ÔºàÊ≠§Â§ÑÁöÑ‰∏ªÂÜÖÂ≠ò‰∏é‰ªãÁªçÁâ©ÁêÜÁ°¨‰ª∂Êó∂ÁöÑ‰∏ªÂÜÖÂ≠òÂèØ‰ª•Á±ªÊØîÔºå‰ΩÜÊòØÊ≠§Â§Ñ‰ªÖ‰ªÖÊòØËôöÊãüÊú∫ÂÜÖÂ≠òÁöÑ‰∏ÄÈÉ®ÂàÜÔºâ„ÄÇÊØèÊù°Á∫øÁ®ãÈÉΩÊúâËá™Â∑±ÁöÑÂ∑•‰ΩúÂÜÖÂ≠òÔºàÂèØ‰ª•‰∏éÂ§ÑÁêÜÂô®È´òÈÄüÁºìÂ≠òÁ±ªÊØîÔºâÔºåÁ∫øÁ®ãÁöÑÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠‰øùÂ≠ò‰∫ÜË¢´ËØ•Á∫øÁ®ã‰ΩøÁî®Âà∞ÁöÑÂèòÈáèÁöÑ‰∏ªÂÜÖÂ≠òÂâØÊú¨Êã∑Ë¥ùÔºåÁ∫øÁ®ãÂØπÂèòÈáèÁöÑÊâÄÊúâÊìç‰ΩúÈÉΩÂøÖÈ°ªÂú®Â∑•‰ΩúÂÜÖÂ≠ò‰∏≠ËøõË°åÔºåËÄå‰∏çËÉΩÁõ¥Êé•ËØªÂÜô‰∏ªÂÜÖÂ≠ò‰∏≠ÁöÑÂèòÈáè„ÄÇ‰∏çÂêåÁöÑÁ∫øÁ®ã‰πãÈó¥‰πüÊó†Ê≥ïÁõ¥Êé•ËÆøÈóÆÂØπÊñπÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÁöÑÂèòÈáèÔºåÁ∫øÁ®ãÈó¥ÂèòÈáèÂÄºÁöÑ‰º†ÈÄíÂùáÈúÄË¶ÅÈÄöËøá‰∏ªÂÜÖÂ≠òÊù•ÂÆåÊàêÔºåÁ∫øÁ®ã„ÄÅ‰∏ªÂÜÖÂ≠ò„ÄÅÂ∑•‰ΩúÂÜÖÂ≠ò‰∏âËÄÖÁöÑ‰∫§‰∫íÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÔºö ËøôÈáåÁöÑJavaÂÜÖÂ≠òÊ®°ÂûãÂ¶ÇÊûúÂíåJavaËøêË°åÊó∂ÂÜÖÂ≠òÂãâÂº∫ÂØπÂ∫îÔºåÂèØ‰ª•ËøôÊ†∑ÁêÜËß£Ôºö‰∏ªÂÜÖÂ≠ò‰∏ªË¶ÅÂØπÂ∫îJavaÂ†Ü‰∏≠ÁöÑÂØπË±°ÂÆû‰æãÊï∞ÊçÆÈÉ®ÂàÜÔºåËÄåÂ∑•‰ΩúÂÜÖÂ≠òÂàôÂØπÂ∫î‰∫éËôöÊãüÊú∫Ê†à‰∏≠ÁöÑÈÉ®ÂàÜÂå∫Âüü„ÄÇ‰ªéÊõ¥‰ΩéÂ±ÇÊ¨°‰∏äËØ¥Ôºå‰∏ªÂÜÖÂ≠òÁõ¥Êé•ÂØπÂ∫î‰∫éÁâ©ÁêÜÁ°¨‰ª∂ÂÜÖÂ≠òÔºåËÄåÂ∑•‰ΩúÂÜÖÂ≠ò‰ºòÂÖàÂ≠òÂÇ®‰∫éÂØÑÂ≠òÂô®ÂíåÈ´òÈÄüÁºìÂ≠ò‰∏≠„ÄÇ ÂÜÖÂ≠òÈó¥ÁöÑ‰∫§‰∫íÊìç‰ΩúJavaÂÜÖÂ≠òÊ®°Âûã‰∏≠ÂÆö‰πâ‰∫Ü‰ª•‰∏ã8ÁßçÊìç‰ΩúÊù•ÂÆåÊàêÔºåËôöÊãüÊú∫ÂÆûÁé∞Êó∂ÂøÖÈ°ª‰øùËØÅ‰∏ãÈù¢ÊèêÂèäÁöÑÊØè‰∏ÄÁßçÊìç‰ΩúÈÉΩÊòØÂéüÂ≠êÁöÑ„ÄÅ‰∏çÂèØÂÜçÂàÜÁöÑ„ÄÇ lockÔºàÈîÅÂÆöÔºâÔºö‰ΩúÁî®‰∫é‰∏ªÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÂÆÉÊää‰∏Ä‰∏™ÂèòÈáèÊ†áËØÜ‰∏∫‰∏ÄÊù°Á∫øÁ®ãÁã¨Âç†ÁöÑÁä∂ÊÄÅ„ÄÇ unlockÔºàËß£ÈîÅÔºâÔºö‰ΩúÁî®‰∫é‰∏ªÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÂÆÉÊää‰∏Ä‰∏™Â§Ñ‰∫éÈîÅÂÆöÁä∂ÊÄÅÁöÑÂèòÈáèÈáäÊîæÂá∫Êù•ÔºåÈáäÊîæÂêéÁöÑÂèòÈáèÊâçÂèØ‰ª•Ë¢´ÂÖ∂‰ªñÁ∫øÁ®ãÈîÅÂÆö„ÄÇ readÔºàËØªÂèñÔºâÔºö‰ΩúÁî®‰∫é‰∏ªÂÜÖÂ≠òÂèòÈáèÔºåÊää‰∏Ä‰∏™ÂèòÈáèÂÄº‰ªé‰∏ªÂÜÖÂ≠ò‰º†ËæìÂà∞Á∫øÁ®ãÁöÑÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠Ôºå‰ª•‰æøÈöèÂêéÁöÑloadÂä®‰Ωú‰ΩøÁî®„ÄÇ loadÔºàËΩΩÂÖ•ÔºâÔºö‰ΩúÁî®‰∫éÂ∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÂÆÉÊääreadÊìç‰Ωú‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠ÂæóÂà∞ÁöÑÂèòÈáèÂÄºÊîæÂÖ•Â∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÂâØÊú¨‰∏≠„ÄÇ useÔºà‰ΩøÁî®ÔºâÔºö‰ΩúÁî®‰∫éÂ∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÊääÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÁöÑ‰∏Ä‰∏™ÂèòÈáèÂÄº‰º†ÈÄíÁªôÊâßË°åÂºïÊìéÔºåÊØèÂΩìËôöÊãüÊú∫ÈÅáÂà∞‰∏Ä‰∏™ÈúÄË¶Å‰ΩøÁî®ÂèòÈáèÁöÑÂÄºÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§Êó∂Â∞Ü‰ºöÊâßË°åËøô‰∏™Êìç‰Ωú„ÄÇ assignÔºàËµãÂÄºÔºâÔºö‰ΩúÁî®‰∫éÂ∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÂÆÉÊää‰∏Ä‰∏™‰ªéÊâßË°åÂºïÊìéÊé•Êî∂Âà∞ÁöÑÂÄºËµãÂÄºÁªôÂ∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÊØèÂΩìËôöÊãüÊú∫ÈÅáÂà∞‰∏Ä‰∏™ÁªôÂèòÈáèËµãÂÄºÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§Êó∂ÊâßË°åËøô‰∏™Êìç‰Ωú„ÄÇ storeÔºàÂ≠òÂÇ®ÔºâÔºö‰ΩúÁî®‰∫éÂ∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÊääÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÁöÑ‰∏Ä‰∏™ÂèòÈáèÁöÑÂÄº‰º†ÈÄÅÂà∞‰∏ªÂÜÖÂ≠ò‰∏≠Ôºå‰ª•‰æøÈöèÂêéÁöÑwriteÁöÑÊìç‰Ωú„ÄÇ writeÔºàÂÜôÂÖ•ÔºâÔºö‰ΩúÁî®‰∫é‰∏ªÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÂÆÉÊäästoreÊìç‰Ωú‰ªéÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠‰∏Ä‰∏™ÂèòÈáèÁöÑÂÄº‰º†ÈÄÅÂà∞‰∏ªÂÜÖÂ≠òÁöÑÂèòÈáè‰∏≠„ÄÇ Â¶ÇÊûúË¶ÅÊää‰∏Ä‰∏™ÂèòÈáè‰ªé‰∏ªÂÜÖÂ≠òÂ§çÂà∂Âà∞Â∑•‰ΩúÂÜÖÂ≠òÔºåÈÇ£Â∞±Ë¶ÅÊåâÈ°∫Â∫èÊâßË°åreadÂíåloadÊìç‰ΩúÔºåÂ¶ÇÊûúË¶ÅÊääÂèòÈáè‰ªéÂ∑•‰ΩúÂÜÖÂ≠òÂêåÊ≠•Âõû‰∏ªÂÜÖÂ≠òÔºåÂ∞±Ë¶ÅÊåâÁÖßÈ°∫Â∫èÂú∞ÊâßË°åstoreÂíåwriteÊìç‰Ωú„ÄÇÊ≥®ÊÑèÔºåJavaÂÜÖÂ≠òÊ®°ÂûãÂè™Ë¶ÅÊ±Ç‰∏äËø∞‰∏§‰∏™Êìç‰ΩúÂøÖÈ°ªÊåâÈ°∫Â∫èÊâßË°åÔºåËÄåÊ≤°Êúâ‰øùËØÅÂøÖÈ°ªÊòØËøûÁª≠ÊâßË°å„ÄÇJavaÂÜÖÂ≠òÊ®°ÂûãËßÑÂÆö‰∫ÜÂú®ÊâßË°å‰∏äËø∞ÂÖ´ÁßçÂü∫Êú¨Êìç‰ΩúÊó∂ÂøÖÈ°ªÊª°Ë∂≥Êó∂ÂøÖÈ°ªÊª°Ë∂≥Â¶Ç‰∏ãËßÑÂàôÔºö ‰∏çÂÖÅËÆ∏readÂíåload„ÄÅstoreÂíåwriteÊìç‰Ωú‰πã‰∏ÄÂçïÁã¨Âá∫Áé∞„ÄÇ ‰∏çÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ã‰∏¢ÂºÉÂÆÉÁöÑÊúÄËøëÁöÑassignÊìç‰Ωú„ÄÇ ‰∏çÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ãÊó†ÂéüÂõ†ÁöÑÔºàÊ≤°ÊúâÂèëÁîüËøá‰ªª‰ΩïassignÊìç‰ΩúÔºâÊääÊï∞ÊçÆ‰ªéÁ∫øÁ®ãÁöÑÂ∑•‰ΩúÂÜÖÂ≠òÂêåÊ≠•Âà∞‰∏ªÂÜÖÂ≠ò‰∏≠ ‰∏Ä‰∏™Êñ∞ÁöÑÂèòÈáèÂè™ËÉΩÂú®‰∏ªÂÜÖÂ≠ò‰∏≠ËØûÁîüÔºå‰∏çÂÖÅËÆ∏Âú®Â∑•‰ΩúÂÜÖÂ≠ò‰∏≠Áõ¥Êé•‰ΩøÁî®‰∏Ä‰∏™Êú™Ë¢´ÂàùÂßãÂåñÔºàloadÊàñassignÔºâÁöÑÂèòÈáè„ÄÇ ‰∏Ä‰∏™ÂèòÈáèÂú®Âêå‰∏ÄÊó∂ÂàªÂè™ÂÖÅËÆ∏‰∏ÄÊù°Á∫øÁ®ãÂØπÂÖ∂ËøõË°ålockÊìç‰ΩúÔºå‰ΩÜlockÊìç‰ΩúÂèØ‰ª•Ë¢´Âêå‰∏ÄÊù°Á∫øÁ®ãÈáçÂ§çÊâßË°åÂ§öÊ¨°ÔºåÂ§öÊ¨°ÊâßË°ålockÂêéÔºåÂè™ÊúâÊâßË°åÁõ∏ÂêåÊ¨°Êï∞ÁöÑunlockÊìç‰ΩúÔºåÂèòÈáèÊâç‰ºöË¢´Ëß£ÈîÅ„ÄÇ Â¶ÇÊûúÂØπ‰∏Ä‰∏™ÂèòÈáèÊâßË°ålockÊìç‰ΩúÔºåÂ∞Ü‰ºöÊ∏ÖÁ©∫Â∑•‰ΩúÂÜÖÂ≠ò‰∏≠Ê≠§ÂèòÈáèÁöÑÂÄºÔºåÂú®ÊâßË°åÂºïÊìé‰ΩøÁî®Ëøô‰∏™ÂèòÈáèÂâçÔºåÈúÄË¶ÅÈáçÊñ∞ÊâßË°åloadÊàñassignÊìç‰ΩúÂàùÂßãÂåñÂèòÈáèÁöÑÂÄº„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™ÂèòÈáè‰∫ãÂÖàÊ≤°ÊúâË¢´lockÈîÅÂÆöÔºåÂàô‰∏çÂÖÅËÆ∏ÂØπÂÆÉÊâßË°åunlockÊìç‰ΩúÔºõ‰πü‰∏çÂÖÅËÆ∏Âéªunlock‰∏Ä‰∏™Ë¢´ÂÖ∂‰ªñÁ∫øÁ®ãÈîÅÂÆö‰ΩèÁöÑÂèòÈáè„ÄÇ ÂØπ‰∏Ä‰∏™ÂèòÈáèÊâßË°åunlockÊìç‰Ωú‰πãÂâçÔºåÂøÖÈ°ªÂÖàÊääÊ≠§ÂèòÈáèÂêåÊ≠•Âõû‰∏ªÂÜÖÂ≠ò‰∏≠ÔºàÊâßË°åstoreÂíåwriteÔºâ„ÄÇ Ëøô8ÁßçÂÜÖÂ≠òËÆøÈóÆÊìç‰Ωú‰ª•Âèä‰∏äËø∞ËßÑÂàôÈôêÂÆöÔºåÂÜçÂä†‰∏ävolatileÁöÑ‰∏Ä‰∫õÁâπÊÆäËßÑÂÆöÔºåÂ∞±Â∑≤ÁªèÂÆåÂÖ®Á°ÆÂÆö‰∫ÜJavaÁ®ãÂ∫è‰∏≠Âì™‰∫õÂÜÖÂ≠òËÆøÈóÆÊìç‰ΩúÊòØÂπ∂ÂèëÊòØÂÆâÂÖ®ÁöÑ„ÄÇ ÂØπ‰∫évolatile‰øÆÈ•∞ÁöÑÂèòÈáèÁöÑÁâπÊÆäËßÑÂàôÂÖ≥ÈîÆÂ≠óvolatileÊòØJavaËôöÊãüÊú∫Êèê‰æõÁöÑÊúÄËΩªÈáèÁ∫ßÁöÑÂêåÊ≠•Êú∫Âà∂„ÄÇJavaÂÜÖÂ≠òÊ®°ÂûãÂ†Üvolatile‰∏ìÈó®ÂÆö‰πâ‰∫Ü‰∏Ä‰∫õÁâπÊÆäÁöÑËÆøÈóÆËßÑÂàô„ÄÇÂΩì‰∏Ä‰∏™ÂèòÈáèÂÆö‰πâ‰∏∫volatile‰πãÂêéÔºåÂÆÉÂ∞ÜÂÖ∑Â§á‰ª•‰∏ã‰∏§ÁßçÁâπÊÄßÔºö ‰øùËØÅÊ≠§ÂèòÈáèÂØπÊâÄÊúâÁ∫øÁ®ãÁöÑÂèØËßÅÊÄßÔºöÂΩì‰∏ÄÊù°Á∫øÁ®ã‰øÆÊîπ‰∫ÜËøô‰∏™ÂèòÈáèÁöÑÂÄºÔºåÊñ∞ÂÄºÂØπ‰∫éÂÖ∂‰ªñÁ∫øÁ®ãÊù•ËØ¥ÊòØÂèØ‰ª•Á´ãÂç≥ÂæóÁü•ÁöÑ„ÄÇÁî±‰∫évolatileÂèòÈáèÂè™ËÉΩ‰øùËØÅÂèØËßÅÊÄßÔºåÂú®‰∏çÁ¨¶Âêà‰ª•‰∏ã‰∏§Êù°ËßÑÂàôÁöÑËøêÁÆóÂú∫ÊôØ‰∏≠ÔºåÊàë‰ª¨‰ªçÁÑ∂Ë¶ÅÈÄöËøáÂä†ÈîÅÊù•‰øùËØÅÂéüÂ≠êÊÄß„ÄÇ ËøêÁÆóÁªìÊûú‰∏ç‰æùËµñÂèòÈáèÁöÑÂΩìÂâçÂÄºÔºåÊàñËÄÖÂè™ËÉΩ‰øùËØÅÂè™ÊúâÂçï‰∏ÄÁöÑÁ∫øÁ®ãÊù•‰øùËØÅÂéüÂ≠êÊÄß„ÄÇ ÂèòÈáè‰∏çÈúÄË¶Å‰∏éÂÖ∂‰ªñÁä∂ÊÄÅÂèòÈáèÂÖ±ÂêåÂèÇ‰∏é‰∏çÂèòÁ∫¶Êùü„ÄÇÔºàÁõÆÂâç‰∏çÁêÜËß£Ôºâ Á¶ÅÊ≠¢Êåá‰ª§ÈáçÊéíÂ∫è‰ºòÂåñÔºöÂ¶ÇÊûúÊúâ‰∏§‰∏™ÊàñËÄÖÊõ¥Â§öCPUËÆøÈóÆÂêå‰∏ÄÂùóÂÜÖÂ≠òÔºå‰∏îÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™Âú®ËßÇÊµãÂè¶‰∏Ä‰∏™ÔºåÈÇ£‰πàÂÆÉ‰ºöÈÄöËøáËÆæÁΩÆÂÜÖÂ≠òÂ±èÈöúÊù•‰ΩøÈáçÊéíÂ∫èÊó∂‰∏çËÉΩÊääÂêéÈù¢ÁöÑÊåá‰ª§ÈáçÊéíÂ∫èÂà∞ÂÜÖÂ≠òÂ±èÈöú‰πãÂâçËÆøÈóÆ„ÄÇ volatileÁöÑÊÑè‰πâÔºövolatileÂèòÈáèËØªÊìç‰ΩúÁöÑÊ∂àËÄó‰∏éÊôÆÈÄöÂèòÈáèÂá†‰πéÊ≤°Êúâ‰ªÄ‰πàÂ∑ÆÂà´Ôºå‰ΩÜÊòØÂÜôÊìç‰ΩúÂàôÂèØËÉΩÊÖ¢‰∏ÄÁÇπÔºåÂõ†‰∏∫ÂÆÉÈúÄË¶ÅÂú®Êú¨Âú∞‰ª£Á†Å‰∏≠ÊèíÂÖ•ËÆ∏Â§öÂÜÖÂ≠òÂ±èÈöúÊåá‰ª§Êù•‰øùËØÅÂ§ÑÁêÜÂô®‰∏çÂèëÁîü‰π±Â∫èÊâßË°åÔºå‰∏çËøáÂç≥‰æøÂ¶ÇÊ≠§ÔºåÂ§ßÂ§öÊï∞Âú∫ÊôØ‰∏ãvolatileÂæóÊÄªÂºÄÈîÄ‰ªçÁÑ∂ÊØîÈîÅ‰Ωé„ÄÇ volatileÁöÑÁâπÊÆäËßÑÂàôÂ∞±ÊòØÔºöuse/assign„ÄÅload/store„ÄÅread/writeÊìç‰ΩúÂøÖÈ°ªËøûÁª≠‰∏ÄËµ∑Âá∫Áé∞ÔºåÂç≥volatile‰øÆÈ•∞ÁöÑÂèòÈáè‰∏ç‰ºöË¢´Êåá‰ª§ÈáçÊéíÂ∫è‰ºòÂåñ„ÄÇ ÂØπ‰∫élongÂíådoubleÁ±ªÂûãÁöÑÂèòÈáèÁöÑÁâπÊÆäËßÑÂàôJavaÂÜÖÂ≠òÊ®°ÂûãË¶ÅÊ±ÇÂØπ‰∫élock„ÄÅunlock„ÄÅread„ÄÅload„ÄÅassign„ÄÅuse„ÄÅstoreÂíåwriteËøôÂÖ´‰∏™Êìç‰ΩúÈÉΩÂÖ∑ÊúâÂéüÂ≠êÊÄßÔºå‰ΩÜÊòØÂØπ‰∫é64‰ΩçÁöÑÊï∞ÊçÆÁ±ªÂûãÔºàlongÂíådoubleÔºâÔºåÂÖÅËÆ∏ËôöÊãüÊú∫Â∞ÜÊ≤°ÊúâË¢´volatile‰øÆÈ•∞ÁöÑ64‰ΩçÊï∞ÊçÆÁöÑËØªÂÜôÊìç‰ΩúÂàíÂàÜ‰∏∫‰∏§Ê¨°32‰ΩçÁöÑÊìç‰ΩúÊù•ËøõË°åÔºåÂç≥ÂÖÅËÆ∏ËôöÊãüÊú∫ÂÆûÁé∞ÈÄâÊã©ÂèØ‰ª•‰∏ç‰øùËØÅ64‰ΩçÊï∞ÊçÆÁ±ªÂûãÁöÑload„ÄÅstore„ÄÅreadÂíåwriteËøôÂõõ‰∏™Êìç‰ΩúÁöÑÂéüÂ≠êÊÄßÔºå‰ΩÜÊòØÂº∫ÁÉàÂª∫ËÆÆËôöÊãüÊú∫ÂÆûÁé∞‰∏∫ÂÖ∑ÊúâÂéüÂ≠êÊÄßÁöÑÊìç‰Ωú„ÄÇ ÂéüÂ≠êÊÄß„ÄÅÂèØËßÅÊÄß‰∏éÊúâÂ∫èÊÄßÂéüÂ≠êÊÄßÁî±JavaÂÜÖÂ≠òÊ®°ÂûãÊù•Áõ¥Êé•‰øùËØÅÁöÑÂéüÂ≠êÊÄßÂèòÈáèÊìç‰ΩúÂåÖÊã¨read„ÄÅload„ÄÅassign„ÄÅuse„ÄÅstoreÂíåwriteËøôÂÖ≠‰∏™ÔºåÊàë‰ª¨Â§ßËá¥ÂèØ‰ª•ËÆ§‰∏∫Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑËÆøÈóÆËØªÂÜôÊòØÂÖ∑Â§áÂéüÂ≠êÊÄßÁöÑ„ÄÇsynchronizedÂÖ≥ÈîÆÂ≠óÂèØ‰ª•ÂÆûÁé∞ÂéüÂ≠êÊÄß„ÄÇ ÂèØËßÅÊÄßÂèØËßÅÊÄßÂ∞±ÊòØÊåáÂΩì‰∏Ä‰∏™Á∫øÁ®ã‰øÆÊîπ‰∫ÜÂÖ±‰∫´ÂèòÈáèÁöÑÂÄºÔºåÂÖ∂‰ªñÁ∫øÁ®ãËÉΩÂ§üÁ´ãÂç≥ÂæóÁü•Ëøô‰∏™‰øÆÊîπ„ÄÇvolatile„ÄÅsynchronized‰ª•ÂèäfinalÂÖ≥ÈîÆÂ≠óÈÉΩËÉΩÂÆûÁé∞ÂèØËßÅÊÄß„ÄÇ ÊúâÂ∫èÊÄßJavaÁ®ãÂ∫è‰∏≠Â§©ÁÑ∂ÁöÑÊúâÂ∫èÊÄßÂèØ‰ª•ÊÄªÁªì‰∏∫‰∏ÄÂè•ËØùÔºöÂ¶ÇÊûúÂú®Êú¨Á∫øÁ®ãÂÜÖËßÇÂØüÔºåÊâÄÊúâÁöÑÊìç‰ΩúÈÉΩÊòØÊúâÂ∫èÁöÑÔºõÂ¶ÇÊûúÂú®‰∏Ä‰∏™Á∫øÁ®ã‰∏≠ËßÇÂØüÂè¶‰∏Ä‰∏™Á∫øÁ®ãÔºåÊâÄÊúâÁöÑÊìç‰ΩúÈÉΩÊòØÊó†Â∫èÁöÑ„ÄÇÂâçÂçäÂè•ÊòØÊåá‚ÄúÁ∫øÁ®ãÂÜÖË°®Áé∞‰∏∫‰∏≤Ë°åÁöÑËØ≠‰πâ‚ÄùÔºåÂêéÂçäÂè•ÊòØÊåá‚ÄúÊåá‰ª§ÈáçÊéíÂ∫è‚ÄùÁé∞Ë±°Âíå‚ÄúÂ∑•‰ΩúÂÜÖÂ≠ò‰∏é‰∏ªÂÜÖÂ≠òÂêåÊ≠•Âª∂Ëøü‚ÄùÁé∞Ë±°„ÄÇvolatileÂíåsynchronizedÂÖ≥ÈîÆÂ≠óÈÉΩËÉΩÂÆûÁé∞ÊúâÂ∫èÊÄß„ÄÇ ÂÖàË°åÂèëÁîüÂéüÂàôÂÖàË°åÂèëÁîüÊòØJavaÂÜÖÂ≠òÊ®°Âûã‰∏≠ÂÆö‰πâÁöÑ‰∏§È°πÊìç‰Ωú‰πãÈó¥ÁöÑÂÅèÂ∫èÂÖ≥Á≥ªÔºåÂ¶ÇÊûúËØ¥Êìç‰ΩúAÂÖàË°åÂèëÁîü‰∫éÊìç‰ΩúBÔºåÂÖ∂ÂÆûÂ∞±ÊòØËØ¥Âú®ÂèëÁîüÊìç‰ΩúB‰πãÂâçÔºåÊìç‰ΩúA‰∫ßÁîüÁöÑÂΩ±ÂìçËÉΩË¢´Êìç‰ΩúBËßÇÂØüÂà∞Ôºå‚ÄúÂΩ±Âìç‚ÄùÂåÖÊã¨‰øÆÊîπ‰∫ÜÂÜÖÂ≠ò‰∏≠ÂÖ±‰∫´ÂèòÈáèÁöÑÂÄº„ÄÅÂèëÈÄÅ‰∫ÜÂ∞èÂÜô„ÄÅË∞ÉÁî®‰∫ÜÊñπÊ≥ïÁ≠â„ÄÇ ‰∏ãÈù¢ÊòØJavaÂÜÖÂ≠òÊ®°Âûã‰∏ã‰∏Ä‰∫õ‚ÄúÂ§©ÁÑ∂ÁöÑ‚ÄùÂÖàË°åÂèëÁîüÂÖ≥Á≥ªÔºåËøô‰∫õÂÖàË°åÂèëÈÄÅÂÖ≥Á≥ªÊó†È°ª‰ªª‰ΩïÂêåÊ≠•Âô®ÂçèÂä©Â∞±Â∑≤ÁªèÂ≠òÂú®ÔºåÂèØ‰ª•Âú®ÁºñÁ†Å‰∏≠Áõ¥Êé•‰ΩøÁî®„ÄÇÂ¶ÇÊûú‰∏§‰∏™Êìç‰Ωú‰πãÈó¥ÁöÑÂÖ≥Á≥ª‰∏çÂú®Ê≠§ÂàóÔºåÂπ∂‰∏îÊó†Ê≥ï‰ªé‰∏ãÂàóËßÑÂàôÊé®ÂØºÂá∫Êù•ÁöÑËØùÔºå‰ªñ‰ª¨Â∞±Ê≤°ÊúâÈ°∫Â∫èÊÄß‰øùÈöúÔºåËôöÊãüÊú∫ÂèØ‰ª•ÂØπÂÆÉ‰ª¨ËøõË°åÈöèÊÑèÈáçÊñ∞ÊéíÂ∫èÔºö Á®ãÂ∫èÊ¨°Â∫èËßÑÂàôÔºàProgram Order RuleÔºâÔºöÂú®‰∏Ä‰∏™Á∫øÁ®ãÂÜÖÔºåÊåâÁÖßÁ®ãÂ∫è‰ª£Á†ÅÈ°∫Â∫èÔºå‰π¶ÂÜôÂú®ÂâçÁöÑÊìç‰ΩúÂÖà‰∫é‰π¶ÂÜôÂú®ÂêéÈù¢ÁöÑÊìç‰Ωú„ÄÇÂáÜÁ°ÆÂú∞ËØ¥Â∫îËØ•ÊòØÊéßÂà∂ÊµÅÈ°∫Â∫èËÄå‰∏çÊòØÁ®ãÂ∫è‰ª£Á†ÅÈ°∫Â∫èÔºåÂõ†‰∏∫Ë¶ÅËÄÉËôëÂàÜÊîØ„ÄÅÂæ™ÁéØÁ≠âÁªìÊûÑ„ÄÇ ÁÆ°Á®ãÈîÅÂÆöËßÑÂàôÔºàMonitor Lock RuleÔºâÔºö‰∏Ä‰∏™unlockÊìç‰ΩúÂÖàË°åÂèëÁîü‰∫éÂêéÈù¢ÂØπÂêå‰∏Ä‰∏™ÈîÅÁöÑlockÊìç‰Ωú„ÄÇËøôÈáåÂøÖÈ°ªÂº∫Ë∞ÉÁöÑÊòØÂêå‰∏Ä‰∏™ÈîÅÔºåËÄå‚ÄúÂêéÈù¢‚ÄùÊòØÊåáÊó∂Èó¥‰∏äÁöÑÂÖàÂêéÈ°∫Â∫è„ÄÇ volatileÂèòÈáèËßÑÂàôÔºàVolatile Variable RuleÔºâÔºöÂØπ‰∏Ä‰∏™volatileÂèòÈáèÁöÑÂÜôÊìç‰ΩúÂÖàË°åÂèëÁîü‰∫éÂêéÈù¢ÂØπËøô‰∏™ÂèòÈáèÁöÑËØªÊìç‰Ωú„ÄÇ‚ÄúÂêéÈù¢‚ÄùÊòØÊåáÊó∂Èó¥‰∏äÁöÑÂÖàÂêéÈ°∫Â∫è„ÄÇ Á∫øÁ®ãÂêØÂä®ËßÑÂàôÔºàThread Start RuleÔºâÔºöThreadÂØπË±°ÁöÑstart()ÊñπÊ≥ïÂÖàË°åÂèëÁîü‰∫éÊ≠§Á∫øÁ®ãÁöÑÊØè‰∏Ä‰∏™Âä®‰Ωú„ÄÇ Á∫øÁ®ãÁªàÊ≠¢ËßÑÂàôÔºàThread Termination RuleÔºâÔºöÁ∫øÁ®ã‰∏≠ÊâÄÊúâÊìç‰ΩúÈÉΩÂÖàË°åÂèëÁîü‰∫éÊ≠§Á∫øÁ®ãÁöÑÁªàÊ≠¢Ê£ÄÊµã„ÄÇ Á∫øÁ®ã‰∏≠Êñ≠ËßÑÂàôÔºàThread Interruption RuleÔºâÔºöÂØπÁ∫øÁ®ãinterrupt()ÊñπÊ≥ïÁöÑË∞ÉÁî®ÂÖàË°åÂèëÁîü‰∫éË¢´‰∏≠Êñ≠Á∫øÁ®ãÁöÑ‰ª£Á†ÅÊ£ÄÊµãÂà∞‰∏≠Êñ≠‰∫ã‰ª∂ÁöÑÂèëÁîü„ÄÇ ÂØπË±°ÁªàÁªìËßÑÂàôÔºàFinalizer RuleÔºâÔºö‰∏Ä‰∏™ÂØπË±°ÁöÑÂàùÂßãÂåñÂÆåÊàêÔºàÊûÑÈÄ†ÂáΩÊï∞ÊâßË°åÁªìÊùüÔºâÂÖàË°åÂèëÁîü‰∫éÂÆÉÁöÑfinalize()ÊñπÊ≥ïÁöÑÂºÄÂßã„ÄÇ ‰º†ÈÄíÊÄßÔºàTransitivityÔºâÔºöÂ¶ÇÊûúÊìç‰ΩúAÂÖàË°åÂèëÁîü‰∫éÊìç‰ΩúBÔºåÊìç‰ΩúBÂÖàË°åÂèëÁîü‰∫éÊìç‰ΩúCÔºåÈÇ£Â∞±ÂèØ‰ª•ÂæóÂà∞Êìç‰ΩúAÂÖàË°åÂèëÁîü‰∫éÊìç‰ΩúC„ÄÇ Java‰∏éÁ∫øÁ®ãÂú®JavaÈáåÈù¢Ë∞àËÆ∫Âπ∂ÂèëÔºåÂ§ßÂ§öÊï∞ÈÉΩ‰∏éÁ∫øÁ®ãËÑ±‰∏çÂºÄÂÖ≥Á≥ª„ÄÇÊàë‰ª¨ÈúÄË¶ÅÁü•ÈÅìÂú®JavaÁ∫øÁ®ãÂú®ËôöÊãüÊú∫ÁöÑÂÆûÁé∞„ÄÇ Á∫øÁ®ãÁöÑÂÆûÁé∞Á∫øÁ®ãÊòØÊØîËøõÁ®ãÊõ¥ËΩªÈáèÁ∫ßÁöÑË∞ÉÂ∫¶ÊâßË°åÂçï‰ΩçÔºåÁ∫øÁ®ãÁöÑÂºïÂÖ•ÔºåÂèØ‰ª•Êää‰∏Ä‰∏™ËøõÁ®ãÁöÑËµÑÊ∫êÂàÜÈÖçÂíåÊâßË°åË∞ÉÂ∫¶ÂàÜÂºÄÔºåÂêÑ‰∏™Á∫øÁ®ãÊó¢ÂèØ‰ª•ÂÖ±‰∫´ËøõÁ®ãËµÑÊ∫êÔºåÂèàÂèØ‰ª•Áã¨Á´ãË∞ÉÂ∫¶ÔºàÁ∫øÁ®ãÊòØCPUË∞ÉÂ∫¶ÁöÑÂü∫Êú¨Âçï‰ΩçÔºâ„ÄÇ ÂÆûÁé∞Á∫øÁ®ã‰∏ªË¶ÅÊúâ3ÁßçÊñπÂºèÔºö‰ΩøÁî®ÂÜÖÊ†∏Á∫øÁ®ãÂÆûÁé∞„ÄÅ‰ΩøÁî®Áî®Êà∑Á∫øÁ®ãÂÆûÁé∞Âíå‰ΩøÁî®Áî®Êà∑Á∫øÁ®ãÂä†ËΩªÈáèÁ∫ßÁ∫øÁ®ãÊ∑∑ÂêàÂÆûÁé∞„ÄÇ JavaÁ∫øÁ®ãË∞ÉÂ∫¶Á∫øÁ®ãË∞ÉÂ∫¶ÊòØÊåáÁ≥ªÁªü‰∏∫Á∫øÁ®ãÂàÜÈÖçÂ§ÑÁêÜÂô®‰ΩøÁî®ÊùÉÁöÑËøáÁ®ãÔºå‰∏ªË¶ÅË∞ÉÂ∫¶ÊñπÂºèÊúâ‰∏§ÁßçÔºåÂàÜÂà´ÊòØÂçèÂêåÂºèÁ∫øÁ®ãË∞ÉÂ∫¶ÂíåÊä¢Âç†ÂºèÁ∫øÁ®ãË∞ÉÂ∫¶„ÄÇ ÂçèÂêåÂºèÁ∫øÁ®ãË∞ÉÂ∫¶ÔºöÁ∫øÁ®ãÁöÑÊâßË°åÊó∂Èó¥Áî±Á∫øÁ®ãÊú¨Ë∫´Êù•ÊéßÂà∂ÔºåÁ∫øÁ®ãÊääËá™Â∑±ÁöÑÂ∑•‰ΩúÊâßË°åÂÆåÊØïÂêéÔºåË¶Å‰∏ªÂä®ÈÄöÁü•Á≥ªÁªüÂàáÊç¢Âà∞Âè¶‰∏Ä‰∏™Á∫øÁ®ã‰∏äÂéª„ÄÇÂ•ΩÂ§ÑÊòØÂÆûÁé∞ÁÆÄÂçïÔºåÊ≤°ÊúâÁ∫øÁ®ãÂêåÊ≠•ÈóÆÈ¢òÔºõÁº∫ÁÇπÊòØÔºöÁ∫øÁ®ãÊâßË°åÊó∂Èó¥‰∏çÂèØÊéßÂà∂ÔºåÂÆπÊòìÂØºËá¥Êï¥‰∏™Á≥ªÁªüÂ¥©Ê∫É„ÄÇ Êä¢Âç†ÂºèÁ∫øÁ®ãË∞ÉÂ∫¶ÔºöÊØè‰∏™Á∫øÁ®ãÂ∞ÜÁî±Á≥ªÁªüÊù•ÂàÜÈÖçÊâßË°åÊó∂Èó¥ÔºåÁ∫øÁ®ãÁöÑÂàáÊç¢‰∏çÁî±Á∫øÁ®ãÊú¨Ë∫´Êù•ÂÜ≥ÂÆö„ÄÇÂ•ΩÂ§ÑÊòØÁ∫øÁ®ãÊâßË°å‰πãÈó¥ÂèØÊéßÔºå‰∏ç‰ºöÊúâ‰∏Ä‰∏™Á∫øÁ®ãÂØºËá¥Êï¥‰∏™ËøõÁ®ãÈòªÂ°ûÁöÑÈóÆÈ¢òÔºåJava‰ΩøÁî®ÁöÑÁ∫øÁ®ãË∞ÉÂ∫¶ÊñπÂºèÂ∞±ÊòØÊä¢Âç†ÂºèË∞ÉÂ∫¶„ÄÇËøôÈáåËØ¥‰∏Ä‰∏ãÂ∞±ÊòØjavaÁ∫øÁ®ã‰ºòÂÖàÁ∫ß‰∏çÂ§™Èù†Ë∞±ÔºåÂéüÂõ†ÊòØJavaÁöÑÁ∫øÁ®ãÊòØÈÄöËøáÊò†Â∞ÑÂà∞Á≥ªÁªüÁöÑÂéüÁîüÁ∫øÁ®ã‰∏äÊù•ÂÆûÁé∞ÁöÑÔºåÊâÄ‰ª•Á∫øÁ®ãË∞ÉÂ∫¶ÊúÄÁªàËøòÊòØÂèñÂÜ≥‰∫éÊìç‰ΩúÁ≥ªÁªü„ÄÇ Á∫øÁ®ãÁä∂ÊÄÅËΩ¨Êç¢JavaËØ≠Ë®ÄÂÆö‰πâ‰∫Ü5ÁßçÁ∫øÁ®ãÁä∂ÊÄÅÔºåÂú®‰ªªÊÑè‰∏Ä‰∏™Êó∂Èó¥ÁÇπÔºå‰∏Ä‰∏™Á∫øÁ®ãÂè™ËÉΩÊúâ‰∏îÂè™ÊúâÂÖ∂‰∏≠ÁöÑ‰∏ÄÁßçÁä∂ÊÄÅÔºåËøô5ÁßçÁä∂ÊÄÅÂàÜÂà´ÊòØÔºöÊñ∞Âª∫ÔºåËøêË°åÔºåÊó†ÈôêÊúüÁ≠âÂæÖÔºåÈôêÊúüÁ≠âÂæÖÔºåÈòªÂ°ûÔºåÁªìÊùü„ÄÇ‰∏äËø∞5ÁßçÁä∂ÊÄÅÂú®ÈÅáÂà∞ÁâπÂÆöÊó∂Èó¥ÂèëÁîüÁöÑÊó∂ÂÄôÂõû‰∫íÁõ∏ËΩ¨Êç¢Ôºå‰ªñ‰ª¨ÁöÑËΩ¨Êç¢ÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÔºö ÊÄªÁªìËôöÊãüÊú∫Êú¨Ë∫´ÂÖ∑Êúâ‰∏ÄÂ•óÂíåÁ∫øÁ®ãÁõ∏ÂÖ≥ÂÜÖÂ≠òÊ®°ÂûãÔºåÊàë‰ª¨ÈúÄË¶ÅÂà©Áî®Â•ΩÂÆÉÔºåÁâπÂà´ÊòØË¶ÅÁêÜËß£Á∫øÊÄßÂèëÁîüÂéüÂàô‰ª•ÂèävolatilÁöÑ‰∏Ä‰∫õÁâπÊÆäËßÑÂàô„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã JavaÂÜÖÂ≠òÊ®°Âûã]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_12_ÊôöÊúüÔºàËøêË°åÊúüÔºâ‰ºòÂåñ]]></title>
    <url>%2F2017%2F12%2F12%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-12-%E6%99%9A%E6%9C%9F%EF%BC%88%E8%BF%90%E8%A1%8C%E6%9C%9F%EF%BC%89%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰πãÂâçËØ¥ËøáJava‰∏≠ÁöÑJITÂç≥Êó∂ÁºñËØëÂô®Âú®ËøêË°åÊúüÁöÑ‰ºòÂåñÂØπ‰∫éÁ®ãÂ∫èËøêË°åÊù•ËØ¥Êõ¥ÈáçË¶ÅÔºåÈÇ£Êàë‰ª¨Â∞±Êù•ÁúãÁúãËøô‰∏™Âç≥Êó∂ÁºñËØëÂô®„ÄÇÊú¨ÊñáÊèêÂèäÁöÑÁºñËØëÂô®„ÄÅÂç≥Êó∂ÁºñËØëÂô®ÈÉΩÊòØÊåáHotSpotËôöÊãüÊú∫ÂÜÖÁöÑÂç≥Êó∂ÁºñËØëÂô®ÔºåËôöÊãüÊú∫‰πüÁâπÊåáHotSpotËôöÊãüÊú∫„ÄÇ ‰ªÄ‰πàÊòØÂç≥Êó∂ÁºñËØëÂô®Âú®ÈÉ®ÂàÜÁöÑÂïÜÁî®ËôöÊãüÊú∫‰∏≠ÔºåJavaÁ®ãÂ∫èÊúÄÂàùÊòØÈÄöËøáËß£ÈáäÂô®Êù•Ëß£ÈáäÊâßË°åÁöÑÔºåÂΩìËôöÊãüÊú∫ÂèëÁé∞Êüê‰∏™ÊñπÊ≥ïÊàñ‰ª£Á†ÅÂùóÁöÑËøêË°åÁâπÂà´È¢ëÁπÅÊó∂ÔºåÂ∞±‰ºöÊääËøô‰∫õ‰ª£Á†ÅËÆ§ÂÆö‰∏∫‚ÄúÁÉ≠ÁÇπ‰ª£Á†Å‚ÄùÔºàHot Spot CodeÔºâ,‰∏∫‰∫ÜÊèêÈ´ò ÁÉ≠ÁÇπ‰ª£Á†ÅÁöÑÊâßË°åÊïàÁéáÔºåÂú®ËøêË°åÊó∂ÔºåËôöÊãüÊú∫Â∞Ü‰ºöÊääËøô‰∫õ‰ª£Á†ÅÁºñËØëÊàê‰∏éÊú¨Âú∞Âπ≥Âè∞Áõ∏ÂÖ≥ÁöÑÊú∫Âô®Á†ÅÔºåÂπ∂ËøõË°åÂêÑÁßçÂ±ÇÊ¨°ÁöÑ‰ºòÂåñÔºåÂÆåÊàêËøô‰∏™‰ªªÂä°ÁöÑÁºñËØëÂô® Áß∞‰∏∫Âç≥Êó∂ÁºñËØëÂô®ÔºàJust In Time Compiler,ÁÆÄÁß∞JITÁºñËØëÂô®Ôºâ„ÄÇ HotSpotËôöÊãüÊú∫ÂÜÖÁöÑÂç≥Êó∂ÁºñËØëÂô®‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Ëß£ÈáäÂô®‰∏éÁºñËØëÂô®Âπ∂Â≠òÁöÑÊû∂ÊûÑ Ëß£ÈáäÂô®‰∏éÁºñËØëÂô®ÂêÑÊúâ‰ºòÂäøÔºöÂΩìÁ®ãÂ∫èÈúÄË¶ÅËøÖÈÄüÂêØÂä®ÂíåÊâßË°åÁöÑÊó∂ÂÄôÔºåËß£ÈáäÂô®ÂèØ‰ª•È¶ñÂÖàÂèëÊå•‰ΩúÁî®ÔºåÁúÅÂéªÁºñËØëÁöÑÊó∂Èó¥ÔºåÁ´ãÂç≥ÊâßË°å„ÄÇÂú®Á®ãÂ∫èËøêË°åÂêéÔºåÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåÁºñËØëÂô®ÈÄêÊ∏êÂèëÊå•‰ΩúÁî®ÔºåÊääË∂äÊù•Ë∂äÂ§öÁöÑ‰ª£Á†ÅÁºñËØëÊàêÊú¨Âú∞‰ª£Á†Å‰πãÂêéÔºåÂèØ‰ª•Ëé∑ÂæóÊõ¥È´òÁöÑÊâßË°åÊïàÁéáÔºåÂΩìÁ®ãÂ∫èËøêË°åÁéØÂ¢É‰∏≠ÂÜÖÂ≠òËµÑÊ∫êÈôêÂà∂ËæÉÂ§ßÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®Ëß£ÈáäÊâßË°åËäÇÁ∫¶ÂÜÖÂ≠òÔºåÂèç‰πãÂèØ‰ª•‰ΩøÁî®ÁºñËØëÊâßË°åÊù•ÊèêÈ´òÊïàÁéá„ÄÇ Ëß£ÈáäÂô®ÂèØ‰ª•‰Ωú‰∏∫ÁºñËØëÂô®ÊøÄËøõ‰ºòÂåñÊó∂ÁöÑ‰∏Ä‰∏™‚ÄúÈÄÉÁîüÈó®‚ÄùÔºåÂèØ‰ª•ÈÄöËøáÈÄÜ‰ºòÂåñÈÄÄÂõûÂà∞Ëß£ÈáäÂô®Áä∂ÊÄÅÁªßÁª≠ÊâßË°å„ÄÇ HotSpotËôöÊãüÊú∫ÂÜÖÁΩÆÁºñËØëÂô® Client Compiler(C1ÁºñËØëÂô®)Ôºö‰ΩøÁî®‚Äú-client‚Äù ÂèÇÊï∞ÂéªÂº∫Âà∂ÊåáÂÆöËôöÊãüÊú∫ËøêË°åÂú®ClientÊ®°Âºè„ÄÇ Server Compiler(C2ÁºñËØëÂô®)Ôºö‰ΩøÁî®‚Äú-server‚Äù ÂèÇÊï∞ÂéªÂº∫Âà∂ÊåáÂÆöËôöÊãüÊú∫ËøêË°åÂú®ServerÊ®°Âºè„ÄÇ ËôöÊãüÊú∫ÈªòËÆ§ÈááÁî®Ëß£ÈáäÂô®‰∏éÁºñËØëÂô®Êê≠ÈÖç‰ΩøÁî®ÁöÑÊñπÂºèÔºàÊ∑∑ÂêàÊ®°ÂºèÔºâ„ÄÇ‰∏∫‰∫ÜÂú®Á®ãÂ∫èÂìçÂ∫îÈÄüÂ∫¶ÂíåËøêË°åÊïàÁéá‰πãÈó¥ËææÂà∞ÊúÄ‰Ω≥Âπ≥Ë°°ÔºåHotSpotËôöÊãüÊú∫‰ºöÈÄêÊ∏êÂêØÁî®ÂàÜÂ±ÇÁºñËØëÁ≠ñÁï•Ôºö Á¨¨0Â±ÇÔºöÁ®ãÂ∫èËß£ÈáäÊâßË°åÔºåËß£ÈáäÂô®‰∏çÂºÄÂêØÊÄßËÉΩÁõëÊéßÂäüËÉΩÔºåÂèØËß¶ÂèëÁ¨¨1Â±ÇÁºñËØë„ÄÇ Á¨¨1Â±ÇÔºö‰πüÁß∞‰∏∫C1ÁºñËØëÔºåÂ∞ÜÂ≠óËäÇÁ†ÅÁºñËØë‰∏∫Êú¨Âú∞‰ª£Á†ÅÔºåËøõË°åÁÆÄÂçïÔºåÂèØÈù†ÁöÑ‰ºòÂåñÔºåÂ¶ÇÊûúÂøÖË¶ÅÂ∞ÜÂä†ÂÖ•ÊÄßËÉΩÁõëÊéßÁöÑÈÄªËæë„ÄÇ Á¨¨2Â±ÇÔºàÊàñ2Â±Ç‰ª•‰∏äÔºâÔºö‰πüÁß∞‰∏∫C2ÁºñËØëÔºå‰πüÊòØÂ∞ÜÂ≠óËäÇÁ†ÅÁºñËØë‰∏∫Êú¨Âú∞‰ª£Á†ÅÔºå‰ΩÜÊòØ‰ºöÂêØÁî®‰∏Ä‰∫õÁºñËØëËÄóÊó∂ËæÉÈïøÁöÑ‰ºòÂåñÔºåÁîöËá≥‰ºöÊ†πÊçÆÊÄßËÉΩÁõëÊéß‰ø°ÊÅØËøõË°å‰∏Ä‰∫õ‰∏çÂèØÈù†ÁöÑÊøÄËøõ‰ºòÂåñ„ÄÇ ÁºñËØëÂØπË±°‰∏éËß¶ÂèëÊù°‰ª∂ÁºñËØëÂØπË±°ÔºàÁÉ≠ÁÇπ‰ª£Á†ÅÔºâ Ë¢´Â§öÊ¨°Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÔºàJITÁºñËØëÊñπÂºèÔºâ Ë¢´Â§öÊ¨°ÊâßË°åÁöÑÂæ™ÁéØ‰ΩìÔºàOSRÁºñËØëÊñπÂºèÔºâ ÁÉ≠ÁÇπÊé¢Êµã Âü∫‰∫éÈááÊ†∑ÁöÑÁÉ≠ÁÇπÊé¢ÊµãÔºöËôöÊãüÊú∫Âë®ÊúüÂú∞Ê£ÄÊü•ÂêÑ‰∏™Á∫øÁ®ãÁöÑÊ†àÈ°∂ÔºåÂ¶ÇÊûúÂèëÁé∞Êüê‰∏™ÔºàÊàñÊüê‰∫õÔºâÊñπÊ≥ïÁªèÂ∏∏Âá∫Áé∞Âú®Ê†àÈ°∂ÔºåÈÇ£Ëøô‰∏™ÊñπÊ≥ïÂ∞±ÊòØ‚ÄúÁÉ≠ÁÇπÊñπÊ≥ï‚Äù„ÄÇ‰ºòÁÇπÊòØÂÆûÁé∞ÁÆÄÂçï„ÄÅÈ´òÊïàÔºåËøòÂèØ‰ª•ÂæàÂÆπÊòìËé∑ÂèñÊñπÊ≥ïÁöÑË∞ÉÁî®ÂÖ≥Á≥ªÔºàÂ∞ÜË∞ÉÁî®Â†ÜÊ†àÂ±ïÂºÄÂç≥ÂèØÔºâÔºåÁº∫ÁÇπÂ∞±ÊòØÂæàÈöæÁ≤æÁ°ÆÂæóÁ°ÆËÆ§‰∏Ä‰∏™ÊñπÊ≥ïÁöÑÁÉ≠Â∫¶ÔºåÂÆπÊòìÂõ†‰∏∫ÂèóÂà∞Á∫øÁ®ãÈòªÂ°ûÊàñËÄÖÂà´ÁöÑÂ§ñÁïåÂõ†Á¥†ÁöÑÂΩ±ÂìçËÄåÊâ∞‰π±ÁÉ≠ÁÇπÊé¢Êµã„ÄÇ Âü∫‰∫éËÆ°Êï∞Âô®ÁöÑÁÉ≠ÁÇπÊé¢ÊµãÔºöËôöÊãüÊú∫‰ºöÊØè‰∏Ä‰∏™ÊñπÊ≥ïÔºàÁîöËá≥ÊòØ‰ª£Á†ÅÂùóÔºâÂª∫Á´ãËÆ°Êï∞Âô®ÔºåÁªüËÆ°ÊñπÊ≥ïÁöÑÊâßË°åÊ¨°Êï∞ÔºåÂ¶ÇÊûúÊâßË°åÊ¨°Êï∞Ë∂ÖËøá‰∏ÄÂÆöÁöÑÈòàÂÄºÂ∞±ËÆ§ÂÆöÂÆÉÊòØ‚ÄúÁÉ≠ÁÇπÊñπÊ≥ï‚Äù„ÄÇÁº∫ÁÇπÊòØÂÆûÁé∞È∫ªÁÉ¶ÔºåÈúÄË¶Å‰∏∫ÊØè‰∏™ÊñπÊ≥ïÂª∫Á´ãÂπ∂Áª¥Êä§ËÆ°Êï∞Âô®ÔºåËÄå‰∏î‰∏çËÉΩÁõ¥Êé•Ëé∑ÂèñÂà∞ÊñπÊ≥ïÁöÑË∞ÉÁî®ÂÖ≥Á≥ªÔºå‰ºòÁÇπÊòØÁªüËÆ°ÁªìÊûúÊõ¥Âä†Á≤æÁ°ÆÂíå‰∏•Ë∞®„ÄÇ Âú®HotSpotËôöÊãüÊú∫‰∏≠‰ΩøÁî®ÁöÑÊòØÂü∫‰∫éËÆ°Êï∞Âô®ÁöÑÁÉ≠ÁÇπÊé¢ÊµãÊñπÊ≥ï„ÄÇÂõ†Ê≠§ÂÆÉ‰∏∫ÊØè‰∏™ÊñπÊ≥ïÂáÜÂ§á‰∫Ü‰∏§Á±ªËÆ°Êï∞Âô®ÔºöÊñπÊ≥ïË∞ÉÁî®ËÆ°Êï∞Âô®ÔºàÁî®‰∫éÊé¢ÊµãÊñπÊ≥ïÔºâÂíåÂõûËæπËÆ°Êï∞Âô®ÔºàÁî®‰∫éÊé¢ÊµãÂæ™ÁéØ‰ΩìÔºâ„ÄÇËøô‰∏§‰∏™ËÆ°Êï∞Âô®ÈÉΩÊúâ‰∏Ä‰∏™Á°ÆÂÆöÁöÑÈòàÂÄºÔºåÂΩìËÆ°Êï∞Âô®Ë∂ÖËøá‰∫ÜÈòàÂÄºÔºåÂ∞±‰ºöÊèê‰∫§ÁºñËØëËØ∑Ê±Ç„ÄÇ ÁºñËØëËøáÁ®ãÂú®ÈªòËÆ§ËÆæÁΩÆ‰∏ãÔºåÊó†ËÆ∫ÊòØÊñπÊ≥ïË∞ÉÁî®‰∫ßÁîüÁöÑÂç≥Êó∂ÁºñËØëËØ∑Ê±ÇÔºåËøòÊòØOSRÁºñËØëËØ∑Ê±ÇÔºåËôöÊãüÊú∫‰ª£Á†ÅÁºñËØëÂô®ËøòÊú™ÂÆåÊàê‰πãÂâçÔºåÈÉΩ‰æùÁÑ∂Â∞ÜÊåâÁÖßËß£ÈáäÊñπÂºèÁªßÁª≠ÊâßË°åÔºåËÄåÁºñËØëÂä®‰ΩúÂàôÂú®ÂêéÂè∞ÁöÑÁºñËØëÁ∫øÁ®ã‰∏≠ËøõË°å„ÄÇ Client CompilerÂÆÉÊòØ‰∏™‰∏âÊÆµÂºèÁºñËØëÂô®Ôºå‰∏ªË¶ÅÂÖ≥Ê≥®ÁÇπÂú®Â±ÄÈÉ®ÊÄßÁöÑ‰ºòÂåñÔºåÊîæÂºÉ‰∫ÜËÆ∏Â§öËÄóÊó∂ËæÉÈïøÁöÑÂÖ®Â±Ä‰ºòÂåñÊâãÊÆµ„ÄÇ‰∏ãÈù¢ÊòØ‰∏â‰∏™Èò∂ÊÆµ Â≠óËäÇÁ†Å-&gt;È´òÁ∫ß‰∏≠Èó¥‰ª£Á†ÅÔºàHIRÔºâ:‰ΩøÁî®ÈùôÊÄÅÂçïÂàÜÈÖçÁöÑÂΩ¢ÂºèÊù•‰ª£Ë°®‰ª£Á†ÅÂÄºÔºåÂÖ∂‰∏≠‰ºöÂÆåÊàêÊñπÊ≥ïÂÜÖËÅî„ÄÅÂ∏∏Èáè‰º†Êí≠Á≠â‰ºòÂåñ„ÄÇ HIR-&gt;‰ΩéÁ∫ß‰∏≠Èó¥‰ª£Á†ÅÔºàLIRÔºâÔºö‰ºöÂú®HIR‰∏äÂÆåÊàêÁ©∫ÂÄºÊ£ÄÊü•Ê∂àÈô§„ÄÅËåÉÂõ¥Ê£ÄÊü•Ê∂àÈô§Á≠â‰ºòÂåñÔºå‰ª•‰æøËÆ©HIRËææÂà∞Êõ¥È´òÊïàÁöÑ‰ª£Á†ÅÁöÑË°®Á§∫ÂΩ¢Âºè„ÄÇ LIR-&gt;Êú∫Âô®‰ª£Á†ÅÔºöÂú®Âπ≥Âè∞Áõ∏ÂÖ≥ÁöÑÂêéÁ´Ø‰ΩøÁî®Á∫øÊÄßÊâ´ÊèèÁÆóÊ≥ïÂú®LIR‰∏äÂàÜÈÖçÂØÑÂ≠òÂô®ÔºåÂπ∂Âú®LIR‰∏äÂÅöÁ™•Â≠î‰ºòÂåñ„ÄÇ Server CompilerÂÆÉÊòØ‰∏ìÈó®Èù¢ÂêëÊúçÂä°Á´ØÁöÑÂÖ∏ÂûãÂ∫îÁî®Âπ∂‰∏∫ÊúçÂä°Âô®Á´ØÁöÑÊÄßËÉΩÈÖçÁΩÆÁâπÂà´Ë∞ÉÊï¥ËøáÁöÑÁºñËØëÂô®Ôºå‰πüÊòØ‰∏Ä‰∏™ÂÖÖÂàÜ‰ºòÂåñËøáÁöÑÈ´òÁ∫ßÁºñËØëÂô®„ÄÇÂÆÉ‰ºöÊâßË°åÊâÄÊúâÁªèÂÖ∏ÁöÑ‰ºòÂåñÂ∑•‰Ωú„ÄÇÂÆÉÁöÑÂØÑÂ≠òÂô®ÂàÜÈÖçÂô®ÊòØ‰∏Ä‰∏™ÂÖ®Â±ÄÂõæÁùÄËâ≤ÂàÜÈÖçÂô®ÔºåÂèØ‰ª•ÂÖÖÂàÜÂà©Áî®Êüê‰∫õÂ§ÑÁêÜÂô®Êû∂ÊûÑ‰∏äÁöÑÂ§ßÂØÑÂ≠òÂô®ÈõÜÂêà„ÄÇ Êü•ÁúãÂèäÂàÜÊûêÂç≥Êó∂ÁºñËØëÁªìÊûúËøô‰∏ÄÂùóÊàëÊ≤°ÊúâÂéªÂÆûË∑µÔºå‰ΩÜÊòØËøôÈáåÂÜô‰∏Ä‰∏™ÁªìËÆ∫ÔºöÂú®Java‰∏≠Á©∫Âæ™ÁéØ‰∏çËÉΩÁî®‰ΩúÁ®ãÂ∫èÂª∂Êó∂ÁöÑÊâãÊÆµÔºåÂõ†‰∏∫Á©∫Âæ™ÁéØ‰ºöË¢´‰ºòÂåñÊ∂àÈô§„ÄÇ ÁºñËØë‰ºòÂåñÊäÄÊúØJavaÁ®ãÂ∫èÂëòÊúâ‰∏Ä‰∏™ÂÖ±ËØÜÔºö‰ª•ÁºñËØëÊñπÂºèÊâßË°åÊú¨Âú∞‰ª£Á†ÅÊØîËß£ÈáäÊñπÂºèÊõ¥Âø´„ÄÇËøô‰∏ªË¶ÅÊòØÂõ†‰∏∫ËôöÊãüÊú∫ËÆæËÆ°Âõ¢ÈòüÂá†‰πéÊääÂØπ‰ª£Á†ÅÁöÑÊâÄÊúâ‰ºòÂåñÊé™ÊñΩÈÉΩÈõÜ‰∏≠Âú®ÁºñËØëÂô®‰πã‰∏≠‰∫Ü„ÄÇÂÖ≥‰∫éHotSpotÁöÑ‰ºòÂåñÊäÄÊúØÂàóË°®ÂèØ‰ª•ÂèÇËÄÉ„ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã‰∏Ä‰π¶ÔºåËøôÈáå‰πüÊ†πÊçÆ‰π¶‰∏ä‰∏æÁöÑÂá†‰∏™‰æãÂ≠êÊù•ÁúãÁúãÂÖ∂‰∏≠ÁöÑ‰ºòÂåñÊäÄÊúØ„ÄÇ ÂÖ¨ÂÖ±Â≠êË°®ËææÂºèÊ∂àÈô§Âê´‰πâÊòØÔºöÂ¶ÇÊûú‰∏Ä‰∏™Ë°®ËææÂºèEÂ∑≤ÁªèËÆ°ÁÆóËøá‰∫ÜÔºåÂπ∂‰∏î‰ªéÂÖàÂâçÁöÑËÆ°ÁÆóÂà∞Áé∞Âú®E‰∏≠ÊâÄÊúâÁöÑÂèòÈáèÁöÑÂÄºÈÉΩÊ≤°ÊúâÂèëÁîüÂèòÂåñÔºåÈÇ£‰πàEÁöÑËøôÊ¨°Âá∫Áé∞Â∞±Êàê‰∏∫‰∫ÜÂÖ¨ÂÖ±Â≠êË°®ËææÂºè„ÄÇÂØπ‰∫éËøôÁßçË°®ËææÂºèÔºåÊ≤°ÊúâÂøÖË¶ÅËä±Êó∂Èó¥ÂÜçÂØπÂÆÉËøõË°åËÆ°ÁÆóÔºåÂè™ÈúÄË¶ÅÁõ¥Êé•Áî®ÂâçÈù¢ËÆ°ÁÆóËøáÁöÑË°®ËææÂºèÁªìÊûú‰ª£ÊõøEÂç≥ÂèØ„ÄÇÂèØ‰ª•ÁúãÁúã‰∏ãÈù¢ÁöÑ‰ºòÂåñÂéÜÁ®ãÔºö12345678// Ê∫ê‰ª£Á†Åint d = (c * b) * 12 + a + (a + b * c);// ÁºñËØëÂô®Ê£ÄÊµãÂà∞‚Äúc * b‚ÄùÂíå‚Äúb * c‚ÄùÊòØ‰∏ÄÊ†∑ÁöÑË°®ËææÂºèÔºåËøôÊù°Ë°®ËææÂºèÂ∞±ÂèòÊàê‰∏ãÈù¢ËøôÊ†∑‰∫Üint d = E * 12 + a + (a + E);// ÁºñËØëÂô®ËøòÂèØËÉΩËøõË°å‰ª£Êï∞ÁÆÄÂåñÔºåÊääË°®ËææÂºèÂèò‰∏∫Ôºöint d = E * 13 + a * 2; Â§ßÂÆ∂ËÇØÂÆöËÉΩÂèëÁé∞ÔºåÊúÄÂêéÁöÑË°®ËææÂºèËÆ°ÁÆóËµ∑Êù•Â∞±ÂèØ‰ª•ËäÇÁúÅÊó∂Èó¥‰∫Ü„ÄÇ Êï∞ÁªÑËæπÁïåÊ£ÄÊü•Ê∂àÈô§Âê´‰πâÔºöËôöÊãüÊú∫ÊâßË°åÂ≠êÁ≥ªÁªüÊØèÊ¨°Êï∞ÁªÑÁöÑËØªÂÜôÈÉΩÂ∏¶Êúâ‰∏ÄÊ¨°ÈöêÂê´ÁöÑÊù°‰ª∂Âà§Êñ≠Êìç‰ΩúÔºåËøôÂØπ‰∫éÊã•ÊúâÂ§ßÈáè Êï∞ÁªÑËÆøÈóÆÁöÑÁ®ãÂ∫è‰ª£Á†ÅÔºåÊó†ÁñëÊòØ‰∏ÄÁßçÊÄßËÉΩË¥üÊãÖ„ÄÇËß£ÂÜ≥ÊÄùË∑ØÈô§‰∫ÜÂ∞ÜÊï∞ÁªÑËæπÁïåÊ£ÄÊü•‰ºòÂåñÂ∞ΩÂèØËÉΩÊääËøêË°åÊúüÊ£ÄÊü•ÊèêÂà∞ÁºñËØëÊúüÂÆåÊàê‰πãÂ§ñÔºåËøòÊúâÂè¶‰∏ÄÁßçÊÄùË∑Ø‚Äî‚ÄîÈöêÂºèÂºÇÂ∏∏Â§ÑÁêÜÔºàtry - catchÔºâ„ÄÇÂèØ‰ª•ÁúãÁúã‰ª£Á†ÅÔºö12345678910111213// Ê∫ê‰ª£Á†Åif (foo != null) &#123; return foo.value&#125; else &#123; throw new NullPointException();&#125;// ÁºñËØëÂô®ËΩ¨Êç¢‰ª£Á†Åtry &#123; return foo.value;&#125; catch(segment_fault) &#123; uncommon_trap();&#125; ËøôÊ†∑ÂèØ‰ª•ÈÅøÂÖçÊØèÊ¨°ÂéªÂÅöÈùûÁ©∫Ê£ÄÊü•„ÄÇ ÊñπÊ≥ïÂÜÖËÅîÂÆÉÈô§‰∫ÜÊ∂àÈô§ÊñπÊ≥ïË∞ÉÁî®ÊàêÊú¨‰πãÂ§ñÔºåÂÆÉÊõ¥ÈáçË¶ÅÁöÑÊòØ‰ΩçÂÖ∂‰ªñ‰ºòÂåñÊâãÊÆµÂª∫Á´ãËâØÂ•ΩÁöÑÂü∫Á°ÄÔºåÂ¶ÇÊûú‰∏çÂÅöÂÜÖËÅîÔºåÂ∞±ÂèëÁé∞‰∏ç‰∫ÜÊó†Áî®‰ª£Á†Å„ÄÇ„ÄÇÂÜÖËÅîÂÖ∑Êúâ‰∏§ÁßçÊÉÖÂÜµÔºö ÂØπ‰∫éÈùûËôöÊñπÊ≥ïÔºöÁõ¥Êé•ÂÜÖËÅî ÂØπ‰∫éËôöÊñπÊ≥ïÔºö‰ºö‰ΩøÁî®‚ÄúÁ±ªÂûãÁªßÊâøÂÖ≥Á≥ªÂàÜÊûê‚ÄùÔºàCHAÔºâÊäÄÊúØÔºåËôöÊãüÊú∫Â¶ÇÊûúÈÅáÂà∞ËôöÊñπÊ≥ïÂ∞±‰ºöÂêëCHAÊü•ËØ¢Ê≠§ÊñπÊ≥ïÂú®ÂΩìÂâçÁ®ãÂ∫è‰∏ãÊòØÂê¶ÊúâÂ§ö‰∏™ÁõÆÊ†áÁâàÊú¨ÂèØ‰æõÈÄâÊã©ÔºåÂ¶ÇÊûúÊü•ËØ¢ÁªìÊûúÂè™Êúâ‰∏Ä‰∏™ÁâàÊú¨ÔºåÂ∞±ÂèØ‰ª•ËøõË°åÂÜÖËÅîÔºå‰∏çËøáËøôÁßçÂÜÖËÅîÂ±û‰∫éÊøÄËøõ‰ºòÂåñÔºåÈúÄË¶Å‰ΩôÁïô‰∏Ä‰∏™‚ÄúÈÄÉÁîüÈó®‚ÄùÔºåÁß∞‰∏∫ÂÆàÊä§ÂÜÖËÅîÔºõÂ¶ÇÊûúÊü•Âá∫ÊúâÂ§ö‰∏™ÁâàÊú¨ÁöÑÁõÆÊ†áÊñπÊ≥ïÂèØ‰æõÈÄâÊã©ÔºåÂàôÁºñËØëÂô®Ëøò‰ºö‰ΩøÁî®ÂÜÖËÅîÁºìÂ≠òÊù•ÂÆåÊàêÊñπÊ≥ïÂÜÖËÅî„ÄÇ ÈÄÉÈÄ∏ÂàÜÊûêÂÆÉ‰πüÊòØ‰∏∫ÂÖ∂‰ªñ‰ºòÂåñÊâãÊÆµÊèê‰æõ‰æùÊçÆÁöÑÊäÄÊúØÔºåÂÆÉÁöÑÂü∫Êú¨Ë°å‰∏∫Â∞±ÊòØÂàÜÊûêÂØπË±°Âä®ÊÄÅ‰ΩúÁî®ÂüüÔºöÂΩì‰∏Ä‰∏™ÂØπË±°Âú®ÊñπÊ≥ï‰∏≠Ë¢´ÂÆö‰πâÂêéÔºåÂÆÉÂèØËÉΩË¢´Â§ñÈÉ®ÊñπÊ≥ïÊâÄÂºïÁî®Ôºå‰æãÂ¶Ç‰Ωú‰∏∫Ë∞ÉÁî®ÂèÇÊï∞‰º†ÈÄíÂà∞ÂÖ∂‰ªñÊñπÊ≥ï‰∏≠ÔºåÁß∞‰∏∫ÊñπÊ≥ïÈÄÉÈÄ∏„ÄÇÁîöËá≥ËøòÊúâÂèØËÉΩË¢´Â§ñÈÉ®Á∫øÁ®ãËÆøÈóÆÂà∞Ôºå‰æãÂ¶ÇÂ§çÂà∂ÁªôÁ±ªÂèòÈáèÊàñÂèØ‰ª•Âú®ÂÖ∂‰ªñÁ∫øÁ®ã‰∏≠ËÆøÈóÆÁöÑÂÆû‰æãÂèòÈáèÔºåÁß∞‰∏∫Á∫øÁ®ãÈÄÉÈÄ∏„ÄÇ Â¶ÇÊûúËÉΩËØÅÊòé‰∏Ä‰∏™ÂØπË±°‰∏ç‰ºöÈÄÉÈÄ∏Âà∞ÊñπÊ≥ïÊàñËÄÖÁ∫øÁ®ã‰πãÂ§ñÔºåÂàôÂèØËÉΩ‰∏∫Ëøô‰∏™ÂèòÈáèËøõË°å‰∏Ä‰∫õÈ´òÊïàÁöÑ‰ºòÂåñÔºö Ê†à‰∏äÂàÜÈÖçÔºöËÆ©ÂØπË±°Áõ¥Êé•Âú®Ê†à‰∏äÂàÜÈÖçÂÜÖÂ≠òÔºåËøôÊ†∑Â§ßÈáèÂØπË±°Â∞±‰ºöÈöèÁùÄÊñπÊ≥ïÁöÑÁªìÊùüËÄåËá™Âä®ÈîÄÊØÅ‰∫ÜÔºåÂûÉÂúæÊî∂ÈõÜÁ≥ªÁªüÁöÑÂéãÂäõÂ∞Ü‰ºöÂ∞èÂæàÂ§ö„ÄÇ ÂêåÊ≠•Ê∂àÈô§ÔºöÂØπÂèòÈáèÂÆûÊñΩÁöÑÂêåÊ≠•Êé™ÊñΩÂèØ‰ª•Ê∂àÈô§Êéâ Ê†áÈáèÊõøÊç¢Ôºö‰∏çËÉΩÂÜçÂàÜËß£ÁöÑÈáèÁß∞‰∏∫Ê†áÈáèÔºàÂ¶ÇÔºöÊï∞ÂÄºÁ±ªÂûãÔºâÔºåÂèØ‰ª•ÁªßÁª≠ÂàÜËß£ÁöÑÁß∞‰∏∫ËÅöÂêàÈáèÔºàÂ¶ÇÔºöÂØπË±°ÔºâÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Â∞ÜÂØπË±°ÊãÜÂàÜÊàêÊ†áÈáèÂ≠òÂú®Ê†à‰∏ä„ÄÇ ÊÄªÁªìÈÄöËøáÂØπ‰∫éJITÁºñËØëÁöÑÂ≠¶‰π†ÔºåÊàë‰πàÂèØ‰ª•Áü•ÈÅìÂì™‰∫õ‰ª£Á†ÅÁºñËØëÂô®ÊòØÂèØ‰ª•Â∏ÆÊàë‰ª¨‰ºòÂåñÁöÑÔºå‰ª•ÂèäÂì™‰∫õ‰ª£Á†ÅÊòØÈúÄË¶ÅËá™Â∑±Ë∞ÉËäÇ‰ª•‰æøÊõ¥ÂêàÈÄÇÁºñËØëÂô®ÁöÑ‰ºòÂåñ„ÄÇËøôÊ†∑Êàë‰ª¨ÊâçÂèØ‰ª•ÂÜôÂá∫Êõ¥È´òÊïàÁöÑ‰ª£Á†Å„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_11_Êó©ÊúüÔºàÁºñËØëÊúüÔºâ‰ºòÂåñ]]></title>
    <url>%2F2017%2F12%2F10%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-11-%E6%97%A9%E6%9C%9F%EF%BC%88%E7%BC%96%E8%AF%91%E6%9C%9F%EF%BC%89%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰πãÂâçÁÆÄÂçïÁöÑÊèêÂà∞ËøájavaÁ®ãÂ∫èÁöÑ‰ΩøÁî®È¶ñÂÖàË¶ÅÁªèËøáÁºñËØëÔºåÁÑ∂ÂêéÂÜç‚ÄúËß£Èáä‚ÄùÊâßË°åÔºåËøôÈáåÊàë‰ª¨Â∞±ÂÖàÁúãÁúãÂÆÉÂú®ÁºñËØëÊúüÁöÑËøáÁ®ã„ÄÇ ÁºñËØëÊ¶ÇËø∞javaÁöÑÁºñËØëÊúüÂÖ∂ÂÆûÊòØ‰∏ÄÊÆµ‚Äú‰∏çÁ°ÆÂÆö‚ÄùÁöÑÊìç‰ΩúËøáÁ®ãÔºåÂÆÉÊúâ‰∏Ä‰∏ãÂá†ÁßçÂΩ¢ÂºèÔºö ÂâçÁ´ØÁºñËØëÂô®ÔºöÊää.javaÊñá‰ª∂ËΩ¨Âèò‰∏∫.classÊñá‰ª∂ÁöÑËøáÁ®ãÔºåÂ¶ÇÔºöSunÁöÑjavac„ÄÅEclipse JDT‰∏≠ÁöÑÂ¢ûÈáèÂºèÁºñËØëÂô®„ÄÇ ËôöÊãüÊú∫ÁöÑÂêéÁ´ØËøêË°åÊúüÁºñËØëÂô®ÔºàJITÁºñËØëÂô®ÔºâÔºöÊääÂ≠óËäÇÁ†ÅËΩ¨ÂèòÊàêÊú∫Âô®Á†ÅÁöÑËøáÁ®ãÔºåÂ¶ÇHotSpotVMÁöÑC1„ÄÅC2ÁºñËØëÂô®„ÄÇ ÈùôÊÄÅÊèêÂâçÁºñËØëÂô®ÔºàAOTÁºñËØëÂô®ÔºâÔºöÁõ¥Êé•Êää*.javaÊñáÊú¨ÁºñËØë‰∏∫Êú¨Âú∞Êú∫Âô®‰ª£Á†ÅÁöÑËøáÁ®ãÔºöGNU Compiler for the Java„ÄÅExcelsior JET„ÄÇ Êàë‰ª¨Âπ≥Êó∂ÊâÄËØ¥ÁöÑÁºñËØëÂü∫Êú¨‰∏äÈÉΩÊòØÊåáÁ¨¨‰∏ÄÁ±ªÔºåÂâçÁ´ØÁºñËØëÂô®„ÄÇÊÄªÁöÑÊù•ËØ¥ÔºåJava‰∏≠ÁöÑJITÂç≥Êó∂ÁºñËØëÂô®Âú®ËøêË°åÊúüÁöÑ‰ºòÂåñÂØπ‰∫éÁ®ãÂ∫èËøêË°åÊù•ËØ¥Êõ¥ÈáçË¶ÅÔºåËÄåÂâçÁ´ØÁºñËØëÂô®Âú®ÁºñËØëÂô®ÁöÑ‰ºòÂåñËøáÁ®ãÂØπ‰∫éÁ®ãÂ∫èÁºñÁ†ÅÊù•ËØ¥ÂÖ≥Á≥ªÊõ¥ÂØÜÂàáÔºåÁõ∏ÂΩìÂ§öÊñ∞ÁîüÁöÑJavaËØ≠Ê≥ïÁâπÊÄßÔºåÈÉΩÊòØÈù†ÁºñËØëÂô®ÁöÑ‚ÄúËØ≠Ê≥ïÁ≥ñ‚ÄùÊù•ÂÆûÁé∞ÁöÑ„ÄÇ JavacÁºñËØëÂô®ÁºñËØëËøáÁ®ãÂ§ßËá¥ÂàÜ‰∏∫3‰∏™ËøáÁ®ãÔºö Ëß£Êûê‰∏éÂ°´ÂÖÖÁ¨¶Âè∑Ë°®ËøáÁ®ã ÊèíÂÖ•ÂºèÊ≥®Ëß£Â§ÑÁêÜÂô®ÁöÑÊ≥®Ëß£Â§ÑÁêÜËøáÁ®ã ÂàÜÊûê‰∏éÂ≠óËäÇÁ†ÅÁîüÊàêËøáÁ®ã Ëøô3‰∏™ËøáÁ®ã‰πãÈó¥ÁöÑÂÖ≥Á≥ª‰∏é‰∫§‰∫íÈ°∫Â∫èÂ¶Ç‰∏ãÂõæÔºö Ëß£Êûê‰∏éÂ°´ÂÖÖÁ¨¶Âè∑Ë°®ËøáÁ®ãÂÖ∂‰∏≠Ëß£ÊûêÊ≠•È™§ÂåÖÊã¨‰∫ÜÁªèÂÖ∏Á®ãÂ∫èÁºñËØëÂéüÁêÜÊâæÈÇ£‰∏™ÁöÑËØçÊ≥ïÂàÜÊûêÂíåËØ≠Ê≥ïÂàÜÊûê‰∏§‰∏™ËøáÁ®ã„ÄÇ ËØçÊ≥ï„ÄÅËØ≠Ê≥ïÂàÜÊûê ËØçÊ≥ïÂàÜÊûêÔºöÂ∞ÜÊ∫ê‰ª£Á†ÅÁöÑÂ≠óÁ¨¶ÊµÅËΩ¨Âèò‰∏∫Ê†áËÆ∞ÔºàTokenÔºâÈõÜÂêàÔºåÂçï‰∏™Â≠óÁ¨¶ÊòØÁ®ãÂ∫èÁºñÂÜôËøáÁ®ãÁöÑÊúÄÂ∞èÂÖÉÁ¥†ÔºåËÄåÊ†áËÆ∞ÊòØÁºñËØëËøáÁ®ãÁöÑÊúÄÂ∞èÂÖÉÁ¥†ÔºåÂÖ≥ÈîÆÂ≠ó„ÄÅÂèòÈáèÂêç„ÄÅÂ≠óÈù¢Èáè„ÄÅËøêÁÆóÁ¨¶ÈÉΩÂèØ‰ª•Êàê‰∏∫Ê†áËÆ∞„ÄÇ ËØ≠Ê≥ïÂàÜÊûêÔºöÊ†πÊçÆTokenÂ∫èÂàóÊûÑÈÄ†ÊäΩË±°ËØ≠Ê≥ïÊ†ëÔºåÊäΩË±°ËØ≠Ê≥ïÊ†ëÊòØ‰∏ÄÁßçÁî®Êù•ÊèèËø∞Á®ãÂ∫è‰ª£Á†ÅËØ≠Ê≥ïÁªìÊûÑÁöÑÊ†ëÂΩ¢Ë°®Á§∫ÊñπÂºèÔºåËØ≠Ê≥ïÊ†ëÁöÑÊØè‰∏Ä‰∏™ËäÇÁÇπÈÉΩ‰ª£Ë°®ÁùÄÁ®ãÂ∫è‰ª£Á†Å‰∏≠ÁöÑ‰∏Ä‰∏™ËØ≠Ê≥ïÁªìÊûÑÔºå‰æãÂ¶ÇÂåÖ„ÄÅÁ±ªÂûã„ÄÅ‰øÆÈ•∞Á¨¶„ÄÅËøêÁÆóÁ¨¶„ÄÅËøêÁÆóÁ¨¶„ÄÅÊé•Âè£„ÄÅËøîÂõûÂÄºÁîöËá≥‰ª£Á†ÅÊ≥®ÈáäÈÉΩÂèØ‰ª•ÊòØ‰∏Ä‰∏™ËØ≠Ê≥ïÁªìÊûÑ„ÄÇÂ¶Ç‰∏ãÂõæÔºö ÁªèËøá‰∏äÈù¢‰∏§‰∏™Ê≠•È™§ÁºñËØëÂô®Â∞±Âü∫Êú¨‰∏ç‰ºöÂÜçÂØπÊ∫êÊñá‰ª∂ËøõË°åÊìç‰Ωú‰∫Ü„ÄÇ Â°´ÂÖÖÁ¨¶Âè∑Ë°® Á¨¶Âè∑Ë°®ÊòØÁî±‰∏ÄÁªÑÁ¨¶Âè∑Âú∞ÂùÄÂíåÁ¨¶Âè∑‰ø°ÊÅØÊûÑÊàêÁöÑË°®Ê†ºÔºåÁ±ª‰ººk-vÂΩ¢Âºè„ÄÇÁ¨¶Âè∑Ë°®‰∏≠ÁôªËÆ∞ÁöÑ‰ø°ÊÅØÂú®ÁºñËØëÁöÑ‰∏çÂêåÈò∂ÊÆµÈÉΩË¶ÅÁî®Âà∞„ÄÇÂú®ËØ≠‰πâÂàÜÊûê‰∏≠ÔºåÁ¨¶Âè∑Ë°®ÊâÄÁôªËÆ∞ÁöÑÂÜÖÂÆπÂ∞ÜÁî®‰∫éËØ≠‰πâÊ£ÄÊü•Âíå‰∫ßÁîü‰∏≠Èó¥‰ª£Á†Å„ÄÇÂú®ÁõÆÊ†á‰ª£Á†ÅÁîüÊàêÈò∂ÊÆµÔºåÂΩìÂØπÁ¨¶Âè∑ÂêçËøõË°åÂú∞ÂùÄÂàÜÈÖçÊó∂ÔºåÁ¨¶Âè∑Ë°®ÊòØÂú∞ÂùÄÂàÜÈÖçÁöÑ‰æùÊçÆ„ÄÇ Âú®JavaÊ∫ê‰ª£Á†Å‰∏≠ÔºåÂ°´Á©∫Á¨¶Âè∑Ë°®ËøáÁ®ãÁöÑÂá∫Âè£ÊòØ‰∏Ä‰∏™ÂæÖÂ§ÑÁêÜÂàóË°®ÔºåÂåÖÂê´‰∫ÜÊØè‰∏Ä‰∏™ÁºñËØëÂçïÂÖÉÁöÑÊäΩË±°ËØ≠Ê≥ïÊï∞ÁöÑÈ°∂Á∫ßËäÇÁÇπÔºå‰ª•Âèäpackage-info.javaÔºàÂ¶ÇÊûúÂ≠òÂú®ÔºâÁöÑÈ°∂Á∫ßËäÇÁÇπ„ÄÇ Ê≥®Ëß£Â§ÑÁêÜÂô®JDK1.6‰πã‰∏≠Êèê‰æõ‰∫Ü‰∏ÄÁªÑÊèíÂÖ•ÂºèÊ≥®Ëß£Â§ÑÁêÜÂô®ÁöÑÊ†áÂáÜAPIÂú®ÁºñËØëÊúüÈó¥ÂØπÊ≥®Ëß£ËøõË°åÂ§ÑÁêÜÔºåÂèØ‰ª•ÊääÂÆÉÁúãÂÅöÊòØ‰∏ÄÁªÑÁºñËØëÂô®Êèí‰ª∂ÔºåÂú®Ëøô‰∫õÊèí‰ª∂‰∏≠ÔºåÂèØ‰ª•ËØªÂèñ„ÄÅ‰øÆÊîπ„ÄÅÊ∑ªÂä†ÊäΩË±°ËØ≠Ê≥ïÊ†ë‰∏≠ÁöÑ‰ªªÊÑèÂÖÉÁ¥†„ÄÇËã•Ëøô‰∫õÊèí‰ª∂Âú®Â§ÑÁêÜÊ≥®Ëß£ÊúüÈó¥ÂØπËØ≠Ê≥ïÊ†ëËøõË°å‰∫Ü‰øÆÊîπÔºåÁºñËØëÂô®Â∞ÜÂõûÂà∞Ëß£ÊûêÂèäÂ°´ÂÖÖÁ¨¶Âè∑Ë°®ÁöÑËøáÁ®ãÈáçÊñ∞Â§ÑÁêÜÔºåÁõ¥Âà∞ÊâÄÊúâÊèíÂÖ•ÂºèÊ≥®Ëß£Â§ÑÁêÜÂô®ÈÉΩÊ≤°ÊúâÂÜçÂØπËØ≠Ê≥ïÊ†ëËøõË°å‰øÆÊîπ‰∏∫Ê≠¢ÔºåÊØè‰∏ÄÊ¨°Âæ™ÁéØÁß∞‰∏∫‰∏Ä‰∏™Round„ÄÇÂ¶ÇÁºñËØëËøáÁ®ãÂõæÁöÑÂõûÁéØËøáÁ®ã„ÄÇ ËØ≠‰πâÂàÜÊûê‰∏éÂ≠óËäÇÁ†ÅÁîüÊàêËØ≠Ê≥ïÂàÜÊûê‰πãÂêéÔºåÁºñËØëÂô®Ëé∑ÂæóÁ®ãÂ∫è‰ª£Á†ÅÁöÑÊäΩË±°ËØ≠Ê≥ïÊ†ëË°®Á§∫ÔºåËØ≠Ê≥ïÊ†ëËÉΩË°®Á§∫‰∏Ä‰∏™ÁªìÊûÑÊ≠£Á°ÆÁöÑÊ∫êÁ®ãÂ∫èÁöÑÊäΩË±°Ôºå‰ΩÜÊó†Ê≥ï‰øùËØÅÊ∫êÁ®ãÂ∫èÊòØÁ¨¶ÂêàÈÄªËæëÁöÑÔºåËÄåËØ≠‰πâÂàÜÊûêÁöÑ‰∏ªË¶Å‰ªªÂä°ÊòØÂØπÁªìÊûÑ‰∏äÊ≠£Á°ÆÂú∞Ê∫êÁ®ãÂ∫èËøõË°å‰∏ä‰∏ãÊñáÊúâÂÖ≥ÊÄßË¥®ÁöÑÂÆ°Êü•ÔºåÂ¶ÇÁ±ªÂûãÂÆ°Êü•„ÄÇËØ≠‰πâÂàÜÊûêËøáÁ®ãÂàÜ‰∏∫Ê†áÊ≥®Ê£ÄÊü•‰ª•ÂèäÊï∞ÊçÆÂèäÊéßÂà∂ÊµÅÂàÜÊûê‰∏§‰∏™Ê≠•È™§„ÄÇ Ê†áÊ≥®Ê£ÄÊü•Ê†áÊ≥®Ê£ÄÊü•Ê≠•È™§Ê£ÄÊü•ÁöÑÂÜÖÂÆπÂåÖÊã¨ËØ∏Â¶ÇÂèòÈáè‰ΩøÁî®ÂâçÊòØÂê¶Â∑≤Ë¢´Â£∞ÊòéÔºåÂèòÈáè‰∏éËµãÂÄº‰πãÂâçÁöÑÊï∞ÊçÆÁ±ªÂûãËÉΩÂê¶ÂåπÈÖçÔºåËøòÊúâ‰∏Ä‰∏™ÈáçË¶ÅÁöÑÂä®‰ΩúÊòØÂ∏∏ÈáèÊäòÂè†ÔºåÂ¶ÇÊûúÊàë‰ª¨Âú®‰ª£Á†ÅÂÜô‰∫ÜÂ¶Ç‰∏ãÂÆö‰πâÔºö1int a = 1 + 2; Âú®ÁªèËøáÂèòÈáèÊäòÂè†‰πãÂêéÔºå1 + 2‰ºöË¢´ÊäòÂè†‰∏∫Â≠óÈù¢Èáè3„ÄÇÊâÄ‰ª•Âú®‰ª£Á†ÅÈáåÂÆö‰πâint a = 1 + 2ÊØîËµ∑Áõ¥Êé•ÂÆö‰πâint a = 3Âπ∂‰∏ç‰ºöÂ¢ûÂä†Á®ãÂ∫èËøêË°åÊúüÁöÑËøêÁÆóÈáè„ÄÇ Êï∞ÊçÆÂèäÊéßÂà∂ÊµÅÂàÜÊûêÊï∞ÊçÆÂèäÊéßÂà∂ÊµÅÂàÜÊûêÊòØÂØπÁ®ãÂ∫è‰∏ä‰∏ãÊñáÈÄªËæëÊõ¥Ëøõ‰∏ÄÊ≠•ÁöÑÈ™åËØÅÔºåÂÆÉÂèØ‰ª•Ê£ÄÊü•Âá∫ËØ∏Â¶ÇÁ®ãÂ∫èÂ±ÄÈÉ®ÂèòÈáèÂú®‰ΩøÁî®ÂâçÊòØÂê¶ÊúâËµãÂÄº„ÄÅÊñπÊ≥ïÁöÑÊØèÊù°Ë∑ØÂæÑÊòØÂê¶ÈÉΩÊúâËøîÂõûÂÄº„ÄÅÊòØÂê¶ÊâÄÊúâÁöÑÂèóÊ£ÄÂºÇÂ∏∏ÈÉΩË¢´Ê≠£Á°ÆÂ§ÑÁêÜ‰∫ÜÁ≠âÈóÆÈ¢òÔºåÁºñËØëÊúüÁöÑÊï∞ÊçÆÂèäÊéßÂà∂ÊµÅÂàÜÊûê‰∏éÁ±ªÂä†ËΩΩÊó∂ÁöÑÊï∞ÊçÆÂèäÊéßÂà∂ÊµÅÂàÜÊûêÁöÑÁõÆÁöÑÂü∫Êú¨‰∏äÊòØ‰∏ÄËá¥ÁöÑÔºå‰ΩÜÊ†°È™åËåÉÂõ¥ÊúâÊâÄÂå∫Âà´ÔºåÊúâ‰∏Ä‰∫õÊ†°È™åÈ°πÂè™ÊúâÂú®ÁºñËØëÊúüÊàñËÄÖËøêË°åÊúüÊâçËÉΩËøõË°åÔºåÂ¶ÇÊñπÊ≥ïÁöÑÂèÇÊï∞‰ª•ÂèäÂ±ÄÈÉ®ÂèòÈáèÁöÑÊ£ÄÊü•Â∞±Âè™‰ºöÂú®ÁºñËØëÂô®Ê£ÄÊü•„ÄÇ Ëß£ËØ≠Ê≥ïÁ≥ñ ËØ≠Ê≥ïÁ≥ñÔºöÊåáÂú®ËÆ°ÁÆóÊú∫ËØ≠Ë®Ä‰∏≠Ê∑ªÂä†ÁöÑÊüêÁßçËØ≠Ê≥ïÔºåËøôÁßçËØ≠Ê≥ïÂØπËØ≠Ë®ÄÁöÑÂäüËÉΩÂπ∂Ê≤°ÊúâÂΩ±ÂìçÔºåÂΩìÊó∂Êõ¥Êñπ‰æø‰ΩøÁî®ÔºåJavaÊúÄÂ∏∏Áî®ÁöÑËØ≠Ê≥ïÁ≥ñ‰∏ªË¶ÅÊúâÊ≥õÂûã„ÄÅÂèòÈïøÂèÇÊï∞„ÄÅËá™Âä®Ë£ÖÁÆ±„ÄÅÊãÜÁÆ±Á≠â Ëß£ËØ≠Ê≥ïÁ≥ñÔºöËôöÊãüÊú∫ËøêË°åÊó∂‰∏çÊîØÊåÅËøô‰∫õËØ≠Ê≥ïÔºå‰ªñ‰ª¨‰ºöÂú®ÁºñËØëÈò∂ÊÆµËøòÂéüÂõûÁÆÄÂçïÁöÑÂü∫Á°ÄËØ≠Ê≥ïÁªìÊûÑ„ÄÇ Â≠óËäÇÁ†ÅÁîüÊàêÂ≠óËäÇÁ†ÅÁîüÊàêÊòØJavacÁºñËØëËøáÁ®ãÁöÑÊúÄÂêé‰∏Ä‰∏™Èò∂ÊÆµÔºåÊ≠§Èò∂ÊÆµÁºñËØëÂô®ËøòËøõË°å‰∫ÜÂ∞ëÈáèÁöÑ‰ª£Á†ÅÊ∑ªÂä†ÂíåËΩ¨Êç¢Â∑•‰Ωú„ÄÇÂÆû‰æãÊûÑÈÄ†Âô®()Ôºà‰∏çÊòØÈªòËÆ§ÊûÑÈÄ†ÂáΩÊï∞ÔºâÂíåÁ±ªÊûÑÈÄ†Âô®()Â∞±ÊòØÂú®Ëøô‰∏™Èò∂ÊÆµÊ∑ªÂä†Âà∞ËØ≠Ê≥ïÊ†ë‰∏≠ÁöÑ„ÄÇÂÆåÊàê‰∫ÜÂØπËØ≠Ê≥ïÊ†ëÁöÑÈÅçÂéÜÂíåË∞ÉÊï¥‰πãÂêéÔºåÁîüÊàêÊúÄÁªàÁöÑClassÊñá‰ª∂„ÄÇ JavaËØ≠Ê≥ïÁ≥ñÁöÑÂë≥ÈÅìÊ≥õÂûã‰∏éÁ±ªÂûãÊì¶Èô§ Êú¨Ë¥®ÔºöÂèÇÊï∞ÂåñÁ±ªÂûãÁöÑÂ∫îÁî®ÔºåÂ∞±ÊòØÊâÄÊìç‰ΩúÁöÑÊï∞ÊçÆÁ±ªÂûãË¢´ÊåáÂÆö‰∏∫‰∏Ä‰∏™ÂèÇÊï∞ÔºåËøôÁßçÂèÇÊï∞Á±ªÂûãÂèØ‰ª•Áî®Âú®Á±ª„ÄÅÊé•Âè£ÂíåÊñπÊ≥ï‰∏äÔºåÂàÜÂà´Áß∞‰∏∫Ê≥õÂûãÁ±ª„ÄÅÊ≥õÂûãÊé•Âè£ÂíåÊ≥õÂûãÊñπÊ≥ï„ÄÇ ÊèêÂá∫ÂéüÂõ†ÔºöÂÖàÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†Å 12Object object = new Object();String str = (String)object; Áî±‰∫éÁºñËØëÂô®Êó†Ê≥ïÊ£ÄÊü•Ëøô‰∏™ObjectÂº∫Âà∂ËΩ¨Êç¢ËÉΩÂê¶ÊàêÂäüÔºå‰∏∫‰∫ÜÈò≤Ê≠¢‰øùÈöúÂº∫Âà∂Á±ªÂûãÁöÑËΩ¨Êç¢ÊàêÂäüÔºåÈÅøÂÖçClassCaseExceptionÁöÑÈ£éÈô©ËΩ¨Â´ÅÂà∞Á®ãÂ∫èËøêË°åÊúü‰πã‰∏≠ÔºåÊâÄ‰ª•ÊèêÂá∫‰∫ÜÊ≥õÂûã„ÄÇ ÁúüÂÆûÊ≥õÂûãÔºöÂèÇÊï∞ÂåñÁ±ªÂûãÊó†ËÆ∫Âú®Ê∫êÁ†Å‰∏≠ËøòÊòØÁºñËØëÂêéÁöÑ‰∏≠Èó¥ËØ≠Ë®ÄÈÉΩÊòØÂ≠òÂú®ÁöÑ„ÄÇ ‰º™Ê≥õÂûãÔºöÂèÇÊï∞ÂåñÁ±ªÂûãÂè™Âú®Ê∫êÁ†Å‰∏≠Â≠òÂú®ÔºåËÄåÂú®‰∏≠Èó¥ËØ≠Ë®Ä‰∏çÂ≠òÂú®„ÄÇÂèØ‰ª•ÁúãÂà∞‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºö 123456789101112// Ê≥õÂûãÊì¶Èô§ÁöÑ‰æãÂ≠êpublic class GenericTest &#123;public static void main(String[] args) &#123; Map&lt;String, String&gt; map = new HashMap&lt;&gt;(); map.put("hello", "ÊÇ®Â•Ω"); map.put("how are you?", "ÊúÄËøëÊÄé‰πàÊ†∑Ôºü"); System.out.println(map.get("hello")); System.out.println(map.get("how are you?")); &#125;&#125; Âà©Áî®Beyond CompareÂèçÁºñËØëÂèØ‰ª•ÂæóÂà∞‰∏ãÈù¢ÁöÑ‰ª£Á†Å: 123456789101112// ÂèçÁºñËØëÂêéÁöÑ‰ª£Á†Åpublic class GenericTest &#123;public static void main(String[] args) &#123; Map map = new HashMap&lt;&gt;(); map.put("hello", "ÊÇ®Â•Ω"); map.put("how are you?", "ÊúÄËøëÊÄé‰πàÊ†∑Ôºü"); System.out.println(map.get("hello")); System.out.println(map.get("how are you?")); &#125;&#125; Êúâ‰∫∫ÂèØËÉΩÂÉèÊàë‰∏ÄÊ†∑ÔºåÁî®jdÂèçÁºñËØëÔºåÂèëÁé∞Ê≥õÂûãÊ≤°ÊúâË¢´Êì¶Èô§ÔºåÊàë‰∏ÄÂºÄÂßãÂæàÊÉäËÆ∂ÔºåÂêéÊù•Êâæ‰∫ÜÂèÇËÄÉÔºåÂ§ßÂÆ∂ÂèØ‰ª•‰ªéÂèÇËÄÉÈÉ®ÂàÜÁúãÂà∞ËØ•Áé∞Ë±°ÁöÑËß£ÈáäÔºåËøôÈáåÈúÄË¶ÅËØ¥Êòé‰∏ÄÁÇπÔºåÂ∞±ÊòØÁî±‰∫éJavaÊ≥õÂûãÁöÑÂºïÂÖ•ÔºåÂêÑÁßçÂú∫ÊôØÔºàËôöÊãüÊú∫Ëß£Êûê„ÄÅÂèçÂ∞ÑÁ≠âÔºâ‰∏ãÁöÑÊñπÊ≥ïË∞ÉÁî®ÈÉΩÂèØËÉΩÂØπÂéüÊúâÁöÑÂü∫Á°Ä‰∫ßÁîüÂΩ±ÂìçÂíåÊñ∞ÁöÑÈúÄÊ±ÇÔºåÊâÄ‰ª•JCPÔºàJava Community ProcessÔºâÁªÑÁªáÂØπËôöÊãüÊú∫ËßÑËåÉÂÅöÂá∫‰∫ÜÁõ∏Â∫îÁöÑ‰øÆÊîπÔºåÂºïÂÖ•‰∫ÜËØ∏Â¶ÇSignature„ÄÅLocalVariabelTypeTableÁ≠âÊñ∞ÁöÑÂ±ûÊÄßÁî®‰∫éËß£ÂÜ≥‰º¥ÈöèÊ≥õÂûãËÄåÊù•ÁöÑÂèÇÊï∞Á±ªÂûãËØÜÂà´ÈóÆÈ¢òÔºå‰ªéSignatureÂ±ûÊÄßÁöÑÂá∫Áé∞Êàë‰ª¨ËøòÂèØ‰ª•ÂæóÂá∫ÁªìËÆ∫ÔºöÊì¶Èô§Ê≥õÂûãÊâÄË∞ìÁöÑÊì¶Èô§Ôºå‰ªÖ‰ªÖÊòØÂØπÊñπÊ≥ïÁöÑCodeÂ±ûÊÄß‰∏≠ÁöÑÂ≠óËäÇÁ†ÅËøõË°åÂà†Èô§ÔºåÂÆûÈôÖ‰∏äÂÖÉÊï∞ÊçÆ‰∏≠ËøòÊòØ‰øùÁïô‰∫ÜÊ≥õÂûã‰ø°ÊÅØ„ÄÇ Ëá™Âä®Ë£ÖÁÆ±„ÄÅÊãÜÁÆ±‰∏éÈÅçÂéÜÂæ™ÁéØÊàë‰ª¨ÂèØ‰ª•ÁúãÁúãËøô‰∫õËØ≠Ê≥ïÁ≥ñÔºåÁºñËØëÁöÑËøáÁ®ã‰∏≠ÂÅö‰∫Ü‰ªÄ‰πàÂ§ÑÁêÜÔºö12345678910111213// Ê∫ê‰ª£Á†Åpublic class BoxProcessTest &#123; public static void main(String[] args) &#123; List&lt;Integer&gt; list = Arrays.asList(1,2,3,4); int sum = 0; for (int i : list) &#123; sum += i; &#125; System.out.println(sum); &#125;&#125; 12345678910111213141516// ÂèçÁºñËØëÂêéÁöÑ‰ª£Á†Åpublic class BoxProcessTest&#123; public static void main(String[] args) &#123; List list = Arrays.asList(new Integer[] &#123; Integer.valueOf(1), Integer.valueOf(2), Integer.valueOf(3), Integer.valueOf(4) &#125;); int sum = 0; for (Iterator localIterator = list.iterator(); localIterator.hasNext();) &#123; int i = ((Integer)localIterator.next()).intValue(); sum += i; &#125; System.out.println(sum); &#125;&#125; Êàë‰ª¨Ê∏ÖÊ•öÁöÑÁúãÂà∞ÂÖ∂ÂÆûËØ≠Ê≥ïÁ≥ñÁöÑÊúÄÂêéËøòÊòØÁî®ÊúÄÂü∫Êú¨ÁöÑËØ≠Ê≥ïÂÆûÁé∞ÁöÑÔºåÂè™ÊòØÊõ¥Âà©‰∫éÊàë‰ª¨ÂÜô‰ª£Á†Å‰∫Ü„ÄÇ ÂÜçÊù•ÁúãÁúãËá™Âä®Ë£ÖÁÆ±ÁöÑÈô∑Èò±Ôºö1234567891011121314151617public class BoxTest &#123; public static void main(String[] args) &#123; Integer a = 1; Integer b = 2; Integer c = 3; Integer d = 3; Integer e = 321; Integer f = 321; Long g= 3L; System.out.println(c == d); //true System.out.println(e == f); //falseÔºåÂ¶ÇÊûúIntegerÂú®-128Âà∞127‰πãÈó¥‰ºö‰øùÂ≠òÂà∞Â∏∏ÈáèÊ±†ÔºåÊ≠§Êó∂IntegerÁõ¥Êé•Á≠â‰∫éÊï∞Â≠ó System.out.println(c == (a + b)); //true System.out.println(c.equals(a + b)); //true System.out.println(g == (a + b)); //true System.out.println(g.equals(a + b)); //false &#125;&#125; Â¶ÇÊûú‰Ω†ÂØπ‰∏äÈù¢ÂàÜ‰∏çÊ∏ÖÊ•öÁöÑËØùÔºåÂä†‰∏äÈâ¥‰∫éÂåÖË£ÖÁ±ªÁöÑ‚Äú==‚ÄùËøêÁÆóÂú®‰∏çÈÅáÂà∞ÁÆóÊúØËøêÁÆóÁöÑÊÉÖÂÜµ‰∏ã‰∏ç‰ºöËá™Âä®ÊãÜÁÆ±Ôºå‰ª•ÂèäÂÆÉ‰ª¨ÁöÑequals()ÊñπÊ≥ï‰∏çÂ§ÑÁêÜÊï∞ÊçÆÁ±ªÂûãËΩ¨ÂûãÁöÑÂÖ≥Á≥ªÔºåÂª∫ËÆÆÂú®ÂÆûÈôÖÁºñÁ†ÅÊâæÈÇ£‰∏™Â∞ΩÈáèÈÅøÂÖçËøôÊ†∑‰ΩøÁî®Ëá™Âä®Ë£ÖÁÆ±‰∏éÊãÜÁÆ±„ÄÇ Êù°‰ª∂ÁºñËØëJavaËØ≠Ë®ÄÂÆûÁé∞Êù°‰ª∂ÁºñËØëÁöÑÊñπÊ≥ïÊòØ‰ΩøÁî®Êù°‰ª∂‰∏∫Â∏∏ÈáèÁöÑifËØ≠Âè•ÔºåÊ°à‰æãÂ¶Ç‰∏ãÔºö123456789101112// Ê∫ê‰ª£Á†Åpublic class ConditionCompilerTest &#123; public static void main(String[] args) &#123; if (true) &#123; System.out.println("block 1"); &#125; else &#123; System.out.println("block 2"); &#125; &#125;&#125; 123456789// ÂèçÁºñËØë‰ª£Á†Åpublic class ConditionCompilerTest&#123; public static void main(String[] args) &#123; System.out.println("block 1"); &#125;&#125; Êàë‰ª¨ÂæàÊ∏ÖÊ•öÁöÑÁúãÂà∞ÁºñËØëÂêéÁöÑ‰ª£Á†ÅÂ∞±Âè™Ââ©trueÈáåÈù¢ÁöÑ‰ª£Á†ÅÂùó‰∫ÜÔºå‰ªéËÄåÂÆûÁé∞‰∫ÜÊù°‰ª∂ÁºñËØë„ÄÇ ÊÄªÁªìÈÄöËøá‰∏äÈù¢ÁöÑÂ≠¶‰π†ÔºåÊàë‰ª¨ÂèØ‰ª•‰ªéÁºñËØëÂô®ÁöÑÂ±ÇÊ¨°‰∏ä‰∫ÜËß£JavaÊ∫ê‰ª£Á†ÅÁºñËØë‰∏∫Â≠óËäÇÁ†ÅÁöÑËøáÁ®ãÔºå‰ª•ÂèäÂêÑÁßçËØ≠Ê≥ïÁ≥ñÁöÑÂâçÂõ†ÂêéÊûú„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã Êó©ÊúüÔºàÁºñËØëÊúüÔºâ‰ºòÂåñ ÂÖ≥‰∫éjavaÊ≥õÂûãÊì¶Èô§ÂèçÁºñËØëÂêéÊ≥õÂûã‰ºöÂá∫Áé∞ÈóÆÈ¢ò]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_10_ËôöÊãüÊú∫Â≠óËäÇÁ†ÅÊâßË°åÂºïÊìé]]></title>
    <url>%2F2017%2F12%2F09%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-10-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AD%97%E8%8A%82%E7%A0%81%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊàë‰ª¨Áü•ÈÅìÊñπÊ≥ïÁöÑ‰ª£Á†ÅÁöÑÂ≠óËäÇÁ†ÅÊòØÊîæÂú®ÊñπÊ≥ïÂå∫ÁöÑCodeÂ±ûÊÄßË°®ÈáåÈù¢Ôºå‰ΩÜÊòØÈáåÈù¢ÁöÑÂ≠óËäÇÁ†ÅÊòØÊÄé‰πàÊâßË°åÊàë‰ª¨Âç¥‰∏çÁü•ÈÅìÔºåËøôÈáåÈÄöËøáÁêÜËß£ËôöÊãüÊú∫Â≠óËäÇÁ†ÅÊâßË°åÂºïÊìéÂéªÁúãÁúãËøô‰∫õÂ≠óËäÇÁ†ÅÊòØÊÄé‰πàËµ∞ÁöÑÔºü Ê¶ÇËø∞Áâ©ÁêÜÊú∫‰∏éËôöÊãüÊú∫ Áâ©ÁêÜÊú∫ÁöÑÊâßË°åÂºïÊìéÔºöÁõ¥Êé•Âª∫Á´ãÂú®Â§ÑÁêÜÂô®„ÄÅÁ°¨‰ª∂„ÄÅÊåá‰ª§ÈõÜ„ÄÅÂíåÊìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢‰∏ä„ÄÇ ËôöÊãüÊú∫ÁöÑÊâßË°åÂºïÊìéÔºöËá™Â∑±ÂÆûÁé∞ÔºåÂèØ‰ª•Ëá™Ë°åÂà∂ÂÆöÊåá‰ª§ÈõÜ‰∏éÊâßË°åÂºïÊìéÁöÑÁªìÊûÑ‰ΩìÁ≥ªÔºåÂπ∂‰∏îËÉΩÂ§üÊâßË°åÈÇ£‰∫õ‰∏çË¢´Á°¨‰ª∂Áõ¥Êé•ÊîØÊåÅÁöÑÊåá‰ª§ÈõÜÊ†ºÂºè„ÄÇ ËôöÊãüÊú∫ÊÄé‰πàÊâßË°å‰ª£Á†Å Ëß£ÈáäÊâßË°åÔºöÈÄöËøáËß£ÈáäÂô®ÊâßË°å ÁºñËØëÊâßË°åÔºöÈÄöËøáÂç≥Êó∂ÁºñËØëÂô®‰∫ßÁîüÊú¨Âú∞‰ª£Á†ÅÊâßË°å ËøêË°åÊó∂Ê†àÂ∏ßÁªìÊûÑÊ†àÂ∏ßÊòØÁî®‰∫éÊîØÊåÅËôöÊãüÊú∫ËøõË°åÊñπÊ≥ïË∞ÉÁî®ÂíåÊñπÊ≥ïÊâßË°åÁöÑÊï∞ÊçÆÁªìÊûÑÔºå‰ªñÊòØËôöÊãüÊú∫ËøêË°åÊó∂Êï∞ÊçÆÂå∫‰∏≠ÁöÑËôöÊãüÊú∫Ê†àÁöÑÊ†àÂÖÉÁ¥†ÔºåÊ†àÂ∏ßÂ≠òÂÇ®‰∫ÜÊñπÊ≥ïÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®„ÄÅÊìç‰ΩúÊï∞Ê†à„ÄÅÂä®ÊÄÅÈìæÊé•ÂíåÊñπÊ≥ïËøîÂõûÂú∞ÂùÄÁ≠â‰ø°ÊÅØ„ÄÇÊØè‰∏Ä‰∏™ÊñπÊ≥ï‰ªéË∞ÉÁî®ÂºÄÂßãËá≥ÊâßË°åÂÆåÊàêÁöÑËøáÁ®ãÔºåÈÉΩÂØπÂ∫îÁùÄ‰∏Ä‰∏™Ê†àÂ∏ßÂú®ËôöÊãüÊú∫Ê†àÈáåÈù¢‰ªéÂÖ•Ê†àÂà∞Âá∫Ê†àÁöÑËøáÁ®ã„ÄÇ ‰∏Ä‰∏™Á∫øÁ®ãÁöÑÊñπÊ≥ïÁöÑË∞ÉÁî®ÈìæÂèØËÉΩ‰ºöÂæàÈïøÔºåÂæàÂ§öÊñπÊ≥ïÂêåÊó∂Â§Ñ‰∫éÊâßË°åÁä∂ÊÄÅ„ÄÇÂØπ‰∫éÊâßË°åÂºïÊìéÊù•ËØ¥ÔºåÂú®Ê¥ªÂä®Á∫øÁ®ã‰∏≠ÔºåÂè™Êúâ‰Ωç‰∫éÊ†àÈ°∂ÁöÑÊ†àÂ∏ßÊâçÊòØÊúâÊïàÁöÑÔºåÁß∞‰∏∫ÂΩìÂâçÊ†àÂ∏ßÔºå‰∏éËøô‰∏™Ê†àÂ∏ßÁõ∏ÂÖ≥ËÅîÁöÑÊñπÊ≥ïÁß∞‰∏∫ÂΩìÂâçÊñπÊ≥ïÔºåÊâßË°åÂºïÊìéËøêË°åÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§ÈÉΩÂè™ÈíàÂØπÂΩìÂâçÊ†àÂ∏ßËøõË°åÊìç‰ΩúÔºåÂú®Ê¶ÇÂøµÊ®°Âûã‰∏äÔºåÂÖ∏ÂûãÁöÑÊ†àÂ∏ßÁªìÊûÑÂ¶Ç‰∏ãÂõæÔºö Êé•‰∏ãÊù•ÂÖ∑‰ΩìËß£Èáä‰∏Ä‰∏ãÊ†àÂ∏ß‰∏≠ÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®„ÄÅÊìç‰ΩúÊï∞Ê†à„ÄÅÂä®ÊÄÅÈìæÊé•‰ª•ÂèäÊñπÊ≥ïË∞ÉÁî®„ÄÇ Â±ÄÈÉ®ÂèòÈáèË°® Â±ÄÈÉ®ÂèòÈáèË°®Á§∫‰∏ÄÁªÑÂèòÈáèÂÄºÂ≠òÂÇ®Á©∫Èó¥ÔºåÁî®‰∫éÂ≠òÊîæÊñπÊ≥ïÂíåÊñπÊ≥ïÂÜÖÈÉ®ÂÆö‰πâÁöÑÂ±ÄÈÉ®ÂèòÈáè„ÄÇ Â±ÄÈÉ®ÂèòÈáèË°®ÁöÑÂÆπÈáè‰ª•ÂèòÈáèÊßΩSlot‰∏∫Âçï‰Ωç„ÄÇËôöÊãüÊú∫ËßÑËåÉËØ¥ÊØè‰∏™SlotÈÉΩÂ∫îËØ•Â≠òÊîæ‰∏Ä‰∏™boolean„ÄÅbyte„ÄÅchar„ÄÅint„ÄÅfloat„ÄÅreferenceÊàñreturnAddressÁ±ªÂûãÁöÑÊï∞ÊçÆ„ÄÇlongÂíådouble‰ΩøÁî®‰∏§‰∏™Slot„ÄÇ referenceÁ±ªÂûãÂú®ËôöÊãüÊú∫‰∏≠Ëá≥Â∞ëË¶ÅÂÆûÁé∞ËÉΩ‰ªéËØ•ÂºïÁî®‰∏≠Áõ¥Êé•ÊàñÈó¥Êé•Âú∞Êü•ÊâæÂà∞ÂØπË±°Âú®JavaÂ†Ü‰∏≠ÁöÑÊï∞ÊçÆÂ≠òÊîæÁöÑËµ∑ÂßãÂú∞ÂùÄÁ¥¢Âºï‰ª•Âèä‰ªéËØ•ÂºïÁî®Áõ¥Êé•ÊàñËÄÖÈó¥Êé•Êü•ÊâæÂà∞ÂØπË±°ÊâÄÂ±ûÊï∞ÊçÆÁ±ªÂûãÂú®ÊñπÊ≥ïÂå∫‰∏≠Â≠òÂÇ®ÁöÑÁ±ªÂûã‰ø°ÊÅØ„ÄÇ ËôöÊãüÊú∫ÈÄöËøáÁ¥¢ÂºïÂÆö‰ΩçÁöÑÊñπÂºè‰ΩøÁî®Â±ÄÈÉ®ÂèòÈáèË°®ÔºåÂ¶ÇÊûúÊâßË°åÁöÑÂÆû‰æãÊñπÊ≥ïÔºåÈÇ£Â±ÄÈÉ®ÂèòÈáèË°®‰∏≠Á¨¨0‰ΩçÁ¥¢ÂºïÁöÑSlotÈªòËÆ§ÊòØÁî®‰∫é‰º†ÈÄíÊñπÊ≥ïÊâÄÂ±ûÂØπË±°ÂÆû‰æãÁöÑÂºïÁî®ÔºåÂèØ‰ª•‰ΩøÁî®‚Äúthis‚ÄùÊù•ËÆøÈóÆÔºåÂÖ∂‰ΩôÂèÇÊï∞ÊåâÁÖßÂèÇÊï∞Ë°®È°∫Â∫èÊéíÂàó„ÄÇ Â±ÄÈÉ®ÂèòÈáèË°®‰∏≠ÁöÑSlotÊòØÂèØ‰ª•ÈáçÁî®ÁöÑÔºåÂΩìÊüê‰∏™ÂèòÈáèÈô§‰∫ÜÂÆÉÁöÑ‰ΩúÁî®ÂüüÔºåÈÇ£Ëøô‰∏™ÂèòÈáèÊâÄÂØπÂ∫îÁöÑSlotÂ∞±ÂèØ‰ª•Â§çÁî®‰∫ÜÔºåSlotÁöÑÂ§çÁî®‰ºöÁõ¥Êé•ÂΩ±ÂìçÂà∞Á≥ªÁªüÁöÑÂûÉÂúæÊî∂ÈõÜË°å‰∏∫ÔºåÂ¶Ç‰∏ã‰ª£Á†ÅÊâÄÁ§∫Ôºö 123456789101112// ‰æã1// VM args : -verbose:gcpublic class StackFrameTest &#123; public static void main(String[] args) &#123; byte[] placeholder = new byte[64 * 1024 * 1024]; System.gc(); &#125;&#125; ËæìÂá∫ÁªìÊûúÔºö 12[GC (System.gc()) 68209K-&gt;66072K(125952K), 0.0019584 secs][Full GC (System.gc()) 66072K-&gt;65962K(125952K), 0.0069900 secs] 123456789101112// ‰æã2// VM args : -verbose:gcpublic class StackFrameTest &#123; public static void main(String[] args) &#123; &#123; byte[] placeholder = new byte[64 * 1024 * 1024]; &#125; System.gc(); &#125;&#125; ËæìÂá∫ÁªìÊûú 12[GC (System.gc()) 68875K-&gt;66072K(125952K), 0.0010138 secs][Full GC (System.gc()) 66072K-&gt;65962K(125952K), 0.0069811 secs] 12345678910111213// ‰æã3// VM args : -verbose:gcpublic class StackFrameTest &#123; public static void main(String[] args) &#123; &#123; byte[] placeholder = new byte[64 * 1024 * 1024]; &#125; int a = 0; System.gc(); &#125;&#125; ËæìÂá∫ÁªìÊûú 12[GC (System.gc()) 68875K-&gt;66072K(125952K), 0.0016694 secs][Full GC (System.gc()) 66072K-&gt;426K(125952K), 0.0054452 secs] placeholdeËÉΩÂê¶Ë¢´ÂõûÊî∂ÁöÑÊ†πÊú¨ÂéüÂõ†ÊòØÔºöÂ±ÄÈÉ®ÂèòÈáèÁöÑSlotÊòØÂê¶ËøòÂ≠òÊúâÂÖ≥‰∫éplaceholderÊï∞ÁªÑÂØπË±°ÁöÑÂºïÁî®„ÄÇ‰æã1Ê≤°ÊúâÂûÉÂúæÂõûÊî∂Ôºå‰æã2‰ª£Á†ÅËôΩÁÑ∂Â∑≤ÁªèÁ¶ªÂºÄ‰∫ÜplaceholderÁöÑ‰ΩúÁî®ÂüüÔºå‰ΩÜÊòØ‰πãÂêéÊ≤°Êúâ‰ªª‰ΩïÂØπÂ±ÄÈÉ®ÂèòÈáèË°®ÁöÑËØªÂÜôÊìç‰ΩúÔºåÊâÄÊúâplaceholderÂéüÊù•ÁöÑSlotËøòÊ≤°ÊúâË¢´ÂÖ∂‰ªñÂèòÈáèÂ§çÁî®ÔºåÊâÄ‰ª•GC Roots‰∏ÄÈÉ®ÂàÜÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®‰ªçÁÑ∂‰øùÊåÅÁùÄÂØπÂÆÉÁöÑÂÖ≥ËÅîÔºåÂΩì‰æã3‰øÆÊîπ‰∫ÜÂ±ÄÈÉ®ÂèòÈáèË°®ÔºåÈÇ£‰πàÂ∞±‰ºöËøõË°åÂûÉÂúæÂõûÊî∂‰∫Ü„ÄÇ ËøôÈáåËß£Èáä‰∏Ä‰∏™ÁºñÁ†ÅÂª∫ËÆÆÔºö‰∏ç‰ΩøÁî®ÁöÑÂØπË±°Â∫îÊâãÂä®ËµãÂÄºnull Êàë‰ª¨ÁúãÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö 123456789101112// ‰æã1// VM args : -verbose:gcpublic class StackFrameTest &#123; public static void main(String[] args) &#123; byte[] placeholder = new byte[64 * 1024 * 1024]; placeholder = null; System.gc(); &#125;&#125; ËæìÂá∫ÁªìÊûúÔºö 12[GC (System.gc()) 68875K-&gt;66072K(125952K), 0.0016915 secs][Full GC (System.gc()) 66072K-&gt;426K(125952K), 0.0058140 secs] Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÂΩìplaceholderËµãÂÄº‰∏∫nullÔºå‰ºöÂèëÁîüÂûÉÂúæÂõûÊî∂„ÄÇ Â±ÄÈÉ®ÂèòÈáèË°®Ê≤°ÊúâËµãÂàùÂßãÂÄº‰∏çËÉΩ‰ΩøÁî®„ÄÇ Êìç‰ΩúÊï∞Ê†à Êìç‰ΩúÊï∞Ê†àÂ∏∏Ë¢´Áß∞‰∏∫Êìç‰ΩúÊ†àÔºå‰∏Ä‰∏™ÊñπÊ≥ïÂàöÂºÄÂßãÊâßË°åÁöÑÊó∂ÂÄôÊòØÁ©∫ÁöÑÔºåÂú®ÊñπÊ≥ïÊâßË°åÁöÑËøáÁ®ã‰∏≠Ôºå‰ºöÊúâÂêÑÁßçÂ≠óËäÇÁ†ÅÊåá‰ª§ÂæÄÊìç‰ΩúÊï∞Ê†à‰∏≠ÂÜôÂÖ•ÂíåÊèêÂèñÂÜÖÂÆπÔºå‰æãÂ¶ÇÔºåÂú®ÂÅöÁÆóÊúØËøêÁÆóÁöÑÊó∂ÂÄôÊòØÈÄöËøáÊìç‰ΩúÊï∞Ê†àÊù• ËøõË°åÁöÑÔºåÂèàÊàñËÄÖÊòØÂú®Ë∞ÉÁî®ÊñπÊ≥ïÁöÑÊó∂ÂÄôÈÄöËøáÊìç‰ΩúÊï∞Ê†àÊù•ËøõË°åÂèÇÊï∞‰º†ÈÄíÁöÑ„ÄÇ Âú®Ê¶ÇÂøµÊ®°Âûã‰∏≠Ôºå‰∏§‰∏™Ê†àÂ∏ßÊòØÂÆåÂÖ®Áã¨Á´ãÁöÑÔºå‰ΩÜÂú®Â§ßÂ§öËôöÊãüÊú∫ÁöÑÂÆûÁé∞Èáå‰ºöÂÅö‰∏Ä‰∫õ‰ºòÂåñÂ§ÑÁêÜÔºå‰ª§‰∏§‰∏™Ê†àÂ∏ßÁöÑÈÉ®ÂàÜÊìç‰ΩúÊï∞Âá∫Áé∞‰∏ÄÈÉ®ÂàÜÈáçÂè†ÔºåÈÅøÂÖçÊñπÊ≥ïË∞ÉÁî®Êó∂È¢ùÂ§ñÁöÑÂèÇÊï∞Â§çÂà∂ÔºåÂ¶Ç‰∏ãÂõæÔºö JavaËôöÊãüÊú∫ÁöÑËß£ÈáäÊâßË°åÂºïÊìéÁß∞‰∏∫‚ÄúÂü∫‰∫éÊ†àÁöÑÊâßË°åÂºïÊìé‚ÄùÔºåÂÖ∂‰∏≠ÁöÑÊ†àÂ∞±ÊòØÊìç‰ΩúÊï∞Ê†à„ÄÇ Âä®ÊÄÅÈìæÊé• ÊØè‰∏™Ê†àÂ∏ßÈÉΩÂåÖÂê´‰∏Ä‰∏™ÊâßË°åËøêË°åÊó∂Â∏∏ÈáèÊ±†‰∏≠ËØ•Ê†àÂ∏ßÊâÄÂ±ûÊñπÊ≥ïÁöÑÂºïÁî®ÔºåÊåÅÊúâËøô‰∏™ÂºïÁî®Â∞±ÊòØ‰∏∫‰∫ÜÊîØÊåÅÊñπÊ≥ïË∞ÉÁî®ËøáÁ®ã‰∏≠ÁöÑÂä®ÊÄÅÈìæÊé•„ÄÇ ClassÊñá‰ª∂ÁöÑÂ∏∏ÈáèÊ±†Â≠òÊúâÂ§ßÈáèÁöÑÁ¨¶Âè∑ÂºïÁî®Ôºå‰∏ÄÈÉ®ÂàÜÊòØÂú®Á±ªÂä†ËΩΩ‰∏≠ÁöÑËß£ÊûêÈò∂ÊÆµÂÆåÊàêÁöÑÔºåÁß∞‰∏∫ÈùôÊÄÅËß£ÊûêÔºåÂè¶‰∏ÄÈÉ®ÂàÜÊòØÂú®ÊØè‰∏ÄÊ¨°ËøêË°åÊúüÈó¥ËΩ¨Âåñ‰∏∫Áõ¥Êé•ÂºïÁî®ÔºåÁß∞‰∏∫Âä®ÊÄÅÈìæÊé•„ÄÇ ÊñπÊ≥ïËøîÂõûÂú∞ÂùÄÂΩì‰∏Ä‰∏™ÊñπÊ≥ïÂºÄÂßãÊâßË°åÂêéÔºåÂè™Êúâ‰∏§ÁßçÊñπÂºèÈÄÄÂá∫Ëøô‰∏™ÊñπÊ≥ï„ÄÇ Ê≠£Â∏∏ÂÆåÊàêÂá∫Âè£ÔºöÊâßË°åÂºïÊìéÈÅáÂà∞‰∏Ä‰∏™ÊñπÊ≥ïËøîÂõûÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§ÔºåË∞ÉÁî®ËÄÖÁöÑPCËÆ°Êï∞Âô®ÁöÑÂÄºÂèØ‰ª•‰Ωú‰∏∫ËøîÂõûÂú∞ÂùÄ ÂºÇÂ∏∏ÂÆåÊàêÂá∫Âè£ÔºöÂú®ÊñπÊ≥ïÊâßË°åËøáÁ®ã‰∏≠ÈÅáÂà∞ÂºÇÂ∏∏ÔºåÂπ∂‰∏îËøô‰∏™ÂºÇÂ∏∏Ê≤°ÊúâÂú®ÊñπÊ≥ï‰ΩìÂæóÂà∞Â§ÑÁêÜÔºåÂÆÉ‰∏ç‰ºöÁªôË∞ÉÁî®ËÄÖ‰∫ßÁîü‰ªª‰ΩïËøîÂõûÂÄºÔºåÂÆÉÁöÑËøîÂõûÂÄºÊòØË¶ÅÈÄöËøáÂºÇÂ∏∏Â§ÑÁêÜÂô®Ë°®Êù•Á°ÆÂÆöÁöÑ„ÄÇ ÊñπÊ≥ïË∞ÉÁî®ÊñπÊ≥ïË∞ÉÁî®‰∏çÁ≠âÂêå‰∫éÊñπÊ≥ïÊâßË°åÔºåÊñπÊ≥ïË∞ÉÁî®Èò∂ÊÆµÂîØ‰∏ÄÁöÑ‰ªªÂä°Â∞±ÊòØÁ°ÆÂÆöË¢´Ë∞ÉÁî®ÊñπÊ≥ïÁöÑÁâàÊú¨„ÄÇClassÊñá‰ª∂ÁöÑÁºñËØëËøáÁ®ã‰∏çÂåÖÂê´‰º†ÁªüÁºñËØëÊâæÈÇ£‰∏™ÁöÑÈìæÊé•Ê≠•È™§ÔºåÊâÄ‰ª•JavaÊñπÊ≥ïË∞ÉÁî®ËøáÁ®ãÈúÄË¶ÅÂú®Á±ªÂä†ËΩΩÊúüÈó¥ÔºåÁîöËá≥Âà∞ËøêË°åÊúüÈó¥ÊâçËÉΩÁ°ÆÂÆöÁõÆÊ†áÊñπÊ≥ïÁöÑÁõ¥Êé•ÂºïÁî®„ÄÇ Ëß£ÊûêËß£ÊûêÔºö ÊñπÊ≥ïÂú®Á®ãÂ∫èÁúüÊ≠£ËøêË°å‰πãÂâçÂ∞±Êúâ‰∏Ä‰∏™ÂèØÁ°ÆÂÆöÁöÑË∞ÉÁî®ÁâàÊú¨ÔºåÂπ∂‰∏îËøô‰∏™ÊñπÊ≥ïÁöÑË∞ÉÁî®Âú®ËøêË°åÊúüÊòØ‰∏çÂèØÂèòÁöÑÔºåËøôÁ±ªÊñπÊ≥ïÁöÑË∞ÉÁî®Êàê‰∏∫Ëß£Êûê„ÄÇ ÊâÄÊúâÊñπÊ≥ïÂèØ‰ª•ÂàÜ‰∏∫‰∏§Á±ªËôöÊñπÊ≥ïÂíåÈùûËôöÊñπÊ≥ïÔºåÂÖ∂‰∏≠ÈùûËôöÊñπÊ≥ïÈÉΩÂèØ‰ª•Âú®Á±ªÂä†ËΩΩÁöÑÊó∂ÂÄôÂ∞±‰ºöÊääÁ¨¶Âè∑ÂºïÁî®Ëß£Êûê‰∏∫ËØ•ÊñπÊ≥ïÁöÑÁõ¥Êé•ÂºïÁî®„ÄÇ ÈùûËôöÊñπÊ≥ïÔºöÈùôÊÄÅÊñπÊ≥ï„ÄÅÁßÅÊúâÊñπÊ≥ï„ÄÅÂÆû‰æãÊûÑÈÄ†Âô®„ÄÅÁà∂Á±ªÊñπÊ≥ïÂíåfinalÊñπÊ≥ï ËôöÊñπÊ≥ïÔºö‰∏éÈùûËôöÊñπÊ≥ïÁõ∏Âèç Ëß£ÊûêË∞ÉÁî®‰∏ÄÂÆöÊòØ‰∏™ÈùôÊÄÅÁöÑËøáÁ®ãÔºåÂú®ÁºñËØëÂô®Â∞±ÂÆåÂÖ®Á°ÆÂÆöÔºåÂú®Á±ªË£ÖËΩΩÁöÑËß£ÊûêÈò∂ÊÆµÂ∞±‰ºöÊääÊ∂âÂèäÁöÑÁ¨¶Âè∑ÂºïÁî®ÂÖ®ÈÉ®ËΩ¨Âèò‰∏∫ÂèØÁ°ÆÂÆöÁöÑÁõ¥Êé•ÂºïÁî®Ôºå‰∏ç‰ºöÂª∂ËøüÂà∞ËøêË°åÊúüÂÜçÂéªÂÆåÊàê„ÄÇËÄåÂàÜÊ¥æË∞ÉÁî®ÂàôÂèØËÉΩÊòØÈùôÊÄÅ‰πüÂèØËÉΩÊòØÂä®ÊÄÅÁöÑÔºåÊ†πÊçÆÂàÜÊ¥æÁöÑÂÆóÊï∞ÈáèÔºàÊñπÊ≥ïÁöÑÊé•Êî∂ËÄÖ‰∏éÊñπÊ≥ïÁöÑÂèÇÊï∞ÁªüÁß∞‰∏∫ÊñπÊ≥ïÁöÑÊÄªÈáèÔºâÂèØÂàÜ‰∏∫ÂçïÂàÜÊ¥æÂíåÂ§öÂàÜÊ¥æÔºåËøô‰∏§ÁßçÂàÜÊ¥æÊñπÂºèÂú∞ÁªÑÂêàÂèØÂàÜ‰∏∫ÈùôÊÄÅÂçïÂàÜÊ¥æ„ÄÅÈùôÊÄÅÂ§öÂàÜÊ¥æ„ÄÅÂä®ÊÄÅÂçïÂàÜÊ¥æ„ÄÅÂä®ÊÄÅÂ§öÂàÜÊ¥æ„ÄÇ ÂàÜÊ¥æÈùôÊÄÅÂàÜÊ¥æ1Human man = new Man(); ‰∏äÈù¢‰ª£Á†Å‰∏≠HumanÁß∞‰∏∫ÂèòÈáèÁöÑÈùôÊÄÅÁ±ªÂûãÔºåÊàñËÄÖÂè´ÂÅöÂ§ñËßÇÁ±ªÂûãÔºåÂêéÈù¢ÁöÑManÁß∞‰∏∫ÂÆûÈôÖÁ±ªÂûãÔºåÈùôÊÄÅÁ±ªÂûãÊòØÁºñËØëÂô®ÂèØÁü•ÔºåÂÆûÈôÖÁ±ªÂûãÊòØËøêË°åÊúüÊâçËÉΩÁ°ÆÂÆöÁöÑ„ÄÇËôöÊãüÊú∫Âú®ÈáçËΩΩÊó∂ÊòØÈÄöËøáÂèÇÊï∞ÁöÑÈùôÊÄÅÁ±ªÂûãËÄå‰∏çÊòØÂÆûÈôÖÁ±ªÂûãÊù•‰Ωú‰∏∫Âà§Êñ≠‰æùÊçÆÁöÑ„ÄÇ ÊâÄÊúâ‰æùËµñÈùôÊÄÅÁ±ªÂûãÊù•ÂÆö‰ΩçÊñπÊ≥ïÊâßË°åÁâàÊú¨ÁöÑÂàÜÊ¥æÂä®‰ΩúÁß∞‰∏∫ÈùôÊÄÅÂàÜÊ¥æÔºåÈùôÊÄÅÂàÜÊ¥æÁöÑÂÖ∏ÂûãÂ∫îÁî®ÊòØÊñπÊ≥ïÈáçËΩΩ„ÄÇÈùôÊÄÅÂàÜÊ¥æÂèëÁîüÂú®ÁºñËØëÈò∂ÊÆµÔºåÂõ†Ê≠§Á°ÆÂÆöÈùôÊÄÅÂàÜÊ¥æÁöÑÂä®‰ΩúÂÆûÈôÖ‰∏ä‰∏çÊòØÁî±ËôöÊãüÊú∫Êù•ÊâßË°åÁöÑÔºåÂè¶Â§ñÔºåÁºñËØëÂô®ËôΩÁÑ∂ËÉΩÁ°ÆÂÆöÂá∫ÊñπÊ≥ïÁöÑÈáçËΩΩÁâàÊú¨ÔºåÂΩìÂú®ÂæàÂ§öÊÉÖÂÜµ‰∏ãËøô‰∏™ÈáçËΩΩÁâàÊú¨‰∏çÊòØ‚ÄúÂîØ‰∏ÄÁöÑ‚ÄùÔºåÂæÄÂæÄÂè™ËÉΩÁ°ÆÂÆö‰∏Ä‰∏™‚ÄúÊõ¥Âä†ÂêàÈÄÇÁöÑ‚ÄùÁâàÊú¨ÔºåÂÖ∑‰Ωì‰æãÂ≠êÂèØ‰ª•ÁúãÁúã„ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã„ÄÇ Âä®ÊÄÅÂàÜÊ¥æÂú®ËøêË°åÊúüÊ†πÊçÆÂÆûÈôÖÁ±ªÂûãÁ°ÆÂÆöÊñπÊ≥ïÊâßË°åÁâàÊú¨ÁöÑÂàÜÊ¥æËøáÁ®ãÁß∞‰∏∫Âä®ÊÄÅÂàÜÊ¥æÔºåÂÖ∏ÂûãÂ∫îÁî®ÊòØÊñπÊ≥ïÈáçÂÜô„ÄÇÂÆÉ‰∏ªË¶ÅÊòØÈÄöËøáinvokevirturlÊåá‰ª§Êù•ÂÆûÁé∞ÁöÑ„ÄÇinvokevirtualÊåá‰ª§ÁöÑËøêË°åÊó∂Ëß£ÊûêËøáÁ®ãÂ§ßËá¥ÂàÜ‰∏∫Â¶Ç‰∏ãÂá†‰∏™Ê≠•È™§Ôºö ÊâæÂà∞Êìç‰ΩúÊï∞Ê†àÈ°∂ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊâÄÊåáÂêëÁöÑÂØπË±°ÁöÑÂÆûÈôÖÁ±ªÂûãÔºåËÆ∞‰ΩúC„ÄÇ Â¶ÇÊûúÂú®Á±ªÂûãC‰∏≠ÊâæÂà∞‰∏éÂ∏∏Èáè‰∏≠ÁöÑÊèèËø∞Á¨¶ÂêàÁÆÄÂçïÂêçÁß∞ÈÉΩÁõ∏Á¨¶ÁöÑÊñπÊ≥ïÔºåÂàôËøõË°åËÆøÈóÆÊùÉÈôêÊ†°È™åÔºåÂ¶ÇÊûúÈÄöËøáÂàôËøîÂõûËøô‰∏™ÊñπÊ≥ïÁöÑÁõ¥Êé•ÂºïÁî®ÔºåÊü•ÊâæËøáÁ®ãÁªìÊùüÔºõÂ¶ÇÊûú‰∏çÈÄöËøáÔºåÂàôËøîÂõûjava.lang.IllegalAccessErrorÂºÇÂ∏∏„ÄÇ Âê¶ÂàôÔºåÊåâÁÖßÁªßÊâøÂÖ≥Á≥ª‰ªé‰∏ãÂæÄ‰∏ä‰æùÊ¨°ÂØπCÁöÑÂêÑ‰∏™Áà∂Á±ªËøõË°åÁ¨¨2Ê≠•ÁöÑÊêúÁ¥¢ÂíåÈ™åËØÅËøáÁ®ã„ÄÇ Â¶ÇÊûúÂßãÁªàÊ≤°ÊúâÊâæÂà∞ÂêàÈÄÇÁöÑÊñπÊ≥ïÔºåÂàôÊäõÂá∫java.lang.AbstractMethodErrorÂºÇÂ∏∏„ÄÇ ÂçïÂàÜÊ¥æÂíåÂ§öÂàÜÊ¥æÂçïÂàÜÊ¥æÊòØÊ†πÊçÆ‰∏Ä‰∏™ÂÆóÈáèÂØπÁõÆÊ†áÊñπÊ≥ïËøõË°åÈÄâÊã©ÔºåÂ§öÂàÜÊ¥æÂàôÊòØÊ†πÊçÆ‰∏Ä‰∏™ÂÆóÈáèÂØπÁõÆÊ†áÊñπÊ≥ïËøõË°åÈÄâÊã©„ÄÇÊàë‰ª¨ÁªìÂêà‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊù•ÁêÜËß£Ôºö12345678910111213141516171819202122232425262728293031323334public class Dispatch &#123; static class QQ &#123;&#125; static class _360 &#123;&#125; public static class Father &#123; public void hardChoice(QQ arg) &#123; System.out.println("father choose qq"); &#125; public void hardChoice(_360 arg) &#123; System.out.println("father choose _360"); &#125; &#125; public static class Son extends Father &#123; public void hardChoice(QQ arg) &#123; System.out.println("son choose qq"); &#125; public void hardChoice(_360 arg) &#123; System.out.println("son choose _360"); &#125; &#125; public static void main(String[] args) &#123; Father father = new Father(); Father son = new Son(); father.hardChoice(new _360()); son.hardChoice(new QQ()); &#125;&#125; ËæìÂá∫ÁªìÊûúÔºö12father choose _360son choose qq ÁºñËØëÈò∂ÊÆµÁºñËØëÂô®ÁöÑÈÄâÊã©ËøáÁ®ãÔºàÈùôÊÄÅÂàÜÊ¥æËøáÁ®ãÔºâÔºöËøôÊó∂ÈÄâÊã©ÁõÆÊ†áÊñπÊ≥ïÁöÑ‰æùÊçÆÊúâ‰∏§ÁÇπÔºö‰∏ÄÊòØÈùôÊÄÅÁ±ªÂûãÊòØFatherËøòÊòØSonÔºå‰∫åÊòØÊñπÊ≥ïÂèÇÊï∞ÊòØQQËøòÊòØ360„ÄÇÂõ†‰∏∫ÊòØÊ†πÊçÆ‰∏§‰∏™ÂÆóÈáèËøõË°åÈÄâÊã©ÔºåÊâÄÊúâJavaËØ≠Ë®ÄÁöÑÈùôÊÄÅÂàÜÊ¥æÂ±û‰∫éÂ§öÂàÜÊ¥æÁ±ªÂûã„ÄÇ ËøêË°åÈò∂ÊÆµËôöÊãüÊú∫ÁöÑÈÄâÊã©ËøáÁ®ãÔºàÂä®ÊÄÅÂàÜÊ¥æËøáÁ®ãÔºâÔºöÁî±‰∫éÁºñËØëÂô®Â∑≤ÁªèÂ∑≤ÁªèÂÜ≥ÂÆöÁõÆÊ†áÊñπÊ≥ïÁöÑÁ≠æÂêçÂøÖÈ°ª‰∏∫hardChoice(QQ)ÔºåÊâÄ‰ª•ËøôÊó∂ÂèÇÊï∞ÁöÑÈùôÊÄÅÁ±ªÂûãÔºåÂÆûÈôÖÁ±ªÂûãÈÉΩÂØπÊñπÊ≥ïÁöÑÈÄâÊã©‰∏ç‰ºöÊûÑÊàêÂΩ±ÂìçÔºåÂîØ‰∏ÄÂèØ‰ª•ÂΩ±ÂìçËôöÊãüÊú∫ÈÄâÊã©ÁöÑÂõ†Á¥†Âè™ÊúâÊ≠§ÊñπÊ≥ïÁöÑÊé•ÂèóËÄÖÁöÑÂÆûÈôÖÁ±ªÂûãÊòØFatherËøòÊòØSon,Âõ†‰∏∫Âè™Êúâ‰∏Ä‰∏™ÂÆóÈáè‰Ωú‰∏∫ÈÄâÊã©‰æùÊçÆÔºåÊâÄ‰ª•JavaËØ≠Ë®ÄÁöÑÂä®ÊÄÅÂàÜÊ¥æÂ±û‰∫éÂçïÂàÜÊ¥æÁ±ªÂûã„ÄÇ jdk1.8‰πãÂâçÁöÑJavaËØ≠Ë®ÄÊòØ‰∏ÄÈó®ÈùôÊÄÅÂ§öÂàÜÊ¥æÔºåÂä®ÊÄÅÂçïÂàÜÊ¥æÁöÑËØ≠Ë®Ä„ÄÇ ËôöÊãüÊú∫Âä®ÊÄÅÂàÜÊ¥æÁöÑÂÆûÁé∞Áî±‰∫éÂä®ÊÄÅÂàÜÊ¥æÊòØÈùûÂ∏∏È¢ëÁπÅÁöÑÊìç‰ΩúÔºåËÄå‰∏îÂä®ÊÄÅÂàÜÊ¥æÁöÑÊñπÊ≥ïÁâàÊú¨ÈÄâÊã©ËøáÁ®ãÈúÄË¶ÅËøêË°åÊó∂Âú®Á±ªÁöÑÊñπÊ≥ïÂÖÉÊï∞ÊçÆ‰∏≠ÊêúÁ¥¢ÂêàÈÄÇÁöÑÁõÆÊ†áÊñπÊ≥ïÔºåÂõ†Ê≠§ËôöÊãüÊú∫‰ºöËøõË°å‰ºòÂåñ„ÄÇÂ∏∏Áî®ÁöÑÊñπÊ≥ïÂ∞±ÊòØ‰∏∫Á±ªÂú®ÊñπÊ≥ïÂå∫‰∏≠Âª∫Á´ã‰∏Ä‰∏™ËôöÊñπÊ≥ïË°®ÔºàVirtual Method TableÔºåÂú®invokeinterfaceÊâßË°åÊó∂‰πü‰ºöÁî®Âà∞Êé•Âè£ÊñπÊ≥ïË°®ÔºåInterface Method TableÔºâÔºå‰ΩøÁî®ËôöÊñπÊ≥ïË°®Á¥¢ÂºïÊù•Êõø‰ª£ÂÖÉÊï∞ÊçÆÊü•Êâæ‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ‰∏ãÂõæÂ∞±ÊòØÂâçÈù¢‰ª£Á†ÅÁöÑËôöÊñπÊ≥ïË°®ÁªìÊûÑÔºö ËôöÊñπÊ≥ïË°®‰∏≠Â≠òÊîæÁùÄÂêÑ‰∏™ÊñπÊ≥ïÁöÑÂÆûÈôÖÂÖ•Âè£Âú∞ÂùÄ„ÄÇÂ¶ÇÊûúÊüê‰∏™ÊñπÊ≥ïÂú®Â≠êÁ±ª‰∏≠Ê≤°ÊúâË¢´ÈáçÂÜôÔºåÈÇ£Â≠êÁ±ªÁöÑËôöÊñπÊ≥ïË°®ÈáåÈù¢ÁöÑÂú∞ÂùÄÂÖ•Âè£ÂíåÁà∂Á±ªÁõ∏ÂêåÊñπÊ≥ïÁöÑÂú∞ÂùÄÂÖ•Âè£ÊòØ‰∏ÄËá¥ÁöÑÔºåÈÉΩÊåáÂêëÁà∂Á±ªÁöÑÂÆûÁé∞ÂÖ•Âè£„ÄÇÂ¶ÇÊûúÂ≠êÁ±ªÈáçÂÜô‰∫ÜÁà∂Á±ªÁöÑÊñπÊ≥ïÔºåÂ≠êÁ±ªÊñπÊ≥ïË°®‰∏≠ÁöÑÂú∞ÂùÄ‰ºöÊõøÊç¢‰∏∫ÊåáÂêëÂ≠êÁ±ªÂÆûÁé∞ÁâàÊú¨ÁöÑÂÖ•Âè£Âú∞ÂùÄ„ÄÇÂú®‰∏äÂõæ‰∏≠ÔºåSonÈáçÂÜô‰∫ÜFatherÁöÑÂÖ®ÈÉ®ÊñπÊ≥ïÔºåÊâÄ‰ª•SonÁöÑÊñπÊ≥ïË°®ÊõøÊç¢‰∫ÜÁà∂Á±ªÁöÑÂú∞ÂùÄ„ÄÇ‰ΩÜÊòØSonÂíåFatherÈÉΩÊ≤°ÊúâÈáçÂÜôObjectÁöÑÊñπÊ≥ïÔºåÊâÄ‰ª•ÊñπÊ≥ïË°®ÈÉΩÊåáÂêë‰∫ÜObjectÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇ‰∏∫‰∫ÜÁ®ãÂ∫èÂÆûÁé∞‰∏äÁöÑÊñπ‰æøÔºåÂÖ∑ÊúâÁõ∏ÂêåÁ≠æÂêçÁöÑÊñπÊ≥ïÔºåÂú®Áà∂Á±ªÂíåÂ≠êÁ±ªÁöÑËôöÊñπÊ≥ïË°®‰∏≠ÈÉΩÂ∫îËØ•ÂÖ∑Êúâ‰∏ÄÊ†∑ÁöÑÁ¥¢ÂºïÂè∑ÔºåËøôÊ†∑ÂΩìÁ±ªÂûãÂèòÊç¢Êó∂Ôºå‰ªÖ‰ªÖÈúÄË¶ÅÂèòÊõ¥Êü•ÊâæÁöÑÊñπÊ≥ïË°®ÔºåÂ∞±ÂèØ‰ª•‰ªé‰∏çÂêåÁöÑËôöÊñπÊ≥ïË°®‰∏≠ÊåâÁ¥¢ÂºïËΩ¨Êç¢Âá∫ÊâÄÈúÄÁöÑÂÖ•Âè£Âú∞ÂùÄ„ÄÇÊñπÊ≥ïË°®‰∏ÄËà¨Âú®Á±ªÂä†ËΩΩÁöÑËøûÊé•Èò∂ÊÆµËøõË°åÂàùÂßãÂåñÔºåÂáÜÂ§á‰∫ÜÁ±ªÁöÑÂèòÈáèÂàùÂßãÂÄºÂêéÔºåËôöÊãüÊú∫‰ºöÊääËØ•Á±ªÁöÑÊñπÊ≥ïË°®‰πüÂàùÂßãÂåñÂÆåÊØï„ÄÇ Âä®ÊÄÅÁ±ªÂûãËØ≠Ë®ÄÊîØÊåÅÂä®ÊÄÅÁ±ªÂûãËØ≠Ë®ÄÁöÑÂÖ≥ÈîÆÁâπÂæÅÊòØÂÆÉÁöÑÁ±ªÂûãÊ£ÄÊü•ÁöÑ‰∏ª‰ΩìËøáÁ®ãÊòØÂú®ËøêË°åÊúüÈó¥ËÄå‰∏çÊòØÁºñËØëÊúüÈó¥ÔºåÂèØ‰ª•ÁêÜËß£‰∏∫ÂèòÈáèÊó†Á±ªÂûãËÄåÂèòÈáèÂÄºÊâçÊúâÁ±ªÂûãÔºåJavascriptÂ∞±ÊòØËøôÊ†∑ÁöÑËØ≠Ë®ÄÔºåËÄåÁõÆÂâçJavaÂ±û‰∫éÈùôÊÄÅÁ±ªÂûãËØ≠Ë®Ä„ÄÇÂΩìÁÑ∂Java‰πüÊúâÂÆÉÂÆûÁé∞Âä®ÊÄÅÊÄßÁöÑÊñπÊ≥ïÔºåËøôÂùóÁü•ËØÜÁÇπËõÆÂ§ßÔºåÂ∞±‰∏çÂ±ïÂºÄËØ¥‰∫Ü„ÄÇ Âü∫‰∫éÊ†àÁöÑÂ≠óËäÇÁ†ÅËß£ÈáäÊâßË°åÂºïÊìéËß£ÈáäÊâßË°åÂÖàÁúãÁúãÁºñËØëËøáÁ®ãÊµÅÂõæÔºö ‰∏äÂõæÊúÄ‰∏ãÈù¢ÁöÑÈÇ£‰∏ÄÊù°Â∞±ÊòØ‰º†ÁªüÁºñËØëÂéüÁêÜ‰∏≠Á®ãÂ∫è‰ª£Á†ÅÂà∞ÁõÆÊ†áÊú∫Âô®‰ª£Á†ÅÁîüÊàêËøáÁ®ãÔºàCÔºâ ‰∏äÂõæ‰∏≠Èó¥ÈÇ£‰∏ÄÊù°Â∞±ÊòØËß£ÈáäÊâßË°åÁöÑËøáÁ®ãÔºàJavaÔºâ Âü∫‰∫éÊ†àÁöÑÊåá‰ª§ÈõÜ‰∏éÂü∫‰∫éÂØÑÂ≠òÂô®ÁöÑÊåá‰ª§ÈõÜ Âü∫‰∫éÊ†àÁöÑÊåá‰ª§ÈõÜÔºöÊåá‰ª§ÊµÅ‰∏≠ÁöÑÂ§ßÈÉ®ÂàÜÈÉΩÊòØÈõ∂Âú∞ÂùÄÊåá‰ª§ÔºàÊó†ÊòæÁ§∫ÂèÇÊï∞ÔºâÔºå‰ªñ‰ª¨‰æùËµñÊìç‰ΩúÊï∞Ê†àËøõË°åÂ∑•‰Ωú„ÄÇ ‰ºòÁÇπÔºöÂèØÁßªÊ§çÊÄßÔºå‰ª£Á†ÅÁ¥ßÂáëÔºåÁºñËØëÂô®ÂÆûÁé∞ÁÆÄÂçï Áº∫ÁÇπÔºöÊâßË°åÈÄüÂ∫¶Á®çÊÖ¢ÔºàÈ¢ëÁπÅËÆøÈóÆÂÜÖÂ≠òÔºâ Âü∫‰∫éÂØÑÂ≠òÂô®ÁöÑÊåá‰ª§ÈõÜÔºöÊåá‰ª§ÈõÜ‰æùËµñÂØÑÂ≠òÂô®ËøõË°åÂ∑•‰Ωú Âü∫‰∫éÊ†àÁöÑËß£ÈáäÂô®ÊâßË°åÊµÅÁ®ãÂÖ∂ÂÆûÂ∞±ÊòØÊåâÁÖßÊåá‰ª§Ëß£ÈáäÊâßË°åÔºåÈöè‰æøÁúã‰∫Ü‰æãÂ≠êÂ∫îËØ•Â∞±ËÉΩÊòéÁôΩ„ÄÇ ÊÄªÁªìÂÖ∂ÂÆûËøôÈáåË∞àÁöÑ‰∏ªË¶ÅËøòÊòØËß£ÈáäÊâßË°åÔºåÂÖ∂‰∏≠Êúâ‰∏ÄÁÇπÂæàÈáçË¶ÅÂ∞±ÊòØÂàÜÊ¥æÁöÑÊ¶ÇÂøµÔºåÊòéÁôΩinvokevirtualÊåá‰ª§ÁöÑÊâßË°åËøáÁ®ã„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã ËôöÊãüÊú∫Â≠óËäÇÁ†ÅÊâßË°åÂºïÊìé]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_9_Á±ªÂä†ËΩΩÂô®]]></title>
    <url>%2F2017%2F12%2F06%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-9-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰πãÂâç‰∏ÄÁõ¥Âú®ËØ¥Á±ªÂä†ËΩΩÔºåÁ±ªÂä†ËΩΩÂ∞±ÈúÄË¶ÅÁ±ªÂä†ËΩΩÂô®ÔºåÁ±ªÂä†ËΩΩÊúÄÂàùÊòØ‰∏∫‰∫ÜÊª°Ë∂≥Java AppletÔºåÁé∞Âú®Âü∫Êú¨Â∑≤ÁªèÊ≠ªÊéâ‰∫ÜÔºå‰ΩÜÊòØÁ±ªÂä†ËΩΩÂç¥Âú®Á±ªÂ±ÇÊ¨°ÂàíÂàÜ„ÄÅOSGi„ÄÅÁÉ≠ÈÉ®ÁΩ≤„ÄÅ‰ª£Á†ÅÂä†ÂØÜÁ≠âÈ¢ÜÂüüÂ§ßÊîæÂºÇÂΩ©ÔºåÊàê‰∏∫Java‰ΩìÁ≥ª‰∏≠‰∏ÄÂùóÈáçË¶ÅÁöÑÂü∫Áü≥ÔºåÂèØË∞ìÂ§±‰πãÊ°ëÊ¶ÜÔºåÊî∂‰πã‰∏úÈöÖ„ÄÇ ‰ªÄ‰πàÊòØÁ±ªÂä†ËΩΩÂô®ÔºüËôöÊãüÊú∫ËÆæËÆ°Âõ¢ÈòüÊääÁ±ªÂä†ËΩΩÈò∂ÊÆµÁöÑ‚ÄúÈÄöËøá‰∏Ä‰∏™Á±ªÁöÑÂÖ®ÈôêÂÆöÂêçÊù•Ëé∑ÂèñÊèèËø∞Ê≠§Á±ªÁöÑ‰∫åËøõÂà∂Â≠óËäÇÊµÅ‚ÄùËøô‰∏™Âä®‰ΩúÊîæÂà∞JavaËôöÊãüÊú∫Â§ñÈÉ®ÂéªÂÆûÁé∞Ôºå‰ª•‰æøËÆ©Â∫îÁî®Á®ãÂ∫èËá™Â∑±ÂéªÂÜ≥ÂÆöÂ¶Ç‰ΩïÂéªËé∑ÂèñÊâÄÈúÄË¶ÅÁöÑÁ±ªÔºåÂÆûÁé∞Ëøô‰∏™Âä®‰ΩúÁöÑ‰ª£Á†ÅÊ®°ÂùóÁß∞‰∏∫‚ÄúÁ±ªÂä†ËΩΩÂô®‚Äù„ÄÇ Âêå‰∏Ä‰∏™ClassÊñá‰ª∂Ôºå‰∏çÂêåÁöÑÁ±ªÂØπ‰∫é‰ªªÊÑè‰∏Ä‰∏™Á±ªÔºåÈÉΩÈúÄË¶ÅÁî±Âä†ËΩΩÂÆÉÁöÑÁ±ªÂä†ËΩΩÂô®ÂíåËøô‰∏™Á±ªÊú¨Ë∫´‰∏ÄÂêåÁ°ÆÁ´ãÂÖ∂Âú®JavaËôöÊãüÊú∫‰∏≠ÁöÑÂîØ‰∏ÄÊÄßÔºåÊØè‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô®ÔºåÈÉΩÊã•Êúâ‰∏Ä‰∏™Áã¨Á´ãÁöÑÁ±ªÂêçÁß∞Á©∫Èó¥„ÄÇÊç¢‰∏™ËØ¥Ê≥ïÔºöÊØîËæÉ‰∏§‰∏™Á±ªÊòØÂê¶‚ÄúÁõ∏Á≠â‚ÄùÔºåÂè™ÊòØÂú®Ëøô‰∏§‰∏™Á±ªÊòØÁî±Âêå‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô®Âä†ËΩΩÁöÑÂâçÊèê‰∏ãÊâçÊúâÊÑè‰πâÔºåÂ¶ÇÊûúËøô‰∏§‰∏™Á±ªÊ∫ê‰∫éÂêå‰∏Ä‰∏™ClassÊñá‰ª∂ÔºåË¢´Âêå‰∏Ä‰∏™ËôöÊãüÊú∫Âä†ËΩΩÔºåÂè™Ë¶ÅÂä†ËΩΩ‰ªñ‰ª¨ÁöÑÁ±ªÂä†ËΩΩÂô®‰∏çÂêåÔºåÈÇ£Ëøô‰∏§‰∏™Á±ªÂ∞±ÂøÖÂÆö‰∏çÁõ∏Á≠â„ÄÇ ËøôÈáåÁöÑÁõ∏Á≠âÂåÖÊã¨Ôºö‰ª£Ë°®Á±ªÁöÑClassÂØπË±°ÁöÑequals()ÊñπÊ≥ï„ÄÅisAssignableFrom()ÊñπÊ≥ï„ÄÅisInstance()ÊñπÊ≥ïËøîÂõûÁªìÊûúÔºå‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂ±ïÁ§∫‰∫Ü‰∏çÂêåÁöÑÁ±ªÂä†ËΩΩÂô®ÂØπinstanceofÂÖ≥ÈîÆÂ≠óËøêÁÆóÁöÑÁªìÊûúÁöÑÂΩ±Âìç„ÄÇ(‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂ±û‰∫éÁ†¥ÂùèÂèå‰∫≤ÂßîÊ¥æÊ®°ÂûãÔºåÂè™ÊòØ‰∏∫‰∫ÜÈ™åËØÅÁ±ªÁöÑÂëΩÂêçÁ©∫Èó¥)1234567891011121314151617181920212223242526272829303132public class ClassLoaderTest &#123; public static void main(String[] args) throws Exception &#123; ClassLoader myLoader = new ClassLoader() &#123; @Override public Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException &#123; try &#123; String fileName = name.substring(name.lastIndexOf(".") + 1) + ".class"; InputStream is = getClass().getResourceAsStream(fileName); if (is == null) &#123; return super.loadClass(name); &#125; byte[] b = new byte[is.available()]; is.read(b); return defineClass(name,b,0,b.length); &#125; catch (IOException e) &#123; throw new ClassNotFoundException(name); &#125; &#125; &#125;; Object obj = myLoader.loadClass("com.todorex.demo.ClassLoaderTest").newInstance(); System.out.println(obj.getClass()); System.out.println(obj instanceof com.todorex.demo.ClassLoaderTest ); &#125;&#125; ËøêË°åÁªìÊûúÔºö12class com.todorex.demo.ClassLoaderTestfalse ËøôÈáåÁöÑfalseÂ∞±ËØÅÊòé‰∫Ü‰∏§‰∏™Á±ªËôΩÁÑ∂Êù•Ëá™‰∫éÂêå‰∏Ä‰∏™ClassÊñá‰ª∂Ôºå‰ΩÜÊòØÁî±‰∫é‰ΩøÁî®ÁöÑÁ±ªÂä†ËΩΩÂô®‰∏çÂêåÔºåÂ∞±‰æùÁÑ∂ÊòØ‰∏§‰∏™Áã¨Á´ãÁöÑÁ±ª„ÄÇ Âèå‰∫≤ÂßîÊ¥æÊ®°ÂûãÁ±ªÂä†ËΩΩÂô®ÁöÑÁ±ªÂûãJavaËôöÊãüÊú∫ËßíÂ∫¶ ÂêØÂä®Á±ªÂä†ËΩΩÂô®ÔºåÂÆÉÊú¨Ë∫´ÊòØÁî±C++ËØ≠Ë®ÄÂÆûÁé∞ÔºåÊàñËÄÖÂ∫ïÂ±ÇÁöÑÂÖ≥ÈîÆÊñπÊ≥ïÊòØÁî®CÂÆûÁé∞ÁöÑ„ÄÇ ÊâÄÊúâÂÖ∂‰ªñÁ±ªÂä†ËΩΩÂô®ÔºåËøô‰∫õÁ±ªÂä†ËΩΩÂô®ÈÉΩÁî±JavaËØ≠Ë®ÄÂÆûÁé∞„ÄÇ JavaÂºÄÂèë‰∫∫ÂëòËßíÂ∫¶ ÂêØÂä®Á±ªÂä†ËΩΩÂô®ÔºöËøô‰∏™Á±ªÂä†ËΩΩÂô®Ë¥üË¥£Â∞ÜÂ≠òÊîæÂú®\libÁõÆÂΩï‰∏≠ÁöÑÔºåÊàñËÄÖË¢´-XbootclasspathÂèÇÊï∞ÊâÄÊåáÂÆöÁöÑË∑ØÂæÑÊâæÈÇ£‰∏™ÁöÑÔºåÂπ∂‰∏îÊòØËôöÊãüÊú∫ËØÜÂà´ÁöÑÔºàÊåâÁÖßÊñá‰ª∂ÂêçËØÜÂà´ÁöÑÔºâÁ±ªÂ∫ìÂä†ËΩΩÂà∞ËôöÊãüÊú∫ÂÜÖÂ≠ò‰∏≠„ÄÇÂêØÂä®Á±ªÂä†ËΩΩÂô®Êó†Ê≥ïË¢´JavaÁ®ãÂ∫èÁõ¥Êé•‰ΩøÁî®ÔºåÁî®Êà∑Âú®ÁºñÂÜôËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®Êó∂ÔºåÂ¶ÇÊûúÈúÄË¶ÅÊääÂä†ËΩΩËØ∑Ê±ÇÂßîÊ¥æÁªôÂºïÂØºÁ±ªÂä†ËΩΩÂô®ÔºåÁõ¥Êé•‰ΩøÁî®nullÂç≥ÂèØ„ÄÇÔºà‰∏çÁü•ÈÅìÊÄé‰πàÁî®ÔºåÁü•ÈÅìÁöÑÂ§ß‰Ω¨ËØ∑ÂëäÁü•ÔºÅÔºÅÔºÅÔºÅÔºâ Êâ©Â±ïÁ±ªÂä†ËΩΩÂô®ÔºöËøô‰∏™Âä†ËΩΩÂô®Áî±sun.misc.Launcher$ExtClassLoaderÂÆûÁé∞ÔºåÂÆÉË¥üË¥£Âä†ËΩΩ\lib\extÁõÆÂΩï‰∏≠ÁöÑÔºåÊàñËÄÖË¢´java.ext.dirsÁ≥ªÁªüÂèòÈáèÊâÄÊåáÂÆöÁöÑË∑ØÂæÑ‰∏≠ÁöÑÊâÄÊúâÁ±ªÂ∫ìÔºåÂºÄÂèëËÄÖÂèØ‰ª•‰ΩøÁî®Êâ©Â±ïÁ±ªÂä†ËΩΩÂô®„ÄÇ Â∫îÁî®Á®ãÂ∫èÁ±ªÂä†ËΩΩÂô®ÔºöËøô‰∏™Á±ªÂä†ËΩΩÂô®Áî±sun.misc.Launcher$AppClassLoaderÂÆûÁé∞Ôºå‰πüÁß∞Á≥ªÁªüÁ±ªÂä†ËΩΩÂô®„ÄÇÂÆÉË¥üË¥£Âä†ËΩΩÁî®Êà∑ÊâÄÊåáÂÆöÁöÑÁ±ªË∑ØÂæÑjava -classpathÊàñ-Djava.class.pathÁöÑÊâÄÊúâÁ±ªÔºåÂºÄÂèëËÄÖÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Ëøô‰∏™Á±ªÂä†ËΩΩÂô®ÔºåÂ¶ÇÊûúÂ∫îÁî®Á®ãÂ∫è‰∏≠Ê≤°ÊúâËá™ÂÆö‰πâËøáËá™Â∑±ÁöÑÁ±ªÂä†ËΩΩÂô®Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãËøô‰∏™Â∞±ÊòØÁ®ãÂ∫è‰∏≠ÈªòËÆ§ÁöÑÁ±ªÂä†ËΩΩÂô®„ÄÇ Á±ªÂä†ËΩΩÂô®ÁöÑÂèå‰∫≤ÂßîÊ¥æÊ®°ÂûãÊ®°ÂûãÂõæ Âèå‰∫≤ÂßîÊ¥æÊ®°ÂûãË¶ÅÊ±ÇÈô§‰∫ÜÈ°∂Â±ÇÁöÑÂêØÂä®Á±ªÂä†ËΩΩÂô®Â§ñÔºåÂÖ∂‰ΩôÁöÑÁ±ªÂä†ËΩΩÂô®ÈÉΩÂ∫îÂΩìÊúâËá™Â∑±ÁöÑÁà∂Á±ªÂä†ËΩΩÂô®„ÄÇËøôÈáåÁöÑÁ±ªÂä†ËΩΩÂô®‰πãÈó¥ÁöÑÁà∂Â≠êÂÖ≥Á≥ª‰∏ÄËà¨‰∏ç‰ºö‰ª•ÁªßÊâøÁöÑÂÖ≥Á≥ªÊù•ÂÆûÁé∞ÔºåËÄåÊòØÈÉΩ‰ΩøÁî®ÁªÑÂêàÂÖ≥Á≥ªÊù•Â§çÁî®Áà∂Âä†ËΩΩÂô®ÁöÑ‰ª£Á†Å„ÄÇÔºàÁªÑÂêàÂ∞±ÊòØÂú®‰∏Ä‰∏™Á±ª‰∏≠Ë∞ÉÁî®Âè¶‰∏Ä‰∏™Á±ªÁöÑ‰ª£Á†ÅÔºâ Â∑•‰ΩúËøáÁ®ãÊàëÁõ∏‰ø°ËøôÂº†ÂõæÊúÄÊ∏ÖÊ•ö‰∫ÜÔºö Êàë‰ª¨ÂèØ‰ª•Áî±ÂõæÁúãÂà∞‰ª•‰∏ãËøáÁ®ãÔºö Ëá™Â∫ïÂêë‰∏äÊ£ÄÊü•Á±ªÊòØÂê¶Â∑≤ÁªèÂä†ËΩΩÔºåËã•Â∑≤Âä†ËΩΩÔºåÁõ¥Êé•ËøîÂõû„ÄÇ Ëã•ÊâÄÊúâÁà∂Á±ªÈÉΩÊ≤°ÊúâÂä†ËΩΩËØ•Á±ªÔºåÂàôËá™È°∂Âêë‰∏ãÂ∞ùËØïÂä†ËΩΩËØ•Á±ª„ÄÇ Â¶ÇÊûúÂä†ËΩΩ‰∏çÊàêÂäüÔºåÂàôÊäõÂá∫ClassNotFoundExceptionÂºÇÂ∏∏„ÄÇ Êàë‰ª¨ÂèØ‰ª•‰ªé‰ª£Á†ÅÁúãÁúã‰ªñÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÔºü ÂÖàÁúãClassLoaderÂáΩÊï∞ÁöÑloadClassÂáΩÊï∞1234567891011121314151617181920212223242526272829303132333435363738protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException &#123; synchronized (getClassLoadingLock(name)) &#123; // ÂÖà‰ªéÁºìÂ≠òÊü•ÊâæËØ•classÂØπË±°ÔºåÊâæÂà∞Â∞±‰∏çÁî®ÈáçÊñ∞Âä†ËΩΩ Class&lt;?&gt; c = findLoadedClass(name); if (c == null) &#123; long t0 = System.nanoTime(); try &#123; if (parent != null) &#123; //Â¶ÇÊûúÊâæ‰∏çÂà∞ÔºåÂàôÂßîÊâòÁªôÁà∂Á±ªÂä†ËΩΩÂô®ÂéªÂä†ËΩΩ c = parent.loadClass(name, false); &#125; else &#123; //Â¶ÇÊûúÊ≤°ÊúâÁà∂Á±ªÔºåÂàôÂßîÊâòÁªôÂêØÂä®Âä†ËΩΩÂô®ÂéªÂä†ËΩΩ c = findBootstrapClassOrNull(name); &#125; &#125; catch (ClassNotFoundException e) &#123; // ClassNotFoundException thrown if class not found // from the non-null parent class loader &#125; if (c == null) &#123; // If still not found, then invoke findClass in order // Â¶ÇÊûúÈÉΩÊ≤°ÊúâÊâæÂà∞ÔºåÂàôÈÄöËøáËá™ÂÆö‰πâÂÆûÁé∞ÁöÑfindClassÂéªÊü•ÊâæÂπ∂Âä†ËΩΩ c = findClass(name); // this is the defining class loader; record the stats sun.misc.PerfCounter.getParentDelegationTime().addTime(t1 - t0); sun.misc.PerfCounter.getFindClassTime().addElapsedTimeFrom(t1); sun.misc.PerfCounter.getFindClasses().increment(); &#125; &#125; if (resolve) &#123;//ÊòØÂê¶ÈúÄË¶ÅÂú®Âä†ËΩΩÊó∂ËøõË°åËß£Êûê resolveClass(c); &#125; return c; &#125; &#125; ‰ªéËØ•ÂáΩÊï∞Êàë‰ª¨ÂèØ‰ª•ÂæóÁü•Âèå‰∫≤ÂßîÊ¥æÊ®°Âûã‰ºöÂÖàÈÄíÂΩíÂéªÊü•ÊâæÁà∂Âä†ËΩΩÂô®ÊòØÂê¶Â∑≤ÁªèÂä†ËΩΩËøáËØ•Á±ª‰∫Ü„ÄÇÂ¶ÇÊûúÁà∂Âä†ËΩΩÂô®ÈÉΩÊ≤°ÊúâÂä†ËΩΩËøáËØ•Á±ªÔºåÂàôÂºÄÂßãË∞ÉÁî®fandClass()Â∞ùËØïÂéªÂä†ËΩΩËØ•Á±ª„ÄÇÁî±‰∫éÂêØÂä®Á±ªÂä†ËΩΩÂô®‰∏çÂèØÁü•ÔºåÊàë‰ª¨ÂèØ‰ª•ÂéªÁúãÁúãÊâ©Â±ïÁ±ªÂä†ËΩΩÂô®ÁöÑfindClass()„ÄÇÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏ãÈù¢ÁöÑÁ±ªÂõæÔºö ÊàëÊé•ÁùÄÊàëÊÉ≥ÂéªÁúãÁúãExtClassLoaderÁ±ªÈáåÈù¢ÁöÑfindClass()ÊñπÊ≥ïÔºåÁªìÊûúÂèëÁé∞Ê≤°ÊúâÔºåÂè™Ë¶ÅÂéª‰ªñÁöÑÁà∂Á±ªURLClassLoaderÂéªÊâæÊâæÔºåËøòÂ•ΩÊâæÂà∞‰∫ÜÔºåÂèØ‰ª•ÁúãÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627282930protected Class&lt;?&gt; findClass(final String name) throws ClassNotFoundException&#123; final Class&lt;?&gt; result; try &#123; result = AccessController.doPrivileged( new PrivilegedExceptionAction&lt;Class&lt;?&gt;&gt;() &#123; public Class&lt;?&gt; run() throws ClassNotFoundException &#123; String path = name.replace('.', '/').concat(".class"); Resource res = ucp.getResource(path, false); if (res != null) &#123; try &#123; //defineClass()ÊñπÊ≥ïÊòØÁî®Êù•Â∞ÜbyteÂ≠óËäÇÊµÅËß£ÊûêÊàêJVMËÉΩÂ§üËØÜÂà´ÁöÑClassÂØπË±° return defineClass(name, res); &#125; catch (IOException e) &#123; throw new ClassNotFoundException(name, e); &#125; &#125; else &#123; return null; &#125; &#125; &#125;, acc); &#125; catch (java.security.PrivilegedActionException pae) &#123; throw (ClassNotFoundException) pae.getException(); &#125; if (result == null) &#123; throw new ClassNotFoundException(name); &#125; return result;&#125; ÂÖ∂ÂÆûAppClassLoaderÁöÑfindClass()‰πüÊòØÁªßÊâøËá™URLCLassLoaderÔºåÊâÄ‰ª•ÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºåÊàë‰ª¨ÂÜçÁªìÂêàÊúÄÂºÄÂßãÁöÑloadClass()Â∞±ÂèØ‰ª•ÂæàÂ•ΩÁöÑÁêÜËß£‰∫Ü‰∏äÈù¢Âèå‰∫≤ÂßîÊ¥æÊ®°ÂûãÁöÑÂ∑•‰ΩúÊµÅÁ®ã‰∫Ü„ÄÇ Â•ΩÂ§ÑjavaÈöèÁùÄÂÆÉÁöÑÁ±ªÂä†ËΩΩ‰∏ÄËµ∑ÂÖ∑Â§á‰∫Ü‰∏ÄÁßçÂ∏¶Êúâ‰ºòÂÖàÁ∫ßÁöÑÂ±ÇÊ¨°ÂÖ≥Á≥ªÔºåÂÆÉËÉΩ‰øùËØÅ‰∏Ä‰∏™Á±ªÂú®Á®ãÂ∫è‰∏≠ÂêÑÁßçÁ±ªÂä†ËΩΩÂô®ÁéØÂ¢É‰∏≠ÈÉΩÊòØÂêå‰∏Ä‰∏™Á±ª„ÄÇ Âèå‰∫≤ÂßîÊ¥æÊ®°ÂûãÁöÑ‚ÄúÂèå‰∫≤‚ÄùÂú®JavaËôöÊãüÊú∫Ëã±ÊñáÊñáÁ´†ÈáåÂèå‰∫≤ÂßîÊ¥æÊ®°ÂûãÁöÑËã±ÊñáÊòØParent-Delegation ModelÔºå‰∏çÁü•ÈÅì‰∏∫‰ªÄ‰πà‰∏≠ÊñáÁøªËØë‰ºöÁß∞‰ªñ‰∏∫Âèå‰∫≤ÂßîÊ¥æÊ®°ÂûãÔºåÂèØËÉΩÊòØ‰ªñ‰∏ÄËà¨ÈÉΩ‰ºöÊâæÂà∞‰∏Ä‰∏™Áà∏Áà∏ÂéªÂßîÊâòÂéªÂ§ÑÁêÜÂêß„ÄÇ Á†¥ÂùèÂèå‰∫≤ÂßîÊ¥æÊ®°ÂûãÁõÆÂâç‰∏∫Ê≠¢ÔºåÂèå‰∫≤ÂßîÊ¥æÊ®°Âûã‰∏ªË¶ÅÂá∫Áé∞Ëøá3Ê¨°ËæÉÂ§ßÁöÑ‚ÄúË¢´Á†¥Âùè‚ÄùÁöÑÊÉÖÂÜµ„ÄÇ Âú®JDK1.2‰πãÂâçÔºåÊñ∞Âª∫Âä†ËΩΩÂô®ÈÉΩÊòØÈÄöËøáÈáçÂÜôloadClass()ÊñπÊ≥ïÊù•Âå∫ÂàÜ‰∏çÂêåÁöÑÂä†ËΩΩÂô®,‰ª•Âèä‰øÆÊîπÂä†ËΩΩÈÄªËæëÔºåËøôÊ†∑Â∞±Á†¥Âùè‰∫ÜÂèå‰∫≤ÂßîÊ¥æÊ®°ÂûãÁöÑÂêë‰∏äÂØªÊâæÁà∂Âä†ËΩΩÂô®ÂéªÂä†ËΩΩÁöÑËßÑËåÉÔºåÂú®JDK1.2‰πãÂêé‰∏∫‰∫ÜÂêëÂâçÂÖºÂÆπÔºåClassLoaderÊ∑ªÂä†‰∫ÜÊñ∞ÁöÑprotectÊñπÊ≥ïfindCLass()ÊñπÊ≥ïÔºå‰ªéËÄåÂÆûÁé∞‰∫ÜÂú®Âèå‰∫≤ÂßîÊ¥æÊ®°Âûã‰∏äÂÆûÁé∞Âä†ËΩΩÈÄªËæëÁöÑ‰øÆÊîπ„ÄÇ Á∫øÁ®ã‰∏ä‰∏ãÊñáÁ±ªÂä†ËΩΩÂô®ÔºåÂ¶ÇJNDIÊúçÂä°(Ê≤°Áî®Ëøá) ÂÆûÁé∞Âä®ÊÄÅÊÄßÔºåÂ¶ÇOSGi(Ê≤°Áî®Ëøá) ÊÄªÁªìÊúâÊó∂ÂÄôÂàÜÊûê‰∏úË•øÊü•ÁúãÊ∫êÁ†ÅÊòØÂøÖË¶ÅÁöÑÔºåËøòË¶ÅÂà©Áî®‰∏Ä‰∫õÂ∑•ÂÖ∑ÂéªÂàÜÊûê‰ªñ‰ª¨ÁöÑÁªßÊâøÂÖ≥Á≥ª„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã Ê∑±ÂÖ•ÁêÜËß£JavaÁ±ªÂä†ËΩΩÂô®(ClassLoader) Ê∑±ÂÖ•ÁêÜËß£JavaÁ±ªÂä†ËΩΩÂô®(‰∏Ä)ÔºöJavaÁ±ªÂä†ËΩΩÂéüÁêÜËß£Êûê]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_8_ËôöÊãüÊú∫Á±ªÂä†ËΩΩÊú∫Âà∂]]></title>
    <url>%2F2017%2F12%2F02%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-8-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®ClassÊñá‰ª∂‰∏≠ÊèèËø∞ÁöÑÂêÑÁßç‰ø°ÊÅØÊúÄÁªàÈÉΩÈúÄË¶ÅÂä†ËΩΩÂà∞ËôöÊãüÊú∫‰πã‰∏≠‰πãÂêéÊâçËÉΩËøêË°åÂíå‰ΩøÁî®„ÄÇËÄåËôöÊãüÊú∫Â¶Ç‰ΩïÂä†ËΩΩËøô‰∫õClassÊñá‰ª∂ÔºüClassÊñá‰ª∂‰∏≠ÁöÑ‰ø°ÊÅØËøõÂÖ•Âà∞ËôöÊãüÊú∫Âêé‰ºöÂèëÁîü‰ªÄ‰πàÂèòÂåñÔºü Ê¶ÇËø∞ËôöÊãüÊú∫ÁöÑÁ±ªÂä†ËΩΩÊú∫Âà∂ÔºöËôöÊãüÊú∫ÊääÊèèËø∞Á±ªÁöÑÊï∞ÊçÆ‰ªéClassÊñá‰ª∂Âä†ËΩΩÂà∞ÂÜÖÂ≠òÔºåÂπ∂ÂØπÊï∞ÊçÆËøõË°åÊ†°È™å„ÄÅËΩ¨Êç¢Ëß£ÊûêÂíåÂàùÂßãÂåñÔºåÊúÄÁªàÂΩ¢ÊàêÂèØ‰ª•Ë¢´ËôöÊãüÊú∫Áõ¥Êé•‰ΩøÁî®ÁöÑJavaÁ±ªÂûã„ÄÇ C/C++ÂíåJavaÈìæÊé•ÁöÑ‰∏çÂêåÔºö C/C++ÔºöÂú®ÁºñËØëÊó∂ÂÆåÊàêÈìæÊé•Â∑•‰ΩúÔºõÈôç‰Ωé‰∫ÜËøêË°åÊó∂ÁöÑÊÄßËÉΩÂºÄÈîÄÔºå‰ΩÜÊòØ‰πüÈôç‰Ωé‰∫ÜËøêË°åÊó∂ÁöÑÁÅµÊ¥ªÊÄß„ÄÇ JavaÔºöÁ±ªÂûãÁöÑÂä†ËΩΩ„ÄÅÈìæÊé•ÂíåÂàùÂßãÂåñËøáÁ®ãÈÉΩÊòØÂú®Á®ãÂ∫èËøêË°åÊúüÈó¥ÂÆåÊàêÁöÑÔºõÂ¢ûÂä†‰∫ÜËøêË°åÊó∂ÁöÑÊÄßËÉΩÂºÄÈîÄÔºå‰ΩÜÊòØÂ¢ûÂº∫‰∫ÜËøêË°åÊó∂ÁöÑÁÅµÊ¥ªÊÄßÔºå‰ΩøJavaÂèòÊàê‰∫ÜÂèØ‰ª•Âä®ÊÄÅÊâ©Â±ïÁöÑËØ≠Ë®Ä„ÄÇËøôÈáåÁöÑÂä®ÊÄÅÊâ©Â±ïÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÁÇπÔºö Âä®ÊÄÅÂä†ËΩΩÔºöÁî®Êà∑ÂèØ‰ª•ÈÄöËøáJavaÈ¢ÑÂÆö‰πâÁöÑÊàñËÄÖËá™ÂÆö‰πâÁöÑÁ±ªÂä†ËΩΩÔºåËÆ©‰∏Ä‰∏™Êú¨Âú∞ÁöÑÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•Âú®ËøêË°åÊó∂Âú®‰ªéÁΩëÁªúÊàñÂÖ∂‰ªñÂú∞ÊñπÂä†ËΩΩ‰∏Ä‰∏™‰∫åËøõÂà∂ÊµÅ‰Ωú‰∏∫Á®ãÂ∫è‰ª£Á†ÅÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ Âä®ÊÄÅÈìæÊé•ÔºöÂ¶ÇÊûúÁºñÂÜô‰∏Ä‰∏™Èù¢ÂêëÊé•Âè£ÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåÂèØ‰ª•Á≠âÂà∞ËøêË°åÊó∂ÂÜçÊåáÂÆöÂÖ∂ÂÆûÈôÖÁöÑÂÆûÁé∞Á±ª„ÄÇ Á±ªÂä†ËΩΩÁöÑÊó∂Êú∫Á±ªÁöÑÁîüÂëΩÂë®ÊúüÁ±ª‰ªéË¢´Âä†ËΩΩÂà∞ËôöÊãüÊú∫ÂÜÖÂ≠ò‰∏≠ÂºÄÂßãÔºåÂà∞Âç∏ËΩΩÂá∫ÂÜÖÂ≠ò‰∏∫Ê≠¢ÔºåÂÆÉÁöÑÊï¥‰∏™ÁîüÂëΩÂë®ÊúüÂåÖÊã¨Ôºö ÂÖ∂‰∏≠ÈìæÊé•ÂåÖÊã¨‰∏ãÈù¢‰∏â‰∏™ÈÉ®ÂàÜÔºö ÁîüÂëΩÂë®Êúü‰∏≠Âä†ËΩΩ„ÄÅÈ™åËØÅ„ÄÅÂáÜÂ§á„ÄÅÂàùÂßãÂåñÂíåÂç∏ËΩΩËøô5‰∏™Èò∂ÊÆµÈ°∫Â∫èÊòØÁ°ÆÂÆöÁöÑÔºå‰ΩÜÊòØÂèàÊòØÂèØ‰ª•‰∫íÁõ∏‰∫§ÂèâÊ∑∑ÂêàÂºèËøõË°åÁöÑ„ÄÇ Á±ªÁöÑÂàùÂßãÂåñÊó∂Êú∫‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÈúÄË¶ÅÂºÄÂßãÁ±ªÂä†ËΩΩËøáÁ®ãÁöÑÁ¨¨‰∏ÄÈò∂ÊÆµÔºöÂä†ËΩΩÔºüJavaËôöÊãüÊú∫ËßÑËåÉÊ≤°ÊúâËøõË°åÂº∫Âà∂Á∫¶ÊùüÔºå‰ΩÜÊòØÂØπÂàùÂßãÂåñÈò∂ÊÆµÔºåËôöÊãüÊú∫ËßÑËåÉÂàôÊòØ‰∏•Ê†ºËßÑÂÆö‰∫ÜÊúâ‰∏îÂè™Êúâ5ÁßçÊÉÖÂÜµÂøÖÈ°ªÁ´ãÂç≥ÂØπÁ±ª‚ÄúÂàùÂßãÂåñ‚Äù„ÄÇ ÈÅáÂà∞new„ÄÅgetstatic„ÄÅputstaticÊàñËÄÖinvokestaticËøô4Êù°Â≠óËäÇÁ†ÅÊåá‰ª§Êó∂ÔºåÂ¶ÇÊûúÁ±ªÊ≤°ÊúâËøõË°åËøáÂàùÂßãÂåñÔºåÂàôÈúÄË¶ÅËß¶ÂèëÂÖ∂ÂàùÂßãÂåñÔºåÁîüÊàêËøô4Êù°Êåá‰ª§ÁöÑÊúÄÂ∏∏ËßÅÁöÑJava‰ª£Á†ÅÂú∫ÊôØÊòØÔºö‰ΩøÁî®newÂÖ≥ÈîÆÂ≠óÂÆû‰æãÂåñÂØπË±°ÁöÑÊó∂ÂÄôÔºåËØªÂèñÊàñËÆæÁΩÆ‰∏Ä‰∏™Á±ªÁöÑÈùôÊÄÅÂ≠óÊÆµÔºàË¢´final‰øÆÈ•∞Âπ∂‰∏îÂ∑≤Âú®ÁºñËØëÂô®ÊääÁªìÊûúÊîæÂú®Â∏∏ÈáèÊ±†ÁöÑÈùôÊÄÅÂ≠óÊÆµÈô§Â§ñÔºâÁöÑÊó∂ÂÄôÔºå‰ª•ÂèäË∞ÉÁî®‰∏Ä‰∏™Á±ªÁöÑÈùôÊÄÅÊñπÊ≥ïÁöÑÊó∂ÂÄô„ÄÇ ‰ΩøÁî®java.lang.reflectÂåÖÁöÑÊó∂ÂÄôÂØπÁ±ªËøõË°åÂèçÂ∞ÑË∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÁ±ªÊ≤°ÊúâËøõË°åËøáÂàùÂßãÂåñÔºåÂàôÈúÄË¶ÅËß¶ÂèëÂÖ∂ÂàùÂßãÂåñ„ÄÇ ÂΩìÂàùÂßãÂåñ‰∏Ä‰∏™Á±ªÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÂèëÁé∞ÂÖ∂Áà∂Á±ªËøòÊ≤°ÊúâËøõË°åÂàùÂßãÂåñÔºåÂàôÈúÄË¶ÅÂÖàËß¶ÂèëÂÖ∂Áà∂Á±ªÁöÑÂàùÂßãÂåñ„ÄÇ ÂΩìËôöÊãüÊú∫ÂêØÂä®Êó∂ÔºåÁî®Êà∑ÈúÄË¶ÅÂà∂ÂÆö‰∏Ä‰∏™Ë¶ÅÊâßË°åÁöÑ‰∏ªÁ±ªÔºàÂåÖÂê´mainÊñπÊ≥ïÁöÑÈÇ£‰∏™Á±ªÔºâÔºåËôöÊãüÊú∫‰ºöÂÖàÂàùÂßãÂåñËøô‰∏™Á±ª„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™java.lang.invoke.MethodHandleÂÆû‰æãËß£ÊûêÁªìÊûúÊòØREF_getStaic,REF_putStatic,REF_invokeStaticÁöÑÊñπÊ≥ïÂè•ÊüÑÔºåÂπ∂‰∏îËøô‰∏™Âè•ÊüÑÊâÄÂØπÂ∫îÁöÑÁ±ªÊ≤°ÊúâËøõË°åËøáÂàùÂßãÂåñÔºåÂàôÈúÄË¶ÅÂÖàËß¶ÂèëÂÖ∂ÂàùÂßãÂåñ„ÄÇÔºàËøòÊ≤°Áî®ËøáÔºâ ‰∏äÈù¢5ÁßçÂú∫ÊôØ‰∏≠ÁöÑË°å‰∏∫Êàê‰∏∫ÂØπ‰∏Ä‰∏™Á±ªÁöÑ‰∏ªÂä®ÂºïÁî®ÔºåÈô§Ê≠§‰πãÂ§ñÔºåÊâÄÊúâÂ∫îÁî®Á±ªÁöÑÊñπÂºèÈÉΩ‰∏ç‰ºöËß¶ÂèëÂàùÂßãÂåñÔºåÊàê‰∏∫Ë¢´Âä®ÂºïÁî®„ÄÇ‰∏ãÈù¢ÊòØÂá†‰∏™Ë¢´Âä®ÂºïÁî®ÁöÑÂú∫ÊôØÔºö ÈÄöËøáÂ≠êÁ±ªÂºïÁî®Áà∂Á±ªÁöÑÈùôÊÄÅÂ≠óÊÆµÔºå‰∏ç‰ºöÂØºËá¥Â≠êÁ±ªÂàùÂßãÂåñ„ÄÇ ÈÄöËøáÊï∞ÁªÑÊù•ÂÆö‰πâÂºïÁî®Á±ªÔºå‰∏ç‰ºöËß¶ÂèëÊ≠§Á±ªÁöÑÂàùÂßãÂåñ„ÄÇ Â∏∏ÈáèÂú®ÁºñËØëÈò∂ÊÆµ‰ºöÂ≠òÂÖ•Ë∞ÉÁî®Á±ªÁöÑÂ∏∏ÈáèÊ±†‰∏≠ÔºåÊú¨Ë¥®‰∏äÊ≤°ÊúâÁõ¥Êé•ÂºïÁî®Âà∞ÂÆö‰πâÂ∏∏ÈáèÁöÑÁ±ªÔºå‰∏ç‰ºöËß¶ÂèëËØ•Á±ªÁöÑÂàùÂßãÂåñÔºåÂõ†‰∏∫Âú®ÁºñËØëÈò∂ÊÆµÈÄöËøáÂ∏∏Èáè‰º†Êí≠‰ºòÂåñÔºåÂ∑≤ÁªèÂ∞ÜÂÖ∂‰ªñÁ±ªÁöÑÂ∏∏ÈáèÂ≠òÂÖ•Âà∞Ë∞ÉÁî®Á±ªÁöÑÂ∏∏ÈáèÊ±†‰∫Ü„ÄÇ ËØ¥‰∏ÄÁÇπÊé•Âè£‰∏éÁ±ªÂàùÂßãÂåñ‰∏ñÊó∂Êú∫ÁöÑ‰∏çÂêåÔºöÂú®Êúâ‰∏îÂè™ÊúâÁöÑ5Êù°‰∏≠ÁöÑÁ¨¨3Êù°,ÂΩì‰∏Ä‰∏™Á±ªÂú®ÂàùÂßãÂåñÊó∂ÔºåË¶ÅÊ±ÇÂÖ∂Áà∂Á±ªÂÖ®ÈÉ®ÈÉΩÂ∑≤ÁªèÂàùÂßãÂåñËøá‰∫ÜÔºå‰ΩÜÊòØÊé•Âè£Âú®ÂàùÂßãÂåñÊó∂Ôºå‰∏çË¶ÅÊ±ÇÂÖ∂Áà∂Êé•Âè£ÂÖ®ÈÉ®ÈÉΩÂÆåÊàê‰∫ÜÂàùÂßãÂåñÔºåÂè™ÊúâÁúüÊ≠£‰ΩøÁî®Âà∞Áà∂Êé•Âè£ÁöÑÊó∂ÂÄôÔºàÂ¶ÇÂºïÁî®Êé•Âè£‰∏≠ÂÆö‰πâÁöÑÂ∏∏ÈáèÔºâÊâç‰ºöÂàùÂßãÂåñ„ÄÇ Á±ªÂä†ËΩΩÁöÑËøáÁ®ãJavaËôöÊãüÊú∫‰∏≠Á±ªÂä†ËΩΩÁöÑÂÖ®ËøáÁ®ã‰∏∫Ôºö Âä†ËΩΩËôöÊãüÊú∫Âú®Âä†ËΩΩÈò∂ÊÆµË¶ÅÂπ≤‰ªÄ‰πà ÈÄöËøá‰∏Ä‰∏™Á±ªÁöÑÂÖ®ÈôêÂÆöÂêçÊù•Ëé∑ÂèñÂÆö‰πâÊ≠§Á±ªÁöÑ‰∫åËøõÂà∂Â≠óËäÇÊµÅ„ÄÇ Â∞ÜËøô‰∏™Á±ªÁöÑÂ≠óËäÇÊµÅÊâÄ‰ª£Ë°®ÁöÑÈùôÊÄÅÂ≠òÂÇ®ÁªìÊûÑËΩ¨Âåñ‰∏∫ÊñπÊ≥ïÂå∫ÁöÑËøêË°åÊó∂Êï∞ÊçÆÁªìÊûÑ Âú®ÂÜÖÂ≠ò‰∏≠ÁîüÊàê‰∏Ä‰∏™‰ª£Ë°®Ëøô‰∏™Á±ªÁöÑjava.lang.ClassÂØπË±°Ôºå‰Ωú‰∏∫ÊñπÊ≥ïÂå∫Ëøô‰∏™Á±ªÁöÑÂêÑÁßçÊï∞ÊçÆÁöÑËÆøÈóÆÂÖ•Âè£„ÄÇ ‰∫åËøõÂà∂Â≠óËäÇÊµÅÁöÑÊù•Ê∫ê ‰ªéZIPÂåÖ‰∏≠ËØªÂèñÔºåÊúÄÁªàÊàê‰∏∫‰∫ÜÊó•ÂêéJAR„ÄÅEAR„ÄÅWARÊ†ºÂºèÁöÑÂü∫Á°Ä„ÄÇ ‰ªéÁΩëÁªú‰∏≠Ëé∑ÂèñÔºåËøô‰∏™Âú∫ÊôØÊúÄÂÖ∏ÂûãÁöÑÂ∫îÁî®Â∞±ÊòØAppletÔºàÊ≤°Áî®ËøáÔºâ„ÄÇ ËøêË°åÊó∂ËÆ°ÁÆóÁîüÊàêÔºåËøô‰∏™Âú∫ÊôØ‰ΩøÁî®ÁöÑÊúÄÂ§öÁöÑÂ∞±ÊòØÂä®ÊÄÅ‰ª£ÁêÜÊäÄÊúØÔºåÁîüÊàê‰ª£ÁêÜÁ±ªÁöÑ‰∫åËøõÂà∂Â≠óËäÇÊµÅ„ÄÇ Áî±ÂÖ∂‰ªñÊñá‰ª∂ÁîüÊàêÔºåÂÖ∏ÂûãÂú∫ÊôØÊòØJSPÂ∫îÁî®ÔºåÂç≥Áî±JSPÊñá‰ª∂ÁîüÊàêÂØπÂ∫îÁöÑClassÁ±ª„ÄÇ Âä†ËΩΩÈò∂ÊÆµÁöÑÊ≥®ÊÑèÁÇπ ÈùûÊï∞ÁªÑÁ±ªÁöÑÂä†ËΩΩÈò∂ÊÆµÊòØÂºÄÂèë‰∫∫ÂëòÂèØÊéßÊÄßÊúÄÂº∫ÁöÑÔºåÂä†ËΩΩÈò∂ÊÆµÊó¢ÂèØ‰ª•‰ΩøÁî®Á≥ªÁªüÊèê‰æõÁöÑÂºïÂØºÁ±ªÂä†ËΩΩÂô®Ôºå‰πüÂèØ‰ª•‰ΩøÁî®Áî®Êà∑Ëá™ÂÆö‰πâÁöÑÁ±ªÂä†ËΩΩÂô®„ÄÇ Êï∞ÁªÑÁ±ªÊú¨Ë∫´‰∏çÈÄöËøáÁ±ªÂä†ËΩΩÂô®ÂàõÂª∫ÔºåÂÆÉÊòØÁî±JavaËôöÊãüÊú∫Áõ¥Êé•ÂàõÂª∫ÁöÑÔºå‰ΩÜÊòØÊúÄÁªàËøòÊòØË¶ÅÈù†Á±ªÂä†ËΩΩÂô®ÊòØÂàõÂª∫Êï∞ÁªÑÁ±ªÈáåÈù¢ÁöÑÂÖÉÁ¥†Á±ªÂûãÔºåÊØè‰∏™Êï∞ÁªÑÈÉΩ‰ºöÂú®Âä†ËΩΩÊï∞ÁªÑÂÖÉÁ¥†ÁöÑÁ±ªÂä†ËΩΩÂô®ÁöÑÁ±ªÂêçÁß∞Á©∫Èó¥‰∏äË¢´Ê†áËØÜ„ÄÇ JavaËôöÊãüÊú∫ËßÑËåÉÊ≤°ÊúâËßÑÂÆöÁ±ªÂú®ÊñπÊ≥ïÂå∫ÁöÑÂÖ∑‰ΩìÊï∞ÊçÆÁªìÊûÑÔºå‰πüÊ≤°ÊúâËßÑÂÆöÁîüÊàêÁöÑClassÂØπË±°Â≠òÂÇ®Âú®Âì™ÈáåÔºåÂØπ‰∫éHotSpotËôöÊãüÊú∫ËÄåË®ÄÔºåÂÆÉË¢´Â≠òÊîæÂú®ÊñπÊ≥ïÂå∫ÈáåÈù¢Ôºåjdk1.8‰ª•ÂêéÂ∫îËØ•Âú®Áõ¥Êé•ÂÜÖÂ≠ò‰∏≠Âêß„ÄÇ Âä†ËΩΩÈò∂ÊÆµ‰∏éËøûÊé•Èò∂ÊÆµÁöÑÈÉ®ÂàÜÂÜÖÂÆπÔºà‰∏ÄÈÉ®ÂàÜÂ≠óËäÇÁ†ÅÊñá‰ª∂Ê†ºÂºèÈ™åËØÅÂ∑•‰ΩúÔºâÊòØ‰∫§ÂèâËøõË°åÁöÑ„ÄÇ È™åËØÅÈ™åËØÅÁõÆÁöÑÁî±‰∫éClassÊñá‰ª∂Âπ∂‰∏ç‰∏ÄÂÆöË¶ÅÊ±ÇÁî®JavaÊ∫êÁ†ÅÁºñËØëËÄåÊù•ÔºåÂèØ‰ª•‰ΩøÁî®‰ªª‰ΩïÈÄîÂæÑ‰∫ßÁîüÔºåÊâÄ‰ª•ÂÆâÂÖ®ÊÄßÂæó‰∏çÂà∞‰øùËØÅÔºåËÄåÈ™åËØÅÁöÑÁõÆÁöÑÂ∞±ÊòØ‰∏∫‰∫ÜÁ°Æ‰øùClassÊñá‰ª∂ÁöÑÂ≠óËäÇÊµÅÂåÖÂê´ÁöÑ‰ø°ÊÅØÁ¨¶ÂêàËôöÊãüÊú∫ÁöÑË¶ÅÊ±ÇÔºåÂπ∂‰∏î‰∏ç‰ºöÂç±ÂÆ≥ËôöÊãüÊú∫Ëá™Ë∫´ÁöÑÂÆâÂÖ®„ÄÇ È™åËØÅËøáÁ®ã Êñá‰ª∂Ê†ºÂºèÈ™åËØÅ ‰∏ªË¶ÅÁõÆÁöÑÊòØ‰øùËØÅËæìÂÖ•ÁöÑÂ≠óËäÇÊµÅËÉΩÊ≠£Á°ÆÂú∞Ëß£ÊûêÂπ∂Â≠òÂÇ®‰∫éÊñπÊ≥ïÂå∫‰πãÂÜÖÔºåÊ†ºÂºè‰∏äË¥üËç∑‰∏Ä‰∏™JavaÁ±ªÂûã‰ø°ÊÅØÁöÑË¶ÅÊ±ÇÔºåËøô‰∏™Èò∂ÊÆµÁöÑÈ™åËØÅÊòØÂü∫‰∫é‰∫åËøõÂà∂Â≠óËäÇÊµÅËøõË°åÁöÑÔºåÂè™ÊúâÈÄöËøáËøô‰∏™Èò∂ÊÆµÁöÑÈ™åËØÅÂêéÔºåÂ≠óËäÇÊµÅÊâç‰ºöËøõÂÖ•ÂÜÖÂ≠òÁöÑÊñπÊ≥ïÂå∫‰∏≠ËøõË°åÂ≠òÂÇ®ÔºåÊâÄ‰ª•ÂêéÈù¢ÁöÑ3‰∏™È™åËØÅÈò∂ÊÆµÂÖ®ÈÉ®ÊòØÂü∫‰∫éÊñπÊ≥ïÂå∫ÁöÑÂ≠òÂÇ®ÁªìÊûÑËøõË°åÁöÑÔºå‰∏ç‰ºöÂÜçÁõ¥Êé•Êìç‰ΩúÂ≠óÁ¨¶ÊµÅ„ÄÇ ÂÖÉÊï∞ÊçÆÈ™åËØÅ ‰∏ªË¶ÅÁõÆÁöÑÊòØÂØπÁ±ªÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØËøõË°åËØ≠‰πâÊ†°È™åÔºå‰øùËØÅ‰∏çÂ≠òÂú®‰∏çÁ¨¶ÂêàJavaËØ≠Ë®ÄËßÑËåÉÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØ„ÄÇ Â≠óËäÇÁ†ÅÈ™åËØÅ ‰∏ªË¶ÅÁõÆÁöÑÊòØÈÄöËøáÊï∞ÊçÆÊµÅÂíåÊéßÂà∂ÊµÅÂàÜÊûêÔºåÁ°ÆÂÆöÁ®ãÂ∫èËØ≠‰πâÊòØÂêàÊ≥ïÁöÑÔºåÁ¨¶ÂêàÈÄªËæëÁöÑÔºå‰øùËØÅË¢´Ê†°È™åÁ±ªÁöÑÊñπÊ≥ïÂú®ËøêË°åÊó∂‰∏ç‰ºöÂÅöÂá∫Âç±ÂÆ≥ËôöÊãüÊú∫ÂÆâÂÖ®ÁöÑ‰∫ã‰ª∂„ÄÇ Á¨¶Âè∑ÂºïÁî®È™åËØÅ ÂèëÁîüÂú®Ëß£ÊûêÈò∂ÊÆµÔºàÂ∞ÜÁ¨¶Âè∑ÂºïÁî®ËΩ¨Âåñ‰∏∫Áõ¥Êé•ÂºïÁî®ÔºâÔºå‰∏ªË¶ÅÁõÆÁöÑÊòØÁ°Æ‰øùËß£ÊûêÂä®‰ΩúËÉΩÊ≠£Â∏∏ÊâßË°å„ÄÇ Ë∞É‰ºòÁöÑÂú∞ÊñπÂ¶ÇÊûúÊâÄËøêË°åÁöÑ‰ª£Á†ÅÈÉΩÂ∑≤ÁªèË¢´ÂèçÂ§ç‰ΩøÁî®ÂíåÈ™åËØÅËøáÔºåÈÇ£‰πàÂú®ÂÆûÊñΩÈò∂ÊÆµÂ∞±ÂèØ‰ª•ËÄÉËôë‰ΩøÁî®-Xverify:noneÂèÇÊï∞Êù•ÂÖ≥Èó≠Â§ßÈÉ®ÂàÜÁöÑÁ±ªÈ™åËØÅÊé™ÊñΩÔºå‰ª•Áº©Áü≠ËôöÊãüÊú∫Á±ªÂä†ËΩΩÁöÑÊó∂Èó¥„ÄÇ ÂáÜÂ§áÂáÜÂ§áÈò∂ÊÆµÊòØÊ≠£Âºè‰∏∫Á±ªÂèòÈáèÂàÜÈÖçÂÜÖÂ≠òÂπ∂ËÆæÁΩÆÁ±ªÂèòÈáèÂàùÂßãÂÄºÁöÑÈò∂ÊÆµÔºå‰ΩÜÊòØËøôÈáåÁöÑÂàùÂßãÂÄºÈúÄË¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãÔºö ÈÄöÂ∏∏ÊÉÖÂÜµÔºöÂàùÂßãÂÄºÊòØÊï∞ÊçÆÁ±ªÂûãÁöÑÈõ∂ÂÄº Á±ªÂèòÈáèÊúâfianlÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞ÔºöÂàùÂßãÂÄºÊòØConstantValueÂ±ûÊÄßÊâÄÊåáÂÆöÁöÑÂÄº Ëß£ÊûêËß£ÊûêÈò∂ÊÆµÊòØËôöÊãüÊú∫Â∞ÜÂ∏∏ÈáèÊ±†ÂÜÖÁöÑÁ¨¶Âè∑ÂºïÁî®ÊõøÊç¢‰∏∫Áõ¥Êé•ÂºïÁî®ÁöÑËøáÁ®ã„ÄÇËøôÈáåËß£Èáä‰∏Ä‰∏ãÁõ¥Êé•ÂºïÁî®ÂíåÁ¨¶Âè∑ÂºïÁî®Ôºö Á¨¶Âè∑ÂºïÁî®ÔºöÁ¨¶Âè∑ÂºïÁî®‰ª•‰∏ÄÁªÑÁ¨¶Âè∑Êù•ÊèèËø∞ÊâÄÂºïÁî®ÁöÑÁõÆÊ†áÔºåÁ¨¶Âè∑ÂèØ‰ª•ÊòØ‰ªª‰ΩïÂΩ¢ÂºèÁöÑÂ≠óÈù¢Èáè„ÄÇÂÆÉÁöÑÂ≠óÈù¢ÈáèÂΩ¢ÂºèÊòéÁ°ÆÂÆö‰πâÂú®JavaËôöÊãüÊú∫ËßÑËåÉÁöÑClassÊñá‰ª∂Ê†ºÂºè‰∏≠„ÄÇÁ¨¶Âè∑ÂºïÁî®‰∫éËôöÊãüÊú∫ÂÆûÁé∞ÁöÑÂÜÖÂ≠òÂ∏ÉÂ±ÄÊó†ÂÖ≥ÔºåÂºïÁî®ÁöÑÁõÆÊ†áÂπ∂‰∏ç‰∏ÄÂÆöÂ∑≤ÁªèÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠„ÄÇ Áõ¥Êé•ÂºïÁî®ÔºöÂÆÉÂèØ‰ª•ÊòØÁõ¥Êé•ÊåáÂêëÁõÆÊ†áÁöÑÊåáÈíà„ÄÅÁõ∏ÂØπÂÅèÁßªÈáèÊàñËÄÖÊòØ‰∏Ä‰∏™ËÉΩÈó¥Êé•ÂÆö‰ΩçÂà∞ÁõÆÊ†áÁöÑÂè•ÊüÑ„ÄÇÁõ¥Êé•ÂºïÁî®ÂíåËôöÊãüÊú∫ÂÆûÁé∞ÁöÑÂÜÖÂ≠òÂ∏ÉÂ±ÄÁõ∏ÂÖ≥ÔºåÊúâ‰∫ÜÁõ¥Êé•ÂºïÁî®ÔºåÈÇ£‰πàÂºïÁî®ÁöÑÁõÆÊ†áÂøÖÂÆöÂ∑≤ÁªèÂú®ÂÜÖÂ≠ò‰∏≠Â≠òÂú®„ÄÇ ËôöÊãüÊú∫ËßÑËåÉ‰∏≠Âπ∂Êú™ËßÑÂÆöËß£ÊûêÈò∂ÊÆµÂèëÁîüÁöÑÂÖ∑‰ΩìÊó∂Èó¥„ÄÇÊâÄ‰ª•ËôöÊãüÊú∫ÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÊù•Âà§Êñ≠Âà∞Â∫ïÊòØÂú®Á±ªË¢´Âä†ËΩΩÂô®Âä†ËΩΩÊó∂Â∞±ÂØπÂ∏∏ÈáèÊ±†ÁöÑÁ¨¶Âè∑ÂºïÁî®ËøõË°åËß£ÊûêÔºåËøòÊòØÁ≠âÂà∞‰∏Ä‰∏™Á¨¶Âè∑ÂºïÁî®Ë¢´‰ΩøÁî®ÂâçÂÜçÂéªËß£ÊûêÂÆÉ„ÄÇ Ëß£ÊûêÂä®‰Ωú‰∏ªË¶ÅÈíàÂØπÁ±ªÊàñÊé•Âè£„ÄÅÂ≠óÊÆµ„ÄÅÁ±ªÊñπÊ≥ï„ÄÅÊé•Âè£ÊñπÊ≥ï„ÄÅÊñπÊ≥ïÁ±ªÂûã„ÄÅÊñπÊ≥ïÂè•ÊüÑÂíåË∞ÉÁî®ÁÇπÈôêÂÆöÁ¨¶7Á±ªÁ¨¶Âè∑ÂºïÁî®ËøõË°å„ÄÇ ÂàùÂßãÂåñÁ±ªÂàùÂßãÂåñÊó∂Á±ªÂä†ËΩΩËøáÁ®ãÁöÑÊúÄÂêé‰∏ÄÊ≠•ÔºåÂà∞‰∫ÜÂàùÂßãÂåñÈò∂ÊÆµÔºåÊâçÁúüÊ≠£ÂºÄÂßãÊâßË°åÁ±ª‰∏≠ÂÆö‰πâÁöÑJavaÁ®ãÂ∫è‰ª£Á†Å„ÄÇÂú®ÂáÜÂ§áÈò∂ÊÆµÔºåÂèòÈáèÂ∑≤ÁªèËµãËøá‰∏ÄÊ¨°Á≥ªÁªüË¶ÅÊ±ÇÁöÑÂàùÂßãÂÄºÔºåËÄåÂú®ÂàùÂßãÂåñÈò∂ÊÆµÔºåÂàôÊ†πÊçÆÁ®ãÂ∫èÂëòÈÄöËøáÁ®ãÂ∫èÂà∂ÂÆöÁöÑ‰∏ªËßÇËÆ°ÂàíÂéªÂàùÂßãÂåñÂèòÈáèÂíåÂÖ∂‰ªñËµÑÊ∫êÔºå‰ªéÂè¶‰∏Ä‰∏™ËßíÂ∫¶Êù•Ë°®ËææÔºöÂàùÂßãÂåñÈò∂ÊÆµÊòØÊâßË°åÁ±ªÊûÑÈÄ†Âô®clinit()ÊñπÊ≥ïÁöÑËøáÁ®ã„ÄÇ‰∏ãÈù¢ÊòØclinit()ÊñπÊ≥ïÁöÑÊ≥®ÊÑèÁÇπÔºö clinit()ÊñπÊ≥ïÊòØÁî±ÁºñËØëÂô®Ëá™Âä®Êî∂ÈõÜÁ±ª‰∏≠ÁöÑÊâÄÊúâÁ±ªÂèòÈáèÁöÑËµãÂÄºÂä®‰ΩúÂíåÈùôÊÄÅËØ≠Âè•Âùó‰∏≠ËØ≠Âè•ÂêàÂπ∂‰∫ßÁîüÁöÑÔºåÊî∂ÈõÜÁöÑÈ°∫Â∫èÊòØÊúâËØ≠Âè•Âú®Ê∫êÊñá‰ª∂Âá∫Áé∞ÁöÑÈ°∫Â∫èÂÜ≥ÂÆöÁöÑÔºåËøôÈáåÊúâÂæàÁâπÂà´ÁöÑ‰∏ÄÁÇπÔºöÈùôÊÄÅËØ≠Âè•Âùó‰∏≠Âè™ËÉΩËÆøÈóÆÂà∞ÂÆö‰πâÂú®ÈùôÊÄÅËØ≠Âè•Âùó‰πãÂâçÁöÑÂèòÈáèÔºåÂÆö‰πâÂú®‰πãÂêéÁöÑÂèòÈáèÔºåÂú®ÂâçÈù¢ÁöÑÈùôÊÄÅËØ≠Âè•ÂùóÂèØ‰ª•ËµãÂÄºÔºå‰ΩÜÊòØ‰∏çËÉΩËÆøÈóÆÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456789public class Test &#123; static &#123; i =0; //Ê≠£Â∏∏ÁºñËØë System.out.println(i); //ÊèêÁ§∫‚ÄúÈùûÊ≥ïÂêëÂâçÂºïÁî®‚Äù &#125; static int i =1;&#125; clinit()ÊñπÊ≥ï‰∏çÈúÄË¶ÅÊòæÂºèÂú∞Ë∞ÉÁî®Áà∂Á±ªÊûÑÈÄ†Âô®ÔºåËôöÊãüÊú∫‰ºö‰øùËØÅÂú®Â≠êÁ±ªÁöÑclinit()ÊñπÊ≥ïÊâßË°åÂâçÔºåÁà∂Á±ªÁöÑclinit()ÊñπÊ≥ïÂ∑≤ÁªèÊâßË°åÂÆåÊØï„ÄÇ Áî±‰∫éÁà∂Á±ªÁöÑclinit()ÊñπÊ≥ïÂÖàÊâßË°åÔºåÊâÄ‰ª•Áà∂Á±ªÂÆö‰πâÁöÑÈùôÊÄÅËØ≠Âè•ÂùóË¶Å‰ºòÂÖà‰∫éÂ≠êÁ±ªÁöÑÂèòÈáèËµãÂÄºÊìç‰Ωú„ÄÇ ËôöÊãüÊú∫‰ºö‰øùËØÅ‰∏Ä‰∏™Á±ªÁöÑclinit()ÊñπÊ≥ïÂú®Â§öÁ∫øÁ®ã‰∏≠Ë¢´Ê≠£Á°ÆÂú∞Âä†ÈîÅ„ÄÅÂêåÊ≠•ÔºåÂ¶ÇÊûúÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂ÂéªÂàùÂßãÂåñ‰∏Ä‰∏™Á±ªÔºåÈÇ£‰πàÂè™‰ºöÊúâ‰∏Ä‰∏™Á∫øÁ®ãÂéªÊâßË°åËøô‰∏™Á±ªÁöÑclinit()ÊñπÊ≥ïÔºåÂÖ∂‰ªñÁ∫øÁ®ãÈÉΩË¶ÅÈòªÂ°ûÁ≠âÂæÖÔºåÁõ¥Âà∞Ê¥ªÂä®Á∫øÁ®ãÊâßË°åclinit()ÊñπÊ≥ïÂÆåÊØï„ÄÇ ÊÄªÁªìÁ±ªÂä†ËΩΩÁöÑ5‰∏™Èò∂ÊÆµÈÉΩÂæàÈáçË¶ÅÔºåÂØπÁêÜËß£ÂØπË±°ÁöÑÂàõÂª∫ËøáÁ®ãÊúâ‰∫ÜÊõ¥Â•ΩÁöÑÁêÜËß£„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_7_Êé¢ÁßòÁ±ªÊñá‰ª∂]]></title>
    <url>%2F2017%2F12%2F01%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-7-%E6%8E%A2%E7%A7%98%E7%B1%BB%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöjava‰ª£Á†ÅÁºñËØëÁöÑÁªìÊûú‰ªéÊú¨Âú∞Êú∫Âô®Á†ÅËΩ¨Âèò‰∏∫Â≠óËäÇÁ†ÅÔºåÂπ∂‰∏îÁîüÊàê‰∫ÜÁ±ªÊñá‰ª∂ÔºåÈÇ£‰πàËøô‰∏™Á±ªÊñá‰ª∂ÈáåÈù¢ÊòØ‰ªÄ‰πà‰∏úË•øÂë¢Ôºü JVMÁöÑÊó†ÂÖ≥ÊÄß‰∏ÄËà¨ÊèêÂà∞JavaÁöÑÂ•ΩÂ§ÑÔºåÂÖ∂‰∏≠ÂøÖÂÆöÊúâ‰∏ÄÊù°ÊòØÂπ≥Âè∞Êó†ÂÖ≥ÊÄßÔºå‰ΩÜÊòØËøô‰∏™Â§™Áã≠Èöò‰∫ÜÔºåÂÖ∂ÂÆûÂÆÉÊúâ‰∏§ÁÇπÊó†ÂÖ≥ÊÄß„ÄÇ Âπ≥Âè∞Êó†ÂÖ≥ÊÄßJavaÂú®ÂàöÂàöËØûÁîü‰πãÊó∂Â∞±Êúâ‰∏Ä‰∏™ËëóÂêçÁöÑÂÆ£‰º†Âè£Âè∑Ôºö‚Äú‰∏ÄÊ¨°ÁºñÂÜôÔºåÂà∞Â§ÑËøêË°åÔºàWrite Once, Run AnywhereÔºâ‚Äù„ÄÇ‚Äú‰∏éÂπ≥Âè∞Êó†ÂÖ≥‚ÄùÁöÑÁêÜÊÉ≥ÊúÄÁªàÂÆûÁé∞Âú®Êìç‰ΩúÁ≥ªÁªüÁöÑÂ∫îÁî®Â±Ç‰∏äÔºöÂÖ∂ÂÆûÂ∞±ÊòØJavaËôöÊãüÊú∫‰∫ÜÔºå‰ªñÂèØ‰ª•ËΩΩÂÖ•ÂíåÊâßË°åÂêå‰∏ÄÁßçÂπ≥Âè∞Êó†ÂÖ≥ÁöÑÂ≠óËäÇÁ†ÅÔºå‰ªéËÄåÂÆûÁé∞‰∫ÜÁ®ãÂ∫èÁöÑ‚Äú‰∏ÄÊ¨°ÁºñÂÜôÔºåÂà∞Â§ÑËøêË°å‚Äù„ÄÇ ËØ≠Ë®ÄÊó†ÂÖ≥ÊÄßÁõÆÂâçÂ∑≤Áªè‰∏ÄÂ§ßÊâπËÉΩÂ§üÂú®JVMËøêË°åËØ≠Ë®Ä‰∫ÜÔºåÂ∞±ÊàëËá™Â∑±Áü•ÈÅìÂπ∂‰∏î‰ΩøÁî®ËøáÂ∞±ÊúâGroovy„ÄÅJython„ÄÅScalaÁ≠â„ÄÇÂÆûÁé∞ËØ≠Ë®ÄÊó†ÂÖ≥ÊÄßÁöÑÂü∫Á°Ä‰ªçÁÑ∂ÊòØËôöÊãüÊú∫ÂíåÂ≠óËäÇÁ†ÅÂ≠òÂÇ®Ê†ºÂºè„ÄÇÂÖ∂‰ªñËØ≠Ë®ÄÈÄöËøáËá™Â∑±ÁöÑÁºñËØëÊääÁ®ãÂ∫è‰ª£Á†ÅÁºñÁ®ãÊàêÁ¨¶ÂêàJavaËôöÊãüÊú∫ËßÑËåÉÁöÑClassÊñá‰ª∂Âç≥ÂèØ„ÄÇ Á±ªÊñá‰ª∂ÁöÑÁªìÊûÑClassÊñá‰ª∂ÊòØ‰∏ÄÁªÑ‰ª•8‰ΩçÂ≠óËäÇ‰∏∫Âü∫Á°ÄÂçï‰ΩçÁöÑ‰∫åËøõÂà∂ÊµÅÔºåÂêÑ‰∏™Êï∞ÊçÆÈ°πÁõÆ‰∏•Ê†ºÊåâÁÖßÈ°∫Â∫èÁ¥ßÂáëÊéíÂàóÂú®ClassÊñá‰ª∂‰πã‰∏≠Ôºå‰∏≠Èó¥Ê≤°Êúâ‰ªª‰ΩïÂàÜÈöîÁ¨¶„ÄÇClassÊñá‰ª∂Âè™Êúâ‰∏§ÁßçÊï∞ÊçÆÁ±ªÂûãÔºöÊó†Á¨¶Âè∑Êï∞ÂíåË°® Êó†Á¨¶Âè∑Êï∞Ôºö‰ª•u1Ôºåu2Ôºåu4Ôºåu8Êù•ÂàÜÂà´‰ª£Ë°®1‰∏™Â≠óËäÇÔºå2‰∏™Â≠óËäÇÔºå4‰∏™Â≠óËäÇÂíå8‰∏™Â≠óËäÇÁöÑÊó†Á¨¶Âè∑Êï∞ÔºåÊó†Á¨¶Âè∑Êï∞ÂèØ‰ª•Áî®Êù•ÊèèËø∞Êï∞Â≠ó„ÄÅÁ¥¢ÂºïÂºïÁî®„ÄÅÊï∞ÂÄºÈáèÊàñËÄÖÊåâÁÖßUTF-8ÁºñÁ†ÅÊûÑÊàêÂ≠óÁ¨¶‰∏≤ÂÄº„ÄÇ Ë°®ÔºöÂÆÉÊòØÁî±Â§ö‰∏™Êó†Á¨¶Âè∑Êï∞ÊàñËÄÖÂÖ∂‰ªñË°®‰Ωú‰∏∫Êï∞ÊçÆÈ°πÊûÑÊàêÁöÑÂ§çÂêàÊï∞ÊçÆÁ±ªÂûãÔºåÊâÄÊúâË°®‰π†ÊÉØÂú∞‰ª•‚Äú_info‚ÄùÁªìÂ∞æ„ÄÇ Êï¥‰∏™ClassÊñá‰ª∂Êú¨Ë¥®‰∏äÂ∞±ÊòØ‰∏ÄÂº†Ë°®ÔºåÂÆÉÁî±‰∏ãË°®ÊâÄÁ§∫ÁöÑÊï∞ÊçÆÈ°πÊûÑÊàê„ÄÇ Á±ªÂûã ÂêçÁß∞ Êï∞Èáè u4 È≠îÊï∞ 1 u2 Ê¨°ÁâàÊú¨Âè∑ 1 u2 ‰∏ªÁâàÊú¨Âè∑ 1 u2 Â∏∏ÈáèÊï∞Èáè 1 cp_info Â∏∏ÈáèÊ±† Â∏∏ÈáèÊï∞Èáè-1 u2 ËÆøÈóÆÊ†áÂøó 1 u2 Á±ªÁ¥¢Âºï 1 u2 Áà∂Á±ªÁ¥¢Âºï 1 u2 Êé•Âè£Êï∞Èáè 1 u2 Êé•Âè£Á¥¢ÂºïÈõÜÂêà Êé•Âè£Êï∞Èáè u2 Â≠óÊÆµÊï∞Èáè 1 field_info Â≠óÊÆµË°® Â≠óÊÆµÊï∞Èáè u2 ÊñπÊ≥ïÊï∞Èáè 1 method_info ÊñπÊ≥ïË°® ÊñπÊ≥ïÊï∞Èáè u2 Â±ûÊÄßÊï∞Èáè 1 attribute_info Â±ûÊÄßË°® Â±ûÊÄßÊï∞Èáè Êé•‰∏ãÈáåÁ®çÂæÆËØ¶ÁªÜÁúãÁúã‰∏äÈù¢ÁöÑÊï∞ÊçÆÔºö ‰∏çËøáÊåâ‰æãÂ≠êÊù•ÂêßÔºå‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑJavaÁ±ª1234567891011package com.todorex.demo;public class TestClass &#123; private int m; public int inc() &#123; return m+1; &#125;&#125; ÂÖàÁºñËØëËøô‰∏™Á±ªÂæóÂà∞TestClass.classÊñá‰ª∂ÔºåÊâìÂºÄÂÆÉÂèØ‰ª•‰∏ãÈù¢ÁöÑ16ËøõÂà∂Êï∞Ôºö12345678910111213141516171819cafe babe 0000 0034 0013 0a00 0400 0f090003 0010 0700 1107 0012 0100 016d 01000149 0100 063c 696e 6974 3e01 0003 28295601 0004 436f 6465 0100 0f4c 696e 654e756d 6265 7254 6162 6c65 0100 0369 6e630100 0328 2949 0100 0a53 6f75 7263 6546696c 6501 000e 5465 7374 436c 6173 732e6a61 7661 0c00 0700 080c 0005 0006 01001a63 6f6d 2f74 6f64 6f72 6578 2f64 656d6f2f 5465 7374 436c 6173 7301 0010 6a617661 2f6c 616e 672f 4f62 6a65 6374 00210003 0004 0000 0001 0002 0005 0006 00000002 0001 0007 0008 0001 0009 0000 001d0001 0001 0000 0005 2ab7 0001 b100 00000100 0a00 0000 0600 0100 0000 0600 01000b00 0c00 0100 0900 0000 1f00 0200 01000000 072a b400 0204 60ac 0000 0001 000a0000 0006 0001 0000 0009 0001 000d 00000002 000e ÁÑ∂ÂêéÁî®javap Ëß£ÊûêTestClass.classÊñá‰ª∂ÔºåÂæóÂà∞Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253Classfile /Users/rex/IdeaProjects/JVMTest/src/com/todorex/demo/TestClass.class Last modified 2017-12-1; size 292 bytes MD5 checksum 337a51d3bebe0e9a82142a352eb0977e Compiled from "TestClass.java"public class com.todorex.demo.TestClass minor version: 0 major version: 52 flags: ACC_PUBLIC, ACC_SUPERConstant pool: #1 = Methodref #4.#15 // java/lang/Object."&lt;init&gt;":()V #2 = Fieldref #3.#16 // com/todorex/demo/TestClass.m:I #3 = Class #17 // com/todorex/demo/TestClass #4 = Class #18 // java/lang/Object #5 = Utf8 m #6 = Utf8 I #7 = Utf8 &lt;init&gt; #8 = Utf8 ()V #9 = Utf8 Code #10 = Utf8 LineNumberTable #11 = Utf8 inc #12 = Utf8 ()I #13 = Utf8 SourceFile #14 = Utf8 TestClass.java #15 = NameAndType #7:#8 // "&lt;init&gt;":()V #16 = NameAndType #5:#6 // m:I #17 = Utf8 com/todorex/demo/TestClass #18 = Utf8 java/lang/Object&#123; public com.todorex.demo.TestClass(); descriptor: ()V flags: ACC_PUBLIC Code: stack=1, locals=1, args_size=1 0: aload_0 1: invokespecial #1 // Method java/lang/Object."&lt;init&gt;":()V 4: return LineNumberTable: line 6: 0 public int inc(); descriptor: ()I flags: ACC_PUBLIC Code: stack=2, locals=1, args_size=1 0: aload_0 1: getfield #2 // Field m:I 4: iconst_1 5: iadd 6: ireturn LineNumberTable: line 9: 0&#125;SourceFile: "TestClass.java" È≠îÊï∞ ÊØè‰∏™ClassÊñá‰ª∂ÁöÑÂ§¥4‰∏™Â≠óËäÇÊàê‰∏∫È≠îÊï∞ ‰ΩøÁî®È≠îÊï∞Êù•ËøõË°åË∫´‰ªΩËØÜÂà´ÔºàÊñá‰ª∂Á±ªÂà´ÔºâÔºåÂõ†‰∏∫Â¶ÇÊûú‰ΩøÁî®Êñá‰ª∂ÂêçÊù•ËØÜÂà´ÔºåÂÆâÂÖ®ÊÄßÂ§™‰ΩéÔºåÁî±‰∫éÊñá‰ª∂ÂêçÂèØ‰ª•ÈöèÊÑèÊîπÂä®„ÄÇ ClassÊñá‰ª∂ÁöÑÈ≠îÊï∞ÁöÑËé∑ÂæóÂ∞±Êúâ‚ÄúÊµ™Êº´Ê∞îÊÅØ‚ÄùÔºåÂÄº‰∏∫0xcafebabe,‰∏äÈù¢16ËøõÂà∂Êñá‰ª∂‰πüÂèØ‰ª•ÁúãÂà∞„ÄÇËøôËÆ©Ëá™Â∑±ÊÉ≥Ëµ∑‰∫ÜÈ´ò‰∏≠Áî®ÁöÑ‰∏âÊòüÊâãÊú∫ÊâìÂºÄqqÂ∞±ÊòØ‰∏ÄÊùØÂíñÂï°ÁöÑÊ†áÂøó„ÄÇ ClassÊñá‰ª∂ÁöÑÁâàÊú¨Êé•‰∏ãÊù•Á¨¨5Ôºå6‰∏™Â≠óËäÇÊòæÁ§∫ÁöÑÊòØÊ¨°ÁâàÊú¨Âè∑Ôºå7Ôºå8Â≠óËäÇÊòæÁ§∫ÁöÑÊòØ‰∏ªÁâàÊú¨Âè∑„ÄÇ È´òÁâàÊú¨ÁöÑJDKÂèØ‰ª•Âêë‰∏ãÂÖºÂÆπ‰ª•ÂâçÁâàÊú¨ÁöÑClassÊñá‰ª∂Ôºå‰ΩÜ‰∏çËÉΩËøêË°å‰ª•ÂêéÁâàÊú¨ÁöÑClassÊñá‰ª∂„ÄÇ Â∏∏ÈáèÊ±†Âú®ÁâàÊú¨Âè∑‰πãÂêéÁöÑÊòØÂ∏∏ÈáèÊ±†ÂÖ•Âè£„ÄÇ Â∏∏ÈáèÊ±†ÊòØClassÊñá‰ª∂ÁªìÊûÑ‰∏≠‰∏éÂÖ∂‰ªñÈ°πÁõÆÂÖ≥ËÅîÊúÄÂ§ßÁöÑÊï∞ÊçÆÁ±ªÂûãÔºå‰πüÊòØÂç†ClassÊñá‰ª∂Á©∫Èó¥ÊúÄÂ§ßÁöÑÊï∞ÊçÆÈ°πÁõÆ‰πã‰∏Ä„ÄÇ Â∏∏ÈáèÊ±†Â∏∏ÈáèÁöÑÊï∞ÊçÆ‰∏çÊòØÂõ∫ÂÆöÁöÑÔºåÂú®ÊúÄÂâçÈù¢ÁöÑClassÊñá‰ª∂ÁªÑÊàêÂèØ‰ª•ÁúãÂà∞Êúâ‰∏Ä‰∏™Â∏∏ÈáèÊï∞ÈáèÈ°πÔºåËøô‰∏™ÂÆπÈáèËÆ°Êï∞ÊòØ‰ªé1ËÄå‰∏çÊòØ0ÂºÄÂßãÁöÑÔºåÊØîÂ¶Ç‰∏äÈù¢ÁöÑÂçÅÂÖ≠ËøõÂà∂ÁöÑÂÄº‰∏∫0x0013(19)Â∞±‰ª£Ë°®Êúâ18‰∏™Â∏∏Èáè„ÄÇ Â∏∏ÈáèÊ±†‰∏ªË¶ÅÂ≠òÊîæ‰∏§Â§ßÁ±ªÂèòÈáè Â≠óÈù¢ÈáèÔºöÊñáÊú¨Â≠óÁ¨¶‰∏≤„ÄÅÂ£∞Êòé‰∏∫finalÁöÑÂ∏∏ÈáèÂÄºÁ≠â Á¨¶Âè∑ÂºïÁî®ÔºöÔºàÁºñËØëÂéüÁêÜÁöÑÊ¶ÇÂøµÔºâ Á±ªÂíåÊé•Âè£ÁöÑÂÖ®ÈôêÂÆöÂêç Â≠óÊÆµÁöÑÂêçÁß∞ÂíåÊèèËø∞Á¨¶ ÊñπÊ≥ïÁöÑÂêçÁß∞ÂíåÊèèËø∞Á¨¶ Â∏∏ÈáèÊ±†ÁöÑÊØè‰∏ÄÈ°πÂ∏∏ÈáèÈÉΩÊòØË°®ÔºåÂ∏∏ÈáèÁöÑÈ°∫Â∫èÂèØ‰ª•ÂèÇÁÖßjavapËß£ÊûêÂá∫Êù•ÁöÑÂ∏∏ÈáèÈ°∫Â∫èÔºåÂú®JDK1.7‰ª•ÂêéÂÖ±Êúâ14Áßç‰∏çÂêåÁ±ªÂûãÁöÑË°®Ôºå‰ªñ‰ª¨ÂÖ±ÂêåÁÇπÊòØË°®ÁöÑÁ¨¨‰∏Ä‰ΩçÊòØ‰∏Ä‰∏™u1Á±ªÂûãÁöÑÊ†áÂøó‰ΩçÔºàtagÔºâÔºåÂÖ∑‰ΩìÁöÑÊ†áÂøóÂØπÂ∫îÁöÑÁ±ªÂûãÂèÇÁÖß‰π¶„ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã„ÄÇËøôÈáåÊèê‰∏Ä‰∏ãCONSTANT_UTF8_infoËøô‰∏™Ë°®Ôºö Á±ªÂûã ÂêçÁß∞ Êï∞Èáè u1 tag 1 u2 length 1 u1 bytes length lengthÂÄºËØ¥Êòé‰∫ÜUTF-8ÁºñÁ†ÅÁöÑÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶ÊòØÂ§öÂ∞ëÂ≠óËäÇÔºå‰ªñÂêéÈù¢Ë∑üÁùÄÁöÑÈïøÂ∫¶‰∏∫lengthÂ≠óËäÇÁöÑËøûÁª≠Êï∞ÊçÆÊòØ‰∏Ä‰∏™‰ΩøÁî®UTF-8Áº©Áï•ÁºñÁ†ÅË°®Á§∫ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇËÄåu2ÊúÄÂ§ßÂÄºÊòØ65535ÔºåÊâÄ‰ª•ËØ¥Â¶ÇÊûúJavaÁ®ãÂ∫èÂ¶ÇÊûúÂÆö‰πâ‰∫ÜË∂ÖËøá64KBÔºàÂ§ßÁ∫¶ÔºâËã±ÊñáÂ≠óÁ¨¶ÁöÑÂèòÈáèÊàñËÄÖÊñπÊ≥ïÂêçÔºåÂ∞ÜÊó†Ê≥ïÁºñËØë„ÄÇ UTF-8Áº©Áï•ÁºñÁ†ÅÂíåUTF-8ÁºñÁ†ÅÁöÑÂå∫Âà´ÔºöUTF-8ÁºñÁ†ÅÈÉΩÊòØ‰ΩøÁî®3‰∏™Â≠óËäÇÁºñÁ†ÅÔºåËÄåUTF-8Áº©Áï•ÁºñÁ†ÅÂèØ‰ª•‰ΩøÁî®1Êàñ2Êàñ3‰∏™Â≠óËäÇÁºñÁ†Å„ÄÇ ËÆøÈóÆÊ†áÂøóÂú®Â∏∏ÈáèÊ±†ÁªìÊùü‰πãÂêéÔºåÁ¥ßÊé•ÁùÄÁöÑ‰∏§‰∏™Â≠óËäÇ‰ª£Ë°®ËÆøÈóÆÊ†áÂøóÔºåËøô‰∏™Ê†áÂøóÁî®‰∫éËØÜÂà´‰∏Ä‰∫õÁ±ªÊàñËÄÖÊé•Âè£Â±ÇÊ¨°ÁöÑËÆøÈóÆ‰ø°ÊÅØÔºåÂåÖÊã¨ÔºöËøô‰∏™ClassÊòØÁ±ªËøòÊòØÊé•Âè£ÔºõÊòØÂê¶ÂÆö‰πâpublicÁ±ªÂûãÔºõÊòØÂê¶ÂÆö‰πâ‰∏∫abstractÁ±ªÂûãÔºõÂ¶ÇÊûúÊòØÁ±ªÁöÑËØùÔºåÊòØÂê¶Ë¢´Â£∞Êòé‰∏∫finalÁ≠âÔºåËÆøÈóÆÊ†áÂøó‰∏ÄÂÖ±Êúâ16‰∏™Ê†áÂøó‰ΩçÂèØ‰ª•‰ΩøÁî®ÔºåÂΩìÂâçÂè™ÂÆö‰πâ‰∫Ü8‰∏™„ÄÇ Á±ªÁ¥¢Âºï„ÄÅÁà∂Á±ªÁ¥¢Âºï„ÄÅÊé•Âè£Á¥¢ÂºïÈõÜÂêà Á±ªÁ¥¢Âºï„ÄÅÁà∂Á±ªÁ¥¢ÂºïÈÉΩÊòØu2Á±ªÂûãÁöÑÊï∞ÊçÆÔºåÁ±ªÁ¥¢Âºï„ÄÅÁà∂Á±ªÁ¥¢ÂºïÈÉΩÊòØÊåáÂêë‰∏Ä‰∏™CONSTANT_Class_infoÁöÑÁ±ªÊèèËø∞Á¨¶Â∏∏Èáè Êé•Âè£Á¥¢ÂºïÈõÜÂêàÊòØ‰∏ÄÁªÑu2Á±ªÂûãÁöÑÊï∞ÊçÆÁöÑÈõÜÂêàÔºåÂÆÉÂÖ•Âè£ÁöÑÁ¨¨‰∏ÄÈ°πÊòØu2ÁöÑÊé•Âè£ËÆ°Êï∞Âô®ÔºåÂêéÈù¢Â∞±ÊòØÂÖ∑‰ΩìÊé•Âè£Á¥¢Âºï ClassÊñá‰ª∂ÊúâËøô‰∏âÈ°πÊï∞ÊçÆÊù•Á°ÆÂÆöËøô‰∏™Á±ªÁöÑÁªßÊâøÂÖ≥Á≥ª Â≠óÊÆµË°®ÈõÜÂêàÊé•‰∏ãÊù•ÊòØÂ≠óÊÆµË°®ÔºåÂ≠óÊÆµË°®Áî®‰∫éÊèèËø∞Êé•Âè£ÊàñËÄÖÁ±ª‰∏≠Â£∞ÊòéÁöÑÂèòÈáèÔºåÂåÖÊã¨Á±ªÁ∫ßÂèòÈáè‰ª•ÂèäÂÆû‰æãÁ∫ßÂèòÈáèÔºå‰∏çÂåÖÊã¨ÊñπÊ≥ïÂÜÖÈÉ®Â£∞ÊòéÁöÑÂ±ÄÈÉ®ÂèòÈáè„ÄÇÊàë‰ª¨Áúã‰∏Ä‰∏ã‰∏Ä‰∏™Â≠óÊÆµË°®ÁöÑÊûÑÊàêÔºö Á±ªÂûã ÂêçÁß∞ Êï∞Èáè u2 ËÆøÈóÆÊ†áÂøó 1 u2 ÁÆÄÂçïÂêçÁß∞Á¥¢Âºï 1 u2 ÊèèËø∞Á¨¶Á¥¢Âºï 1 u2 Â±ûÊÄßÊï∞Èáè 1 attribute_info Â±ûÊÄßË°® Â±ûÊÄßÊï∞Èáè Ê†πÊçÆ‰∏äË°®Êàë‰ª¨Ëß£Êûê‰∏Ä‰∏ãÂÖ∂‰∏≠ÁöÑÂê´‰πâÔºö ËÆøÈóÆÊ†áÂøóÔºöÂÆÉÂíå‰πãÂâçÁöÑËÆøÈóÆÊ†áÂøóÂæàÁ±ª‰ºº„ÄÇ ÁÆÄÂçïÂêçÁß∞Á¥¢ÂºïÔºöÂÆÉÊåáÂêë‰∏Ä‰∏™CONSTANT_UTF8_infoÁ±ªÂûãÁöÑÂ∏∏ÈáèÔºåËøôÈáåÈù¢Â≠òÂÇ®‰∫ÜÊú¨Â≠óÊÆµÁöÑÂêçÂ≠ó‰ø°ÊÅØÔºåÂÉèjavapËß£ÊûêÂêéÁöÑÁ¨¨5‰∏™Â∏∏Èáèm„ÄÇ ÊèèËø∞Á¨¶Á¥¢ÂºïÔºöÁî®Êù•ÊèèËø∞Â≠óÊÆµÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÂÉèjavapËß£ÊûêÂêéÁöÑÁ¨¨6‰∏™Â∏∏ÈáèI,‰ª£Ë°®‰∫ÜÂü∫Êú¨Á±ªÂûãint Â±ûÊÄßË°®ÔºàÂèØËÉΩÊúâConstantValueË°® ‰∏ãÈù¢ÊòØÂ≠óÁ¨¶Ë°®ÁöÑÊ≥®ÊÑèÁÇπÔºö Â≠óÊÆµË°®ÈõÜÂêà‰∏ç‰ºöÂàóÂá∫‰ªéË∂ÖÁ±ªÊàñËÄÖÁà∂Êé•Âè£ÁªßÊâøËÄåÊù•ÁöÑÂ≠óÊÆµ„ÄÇ Â≠óÊÆµË°®ÊúâÂèØËÉΩÂàóÂá∫ÂéüÊú¨Java‰ª£Á†Å‰πã‰∏≠‰∏çÂ≠òÂú®ÁöÑÂ≠óÊÆµÔºåË≠¨Â¶ÇÂú®ÂÜÖÈÉ®Á±ª‰∏≠‰∏∫‰∫Ü‰øùÊåÅÂØπÂ§ñÈÉ®Á±ªÁöÑËÆøÈóÆÊÄßÔºå‰ºöËá™Âä®Ê∑ªÂä†ÊâßË°åÂ§ñÈÉ®Á±ªÂÆû‰æãÁöÑÂ≠óÊÆµ„ÄÇÔºà‰∏çÊáÇÔºåÂ§ß‰Ω¨ËØ∑ÊåáÊïôÔºâ JavaËØ≠Ë®Ä‰∏≠Â≠óÊÆµÊòØÊó†Ê≥ïÈáçËΩΩÁöÑÔºåÂêçÁß∞ÂøÖÈ°ª‰∏ç‰∏ÄÊ†∑Ôºå‰ΩÜÊòØÂØπ‰∫éÂ≠óËäÇÁ†ÅÊù•ËØ¥ÔºåÂ¶ÇÊûú‰∏§‰∏™Â≠óÊÆµÁöÑÊèèËø∞Á¨¶‰∏ç‰∏ÄËá¥ÔºåÈÇ£‰πàÂ≠óÊÆµÈáçÂêçÊòØÂêàÊ≥ïÁöÑ„ÄÇ ÊñπÊ≥ïË°®ÈõÜÂêàÊé•‰∏ãÊù•ÊòØÊñπÊ≥ïË°®ÔºåÊñπÊ≥ïË°®ÁöÑÂÜÖÂÆπÂíåÂ≠óÊÆµË°®Âá†‰πéÂÆåÂÖ®‰∏ÄËá¥„ÄÇÂÖ∂‰∏≠ÂùëÈ°∂‰πüÁúã‰∏Ä‰∏ãÊñπÊ≥ïË°®ÁöÑÊûÑÊàêÔºö Á±ªÂûã ÂêçÁß∞ Êï∞Èáè u2 ËÆøÈóÆÊ†áÂøó 1 u2 ÁÆÄÂçïÂêçÁß∞Á¥¢Âºï 1 u2 ÊèèËø∞Á¨¶Á¥¢Âºï 1 u2 Â±ûÊÄßÊï∞Èáè 1 attribute_info Â±ûÊÄßË°® Â±ûÊÄßÊï∞Èáè ËøôÈáåËß£Èáä‰∏Ä‰∏ãÂíåÂ≠óÊÆµË°®‰∏ç‰∏ÄÊ†∑ÁöÑÂú∞Êñπ ÁÆÄÂçïÂêçÁß∞Á¥¢ÂºïÔºöÂÆÉÊåáÂêë‰∏Ä‰∏™CONSTANT_UTF8_infoÁ±ªÂûãÁöÑÂ∏∏ÈáèÔºåËøôÈáåÈù¢Â≠òÂÇ®‰∫ÜÊú¨Â≠óÊÆµÁöÑÂêçÂ≠ó‰ø°ÊÅØÔºåÂÉèjavapËß£ÊûêÂêéÁöÑÁ¨¨11‰∏™Â∏∏Èáèinc„ÄÇ ÊèèËø∞Á¨¶Á¥¢ÂºïÔºöÂÆÉÁöÑ‰ΩúÁî®ÊòØÁî®Êù•ÊèèÊñπÊ≥ïÁöÑÂèÇÊï∞ÂàóË°®ÔºàÂåÖÊã¨Êï∞Èáè„ÄÅÁ±ªÂûã‰ª•ÂèäÈ°∫Â∫èÔºâÂíåËøîÂõûÂÄºÔºåÂÉèjavapËß£ÊûêÂêéÁöÑÁ¨¨12‰∏™Â∏∏Èáè()I,Ë°®Á§∫ÁöÑÂ∞±ÊòØ‰∏Ä‰∏™ËøîÂõûÂÄº‰∏∫intÁöÑÊñπÊ≥ï„ÄÇ Â±ûÊÄßË°®ÔºöËøôÈáåËÇØÂÆöÂ≠òÊîæ‰∫ÜCodeÂ±ûÊÄßË°®ÔºàÊñπÊ≥ïÈáåÁöÑJava‰ª£Á†ÅÔºâ ‰∏ãÈù¢ÊòØÊñπÊ≥ïË°®ÁöÑÊ≥®ÊÑèÁÇπÔºö Â¶ÇÊûúÁà∂Á±ªÊñπÊ≥ïÂú®Â≠êÁ±ªÊ≤°ÊúâË¢´ÈáçÂÜôÔºåÊñπÊ≥ïË°®ÈõÜÂêà‰∏≠Â∞±‰∏ç‰ºöÂá∫Áé∞Êù•Ëá™Áà∂Á±ªÁöÑÊñπÊ≥ï‰ø°ÊÅØ„ÄÇ ÂèØËÉΩ‰ºöÂá∫Áé∞Áî±ÁºñËØëÂô®Ëá™Âä®Ê∑ªÂä†ÁöÑÊñπÊ≥ïÔºåÊúÄÂÖ∏ÂûãÁöÑÊúâÁ±ªÊûÑÈÄ†Âô®‚Äú‚ÄùÊñπÊ≥ïÂíåÂÆû‰æãÊûÑÈÄ†Âô®‚Äú‚ÄùÊñπÊ≥ïÔºåÂ∞±ÂÉèjavapËß£ÊûêÂêéÁöÑÁ¨¨11‰∏™Â∏∏Èáè„ÄÇ Âú®JavaËØ≠Ë®Ä‰∏≠ÔºåË¶ÅÈáçËΩΩ‰∏Ä‰∏™ÊñπÊ≥ïÔºåÈúÄË¶ÅÁõ∏ÂêåÁöÑÁÆÄÂçïÂêçÁß∞Âíå‰∏éÂéüÊñπÊ≥ï‰∏çÂêåÁöÑJava‰ª£Á†ÅÁöÑÊñπÊ≥ïÁâπÂæÅÁ≠æÂêçÔºåËøôÈáåÈúÄË¶ÅËß£Èáä‰∏Ä‰∏ãJavaÁâπÂæÅÁ≠æÂêçÂíåJVMÁâπÂæÅÁ≠æÂêçÔºö JavaÁâπÂæÅÁ≠æÂêçÔºöÊñπÊ≥ïÂêçÁß∞„ÄÅÂèÇÊï∞È°∫Â∫è JVMÁâπÂæÅÁ≠æÂêçÔºöJavaÁâπÂæÅÁ≠æÂêç„ÄÅÊñπÊ≥ïËøîÂõûÂÄº‰ª•ÂèäÂèóÊü•ÂºÇÂ∏∏Ë°® Â±ûÊÄßË°®ÈõÜÂêàÊúÄÂêéÂ∞±ÊòØÂ±ûÊÄßË°®ÈõÜÂêà‰∫ÜÔºåÂú®ClassÊñá‰ª∂„ÄÅÂ≠óÊÆµË°®„ÄÅÊñπÊ≥ïË°®ÈÉΩÂèØ‰ª•Êê∫Â∏¶Ëá™Â∑±ÁöÑÂ±ûÊÄßË°®ÈõÜÂêàÔºå‰ª•ÂèäÁî®‰∫éÊèèËø∞Êüê‰∫õÂú∫ÊôØ‰∏ìÊúâÁöÑ‰ø°ÊÅØ„ÄÇÂ±ûÊÄßË°®ÈõÜÂêà‰∏çË¶ÅÊ±ÇÂêÑ‰∏™Â±ûÊÄßÂÖ∑Êúâ‰∏•Ê†ºÁöÑÈ°∫Â∫èÔºåÂπ∂‰∏îÂè™Ë¶Å‰∏ç‰∏éÂ∑≤ÊúâÂ±ûÊÄßÂêçÈáçÂ§çÂ∞±Â•Ω„ÄÇ ‰∏äÈù¢Á®ãÂ∫èÁöÑ‰æãÂ≠êÂá∫Áé∞ËøáÂá†‰∏™Â±ûÊÄßË°®ÔºöCode„ÄÅLineNumberTable„ÄÅSourceFile„ÄÅConstantValueÔºåÊé•‰∏ãÊù•Êàë‰ª¨ËØ¶ÁªÜËØ¥‰∏Ä‰∏ãÔºö CodeÂ±ûÊÄßJavaÁ®ãÂ∫èÊñπÊ≥ï‰Ωì‰∏≠ÁöÑ‰ª£Á†ÅÁªèËøáJavacÁºñËØëÂô®Â§ÑÁêÜÂêéÔºåÊúÄÁªàÂèò‰∏∫Â≠óËäÇÁ†ÅÊåá‰ª§Â≠òÂÇ®Âú®CodeÂ±ûÊÄßÂÜÖÔºåCodeÂ±ûÊÄßÂá∫Áé∞Âú®ÊñπÊ≥ïË°®Â±ûÊÄßÈõÜÂêà‰πã‰∏≠ÔºåÊàë‰ª¨ÂÖàÁúãÁúãCodeÂ±ûÊÄßË°®ÁöÑÁªìÊûÑÔºö Á±ªÂûã ÂêçÁß∞ Êï∞Èáè u2 Â±ûÊÄßÂêçÁ¥¢Âºï 1 u4 Â±ûÊÄßÈïøÂ∫¶ 1 u2 Êìç‰ΩúÊï∞Ê†àÊ∑±Â∫¶ÁöÑÊúÄÂ§ßÂÄº 1 u2 Â±ÄÈÉ®ÂèòÈáèË°®ÊâÄÈúÄÁöÑÂ≠òÂÇ®Á©∫Èó¥ 1 u4 JavaÊñπÊ≥ï‰ª£Á†ÅÂ≠óËäÇÁ†ÅÊåá‰ª§ÈïøÂ∫¶ 1 u1 JavaÊñπÊ≥ï‰ª£Á†ÅÂ≠óËäÇÁ†Å JavaÊñπÊ≥ï‰ª£Á†ÅÂ≠óËäÇÁ†ÅÊåá‰ª§ÈïøÂ∫¶ u2 ÊòæÂºèÂºÇÂ∏∏Ë°®ÈïøÂ∫¶ 1 exception_info ÊòæÂºèÂºÇÂ∏∏Ë°® ÊòæÂºèÂºÇÂ∏∏Ë°®ÈïøÂ∫¶ u2 Â±ûÊÄß‰∏™Êï∞ 1 attribute_info Â±ûÊÄßË°® Â±ûÊÄß‰∏™Êï∞ Êé•‰∏ãÊù•Êàë‰ª¨ËØ¥Êòé‰∏Ä‰∏ãÂá†‰∏™ÂÖ≥ÈîÆÈ°πÔºö Â±ûÊÄßÂêçÁ¥¢ÂºïÔºöÂÆÉÊòØ‰∏ÄÈ°πÊåáÂêëCONSTANT_UTF8_infoÂûãÁöÑÁ¥¢ÂºïÔºåÂ∏∏ÈáèÂÄºÂõ∫ÂÆö‰∏∫‚ÄúCode‚ÄùÔºåÂ∞±ÂÉè‰∏äÈù¢javapËß£ÊûêÂá∫Êù•ÁöÑÂ∏∏ÈáèÊ±†ÁöÑÁ¨¨9‰∏™„ÄÇ Â±ûÊÄßÈïøÂ∫¶ÔºöÂõ∫ÂÆö‰∏∫Êï¥‰∏™Â±ûÊÄßË°®ÈïøÂ∫¶ÂáèÂéª6‰∏™Â≠óËäÇ„ÄÇ Êìç‰ΩúÊï∞Ê†àÊ∑±Â∫¶ÁöÑÊúÄÂ§ßÂÄºÔºöÂú®ÊñπÊ≥ïÊâßË°åÁöÑ‰ªªÊÑèÊó∂ÂàªÔºåÊìç‰ΩúÊï∞Ê†àÈÉΩ‰∏ç‰ºöË∂ÖËøáËøô‰∏™Ê∑±Â∫¶ÔºåËôöÊãüÊú∫ËøêË°åÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ†πÊçÆËøô‰∏™ÂÄºÊù•ÂàÜÈÖçÊ†àÊ†à‰∏≠ÁöÑÊìç‰ΩúÊï∞Ê†àÊ∑±Â∫¶„ÄÇ Â±ÄÈÉ®ÂèòÈáèË°®ÊâÄÈúÄÁöÑÂ≠òÂÇ®Á©∫Èó¥ÔºöÂÆÉÁöÑÂçï‰ΩçÊòØSlotÔºåÂ±ÄÈÉ®ÂèòÈáèË°®Â≠òÂÇ®‰∫ÜÊñπÊ≥ïÂèÇÊï∞ÔºàÂåÖÊã¨ÂÆû‰æãÊñπÊ≥ï‰∏≠ÁöÑÈöêËóèÂèÇÊï∞thisÔºâ„ÄÅÊòæÁ§∫ÂºÇÂ∏∏Â§ÑÁêÜÂô®ÁöÑÂèÇÊï∞Ôºàtry-catchÊ£ÄÊü•ÁöÑÂºÇÂ∏∏Ôºâ„ÄÅÊñπÊ≥ï‰Ωì‰∏≠ÂÆö‰πâÁöÑÂ±ÄÈÉ®ÂèòÈáèÔºåJavacÁºñËØëÂô®‰ºöÊ†πÊçÆÂèòÈáèÁöÑ‰ΩúÁî®ÂüüÊù•ÂàÜÈÖçSlotÔºåÁÑ∂ÂêéËÆ°ÁÆóÂá∫ÈúÄË¶ÅÁöÑÂ≠òÂÇ®Á©∫Èó¥Â§ßÂ∞è„ÄÇ JavaÊñπÊ≥ï‰ª£Á†ÅÂ≠óËäÇÁ†ÅÊåá‰ª§ÈïøÂ∫¶ÂíåJavaÊñπÊ≥ï‰ª£Á†ÅÂ≠óËäÇÁ†ÅÔºöÂ≠òÂÇ®‰∫ÜJavaÊ∫êÁ®ãÂ∫èÁºñËØëÂêéÁîüÊàêÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§ÔºåÁõÆÂâçJavaËôöÊãüÊú∫ËßÑËåÉÂ∑≤ÁªèÂÆö‰πâ‰∫ÜÁ∫¶200Êù°ÁºñÁ†ÅÂÄºÂØπÂ∫îÁöÑÊåá‰ª§Âê´‰πâ„ÄÇ PSÔºöÂ¶ÇÊûúÊää‰∏Ä‰∏™JavaÁ®ãÂ∫è‰∏≠ÁöÑ‰ø°ÊÅØÂàÜ‰∏∫‰ª£Á†ÅÔºàCodeÔºåÊñπÊ≥ï‰ΩìÈáåÈù¢ÁöÑJava‰ª£Á†ÅÔºâÂíåÂÖÉÊï∞ÊçÆÔºàMetadataÔºåÂåÖÊã¨Á±ª„ÄÅÂ≠óÊÆµ„ÄÅÊñπÊ≥ïÂÆö‰πâ‰ª•ÂèäÂÖ∂‰ªñ‰ø°ÊÅØÔºâ‰∏§ÈÉ®ÂàÜÔºåÈÇ£‰πàÂú®Êï¥‰∏™ClassÊñá‰ª∂ÔºåCodeÂ±ûÊÄßÁî®Êù•ÊèèËø∞‰ª£Á†ÅÔºåÊâÄÊúâÂÖ∂‰ªñÊï∞ÊçÆÈ°πÁõÆÈÉΩÁî®‰∫éÊèèËø∞ÂÖÉÊï∞ÊçÆ„ÄÇ ÊòæÂºèÂºÇÂ∏∏Ë°®ÔºöÁî®‰∫éÊòæÁ§∫try-catch‰ª£Á†ÅÂùóË¶ÅÊ£ÄÊü•ÁöÑÂºÇÂ∏∏ LineNumberTableÂÆÉÁöÑ‰ΩøÁî®‰ΩçÁΩÆÊòØÂú®CodeÂ±ûÊÄßÔºåÁî®‰∫éÊèèËø∞JavaÊ∫êÁ†ÅË°åÂè∑‰∏éÂ≠óËäÇÁ†ÅË°åÂè∑‰πãÈó¥ÁöÑÂØπÂ∫îÂÖ≥Á≥ªÔºåÂΩìÊäõÂá∫ÂºÇÂ∏∏ÁöÑÊó∂ÂÄôÂ†ÜÊ†à‰ºöÊòæÁ§∫Âá∫ÈîôÁöÑË°åÂè∑„ÄÇ SourceFileÂÆÉÁöÑ‰ΩøÁî®‰ΩçÁΩÆÊòØÁ±ªÊñá‰ª∂ÔºåÁî®‰∫éËÆ∞ÂΩïÁîüÊàêËøô‰∏™ClassÊñá‰ª∂ÁöÑÊ∫êÁ†ÅÊñá‰ª∂ÂêçÁß∞ÔºåÂΩìÊäõÂá∫ÂºÇÂ∏∏ÁöÑÊó∂ÂÄô‰ºöÊòæÁ§∫Âá∫Èîô‰ª£Á†ÅÊâÄÂ±ûÁöÑÊñá‰ª∂Âêç„ÄÇ ConstantValueÂÆÉÁöÑ‰ΩøÁî®‰ΩçÁΩÆÊòØÂ≠óÊÆµË°®Ôºå‰ΩúÁî®ÊòØÈÄöÁü•ËôöÊãüÊú∫Ëá™Âä®‰∏∫ÈùôÊÄÅÂèòÈáèËµãÂÄºÔºåÂè™ÊúâstaticÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞ÁöÑÂèòÈáèÔºàÁ±ªÂèòÈáèÔºâÊâçÂèØ‰ª•‰ΩøÁî®ËøôÈ°πÂ±ûÊÄßÔºåËôöÊãüÊú∫ÂØπ‰∫éÁ±ªÂèòÈáèÂíåÂÆû‰æãÂèòÈáèËµãÂÄºÁöÑÊñπÂºèÊúâÊâÄ‰∏çÁî®„ÄÇ ÂÆû‰æãÂèòÈáèÔºöÂú®ÂÆû‰æãÊûÑÈÄ†Âô®ÊñπÊ≥ï‰∏≠ËøõË°å Á±ªÂèòÈáèÔºöÂú®Á±ªÊûÑÈÄ†Âô®ÊñπÊ≥ï‰∏≠ÊàñËÄÖ‰ΩøÁî®ConstantValueÂ±ûÊÄß ÁõÆÂâçSun JavacÁºñËØëÂô®ÁöÑÈÄâÊã©ÊòØÔºöÂ¶ÇÊûúÂêåÊó∂‰ΩøÁî®finalÂíåstaticÊù•‰øÆÈ•∞‰∏Ä‰∏™ÂèòÈáèÔºåÂπ∂‰∏îËøô‰∏™Â∏∏ÈáèÁöÑÊï∞ÊçÆÁ±ªÂûãÊòØÂü∫Êú¨Á±ªÂûãÊàñËÄÖStringÁ±ªÂûãÔºåÂ∞±ÁîüÊàêConstantValueÂ±ûÊÄßÊù•ËøõË°åÂàùÂßãÂåñÔºåÂ¶ÇÊûúËøô‰∏™ÂèòÈáèÊ≤°ÊúâË¢´final‰øÆÈ•∞ÔºåÊàñËÄÖÂπ∂ÈùûÂü∫Êú¨Á±ªÂûãÊàñËÄÖÂ≠óÁ¨¶‰∏≤ÔºåÂàôÂ∞Ü‰ºöÈÄâÊã©Âú®ÊñπÊ≥ï‰∏≠ËøõË°åÂàùÂßãÂåñ„ÄÇ ÊÄªÁªìÈÄöËøá‰∏äÈù¢ÁöÑÂàÜÊûêÔºåÊàë‰ª¨‰∏ÄÂÆöËÉΩÊ∏ÖÊ•öÁöÑÁü•ÈÅìClassÊñá‰ª∂ÊòØ‰ªÄ‰πà‰ª•ÂèäClassÊñá‰ª∂ÂåÖÂê´‰ªÄ‰πà‰∏úË•øÔºåÂÜç‰πü‰∏çÊÄï‰∫ÜÔºÅÔºÅ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_6_JVMË∞É‰ºòÂÆûÊàò]]></title>
    <url>%2F2017%2F11%2F30%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-6-JVM%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂ∏¶ÁùÄÊµÖÂ∞ùÂü∫Êú¨ÁöÑJavaËØäÊñ≠Â∑•ÂÖ∑Â∞±ËøôÊ†∑Êää„ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„ÄãÁöÑË∞É‰ºòÈÉ®ÂàÜÁúãÂÆå‰∫ÜÔºå‰ººÊáÇÈùûÊáÇÔºåÊàëÊÉ≥ÂæÖËá™Â∑±ÁªèÂéÜËøá‰∏ÄÊ¨°ÊÄßËÉΩË∞É‰ºòÔºåÁªìÂêàËá™Ë∫´ÁªèÂéÜÂÜçÊù•Â•ΩÂ•ΩÊÄªÁªì‰∏ÄÁï™Âêß„ÄÇ Ê≠§Â§ÑÊöÇÊó∂ÁúÅÁï•‰∏Ä‰∏áÂ≠ó„ÄÇ„ÄÇ„ÄÇ]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_5_ÂÜÖÂ≠òÂàÜÈÖçÁ≠ñÁï•]]></title>
    <url>%2F2017%2F11%2F30%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-5-%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∏ÄÁõ¥Âú®ËØ¥JavaÁöÑÂûÉÂúæÂõûÊî∂ÔºåÊó¢ÁÑ∂ÊúâÂõûÊî∂ÔºåÈÇ£‰πàÂΩìÁÑ∂‰ºöÊúâÂàÜÈÖç„ÄÇ JavaÊäÄÊúØ‰ΩìÁ≥ª‰∏≠ÊâÄÊèêÂÄ°ÁöÑËá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜÂèØ‰ª•ÂΩíÁªì‰∏∫Ëá™Âä®ÂåñÂú∞Ëß£ÂÜ≥‰∫Ü‰∏§‰∏™ÈóÆÈ¢òÔºö ÁªôÂØπË±°ÂàÜÈÖçÂÜÖÂ≠ò ÂõûÊî∂ÂàÜÈÖçÁªôÂØπË±°ÁöÑÂÜÖÂ≠ò ‰πãÂâçÂûÉÂúæÂõûÊî∂Â∑≤ÁªèËÆ≤‰∫ÜÂæàÂ§öÔºåÊé•‰∏ãÊù•Êàë‰ª¨ËØ¶ÁªÜÂú∞Êù•ÁúãÁúãÂÜÖÂ≠òÂàÜÈÖç ÂÜÖÂ≠òÂàÜÈÖçÊÄªËØ¥ÂØπË±°ÁöÑÂÜÖÂ≠òÂàÜÈÖçÔºå‰∏ªË¶ÅÊòØÂú®Â†Ü‰∏äÂàÜÈÖçÔºåÂØπË±°‰∏ªË¶ÅÂàÜÈÖçÂú®Êñ∞Áîü‰ª£ÁöÑEdenÂå∫‰∏äÔºåÂ¶ÇÊûúÂêØÂä®‰∫ÜÊú¨Âú∞Á∫øÁ®ãÁöÑÂàÜÈÖçÁºìÂÜ≤ÔºåÂ∞ÜÊåâÁ∫øÁ®ã‰ºòÂÖàÂú®TLAB‰∏äÂàÜÈÖçÔºåÂ∞ëÊï∞ÊÉÖÂÜµ‰∏ãÔºàÂ§ßÂØπË±°Ôºâ‰πüÂèØËÉΩÁõ¥Êé•ÂàÜÈÖçÂú®ËÄÅÂπ¥‰ª£‰∏≠ÔºåÂàÜÈÖçÁöÑËßÑÂàô‰∏çÊòØÁôæÂàÜÁôæÂõ∫ÂÆöÁöÑÔºåÂÖ∂ÁªÜËäÇÂèñÂÜ≥‰∫éÂΩìÂâç‰ΩøÁî®ÁöÑÊòØÂì™‰∏ÄÁßçÂûÉÂúæÊî∂ÈõÜÂô®ÁªÑÂêàÔºåËøòÊúâËôöÊãüÊú∫‰∏≠‰∏éÂÜÖÂ≠òÁõ∏ÂÖ≥ÁöÑÂèÇÊï∞ÁöÑËÆæÁΩÆ„ÄÇ ÂØπË±°‰ºòÂÖàÂú®EdenÂàÜÈÖç Â§ßÂ§öÊï∞ÊÉÖÂÜµÔºåÂØπË±°Âú®Êñ∞Áîü‰ª£EdenÂå∫ÂàÜÈÖç„ÄÇÂΩìEdenÂå∫Ê≤°ÊúâË∂≥Â§üÁ©∫Èó¥ËøõË°åÂàÜÈÖçÊó∂ÔºåËôöÊãüÊú∫‰ºöÂèëËµ∑‰∏ÄÊ¨°MinorGC„ÄÇ ÂΩìMinorGCÂèëÁé∞Â§çÂà∂ÁöÑÂØπË±°Â§ß‰∫éSurvivorÂå∫Êó∂Ôºå‰ºöÈÄöËøáÂàÜÈÖçÊãÖ‰øùÊú∫Âà∂ÊèêÂâçËΩ¨ÁßªÂà∞ËÄÅÂπ¥‰ª£‰∏≠„ÄÇ Â§ßÂØπË±°Áõ¥Êé•ËøõÂÖ•ËÄÅÂπ¥‰ª£ÊâÄË∞ìÂ§ßÂØπË±°ÊòØÊåáÈúÄË¶ÅÂ§ßÈáèËøûÁª≠ÂÜÖÂ≠òÁ©∫Èó¥ÁöÑJavaÂØπË±°ÔºåÂ¶ÇÊï∞ÁªÑ„ÄÇ ËôöÊãüÊú∫Êèê‰æõ‰∫Ü‰∏Ä‰∏™-XX:PretenureSizeThresholdÂèÇÊï∞Ôºå‰ª§Â§ß‰∫éËøô‰∏™ËÆæÁΩÆÂÄºÁöÑÂØπË±°Áõ¥Êé•Âú®ËÄÅÂπ¥‰ª£ÂàÜÈÖçÔºåÈÅøÂÖç‰∫ÜÂú®EdenÂå∫ÂèäSurvivorÂå∫‰πãÈó¥ÂèëÁîüÂ§ßÈáèÁöÑÂÜÖÂ≠òÂ§çÂà∂„ÄÇÔºàÊñ∞Áîü‰ª£ÈááÁî®Â§çÂà∂ÁÆóÊ≥ïÊî∂ÈõÜÂÜÖÂ≠òÔºâ ÈïøÊúüÂ≠òÊ¥ªÁöÑÂØπË±°Â∞ÜËøõÂÖ•ËÄÅÂπ¥‰ª£ËôöÊãüÊú∫ÁªôÊØè‰∏™ÂØπË±°ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂØπË±°Âπ¥ÈæÑËÆ°Êï∞Âô®„ÄÇÂ¶ÇÊûúÂØπË±°Âú®EdenÂá∫ÁîüÂπ∂ÁªèËøáÁ¨¨‰∏ÄÊ¨°MinorGCÂêé‰ªçÁÑ∂Â≠òÊ¥ªÔºåÂπ∂‰∏îËÉΩË¢´SurvivorÂÆπÁ∫≥ÁöÑËØùÔºåÂ∞ÜË¢´ÁßªÂä®Âà∞SurvivorÁ©∫Èó¥‰∏≠ÔºåÂπ∂‰∏îÂØπË±°Âπ¥ÈæÑËÆæÁΩÆ‰∏∫1.ÂØπË±°Âú®Survivor‰∏≠ÊØèÂ∫¶Ëøá‰∏ÄÊ¨°MinorGCÔºåÂπ¥ÈæÑÂ∞±Â¢ûÂä†‰∏ÄÂ≤ÅÔºåÂΩì‰ªñÁöÑÂπ¥ÈæÑËææÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÔºàÈªòËÆ§15Â≤ÅÔºâÔºåÂ∞±Â∞ÜË¢´ÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£‰∏≠„ÄÇÂØπË±°ÁöÑÂπ¥ÈæÑÈòàÂÄºÔºåÂèØ‰ª•ÈÄöËøáÂèÇÊï∞-XXÔºöMaxTenuringThresholdËÆæÁΩÆ„ÄÇ Âä®ÊÄÅÂØπË±°Âπ¥ÈæÑÂà§ÂÆöËôöÊãüÊú∫‰∏çÊòØÊ∞∏ËøúË¶ÅÊ±ÇÂØπË±°ÁöÑÂπ¥ÈæÑÂøÖÈ°ªËææÂà∞MaxTenuringThresholdÊâçÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£ÔºåÂ¶ÇÊûúSurvivorÁ©∫Èó¥‰∏≠Áõ∏ÂêåÂπ¥ÈæÑÊâÄÊúâÂØπË±°Â§ßÂ∞èÊÄªÂíåÂ§ß‰∫éSurvivorÁ©∫Èó¥ÁöÑ‰∏ÄÂçäÔºåÂπ¥ÈæÑÂ§ß‰∫éÊàñÁ≠â‰∫éÊîπÂπ¥ÈæÑÁöÑÂØπË±°Â∞±ÂèØ‰ª•Áõ¥Êé•ËøõÂÖ•ËÄÅÂπ¥‰ª£„ÄÇ Á©∫Èó¥ÂàÜÈÖçÊãÖ‰øùÁ≠ñÁï•ËôΩÁÑ∂ÊúâÁ©∫Èó¥ÂàÜÈÖçÊãÖ‰øùÔºå‰ΩÜÊòØ‰πüÈúÄË¶ÅËÄÉËôëËÄÅÂπ¥‰ª£ËÉΩÂê¶Ë£Ö‰∏ãÁî±‰∫éÊãÖ‰øùËΩ¨Â≠òÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÔºåÊâÄ‰ª•Ëøô‰∏™Á©∫Èó¥ÂàÜÈÖçÊãÖ‰øù‰πüÈúÄË¶Å‰∏ÄÂÆöÁöÑÁ≠ñÁï•„ÄÇ Âú®ÂèëÁîüMinorGC‰πãÂâçÔºåËôöÊãüÊú∫‰ºöÂÖàÊ£ÄÊü•ËÄÅÂπ¥‰ª£ÊúÄÂ§ßÂèØÁî®ÁöÑËøûÁª≠Á©∫Èó¥ÊòØÂê¶Â§ß‰∫éÊñ∞Áîü‰ª£ÊâÄÊúâÂØπË±°ÊÄªÁ©∫Èó¥ Â¶ÇÊûú‰∏äÈù¢Êù°‰ª∂ÊàêÁ´ãÔºåÈÇ£‰πàMinorGCÂ∞±ÊòØÂÆâÂÖ®ÁöÑÔºåÂèØ‰ª•ËøõË°å Â¶ÇÊûú‰∏äÈù¢Êù°‰ª∂‰∏çÊàêÁ´ãÔºåËôöÊãüÊú∫‰ºöÊü•ÁúãHandlePromotionFailureËÆæÁΩÆÂÄºÊòØÂê¶ÂÖÅËÆ∏ÊãÖ‰øùÂ§±Ë¥•„ÄÇ Â¶ÇÊûúÂÖÅËÆ∏ÊãÖ‰øùÂ§±Ë¥•ÔºåÂ∞±‰ºöÁªßÁª≠Ê£ÄÊü•ËÄÅÂπ¥‰ª£ÊúÄÂ§ßÂèØÁî®ÁöÑËøûÁª≠Á©∫Èó¥ÊòØÂê¶Â§ß‰∫éÂéÜÊ¨°ÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£ÂØπË±°ÁöÑÂπ≥ÂùáÂ§ßÂ∞è Â¶ÇÊûúÂ§ß‰∫éÔºåÂ∞ÜÂ∞ùËØïËøõË°å‰∏ÄÊ¨°MinorGC Â¶ÇÊûúÂ∞è‰∫éÔºåÊàñËÄÖHandlePromotionFailureËÆæÁΩÆ‰∏∫‰∏çÂÖÅËÆ∏ÂÜíÈô©ÔºåÈÇ£ËøôÊó∂ÈúÄË¶ÅËøõË°å‰∏ÄÊ¨°FullGC Âú®jdk 6 update 24‰πãÂêéÁöÑËßÑÂàôÊòØÂè™Ë¶ÅËÄÅÂπ¥‰ª£ÁöÑËøûÁª≠Á©∫Èó¥Â§ß‰∫éÊñ∞Áîü‰ª£ÂØπË±°ÁöÑÊÄªÂ§ßÂ∞èÊàñËÄÖÂéÜÊ¨°ÊôãÂçáÂπ≥ÂùáÂ§ßÂ∞èÂ∞±‰ºöËøõË°åMinorGCÔºåÂê¶ÂàôËøõË°åFullGC„ÄÇ ÊÄªÁªìÈÄöËøá‰∏äÈù¢Êàë‰ª¨ÂèØ‰ª•Áü•ÈÅìJAVAËôöÊãüÊú∫ÊòØÊÄé‰πàËá™Âä®ËøõË°åÂÜÖÂ≠òÂàÜÈÖçÁöÑÔºåÁÑ∂ÂêéÂú®ËøõË°åGC‰πãÂêéÔºåÂÜÖÂ≠òÊòØÊÄé‰πàËΩ¨Êç¢ÁöÑ„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JAVAËôöÊãüÊú∫„Äã]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_4_ÂûÉÂúæÊî∂ÈõÜÁ≠ñÁï•]]></title>
    <url>%2F2017%2F11%2F29%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-4-%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E7%AD%96%E7%95%A5%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöJava‰∏éC++‰πãÈó¥Êúâ‰∏ÄÂ†µÂÜÖÂ≠òÂä®ÊÄÅÂàÜÈÖç‰∏éÂûÉÂúæÊî∂ÈõÜÊäÄÊúØÊâÄÂõ¥ÊàêÁöÑ‚ÄúÈ´òÂ¢ô‚ÄùÔºåÂ¢ôÂ§ñÈù¢ÁöÑ‰∫∫ÊÉ≥ËøõÂéªÔºåÂ¢ôÈáåÈù¢ÁöÑ‰∫∫Âç¥ÊÉ≥Âá∫Êù•„ÄÇÈÇ£Êàë‰ª¨Â∞±ÂÖàÊù•ÁúãÁúãJVMÂà∞Â∫ïÊòØÊÄé‰πàËøõË°åÂûÉÂúæÊî∂ÈõÜÁöÑÔºü ÂûÉÂúæÂõûÊî∂ÔºåÂõûÊî∂Âì™ÈáåÔºü‰πãÂâç‰ªãÁªçËøáJavaÂÜÖÂ≠òËøêË°åÊó∂Âå∫ÂüüÁöÑÂêÑ‰∏™ÈÉ®ÂàÜÔºåÂÖ∂‰∏≠Á®ãÂ∫èËÆ°Êï∞Âô®„ÄÅËôöÊãüÊú∫Ê†à„ÄÅÊú¨Âú∞ÊñπÊ≥ïÊ†à3‰∏™Âå∫ÂüüÈöèÁ∫øÁ®ãËÄåÁîüÔºåÈöèÁ∫øÁ®ãËÄåÁÅ≠ÔºåËøôÂá†‰∏™Âå∫ÂüüÁöÑÂÜÖÂ≠òÂàÜÈÖçÂíåÂõûÊî∂ÈÉΩÂÖ∑ÊúâÁ°ÆÂÆöÊÄßÔºåÊñπÊ≥ïÁªìÊùüÊàñËÄÖÁ∫øÁ®ãÁªìÊùüÔºåÂÜÖÂ≠òËá™ÁÑ∂Â∞±Ë∑üÁùÄÂõûÊî∂‰∫ÜÔºå‰ΩÜÊòØJavaÂ†ÜÂíåÊñπÊ≥ïÂå∫ÔºàÂÖÉÁ©∫Èó¥ÔºâÂàô‰∏ç‰∏ÄÊ†∑ÔºåÊàë‰ª¨Âè™ÊúâÂú®ËøêË°åÊúüÈó¥ÊâçÁü•ÈÅì‰ºöÂàõÂª∫Âì™‰∫õÂØπË±°ÔºåËøôÈÉ®ÂàÜÂÜÖÂ≠òÁöÑÂàÜÈÖçÂíåÂõûÊî∂ÈÉΩÊòØÂä®ÊÄÅÁöÑÔºåÊâÄÊúâÂûÉÂúæÂõûÊî∂Â∞±ÊòØÂõûÊî∂ËøôÈáå„ÄÇ ÂØπË±°Â∑≤Ê≠ª‰πàÔºüÂûÉÂúæÊî∂ÈõÜÂô®Âú®ÂØπÂ†ÜËøõË°åÂõûÊî∂ÂâçÔºåÁ¨¨‰∏Ä‰ª∂‰∫ãÂ∞±ÊòØË¶ÅÁ°ÆÂÆöËøô‰∫õÂØπË±°‰πã‰∏≠ËøòÊúâÈÇ£‰∫õËøò‚ÄúÂ≠òÊ¥ª‚ÄùËÄÖÔºåÂì™‰∫õÂ∑≤Áªè‚ÄúÊ≠ªÂéª‚ÄùÔºàÂç≥‰∏çÂèØËÉΩÂÜçË¢´‰ªª‰ΩïÈÄîÂæÑ‰ΩøÁî®ÁöÑÂØπË±°Ôºâ„ÄÇ ÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ï ÁªôÊØè‰∏™ÂØπË±°Ê∑ªÂä†‰∏Ä‰∏™ÂºïÁî®ËÆ°Êï∞Âô®ÔºåÊØèÂΩìÊúâ‰∏Ä‰∏™Âú∞ÊñπÂºïÁî®ÂÆÉÊó∂ÔºåËÆ°Êï∞Âô®Â∞±Âä†‰∏ÄÔºõÂΩìÂºïÁî®Â§±ÊïàÊó∂ÔºåËÆ°Êï∞Âô®ÂÄºÂ∞±Âáè‰∏ÄÔºõ‰ªª‰ΩïÊó∂ÂàªËÆ°Êï∞Âô®‰∏∫0ÁöÑÂØπË±°Â∞±ÊòØ‰∏çÂèØËÉΩÂÜçË¢´‰ΩøÁî®ÁöÑ„ÄÇ ÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ïÔºàJava‰ΩøÁî®Ôºâ ÈÄöËøá‰∏ÄÁ≥ªÂàóÁß∞‰∏∫‚ÄúGC Roots‚ÄùÁöÑÂØπË±°‰Ωú‰∏∫Ëµ∑ÂßãÁÇπÔºå‰ªéËøô‰∫õËäÇÁÇπÂºÄÂßãÂêë‰∏ãÊêúÁ¥¢ÔºåÊêúÁ¥¢ÊâÄËµ∞ËøáÁöÑË∑ØÂæÑË¢´Áß∞‰∏∫ÂºïÁî®ÈìæÔºåÂΩì‰∏Ä‰∏™ÂØπË±°Âà∞GC RootsÊ≤°Êúâ‰ªª‰ΩïÂºïÁî®ÈìæÁõ∏ËøûÊó∂ÔºåÂàôËØÅÊòéÊ≠§ÂØπË±°ÊòØ‰∏çÂèØÁî®ÁöÑ„ÄÇ Âú®JavaËØ≠Ë®Ä‰∏≠ÔºåÂèØ‰Ωú‰∏∫GC RootsÁöÑÂØπË±°ÂåÖÊã¨‰∏ãÈù¢Âá†ÁßçÔºö ËôöÊãüÊú∫Ê†àÔºàÊ†àÂ∏ß‰∏≠ÁöÑÊú¨Âú∞ÂèòÈáèË°®Ôºâ‰∏≠ÂºïÁî®ÁöÑÂØπË±° ÊñπÊ≥ïÂå∫‰∏≠Á±ªÈùôÊÄÅÂ±ûÊÄßÂ∫îÁî®ÁöÑÂØπË±° ÊñπÊ≥ïÂå∫‰∏≠Â∏∏ÈáèÂºïÁî®ÁöÑÂØπË±° Êú¨Âú∞ÊñπÊ≥ïÊ†à‰∏≠JNIÔºàÂç≥‰∏ÄËà¨ËØ¥ÁöÑNativeÊñπÊ≥ïÔºâÂºïÁî®ÁöÑÂØπË±° ÂºïÁî®Á±ªÂûã Âº∫ÂºïÁî®ÔºöÁ±ª‰ºº‚ÄùObject obj = new Object()‚ÄùËøôÁ±ªÁöÑÂºïÁî®ÔºåÂè™Ë¶ÅÂº∫ÂºïÁî®ËøòÂ≠òÂú®ÔºåÂûÉÂúæÊî∂ÈõÜÂô®Ê∞∏Ëøú‰∏ç‰ºöÂõûÊî∂ÊéâË¢´ÂºïÁî®ÁöÑÂØπË±°„ÄÇ ËΩØÂºïÁî®ÔºöÁî®Êù•ÊèèËø∞ËøòÊúâÁî®‰ΩÜÈùûÂøÖÈ°ªÁöÑÂØπË±°ÔºåÂØπ‰∫éËΩØÂºïÁî®ÂÖ≥ËÅîÁùÄÁöÑÂØπË±°ÔºåÂú®Á≥ªÁªüÂ∞ÜË¶ÅÂèëÁîüÂÜÖÂ≠òÊ∫¢Âá∫ÂºÇÂ∏∏‰πãÂâçÔºåÂ∞Ü‰ºöÊääËøô‰∫õÂØπË±°ÂàóËøõÂõûÊî∂ËåÉÂõ¥‰πã‰∏≠ËøõË°åÁ¨¨‰∫åÊ¨°ÂõûÊî∂„ÄÇÂ¶ÇÊûúËøôÊ¨°ÂõûÊî∂ËøòÊ≤°ÊúâË∂≥Â§üÁöÑÂÜÖÂ≠òÔºåÊâç‰ºöÊäõÂá∫ÂÜÖÂ≠òÊ∫¢Âá∫ÂºÇÂ∏∏„ÄÇÂÆÉÊòØÈÄöËøáSoftReferenceÁ±ªÊù•ÂÆûÁé∞ËΩØÂºïÁî®ÁöÑ„ÄÇ Âº±ÂºïÁî®ÔºöÁî®Êù•ÊèèËø∞ÈùûÂøÖÈúÄÂØπË±°ÁöÑÔºåË¢´Âº±ÂºïÁî®ÂÖ≥ËÅîÁöÑÂØπË±°Âè™ËÉΩÁîüÂ≠òÂà∞‰∏ã‰∏ÄÊ¨°ÂûÉÂúæÊî∂ÈõÜÂèëÁîü‰πãÂâç„ÄÇÂΩìÂûÉÂúæÊî∂ÈõÜÂô®Â∑•‰ΩúÊó∂ÔºåÊó†ËÆ∫ÂΩìÂâçÂÜÖÂ≠òÊòØÂê¶Ë∂≥Â§üÔºåÈÉΩ‰ºöÂõûÊî∂ÊéâÂè™Ë¢´Âº±ÂºïÁî®ÂÖ≥ËÅîÁöÑÂØπË±°ÔºåÂÆÉÊòØÈÄöËøáWeakReferenceÁ±ªÊù•ÂÆûÁé∞Âº±ÂºïÁî®ÁöÑ„ÄÇ ËôöÂºïÁî®ÔºöÂè™Ë¶ÅÂèëÁîüÂûÉÂúæÂõûÊî∂ÔºåÂÆÉÂ∞±‰ºöË¢´Êî∂ÈõÜÔºåÂÆÉÂîØ‰∏ÄÁöÑÁõÆÁöÑÂ∞±ÊòØËÉΩÂú®Ëøô‰∏™ÂØπË±°Ë¢´Êî∂ÈõÜÂô®ÂõûÊî∂Êó∂Êî∂Âà∞‰∏Ä‰∏™Á≥ªÁªüÈÄöÁü•ÔºåÂÆÉÊòØÁî®ËøáPhantomReferenceÁ±ªÊù•ÂÆûÁé∞ËôöÂºïÁî®„ÄÇ ÊñπÊ≥ïÂå∫ÔºàÂÖÉÁ©∫Èó¥ÔºâÁöÑÂõûÊî∂Á±ªÂíåÂÖ∂ÂÖÉÊï∞ÊçÆÁöÑÁîüÂëΩÂë®ÊúüÂíåÂÖ∂ÂØπÂ∫îÁöÑÁ±ªÂä†ËΩΩÂô®ÊòØÁõ∏ÂêåÁöÑ„ÄÇËØùÂè•ËØùËØ¥ÔºåÂè™Ë¶ÅÁ±ªÂä†ËΩΩÂô®Â≠òÊ¥ªÔºåÂÖ∂Âä†ËΩΩÁöÑÁ±ªÁöÑÂÖÉÊï∞ÊçÆ‰πüÊòØÂ≠òÊ¥ªÁöÑÔºåÂõ†ËÄå‰∏ç‰ºöË¢´ÂõûÊî∂Êéâ„ÄÇÂáÜÁ°ÆÁöÑÊù•ËØ¥ÔºåÊØè‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô®ÁöÑÂ≠òÂÇ®Âå∫ÂüüÈÉΩÁß∞‰Ωú‰∏Ä‰∏™ÂÖÉÁ©∫Èó¥ÔºåÊâÄÊúâÁöÑÂÖÉÁ©∫Èó¥ÂêàÂú®‰∏ÄËµ∑Â∞±ÊòØÊàë‰ª¨‰∏ÄÁõ¥ËØ¥ÁöÑÂÖÉÁ©∫Èó¥„ÄÇÂΩì‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô®Ë¢´ÂûÉÂúæÂõûÊî∂Âô®Ê†áËÆ∞‰∏∫‰∏çÂÜçÂ≠òÊ¥ªÔºåÂÖ∂ÂØπÂ∫îÁöÑÂÖÉÁ©∫Èó¥‰ºöË¢´ÂõûÊî∂„ÄÇÂú®ÂÖÉÁ©∫Èó¥ÁöÑÂõûÊî∂ËøáÁ®ã‰∏≠Ê≤°ÊúâÈáçÂÆö‰ΩçÂíåÂéãÁº©Á≠âÊìç‰Ωú„ÄÇ‰ΩÜÊòØÂÖÉÁ©∫Èó¥ÂÜÖÁöÑÂÖÉÊï∞ÊçÆ‰ºöËøõË°åÊâ´ÊèèÊù•Á°ÆÂÆöJavaÂºïÁî®„ÄÇ ÂûÉÂúæÊî∂ÈõÜÁÆóÊ≥ïÊ†áËÆ∞-Ê∏ÖÈô§ÁÆóÊ≥ïÊµÅÁ®ãÔºö Ê†áËÆ∞Âá∫ÊâÄÊúâÈúÄË¶ÅÂõûÊî∂ÁöÑÂØπË±° Âú®Ê†áËÆ∞ÂÆåÊàêÂêéÁªü‰∏ÄÂõûÊî∂ÊâÄÊúâË¢´Ê†áËÆ∞ÁöÑÂØπË±° ‰∏çË∂≥Ôºö ÊïàÁéáÈóÆÈ¢ò Ê†áËÆ∞ÂíåÊ∏ÖÈô§‰∏§‰∏™ËøáÁ®ãÊïàÁéáÈÉΩ‰∏çÈ´ò Á©∫Èó¥ÈóÆÈ¢ò Ê†áËÆ∞Ê∏ÖÈô§‰ª•Âêé‰ºö‰∫ßÁîüÂ§ßÈáè‰∏çËøûÁª≠ÁöÑÁ©∫Èó¥Á¢éÁâáÔºåÊó†Ê≥ïÂ≠òÂÇ®Â§ßÂØπË±° Â§çÂà∂ÁÆóÊ≥ïÊµÅÁ®ãÔºö Â∞ÜÂèØÁî®ÂÜÖÂ≠òÊåâÂÆπÈáèÂàÜ‰∏∫Â§ßÂ∞èÁõ∏ÂêåÁöÑ‰∏§Âùó Âú®Á¨¨‰∏ÄÂùóÂàÜÈÖçÂÜÖÂ≠òÔºåÂπ∂Ê†áËÆ∞Âá∫ÊâÄÊúâÈúÄË¶ÅÂõûÊî∂ÁöÑÂØπË±° ÂΩìÁ¨¨‰∏ÄÂùóÂÜÖÂ≠òÁî®ÂÆå‰∫ÜÔºåÂ∞ÜÊâÄÊúâÊ¥ªÁùÄÁöÑÂØπË±°Â§çÂà∂Âà∞Âè¶Â§ñ‰∏ÄÂùó‰∏ä Â∞ÜÁ¨¨‰∏ÄÂùóÊâÄ‰ΩøÁî®ËøáÁöÑÂÜÖÂ≠òÁ©∫Èó¥‰∏ÄÊ¨°ÊÄßÊ∏ÖÈô§ Â•ΩÂ§ÑÔºöËß£ÂÜ≥‰∫ÜÁ©∫Èó¥Á¢éÁâáÈóÆÈ¢ò ‰∏çË∂≥ÔºöÈôç‰Ωé‰∫ÜÁ©∫Èó¥Âà©Áî®Áéá Áé∞Âú®ÁöÑÂïÜ‰∏öËôöÊãüÊú∫ÈÉΩÁî®ËøôÁßçÊî∂ÈõÜÁÆóÊ≥ïÊù•ÂõûÊî∂Êñ∞Áîü‰ª£ÔºåÂõ†‰∏∫Êñ∞Áîü‰ª£‰∏≠ÁöÑÂØπË±°98%ÊòØ‚ÄúÊúùÁîüÂ§ïÊ≠ª‚ÄùÁöÑÔºåÊâÄ‰ª•‰∏çÈúÄË¶Å1:1ÂàíÂàÜÁ©∫Èó¥,ËÄåÊòØÂ∞ÜÂÜÖÂ≠òÂàÜ‰∏∫‰∏ÄÂùóËæÉÂ§ßÁöÑEdenÁ©∫Èó¥Âíå‰∏§ÂùóËæÉÂ∞èÁöÑSurvivorÁ©∫Èó¥ÔºåÊØèÊ¨°‰ΩøÁî®EdenÂíåÂÖ∂‰∏≠‰∏ÄÂùóSurvivor„ÄÇÂΩìÂõûÊî∂Êó∂ÔºåÂ∞ÜEdenÂíåSurvivor‰∏≠ËøòÊ¥ªÁùÄÁöÑÂØπË±°ÈÇ£‰∏™‰∏ÄÊ¨°ÊÄßÂ§çÂà∂Âà∞Âè¶‰∏ÄÂùóSurvivorÁ©∫Èó¥‰∏äÔºåÊúÄÂêéÊ∏ÖÁêÜÊéâÂâç‰∏§ÂùóÁ©∫Èó¥„ÄÇHotSpotËôöÊãüÊú∫ÈªòËÆ§EdenÂíåSurvivorÁöÑÂ§ßÂ∞èÊØî‰æã‰∏∫8:1ÔºåÊâÄ‰ª•Âè™Êúâ10%ÁöÑÂÜÖÂ≠ò‰ºöË¢´‚ÄúÊµ™Ë¥π‚ÄùÔºåÂΩìSurvivorÁ©∫Èó¥‰∏çÂ§üÁî®Êó∂ÔºåÈúÄË¶Å‰æùËµñÂÖ∂‰ªñÂÜÖÂ≠òÔºàËøôÈáåÊåáËÄÅÂπ¥‰ª£ÔºâËøõË°åÂàÜÈÖçÊãÖ‰øù„ÄÇ ÂÜÖÂ≠òÁöÑÂàÜÈÖçÊãÖ‰øùÊòØÊåáÂ¶ÇÊûúÊîæÁùÄÂ≠òÊ¥ªÂØπË±°ÁöÑSurvivorÁ©∫Èó¥Ê≤°ÊúâË∂≥Â§üÁ©∫Èó¥Êîæ‰∏ä‰∏ÄÊ¨°Êñ∞Áîü‰ª£Êî∂ÈõÜ‰∏ãÊù•ÁöÑÂ≠òÊ¥ªÂØπË±°Êó∂ÔºåËøô‰∫õÂØπË±°Â∞ÜÁõ¥Êé•ÈÄöËøáÂàÜÈÖçÊãÖ‰øùÊú∫Âà∂ËøõÂÖ•ËÄÅÂπ¥‰ª£„ÄÇ Ê†áËÆ∞-Êï¥ÁêÜÁÆóÊ≥ïÈÄÇÂêàËÄÅÂπ¥‰ª£ ÊµÅÁ®ãÔºö Ê†áËÆ∞Âá∫ÊâÄÊúâÈúÄË¶ÅÂõûÊî∂ÁöÑÂØπË±° ËÆ©ÊâÄÊúâÂ≠òÊ¥ªÁöÑÂØπË±°ÈÉΩÂêë‰∏ÄÁ´ØÁßªÂä® Áõ¥Êé•Ê∏ÖÁêÜÊéâÁ´ØËæπÁïå‰ª•Â§ñÁöÑÂÜÖÂ≠ò ÂàÜ‰ª£Êî∂ÈõÜÁÆóÊ≥ïÂ∞ÜÂÜÖÂ≠òÂàíÂàÜ‰∏∫ËÄÅÂπ¥‰ª£ÂíåÊñ∞Áîü‰ª£„ÄÇËÄÅÂπ¥‰ª£‰∏≠Â≠òÊîæÂØøÂëΩËæÉÈïøÁöÑÂØπË±°ÔºåÊñ∞Áîü‰ª£‰∏≠Â≠òÊîæ‚ÄúÊúùÁîüÂ§ïÊ≠ª‚ÄùÁöÑÂØπË±°„ÄÇÁÑ∂ÂêéÂú®‰∏çÂêåÁöÑÂå∫Âüü‰ΩøÁî®‰∏çÂêåÁöÑÂûÉÂúæÊî∂ÈõÜÁÆóÊ≥ï„ÄÇ ÊÄªÁªì‰ªé‰∏äÈù¢Êàë‰ª¨‰∫ÜËß£‰∫ÜÂØπË±°Â≠òÊ¥ªÂà§ÂÆöÁÆóÊ≥ïÂíåÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ïÔºå‰ΩÜÊòØ‰∏çÂêåËôöÊãüÊú∫ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ËøòÊòØ‰∏çÂêåÁöÑÔºåËÄå‰∏î‰∏çÂêåÁöÑÂûÉÂúæÊî∂ÈõÜÂô®ÁöÑÂÜÖÂ≠òÂõûÊî∂ÁöÑÂÖ∑‰ΩìÂÆûÁé∞‰πüÊòØ‰∏çÂêåÁöÑÔºåÊàë‰ª¨Ë¶ÅÂõ†Êú∫ËÄåËÆÆ„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã JDK8 ‰ªéÊ∞∏‰πÖ‰ª£Âà∞ÂÖÉÁ©∫Èó¥]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_3_OutOfMemoryErrorÂºÇÂ∏∏Áé∞Âú∫]]></title>
    <url>%2F2017%2F11%2F29%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-3-OutOfMemoryError%E5%BC%82%E5%B8%B8%E7%8E%B0%E5%9C%BA%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰πãÂâçÈù¢ÂØπJVMËøêË°åÂÜÖÂ≠òÁöÑÂàÜÊûêÔºåÊÄª‰ºöÊèêÂà∞Âá∫Áé∞OutMemoryErrorÂºÇÂ∏∏ÔºåÊé•‰∏ãÊù•Êàë‰ª¨ËØ¶ÁªÜÁúã‰∏ãÂ∏∏Âá∫Áé∞ËøôÁßçÂºÇÂ∏∏ÁöÑÁé∞Âú∫„ÄÇ JavaÂ†ÜÊ∫¢Âá∫Êàë‰ª¨ÈÄöËøáÈôêÂà∂JavaÂ†ÜÁöÑÂ§ßÂ∞è‰∏∫20MB,‰∏çÂèØÊâ©Âº†ÔºàÂ∞ÜÂ†ÜÂæóÊúÄÂ∞èÂÄº-XmsÂèÇÊï∞‰∏éÊúÄÂ§ßÂÄº-XmxÂèÇÊï∞ËÆæÁΩÆ‰∏∫‰∏ÄÊ†∑Âç≥ÂèØÈÅøÂÖçÂ†ÜËá™Âä®Êâ©Â±ïÔºâÔºåÈÄöËøáÂèÇÊï∞-XXÔºö+HeapDumpOnOutOfMemoryErrorÂèØ‰ª•ËÆ©ËôöÊãüÊú∫Âú®Âá∫Áé∞ÂÜÖÂ≠òÊ∫¢Âá∫ÂºÇÂ∏∏Êó∂DumpÔºàÂ§á‰ªΩÔºâÂá∫ÂΩìÂâçÁöÑÂÜÖÂ≠òÂ†ÜËΩ¨ÂÇ®Âø´ÁÖß‰ª•‰æøÊó∂ÂÄôÂàÜÊûêÂ§ÑÁêÜ„ÄÇ ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011121314//VM Args: -Xms20m -Xmx20m -XX:+HeapDumpOnOutOfMemoryErrorpublic class HeapOOM &#123; static class OOMobject &#123; &#125; public static void main(String[] args) &#123; List&lt;OOMobject&gt; list = new ArrayList&lt;&gt;(); while (true) &#123; list.add(new OOMobject()); &#125; &#125;&#125; ËøêË°åÁªìÊûúÔºö12345java.lang.OutOfMemoryError: Java heap spaceDumping heap to java_pid81611.hprof ...Heap dump file created [27573572 bytes in 0.121 secs]Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space at java.util.Arrays.copyOf(Arrays.java:3210)... Êàë‰ª¨ÂæàÂÆπÊòìÂú®ËæìÂá∫ÁªìÊûú‰∏≠ÁúãÂà∞Java heap space OOMÂá∫Áé∞Âú®Â†Ü‰∏≠„ÄÇÊàë‰ª¨Ë¶ÅËß£ÂÜ≥Ëøô‰∏™Âå∫ÂüüÁöÑÂºÇÂ∏∏‰∏ªË¶ÅÊòØÈÄöËøáÂÜÖÂ≠òÊò†ÂÉèÂàÜÊûêÂ∑•ÂÖ∑ÔºàÂæàÂ§öÔºâÂØπDumpÂá∫Êù•ÁöÑÂ†ÜËΩ¨ÂÇ®Âø´ÁÖßËøõË°åÂàÜÊûêÔºåÈáçÁÇπÁ°ÆËÆ§ÊòØÂÜÖÂ≠òÊ≥ÑÊºèÔºàMemory leakÔºâËøòÊòØÂÜÖÂ≠òÊ∫¢Âá∫ÔºàMemory OverflowÔºâ„ÄÇ ÂÜÖÂ≠òÊ≥ÑÊºèÔºöË¢´ÂàÜÈÖçÁöÑÂÜÖÂ≠òÁöÑÂØπË±°‰∏ç‰ºöË¢´ÂõûÊî∂ÔºåÊ∞∏‰πÖÂç†ÊçÆÂÜÖÂ≠ò„ÄÇ Ëß£ÂÜ≥ÊñπÊ≥ïÔºöÈÄöËøáÂ∑•ÂÖ∑Êü•ÁúãÊ≥ÑÊºèÂØπË±°Âà∞GC RootsÁöÑÂºïÁî®Èìæ„ÄÇ ÂÜÖÂ≠òÊ∫¢Âá∫ÔºöÊó†Ê≥ïÁî≥ËØ∑Âà∞ÂÜÖÂ≠ò„ÄÇ Ëß£ÂÜ≥ÊñπÊ≥ïÔºöÊ£ÄÊü•ËôöÊãüÊú∫ÁöÑÂ†ÜÂèÇÊï∞Ôºà-Xmx‰∏é-XmsÔºâÔºå‰∏éÊú∫Âô®Áâ©ÁêÜÂÜÖÂ≠òÂØπÊØîÁúãÊòØÂê¶ËøòÂèØ‰ª•Ë∞ÉÂ§ßÔºå‰ªé‰ª£Á†Å‰∏äÊ£ÄÊü•ÊòØÂê¶Â≠òÂú®Êüê‰∫õÂØπË±°ÁîüÂëΩÂë®ÊúüËøáÈïøÁöÑÊÉÖÂÜµÔºåÂ∞ùËØïÂáèÂ∞ëÁ®ãÂ∫èËøêË°åÊúüÁöÑÂÜÖÂ≠òÊ∂àËÄó„ÄÇ ËôöÊãüÊú∫Ê†àÂíåÊú¨Âú∞ÊñπÊ≥ïÊ†àÊ∫¢Âá∫Êàë‰ª¨ËØ¥ËøáHotSpotËôöÊãüÊú∫‰∏≠Âπ∂‰∏çÂå∫ÂàÜËôöÊãüÊú∫Ê†àÂíåÊú¨Âú∞ÊñπÊ≥ïÊ†àÔºåÊâÄ‰ª•ËÆæÁΩÆÊú¨Âú∞ÊñπÊ≥ïÊ†àÂ§ßÂ∞èÊòØÊó†ÊïàÁöÑÔºåÊ†àÂÆπÈáèÂè™Áî±-XssÂèÇÊï∞ËÆæÂÆöÔºåÂú®JavaËôöÊãüÊú∫ËßÑËåÉ‰∏≠ÊèèËø∞‰∫Ü‰∏§ÁßçÂºÇÂ∏∏ StackOverflowErrorÂºÇÂ∏∏ÔºöÂ¶ÇÊûúÁ∫øÁ®ãËØ∑Ê±ÇÁöÑÊ†àÊ∑±Â∫¶Â§ß‰∫éËôöÊãüÊú∫ÊâÄÂÖÅËÆ∏ÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºåÂ∞ÜÊäõÂá∫Ê≠§ÂºÇÂ∏∏„ÄÇ OutOfMemoryErrorÂºÇÂ∏∏ÔºöÂ¶ÇÊûúËôöÊãüÊú∫Âú®Êâ©Â±ïÊ†à‰ΩøÊó†Ê≥ïÁî≥ËØ∑Âà∞Ë∂≥Â§üÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂ∞ÜÊäõÂá∫Ê≠§ÂºÇÂ∏∏„ÄÇ Êàë‰∏™‰∫∫ÊÉ≥Â¶ÇÊûúÂçïÁ∫øÁ®ã‰∏≠Ê†àÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÁ≠â‰∫éÊÄªÂÜÖÂ≠òÂ§ßÂ∞èÔºåÈÇ£‰πà‰∏äÈù¢‰∏§ÁßçÂºÇÂ∏∏Â∫îËØ•ÊòØÁ≠â‰ª∑ÁöÑÂêßÔºå‰ΩÜÊòØÂü∫Êú¨‰∏äÊòØ‰∏çÂèØËÉΩÁöÑ„ÄÇÊâÄ‰ª•ÂçïÁ∫øÁ®ã‰∏≠Âá∫Áé∞ÂæóÂü∫Êú¨‰∏äÈÉΩÊòØStackOverflowErrorÂºÇÂ∏∏„ÄÇ ÂçïÁ∫øÁ®ã‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011121314// VM args: -Xss128kpublic class HeapOOM &#123; static class OOMobject &#123; &#125; public static void main(String[] args) &#123; List&lt;OOMobject&gt; list = new ArrayList&lt;&gt;(); while (true) &#123; list.add(new OOMobject()); &#125; &#125;&#125; ËøêË°åÁªìÊûúÔºö123stack lenth:18855Exception in thread &quot;main&quot; java.lang.StackOverflowError at com.todorex.demo.JavaVMStackSOF.stackLeak(JavaVMStackSOF.java:10) ËøôÈáåÊäÑ‰∏Ä‰∏ã‰π¶ÁöÑÁªìËÆ∫ÔºöÂú®Âçï‰∏™Á∫øÁ®ã‰∏ãÔºåÊó†ËÆ∫ÊòØÁî±‰∫éÊ†àÂ∏ßÂ§™Â§ßËøòÊòØËôöÊãüÊú∫ÂÆπÈáèÂ§™Â∞èÔºåÂΩìÂÜÖÂ≠òÊó†Ê≥ïÂàÜÈÖçÁöÑÊó∂ÂÄôÔºåËôöÊãüÊú∫ÊäõÂá∫ÁöÑÈÉΩÊòØStackOverflowErrorÂºÇÂ∏∏„ÄÇ Â§öÁ∫øÁ®ã‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425// VM args: -Xss2Mpublic class JavaVMStackOOM &#123; private void dontStop() &#123; while (true) &#123; &#125; &#125; public void stackLeakByThread() &#123; while (true) &#123; Thread thread = new Thread(new Runnable() &#123; @Override public void run() &#123; dontStop(); &#125; &#125;); thread.start(); &#125; &#125; public static void main(String[] args) &#123; JavaVMStackOOM javaVMStackOOM = new JavaVMStackOOM(); javaVMStackOOM.stackLeakByThread(); &#125;&#125; ÊàëÂú®Ëá™Â∑±ÁöÑÊú∫Âô®‰∏äÊ≤°ÊúâËøêË°åÂá∫Êù•ÔºåÂèØËÉΩÈúÄË¶ÅÁÇπÊó∂Èó¥Ôºå‰∏çËøáÊú∫Âô®ÂèòÂç°‰∫ÜÔºåÊàëÊÉ≥ÂÖ∂ÂÆûËøôÈáåËß£Èáä‰∏Ä‰∏ãÂ∞±Â•ΩÔºåÂÆÉÂ∫îËØ•‰ºöÊäõÂá∫OutOfMemoryErrorÂºÇÂ∏∏„ÄÇ Ëß£ÈáäÔºöÈ¶ñÂÖàÊìç‰ΩúÁ≥ªÁªüÂàÜÁªôÊØè‰∏™ËøõÁ®ãÁöÑÂÜÖÂ≠òÊòØÊúâÈôêÂà∂ÁöÑÔºåÊâÄ‰ª•ÊÄªÁöÑÊñπÊ≥ïÊ†àÁöÑÂ§ßÂ∞è‰πüÊòØÊúâÈôêÂà∂ÁöÑÔºå‰ΩÜÊòØÊØè‰∏™Á∫øÁ®ãÈÉΩÈúÄË¶ÅÊñπÊ≥ïÊ†àÔºåÊâÄ‰ª•Á∫øÁ®ãÂª∫Á´ãÁöÑË∂äÂ§öÔºåÂâ©‰ΩôÁöÑÊñπÊ≥ïÊ†àÂÜÖÂ≠òÂ∞±Ë∂äÂ∞èÔºå‰∏ÄÁõ¥ÂàõÂª∫Á∫øÁ®ãÔºåËøõÁ®ãÊâÄÊã•ÊúâÁöÑÂÜÖÂ≠òÁªàÂ∞ÜË¢´ËÄóÂ∞ΩÔºåÂà∞ÊúÄÂêéÂ∞±‰ºöÊäõÂá∫OutOfMemoryErrorÂºÇÂ∏∏„ÄÇ Ê≥®ÊÑèÔºöÁ∫øÁ®ãÊï∞ÂíåÊñπÊ≥ïÊ†àÂ§ßÂ∞èÊòØÊàêÂèçÊØîÁöÑÔºåÊâÄ‰ª•Âú®ÂºÄÂèëÂ§öÁ∫øÁ®ãÁöÑÂ∫îÁî®Êó∂Â∫îËØ•ÁâπÂà´Ê≥®ÊÑèÔºåÂ¶ÇÊûú‰∏çËÉΩÂáèÂ∞ëÁ∫øÁ®ãÊï∞ÊàñËÄÖÊõ¥Êç¢64‰ΩçËôöÊãüÊú∫ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∞±Âè™ËÉΩÈÄöËøáÂáèÂ∞ëÊúÄÂ§ßÂ†ÜÂíåÂáèÂ∞ëÊ†àÂÆπÈáèÊù•Êç¢ÂèñÊõ¥Â§öÁöÑÁ∫øÁ®ã‰∫Ü„ÄÇ ÊñπÊ≥ïÂå∫ÔºàÂÖÉÁ©∫Èó¥ÔºâÂíåËøêË°åÊó∂Â∏∏ÈáèÊ±†Ê∫¢Âá∫ËøêË°åÊó∂Â∏∏ÈáèÊ±†Ê∫¢Âá∫Âú®‰πãÂâçÁöÑÂçöÂÆ¢‰πüÊèêÂà∞ËøáÂú®jdk1.6‰ª•Âèä‰πãÂâçËøêË°åÊó∂Â∏∏ÈáèÊ±†ÊòØÊîæÂú®ÊñπÊ≥ïÂå∫‰∏≠ÁöÑÔºåÂ≠òÁöÑÊòØÂØπË±°ÔºåÊâÄ‰ª•ÂèØ‰ª•ËÆæÁΩÆËôöÊãüÊú∫ÂèÇÊï∞-XX:PermSizeÂíå-XX:MaxPermSizeÊù•ÈôêÂà∂ÊñπÊ≥ïÂå∫ÁöÑÂ§ßÂ∞èÔºåÊù•Ê®°ÊãüÂ∏∏ÈáèÊ±†Ê∫¢Âá∫Ôºå‰ΩÜÊòØjdk1.7Âèä‰ª•ÂêéËøêË°åÊó∂Â∏∏ÈáèÊ±†Ë¢´ÁßªÈô§‰∫ÜÊñπÊ≥ïÂå∫ÔºåÂ∏∏ÈáèÊ±†Â≠òÂÇ®ÁöÑ‰∏çÂÜçÊòØÂØπË±°ÔºåËÄåÊòØÂØπË±°ÁöÑÂºïÁî®ÔºåÁúüÊ≠£ÁöÑÂØπË±°Â≠òÂÇ®Âú®Â†Ü‰∏≠ÔºåÊàë‰ª¨ÊîπÂèòËôöÊãüÊú∫ÂèÇÊï∞‰∏∫Ôºö-Xms20m -Xmx20m -XX:+HeapDumpOnOutOfMemoryErrorËøêË°å‰∏ãÈù¢Á®ãÂ∫èÔºö1234567891011// VM args:-Xms20m -Xmx20m -XX:+HeapDumpOnOutOfMemoryErrorpublic class RuntimeConstantPoolOOM &#123; public static void main(String[] args) &#123; List&lt;String&gt; list = new ArrayList&lt;&gt;(); int i = 0; while (true) &#123; list.add(String.valueOf(i++).intern()); &#125; &#125;&#125; ËøêË°åÁªìÊûúÔºö123java.lang.OutOfMemoryError: GC overhead limit exceededDumping heap to java_pid10818.hprof ...Heap dump file created [25172419 bytes in 0.251 secs] ‰∏äÈù¢ÁªìÊûúÊèêÁ§∫GCÂºÄÈîÄË∂ÖËøáÈôêÂà∂ÔºåÈªòËÆ§ÁöÑËØùÔºåÂ¶ÇÊûú‰Ω†98%ÁöÑÊó∂Èó¥ÈÉΩËä±Âú®GC‰∏äÂπ∂‰∏îÂõûÊî∂‰∫ÜÊâç‰∏çÂà∞2%ÁöÑÁ©∫Èó¥ÁöÑËØùÔºåËôöÊãüÊú∫Â∞±‰ºöÊäõËøô‰∏™ÂºÇÂ∏∏„ÄÇ ÂÖ∂ÂÆûÊàë‰ª¨‰πãÂâç‰πüÊèêËµ∑ËøáÂú®JDK1.8Âèä‰ª•ÂêéÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰ªéÊ∞∏‰πÖ‰ª£ÁßªÂà∞Âà∞ÂÖÉÁ©∫Èó¥‰∏≠ÔºåÂÖÉÁ©∫Èó¥‰∏éÊ∞∏‰πÖ‰ª£‰πãÈó¥ÊúÄÂ§ßÁöÑÂå∫Âà´Âú®‰∫éÔºöÂÖÉÁ©∫Èó¥Âπ∂‰∏çÂú®ËôöÊãüÊú∫‰∏≠ÔºåËÄåÊòØ‰ΩøÁî®Êú¨Âú∞ÂÜÖÂ≠ò„ÄÇÂõ†Ê≠§ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂÖÉÁ©∫Èó¥ÁöÑÂ§ßÂ∞è‰ªÖÂèóÊú¨Âú∞ÂÜÖÂ≠òÈôêÂà∂Ôºå‰ΩÜÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂèÇÊï∞Êù•ÊåáÂÆöÂÖÉÁ©∫Èó¥ÁöÑÂ§ßÂ∞èÔºö-XX:MetaspaceSizeÔºåÂàùÂßãÁ©∫Èó¥Â§ßÂ∞èÔºåËææÂà∞ËØ•ÂÄºÂ∞±‰ºöËß¶ÂèëÂûÉÂúæÊî∂ÈõÜËøõË°åÁ±ªÂûãÂç∏ËΩΩÔºåÂêåÊó∂GC‰ºöÂØπËØ•ÂÄºËøõË°åË∞ÉÊï¥ÔºåÂ¶ÇÊûúÈáäÊîæ‰∫ÜÂ§ßÈáèÁöÑÁ©∫Èó¥ÔºåÂ∞±ÈÄÇÂΩìÈôç‰ΩéËØ•ÂÄºÔºõÂ¶ÇÊûúÈáäÊîæ‰∫ÜÂæàÂ∞ëÁöÑÁ©∫Èó¥ÔºåÈÇ£‰πàÂú®‰∏çË∂ÖËøáMaxMetaspaceSizeÊó∂ÔºåÈÄÇÂΩìÊèêÈ´òËØ•ÂÄº„ÄÇ-XX:MaxMetaspaceSizeÔºåÊúÄÂ§ßÁ©∫Èó¥ÔºåÈªòËÆ§ÊòØÊ≤°ÊúâÈôêÂà∂ÁöÑ„ÄÇÈô§‰∫Ü‰∏äÈù¢‰∏§‰∏™ÊåáÂÆöÂ§ßÂ∞èÁöÑÈÄâÈ°π‰ª•Â§ñÔºåËøòÊúâ‰∏§‰∏™‰∏é GC Áõ∏ÂÖ≥ÁöÑÂ±ûÊÄßÔºö-XX:MinMetaspaceFreeRatioÔºåÂú®GC‰πãÂêéÔºåÊúÄÂ∞èÁöÑMetaspaceÂâ©‰ΩôÁ©∫Èó¥ÂÆπÈáèÁöÑÁôæÂàÜÊØîÔºåÂáèÂ∞ë‰∏∫ÂàÜÈÖçÁ©∫Èó¥ÊâÄÂØºËá¥ÁöÑÂûÉÂúæÊî∂ÈõÜÔºå-XX:MaxMetaspaceFreeRatioÔºåÂú®GC‰πãÂêéÔºåÊúÄÂ§ßÁöÑMetaspaceÂâ©‰ΩôÁ©∫Èó¥ÂÆπÈáèÁöÑÁôæÂàÜÊØîÔºåÂáèÂ∞ë‰∏∫ÈáäÊîæÁ©∫Èó¥ÊâÄÂØºËá¥ÁöÑÂûÉÂúæÊî∂ÈõÜÔºåÂÖ∑‰ΩìÈ™åËØÅ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011// VM args: -XX:MetaspaceSize=4M -XX:MaxMetaspaceSize=4Mpublic class RuntimeConstantPoolOOM &#123; public static void main(String[] args) &#123; List&lt;String&gt; list = new ArrayList&lt;&gt;(); int i = 0; while (true) &#123; list.add(String.valueOf(i++).intern()); &#125; &#125;&#125; ËøêË°åÁªìÊûúÔºö12Error occurred during initialization of VMOutOfMemoryError: Metaspace ÂÖ≥‰∫éËøô‰∏™Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†ÁöÑÂÆûÁé∞ÈóÆÈ¢òÔºåËøòÁúüÁöÑ‰ºöÂá∫Áé∞‰∏Ä‰∏™ÂæàÊÑèÊÄùÁöÑÈóÆÈ¢òÊàñËÄÖËØ¥ÊòØ‰∏Ä‰∏™ÂæàÂ•áÊÄ™ÁöÑÈóÆÈ¢ò„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415// jdk:1.8public class RuntimeConstantPoolOOM &#123; public static void main(String[] args) &#123; String str1 = new StringBuilder("ËÆ°ÁÆóÊú∫").append("ËΩØ‰ª∂").toString(); System.out.println(str1.intern() == str1); String str2 = new StringBuilder("ja").append("va").toString(); System.out.println(str2.intern() == str2); String str3 = new StringBuilder("ma").append("in").toString(); System.out.println(str3.intern() == str3); &#125;&#125; ËøêË°åÁªìÊûúÔºö123truefalsefalse jdk1.6‰∏≠Ôºåintern()ÊñπÊ≥ï‰ºöÊääÈ¶ñÊ¨°ÈÅáÂà∞ÁöÑÂ≠óÁ¨¶‰∏≤ÂÆû‰æãÂ§çÂà∂Âú®Ê∞∏‰πÖ‰ª£ÔºåËøîÂõûÁöÑ‰πüÊòØÊ∞∏‰πÖ‰ª£‰∏≠Ëøô‰∏™Â≠óÁ¨¶‰∏≤ÂÆû‰æãÁöÑÂºïÁî®ÔºåËÄåÁî±StringBuilderÂàõÂª∫ÁöÑÂ≠óÁ¨¶‰∏≤ÂÆû‰æãÂú®JavaÂ†Ü‰∏äÔºåÊâÄ‰ª•ÂøÖÁÑ∂‰∏çÊòØÂêå‰∏Ä‰∏™ÂºïÁî®„ÄÇËÄåÂú®jdk1.7Âèä‰ª•ÂêéÔºåintern()ÁöÑÂÆûÁé∞‰∏ç‰ºöÂÜçÂ§çÂà∂ÂÆû‰æãÔºåÂè™ÊòØÂú®Â∏∏ÈáèÊ±†‰∏≠ËÆ∞ÂΩïÈ¶ñÊ¨°Âá∫Áé∞ÂæóÂÆû‰æãÁöÑÂºïÁî®ÔºåÂõ†Ê≠§intern()ËøîÂõûÁöÑÁî±StringBuilderÂàõÂª∫ÁöÑÈÇ£‰∏™Â≠óÁ¨¶‰∏≤ÊòØÂêå‰∏Ä‰∏™ÂÆû‰æãÔºåËÄåÂÖ≥‰∫é‰∏äÈù¢ÁöÑËøêË°åÁªìÊûúÔºåÊàëÊÉ≥javaÂíåmain‰πãÂâçÈÉΩÊòØÂú®Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÈÉΩÊúâ‰ªñÁöÑÂºïÁî®‰∫ÜÔºåÊâÄ‰ª•ËøîÂõûÁöÑÈÉΩÊòØfalse„ÄÇ ÊñπÊ≥ïÂå∫Ê∫¢Âá∫ÊñπÊ≥ïÂå∫Áî®‰∫éÂ≠òÊîæClassÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂ¶ÇÁ±ªÂêçÔºåËÆøÈóÆ‰øÆÈ•∞Á¨¶ÔºåÂ∏∏ÈáèÊ±†ÔºåÂ≠óÊÆµÊèèËø∞ÔºåÊñπÊ≥ïÊèèËø∞Á≠âÔºåÂü∫Êú¨ÁöÑÊÄùË∑ØÊòØËøêË°åÊó∂‰∫ßÁîüÂ§ßÈáèÁöÑÁ±ªÂéªÂ°´ÂÖÖÊñπÊ≥ïÂå∫Ôºå‰∏ãÈù¢ÊòØÂÄüÂä©CGLibÔºàcglibÂíåasmÁöÑ‰æùËµñÊúâ‰∏™ÂùëÔºåÈÄâÊã©cglib2.2,asm3.1‰∫≤ÊµãÂèØÁî®ÔºâÊù•Êìç‰ΩúÂ≠óËäÇÁ†ÅËøêË°åÊó∂ÁîüÊàêÂ§ßÈáèÁöÑÂä®ÊÄÅÁ±ªÔºåËøôÁßçÂú∫ÊôØÂú®SpringÔºåHibernate‰∏≠ÁªèÂ∏∏Âá∫Áé∞ÔºåÈúÄË¶ÅÂ§öÊ≥®ÊÑèÔºåÊú¨‰∫∫‰ΩøÁî®ÁöÑJDK1.8ÔºåÊâÄ‰ª•ÊµãËØïÁöÑÊòØÊñπÊ≥ïÂå∫ÁöÑÂèòËøÅÂÖÉÁ©∫Èó¥Ôºå‰ª£Á†ÅÂÆûÁé∞Â¶Ç‰∏ãÔºö123456789101112131415161718192021222324// VM args:-XX:MetaspaceSize=4M -XX:MaxMetaspaceSize=4Mpublic class JavaMethodAreaOOM &#123; public static void main(String[]args) &#123; while (true) &#123; Enhancer enhancer = new Enhancer(); enhancer.setSuperclass(OOMObject.class); enhancer.setUseCache(false); enhancer.setCallback(new MethodInterceptor() &#123; public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable &#123; return methodProxy.invokeSuper(o, objects); &#125; &#125;); OOMObject oomObject = (OOMObject) enhancer.create(); oomObject.sayHi(); &#125; &#125; static class OOMObject&#123; public void sayHi()&#123; System.out.println("hi"); &#125; &#125;&#125; ÁªìÊûúËæìÂá∫Ôºö12Error occurred during initialization of VMOutOfMemoryError: Metaspace ËøôÁ±ªÂºÇÂ∏∏ÁªèÂ∏∏Âá∫Áé∞Âú®webÂ∫îÁî®‰∏≠ÔºåÈúÄË¶ÅÂ§öÊ≥®ÊÑè„ÄÇ Êú¨Êú∫Áõ¥Êé•ÂÜÖÂ≠òÊ∫¢Âá∫DirectMemoryÂÆπÈáèÂèØÈÄöËøá-XX:MaxDirectMemorySizeÊåáÂÆöÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÔºåÂàôÈªòËÆ§‰∏éJavaÂ†ÜÊúÄÂ§ßÂÄºÔºà-XmxÊåáÂÆöÔºâ‰∏ÄÊ†∑ÔºåÂú®„ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã‰∏≠Áî®‰∫Ü‰ª•‰∏ã‰ª£Á†ÅÔºö1234567891011121314// VM args:-Xmx20M -XX:MaxDirectMemorySize=10Mpublic class DirectMemoryOOM &#123; private static final int _1MB = 1024*1024; public static void main(String[] args) throws Exception&#123; Field unsafeField = Unsafe.class.getDeclaredFields()[0]; unsafeField.setAccessible(true); Unsafe unsafe = (Unsafe) unsafeField.get(null); while (true) &#123; unsafe.allocateMemory(_1MB); &#125; &#125;&#125; ‰ΩÜÊòØÂú®Ëá™Â∑±ÁîµËÑë‰∏≠Ê≤°ÊúâËøêË°åÊàêÂäüÔºåÂèçËÄåËÆ©Ëá™Â∑±ÁöÑÁîµËÑëÊ≠ªÊú∫‰∫ÜÔºåËøô‰∏™Âú∞ÊñπËøòÊòØÊ≤°ÊúâÂºÑÊáÇÔºüÔºüÔºüÔºüÔºüÔºüÔºåÂ∏åÊúõÊáÇÁöÑÂ§ß‰Ω¨ÁªôÊàëÁÇπÊîØÊåÅ„ÄÇ Ëøô‰∏™ÂºÇÂ∏∏Âú®‰ΩøÁî®NIO‰∏≠ÂèØËÉΩ‰ºöÂá∫Áé∞ÔºåÊâÄ‰ª•Âú®‰ΩøÁî®ÁöÑÊó∂ÂÄôÈúÄË¶ÅÂ§öÊ≥®ÊÑè„ÄÇ ÊÄªÁªìÂú®ÊÄªÁªìÂæóËøáÁ®ã‰∏≠ÔºåÁü•ÈÅì‰∫ÜÂêÑ‰∏™ÂÜÖÂ≠òÂå∫ÂüüÂèØËÉΩ‰ºöÂá∫Áé∞OOMÁöÑÊÉÖÂÜµÔºåÈáçË¶ÅÁöÑÊòØ‰∫ÜËß£‰∫ÜÊñπÊ≥ïÂå∫Âú®jdk1.6Âà∞1.7Âà∞1.8ÁöÑÂèòËøÅÔºåÊúâÂÖ¥Ë∂£ÁöÑ‰∫∫ÂèØ‰ª•Ê∑±ÂÖ•‰∫ÜËß£„ÄÇ ÂèÇËÄÉ „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã CGLIB‰ªãÁªç‰∏éÂéüÁêÜ Java8ÂÜÖÂ≠òÊ®°Âûã‚ÄîÊ∞∏‰πÖ‰ª£(PermGen)ÂíåÂÖÉÁ©∫Èó¥(Metaspace) Ê∑±ÂÖ•Êé¢Á©∂JVM | Êé¢ÁßòMetaspace]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_2_HotSpotÂØπË±°Êè≠Áßò]]></title>
    <url>%2F2017%2F11%2F21%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-2-HotSpot%E5%AF%B9%E8%B1%A1%E6%8F%AD%E7%A7%98%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊÄªÊúâ‰∫õ‰∫∫‰ºöÊÄùËÄÉÂØπË±°ÊòØÂ¶ÇÊûúÂàõÂª∫„ÄÅÂ¶Ç‰ΩïÂ∏ÉÂ±Ä„ÄÅ‰ª•ÂèäÂ¶Ç‰ΩïËÆøÈóÆÁöÑÔºüÂØπ‰∫éËøô‰∫õÈóÆÈ¢òÔºåÊàë‰ª¨ÂøÖÈ°ªÊääËÆ®ËÆ∫ËåÉÂõ¥ÈôêÂÆöÂú®ÂÖ∑‰ΩìÁöÑËôöÊãüÊú∫ÂíåÈõÜ‰∏≠Âú®Êüê‰∏Ä‰∏™ÂÜÖÂ≠òÂå∫ÂüüÊâçÊúâÊÑè‰πâ„ÄÇÂü∫‰∫éÂÆûÁî®ÂéüÂàôÔºåÊàë‰ª¨‰ª•Â∏∏Áî®ÁöÑËôöÊãüÊú∫HotSpotÂíåÂ∏∏Áî®ÁöÑÂÜÖÂ≠òÂå∫ÂüüJavaÂ†Ü‰∏∫‰æã„ÄÇ ÂØπË±°ÁöÑÂàõÂª∫JavaÁ®ãÂ∫èÂàõÂª∫ÂØπË±°‰∏çËøáÊòØ‰∏Ä‰∏™newÂÖ≥ÈîÆÂ≠óËÄåÂ∑≤ÔºåËÄåÂú®ËôöÊãüÊú∫‰∏≠ÔºåÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂØπË±°Âç¥ÁªèÂéÜ‰∫Ü‰∏ÄÁ≥ªÂàóËøáÁ®ã„ÄÇ ËôöÊãüÊú∫ÈÅáÂà∞‰∏ÄÊù°newÊåá‰ª§Êó∂ÔºåÈ¶ñÂÖàÂéªÊ£ÄÊü•Ëøô‰∏™Êåá‰ª§ÁöÑÂèÇÊï∞ÊòØÂê¶ËÉΩÂú®Â∏∏ÈáèÊ±†‰∏≠ÂÆö‰ΩçÂà∞‰∏Ä‰∏™Á±ªÁöÑÁ¨¶Âè∑ÂºïÁî®ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂ∞±‰ºöÊäõÂá∫ClassNotFoundExceptionÔºåÂπ∂‰∏îÊ£ÄÊü•Ëøô‰∏™Á¨¶Âè∑ÂºïÁî®‰ª£Ë°®ÁöÑÁ±ªÊòØÂê¶Â∑≤Ë¢´Âä†ËΩΩ„ÄÅËß£ÊûêÂíåÂàùÂßãÂåñËøáÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÈÇ£ÂøÖÈ°ªÂÖàÊâßË°åÁõ∏Â∫îÁöÑÁ±ªÂä†ËΩΩËøáÁ®ã„ÄÇ Á±ªÂä†ËΩΩÊ£ÄÊü•ÈÄöËøáÂêéÔºåËôöÊãüÊú∫‰∏∫Êñ∞ÁîüÂØπË±°ÂàÜÈÖçÂÜÖÂ≠òÔºåÂØπË±°ÊâÄÈúÄÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÂú®Á±ªÂä†ËΩΩÂÆåÊàêÂêé‰æøÂèØ‰ª•ÂÆåÂÖ®Á°ÆÂÆö„ÄÇ ËøôÈáåÊúâ‰∏§ÁßçÂÜÖÂ≠òÂàÜÈÖçÊñπÂºèÔºöÔºàÁî±ÈááÁî®ÁöÑÂûÉÂúæÊî∂ÈõÜÂô®ÊòØÂê¶Â∏¶ÊúâÂéãÁº©Êï¥ÁêÜÁöÑÂäüËÉΩÂÜ≥ÂÆöÔºâ ÊåáÈíàÁ¢∞Êíû ÂÅáËÆæJavaÂ†ÜÁöÑÂÜÖÂ≠òÊòØÁªùÂØπËßÑÊï¥ÁöÑÔºåÊâÄÊúâÁî®ËøáÁöÑÂÜÖÂ≠òÈÉΩÊîæÂú®‰∏ÄËæπÔºåÁ©∫Èó≤ÁöÑÂÜÖÂ≠òÊîæÂú®Âè¶‰∏ÄËæπÔºå‰∏≠Èó¥ÊîæÁùÄ‰∏Ä‰∏™ÊåáÈíà‰Ωú‰∏∫ÂàÜÁïåÁÇπÁöÑÊåáÁ§∫Âô®ÔºåÈÇ£ÊâÄÂàÜÈÖçÂÜÖÂ≠òÂ∞±‰ªÖ‰ªÖÊòØÊääÈÇ£‰∏™ÊåáÈíàÂêëÁ©∫Èó≤Á©∫Èó¥ÈÇ£ËæπÊå™Âä®‰∏ÄÊÆµ‰∏éÂØπË±°Â§ßÂ∞èÁõ∏Á≠âÁöÑË∑ùÁ¶ª„ÄÇ Á©∫Èó≤ÂàóË°® ÂÅáÂ¶ÇJavaÂ†Ü‰∏≠ÁöÑÂÜÖÂ≠òÂπ∂‰∏çÊòØÂÆåÊï¥ÁöÑÔºåÂ∑≤‰ΩøÁî®ÁöÑÂÜÖÂ≠òÂíåÁ©∫Èó≤ÁöÑÂÜÖÂ≠òÁõ∏‰∫í‰∫§ÈîôÔºåËôöÊãüÊú∫Â∞±ÂøÖÈ°ªÁª¥Êä§‰∏Ä‰∏™ÂàóË°®ÔºåËÆ∞ÂΩïÈÇ£‰∫õÂÜÖÂ≠òÂùóÊòØÂèØÁî®ÁöÑÔºåÂú®ÂàÜÈÖçÁöÑÊó∂ÂÄô‰ªéÂàóË°®‰∏≠ÊâæÂà∞‰∏ÄÂùóË∂≥Â§üÂ§ßÁöÑÁ©∫Èó¥ÂàíÂàÜÁªôÂÆû‰æãÔºåÂπ∂Êõ¥Êñ∞ÂàóË°®‰∏äÁöÑËÆ∞ÂΩï„ÄÇ Ëß£ÂÜ≥Âú®Âπ∂ÂèëÊÉÖÂÜµ‰∏ã‰∏çÂÆâÂÖ®ÁöÑÊñπÊ°à: ÂØπÂàÜÈÖçÂÜÖÂ≠òÁ©∫Èó¥ÁöÑÂä®‰ΩúËøõË°åÂêåÊ≠•Â§ÑÁêÜ‚Äî‚ÄîËôöÊãüÊú∫ÈááÁî®CASÈÖç‰∏äÂ§±Ë¥•ÈáçËØïÁöÑÊñπÂºè‰øùËØÅÊõ¥Êñ∞Êìç‰ΩúÁöÑÂéüÂ≠êÊÄß ÊääÂÜÖÂ≠òÂàÜÈÖçÁöÑÂä®‰ΩúÊåâÁ∫øÁ®ãÂàíÂàÜÂú®‰∏çÂêåÁöÑÁ©∫Èó¥‰πã‰∏≠ËøõË°åÔºåÂç≥ÊØè‰∏™Á∫øÁ®ãÂú®JavaÂ†Ü‰∏≠È¢ÑÂÖàÂàÜÈÖç‰∏ÄÂ∞èÂùóÂÜÖÂ≠òÔºåÁß∞‰∏∫Êú¨Âú∞Á∫øÁ®ãÂàÜÈÖçÁºìÂÜ≤ÔºåÂè™ÊúâÈúÄË¶ÅÈáçÊñ∞ÂàÜÈÖçÁöÑÊó∂ÂÄôÊâçÂêåÊ≠•ÈîÅÂÆö ËôöÊãüÊú∫Â∞ÜÂàÜÈÖçÂà∞ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÈÉΩÂàùÂßãÂåñ‰∏∫Èõ∂ÂÄºÔºàÈªòËÆ§ÂàùÂßãÂåñÔºâÔºå‰øùËØÅ‰∫ÜÂØπË±°ÂÆû‰æãÂú®Java‰ª£Á†Å‰∏≠ÂèØ‰ª•‰∏çËµãÂàùÂßãÂÄºÂ∞±ÂèØ‰ª•‰ΩøÁî®„ÄÇ ËÆæÁΩÆÂØπË±°Â§¥ Âà©Áî®ÊûÑÈÄ†ÂáΩÊï∞ËøõË°åÂàùÂßãÂåñ ÂØπË±°ÁöÑÂÜÖÂ≠òÂ∏ÉÂ±ÄÂØπË±°Â§¥ Â≠òÂÇ®ÂØπË±°Ëá™Ë∫´ÁöÑËøêË°åÊó∂Êï∞ÊçÆÔºàÂìàÂ∏åÁ†ÅÔºåGCÂàÜ‰ª£Âπ¥ÈæÑ„ÄÅÈîÅÁä∂ÊÄÅÊ†áÂøó„ÄÅÁ∫øÁ®ãÊåÅÊúâÁöÑÈîÅ„ÄÅÂÅèÂêëÁ∫øÁ®ãID„ÄÅÂÅèÂêëÊó∂Èó¥Êà≥Á≠âÔºâÔºåÂÆòÊñπÁß∞‰∏∫‚ÄúMark Word‚ÄùÔºåÂÆÉË¢´ËÆæËÆ°Êàê‰∏Ä‰∏™ÈùûÂõ∫ÂÆöÁöÑÊï∞ÊçÆÁªìÊûÑ‰ª•‰æøÂú®ÊûÅÂ∞èÁöÑÁ©∫Èó¥ÂÜÖÂ≠òÂÇ®Â∞ΩÈáèÂ§öÁöÑ‰ø°ÊÅØÔºå‰ªñ‰ºöÊ†πÊçÆÂØπË±°ÁöÑÁä∂ÊÄÅÂ§çÁî®Ëá™Â∑±ÁöÑÂ≠òÂÇ®Á©∫Èó¥ÔºåÂÖ∑‰ΩìËßÅ„ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã„ÄÇ Á±ªÂûãÊåáÈíàÔºàÂèØÈÄâÔºâÂç≥ÂØπË±°ÊåáÂêëÂÆÉÁöÑÂÖÉÊï∞ÊçÆÔºàÊñπÊ≥ïÂå∫ÔºâÁöÑÊåáÈíàÔºåËôöÊãüÊú∫ÈÄöËøáËøô‰∏™ÊåáÈíàÊù•Á°ÆÂÆöËøô‰∏™ÂØπË±°ÊòØÂì™‰∏™Á±ªÁöÑÂÆû‰æã Êï∞ÁªÑÈïøÂ∫¶ÔºàÂèØÈÄâÔºâÂ¶ÇÊûúÂØπË±°ÊòØ‰∏Ä‰∏™JavaÊï∞ÁªÑÔºåÈÇ£Âú®ÂØπË±°Â§¥‰∏≠ËøòÂøÖÈ°ªÊúâ‰∏ÄÂùóÁî®‰∫éËÆ∞ÂΩïÊï∞ÁªÑÈïøÂ∫¶ÁöÑÊï∞ÊçÆÔºåÂõ†‰∏∫ËôöÊãüÊú∫ÂèØ‰ª•ÈÄöËøáÊôÆÈÄöjavaÂØπË±°ÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÁ°ÆÂÆöJavaÂØπË±°ÁöÑÂ§ßÂ∞èÔºå‰ΩÜÊòØ‰ªéÊï∞ÁªÑÊï∞ÊçÆÊó†Ê≥ïÁ°ÆÂÆöÊï∞ÊçÆÂ§ßÂ∞è ÂÆû‰æãÊï∞ÊçÆÂ≠òÂÇ®ÊâÄÊúâÊàêÂëòÂèòÈáèÔºåÊó†ËÆ∫ÊòØÁà∂Á±ªÁªßÊâø‰∏ãÊù•ÁöÑÔºåËøòÊòØÂú®Â≠êÁ±ªÂÆö‰πâÁöÑ„ÄÇ Â≠òÂÇ®È°∫Â∫è‰ºöÂèóÂà∞ËôöÊãüÊú∫ÂàÜÈÖçÁ≠ñÁï•ÂèÇÊï∞ÂíåÂ≠óÊÆµÂú®Ê∫êÁ†ÅÂÆö‰πâÁöÑÈ°∫Â∫èÁöÑÂΩ±Âìç„ÄÇHotSpotÈªòËÆ§ÁöÑÂàÜÈÖçÁ≠ñÁï•‰∏∫Áõ∏ÂêåÂÆΩÂ∫¶ÁöÑÂ≠óÊÆµÊÄªÊòØË¢´ÂàÜÈÖçÂà∞‰∏ÄËµ∑ÔºàÂ¶ÇlongÂíådoubleÔºâÔºåÂú®Ëøô‰∏™ÂâçÊèê‰∏ãÔºåÁà∂Á±ªÂÖà‰∫éÂ≠êÁ±ªÔºåËã•CompactFieldsÂèÇÊï∞‰∏∫trueÔºåÈÇ£‰πàÂ≠êÁ±ª‰πã‰∏≠ËæÉÁ™ÑÁöÑÂèòÈáè‰πüÂèØËÉΩÊèíÂÖ•Âà∞Áà∂Á±ªÂèòÈáèÁöÑÁ©∫Èöô‰∏≠ÔºàÊòØÂõ†‰∏∫‰∏Ä‰∏™slotÂ§™Â§ßÔºâ ÂØπÈΩêÂ°´ÂÖÖÔºàÂèØÈÄâÔºâËµ∑Âà∞Âç†‰ΩçÁ¨¶ÁöÑ‰ΩúÁî®ÔºåÁ°Æ‰øùÂØπË±°ÁöÑÈïøÂ∫¶‰∏∫8Â≠óËäÇÁöÑÊï¥Êï∞ÂÄç HotSpot VMÁöÑËá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜÁ≥ªÁªüË¶ÅÊ±ÇÂØπË±°Ëµ∑Âßã‰ΩçÁΩÆÂøÖÈ°ªÊòØ8Â≠óËäÇÁöÑÊï¥Êï∞ÂÄçÔºåÁî±‰∫éÂØπË±°Â§¥‰∏ÄÂÆöÊòØ8Â≠óËäÇÁöÑÊï¥Êï∞ÂÄçÔºåÊâÄ‰ª•Âà©Áî®Âç†‰ΩçÁ¨¶ÂèØ‰ª•ËææÂà∞Êï∞ÊçÆÈÉ®ÂàÜ‰πüÊòØ8Â≠óËäÇÁöÑÊï¥Êï∞ÂÄç„ÄÇ‰ªéËÄåËææÂà∞ÂØπË±°ÁöÑÈïøÂ∫¶ÊòØ8Â≠óËäÇÁöÑÊï¥Êï∞ÂÄç„ÄÇÔºàÊúâÁÇπÁªïÂè£ÂïäÔºåÂìàÂìàÔºâ ÂØπË±°ÁöÑËÆøÈóÆÂÆö‰ΩçÊàë‰ª¨ÈÄöÂ∏∏ÈÉΩ‰ºö‰ΩøÁî®JavaÂØπË±°ÔºåÊàë‰ª¨Âü∫Êú¨‰∏äÈÉΩÊòØÈÄöËøáËôöÊãüÊú∫Ê†à‰∏äÁöÑreferenceÊï∞ÊçÆÊù•Êìç‰ΩúÂ†Ü‰∏äÁöÑÂÖ∑‰ΩìÂØπË±°ÔºåËÄåÊ†à‰∏äÂè™ÊòØ‰∏Ä‰∏™ÊåáÂêëÂØπË±°ÁöÑÂºïÁî®ÔºåÂØπË±°ÁöÑÂÖ∑‰ΩìËÆøÈóÆÊñπÂºèÂèñÂÜ≥‰∫éËôöÊãüÊú∫ÔºåÁõÆÂâçÊúâ‰ª•‰∏ã‰∏§ÁßçËÆøÈóÆÊñπÂºèÔºö ÈÄöËøáÂè•ÊüÑËÆøÈóÆÂØπË±°ÂèØ‰ª•Áúã‰∏ãÈù¢ÁöÑÂõæÔºö‰ΩøÁî®Âè•ÊüÑËÆøÈóÆÔºåJavaÂ†Ü‰∏≠‰ºöÂàíÂàÜÂá∫‰∏ÄÂùóÂÜÖÂ≠òÊù•‰Ωú‰∏∫Âè•ÊüÑÊ±†ÔºåreferenceÂ≠òÂÇ®ÁöÑÂ∞±ÊòØÂØπË±°ÁöÑÂè•ÊüÑÂú∞ÂùÄÔºåËÄåÂè•ÊüÑÂåÖÂê´‰∫ÜÂØπË±°ÂÆû‰æãÊï∞ÊçÆ‰∏éÁ±ªÂûãÊï∞ÊçÆÂêÑËá™ÁöÑÂÖ∑‰ΩìÂú∞ÂùÄ‰ø°ÊÅØ„ÄÇ ÈÄöËøáÁõ¥Êé•ÊåáÈíàËÆøÈóÆÂØπË±°ÂèØ‰ª•Áúã‰∏ãÈù¢ÁöÑÂõæÔºö‰ΩøÁî®Áõ¥Êé•ÊåáÈíàËÆøÈóÆÔºåJavaÂ†ÜÂØπË±°ÁöÑÂ∏ÉÂ±Ä‰∏≠Â∞±Ë¶ÅËÄÉËôëÂ¶Ç‰ΩïÊîæÁΩÆËÆøÈóÆÁ±ªÂûãÊï∞ÊçÆÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåËÄåreference‰∏≠Â≠òÂÇ®ÁöÑÁõ¥Êé•Â∞±ÊòØÂØπË±°Âú∞ÂùÄ„ÄÇ ‰∏§ËÄÖÂØπÊØî ÈÄöËøáÂè•ÊüÑËÆøÈóÆÂØπË±°ÂèØ‰ª•ÂΩìÂØπË±°Ë¢´ÁßªÂä®‰πãÂêéÂè™‰ºöÊîπÂèòÂè•ÊüÑ‰∏≠ÁöÑÂÆû‰æãÊï∞ÊçÆÊåáÈíàÔºåËÄåreferenceÊú¨Ë∫´‰∏çÈúÄË¶ÅÊîπÂèò„ÄÇ ‰ΩøÁî®Áõ¥Êé•ÊåáÈíàËÆøÈóÆÂèØ‰ª•Âä†Âø´JavaÂØπË±°ÁöÑËÆøÈóÆÔºåHotSpotÂ∞±ÊòØ‰ΩøÁî®Áõ¥Êé•ÊåáÈíàËÆøÈóÆÂØπË±°ÁöÑÊñπÂºè„ÄÇ ÊÄªÁªìËøôÈáåËÆ≤ÁöÑÂØπË±°ÈáçÁÇπËøòÊòØÂú®ËôöÊãüÊú∫ÊâßË°åÈÉ®ÂàÜÔºåÂÖ≥‰∫éClassÊñá‰ª∂ÁöÑËÆ≤Ëß£Ê≤°ÊúâÊ∂âÂèäÂà∞Ôºå‰ΩÜÂÆÉÂç¥ÊòØÂçÅÂàÜÈáçË¶ÅÁöÑÔºåÊó•Âêé‰ºöÊèêÂèä„ÄÇ ÂèÇËÄÉ Ê∑±ÂÖ•ÁêÜËß£JVM(‰∫å)‚Äî‚ÄîÊè≠ÂºÄHotSpotÂØπË±°ÂàõÂª∫ÁöÑÂ••Áßò]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£JVM_1_JVMÂÜÖÂ≠òÂå∫Âüü]]></title>
    <url>%2F2017%2F11%2F20%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-1-JVM%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊÄªÊòØÊèêÂà∞Â†ÜÂëÄÔºåÊ†àÂëÄÔºåÂ∏∏ÈáèÊ±†ÂëÄÔºå‰ΩÜÊòØJavaËôöÊãüÊú∫ÂÜÖÁöÑJavaÊ®°ÂûãÂç¥ÊÄªÊòØÁêÜËß£‰∏çÊ∏ÖÊ•öÔºåËøôÊ¨°Â∞±ÊÄªÁªì‰∏Ä‰∏ã„ÄÇ JavaÂÜÖÂ≠òÂå∫ÂüüÁªÑÊàêËøôÈáåËÆ≤ÁöÑÊòØJavaËôöÊãüÊú∫Âú®ÊâßË°åJavaÁ®ãÂ∫èÁöÑËøáÁ®ã‰∏≠‰ºöÊääÂÆÉÊâÄÁÆ°ÁêÜÁöÑÂÜÖÂ≠òÂàíÂàÜ‰∫îÂ§ßÂå∫Âüü„ÄÇ Á®ãÂ∫èËÆ°ÁÆóÂô® JavaËôöÊãüÊú∫Ê†à Êú¨Âú∞ÊñπÊ≥ïÊ†à JavaÂ†Ü ÊñπÊ≥ïÂå∫ ‰∏ãÈù¢‰πüÊääÊù•Ëá™Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫ÁöÑÂõæÁâáË¥¥‰∏Ä‰∏ãÔºö Êé•ÁùÄÊàë‰ª¨ÈáçÁÇπÁêÜËß£‰∏Ä‰∏ãËøô‰∫îÂ§ßÂå∫Âüü„ÄÇ Á®ãÂ∫èËÆ°Êï∞Âô®‰ªÄ‰πàÊòØÁ®ãÂ∫èËÆ°Êï∞Âô® Á®ãÂ∫èËÆ°Êï∞Âô®ÊòØ‰∏ÄÂùóËæÉÂ∞èÁöÑÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰ªñÂèØ‰ª•ÁúãÂÅöÂΩìÂâçÁ∫øÁ®ãÊâÄÊâßË°åÁöÑÂ≠óËäÇÁ†ÅÁöÑË°åÂè∑ÊåáÁ§∫Âô®„ÄÇ Â¶ÇÊûúÁ∫øÁ®ãÂú®ÊâßË°å‰∏Ä‰∏™JavaÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºåËøô‰∏™ËÆ°Êï∞Âô®ËÆ∞ÂΩïÁöÑÊòØÊ≠£Âú®ÊâßË°åÁöÑËôöÊãüÊú∫Â≠óËäÇÁ†ÅÊåá‰ª§Âú∞ÂùÄÔºåÂ¶ÇÊûúÊ≠£Âú®ÊâßË°åÁöÑÊòØNativeÊñπÊ≥ïÔºåËøô‰∏™ËÆ°Êï∞Âô®ÂÄºÂàô‰∏∫Á©∫„ÄÇ Á®ãÂ∫èËÆ°Êï∞Âô®ÁöÑ‰ΩúÁî® ÂçïÁ∫øÁ®ãÁöÑÊó∂ÂÄôÔºöÈÄöËøáÊîπÂèòËøô‰∏™ËÆ°Êï∞Âô®ÁöÑÂÄºÊù•ÈÄâÂèñ‰∏ã‰∏ÄÊù°ÈúÄË¶ÅÊâßË°åÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§Ôºå‰ªéËÄåÂÆûÁé∞ÂàÜÊîØ„ÄÅÂæ™ÁéØ„ÄÅË∑≥ËΩ¨„ÄÅÂºÇÂ∏∏Â§ÑÁêÜ„ÄÅÁ∫øÁ®ãÂõûÂ§çÁ≠âÂü∫Á°ÄÂäüËÉΩ„ÄÇ Â§öÁ∫øÁ®ãÁöÑÊó∂ÂÄôÔºöÂΩìÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâÁã¨Á´ãÁöÑÁ®ãÂ∫èËÆ°Êï∞Âô®ÔºåÂàôÁ∫øÁ®ãÂàáÊç¢ÂêéÂ∞±ËÉΩÂõûÂ§çÂà∞Ê≠£Á°ÆÁöÑÊâßË°å‰ΩçÁΩÆ„ÄÇPSÔºö JavaËôöÊãüÊú∫ÁöÑÂ§öÁ∫øÁ®ãÊòØÈÄöËøáÁ∫øÁ®ãËΩÆÊµÅÂàáÊç¢Âπ∂ÂàÜÈÖçÂ§ÑÁêÜÂô®ÊâßË°åÊó∂Èó¥ÁöÑÊñπÂºèÊù•ÂÆûÁé∞ÁöÑ„ÄÇ Á®ãÂ∫èËÆ°Êï∞Âô®ÁöÑÁâπÁÇπ Â≠òÂÇ®Á©∫Èó¥ËæÉÂ∞è Á∫øÁ®ãÁßÅÊúâÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâ‰∏Ä‰∏™Á®ãÂ∫èËÆ°Êï∞Âô® ÂîØ‰∏Ä‰∏Ä‰∏™Ê≤°ÊúâËßÑÂÆö‰ªª‰ΩïOutOfMemoryErrorÊÉÖÂÜµÁöÑÂå∫Âüü ÁîüÂëΩÂë®Êúü‰∏éÁ∫øÁ®ãÁõ∏Âêå JavaËôöÊãüÊú∫Ê†à‰ªÄ‰πàÊòØJavaËôöÊãüÊú∫Ê†àJavaËôöÊãüÊú∫Ê†àÊèèËø∞ÁöÑÊòØJavaÊñπÊ≥ïÊâßË°åÁöÑÂÜÖÂ≠òÊ®°ÂûãÔºöÊØè‰∏™ÊñπÊ≥ïÂú®ÊâßË°åÁöÑÂêåÊó∂ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™Ê†àÂ∏ßÁî®‰∫éÂ≠òÂÇ®Â±ÄÈÉ®ÂèòÈáèË°®ÔºàÂåÖÊã¨Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºåÂØπË±°ÂºïÁî®ÂíåreturnAddress,ÂÖ∂‰∏≠longÂíådouble‰ºöÂç†ÊçÆ2‰∏™Â±ÄÈÉ®ÂèòÈáèÁ©∫Èó¥ÔºåÂÖ∂‰ªñÂè™Âç†Áî®‰∏Ä‰∏™Ôºâ„ÄÅÊìç‰ΩúÊï∞Ê†à„ÄÅÂä®ÊÄÅÈìæÊé•„ÄÅÊñπÊ≥ïÂá∫Âè£Á≠â‰ø°ÊÅØ„ÄÇÊØè‰∏™ÊñπÊ≥ï‰ªéË∞ÉÁî®Áõ¥Ëá≥ÊâßË°åÂÆåÊàêÁöÑËøáÁ®ãÔºåÂ∞±ÂØπÂ∫îÁùÄ‰∏Ä‰∏™Ê†àÂ∏ßÂú®ËôöÊãüÊú∫Ê†à‰∏≠ÂÖ•Ê†àÂà∞Âá∫Ê†àÁöÑËøáÁ®ã„ÄÇ PsÔºö ‰∫∫‰ª¨Â∏∏ËØ¥ÁöÑJavaÂÜÖÂ≠òÂå∫ÂàÜ‰∏∫‚ÄúÂ†Ü‚ÄùÂíå‚ÄúÊ†à‚ÄùÔºå‚ÄúÂ†Ü‚ÄùÂ≠òÊîæÂØπË±°ÔºàÂèØ‰ª•ÔºâÔºå‚ÄúÊ†à‚ÄùÂè™ÊòØÂÄºÂÖ∂‰∏≠ÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®Ôºà‰∏çÂèØ‰ª•ÔºâÔºåËøôÊòØ‰∏çÊ≠£Á°ÆÁöÑ„ÄÇ JavaËôöÊãüÊú∫Ê†àÁöÑÁâπÁÇπ Á∫øÁ®ãÁßÅÊúâÔºåÁîüÂëΩÂë®Êúü‰∏éÁ∫øÁ®ãÁõ∏Âêå Â¶ÇÊûúÁ∫øÁ®ãËØ∑Ê±ÇÁöÑÊ†àÊ∑±Â∫¶Â§ß‰∫éËôöÊãüÊú∫ÊâÄÂÖÅËÆ∏ÁöÑÊ∑±Â∫¶ÔºåÂ∞ÜÊäõÂá∫StackOverflowErrorÂºÇÂ∏∏ ËôöÊãüÊú∫Ê†àÂèØ‰ª•Âä®ÊÄÅÊâ©Â±ïÔºå‰πüÂèØ‰ª•Âõ∫ÂÆöÈïøÂ∫¶ÔºåÂú®Âä®ÊÄÅÊâ©Â±ïÁöÑÊó∂ÂÄôÂ¶ÇÊûúÊó†Ê≥ïÁî≥ËØ∑Âà∞Ë∂≥Â§üÁöÑÂÜÖÂ≠òÔºåÂ∞±‰ºöÊäõÂá∫OutOfMemoryErrorÂºÇÂ∏∏ Êú¨Âú∞ÊñπÊ≥ïÊ†à‰ªÄ‰πàÊòØÊú¨Âú∞ÊñπÊ≥ïÊ†àÊú¨Âú∞ÊñπÊ≥ïÊ†àÊèèËø∞ÁöÑÊòØÊú¨Âú∞ÊñπÊ≥ïÊâßË°åÁöÑÂÜÖÂ≠òÊ®°ÂûãÔºåÂÆÉÂèëÊå•ÁöÑ‰ΩúÁî®‰∏éËôöÊãüÊú∫Ê†àÂèëÊå•ÁöÑ‰ΩúÁî®ÊòØÈùûÂ∏∏Áõ∏‰ººÁöÑÔºåÂ¶ÇSun HotSpotËôöÊãüÊú∫Áõ¥Êé•ÊääÊú¨Âú∞ÊñπÊ≥ïÊ†àÂíåËôöÊãüÊú∫Ê†àÂêà‰∫å‰∏∫‰∏ÄÔºåÂÆÉ‰∏éËôöÊãüÊú∫Ê†à‰∏ÄÊ†∑ÔºåÊú¨Âú∞ÊñπÊ≥ïÊ†àÂå∫Âüü‰πü‰ºöÊäõÂá∫StackOverflowErrorÂíåOutOfMemoryErrorÂºÇÂ∏∏„ÄÇ JavaÂ†Ü‰ªÄ‰πàÊòØJavaÂ†Ü JavaÂ†ÜÊòØÂ≠òÊîæÂØπË±°ÂÆû‰æãÁöÑÂÜÖÂ≠òÂå∫Âüü Âá†‰πéÊâÄÊúâÂØπË±°ÂÆû‰æãÈÉΩÂú®ËøôÈáåÂàÜÈÖçÂÜÖÂ≠ò JavaÂ†ÜÁöÑÁâπÁÇπ JavaËôöÊãüÊú∫ÁÆ°ÁêÜÁöÑÂÜÖÂ≠ò‰∏≠ÊúÄÂ§ßÁöÑ‰∏ÄÂùó Á∫øÁ®ãÂÖ±‰∫´ÔºåÂú®ËôöÊãüÊú∫ÂêØÂä®Êó∂ÂàõÂª∫ ÂûÉÂúæÊî∂ÈõÜÂô®ÁÆ°ÁêÜÁöÑ‰∏ªË¶ÅÂå∫ÂüüÔºå‰ªéÂÜÖÂ≠òÂõûÊî∂ÁöÑËßíÂ∫¶Êù•ÁúãÔºåÁî±‰∫éÁé∞Âú®Êî∂ÈõÜÂô®ÈÉΩÈááÁî®ÂàÜ‰ª£Êî∂ÈõÜÁÆóÊ≥ïÔºåÊâÄ‰ª•ÂèØÂàÜ‰∏∫Êñ∞Áîü‰ª£ÂíåËÄÅÂπ¥‰ª£ÔºåÂÜçÁªÜËá¥‰∏ÄÁÇπÂèØ‰ª•ÂàÜ‰∏∫EdenÁ©∫Èó¥„ÄÅFrom SurvivorÁ©∫Èó¥ÂíåTo SurvivorÁ©∫Èó¥Á≠â„ÄÇ‰ªéÂÜÖÂ≠òÂàÜÈÖçÊù•ÁúãÔºåÁ∫øÁ®ãÂÖ±‰∫´ÁöÑJavaÂ†ÜÂèØËÉΩÂàíÂàÜÂá∫Â§ö‰∏™Á∫øÁ®ãÁßÅÊúâÁöÑÂàÜÈÖçÁºìÂ≠òÂå∫TLAB,Ëøõ‰∏ÄÊ≠•ÂàíÂàÜÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜÊõ¥Â•ΩÂú∞ÂõûÊî∂ÂÜÖÂ≠òÔºåÊàñËÄÖÊõ¥Âø´ÁöÑÂàÜÈÖçÂÜÖÂ≠ò ÂÆûÁé∞‰∏≠ÂèØ‰ª•Âõ∫ÂÆöÂ§ßÂ∞èÔºå‰πüÂèØ‰ª•ÊòØÂèØÊâ©Â±ïÁöÑÔºåÂ¶ÇÊûúÂú®Â†Ü‰∏≠Ê≤°ÊúâÂÜÖÂ≠òÂÆåÊàêÂÆû‰æãÁöÑÂàÜÈÖçÔºåÂπ∂‰∏îÂ†Ü‰πüÊó†Ê≥ïÂÜçÊâ©Â±ïÊó∂ÔºåÂ∞±‰ºöÊäõÂá∫OutOfMemoryErrorÂºÇÂ∏∏ ÊñπÊ≥ïÂå∫‰ªÄ‰πàÊòØÊñπÊ≥ïÂå∫ JavaËôöÊãüÊú∫ËßÑËåÉÊääÊñπÊ≥ïÂå∫ÊèèËø∞‰∏∫Â†ÜÁöÑ‰∏Ä‰∏™ÈÄªËæëÈÉ®ÂàÜ„ÄÇ ‰ªñÁî®‰∫éÂ≠òÂÇ®Ë¢´ËôöÊãüÊú∫Âä†ËΩΩÁöÑÁ±ª‰ø°ÊÅØ„ÄÅÂ∏∏Èáè„ÄÅÈùôÊÄÅÂèòÈáè„ÄÅÂç≥Êó∂ÁºñËØëÂô®ÁºñËØëÂêéÁöÑ‰ª£Á†Å ÊñπÊ≥ïÂå∫ÁöÑÁâπÁÇπ Á∫øÁ®ãÂÖ±‰∫´ÔºåÂú®ËôöÊãüÊú∫ÂêØÂä®Êó∂ÂàõÂª∫ Ê∞∏‰πÖ‰ª£ÊòØÂõ†‰∏∫HotSpotÈÄâÊã©Â∞ÜGCÂàÜ‰ª£Êî∂ÈõÜÂô®Êâ©Â±ïÂà∞ÊñπÊ≥ïÂå∫ÔºåÊàñËÄÖ‰ΩøÁî®Ê∞∏‰πÖ‰ª£Êù•ÂÆûÁé∞ÊñπÊ≥ïÂå∫ÔºåÂØπ‰∫éHotSpotÂÆòÊñπÂèëÂ∏ÉÁöÑË∑ØÁ∫øÂõæ‰ø°ÊÅØÔºåÁé∞Âú®‰πüÊúâÊîæÂºÉÊ∞∏‰πÖ‰ª£ÈÄêÊ≠•ÈááÁî®Native MemoryÊù•ÂÆûÁé∞ÊñπÊ≥ïÂå∫ÁöÑËßÑÂàí‰∫ÜÔºåÂπ∂‰∏îÂ∑≤ÁªèÊääÂéüÊú¨ÊîæÂú®Ê∞∏‰πÖ‰ª£ÁöÑÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†ÁßªÈô§ ‰∏çÈúÄË¶ÅËøûÁª≠ÁöÑÂÜÖÂ≠òÔºåÂèØ‰ª•ÈÄâÊã©Âõ∫ÂÆöÂ§ßÂ∞èÊàñËÄÖÂèØÊâ©Â±ïÔºåËøòÂèØ‰ª•ÈÄâÊã©‰∏çÂÆûÁé∞ÂûÉÂúæÂõûÊî∂ ÂÜÖÂ≠òÂõûÊî∂ÁöÑ‰∏ªË¶ÅÁõÆÊ†á‰∏ªË¶ÅÊòØÈíàÂØπÂ∏∏ÈáèÊ±†ÁöÑÂõûÊî∂ÂíåÂØπÁ±ªÂûãÁöÑÂç∏ËΩΩÔºå‰ΩÜÊòØÂõûÊî∂ÊïàÁéá‰Ωé ÂΩìÊñπÊ≥ïÂå∫Êó†Ê≥ïÊª°Ë∂≥ÂÜÖÂ≠òÂàÜÈÖçÁöÑÈúÄÊ±ÇÁöÑÊó∂ÂÄôÔºåÂ∞ÜÊäõÂá∫OutOfMemoryErrorÁöÑÂºÇÂ∏∏ ËøêË°åÊó∂Â∏∏ÈáèÊ±† ClassÊñá‰ª∂Èô§‰∫ÜÂåÖÂê´Á±ªÁöÑÁâàÊú¨Â≠óÊÆµ„ÄÅÊñπÊ≥ï„ÄÅÊé•Âè£Á≠âÊèèËø∞‰ø°ÊÅØÂ§ñÔºåËøòÊúâ‰∏ÄÈ°π‰ø°ÊÅØÊòØÂ∏∏ÈáèÊ±† Â∏∏ÈáèÊ±†Áî®‰∫éÂ≠òÊîæÁºñËØëÊúüÈó¥ÁîüÊàêÁöÑÂêÑÁßçÂ≠óÈù¢ÈáèÂíåÁ¨¶Âè∑ÂºïÁî®ÔºåËøôÈÉ®ÂàÜÂÜÖÂÆπÂú®Á±ªÂä†ËΩΩÂêéËøõÂÖ•ËøêË°åÊó∂Â∏∏ÈáèÊ±†‰∏≠Â≠òÊîæ ËøêË°åÊó∂Â∏∏ÈáèÊ±†Áõ∏ÂØπ‰∫éClassÊñá‰ª∂Â∏∏ÈáèÊ±†ÂÖ∑ÊúâÂä®ÊÄÅÊÄßÔºåJavaËØ≠Ë®Ä‰∏çË¶ÅÊ±ÇÂè™ÊúâClassÊñá‰ª∂‰∏≠ÁöÑÂ∏∏ÈáèÊ±†ÁöÑÂÜÖÂÆπÊâçËÉΩËøõÂÖ•ËøêË°åÊó∂Â∏∏ÈáèÊ±†ÔºåËøêË°åÊó∂‰πüÂèØËÉΩÂ∞ÜÊñ∞ÁöÑÂ∏∏ÈáèÊîæÂÖ•Ê±†‰∏≠ÔºåÂ¶ÇStringÁ±ªÁöÑinternÊñπÊ≥ï ÂΩìÂ∏∏ÈáèÊ±†Êó†Ê≥ïÂÜçÁî≥ËØ∑ÂÜÖÂ≠òÊó∂Â∞Ü‰ºöÊäõÂá∫OutOfMemoryErrorÂºÇÂ∏∏ PSÔºö jdk1.7ÁöÑÂ∏∏ÈáèÊ±†ÁßªÂà∞‰∫ÜÂ†Ü‰∏≠ÔºåÂêåÊó∂Âú®jdk1.8‰∏≠ÁßªÈô§Êï¥‰∏™Ê∞∏‰πÖ‰ª£ÔºåÂèñËÄå‰ª£‰πãÁöÑÊòØ‰∏Ä‰∏™Âè´ÂÖÉÁ©∫Èó¥ÔºàMetaspaceÔºâÁöÑÂå∫Âüü Áõ¥Êé•ÂÜÖÂ≠ò ÈÄöËøá‰∏Ä‰∏™Â≠òÂÇ®Âú®JavaÂ†Ü‰∏≠ÁöÑDirectByteBufferÂØπË±°ÊúÄ‰∏∫ËøôÂùóÂÜÖÂ≠òÁöÑÂºïÁî®ËøõË°åÊìç‰ΩúÔºåËøô‰∏™ÂèØ‰ª•ÊòæËëóÊèêÈ´òÊÄßËÉΩÔºåÂõ†‰∏∫ÈÅøÂÖç‰∫ÜÂú®JavaÂ†ÜÂíåNativeÂ†Ü‰∏≠Êù•ÂõûÂ§çÂà∂Êï∞ÊçÆ Ê°à‰æãÊòØNIOÁ±ªÂºïÂÖ•‰∏ÄÁßçÂü∫‰∫éÈÄöÈÅì‰∏éÁºìÂ≠òÂå∫ÁöÑI/OÊñπÂºèÔºåÂÆÉÂèØ‰ª•‰ΩøÁî®NativeÂáΩÊï∞Â∫ìÁõ¥Êé•ÂàÜÈÖçÂØπÂ§ñÂÜÖÂ≠òÔºåÁÑ∂ÂêéÈÄöËøáDirectByteBufferËøõË°åÊìç‰Ωú Êú¨Êú∫Áõ¥Êé•ÂÜÖÂ≠òÁöÑÂàÜÈÖç‰∏ç‰ºöÂèóÂà∞JavaÂ†ÜÂ§ßÂ∞èÁöÑÈôêÂà∂Ôºå‰ΩÜÊòØ‰ºöÂèóÂà∞Êú¨Êú∫ÊÄªÂÜÖÂ≠òÂ§ßÂ∞èÂíåÂ§ÑÁêÜÂô®ÂØªÂùÄÁ©∫Èó¥ÁöÑÈôêÂà∂Ôºå‰πüÂèØËÉΩ‰ºöÊäõÂá∫OutOfMemoryErrorÂºÇÂ∏∏ ÊÄªÁªìÊú¨ÁØáÊñáÁ´†ÊòØÂèÇËÄÉ„ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„ÄãÁ¨¨‰∫åÁâàÊâÄÂÜôÔºåÂΩìÊó∂‰ΩúËÄÖÁî®ÁöÑÊòØjdk1.7ÔºåÁªìÊûúÁé∞Âú®jdk1.9ÈÉΩÂá∫‰∫ÜÔºåÊúÄÂ§ßÁöÑÊîπÂèòÂ∞±ÊòØÊñπÊ≥ïÂå∫‰∫ÜÔºåÁõÆÂâçËøòÊ≤°ÊúâËÉΩÂäõÊîπÊ≠£Ôºå‰πüÂ∞±Â∞ÜÂ∞±‰∫ÜÔºåÊúõ‰ΩúËÄÖÊó©Êó•Êõ¥Êñ∞ÔºåÊàñËÄÖËá™Â∑±Êàê‰∏∫Â§ßÁâõÔºåÂ∞ÜËøôÈÉ®ÂàÜÈáçÊñ∞Êï¥ÁêÜ„ÄÇ ÂèÇËÄÉ Ê∑±ÂÖ•ÁêÜËß£JVM(‰∏Ä)‚Äî‚ÄîJVMÂÜÖÂ≠òÊ®°Âûã Java 8: ‰ªéÊ∞∏‰πÖ‰ª£ÔºàPermGenÔºâÂà∞ÂÖÉÁ©∫Èó¥ÔºàMetaspaceÔºâ]]></content>
      <categories>
        <category>Ê∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫</category>
      </categories>
      <tags>
        <tag>JVM</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springbootÈùôÊÄÅËµÑÊ∫êÁöÑÂ§ÑÁêÜ]]></title>
    <url>%2F2017%2F10%2F20%2F%E7%BC%96%E7%A8%8B%2Fspringboot%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9A%84%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁî±‰∫éspringbootÊû∂ÊûÑÈÅáÂà∞‰∫ÜÂõæÁâáÁöÑ‰∏ä‰º†Â§ÑÁêÜÔºå‰ª•Âèä‰πãÂêéÁöÑÂâçÂè∞ÊòæÁ§∫ÔºåÊâÄ‰ª•Â∞±ÁêÜËß£‰∫Ü‰∏Ä‰∏ãÂÖ∂‰∏≠ÂÖ≥‰∫éÈùôÊÄÅËµÑÊ∫êÁöÑÂ§ÑÁêÜ„ÄÇ ÈªòËÆ§ÁöÑÈùôÊÄÅËµÑÊ∫êÂ§ÑÁêÜÂú®ÊØèÊ¨°ÂêØÂä®springbootÁöÑÈ°πÁõÆÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈÉΩÂèØ‰ª•Âú®ÊéßÂà∂Âè∞ÁúãËßÅ‰∏ãÈù¢ÁöÑËØ≠Âè•ËæìÂá∫Ôºö1232017-10-20 16:06:50.540 INFO 36443 --- [ restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]2017-10-20 16:06:50.540 INFO 36443 --- [ restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]2017-10-20 16:06:50.569 INFO 36443 --- [ restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler] ËøôÈáåÈù¢Â∞±Áî®Âà∞‰∫ÜspringbootÈªòËÆ§ÁöÑÈùôÊÄÅËµÑÊ∫êÂ§ÑÁêÜ„ÄÇ ÂÖ∂‰∏≠ÈªòËÆ§ÈÖçÁΩÆÁöÑ/**Êò†Â∞ÑÂà∞/staticÔºàÊàñ/public„ÄÅ/resources„ÄÅ/META-INF/resourcesÔºâ ÂÖ∂‰∏≠ÈªòËÆ§ÈÖçÁΩÆÁöÑ/webjars/**Êò†Â∞ÑÂà∞classpath:/META-INF/resources/webjars/ PSÔºö‰∏äÈù¢ÁöÑ static„ÄÅpublic„ÄÅresources Á≠âÁõÆÂΩïÈÉΩÂú® classpath: ‰∏ãÈù¢ÔºàÂ¶Ç src/main/resources/staticÔºâ Âú®ËÆøÈóÆÈùôÊÄÅËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåËøô‰∫õÁõÆÂΩï‰πü‰ºöÊúâ‰∏Ä‰∏™Êü•ÊâæÈ°∫Â∫èÔºà‰ºòÂÖàÁ∫ßÔºâÔºöËøôÈáåÊµãËØïËøáÂèëÁé∞‰ªñ‰ª¨ÁöÑ‰ºòÂÖàÁ∫ßÊòØÔºöMETA/resources &gt; resources &gt; static &gt; public Ëá™ÂÆö‰πâÈùôÊÄÅËµÑÊ∫êÂ§ÑÁêÜÈÖçÁΩÆÊñπÂºè ÈÄöËøáÈÖçÁΩÆÊñá‰ª∂Ôºàapplication.propertiesÔºâÈÖçÁΩÆ1234# ÈªòËÆ§ÂÄº‰∏∫ /**spring.mvc.static-path-pattern=# ÈªòËÆ§ÂÄº‰∏∫ classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/ spring.resources.static-locations=ËøôÈáåËÆæÁΩÆË¶ÅÊåáÂêëÁöÑË∑ØÂæÑÔºåÂ§ö‰∏™‰ΩøÁî®Ëã±ÊñáÈÄóÂè∑ÈöîÂºÄÔºå ÂΩìÊàë‰ª¨Ë¶ÅËÆæÁΩÆÊàêÊàë‰ª¨ÁöÑÁõÆÂΩïÔºö/myresource/**ÔºåÊàë‰ª¨ÈúÄË¶ÅËøôÊ†∑ËÆæÁΩÆ:12spring.mvc.static-path-pattern=/**spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/,classpath:/myresource/ ÂΩìÊàë‰ª¨ËÆæÁΩÆËøáÊò†Â∞ÑË∑ØÂæÑÊó∂ÂÄôÔºåÂ¶ÇÊûúËøòÊòØ/**,ÈÇ£‰πàÈªòËÆ§ÁöÑÊò†Â∞ÑÂ∞±Â§±Êïà‰∫ÜÔºåÊàë‰ª¨ÈúÄË¶ÅÈáçÊñ∞ÊääÂéüÊù•ÁöÑË∑ØÂæÑ‰πüÊ∑ªÂä†‰∏ä„ÄÇËøôÈáåÁöÑÈÖçÁΩÆË∑ØÂæÑÂè™ÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™„ÄÇ ÈÄöËøáÈÖçÁΩÆÁ±ªÈÖçÁΩÆ12345678@Configurationpublic class MyWebAppConfigurer extends WebMvcConfigurerAdapter&#123; @Override public void addResourceHandlers(ResourceHandlerRegistry registry) &#123; registry.addResourceHandler("/myresource/**").addResourceLocations("file:/var/alldata/image/"); super.addResourceHandlers(registry); &#125;&#125; ÂèØ‰ª•ÈÄöËøáËøô‰∏™ÊñπÂºèËÆæÁΩÆÂ§ö‰∏™ÈÖçÁΩÆË∑ØÂæÑ„ÄÇ ÈÖçÁΩÆÂÜÖÂ§ñÁõÆÂΩï ÂÜÖÈÉ®ÁõÆÂΩï ÂÅöÊ≥ïÊòØÊ∑ªÂä†Êò†Â∞ÑË∑ØÂæÑ classpath:/Ë∑ØÂæÑ ÊñπÂºèËßÅÈÄöËøáÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆ Â§ñÈÉ®ÁõÆÂΩï ÊÉ≥‰∏ÄÊÉ≥Â¶ÇÊûúÂ∞Ü‰∏ä‰º†ÁöÑÂõæÁâáÁªßÁª≠Â≠òÂú®jarÂåÖ‰∏≠‰ºöÊúâÈÇ£‰∫õÈóÆÈ¢òÔºü ÁΩëÁªúÊï∞ÊçÆ‰∏éÁ®ãÂ∫è‰ª£Á†Å‰∏çËÉΩÂàÜÁ¶ª Êï∞ÊçÆ‰º†Âà∞jarÈáåÈÄüÂ∫¶ÊÖ¢ Êï∞ÊçÆÂ§á‰ªΩÈ∫ªÁÉ¶ Êúâ‰∫Ü‰ª•‰∏äÁöÑËÄÉËôëÊàë‰ª¨‰ºöÊÉ≥Âà∞Â∞Ü‰∏ä‰º†ÁöÑÊï∞ÊçÆÊîæÂú®Á£ÅÁõòÁöÑÁõÆÂΩï‰∏ä„ÄÇ ÂÅöÊ≥ïÊòØÊ∑ªÂä†Êò†Â∞ÑË∑ØÂæÑ file:/var/alldata/images ÊñπÂºèËßÅÈÄöËøáÈÖçÁΩÆÁ±ªÈÖçÁΩÆ ÊÄªÁªìspringbootÂÄ°ÂØºÁöÑÊòØ‰π†ÊÉØ‰ºò‰∫éÈÖçÁΩÆÔºåÂ§ßÈÉ®ÂàÜÊó∂ÂÄôÊàë‰ª¨Áî®‰ªñÈªòËÆ§ÁöÑÈÖçÁΩÆÂ∞±Â•Ω‰∫ÜÔºå‰ΩÜÊòØ‰ªñ‰πüÊèê‰æõ‰∫ÜÊñπ‰æøÁöÑÈÖçÁΩÆÁ±ªÔºåÈúÄË¶ÅÊàë‰ª¨Â•ΩÂ•ΩÂ≠¶‰π†„ÄÇ ÂèÇËÄÉ Spring Boot ÈùôÊÄÅËµÑÊ∫êÂ§ÑÁêÜ Springboot ‰πã ÈùôÊÄÅËµÑÊ∫êË∑ØÂæÑÈÖçÁΩÆ]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>springboot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac‰∏≠ÁéØÂ¢ÉÂèòÈáèÁöÑÈÖçÁΩÆ]]></title>
    <url>%2F2017%2F09%2F21%2F%E5%B7%A5%E5%85%B7%2Fmac%E4%B8%AD%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®‰ΩøÁî®ubuntuÂíåmacËøô‰πà‰πÖ‰πãÂêéÔºåÁéØÂ¢ÉÂèòÈáèÁöÑÂá†‰∏™Êñá‰ª∂ËøòÂºÑ‰∏çÊ∏ÖÊ•öÔºåÁúüÊòØÊ±óÈ¢úÔºåËøôÈáåËÆ∞ÂΩï‰∏Ä‰∏ãÔºå‰∏ãÊ¨°‰∏ç‰ºö‰π±Êîπ„ÄÇ ÁéØÂ¢ÉÂèòÈáèÁöÑ‰ΩúÁî® ‰ΩøÁî®Âú∫ÊôØÂú®ÂëΩ‰ª§Ë°åÁõ¥Êé•ÈÄöËøáÂëΩ‰ª§ÊâßË°åÁ®ãÂ∫èÔºåËøô‰∫õÁ®ãÂ∫èÂ∞±Â§ö‰∫ÜÔºåÊúÄÂ∏∏ËßÅÂ∞±ÊúâjavaÔºånpmÔºåmavenÔºågit,Â¶ÇÊûúÊàë‰ª¨‰∏çÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáèÁöÑËØùÔºåÂ∞±ÈúÄË¶ÅÂà∞Á®ãÂ∫èÁöÑÂÆâË£ÖÁõÆÂΩïÂéªÊâßË°åÁõ∏ÂÖ≥ÂëΩ‰ª§ÔºåÂ§ßÂÆ∂ÈÉΩ‰ºöÊÑüËßâË∂ÖÁ∫ßÈ∫ªÁÉ¶ÔºåÂä†ÂÖ•Ë¶Å‰ΩøÁî®Â§ö‰∏™Á®ãÂ∫èÁöÑËØùÔºåË¶Å‰πàÂéªÂàáÊç¢ÁõÆÂΩïÔºåË¶Å‰πàÂ∞±Â§öÂºÄÂá†‰∏™ÂëΩ‰ª§Ë°åÁ™óÂè£„ÄÇÈ°øÊó∂Â∞±‰ºöÊÑüËßâË∂ÖÁ∫ßÊó†Â•àÊúâ‰πàÊúâÔºü ÂÖ∑‰Ωì‰ΩúÁî®ÈÖçÁΩÆÂÆåÁ®ãÂ∫èÁöÑÁéØÂ¢ÉÂèòÈáè‰πãÂêéÂ∞±ÂèØ‰ª•Êó†ÊâÄÊ¨≤‰∏∫‰∫ÜÔºåÂèØ‰ª•Âú®‰ªª‰ΩïÁõÆÂΩï‰∏ãÁõ¥Êé•ÊâßË°åÊàë‰ª¨ÊâÄË¶ÅÁöÑÁ®ãÂ∫è‰∫ÜÔºåÊòØ‰∏çÊòØÈ°øÊó∂ÊÑüËßâÊñπ‰æøËÆ∏Â§öÔºåÂü∫Êú¨‰∏äÊâÄÊúâ‰∫∫ÈÉΩÁü•ÈÅìÂêß„ÄÇ ÁéØÂ¢ÉÂèòÈáèÁöÑÈÖçÁΩÆÂçïÊ¨°ÁéØÂ¢ÉÂèòÈáèÈÖçÁΩÆÂÅáÂ¶Ç‰Ω†Âá∫‰∫Ü‰∏™ÊÑèÂ§ñÔºåÂú®ÂëΩ‰ª§Ë°å‰∏≠Á™ÅÁÑ∂‰∏çËÉΩ‰ΩøÁî®ÂêÑÁßçÂëΩ‰ª§‰∫ÜÔºå‰πüÊ≤°‰∫ãÔºåËá≥Â∞ëÊé•‰∏ãÊù•ÂèØ‰ª•ËÆ©‰Ω†Áü≠ÊöÇÁöÑ‰ΩøÁî®‰∏Ä‰∫õÂëΩ‰ª§ÔºåÂëΩ‰ª§Ë°åÁ™óÂè£ÂÖ≥Èó≠‰πãÂêéÂ∞±Â§±Êïà‰∫ÜÔºåÊàë‰ª¨Ë¶ÅÂÅöÁöÑÂè™ÊòØÁõ¥Êé•Âú®ÂëΩ‰ª§Ë°å‰∏≠ËæìÂÖ•Ôºö export PATH=/usr/bin:/usr/sbin:/bin:/sbin ÂΩìÁÑ∂ÂêéÈù¢‰Ω†‰πüËÉΩÂ§üÊ∑ªÂä†‰∏Ä‰∫õ‰Ω†Ëá™Â∑±ÊÉ≥Ë¶Å‰ΩøÁî®ÁöÑÁ®ãÂ∫èÂëΩ‰ª§„ÄÇ ÁéØÂ¢ÉÂèòÈáèÊñá‰ª∂ÈÖçÁΩÆ ÁéØÂ¢ÉÂèòÈáèÁöÑÂÜôÊ≥ï export PATH=$JAVA_HOME/bin:$PATH ÁéØÂ¢ÉÂèòÈáèÊñá‰ª∂‰ºòÂÖàÁ∫ß /etc/profile /etc/bashrc /etc/paths ~/.bash_profile ~/.bash_login ~/.profile ~/.bashrcÂÖ∂ÂÆûÂêé‰∏â‰∏™Êñá‰ª∂Êàë‰πüÊ≤°ÊÄé‰πàÁúãÂà∞ËøáÔºå‰∏ªË¶ÅËÆ≤‰∏Ä‰∏ãÂâçÈù¢‰∏â‰∏™ ÁéØÂ¢ÉÂèòÈáèÊñá‰ª∂ËØ¶Ëß£ /etc/profileÔºöÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂Ôºå‰∏çÁÆ°ÊòØÂì™‰∏Ä‰∏™Áî®Êà∑ÁôªÂΩïÔºåÈÉΩ‰ºöËØªÂèñËØ•Êñá‰ª∂Ôºà‰ΩÜÊòØË∂ÖÁ∫ß‰∏çÂª∫ËÆÆ‰øÆÊîπÔºåÂÆπÊòìÂá∫Áé∞Â§ßÈóÆÈ¢òÔºåÊÉ≥ËØïËØï‰ªÄ‰πàÂ§ßÈóÆÈ¢òÔºåËá™Â∑±‰Ωì‰ºöÔºâ /etc/bashrc ÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂Ôºåbash shellÊâßË°åÊó∂Ôºå‰∏çÁÆ°ÊòØ‰ΩïÁßçÊñπÂºèÔºåÈÉΩ‰ºöËØªÂèñÊ≠§Êñá‰ª∂Ôºà‰∏ÄËà¨Âú®Ëøô‰∏™Êñá‰ª∂‰∏≠Ê∑ªÂä†Á≥ªÁªüÁ∫ßÁéØÂ¢ÉÂèòÈáèÔºâ ~/.bash_profileÔºöÊØè‰∏™Áî®Êà∑ÈÉΩÂèØ‰ΩøÁî®ËØ•Êñá‰ª∂ËæìÂÖ•‰∏ìÁî®‰∫éËá™Â∑±‰ΩøÁî®ÁöÑshell‰ø°ÊÅØ,ÂΩìÁî®Êà∑ÁôªÂΩïÊó∂,ËØ•Êñá‰ª∂‰ªÖ‰ªÖÊâßË°å‰∏ÄÊ¨°!Ôºà‰∏ÄËà¨Âú®Ëøô‰∏™Êñá‰ª∂‰∏≠Ê∑ªÂä†Áî®Êà∑Á∫ßÁéØÂ¢ÉÂèòÈáèÔºâ Á´ãÂç≥ÁîüÊïàÁéØÂ¢ÉÂèòÈáèÈÖçÁΩÆ source ~/.bash_profile ËΩØËøûÊé•Ëá™Â∑±‰∏ÄÂºÄÂßã‰πü‰ºöÁâπÂà´ÁöÑÊÉäËÆ∂ÔºåËá™Â∑±Âú®mac‰∏äÊ≤°ÊúâËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÊúâÁöÑÊó∂ÂÄô‰πüÂèØ‰ª•Áõ¥Êé•Â∞±ËÆøÈóÆÂà∞‰∫ÜÊüê‰∫õÊñá‰ª∂„ÄÇËøô‰∏™ÊòØ‰∏∫‰ªÄ‰πàÂë¢ÔºüÁ≠îÊ°àÊòØÁî®‰∫ÜËΩØËøûÊé•„ÄÇ Êü•ÁúãÂä†ËΩΩÊñá‰ª∂rexdeMacBook-Pro:etc rex$ cat /etc/paths /usr/local/bin /usr/bin /bin /usr/sbin /sbin ÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÂéªÁúãËøô‰∫õÊñá‰ª∂Â§π‰∏ãÈù¢ÁöÑ‰∏úË•ø‰∫ÜÔºåÂºÑ‰∏çÊ∏ÖÊ•ö‰πüÊ≤°ÂÖ≥Á≥ªÔºåÂÖ∂ÂÆûÂ∞±ÊòØËΩØÈìæÊé•„ÄÇÂºÄÊú∫ÂêéÔºåmac‰ºöËá™Âä®Âä†ËΩΩpathsÊñá‰ª∂‰∏ãÈù¢ÁöÑËøô‰∫õÁõÆÂΩï„ÄÇÂú®Ëøô‰∫õÊñá‰ª∂Â§π‰∏ãÈù¢Âª∫Á´ãËΩØËøûÊé•ÔºåÂèØ‰ª•ËææÂà∞ÂêåÊ†∑ÁöÑÊïàÊûúÔºàÊó•ÂêéÂ≠¶‰π†Ôºâ„ÄÇ ËΩØËøûÊé•Êü•ÁúãÂú®Êã•ÊúâËΩØËøûÊé•ÁöÑÁõÆÂΩï‰∏ã‰ΩøÁî®‰∏ãÈù¢ÂëΩ‰ª§ ls -li 406876 lrwxr-xr-x 1 root wheel 73 7 9 2016 jar -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/jar 406877 lrwxr-xr-x 1 root wheel 79 7 9 2016 jarsigner -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/jarsigner 406878 lrwxr-xr-x 1 root wheel 74 7 9 2016 java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java 406879 lrwxr-xr-x 1 root wheel 75 7 9 2016 javac -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/javac 406880 lrwxr-xr-x 1 root wheel 77 7 9 2016 javadoc -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/javadoc Âª∫Á´ãËΩØËøûÊé•Á≠âËá™Â∑±Áúã‰∫ÜlinuxÁöÑÁõ∏ÂÖ≥Áü•ËØÜÂÜçÊù•ËØ¥Âêß„ÄÇ ÊÄªÁªìÂ∏åÊúõ‰∏ãÊ¨°Ëá™Â∑±ÂÜç‰πü‰∏çË¶ÅÂõ†‰∏∫ÁéØÂ¢ÉÂèòÈáèÈÖçÁΩÆÈîôÂá∫ÂêÑÁßçÈóÆÈ¢ò‰∫ÜÔºåthanks godÔºÅ ÂèÇËÄÉÔºöMac ‰∏≠ÁéØÂ¢ÉÂèòÈáèÁöÑÈÖçÁΩÆÂíåÁêÜËß£]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>mac</tag>
        <tag>ÁéØÂ¢ÉÂèòÈáè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Github Pages+Hexo SEOÂºïÊìé‰ºòÂåñ]]></title>
    <url>%2F2017%2F07%2F16%2F%E5%B7%A5%E5%85%B7%2FGithub-Pages-Hexo-SEO%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂÜôÁöÑÂçöÂÆ¢Ëá™ÁÑ∂ÊÉ≥ËÆ©‰∫∫ÁúãÂà∞Ôºå‰ΩÜÊòØ‰ΩÜÊòØËá™Â∑±‰∏∫‰∫ÜÊÉ≥Áã¨Á´ãÁÆ°ÁêÜÔºàÂÜ†ÂÜïÂ†ÇÁöáÔºâÈÄâÊã©‰∫ÜGIthub Pages+HexoÊù•Êê≠Âª∫Ëá™Â∑±ÁöÑÂçöÂÆ¢ÔºåÁªìÊûúÂèëÁé∞Ëá™Â∑±ÁöÑÂçöÂÆ¢Âú®ÁôæÂ∫¶ÔºåË∞∑Ê≠åÈÉΩÊó†Ê≥ïÊêúÂà∞ÔºåÈÇ£Êó∂ÂÄôÊàëÊâçÁü•ÈÅìËá™Â∑±Áº∫Â∞ë‰∫ÜSEO„ÄÇ ÁôæÂ∫¶‰ºòÂåñÁôªÂΩïÁôæÂ∫¶Á´ôÈïø Âú®ÈáåÈù¢Êàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ÂêÑÁßçÂêëÁôæÂ∫¶Êèê‰∫§ÁöÑÊñπÊ≥ïÔºåËøô‰∏ÄÂàáÈÉΩÊòØ‰∏∫‰∫ÜËÆ©ÁôæÂ∫¶ÁöÑÁà¨Ëô´Êõ¥Â•ΩÁöÑÁà¨ÂèñÊàë‰ª¨ÁöÑÁΩëÈ°µ„ÄÇ ÈÄöËøábaidumapsite.xmlËá™Âä®Êèê‰∫§ ËøôÈáåÊé®Ëçê‰∏Ä‰∏™ÂçöÊñáÔºöHexo NexT ‰∏ªÈ¢òSEO‰ºòÂåñÊåáÂçó ÈÄöËøá‰∏ªÂä®Êèê‰∫§ ËøôÈáåÊé®Ëçê‰∏Ä‰∏™Ëá™Âä®ÂåñÂ∑•ÂÖ∑ÔºöexoÊèí‰ª∂‰πãÁôæÂ∫¶‰∏ªÂä®Êèê‰∫§ÈìæÊé• Ë∞∑Ê≠å‰ºòÂåñÁôªÂΩïË∞∑Ê≠åÁ´ôÈïø ÈÄöËøámap.siteËá™Âä®Êèê‰∫§ ËøôÈáåÈù¢Êé®Ëçê‰∏Ä‰∏™ÂçöÊñáÔºöÁîüÊàêsitemapÁ´ôÁÇπÂú∞Âõæ ÊÄªÁªìËá™Â∑±Âú®Ë∞∑Ê≠åÈÖçÁΩÆÊòØÊàêÂäüÁöÑÔºå‰ΩÜÊòØÂú®ÁôæÂ∫¶Âπ∂Ê≤°ÊúâÊàêÂäüÔºåÂèØËÉΩÊòØÂõ†‰∏∫githubÁúüÁöÑÊääÁôæÂ∫¶ÁªôÂπ≤‰∫Ü„ÄÇËá™Â∑±ËøòÊòØÁ≠âÂºÄÂ≠¶ËΩ¨Âà∞Ëá™Â∑±ÁöÑÊúçÂä°Âô®‰∏äÂêß„ÄÇÊÖ¢ÊÖ¢SEOÔºÅÔºÅÔºÅÔºÅ PS:HexoÂçöÂÆ¢ÁöÑÊê≠Âª∫ÁöÑÂèØ‰ª•ÂèÇËÄÉËøô‰∏ÄÁØá Êê≠Âª∫HexoÂçöÂÆ¢‰∏≠Á¢∞Âà∞ÁöÑÂùë]]></content>
      <categories>
        <category>Â∑•ÂÖ∑</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>seo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êñ∞Á≥ªÁªüÂºÄÂèëÁéØÂ¢ÉÁöÑ‰∏ÄÁ≥ªÂàóÈÖçÁΩÆ]]></title>
    <url>%2F2017%2F07%2F15%2F%E7%94%9F%E6%B4%BB%2F%E6%96%B0%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E4%B8%80%E7%B3%BB%E5%88%97%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊÄªÊòØ‰∏çÂèØÈÅøÂÖçÁöÑÈáçË£ÖÁ≥ªÁªüÔºå‰∫∫ÁöÑËÑëÂ≠ê‰∏çÂèØËÉΩÈÇ£‰πàÂ•ΩËÆ∞‰ΩèÊâÄÊúâÁöÑÊìç‰ΩúÔºåÊó¢ÁÑ∂‰∏çÊÉ≥Ëá™Â∑±Ëá™Â∑±Áî®ÂçöÂÆ¢ËÆ∞‰∏ãÊâÄÊúâÊìç‰ΩúÔºåÈÇ£‰πàÂ∞±ÊääÂà´‰∫∫ÁöÑÂçöÂÆ¢ÔºàËá™Â∑±Ë∏©ËøáÔºâËÆ∞ÂΩï‰∏ãÊù•Ôºå‰ª•ÂêéÂ§áÁî®„ÄÇ windowÁØá JDK‚Äî‚ÄîjavaÂºÄÂèëËÄÖËµ∑Ê≠• JDKÁöÑÂÆâË£Ö‰∏éÁéØÂ¢ÉÂèòÈáèÁöÑÈÖçÁΩÆ Node‚Äî‚ÄîÂâçÁ´ØÂ•ΩÂü∫Âèã Node.jsÂÆâË£ÖÂèäÁéØÂ¢ÉÈÖçÁΩÆ‰πãWindowsÁØá Sublime3‚Äî‚ÄîËΩªÈáèÁ∫ßÁºñËæëÂô® Sublime Text3ÂÆâË£Ö‰∏éÊèí‰ª∂ÈÖçÁΩÆ git‚Äî‚ÄîÂàÜÂ∏ÉÂºèÁâàÊú¨ÊéßÂà∂Â∑•ÂÖ∑ GitÂÆâË£ÖÊïôÁ®ã Idea‚Äî‚ÄîjavaÂºÄÂèëÂà©Âô® IntelliJ IDEAÊ≥®ÂÜåÁ†Å Maven‚Äî‚ÄîÈ°πÁõÆ‰æùËµñÁÆ°ÁêÜÂà©Âô® Maven Windows10ÂÆâË£Ö MacÁØáÂæÖÂÜô UbuntuÁØáÂæÖÂÜô ÂèåÁ≥ªÁªüWin10ÂíåUbuntu16.04ÂèåÁ≥ªÁªüÂÆâË£ÖËØ¶Ëß£]]></content>
      <categories>
        <category>ÁîüÊ¥ª</category>
      </categories>
      <tags>
        <tag>Á≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊµÖÂ∞ùApache Camel]]></title>
    <url>%2F2017%2F07%2F15%2F%E7%BC%96%E7%A8%8B%2F%E6%B5%85%E5%B0%9DApache-Camel%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊúÄËøëÈ°πÁõÆÊúâ‰∏Ä‰∏™ÈúÄÊ±ÇÂ∞±ÊòØÂÆöÊó∂Â∞Ü‰∏ÄÂè∞ÊúçÂä°Âô®ÁöÑÊñá‰ª∂‰º†Âà∞Âè¶‰∏Ä‰∏™ÊúçÂä°Âô®Ôºå‰∏ÄÂºÄÂßãÊÉ≥ÁöÑÁ´üÁÑ∂ÊÉ≥ÁöÑÊòØÁî®httpÂéª‰∏ãËΩΩÔºåÂêéÊù•Âú®‰∏áËÄÅÂ∏àÁöÑÊåáÁÇπ‰∏ãÔºåÈááÂèñÁî®ftpÊúçÂä°Âô®ÔºàÊ∫êÊñá‰ª∂ÊâÄÂú®Âú∞Ôºâ‰∏éftpÂÆ¢Êà∑Á´ØÔºàÊ∫êÊñá‰ª∂ÂéªÂêëÔºâÁöÑÂΩ¢ÂºèÊù•Â§ÑÁêÜÔºåËá™Â∑±Â∞èËØï‰∫Ü‰∏Ä‰∏ãÔºåËøò‰∏çÈîôÔºÅ Apache CamelÁÆÄ‰ªãApache CamelÊòØApacheÂü∫Èáë‰ºö‰∏ãÁöÑ‰∏Ä‰∏™ÂºÄÊ∫êÈ°πÁõÆ,ÂÆÉÊòØ‰∏Ä‰∏™Âü∫‰∫éËßÑÂàôË∑ØÁî±ÂíåÂ§ÑÁêÜÁöÑÂºïÊìéÔºåÊèê‰æõ‰ºÅ‰∏öÈõÜÊàêÊ®°ÂºèÁöÑJavaÂØπË±°ÁöÑÂÆûÁé∞ÔºåÈÄöËøáÂ∫îÁî®Á®ãÂ∫èÊé•Âè£ ÊàñÁß∞‰∏∫ÈôàËø∞ÂºèÁöÑJavaÈ¢ÜÂüüÁâπÂÆöËØ≠Ë®Ä(DSL)Êù•ÈÖçÁΩÆË∑ØÁî±ÂíåÂ§ÑÁêÜÁöÑËßÑÂàô„ÄÇÂÖ∂Ê†∏ÂøÉÁöÑÊÄùÊÉ≥Â∞±ÊòØ‰ªé‰∏Ä‰∏™fromÊ∫êÂ§¥ÂæóÂà∞Êï∞ÊçÆ,ÈÄöËøáprocessorÂ§ÑÁêÜ,ÂÜçÂèëÂà∞‰∏Ä‰∏™toÁõÆÁöÑÁöÑ„ÄÇ Ëøô‰∏™fromÂíåtoÂèØ‰ª•ÊòØÊàë‰ª¨Âú®È°πÁõÆÈõÜÊàê‰∏≠ÁªèÂ∏∏Á¢∞Âà∞ÁöÑÁ±ªÂûã:‰∏Ä‰∏™FTPÊñá‰ª∂Â§π‰∏≠ÁöÑÊñá‰ª∂,‰∏Ä‰∏™MQÁöÑqueueÔºàjmsÔºâ,‰∏Ä‰∏™HTTP request/response,‰∏Ä‰∏™webserviceÁ≠âÁ≠â. Apache CamelÊû∂ÊûÑ ÂÖ∂ÂÆûÁêÜËß£Ëµ∑Êù•ÂæàÁÆÄÂçïÔºöÂßãÁ´Ø„ÄãÔºàËøáÊª§Âô®+Ë∑ØÁî±Â§ÑÁêÜÂô®Ôºâ„ÄãÁªàÁ´Ø Apache CamelÊ†∏ÂøÉÊ¶ÇÂøµ endpoint,ÊâÄË∞ìÁöÑendpoint,Â∞±ÊòØ‰∏ÄÁßçÂèØ‰ª•Êé•Êî∂ÊàñÂèëÈÄÅÊï∞ÊçÆÁöÑÁªÑ‰ª∂„ÄÇÂèØ‰ª•ÊîØÊåÅÂ§öÁßçÂçèËÆÆÔºåÂ¶Çjms,http,fileÁ≠â„ÄÇ processor,ÂÆÉÊòØÁî®Êù•Â§ÑÁêÜÂÖ∑‰Ωì‰∏öÂä°ÈÄªËæëÁöÑÁªÑ‰ª∂„ÄÇ route,Áî®Êù•Ë∑ØÁî±ÔºåÊåáÁ§∫Êï∞ÊçÆ‰ªéÂì™ÈáåÊù•Âà∞Âì™ÈáåÂéªÔºå‰∏≠Èó¥Áî®Âì™‰∏™processorÂ§ÑÁêÜ„ÄÇ exchange,processor‰πãÈó¥Áî®exchangeÂØπË±°Êù•‰º†ÈÄÅÊï∞ÊçÆÔºåÊúâÁÇπÂÉèjms,ÈÄö‰øó‰∏ÄÁÇπÂ∞±ÂÉè‰∏äÂ≠¶Êó∂‰º†ÁöÑÂ∞èÁ∫∏Êù°,ÊâÄ‰ª•ÔºöexchangeÂØπË±°Â∞±ÊòØprocessorÔºåendpointÊâÄÊúâcamelÁªÑ‰ª∂‰πãÈó¥‰º†ÈÄÅÊï∞ÊçÆÁöÑÂ∞èÁ∫∏Êù°:)„ÄÇ filterÔºåÁî®Êù•Á°ÆÂÆöÂì™‰∫õ‰∏úË•øÂèØ‰ª•‰º†ÈÄíÔºåÂì™‰∫õ‰∏úË•ø‰∏çÂèØ‰ª•‰º†ÈÄí„ÄÇ Apache Camel‰æãÂ≠êÔºà‰ª•ftp‰∏∫‰æãÔºâËÄÅÂ∏àÊåáÂØºÁöÑ‰æãÂ≠êÔºåÊòØÁªìÂêàSpringbootÁöÑÔºåÊîæÂú®github‰∏ä‰∫Ü„ÄÇApacheCamleDemo ÈáåÈù¢ÂåÖÊã¨‰∫ÜÂä®ÊÄÅË∑ØÁî±ÂíåÂçïË∑ØÁî±ÁöÑ‰æãÂ≠êÔºåÁ®çÂæÆÁªìÂêàSpringbootÂ∞±ÂèØ‰ª•ÁêÜËß£Âπ∂ÊîπÊàêËá™Â∑±ÁöÑ‰ª£Á†Å„ÄÇ ‰ªÄ‰πàÊó∂ÂÄôÁî®Apache CamelÂèÇËÄÉÁΩë‰∏äÁöÑËØ¥Ê≥ïÔºöcamelÂ∞±ÊòØ‰ºÅ‰∏ö‰ø°ÊÅØÈõÜÊàêÊ°ÜÊû∂ÔºåÂÆÉÊèê‰æõ‰∫ÜÂæàÂ§öÁÆÄÂçïÂ•ΩÁî®ËÄåÂèàÂº∫Â§ßÁöÑÁªÑ‰ª∂ÔºåÁî®Êà∑ÂèØ‰ª•Ê†πÊçÆÂú∫ÊôØÊù•ÈÄâÊã©‰∏çÂêåÁöÑEIPÔºà‰ºÅ‰∏öÈõÜÊàêÊ®°ÂºèÔºâÊù•ÂÆûÁé∞Ëá™Â∑±ÁöÑÈúÄÊ±ÇÔºå‰ª•ÂìçÂ∫îÂø´ÈÄüÂèòÂåñÁöÑ‰∏öÂä°„ÄÇÂèØ‰ª•ÊääÂÆÉÂΩìÊàê‰ºÅ‰∏ö‰ø°ÊÅØÊÄªÁ∫øÔºàESBÔºâÁöÑËΩªÈáèÁ∫ßÂÆûÁé∞„ÄÇ]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>Springboot</tag>
        <tag>ApacheCamel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[java ftp ‰∏ä‰º†‰∏ãËΩΩÁöÑÂùë]]></title>
    <url>%2F2017%2F07%2F15%2F%E7%BC%96%E7%A8%8B%2Fjava-ftp-%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E7%9A%84%E5%9D%91%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöËøòÊòØÈ°πÁõÆÈúÄË¶ÅÔºåË¶ÅÂÆöÊó∂ÊâßË°å‰∏Ä‰∏™Êñá‰ª∂‰∏ãËΩΩ‰∏öÂä°Ôºå‰∏ÄÂºÄÂßãÊñπÂêëÊúâÁÇπÈîôÔºå‰ΩÜÊòØËøòÂ•ΩÁ∫†Ê≠£ËøáÊù•‰∫ÜÔºåÈááÁî®ftp‰∏ãËΩΩÔºå‰ΩÜÊòØftp‰∏ãËΩΩ‰πüÊúâÂêÑÁßçÂùëÔºÅ ÂáÜÂ§ájarÂåÖÔºöcommons-net ftp‰∏ä‰º†Á®ãÂ∫èÔºö1234567891011121314151617181920212223242526272829303132333435363738public static boolean uploadFile( String url,//ÊúçÂä°Âô®‰∏ªÊú∫Âè∑ int port,//ÊúçÂä°Âô®Á´ØÂè£ String username,//Áî®Êà∑Âêç String password,//ÂØÜÁ†Å String path, //‰∏ä‰º†Ë∑ØÂæÑMar String filename,//‰∏ä‰º†‰∏∫ÊúçÂä°Âô®‰∏äÁöÑÊñá‰ª∂Âêç InputStream //inputÊú¨Âú∞‰∏ä‰º†ÁöÑÊñá‰ª∂ÊµÅ) &#123; boolean success = false; FTPClient ftp = new FTPClient(); try &#123; int reply;MarkDown ftp.connect(url, port);//ËøûÊé•FTPÊúçÂä°Âô® //Â¶ÇÊûúÈááÁî®ÈªòËÆ§Á´ØÂè£ÔºåÂèØ‰ª•‰ΩøÁî®ftp.connect(url)ÁöÑÊñπÂºèÁõ¥Êé•ËøûÊé•FTPÊúçÂä°Âô® ftp.login(username, password);//ÁôªÂΩï reply = ftp.getReplyCode(); if (!FTPReply.isPositiveCompletion(reply)) &#123; ftp.disconnect(); return success; &#125; ftp.changeWorkingDirectory(path); ftp.storeFile(filename, input); input.close(); ftp.logout(); success = true; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; finally &#123; if (ftp.isConnected()) &#123; try &#123; ftp.disconnect(); &#125; catch (IOException ioe) &#123; &#125; &#125; &#125; return success;&#125; ÊµãËØï‰ª£Á†ÅÔºö123File file = new File(&quot;/var/test.txt&quot;);InputStream is = new FileInputStream(file);uploadFile(&quot;127.0.0.1&quot;,21,&quot;test&quot;,&quot;123456&quot;,&quot;/var/data/test&quot;,&quot;testdemo.txt&quot;,is); ftp‰∏ãËΩΩÁ®ãÂ∫èÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263public static boolean downFile(String url, //FTPÊúçÂä°Âô®hostnameint port,//FTPÊúçÂä°Âô®Á´ØÂè£String username, //FTPÁôªÂΩïË¥¶Âè∑String password, //FTPÁôªÂΩïÂØÜÁ†ÅString remotePath,//FTPÊúçÂä°Âô®‰∏äÁöÑÁõ∏ÂØπË∑ØÂæÑString fileName,//Ë¶Å‰∏ãËΩΩÊñá‰ª∂ÂÖ≥ÈîÆÂ≠óString localPath//‰∏ãËΩΩÂêé‰øùÂ≠òÂà∞Êú¨Âú∞ÁöÑË∑ØÂæÑ) &#123; FTPClient ftpClient = null; boolean success = false; try &#123; ftpClient = new FTPClient(); ftpClient.connect(url, port);// ËøûÊé•FTPÊúçÂä°Âô® ftpClient.login(username, password);// ÁôªÈôÜFTPÊúçÂä°Âô® ftpClient.setControlEncoding("gb2312"); // ‰∏≠ÊñáÊîØÊåÅ ftpClient.setFileType(FTPClient.BINARY_FILE_TYPE);//ËÆæÁΩÆÊñá‰ª∂Ê†ºÂºè ftpClient.enterLocalPassiveMode(); logger.info(ftpClient.getReplyCode()); if (!FTPReply.isPositiveCompletion(ftpClient.getReplyCode())) &#123; logger.warn("Êú™ËøûÊé•Âà∞FTPÔºåÁî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ„ÄÇ"); ftpClient.disconnect(); &#125; else &#123; logger.info("FTPËøûÊé•ÊàêÂäü„ÄÇ"); &#125; ftpClient.changeWorkingDirectory(remotePath); FTPFile[] fs = ftpClient.listFiles(); File file = new File(localPath); if(!file.exists())&#123; file.mkdirs(); &#125; for(FTPFile ff:fs)&#123; if(ff.getName().contains(fileName))&#123; File localFile = new File(localPath+"/"+ff.getName()); if (localFile.exists())&#123; continue; &#125; OutputStream os = new FileOutputStream(localFile); long time1 = System.currentTimeMillis(); boolean b = ftpClient.retrieveFile(new String(ff.getName().getBytes("gb2312"),"ISO8859-1"), os); os.flush(); os.close(); &#125; &#125; ftpClient.logout(); success = true; &#125; catch (SocketException e) &#123; e.printStackTrace(); logger.warn("FTPÁöÑIPÂú∞ÂùÄÂèØËÉΩÈîôËØØÔºåËØ∑Ê≠£Á°ÆÈÖçÁΩÆ„ÄÇ"); &#125; catch (IOException e) &#123; e.printStackTrace(); logger.warn("FTPÁöÑÁ´ØÂè£ÈîôËØØ,ËØ∑Ê≠£Á°ÆÈÖçÁΩÆ„ÄÇ"); &#125; finally &#123; if (ftpClient.isConnected()) &#123; try &#123; ftpClient.disconnect(); &#125; catch (IOException ioe) &#123; &#125; &#125; &#125; return success;&#125; ÊµãËØïÁ®ãÂ∫èÔºö1downFile(&quot;127.0.0.1&quot;,21,&quot;test&quot;,&quot;123456&quot;,&quot;„ÄÅvar/data/test&quot;,&quot;demo&quot;,&quot;/var/alldata&quot;); ‰∏Ä‰∫õÂùë ÂÆ¢Êà∑Á´ØÊé•ÂèóÁöÑÁºñÁ†Å 1ftpClient.setControlEncoding(&quot;gb2312&quot;); // ‰∏≠ÊñáÊîØÊåÅ Â¶ÇÊûúÊúçÂä°Âô®‰∏äÁöÑÊñá‰ª∂ÂêçÊúâ‰∏≠ÊñáÔºå‰∏ÄÂÆöË¶ÅÂä†‰∏äËøô‰∏ÄÂè•ÔºåÂÖ∑‰ΩìÁºñÁ†ÅË¶ÅÊ†πÊçÆÊúçÂä°Âô®ÁöÑÁºñÁ†Å„ÄÇ ÂÆ¢Êà∑Á´ØÊé•ÂèóÁöÑÊñá‰ª∂Á±ªÂûã 1ftpClient.setFileType(FTPClient.BINARY_FILE_TYPE);//ËÆæÁΩÆÊñá‰ª∂Ê†ºÂºè Êñá‰ª∂Á±ªÂûãË¶ÅÊ†πÊçÆ‰∏ãËΩΩÁöÑÊñá‰ª∂Ê†ºÂºèÊù•ÂÆö ÊúçÂä°Âô®Á´ØÂè£ËÆæÁΩÆ 1ftpClient.enterLocalPassiveMode(); Ë∞ÉÁî®FTPClient.enterLocalPassiveMode();Ëøô‰∏™ÊñπÊ≥ïÁöÑÊÑèÊÄùÂ∞±ÊòØÊØèÊ¨°Êï∞ÊçÆËøûÊé•‰πãÂâçÔºåftp clientÂëäËØâftp serverÂºÄÈÄö‰∏Ä‰∏™Á´ØÂè£Êù•‰º†ËæìÊï∞ÊçÆÔºåÈò≤Ê≠¢Âú®Êñ∞Á´ØÂè£ÂØπÂ§ñÈÉ®‰∏çÈÄöÔºåÂõ†‰∏∫ftp serverÂèØËÉΩÊØèÊ¨°ÂºÄÂêØ‰∏çÂêåÁöÑÁ´ØÂè£Êù•‰º†ËæìÊï∞ÊçÆÔºå‰ΩÜÊòØÂú®linux‰∏äÔºåÁî±‰∫éÂÆâÂÖ®ÈôêÂà∂ÔºåÂèØËÉΩÊüê‰∫õÁ´ØÂè£Ê≤°ÊúâÂºÄÂêØÔºåÊâÄ‰ª•Â∞±Âá∫Áé∞ÈòªÂ°û„ÄÇ ÊúÄÂ§ßÁöÑÂùëÔºà‰∏ãËΩΩÂá∫0kbÁöÑÊñá‰ª∂ÔºöÂÆûË¥®Â∞±ÊòØretrieveFileÊñπÊ≥ïÊâßË°åÂ§±Ë¥•Ôºâ 1ftpClient.retrieveFile(new String(ff.getName().getBytes(&quot;gb2312&quot;),&quot;ISO8859-1&quot;), os) ‰∏ÄÂÆöË¶ÅÁªôÊñá‰ª∂ÂêçÊç¢ÁºñÁ†ÅÔºåËÆ©ÂÆÉËØÜÂà´‰∏≠ÊñáÔºåÂÖ∑‰ΩìÁºñÁ†Å‰πüÊòØÊ†πÊçÆÂÆûÈôÖÊÉÖÂÜµËÄåÂÆö„ÄÇ ÊÄªÁªìftpÂÆ¢Êà∑Á´ØÁöÑÈÄüÂ∫¶‰πüÊòØË¶ÅÊ†πÊçÆÁΩëÈÄüÊù•ÁöÑÔºåÂèØËÉΩÊØî‰∏ÄËà¨httpÂø´Ôºå‰ΩÜÊòØÈù¢ÂØπÁΩëÈÄüÊÖ¢ÁöÑÊÉÖÂÜµ‰πüÊòØÊó†ÂèØÂ•à‰ΩïÔºÅ]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ftp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsÂéüÂûãÂíåÂéüÂûãÈìæ]]></title>
    <url>%2F2017%2F07%2F13%2F%E7%BC%96%E7%A8%8B%2Fjs%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂàöÂàöËØ¥‰∫ÜÈó≠ÂåÖÔºåÈÇ£Â∞±‰∏çÊîæËøájsÁöÑÂè¶‰∏ÄÂ§ßÈöæÁÇπ‰∫Ü‚Äî‚ÄîjsÂéüÂûã‰ª•ÂèäÂéüÂûãÈìæ„ÄÇ Ë∞àË∞àÁ•ûÂõæÈïáÊ•ºÔºöËá™Â∑±ÂÜô‰∫ÜÂ•ΩÂá†ÈÅçÂÜÖÂÆπÔºå‰ΩÜÊòØËá™Â∑±ÂèëÁé∞ËøòÊòØ‰∏çËÉΩÁ≥ªÁªüÁöÑÁêÜËß£ÔºåËá™Â∑±‰πüÂÜô‰∏ç‰∫ÜÂ§öÂ•ΩÔºåÁúãÊù•Ë¶ÅÂà∞Ëá™Â∑±ÂÆâÂøÉÂÜôÂâçÁ´ØÁöÑÊó∂ÂÄôÔºåÂÜçÊù•Ë°•‰∏ä‰∫Ü„ÄÇ ÂèÇËÄÉ ÊúÄËØ¶Â∞ΩÁöÑ JS ÂéüÂûã‰∏éÂéüÂûãÈìæÁªàÊûÅËØ¶Ëß£Ôºà‰∏ÄÔºâ ÊúÄËØ¶Â∞ΩÁöÑ JS ÂéüÂûã‰∏éÂéüÂûãÈìæÁªàÊûÅËØ¶Ëß£Ôºà‰∫åÔºâ ÊúÄËØ¶Â∞ΩÁöÑ JS ÂéüÂûã‰∏éÂéüÂûãÈìæÁªàÊûÅËØ¶Ëß£Ôºà‰∏âÔºâ ‰∏™‰∫∫ÊÑüËßâ‰∏äÈù¢ÁöÑÊñáÁ´†Ëøò‰∏çÈîôÔºåÂèØËÉΩËøòÁº∫‰∫ÜÁªßÊâøÈÇ£ÂùóÁöÑËÆ≤Ëß£ÔºåÁ≠âËá™Â∑±ÂÜçÊù•ÁöÑÊó∂ÂÄô‰∏ÄËµ∑Ë°•‰∏äÂêßÔºÅÔºÅÔºÅÔºÅ]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>ÂéüÂûã</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊµÖË∞àjsÈó≠ÂåÖ]]></title>
    <url>%2F2017%2F07%2F12%2F%E7%BC%96%E7%A8%8B%2F%E6%B5%85%E8%B0%88js%E9%97%AD%E5%8C%85%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊúÄËøëÈ°πÁõÆÂâçÁ´ØÁî®‰∫Üangular2ÔºåÈáåÈù¢‰ΩøÁî®ÁöÑTypeScript,ÂÖ∂ÂÆûÂæàÂ§öÂíåJavaÊå∫ÂÉèÁöÑÔºåÂ≠¶Ëµ∑Êù•ËøòÊòØÊå∫Âø´ÁöÑ„ÄÇ‰ΩÜÊòØÈáåÈù¢ÁöÑÂæàÂ§öÂèòÈáèÁöÑÂéüÁêÜÈÉΩÊòØÊ†πÊçÆÈó≠ÂåÖÊù•ÂÆûÁé∞ÁöÑÔºåÈÇ£Â∞±Â•ΩÂ•Ω‰∫ÜËß£‰∏Ä‰∏ãÈó≠ÂåÖ„ÄÇ Èó≠ÂåÖÂÆö‰πâÊ†πÊçÆMozillaÂºÄÂèëËÄÖÊñáÊ°£ÂÆö‰πâÔºö Èó≠ÂåÖÊòØÊåáÂêëÁã¨Á´ãÂèòÈáèÁöÑ‚ÄúÂáΩÊï∞‚Äù,Áî®ÈÄö‰øóÁöÑËØùËØ¥Â∞±ÊòØ‰ºö‚ÄúËÆ∞‰Ωè‚ÄùÂÆÉÂàõÂª∫Êó∂ÁöÑÁéØÂ¢É„ÄÇ Èó≠ÂåÖÊ∂âÂèäÁöÑ‰∏ªË¶ÅÊ¶ÇÂøµ ‰ΩúÁî®ÂüüÈìæ ‰ΩúÁî®ÂüüÈìæÊòØÂáΩÊï∞Âú®ÂÆö‰πâÁöÑÊó∂ÂÄôÂàõÂª∫ÁöÑ,Áî®‰∫éÂØªÊâæ‰ΩøÁî®Âà∞ÁöÑÂèòÈáèÁöÑÂÄºÁöÑ‰∏Ä‰∏™Á¥¢Âºï„ÄÇÂÆÉÂÜÖÈÉ®ÁöÑËßÑÂàôÊòØ,ÊääÂáΩÊï∞Ëá™Ë∫´ÁöÑÊú¨Âú∞ÂèòÈáèÊîæÂú®ÊúÄÂâçÈù¢,ÊääËá™Ë∫´ÁöÑÁà∂Á∫ßÂáΩÊï∞‰∏≠ÁöÑÂèòÈáèÊîæÂú®ÂÖ∂Ê¨°,ÊääÂÜçÈ´ò‰∏ÄÁ∫ßÂáΩÊï∞‰∏≠ÁöÑÂèòÈáèÊîæÂú®Êõ¥ÂêéÈù¢,‰ª•Ê≠§Á±ªÊé®Áõ¥Ëá≥ÂÖ®Â±ÄÂØπË±°‰∏∫Ê≠¢.ÂΩìÂáΩÊï∞‰∏≠ÈúÄË¶ÅÊü•ËØ¢‰∏Ä‰∏™ÂèòÈáèÁöÑÂÄºÁöÑÊó∂ÂÄô,jsËß£ÈáäÂô®‰ºöÂéª‰ΩúÁî®ÂüüÈìæÂéªÊü•Êâæ,‰ªéÊúÄÂâçÈù¢ÁöÑÊú¨Âú∞ÂèòÈáè‰∏≠ÂÖàÊâæ,Â¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÂØπÂ∫îÁöÑÂèòÈáè,ÂàôÂà∞‰∏ã‰∏ÄÁ∫ßÁöÑÈìæ‰∏äÊâæ,‰∏ÄÊó¶ÊâæÂà∞‰∫ÜÂèòÈáè,Âàô‰∏çÂÜçÁªßÁª≠.Â¶ÇÊûúÊâæÂà∞ÊúÄÂêé‰πüÊ≤°ÊâæÂà∞ÈúÄË¶ÅÁöÑÂèòÈáè,ÂàôËß£ÈáäÂô®ËøîÂõûundefined. ÂÜÖÂ≠òÂõûÊî∂Êú∫Âà∂ ‰∏Ä‰∏™ÂáΩÊï∞Âú®ÊâßË°åÂºÄÂßãÁöÑÊó∂ÂÄô,‰ºöÁªôÂÖ∂‰∏≠ÂÆö‰πâÁöÑÂèòÈáèÂàíÂàÜÂÜÖÂ≠òÁ©∫Èó¥‰øùÂ≠ò,‰ª•Â§áÂêéÈù¢ÁöÑËØ≠Âè•ÊâÄÁî®,Á≠âÂà∞ÂáΩÊï∞ÊâßË°åÂÆåÊØïËøîÂõû‰∫Ü,Ëøô‰∫õÂèòÈáèÂ∞±Ë¢´ËÆ§‰∏∫ÊòØÊó†Áî®ÁöÑ‰∫Ü.ÂØπÂ∫îÁöÑÂÜÖÂ≠òÁ©∫Èó¥‰πüÂ∞±Ë¢´ÂõûÊî∂‰∫Ü.‰∏ãÊ¨°ÂÜçÊâßË°åÊ≠§ÂáΩÊï∞ÁöÑÊó∂ÂÄô,ÊâÄÊúâÁöÑÂèòÈáèÂèàÂõûÂà∞ÊúÄÂàùÁöÑÁä∂ÊÄÅ,ÈáçÊñ∞ËµãÂÄº‰ΩøÁî®.‰ΩÜÊòØÂ¶ÇÊûúËøô‰∏™ÂáΩÊï∞ÂÜÖÈÉ®ÂèàÂµåÂ•ó‰∫ÜÂè¶‰∏Ä‰∏™ÂáΩÊï∞,ËÄåËøô‰∏™ÂáΩÊï∞ÊòØÊúâÂèØËÉΩÂú®Â§ñÈÉ®Ë¢´Ë∞ÉÁî®Âà∞ÁöÑ.Âπ∂‰∏îËøô‰∏™ÂÜÖÈÉ®ÂáΩÊï∞Âèà‰ΩøÁî®‰∫ÜÂ§ñÈÉ®ÂáΩÊï∞ÁöÑÊüê‰∫õÂèòÈáèÁöÑËØù.ËøôÁßçÂÜÖÂ≠òÂõûÊî∂Êú∫Âà∂Â∞±‰ºöÂá∫Áé∞ÈóÆÈ¢ò.Â¶ÇÊûúÂú®Â§ñÈÉ®ÂáΩÊï∞ËøîÂõûÂêé,ÂèàÁõ¥Êé•Ë∞ÉÁî®‰∫ÜÂÜÖÈÉ®ÂáΩÊï∞,ÈÇ£‰πàÂÜÖÈÉ®ÂáΩÊï∞Â∞±Êó†Ê≥ïËØªÂèñÂà∞‰ªñÊâÄÈúÄË¶ÅÁöÑÂ§ñÈÉ®ÂáΩÊï∞‰∏≠ÂèòÈáèÁöÑÂÄº‰∫Ü.ÊâÄ‰ª•jsËß£ÈáäÂô®Âú®ÈÅáÂà∞ÂáΩÊï∞ÂÆö‰πâÁöÑÊó∂ÂÄô,‰ºöËá™Âä®ÊääÂáΩÊï∞Âíå‰ªñÂèØËÉΩ‰ΩøÁî®ÁöÑÂèòÈáè(ÂåÖÊã¨Êú¨Âú∞ÂèòÈáèÂíåÁà∂Á∫ßÂíåÁ•ñÂÖàÁ∫ßÂáΩÊï∞ÁöÑÂèòÈáè(Ëá™Áî±ÂèòÈáè))‰∏ÄËµ∑‰øùÂ≠òËµ∑Êù•.‰πüÂ∞±ÊòØÊûÑÂª∫‰∏Ä‰∏™Èó≠ÂåÖ,Ëøô‰∫õÂèòÈáèÂ∞Ü‰∏ç‰ºöË¢´ÂÜÖÂ≠òÂõûÊî∂Âô®ÊâÄÂõûÊî∂,Âè™ÊúâÂΩìÂÜÖÈÉ®ÁöÑÂáΩÊï∞‰∏çÂèØËÉΩË¢´Ë∞ÉÁî®‰ª•Âêé(‰æãÂ¶ÇË¢´Âà†Èô§‰∫Ü,ÊàñËÄÖÊ≤°Êúâ‰∫ÜÊåáÈíà),Êâç‰ºöÈîÄÊØÅËøô‰∏™Èó≠ÂåÖ,ËÄåÊ≤°Êúâ‰ªª‰Ωï‰∏Ä‰∏™Èó≠ÂåÖÂºïÁî®ÁöÑÂèòÈáèÊâç‰ºöË¢´‰∏ã‰∏ÄÊ¨°ÂÜÖÂ≠òÂõûÊî∂ÂêØÂä®Êó∂ÊâÄÂõûÊî∂. Èó≠ÂåÖÁé∞Ë±°123456789var results = [];for (var i = 0; i &lt;3; i++) &#123;results[i] = function() &#123;console.log(i);&#125;&#125;results[0](); //3results[1](); //3results[2](); //3 Ëß£ÊûêÔºöÂÖ∂ÂÆûËøôÈáåreturnÂá∫Êù•ÁöÑÊòØ‰∏Ä‰∏™functionÔºàÊàë‰ª¨ÂèØ‰ª•ÁêÜËß£‰∏∫‰ªñÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåËøòÊ≤°ÊúâÊâßË°åÔºâÔºåÁ≠âÂà∞Êàë‰ª¨ÂéªÊâßË°å‰ªñÁöÑÊó∂ÂÄôÔºåÂè™‰øùÂ≠ò‰∫Ü‰ªñ‰∏ä‰∏ÄÁ∫ßÁöÑ‰ΩúÁî®ÂüüÈìæÈáåÈù¢ÁöÑiÁöÑÁ¥¢Âºï,ÈÇ£‰∏™Êó∂ÂÄôiÂ∑≤ÁªèÊòØ3‰∫Ü„ÄÇ Èó≠ÂåÖËß£ÂÜ≥ËÆ©ÂÜÖÈÉ®ÂáΩÊï∞Âú®Âæ™ÁéØÂàõÂª∫ÁöÑÊó∂ÂÄôÁ´ãÂç≥ÊâßË°å,Âπ∂‰∏îÊçïÊçâÂΩìÂâçÁöÑÁ¥¢ÂºïÂÄº,ÁÑ∂ÂêéËÆ∞ÂΩïÂú®Ëá™Â∑±ÁöÑ‰∏Ä‰∏™Êú¨Âú∞ÂèòÈáèÈáå.ÁÑ∂ÂêéÂà©Áî®ËøîÂõûÂáΩÊï∞ÁöÑÊñπÊ≥ï,ÈáçÂÜôÂÜÖÈÉ®ÂáΩÊï∞,ËÆ©‰∏ã‰∏ÄÊ¨°Ë∞ÉÁî®ÁöÑÊó∂ÂÄô,ËøîÂõûÊú¨Âú∞ÂèòÈáèÁöÑÂÄº,ÊîπËøõÂêéÁöÑ‰ª£Á†Å:1234567891011var results = [];for (var i = 0; i &lt;3; i++) &#123;results[i] = (function(j) &#123;return function()&#123;console.log(j);&#125;&#125;)(i);&#125;results[0](); //0results[1](); //1results[2](); //2 Êàë‰ª¨ÂèëÁé∞ÈÄöËøáÁ´ãÂç≥ÊâßË°åË°®ËææÂºèÂ∞±ÂèØ‰ª•Ëß£ÂÜ≥Èó≠ÂåÖÁöÑÁé∞Ë±°ÂæóÂà∞Êàë‰ª¨ÊÉ≥Ë¶ÅÂæóÂà∞ÁöÑÁé∞Ë±°„ÄÇ Èó≠ÂåÖÂ∫îÁî®Èó≠ÂåÖ‰∏éÈùôÊÄÅÂèòÈáèÂâçÈù¢Â∞±ËØ¥TypeScript‰∏éJavaÂæàÂÉèÔºåÊâÄ‰ª•Á±ª‰∏≠ÁöÑÈùôÊÄÅÂèòÈáè‰πüÊòØÊúâÁöÑ„ÄÇ TypeScript‰ª£Á†ÅÔºö12345678910111213141516class Counter &#123;private static COUNTER = 0;constructor() &#123;&#125;private changeBy(val) &#123;Counter.COUNTER +=val;&#125;public increment() &#123;this.changeBy(1);&#125;public decrement() &#123;this.changeBy(-1);&#125;public value() &#123;return Counter.COUNTER;&#125;&#125; ÁºñËØë‰πãÂêéÁöÑjs‰ª£Á†Å:123456789101112131415161718var Counter = (function () &#123;function Counter() &#123;&#125;Counter.prototype.changeBy = function (val) &#123;Counter.COUNTER += val;&#125;;Counter.prototype.increment = function () &#123;this.changeBy(1);&#125;;Counter.prototype.decrement = function () &#123;this.changeBy(-1);&#125;;Counter.prototype.value = function () &#123;return Counter.COUNTER;&#125;;Counter.COUNTER = 0;return Counter;&#125;()); ‰ªéjs‰ª£Á†ÅÂèØ‰ª•Áúã‰π¶ÈùôÊÄÅÂèòÈáèCOUNTERÊòØÂ±û‰∫éCounterÁ±ªÁöÑÔºåÂπ∂‰∏çÂ±û‰∫éÂØπË±°ÂéüÂûã„ÄÇÊâÄÊúâCounterÂÆû‰æãÈÉΩÂÖ±‰∫´CounterÁöÑÂêå‰∏Ä‰∏™Èó≠ÂåÖ‰∏ä‰∏ãÊñáÁéØÂ¢ÉÔºàCOUNTERÔºâ„ÄÇÊâÄ‰ª•COUNTER‰ºöË°®Áé∞ÂÉèÂçï‰æã‰∏ÄÊ†∑„ÄÇ Èó≠ÂåÖÂíåÁßÅÊúâÊàêÂëòTypeScriptÁî±‰∫éÊÄßËÉΩÂéüÂõ†Âπ∂Ê≤°Êúâ‰ΩøÁî®Èó≠ÂåÖÊù•Ê®°ÊãüÁßÅÊúâÂèòÈáèÔºå‰ªñ‰ΩøÁî®ËøáÁºñËØëÊ£ÄÊü•Êú∫Âà∂Êù•ÂΩ¢ÊàêÁßÅÊúâÂèòÈáèÁöÑÁâπÊÄß„ÄÇ‰ΩÜÊòØÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Èó≠ÂåÖÊù•ÂÆûÁé∞ÁßÅÊúâÂèòÈáè„ÄÇ js‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718function makeCounter() &#123;var COUNTERR = 0;function Counter() &#123;&#125;function changeBy(val) &#123;COUNTER += val;&#125;;Counter.prototype.increment = function () &#123;this.changeBy(1);&#125;;Counter.prototype.decrement = function () &#123;this.changeBy(-1);&#125;;Counter.prototype.value = function () &#123;return COUNTER;&#125;;return new Counter();&#125;; ‰ªé‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÁúãÂá∫ÔºåÊØè‰∏Ä‰∏™Êñ∞ÁöÑmakeCounterÂÆû‰æãÈÉΩÊã•ÊúâËá™Â∑±ÁöÑ‰∏ä‰∏ãÊñáÁéØÂ¢ÉÔºåÂÖ∂‰ªñÂÆû‰æãËÆøÈóÆ‰∏ç‰∫Ü„ÄÇ ÊÄªÁªìÂ≠¶‰π†Ëøô‰πà‰πÖÁöÑjsÂèëÁé∞ÔºåÂÖ∂ÂÆûÈó≠ÂåÖÁúüÁöÑÊó†Â§Ñ‰∏çÂú®ÔºåÈúÄË¶ÅÂ•ΩÂ•ΩÂ≠¶‰π†ÔºåÂ•ΩÂ•ΩÊÄªÁªìÔºåÂ¶ÇÊúâ‰∏çÂØπÔºå‰πüÂ∏åÊúõÂ§ßÂÆ∂ËÉΩÂ§üÊåáÂá∫„ÄÇ ÂèÇËÄÉÈìæÊé•Ôºöjs‰∏≠Èó≠ÂåÖÂéüÁêÜË∞àÂíåÂéüÂûãÂèä‰æãÂ≠ê ‰π¶Á±çÔºöLearning TypeScript‰∏≠ÊñáÁâà]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>Èó≠ÂåÖ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÊó•ÂøóÈÇ£‰∫õ‰∫ã]]></title>
    <url>%2F2017%2F07%2F12%2F%E7%BC%96%E7%A8%8B%2FJava%E6%97%A5%E5%BF%97%E9%82%A3%E4%BA%9B%E4%BA%8B%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∏ÄÁõ¥ÈÉΩÁü•ÈÅìÊó•ÂøóÊñá‰ª∂ÂæàÈáçË¶ÅÔºåÂèØ‰ª•ËÆ∞ÂΩï‰∏Ä‰∫õÁõ∏ÂÖ≥‰ø°ÊÅØÔºå‰ΩÜÊòØÂèØËÉΩÊòØÁ®ãÂ∫èÈúÄË¶ÅË∞ÉËØïÁöÑÂÜÖÂÆπÂ§™Â∞ëÔºå‰πüÊàñËÄÖÊòØÈ°πÁõÆÂ§™Â∞èÔºåÊâÄ‰ª•ÁúãÁúãÊéßÂà∂Âè∞ÁöÑ‰ø°ÊÅØÂ∞±Â§ü‰∫ÜÔºå‰ΩÜÊòØËøôÊ¨°Êé•Ëß¶ÁöÑÈ°πÁõÆË∂äÊù•Ë∂äÂ§ßÔºåÊéßÂà∂Âè∞È¢ù‰ø°ÊÅØË∂äÊù•Ë∂äÂ§öÔºåÁªèÂ∏∏‰ºöÁúã‰∏çÂà∞Ëá™Â∑±ÊÉ≥Ë¶ÅÁúãÂà∞ÁöÑ‰ø°ÊÅØÊó∂ÔºåËøô‰∏™Êó∂ÂÄô‰ΩøÁî®Êó•ÂøóÂ∞±ÂèëÁé∞ÂçÅÂàÜÂæóÊúâÂøÖË¶Å‰∫ÜÔºÅ Êó•ÂøóÁöÑÂ•ΩÂ§Ñ Êñπ‰æøË∞ÉËØï(Â¶Ç‰∏ä) Êñπ‰æøÂèëÁé∞Á≥ªÁªüËøêË°å‰∏≠ÁöÑÈîôËØØ Â≠òÂÇ®‰∏öÂä°Êï∞ÊçÆÔºå‰æø‰∫éÊó•ÂêéÂàÜÊûê Êó•ÂøóÂÆûÁé∞ÊñπÂºè Ëá™Â∑±ÂÆûÁé∞Á±ªÈÄöËøáioÂ≠òÂÇ®Âà∞Êñá‰ª∂‰∏≠ ‰ΩøÁî®log4jÂ∞ÜÊó•ÂøóËæìÂÖ•Âà∞ÊéßÂà∂Âè∞ÔºåÊñáÊú¨Êñá‰ª∂Ôºå‰∏ÄÈõÜÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇ ‰ΩøÁî®jdkËá™Â∏¶ÁöÑlogging.jarÂåÖ‰∏≠ÊñπÊ≥ïÔºàÂêå‰∏Ä‰ΩúËÄÖËøòÊúâlognbackÔºâ ‰ΩøÁî®slfjÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏äËø∞‰∏§ÁßçÊñπÊ≥ïÁöÑÊé•Âè£„ÄÇ Êó•ÂøóÁöÑËæìÂá∫(‰ª•log4j‰∏∫‰æã) ËæìÂÖ•Âà∞ÊéßÂà∂Âè∞ ËøêË°åÁ®ãÂ∫èÔºö1234567891011public class LoggerTest &#123;public static Logger logger1 = Logger.getLogger(LoggerTest.class);public static void main(String[] args) &#123;logger1.trace(&quot;ÊàëÊòØlogger1Ôºåtrace&quot;);logger1.debug(&quot;ÊàëÊòØlogger1Ôºådebug&quot;);logger1.info(&quot;ÊàëÊòØlogger1Ôºåinfo&quot;);logger1.warn(&quot;ÊàëÊòØlogger1Ôºåwarn&quot;);logger1.error(&quot;ÊàëÊòØlogger1Ôºåerror&quot;);logger1.fatal(&quot;ÊàëÊòØlogger1Ôºåfatal&quot;);&#125;&#125; ÈÖçÁΩÆÊñá‰ª∂Â¶Ç‰∏ãÔºö123456789### ËÆæÁΩÆÁ∫ßÂà´ÂíåÁõÆÁöÑÂú∞(ËøôÈáåÂ§ö‰∏™ÁõÆÁöÑÂú∞) ###log4j.rootLogger = DEBUG,CONSOLE### ËøôÈáåÁöÑcom.todorexÊòØÂåÖÔºå‰πüÂ∞±ÊòØÂú®Ëøô‰∏™ÂåÖËÆ∞ÂΩïÊó•ÂøóÊó∂ÔºåÊòØÂè™ËÆ∞ÂΩïdebugÂèä‰ª•‰∏äÁ∫ßÂà´ÁöÑÊó•Âøólog4j.logger.com.todorex=DEBUG### ËæìÂá∫Âà∞ÊéßÂà∂Âè∞ ###log4j.appender.CONSOLE = org.apache.log4j.ConsoleAppenderlog4j.appender.CONSOLE.Target = System.outlog4j.appender.CONSOLE.layout = org.apache.log4j.PatternLayoutlog4j.appender.CONSOLE.layout.ConversionPattern = %d&#123;ABSOLUTE&#125; %5p %c&#123;1&#125;:%L - %m%n ÊéßÂà∂Âè∞ËæìÂá∫:1234511:35:09,969 DEBUG LoggerTest:12 [main:0]- ÊàëÊòØlogger1Ôºådebug11:35:09,972 INFO LoggerTest:13 [main:3]- ÊàëÊòØlogger1Ôºåinfo11:35:09,972 WARN LoggerTest:14 [main:3]- ÊàëÊòØlogger1Ôºåwarn11:35:09,972 ERROR LoggerTest:15 [main:3]- ÊàëÊòØlogger1Ôºåerror11:35:09,972 FATAL LoggerTest:16 [main:3]- ÊàëÊòØlogger1Ôºåfatal ËæìÂÖ•Âà∞Êó•ÂøóÊñá‰ª∂ËøêË°åÁ®ãÂ∫èÂêå‰∏äÔºõÈÖçÁΩÆÊñá‰ª∂Â¶Ç‰∏ãÔºö1234567891011121314151617181920### ËÆæÁΩÆÁ∫ßÂà´ÂíåÁõÆÁöÑÂú∞(ËøôÈáåÂèØ‰ª•Â§ö‰∏™ÁõÆÁöÑÂú∞) ###log4j.rootLogger = trace,demoLoglog4j.logger.com.todorex=DEBUG### ËæìÂá∫Âà∞ÊéßÂà∂Âè∞ ###log4j.appender.CONSOLE = org.apache.log4j.ConsoleAppenderlog4j.appender.CONSOLE.Target = System.outlog4j.appender.CONSOLE.layout = org.apache.log4j.PatternLayoutlog4j.appender.CONSOLE.layout.ConversionPattern = %d&#123;ABSOLUTE&#125; %5p %c&#123;1&#125;:%L [%t:%r]- %m%n### ËæìÂá∫Âà∞Êó•ÂøóÊñá‰ª∂ÔºàÊñá‰ª∂ÁõÆÂΩï‰∏ÄÂÆöË¶ÅÊòØÁªùÂØπË∑ØÂæÑ‰∏îÂ≠òÂú®Ôºâ ###log4j.appender.demoLog = org.apache.log4j.DailyRollingFileAppenderlog4j.appender.demoLog.File =/var/alldata/mylog.loglog4j.appender.demoLog.Append = true## Âè™ËæìÂá∫DEBUGÁ∫ßÂà´‰ª•‰∏äÁöÑÊó•Âøólog4j.appender.demoLog.Threshold = DEBUG#&apos;.&apos;yyyy-MM-dd: ÊØèÂ§©‰∫ßÁîü‰∏Ä‰∏™Êñ∞ÁöÑÊñá‰ª∂log4j.appender.demoLog.DatePattern = &apos;.&apos;yyyy-MM-ddlog4j.appender.demoLog.layout = org.apache.log4j.PatternLayoutlog4j.appender.demoLog.layout.ConversionPattern = %-d&#123;yyyy-MM-dd HH:mm:ss&#125; [%t:%r] - [%p] [%c&#123;1&#125;:%L] [%M] %m%n Êñá‰ª∂ÂÜÖÂÆπÂêåÊéßÂà∂Âè∞ËæìÂá∫Ôºå‰ΩÜÊòØÂç¥ÊØîÊéßÂà∂Âè∞Ê∏ÖÊ•öÂæóÂ§öÔºå‰∏ç‰ºöË¢´‰π±‰∏ÉÂÖ´Á≥üÁöÑ‰ø°ÊÅØÁªôÈÅÆÁõñ„ÄÇ ËæìÂÖ•Âà∞Êï∞ÊçÆÂ∫ì ËøêË°åÁ®ãÂ∫è:1234567public class LoggerTest &#123;public static void main(String[] args) &#123;Logger logger = Logger.getLogger(LoggerTest.class);logger.info(&quot;good&quot;);logger.debug(&quot;success&quot;);&#125;&#125; ÈÖçÁΩÆÊñá‰ª∂Ôºö1234567891011log4j.rootLogger=trace,CONSOLE,demoLog# com.todorexÂåÖ‰∏ãÈù¢ÊâÄÊúâÁöÑÊó•ÂøóËæìÂá∫ÁöÑÁ∫ßÂà´ËÆæ‰∏∫DEBUGlog4j.logger.com.todorex=DEBUG# Êï∞ÊçÆÂ∫ìËæìÂá∫log4j.appender.demoLog=org.apache.log4j.jdbc.JDBCAppenderlog4j.appender.demoLog.driver=com.mysql.jdbc.Driverlog4j.appender.demoLog.URL=jdbc:mysql://127.0.0.1:3306/testlog4j.appender.demoLog.user=rootlog4j.appender.demoLog.password=root# Âú®Êï∞ÊçÆÂ∫ìÂØπÂ∫îÁöÑ‰ΩçÁΩÆÂª∫‰∏Ä‰∏™ÂØπÂ∫îÁöÑlogË°®log4j.appender.demoLog.sql=insert into log(level,category,thread,time,location,note) values(&apos;%p&apos;,&apos;%c&apos;,&apos;%t&apos;,&apos;%d&#123;yyyy-MM-dd HH:mm:ss:SSS&#125;&apos;,&apos;%l&apos;,&apos;%m&apos;) Êï∞ÊçÆÂ∫ìÁöÑÂÖ∑‰ΩìÂÜÖÂÆπÂ∞±‰∏çË¥¥Âá∫Êù•‰∫ÜÔºåÂíåÊôÆÈÄöÁúãÂà∞ÁöÑ‰∏ÄÊ†∑„ÄÇ ÊÄªÁªìÂÖ∂ÂÆûÊó•ÂøóÁî®Âá†Ê¨°Â∞±Áü•ÈÅìÂÆÉÁöÑÂ•Ω‰∫ÜÔºåËá™Â∑±‰πüÊòØÂú®ÊÖ¢ÊÖ¢Â≠¶‰π†ÔºÅ]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Êó•Âøó</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jpaÂÆû‰ΩìÊò†Â∞ÑÂÖ≥Á≥ª]]></title>
    <url>%2F2017%2F06%2F15%2F%E7%BC%96%E7%A8%8B%2Fjpa%E5%AE%9E%E4%BD%93%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂÖ∂ÂÆûË∑ùÁ¶ªËá™Â∑±‰∏äÊ¨°ÂÜôÊï∞ÊçÆÂ∫ìÊìç‰ΩúÂ∑≤Áªè1‰∏™Â§öÊúà‰∫ÜÔºå‰πãÂâçÊé•Ëß¶ÁöÑÂ∞±ÊòØHibernateÔºåËøôÊ¨°Êé•Ëß¶jpaÔºåÂ∞±ÊääÂá†ÁßçÂØπÂ∫îÂÖ≥Á≥ªÁêÜÊ∏Ö„ÄÇ Êò†Â∞ÑÁ≠ñÁï•Ê≥®ÔºöËøôÊ¨°‰∏æÁöÑ‰æãÂ≠êÈÉΩÊòØUserÂíåCarÁöÑ Â§ñÈîÆÂÖ≥ËÅîÁÆÄ‰ªãÔºö‰∏§‰∏™Ë°®ÁöÑÂÖ≥Á≥ªÂÆö‰πâÂú®ÂÖ∂‰∏≠‰∏Ä‰∏™Ë°®‰∏≠ @OneToOneÊñπÊ≥ï‰∏ÄÔºö123@OneToOne(cascade=CascadeType.ALL, fetch=FetchType.EAGER)@JoinColumn(name = "user_id")private Car car; ÈÄöËøáÂú®CarË°®‰∏≠Âä†ÂÖ•‰∏Ä‰∏™Â§ñÈîÆÔºåÂÆûÁé∞‰∏§ËÄÖÂÖ≥Á≥ª„ÄÇÊñπÊ≥ï‰∫åÔºö12@OneToOne(cascade = CascadeType.ALL,fetch = FetchType.EAGER,mappedBy = "Car")private User user; ÈÄöËøáÂú®CarÁ±ª‰∏≠Áî®MappedByÂ£∞ÊòéËÆ©UserËøõË°åÁª¥Êä§„ÄÇ @OneToMany123@OneToMany(cascade=CascadeType.ALL, fetch=FetchType.EAGER)@JoinColumn(name = "user_id")private Set&lt;Car&gt; cars; ÈÄöËøáÂú®CarË°®‰∏≠Âä†ÂÖ•‰∏Ä‰∏™Â§ñÈîÆÔºåÂÆûÁé∞‰∏ÄÂØπÂ§öÂÖ≥Á≥ª„ÄÇ @ManyToMany12@OneToMany(cascade=CascadeType.ALL, fetch=FetchType.EAGER)private Set&lt;Car&gt; cars; Ëøô‰∏™ÊòØÈááÁî®ÈªòËÆ§ÁöÑË°®ÂÖ≥ËÅî Ë°®ÂÖ≥ËÅîÁÆÄ‰ªãÔºö‰∏§‰∏™Ë°®ÁöÑÂÖ≥Á≥ªÈÄöËøá‰∏ÄÂº†‰∏≠Èó¥Ë°®Êù•Êù•ÂÖ≥ËÅî @OneToMany12345@OneToMany(cascade=CascadeType.ALL, fetch=FetchType.EAGER)@JoinTable(name = "user_car",joinColumns=&#123;@JoinColumn(name = "user_id")&#125;,inverseJoinColumns = &#123;@JoinColumn(name = "car_id")&#125;)private Set&lt;Car&gt; cars; ÈÄöËøáJoinTableÊù•Á°ÆÂÆö‰∏ÄÂº†‰∏≠Èó¥Ë°®ÔºåjoinColumnsÈáåÈù¢ÊîæÁà∂Ë°®ÁöÑÂ±ûÊÄßÔºåinverseJoinColumnsÊîæÂ≠êË°®ÁöÑÂ±ûÊÄß @ManyToMany12345@ManyToMany(cascade=CascadeType.ALL, fetch=FetchType.EAGER)@JoinTable(name = "user_car",joinColumns=&#123;@JoinColumn(name = "user_id")&#125;,inverseJoinColumns = &#123;@JoinColumn(name = "car_id")&#125;)private Set&lt;Car&gt; cars; Ëß£ÈáäÂ¶Ç@OneToMany ‰∏Ä‰∫õÂ±ûÊÄßcascadeÂ±ûÊÄß CascadeType.PERSISTÔºöÁ∫ßËÅîÊñ∞Âª∫ CascadeType.REMOVEÔºöÁ∫ßËÅîÂà†Èô§ CascadeType.REFRESHÔºöÁ∫ßËÅîÂà∑Êñ∞ CascadeType.MERGEÔºöÁ∫ßËÅîÊõ¥Êñ∞ CascadeType.ALLÔºöÂåÖÊã¨‰∏äÈù¢ÂõõÈ°π fetchÂ±ûÊÄß FetchType.EAGERÔºöÁõ∏ÂΩì‰∫éÁ¶ÅÁî®ÊáíÂä†ËΩΩÔºåÊé®ËçêÂºÄÂèë‰ΩøÁî® FetchType.LAZYÔºöÊáíÂä†ËΩΩÔºåÈªòËÆ§ÂÄºÔºåÊé®ËçêÈÉ®ÁΩ≤‰ΩøÁî® ÊÄªÁªìÁà∂Ë°®ÊòØÊèê‰æõ‰∏ªÈîÆÁöÑÔºåÂ≠êË°®ÊòØÂà©Áî®Áà∂Ë°®ÁöÑ‰∏ªÈîÆÊù•ËÆæÁΩÆÂ§ñÈîÆÁöÑÔºåÁª¥Êä§ÊñπÊòØOwnerÔºåË¢´Áª¥Êä§ÊñπÊòØOwned„ÄÇÊèêÁ§∫Ëá™Â∑±‰∏Ä‰∏™ÂÇªÈÄºÁöÑÈóÆÈ¢òÔºåÊèíÂÖ•Êï∞ÊçÆË¶ÅÂÖàÂæÄ‰∏§Âº†Ë°®‰∏≠ÊèíÂÖ•Êï∞ÊçÆÔºåÂú®ÂæÄ‰∏≠Èó¥Ë°®ÊèíÂÖ•Êï∞ÊçÆÔºå‰∏çÁÑ∂‰ºöÊä•Èîô~]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>sping</tag>
        <tag>jpa</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springbootÈ°πÁõÆË∞ÉËØïangular2]]></title>
    <url>%2F2017%2F06%2F01%2F%E7%BC%96%E7%A8%8B%2Fspringboot%E9%A1%B9%E7%9B%AE%E8%B0%83%E8%AF%95angular2%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂú®Êé•Ëß¶ springbootÂíåangular2ÁöÑÂâçÂêéÁ´ØÈ°πÁõÆÁöÑÊó∂ÂÄôÔºåÊàëÂèëÁé∞Ëá™Â∑±‰ºöÂÖàÊääangular2ÁöÑÈ°πÁõÆÁºñËØëÂ•Ω‰πãÂêéÊîæÂú®springbootÁöÑresourceÁõÆÂΩï‰∏ãÁöÑstaticÊñá‰ª∂Â§π‰∏ãËøêË°åÔºåËôΩÁÑ∂ËøôÊ†∑ÂèØ‰ª•Ôºå‰ΩÜÊòØÂØπ‰∫éÂâçÁ´ØÊù•Ë∞ÉËØï‰ª£Á†ÅÂÆûÂú®‰∏çÊñπ‰æø„ÄÇÂú®ÁôæÂ∫¶ÁΩë‰∏äÁöÑÊñπÊ≥ï‰πãÂêéÂèØ‰ª•ÈááÁî®Â¶Ç‰∏ã‰ª£ÁêÜÁöÑÊñπÂºè„ÄÇ ÈóÆÈ¢ò angular2ÂêØÂä®ÁöÑÊúçÂä°ÈªòËÆ§‰∏∫http://localhost:4200 springbootÂêØÂä®ÁöÑÊúçÂä°ÈªòËÆ§‰∏∫http://localhost:8080 Â¶ÇÊûúÊàë‰ª¨Áõ¥Êé•ËÆæÁΩÆangular2ËÆøÈóÆÁöÑË∑ØÂæÑ‰∏∫http://localhost:8080Â∞±‰ºöÂá∫Áé∞Ë∑®ÂüüËÆøÈóÆÁöÑÈóÆÈ¢ò„ÄÇËØ∑Ê±Ç‰∏çÂà∞Êï∞ÊçÆ„ÄÇ Ëß£ÂÜ≥Âú®angular2È°πÁõÆÁöÑÊ†πÁõÆÂΩï‰∏ãÈù¢Êñ∞Âª∫‰∏Ä‰∏™proxy.config.json123456&#123;&quot;/api&quot;: &#123;&quot;target&quot;: &quot;http://localhost:8081&quot;,&quot;secure&quot;: false&#125;&#125; ÁÑ∂ÂêéÂú®ÂêØÂä®È°πÁõÆÁöÑÊó∂ÂÄôÈááÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§ ng serve ‚Äìproxy-config proxy.config.json ÈÄöËøáËøôÊ†∑ÁöÑ‰ª£ÁêÜËÆøÈóÆÂ∞±ËÉΩËÉΩÂ§üÂÆûÁé∞Ë∑®ÂüüËÆøÈóÆËØ∑Ê±ÇÊï∞ÊçÆ„ÄÇ ÊÄªÁªìÈÄöËøá‰∏äÈù¢ÁöÑÊñπÊ≥ïÊñπ‰æø‰∫ÜÂºÄÂèëË∞ÉËØïÔºå‰∏çÈîôÔºåÁªà‰∫éË¶ÅÂºÄÂßãÂÜô‰ª£Á†Å‰∫ÜÔºÅ]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>springboot</tag>
        <tag>angular2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Angular2ÂÖ•Èó®]]></title>
    <url>%2F2017%2F05%2F24%2F%E7%BC%96%E7%A8%8B%2FAngular2%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁî±‰∫éËÄÅÂ∏àÊöëÂÅáÁöÑÈ°πÁõÆÂâçÁ´Ø‰ª£Á†ÅÈúÄË¶ÅÁî®Âà∞Angular2Ôºå‰Ωú‰∏∫‰∏Ä‰∏™ÂêéÁ´ØÂºÄÂèëËÄÖ‰πüÊòØÈúÄË¶Å‰∫ÜËß£‰∏Ä‰∏¢‰∏¢ÁöÑ„ÄÇ AngularÁÆÄ‰ªãÂú®ÁªèËøáÁÆÄÂçïÁöÑ‰∫ÜËß£‰∏é‰ΩøÁî®‰πãÂêéÔºåÊÑüËßâ Âà∞Angular2ÁöÑÂº∫Â§ß‰∏é‰ºüÂ§ßÔºåÈÖçÁöÑ‰∏äËØ¥ÊòØ‰∏Ä‰∏™‰ºòÁßÄÁöÑÂâçÁ´ØÊ°ÜÊû∂„ÄÇAngular2ÂÆûÁé∞‰∫ÜÂâçÁ´Ø‰∏ÄÁõ¥ÊèêÂÄ°ÁöÑÁªÑ‰ª∂ÂåñÂºÄÂèëËøòËß£ÂÜ≥‰∫ÜÂ§ßÈÉ®ÂàÜÈ°πÁõÆË∑ØÁî±Ê∑∑‰π±ÁöÑÈóÆÈ¢ò„ÄÇÂÆÉËøòÊúâÂÖ∑ÊúâMVCÂàÜÂ±ÇÊû∂ÊûÑÂíå‰æùËµñÊ≥®ÂÖ•Á≠â‰∏ÄÁ≥ªÂàó‰ºòÁßÄÁöÑÁâπÊÄß„ÄÇÁé∞Âú®Ë¥¥‰∏äAngular2ÁöÑ‰∏ÄÂº†Êû∂ÊûÑÂõæÔºö‰∏äÂõæÊèèËø∞‰∫ÜAngular2‰∏≠8Â§ß‰∏ªË¶ÅÊûÑÈÄ†ÂùóÁöÑÂÖ≥Á≥ªÔºå‰ªñ‰ª¨ÂÖ∑‰ΩìÁöÑÁêÜËß£ÔºåÂèØ‰ª•ÂèÇËÄÉËøôÁØáÂçöÊñá„ÄÇÂ¶ÇÊûúËøòÊúâ‰ªÄ‰πà‰∏çÁêÜËß£ÔºåÈÇ£Êàë‰ª¨ÂèØ‰ª•Áõ∏‰ø°ÂÆûË∑µËßÅÁúüÁü•„ÄÇ AngularËµ∑Ê≠•Âú®ËøôÊ¨°Â≠¶‰π†‰∏≠ÔºåÊàëÁªà‰∫éÁêÜËß£‰∫ÜÂâçËæà‰ª¨ÊâÄËØ¥ÁöÑÂÖ•Èó®‰∏ÄÈó®ÊäÄÊúØÂ∞±Â•ΩÁöÑÊñπÊ≥ïÂ∞±ÊòØÂéªÁúãÂÆòÊñπÊñáÊ°£‰∫ÜÔºåAngular2ÁöÑÂÆòÁΩëÊñáÊ°£ÈáåÈù¢Êúâ‰∏≠ÊñáÁâàÁöÑÔºåÁõ∏‰ø°Â§ßÂÆ∂‰∏ÄÂÆöÂæàÂºÄÂøÉÂêß„ÄÇÂΩìÁÑ∂Ê≤°Êúâ‰∏≠ÊñáÁâà‰πüÊòØË¶ÅÁúãÁöÑÔºåÊØîËæÉÈÉΩÊòØÊúÄÂü∫Á°ÄÁöÑÂÖ•Èó®Ôºå‰∏çË¶ÅÊÉßÊÄïËã±Êñá„ÄÇ Âú®ËøôÊ¨°ÊåâÁÖßÂÆòÊñπÊñáÊ°£ÁöÑÊïôÁ®ãÔºàËã±ÈõÑÁºñËæëÂô®ÔºâÂá∫Áé∞‰∫Ü‰∏§‰∏™ÈóÆÈ¢òÔºåËøôÈáå‰πüËØ¥Êòé‰∏Ä‰∏ãÔºö1. angular-in-memory-web-apiaÊ®°Âùó‰∏çÂ≠òÂú® Ëß£ÂÜ≥ÊñπÊ≥ïÔºöÈÄöËøáÂëΩ‰ª§Ë°åÂÆâË£Ö npm i angular-in-memory-web-api 2.1234567create(name: string): Promise&lt;Hero&gt; &#123;return this.http.post(this.heroesUrl, JSON.stringify(&#123;name: name&#125;), this.headers).toPromise().then(res =&gt; res.json().data as Hero).catch(this.handleError);&#125; ËøôÈáåÁöÑpostÊñπÊ≥ï‰∏≠ÁöÑÁ¨¨‰∏â‰∏™ÂèÇÊï∞Â∫îËØ•ÊòØthis.headers,ËÄå‰∏çÊòØÂÉèÂÆòÊñπÊñáÊ°£‰∏≠ÁöÑÈÇ£Ê†∑„ÄÇ ÊÄªÁªìÂ¶ÇÊûúÈÅáÂà∞‰∏çÊáÇÂæóÈóÆÂÄôÂ§öÁúãÁúãÊñáÊ°£ÂêßÔºåÁõ∏‰ø°Ëá™Â∑±ÂèØ‰ª•ÁöÑÔºåÁÑ∂ÂêéÂ∞±ÊòØÂÆûË∑µËßÅÁúüÁü•‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Angular2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁÆÄË∞àentityÔºåmodelÔºådomain]]></title>
    <url>%2F2017%2F05%2F23%2F%E7%BC%96%E7%A8%8B%2F%E7%AE%80%E8%B0%88entity%EF%BC%8Cmodel%EF%BC%8Cdomain%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂâç‰∏§Â§©Âê¨Âà∞ÂÖ≥‰∫éentityÂíådomainÂåÖÁöÑÂå∫Âà´ÔºåÂ•ΩÂÉè‰πãÂâçËá™Â∑±‰πüÊ≤°ÊúâÂú®ÊÑèËøáÔºå‰ªäÂ§©ÁúãÁúãÁΩë‰∏äÁöÑ‰ø°ÊÅØÊÄªÁªì‰∏Ä‰∏ã„ÄÇ entityÔºàÂÆû‰ΩìÔºâËøôÂ•ΩÂÉèÊòØÊúÄÂ∏∏Áî®ÁöÑpackageÂëΩÂêç‰∫ÜÔºåpackageÁöÑÁ±ª‰∏ÄËà¨ÈÉΩÊòØÂíåÊï∞ÊçÆÂ∫ìÁöÑË°®ÂØπÂ∫îÁöÑ„ÄÇ‰∏Ä‰∏™ÂÆû‰ΩìÔºå‰∏ÄÂº†Ë°®ÔºåÂÖ∂Â≠óÊÆµÁöÑÁ±ªÂûã‰πüÊòØÂØπÂ∫îÁöÑ„ÄÇ modelÔºàÊ®°ÂûãÔºâÊúÄÂàùÊé•Ëß¶Âà∞ÂÆÉÁöÑÊó∂ÂÄôÊòØStrutsÁöÑÊ®°ÂûãÈ©±Âä®ÔºåÁî®‰∫éÊé•ÂèóÂíåÊòæÁ§∫ÂâçÂè∞ÁöÑÊï∞ÊçÆÂØπË±°„ÄÇÊàë‰ª¨Ë¶ÅÊ†πÊçÆÂÆûÈôÖÊÉÖÂÜµÊù•Á°ÆÂÆöÊ®°ÂûãÁöÑÁ±ª„ÄÇ domainÔºàÂüüÔºâËØ¥ÂÆûËØùÔºåËøô‰∏™ÂåÖÂêçÁî®Âæó‰∏çÊÄé‰πàÂ§öÔºåÂú®ÁΩë‰∏äÊòæÁ§∫ÂÆÉÂú®ÂõΩÂ§ñÁöÑÁΩëÁ´ôÁî®ÁöÑÊØîËæÉÂ§öÔºåÂÆÉ‰∏ªË¶ÅÊòØÁî®‰∫éÂ≠òÂÇ®‰∏Ä‰∏™‰∏öÂä°ÂØπË±°ÔºàÊ®°ÂùóÂØπË±°Ôºâ„ÄÇ ÊÄªÁªìÊ≠£Á°ÆÂëΩÂêçÂåÖÂêçÔºåÊúâÂä©‰∫éÂêéÁª≠‰ª£Á†ÅÁöÑÁª¥Êä§Ôºå‰ª•ÂèäÂêéÊù•ÂºÄÂèëËÄÖÁöÑÁª¥Êä§ÔºåÊúÄÈáçË¶ÅÁöÑÊòØËÉΩË°îÊé•Ë°å‰∏öÁöÑËßÑËåÉ„ÄÇÊÖ¢ÊÖ¢Êù•ÔºÅ]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë¥™ÂøÉÁÆóÊ≥ï]]></title>
    <url>%2F2017%2F05%2F17%2F%E7%AE%97%E6%B3%95%2F%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö‰∏äÊ¨°ÁúãÂà∞ËøáÈíüÂçéËÄÅÂ∏àÁöÑ‰∏Ä‰∏™Âü∫‰∫éË¥™ÂøÉÁÆóÊ≥ïÁöÑÊØï‰∏öËÆæËÆ°Ôºå‰∏ÄÁõ¥ÂæàÂ•ΩÂ•áÔºå‰ªäÂ§©Áªà‰∫éËÉΩÁúãÁúãÂÆÉ‰∫ÜÔºåÂè™ÊòØÁü•ÂÖ∂ÁÑ∂Ôºå‰∏çÁü•ÊâÄ‰ª•ÁÑ∂„ÄÇ Ë¥™ÂøÉÁÆóÊ≥ïÊÄªËØ¥Ë¥™ÂøÉÁÆóÊ≥ïÂú®ÊØè‰∏ÄÊ≠•ÈÉΩ‰ºöÂÅöÂá∫ÁúãËµ∑Êù•ÊòØÊúÄ‰Ω≥ÁöÑÈÄâÊã©Ôºå‰πüÂ∞±ÊòØËØ¥‰ºöÂÅöÂá∫Â±ÄÈÉ®ÊúÄ‰ºòÁöÑÈÄâÊã©ÔºåÂ∏åÊúõ‰ª•Ê≠§ËÉΩÂ§üÂæóÂà∞ÊúÄ‰ºòËß£„ÄÇ Ê¥ªÂä®ÈÄâÊã©ÈóÆÈ¢òË¥™ÂøÉÈÄâÊã©Êàë‰ª¨Ë¶ÅÈÄâÊã©ËøôÊ†∑‰∏Ä‰∏™Ê¥ªÂä®ÔºåÈÄâÂá∫ÂÆÉ‰πãÂêéË∫´‰∏ãÁöÑËµÑÊ∫êËÉΩÂ§üË¢´Â∞ΩÈáèÂ§öÁöÑÂÖ∂‰ªñ‰ªªÂä°ÊâÄÁî®ÔºåÂç≥ÈÄâÊã©ÊúÄÊó©ÁªìÊùüÁöÑÊ¥ªÂä®„ÄÇ ÈÄíÂΩíË¥™ÂøÉÁÆóÊ≥ïÁÆóÊ≥ïÊÄùË∑ØÔºöÁî®‰∏§‰∏™Êï∞ÁªÑsÂíåfË°®Á§∫Ê¥ªÂä®ÁöÑÂºÄÂßãÂíåÁªìÊùüÊó∂Èó¥„ÄÇ‰∏ãË°®kÊòØÊàë‰ª¨Ë¶ÅÊ±ÇËß£ÁöÑÂ≠êÈóÆÈ¢òÔºå‰ª•ÂèäÈóÆÈ¢òËßÑÊ®°nÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031import java.util.ArrayList;import java.util.List;public class ActivitySelector &#123;public int[] s = new int[]&#123;1,3,0,5,3,5,6,8,8,2,12&#125;;public int[] f = new int[]&#123;4,5,6,7,9,9,10,11,12,14,16&#125;;public List&lt;Integer&gt; list = new ArrayList&lt;&gt;();public void recursiveActivitySelector(int[] s, int[] f,int k,int n)&#123;if(list.size()==0)&#123;list.add(1);&#125;int m = k+1;while (m&lt;n &amp;&amp; s[m]&lt;f[k])&#123;m = m+1;&#125;if(m&lt;n)&#123;list.add(m+1);recursiveActivitySelector(s, f, m, n);&#125; else &#123;return ;&#125; &#125;public static void main(String[] args) &#123;ActivitySelector activitySelector = new ActivitySelector();activitySelector.recursiveActivitySelector(activitySelector.s, activitySelector.f, 0, activitySelector.f.length);for (Integer i : activitySelector.list) &#123;System.out.println(i);&#125;&#125;&#125; Ëø≠‰ª£Ë¥™ÂøÉÁÆóÊ≥ïËøô‰∏™ËøáÁ®ãÊòØÂÅáËÆæËæìÂÖ•Ê¥ªÂä®ÁöÑÁªìÊùüÊó∂Èó¥ÊòØÂ∑≤ÁªèÊéíÂ•ΩÂ∫èÁöÑÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627import java.util.ArrayList;import java.util.List;public class GreedyActivitySelector &#123;public int[] s = new int[]&#123;1,3,0,5,3,5,6,8,8,2,12&#125;;public int[] f = new int[]&#123;4,5,6,7,9,9,10,11,12,14,16&#125;;public List&lt;Integer&gt; list = new ArrayList&lt;&gt;();public void greedActivitySelector(int[] s,int[] f)&#123;int n = s.length;list.add(1);int k = 1;for (int m = 1; m &lt; n; m++) &#123;if(s[m]&gt;=f[k])&#123;list.add(k);k = m;&#125;&#125;&#125;public static void main(String[] args) &#123;ActivitySelector activitySelector = new ActivitySelector();activitySelector.recursiveActivitySelector(activitySelector.s, activitySelector.f, 0, activitySelector.f.length);for (Integer i : activitySelector.list) &#123;System.out.println(i);&#125;&#125;&#125; Ë¥™ÂøÉÁÆóÊ≥ïÂéüÁêÜËÆæËÆ°Ë¥™ÂøÉÁÆóÊ≥ïÁöÑËøáÁ®ã Á°ÆÂÆöÈóÆÈ¢òÁöÑÊúÄ‰ºòÂ≠êÁªìÊûÑ ËÆæËÆ°‰∏Ä‰∏™ÈÄíÂΩíÁÆóÊ≥ï ËØÅÊòé‰∏Ä‰∏™Ë¥™ÂøÉÈÄâÊã©ÔºåÂàôÂè™Ââ©‰∏ã‰∏Ä‰∏™Â≠êÈóÆÈ¢ò ËØÅÊòéË¥™ÂøÉÈÄâÊã©ÊÄªÊòØÂÆâÂÖ®ÁöÑ ËÆæËÆ°‰∏Ä‰∏™ÈÄíÂΩíÁÆóÊ≥ïÂÆûÁé∞Ë¥™ÂøÉÁ≠ñÁï• Â∞ÜÈÄíÂΩíÁÆóÊ≥ïËΩ¨Êç¢‰∏∫Ëø≠‰ª£ÁÆóÊ≥ï ËØÅÊòé‰∏Ä‰∏™Ë¥™ÂøÉÁÆóÊ≥ïÊòØÂê¶ËÉΩÊ±ÇËß£‰∏Ä‰∏™ÊúÄ‰ºòÂåñÈóÆÈ¢òÔºüÂÖ∑Êúâ‰∏ãÈù¢ÊÄßË¥®Â∞±okÔºü Ë¥™ÂøÉÈÄâÊã©ÊÄßË¥® Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÅöÂá∫Â±ÄÈÉ®ÊúÄ‰ºòÈÄâÊã©Êù•ÊûÑÈÄ†ÂÖ®Â±ÄÊúÄ‰ºòËß£ ÊúÄ‰ºòÂ≠êÁªìÊûÑ Â¶ÇÊûú‰∏Ä‰∏™ÈóÆÈ¢òÁöÑÊúÄ‰ºòËß£ÂåÖÂê´Â≠êÈóÆÈ¢òÁöÑÊúÄ‰ºòËß£ ÊÄªÁªì‰∏ÄÊ≠•‰∏ÄÊ≠•ÊÖ¢ÊÖ¢Ë¥™ÂøÉÔºåÂíåÂÅö‰∫∫ÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰ΩÜÊòØÊÄªÁöÑÊù•ËØ¥ËøòÊòØË¶ÅËÄÉËôëÂÖ®Â±ÄÁöÑÔºÅÔºÅÔºÅ]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ÁÆóÊ≥ïÂØºËÆ∫</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âä®ÊÄÅËßÑÂàí]]></title>
    <url>%2F2017%2F05%2F17%2F%E7%AE%97%E6%B3%95%2F%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊÖ¢ÊÖ¢Â∞±Ê≠•ÂÖ•‰∫ÜÁÆóÊ≥ïÂØºËÆ∫ÁöÑÈ´òÁ∫ßËÆæËÆ°‰∏éÂàÜÊûêÊäÄÊúØÊ®°ÂùóÔºåÂÖàÊù•ÁúãÁúãÂä®ÊÄÅËßÑÂàí„ÄÇps:Âø´ÊØï‰∏öÁöÑÂøÉÊÉÖorg„ÄÇ Âä®ÊÄÅËßÑÂàíÊÄªËØ¥Âä®ÊÄÅËßÑÂàíËôΩÁÑ∂‰∏éÂàÜÊ≤ªÊñπÊ≥ïÁõ∏‰ººÔºå‰ΩÜÊòØÂÆÉËÉΩÂ§üËß£ÂÜ≥Â≠êÈóÆÈ¢òÈáçÂè†ÁöÑÊÉÖÂÜµÔºåËøôÊ†∑Â∞±ÊèêÈ´ò‰∫ÜÊïàÁéá„ÄÇÂÆÉÈÄöÂ∏∏ÊòØÁî®Êù•Ê±ÇËß£ÊúÄ‰ºòÂåñÁöÑÈóÆÈ¢ò„ÄÇÊ±ÇÂæóÊòØ‰∏Ä‰∏™ÊúÄ‰ºòËß£„ÄÇ‰∏ÄËà¨ÊåâÂ¶Ç‰∏ã4‰∏™Ê≠•È™§Êù•ËÆæËÆ°‰∏Ä‰∏™Âä®ÊÄÅËßÑÂàíÁÆóÊ≥ï„ÄÇ ÂàªÁîª‰∏Ä‰∏™ÊúÄ‰ºòËß£ÁöÑÁªìÊûÑÁâπÂæÅ ÈÄíÂΩíÂú∞ÂÆö‰πâÊúÄ‰ºòËß£ÁöÑÂÄº ËÆ°ÁÆóÊúÄ‰ºòËß£ÁöÑÂÄºÔºåÈÄöÂ∏∏ÈááÁî®Ëá™Â∫ïÂêë‰∏äÁöÑÊñπÊ≥ï Âà©Áî®ËÆ°ÁÆóÂá∫ÁöÑ‰ø°ÊÅØÊûÑÈÄ†Âá∫‰∏Ä‰∏™ÊúÄ‰ºòËß£ Èí¢Êù°ÂàáÂâ≤ÂÖàÁúã‰ª•ÂâçÂ∏∏Áî®ÁöÑÂàÜÊ≤ªÊñπÊ≥ïÂç≥Ëá™È°∂Âêë‰∏ãÊñπÊ≥ï,‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728public class CutRod &#123;//a[i]Ë°®Á§∫ÈïøÂ∫¶‰∏∫iÁöÑÈí¢Êù°Âà©Ê∂¶ÊòØÂ§öÂ∞ëpublic int[] a = new int[]&#123;1,5,8,9,10,17,17,20,24,30&#125;;//Ëá™È°∂Âêë‰∏ãÈÄíÂΩíËÆæËÆ°public int cutRod(int[] a,int n) &#123;if(n == 0)&#123;return 0;&#125;int q = 0;for (int i = 0; i&lt;n; i++)&#123;q = max(q,a[i]+cutRod(a,n-1-i));&#125;return q;&#125;//Ê±ÇÊúÄÂ§ßÂÄºÂáΩÊï∞public int max(int a, int b)&#123;if(a&gt;b)&#123;return a;&#125; else &#123;return b;&#125;&#125;public static void main(String[] args) &#123;CutRod cut = new CutRod();int lost = cut.cutRod(cut.a,10);System.out.println(lost);&#125;&#125; ÈóÆÈ¢òÔºöÂèçÂ§çÂú∞Áî®Áõ∏ÂêåÁöÑÂèÇÊï∞ÂÄºÂØπËá™Ë∫´ËøõË°åÈÄíÂΩíË∞ÉÁî®ÔºåÈÄ†Êàê‰∫ÜËøêË°åÊó∂Èó¥‰∏∫nÁöÑÊåáÊï∞ÂáΩÊï∞„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ÈááÁî®Âä®ÊÄÅËßÑÂàíÊñπÊ≥ïÊ±ÇËß£ÊúÄ‰ºòÈí¢Êù°ÂàáÂâ≤ÈóÆÈ¢ò„ÄÇ ÈááÁî®Â∏¶Â§áÂøòÁöÑËá™È°∂Âêë‰∏ãÊ≥ïÊ†∏ÂøÉÊòØÂà©Áî®‰∏Ä‰∏™Êï∞ÁªÑÂ≠òÂÇ®Â∑≤ÁªèÊ±ÇËß£ËøáÁöÑÊúÄ‰ºòËß£ÔºåÈÅøÂÖç‰∫ÜÈáçÂ§çÁöÑËÆ°ÁÆóÔºåÂÖ∑‰ΩìÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class MemoizedCutRod &#123;//a[i]Ë°®Á§∫ÈïøÂ∫¶‰∏∫iÁöÑÈí¢Êù°Âà©Ê∂¶ÊòØÂ§öÂ∞ëpublic int[] a = new int[]&#123;1,5,8,9,10,17,17,20,24,30&#125;;//Â∏¶Â§áÂøòÁöÑËá™È°∂Âêë‰∏ãÂáΩÊï∞public int memoizedCutRod(int[] a,int n)&#123;//ÂàõÂª∫‰∏Ä‰∏™Â§áÂøòÁöÑÊï∞ÁªÑÂ≠òÂÇ®‰∏Ä‰∏™‰πãÂâçËÆ°ÁÆóËøáÁöÑÊúÄ‰ºòËß£int[] r = new int[n];//ÂàùÂßãÂåñÊï∞ÁªÑfor (int i : r) &#123;i = 0;&#125;//ÂÄüÂä©ËæÖÂä©ÂáΩÊï∞ËÆ°ÁÆóreturn memoizedCutRodAux(a, n, r);&#125;//Â∏¶Â§áÂøòÁöÑËá™È°∂Âêë‰∏ãÊ≥ïËæÖÂä©ÂáΩÊï∞public int memoizedCutRodAux(int[] a,int n,int[] r) &#123;//ÂÆö‰πâÂà©Ê∂¶int q = 0;if(n == 0)&#123;return 0;&#125;//Âà§Êñ≠ÂéüÂÖàÊòØÂê¶Â∑≤ÁªèËÆ°ÁÆóËøáÔºåËã•ËÆ°ÁÆóËøáÂ∞±‰∏çÁî®ÂÜçËÆ°ÁÆóif(r[n-1] &gt;0)&#123;return r[n-1];&#125;else &#123;for (int i = 0; i&lt;n; i++)&#123;q = max(q,a[i]+memoizedCutRodAux(a, n-1-i, r));&#125;&#125;r[n-1] = q;return q;&#125;//Ê±ÇÊúÄÂ§ßÂÄºÂáΩÊï∞public int max(int a, int b)&#123;if(a&gt;b)&#123;return a;&#125; else &#123;return b;&#125;&#125;public static void main(String[] args) &#123;MemoizedCutRod cut = new MemoizedCutRod();int lost = cut.memoizedCutRod(cut.a, 10);System.out.println(lost);&#125;&#125; ÈááÁî®Áî±Â∫ïÂêë‰∏äÁöÑÊñπÊ≥ïÊ†∏ÂøÉÊòØ‰ªéÂ∞èÁÆóÂà∞Â§ßÁÆóÂá∫ÊØè‰∏Ä‰∏™ÈïøÂ∫¶ÁöÑÊúÄ‰ºòËß£ÔºåÁÑ∂ÂêéËøîÂõûÊÉ≥Ë¶ÅÁöÑÈïøÂ∫¶ÁöÑÊúÄ‰ºòËß£„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456789101112131415161718192021222324252627282930public class BottomUpTopCutRod &#123;//a[i]Ë°®Á§∫ÈïøÂ∫¶‰∏∫iÁöÑÈí¢Êù°Âà©Ê∂¶ÊòØÂ§öÂ∞ëpublic int[] a = new int[]&#123;1,5,8,9,10,17,17,20,24,30&#125;;public int bottomUpTopCutRod(int[] a, int n)&#123;int[] r = new int[n+1];//ÈïøÂ∫¶‰∏∫0ÁöÑÊó∂ÂÄôÔºåÊî∂Áõä‰∏∫0r[0] = 0;int q = 0;for(int i = 0; i&lt;n; i++)&#123;for(int j = 0; j&lt;=i; j++)&#123;q = max(q,a[j]+r[i-j]);&#125;r[i+1] = q;&#125;return r[n];&#125;//Ê±ÇÊúÄÂ§ßÂÄºÂáΩÊï∞public int max(int a, int b)&#123;if(a&gt;b)&#123;return a;&#125; else &#123;return b;&#125;&#125;public static void main(String[] args) &#123;BottomUpTopCutRod cut = new BottomUpTopCutRod();int lost = cut.bottomUpTopCutRod(cut.a, 10);System.out.println(lost);&#125;&#125; ‰ºòÂäøÔºöÂÆûÁé∞‰∫ÜËøêË°åÊó∂Èó¥Â§çÊùÇÂ∫¶n*n Âä®ÊÄÅËßÑÂàíÂéüÁêÜÈÄÇÁî®Â∫îÁî®Âä®ÊÄÅËßÑÂàíÊñπÊ≥ïÊ±ÇËß£ÁöÑÊúÄ‰ºòÂåñÈóÆÈ¢òÂ∫îËØ•ÂÖ∑Â§áÁöÑ‰∏§‰∏™Ë¶ÅÁ¥†ÔºöÊúÄ‰ºòÂ≠êÁªìÊûÑÂíåÂ≠êÈóÆÈ¢òÈáçÂè† ÊúÄ‰ºòÂ≠êÁªìÊûÑÂ¶ÇÊûú‰∏Ä‰∏™ÈóÆÈ¢òÁöÑÊúÄ‰ºòËß£ÂåÖÂê´ÂÖ∂Â≠êÈóÆÈ¢òÁöÑÊúÄ‰ºòËß£ÔºåÊàë‰ª¨Â∞±Áß∞Ëøô‰∏™ÈóÆÈ¢òÂÖ∑ÊúâÊúÄ‰ºòÂ≠êÁªìÊûÑÊÄßË¥®„ÄÇ‰æãÂ¶ÇÔºöÊó†ÊùÉÊúÄÁü≠Ë∑ØÂæÑ„ÄÇ ÈáçÂè†Â≠êÈóÆÈ¢òÂ¶ÇÊûúÈÄíÂΩíÁÆóÊ≥ïÂèçÂ§çÊ±ÇËß£Áõ∏ÂêåÁöÑÂ≠êÈóÆÈ¢òÔºåÊàë‰ª¨Â∞±Áß∞ÊúÄ‰ºòÂåñÈóÆÈ¢òÂÖ∑ÊúâÈáçÂè†Â≠êÈóÆÈ¢òÊÄßË¥®„ÄÇ‰æãÂ¶ÇÈí¢Êù°ÂàáÂâ≤„ÄÇ ÊÄªÁªìÊÖ¢ÊÖ¢ÊáÇ‰∏ÄÁÇπÂ∞èÁÆóÊ≥ïÊÄùÊÉ≥„ÄÇ]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ÁÆóÊ≥ïÂØºËÆ∫</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËßÇ„ÄäÈ©¥ÂæóÊ∞¥„ÄãÂëªÂêü]]></title>
    <url>%2F2017%2F05%2F11%2F%E7%94%9F%E6%B4%BB%2F%E8%A7%82%E3%80%8A%E9%A9%B4%E5%BE%97%E6%B0%B4%E3%80%8B%E5%91%BB%E5%90%9F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂÖ∂ÂÆûÂΩìË∫´ËæπÂêåÂ≠¶ÈÉΩÂú®ÊâìÊ∏∏ÊàèÁöÑÊó∂ÂÄôÔºåÊàëÂç¥‰∏çËÉΩÈùô‰∏ãÂøÉÊù•‰∫ÜÔºåÂÜÖÂøÉ‰ªçÁÑ∂ÊòØÊµÆË∫ÅÔºåÊó¢ÁÑ∂‰∏çËÉΩÊîπËÆ∫ÊñáÔºåÊâÄ‰ª•Ëá™Â∑±Â∞±ÊâæÁîµÂΩ±ÁúãÂêß„ÄÇËá™ËÆ§‰∏∫Ëá™Â∑±ÊòØ‰∏Ä‰∏™‰∏çÊáÇÂæó‰∫´ÂèóÁöÑ‰∫∫ÔºåÊâÄ‰ª•Âú®Â§ßËÑëÊÄùÁ¥¢ËâØ‰πÖ‰πãÂêéÔºåÂÜ≥ÂÆöËßÇÁúãÂ•Ω‰πÖ‰πãÂâçËØÑ‰ª∑Ëøò‰∏çÈîôÁöÑÁîµÂΩ±„ÄäÈ©¥ÂæóÊ∞¥„Äã„ÄÇ ÊÄªËØ¥Êàë‰∏çÁü•ÈÅìËØ•‰ª•‰ªÄ‰πàËßíÂ∫¶Êù•ËØÑ‰ª∑ËøôÈÉ®ÁîµÂΩ±Ôºå‰ΩÜËøôÈÉ®ÁîµÂΩ±ÁªôÊàëÊÑüÂèóÊòØÊ∑±ÂàªÔºåËá≥Â∞ëÂú®ÁÅµÈ≠Ç‰∏äËøòÊòØÊúâ‰∏ÄÂÆöÁöÑÂÜ≤ÂáªÔºåÊÑüËßâ‰ΩúËÄÖ‰∏éÂØºÊºîÊääÊØè‰∏™ËßíËâ≤ÊÉ≥Ë¶ÅË°®ËææÁöÑÊÄùÊÉ≥Âü∫Êú¨‰∏äÈÉΩË°®ËææÂá∫Êù•‰∫ÜÔºå‰∏ãÈù¢Êàë‰πüÂ∞ÜÊåâËøô‰∫õËßíËâ≤ÊääÂú®ÊàëË∫´‰∏äËÉΩÂ§ü‰Ωì‰ºöÂà∞ÁöÑÊÄùÊÉ≥ËØ¥‰∏Ä‰∏ãÔºåËá≥Â∞ëÂú®ÊàëÂøÉÈáåÔºåËøôÊòØ‰∏ÄÈÉ®Â•ΩÁîµÂΩ±„ÄÇ ËßíËâ≤ÊÄùÊÉ≥Ê†°ÈïøËøô‰∏™‰∏Ä‰∏™ÊúâÊä±Ë¥üÁöÑÊ†°ÈïøÔºå‰ΩÜÊòØÂç¥ÂèàÁâπÂà´ÁöÑËá™ÁßÅÔºå‰∏∫‰∫ÜËææÊàêËá™Â∑±ÁöÑÊä±Ë¥üÔºå‰ªñÈÄâÊã©‰∫ÜÂ±àÊúçÔºåËôΩÁÑ∂Âú®Êüê‰∫õÁâáÊÆµÊù•ËØ¥Ôºå‰ªñÊúâ‰∏ÄÁÇπÊÉ≥ÂèçÊäóÔºåÂ¶Ç‰ªñ‰∏çËÉΩÂøçÂèóË£¥È≠ÅÂ±±ÂéªÈ™ÇÂº†‰∏ÄÊõºÔºå‰ΩÜÊòØÈÇ£‰∏ÄÁÇπÂèçÊäóÂç¥ÊòØÈÇ£‰πàÊó†ÂäõÔºåÂà∞ÊúÄÂêé‰ªñÈÄâÊã©‰∫ÜÂ±àÊúçÔºåÂ±àÊúçÂà∞‰∫ÜËÆ©Ëá™Â∑±ÁöÑÂ•≥ÂÑøÂéªÂÅöÁâ∫Áâ≤„ÄÇÂÖ≥‰∫éËøô‰∏™ËßíËâ≤Êàë‰∏çÊÉ≥ÂÅöÂ§™Â§öËØÑ‰ª∑Ôºå‰ªñÊÄªËØ¥‰ª•Â§ßÂ±Ä‰∏∫ÈáçÔºåÊàñËÆ∏Âú®ÁîüÊ¥ª‰∏≠ÂæàÂ§ö‰∫∫ÈÉΩ‰ºöËøô‰πàÂÅöÔºåËá™ÁßÅÂà∞ÂèØ‰ª•Áâ∫Áâ≤ÊéâÂæàÂ§ö„ÄÇ Ë£¥È≠ÅÂ±±Ëøô‰∏™ËßíËâ≤Â∫îËØ•Â∞±ÊòØÁé∞Âú®ÂæàÂ§ö‰∫∫ÊâÄËØ¥ÁöÑËÖπÈªëÂêßÔºåËá™Â∑±Âæó‰∏çÂà∞ÔºåÂ∞±ÂÆÅÊÑøÊää‰ªñÊØÅÊéâÔºå‰ªñ‰ªé‰∏ç‰ªãÊÑèÂº†‰∏ÄÊõºÁöÑÂá∫Ë∫´ÊÑøÊÑèÂ®∂Â•πÔºåÂà∞ÊåáÁùÄ‰ªñÁöÑÈºªÂ≠êÈ™ÇÔºåËøô‰∏™ËΩ¨ÂèòËÆ©ÂæàÂ§ö‰∫∫ÂøÉÂáâÔºåËøΩ‰∏çÂà∞ËøòËÉΩÂÅöÊúãÂèã‰πàÔºå‰ªñÁöÑÂõûÁ≠îÂëäËØâÊàë‰ª¨Ôºå‰ªñ‰∏çÊêûÂ•πÂ∑≤ÁªèÊòØÊúÄÂ•ΩÁöÑÁªìÊûú‰∫Ü„ÄÇÁà±‰∏Ä‰∏™ÂèØ‰ª•ÈöèÊó∂‰∏∫Â•πÁùÄÊÉ≥ÔºåÊÅ®‰∏Ä‰∏™‰∫∫Â∏åÊúõÊâÄÊúâ‰∫∫ÈÉΩÊÅ®‰ªñ„ÄÇ ÈìúÂå†‰πüËÆ∏‰ªñÂêéÈù¢ÂèòÂæóÂæàÂùèÔºå‰ΩÜÊòØÊàë‰ªéÂ§¥Âà∞Â∞æÈÉΩËÆ§‰∏∫‰ªñÊòØËøôÈÉ®ÂâßÊúÄÂèØÊÄúÁöÑ‰∫∫Ôºå‰ªñÂéüÊù•ÊòØ‰∏Ä‰∏™ÂçïÁ∫ØËá≥ÊûÅÁöÑ‰∫∫ÔºåÂëΩËøê‰ΩøÁÑ∂‰ªñÂä†ÂÖ•Âà∞‰∫Ü‰∏Ä‰∏™È™óÂ≠êÈõÜÂõ¢ÂêßÔºåÂõ†‰∏∫ÂçïÁ∫ØÊâç‰ºöËÆ§‰∏∫Âº†‰∏ÄÊõº‰ºöÂñúÊ¨¢‰ªñÂêßÔºåÂõ†‰∏∫ÂçïÁ∫ØÊâÄ‰ª•ÊúüÊúõÂ§™È´òÔºåËøôÂØºËá¥Âú®Âº†‰∏ÄÊõºÈ™Ç‰ªñÁâ≤Âè£‰πãÂêéÂºÄÂßãÊúÄÂº∫ÁÉàÁöÑÊä±Ë¥ü„ÄÇ‰ΩÜÊòØÊúâ‰∏ÄÁÇπ‰ªñËøô‰∏™ËßâÂæó‰º†ÈÄí‰∫Ü‰∏çÂ•ΩÁöÑÊ¶ÇÂøµÔºåÊúâÁü•ËØÜ‰∏çÊòØ‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÊä±Ë¥üÔºåËÄåÊòØÂ∫îËØ•‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÂ∏ÆÂä©Âà´‰∫∫ÔºåËôΩÁÑ∂‰ªñÁöÑË°å‰∏∫ÂèØ‰ª•ÁêÜËß£Ôºå‰ΩÜÊòØÂç¥‰∏çÊèêÂÄ°Ôºå‰ªé‰ªñÂà∞ÊúÄÂêéËøòÊòØÊÉ≥ÂéªÁæéÂõΩÂ≠¶‰π†ÔºåÂèØ‰ª•ÁúãÂá∫‰ªñËøòÊòØÂæàÊÉ≥Â≠¶‰π†ÁöÑÔºåÊÉ≥ËÑ±Á¶ªÊñáÁõ≤Ëøô‰∏™Ë°åÂàó„ÄÇ Âº†‰∏ÄÊõºËøôÊòØ‰∏Ä‰∏™‰∏çÁïè‰∏ñ‰øóÁöÑÁúºÂÖâÔºåÂãáÊï¢ËøΩÊ±ÇËá™Áî±ÁöÑÂ•≥Â≠êÔºå‰πü‰∏çËÉΩËØ¥ÊòØÈÅìÂæ∑Ë¥•ÂùèÂêßÔºåËôΩÁÑ∂ÂíåÊúâÂ¶á‰πãÂ§´Êêû‰∏ÄËµ∑‰∏çÂ§™Â•ΩÔºå‰ΩÜÊòØ‰ªñËá™Â∑±‰πüÊúâËá™Â∑±ÁöÑÂéüÂàôÔºåÂ∞±ÂÉè‰ªñ‰∏ÄÂºÄÂßã‰∏çÊÑøÊÑèÂ∞ÜÂ•πÂíåÈìúÂå†ÁöÑ‰∫ãÊÉÖËØ¥Âá∫Êù•‰∏ÄÊ†∑Ôºå‰ªñÊúâËá™Â∑±‰∏ÄÂÆöÁöÑÂéüÂàô„ÄÇ‰ΩÜÊòØÂú®Ê†°ÈïøÁöÑÂ±àÊúç‰∏ãÔºå‰πüÈÄ†Â∞±‰∫Ü‰ªñÁöÑÊÇ≤ÂâßÔºåÊúÄÂêéÂºÄÊû™Ëá™ÊùÄ‰∫Ü„ÄÇ Âë®ÈìÅÁî∑Ëøô‰∏™ËßíËâ≤‰πüÊòØÂèçÊò†‰∫Ü‰∏ÄÈÉ®ÂàÜ‰∫∫Ôºå‰ªñÂñúÊ¨¢Â≠ô‰Ω≥Ôºå‰ΩÜÊòØ‰∏ÄÁõ¥Ê≤°ÊúâËØ¥Âá∫Êù•Ôºå‰πüÁÆóÂçïÁ∫ØËÄøÁõ¥ÁöÑ‰∫∫ÔºåÂπ≥Êó∂ËÑæÊ∞îÊå∫ÂÜ≤ÔºåÂú®Âà´‰∫∫Ë¶ÅÂä®Â≠ô‰Ω≥ÁöÑÊó∂ÂÄô‰πüÁ´ãÈ©¨Á´ô‰∫ÜÂá∫Êù•ÔºåÂèØÊÉúÂú®Êì¶ËøáÊû™Â≠êÁöÑ‰πãÂêéÔºå‰ªñÈÄâÊã©‰∫ÜÂ±àÊúçÔºå‰ªñÊÖ¢ÊÖ¢ÂºÄÂßãÊî∂ÊïõËá™Â∑±ÔºåÂè™ÊòØ‰∏∫‰∫ÜËÉΩÂ§üÊ¥ª‰∏ãÂéªÔºå‰ªñÁîöËá≥ÂèØ‰ª•ËÆ§ÂøçÂèóÂ≠ô‰Ω≥ÂéªÂ´ÅÁªôÈìúÂå†ÔºåÊâÄ‰ª•ËØ¥ÔºåÊâÄË∞ìÁöÑÁà±Âú®Áé∞ÂÆûÁöÑÁîü‰∏éÊ≠ª‰πãÈó¥ÊòØÈÇ£‰πàÁöÑ‰∏çÂ†™„ÄÇ Â≠ô‰Ω≥Ëøô‰∏™‰∫∫ÊàñËÆ∏ÊòØËøôÈÉ®Ââß‰∏≠ÂÆåÂÖ®Ê≤°ÊúâÊ±°ÁÇπÁöÑ‰∫∫ÂêßÔºåÂ∫îËØ•‰πüÊòØÂØºÊºîÊÉ≥Ë°®ËææÁöÑÊ≠£Èù¢ÂΩ¢Ë±°Ôºå‰ªñÊòØÂîØ‰∏Ä‰∏Ä‰∏™ÊääÈ©¥ÂæóÊ∞¥ÂΩìÂÅö‰∫∫ÁúãÁöÑ‰∫∫Ôºå‰πüÊòØÁ¨¨‰∏Ä‰∏™ÊÉ≥Êè≠ÂèëÊï¥‰∏™Èò¥Ë∞ãÁöÑ‰∫∫ÔºåÈù¢ÂØπËøô‰∏ÄÂàáÔºåÂ•πËØ¥ËøáÂéªÁöÑÈÉΩËÆ©‰ªñËøáÂéªÁöÑËØùÔºåÈÇ£‰πàÂè™ËÉΩË∂äÊù•Ë∂äÈîôÔºå‰∏çËÉΩËÆ©ÈîôËØØ‰∏ÄÁõ¥Âª∂Áª≠‰∏ãÂéª„ÄÇËé´ÂêçÊà≥‰∏≠ÂÜÖÂøÉ„ÄÇ ÁâπÊ¥æÂëò‰∏Ä‰∏™ÁõÆ‰∏çËØÜ‰∏ÅÔºåÂç¥ÂÅáË£ÖËã±ÂõΩÁïôÂ≠¶ÂõûÊù•ÁöÑÂÆòÂëòÔºåÊâÄË∞ìÁöÑÊ∞ëÈó¥ÊïôËÇ≤ÂÆ∂ÁöÑËØÑÈÄâÔºå‰∏çËøáÊòØÊïôËÇ≤ÈÉ®ÊïõË¥¢ÁöÑÂêçÂ§¥Ôºå‰ªéË¢´È™óÂà∞‰∏ÄËµ∑È™óËØ¥ÊòéÊîøÂ∫úÁöÑËÖêË¥•‰∏éÂº∫ÂäøÔºå‰ªéÂçÅ‰∏áÂà∞‰∏â‰∏áÔºåÊàë‰ª¨ÁúãÂà∞‰∫ÜÂøÉÂáâ„ÄÇ ÊÄªÁªì‰∏ªË¶Å‰∫∫Áâ©ÂêÑÊúâÂêÑÁöÑË¥£‰ªªÔºå‰ªñ‰ª¨ÈÉΩÂèçÂ∫î‰∫ÜËøô‰∏™‰∏ñÁïå‰∏äÁöÑ‰∏ÄÈÉ®ÂàÜ‰∫∫ÔºåÊâÄ‰ª•ÊÑüÂèóÂæàÊ∑±ÔºåÁÇπËØÑ‰∏çÂΩì‰πãÂ§ÑÔºå‰πüÂ∏åÊúõÂ§ßÂÆ∂ÊãÖÂæÖ„ÄÇÂ•ΩÂêßÔºåÂëªÂêüÂà∞Ê≠§ÁªìÊùü„ÄÇ]]></content>
      <categories>
        <category>ÁîüÊ¥ª</category>
      </categories>
      <tags>
        <tag>ÁîµÂΩ±</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÈÄâÊã©ÁÆóÊ≥ï]]></title>
    <url>%2F2017%2F05%2F10%2F%E7%AE%97%E6%B3%95%2F%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ÂºïÔºö300000ÊòØ‰∏çÊòØ‰∏Ä‰∏™Â∞èÁõÆÊ†áÔºå‰∏çÁü•ÈÅì‰∏∫‰∫ÜÁõÆÁöÑËøòÊòØÁõÆÁöÑÔºåÂè™ÊÉ≥Â•ΩÂ•ΩÂä™ÂäõÔºåÂäüÂà©‰πüÂ•ΩÔºåÂÆâÊÖ∞‰πüÁΩ¢ÔºÅ ÊúüÊúõ‰∏∫Á∫øÊÄßÊó∂Èó¥ÁöÑÈÄâÊã©ÁÆóÊ≥ïÁÆóÊ≥ïÊÄùÊÉ≥Ôºö Ê£ÄÊü•Êï∞ÁªÑÊòØÂê¶Âè™Êúâ‰∏Ä‰∏™Êï∞ÔºåÂ¶ÇÊòØÔºåÂè™Â•ΩËøîÂõûËØ•Êï∞ ÈááÁî®ÈöèÊú∫ÂàÜÂâ≤Â∞ÜÊï∞ÁªÑÊ∞õÂõ¥a[p..q-1]Âíåa[q+1..r]Âπ∂ËøîÂõû‰∏ªÂÖÉq Ê£ÄÊü•Â¶ÇÊûúËØ•‰∏ªÂÖÉÂ∞±ÊòØÊàë‰ª¨Ë¶ÅÊâæÁöÑÊï∞ÔºåÂ∞±ËøîÂõû Âà§Êñ≠ÂâçÂçäÈÉ®ÂàÜÁöÑ‰∏™Êï∞ÔºåÂ¶ÇÊûúË¶ÅÊâæÁöÑÈ°∫Â∫èÂ§ß‰∫éÂâçÈù¢ÁöÑ‰∏™Êï∞ÔºåÂ∞±ÈÄíÂΩíË∞ÉÁî®ÂêéÈù¢ÁöÑÊï∞ÁªÑÔºåÂê¶ÂàôÈÄíÂΩíË∞ÉÁî®ÂâçÈù¢ÁöÑÊï∞ÁªÑ ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import java.util.Random;public class Randomized_select &#123;public int randomized_select(int[] a,int p, int r,int i)&#123;//Â¶ÇÊûúÂàÜÂâ≤Âà∞Âè™Ââ©‰∏Ä‰∏™ÂÖÉÁ¥†‰∫ÜÔºåÈÇ£‰πàÂ∞±ÊòØËøô‰∏™‰∫Üif(p == r)&#123;return a[p];&#125;//ÈöèÊú∫ÂàÜÂâ≤int q = randompartition(a, p, r);//Á°ÆÂÆöqÊòØÁ¨¨Âá†Â∞èÁöÑÊï∞int k = q-p+1;if(k == i) &#123;return a[q];&#125;else if(k&lt;i)&#123;//ÈÄíÂΩíË∞ÉÁî®ÂêéÂçäÈÉ®ÂàÜÁöÑÊï∞return randomized_select(a, q+1, r, i-k);&#125; else &#123;//ÈÄíÂΩíË∞ÉÁî®ÂâçÂçäÈÉ®ÂàÜÁöÑÊï∞return randomized_select(a, p, q-1, i);&#125; &#125;//ÂàÜÂâ≤ÂáΩÊï∞public int partition(int[] a,int p,int r)&#123;int x = a[r];int i = -1;int temp = 0;for (int j = 0; j &lt; a.length-1; j++) &#123;if(a[j]&lt;x)&#123;i=i+1;temp = a[i];a[i] = a[j];a[j] = temp;&#125;&#125;temp = a[i+1];a[i+1] = x;a[r] = temp;return i+1;&#125;//ÈöèÊú∫ÂàÜÂâ≤ public int randompartition(int[] a,int p,int r)&#123;int temp = 0;Random random = new Random();int i = random.nextInt(r);temp = a[i];a[i] = a[r];a[r] = temp;return partition(a, p, r);&#125;public static void main(String[] args) &#123;int[] a = new int[]&#123;3,2,9,0,7,5,4,8,6,1&#125;;Randomized_select select = new Randomized_select();int num = select.randomized_select(a, 0, a.length-1, 10);System.out.println(num);&#125;&#125; ÁÆóÊ≥ïÂàÜÊûêÔºöÊúüÊúõÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØÁ∫øÊÄßÁöÑO(n),‰ΩÜÊòØÊúÄÂùèÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(n*n) ÊúÄÂùèÊÉÖÂÜµ‰∏∫Á∫øÊÄßÊó∂Èó¥ÁöÑÈÄâÊã©ÁÆóÊ≥ïÁÆóÊ≥ïÊÄùÊÉ≥Ôºö Â∞ÜËæìÂÖ•Êï∞ÁªÑÁöÑn‰∏™ÂÖÉÁ¥†ÂàíÂàÜ‰∏∫n/5ÁªÑÔºåÊØèÁªÑ5‰∏™ÂÖÉÁ¥†Ôºå‰∏îËá≥Â§öÂè™Êúâ‰∏ÄÁªÑÁî±Ââ©‰∏ãÁöÑnmod5‰∏™ÂÖÉÁ¥†ÁªÑÊàê„ÄÇ ÂØªÊâæÊØè‰∏Ä‰∏™ÁªÑÁöÑ‰∏≠‰ΩçÊï∞ÔºöÈ¶ñÂÖàÂØπÊØèÁªÑÂÖÉÁ¥†ËøõË°åÊèíÂÖ•ÊéíÂ∫èÔºåÁÑ∂ÂêéÁ°ÆÂÆöÊØèÁªÑÁöÑ‰∏≠‰ΩçÊï∞„ÄÇ ÂØπÁ¨¨2ÈÉ®ÁöÑ‰∏≠‰ΩçÊï∞Êï∞ÁªÑÂà©Áî®ÈÄíÂΩíË∞ÉÁî®ÂâçÈù¢ÁöÑrandom_select()Ê±ÇÂèñ‰∏≠‰ΩçÊï∞x Âà©Áî®‰øÆÊîπÁöÑpartition(),Êåâ‰∏≠‰ΩçÊï∞xËøõË°åÂàíÂàÜÔºåÂæóÂà∞ÊØîxÂ∞èÁöÑÊï∞Êúâk‰∏™ Â¶ÇÊûúi=kÂàôËøîÂõûx„ÄÇÂ¶ÇÊûúikÔºåÂàôÂú®È´òÂå∫ÈÄíÂΩíÊü•ÊâæÁ¨¨i-kÂ∞èÁöÑÂÖÉÁ¥† ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108package select;public class GoodSelect &#123;//ÊèíÂÖ•ÊéíÂ∫èpublic void insertsort(int[] a,int p, int r)&#123;for (int i=p+1;i&lt;=r;i++) &#123;int temp = 0;//*‰ªéÂêéÂæÄÂâçÊèí*for(int j = i;j&gt;p &amp;&amp; a[j]&lt;a[j-1];j--)&#123;temp = a[j];a[j] = a[j-1];a[j-1] = temp;&#125;&#125;&#125;//ÂØπÊï∞ÁªÑA[]ÂàÜÁªÑÔºåÊØèÁªÑ5‰∏™ÂÖÉÁ¥†ÔºåÂàÜÂà´ËøõË°åÊèíÂÖ•ÊéíÂ∫è,ËøîÂõû‰∏≠‰ΩçÊï∞Êï∞ÁªÑpublic int[] partInsertSort(int[] a,int p,int r) &#123;int i = 0;int[] b;if((r-p+1)%5==0)&#123;b = new int[(r-p+1)/5];&#125; else &#123;b = new int[(r-p+1)/5+1];&#125;int Length = r-p+1;if (Length &lt;= 5) //ÂÖÉÁ¥†‰∏™Êï∞Â∞ë‰∫é5‰∏™&#123; insertsort(a,p,r);b[0]=a[p+(Length-1)/2];&#125;else&#123;for (i=0;i&lt;Length/5;i++)&#123;insertsort(a,p+i*5,p+i*5+4);b[i]=a[i*5+2]; //B[i] Â≠òÂÇ®ÂêÑÁªÑ‰∏≠‰ΩçÊï∞&#125;if ( Length%5 != 0 )&#123;insertsort(a,Length-1-(Length-1)%5,Length-1);b[i]=a[Length-1-Length%5/2]; //B[i] Â≠òÂÇ®ÊúÄÂêé‰∏ÄÁªÑ‰∏≠‰ΩçÊï∞&#125;&#125;return b; // ËøîÂõûÂàÜÁªÑÁöÑ‰∏™Êï∞&#125;//Ë∞ÉÁî®random_selectÁÆóÊ≥ïÔºåÈÄâÂá∫‰∏≠‰ΩçÊï∞Êï∞ÁªÑÁöÑ‰∏≠‰ΩçÊï∞public int selectmid(int[] a)&#123;Randomized_select randomized_select = new Randomized_select();int num = randomized_select.randomized_select(a, 0, a.length-1, (a.length+1)/2);return num; &#125;//ÂÆâË£ÖÁ≤æÂøÉÊåëÈÄâÁöÑ‰∏≠‰ΩçÊï∞Êù•ÂàÜÂâ≤Êï∞ÁªÑpublic int partition(int[] a,int p,int r,int x)&#123;int j = p-1;int i = 0;int temp =0;int addr = 0;//ËÆ∞ÂΩïÊúÄ‰Ω≥‰∏≠‰ΩçÊï∞ÁöÑ‰ΩçÁΩÆfor(i = p; i&lt;r+1; i++)&#123;if(a[i]&lt;=x)&#123;j+=1;temp = a[j];a[j] = a[i];a[i] = temp; &#125;if(a[i] == x)&#123;addr = i;&#125; &#125;temp = a[j];a[j] = a[addr];a[addr] = temp;return j;&#125;public int goodselect(int[] a,int p,int r,int i)&#123;//Â¶ÇÊûúÂàÜÂâ≤Âà∞Âè™Ââ©‰∏Ä‰∏™ÂÖÉÁ¥†‰∫ÜÔºåÈÇ£‰πàÂ∞±ÊòØËøô‰∏™‰∫Üif(p == r)&#123;return a[p];&#125;int [] b = partInsertSort(a, p, r);int x = selectmid(b);int q = partition(a, p, r, x);//Á°ÆÂÆöqÊòØÁ¨¨Âá†Â∞èÁöÑÊï∞int k = q-p+1;if(k == i) &#123;return a[q];&#125;else if(k&lt;i)&#123;//ÈÄíÂΩíË∞ÉÁî®ÂêéÂçäÈÉ®ÂàÜÁöÑÊï∞return goodselect(a, q+1, r, i-k);&#125; else &#123;//ÈÄíÂΩíË∞ÉÁî®ÂâçÂçäÈÉ®ÂàÜÁöÑÊï∞return goodselect(a, p, q-1, i);&#125;&#125;public static void main(String[] args) &#123;int[] a = new int[]&#123;2,1,4,6,5,8,9,7,11,13,12,15,16&#125;;GoodSelect select = new GoodSelect();int num = select.goodselect(a, 0, a.length-1, 13);System.out.println(num);&#125;&#125; ÁÆóÊ≥ïÊÄªÁªìÔºöÊØïÁ´üÊòØ‰∏â‰∏™‰∫∫ÂèëÊòéÁöÑÁÆóÊ≥ïÔºåÁúüÊòØÂ•ΩÁâõÈÄºÁöÑÔºåÂéâÂÆ≥ÔºåÂÆûÁé∞‰∫ÜÊúÄÂùèÊó∂Èó¥ËøòÊòØÁ∫øÊÄßÁöÑ„ÄÇÂÖ∑‰ΩìÂàÜÊûêËØ∑ÂèÇËÄÉÁÆóÊ≥ïÂØºËÆ∫Âéü‰π¶„ÄÇ ÊÄªÁªìÁ¨¨‰∫å‰∏™ÁÆóÊ≥ïÁúüÁöÑËä±‰∫ÜËá™Â∑±Â•ΩÈïøÁöÑÊó∂Èó¥Êù•Ë∞ÉËØïÔºåËøòÊòØËØ¥ÊòéËá™Â∑±ÁöÑÁºñÁ†ÅËÉΩÂäõÂ∑ÆÂä≤ÔºåË¶ÅÂ•ΩÂ•ΩÂä™ÂäõÔºåÊÖ¢ÊÖ¢ÊèêÈ´òÔºåÂä†Ê≤πÔºÅ psÔºöÊúâ‰∏ÄÁßç‰Ωì‰ºöÔºåÂ≠¶ÁÆóÊ≥ïÊòØ‰∏∫‰∫ÜÂàõÈÄ†ÔºåÂ§ßÂ§öÊï∞‰∫∫Âè™Ë¶ÅÊää‰ºòÁßÄÁöÑÊ∫êÁ†ÅÂåÖÈáåÁöÑÁÆóÊ≥ïÁêÜËß£‰∫ÜÂ∞±Â•ΩÔºåÂπ∂Âä†‰ª•‰ΩøÁî®Â∞±Â•ΩÔºÅ]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ïÂØºËÆ∫</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‚ÄúÁ∫øÊÄßÊó∂Èó¥ÊéíÂ∫èÔºàÊú™ÂÆåÔºåÂæÖÁª≠Ôºâ‚Äù]]></title>
    <url>%2F2017%2F05%2F10%2F%E7%AE%97%E6%B3%95%2F%E2%80%9C%E7%BA%BF%E6%80%A7%E6%97%B6%E9%97%B4%E6%8E%92%E5%BA%8F%EF%BC%88%E6%9C%AA%E5%AE%8C%EF%BC%8C%E5%BE%85%E7%BB%AD%EF%BC%89%E2%80%9D%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊéíÂ∫èÊÖ¢ÊÖ¢Êù•Ôºå‰ªäÂ§©Ë¶ÅÊé•Ëß¶Âà∞Á∫øÊÄßÊó∂Èó¥ÊéíÂ∫è‰∫ÜÔºöËÆ°Êï∞ÊéíÂ∫èÔºåÂü∫Êï∞ÊéíÂ∫èÔºåÊ°∂ÊéíÂ∫è„ÄÇ ËÆ°Êï∞ÊéíÂ∫èÂâçÊèêÊù°‰ª∂ÔºöÁü•ÈÅìËæìÂÖ•Êï∞ÁªÑÁöÑÊúÄÂ§ßÂÄº„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122public int[] countingsort(int[] a,int k)&#123;//ÂàùÂßãÂåñ‰∏¥Êó∂Êï∞ÁªÑ,k‰∏∫Êï∞ÁªÑÁöÑÊúÄÂ§ßÂÄºint[] c = new int[k+1];for(int i=0; i&lt;=k; i++) &#123;c[i]=0;&#125;//Ëé∑ÂæóÁ≠â‰∫éiÁöÑÂÖÉÁ¥†‰∏™Êï∞for(int i= 0; i&lt;a.length-1;i++) &#123;c[a[i]] = c[a[i]]+1;&#125;//Ëé∑ÂæóÂ∞è‰∫éÁ≠â‰∫éiÁöÑÂÖÉÁ¥†‰∏™Êï∞(ÈöêÂê´‰∫ÜÈÄíÂΩíË∞ÉÁî®)for(int i = 1; i&lt;=k; i++) &#123;c[i] = c[i] +c[i-1];&#125;//ÊåâÈ°∫Â∫èÂàÜÂà∞ËæìÂá∫Êï∞ÁªÑint[] b = new int[a.length];for(int i = a.length-1; i&gt;=0; i--) &#123;b[c[a[i]]] = a[i];c[a[i]] = c[a[i]]-1;&#125;return b;&#125; ‰ºòÂä£ÔºöÂÆûÁé∞‰∫ÜÁ∫øÊÄßÊó∂Èó¥Ôºå‰ΩÜÊòØÁ©∫Èó¥ÊçüÂ§±ÊÉ®ÈáçÔºåÂÉèÊòØÂè´‰Ω†ÊéíÂ∫èËøô‰∏â‰∏™Êï∞Ôºö1Ôºå3Ôºå1000000000000ÔºåÈ©¨‰∏äÈ´ò‰ΩéÁ´ãËßÅ„ÄÇ Âü∫Êï∞ÊéíÂ∫èIBMÂàõÂßã‰∫∫ÂèëÊòéÔºåÂà©Áî®ËøõÂà∂Êï∞ÁöÑ‰ΩçËøõË°å‰ªé‰ΩéÂà∞È´òÊØîËæÉ„ÄÇÂÖ∂‰∏≠‰ºöÂ∞ÜÂéüÊù•ÁöÑÊï∞ËΩ¨Âåñ‰∏∫rËøõÂà∂Êï∞Ôºå‰ΩøÊó∂Èó¥Â§çÊùÇÂ∫¶Âèò‰∏∫Á∫øÊÄß„ÄÇÂÜô‰∏Ä‰∏ã‰º™‰ª£Á†Å123redix-sort(A,d)for i = 1 to duse a stable sort to sort array A on digit i Ê°∂ÊéíÂ∫èÊ°∂ÊéíÂ∫èÂÅáËÆæÊï∞ÊçÆÊúç‰ªéÂùáÂåÄÂàÜÂ∏ÉÔºåËÆ≤‰∏Ä‰∏™Âå∫Èó¥ÂàÜÊàêËã•Âπ≤‰∏™Ê°∂ÔºåÂÖàÂ∞ÜÊï∞ÊçÆÊîæÂà∞Ê°∂‰∏≠ÂàÜÂºÄÊéíÂ∫èÂÜçÂêàÂπ∂„ÄÇ‰º™‰ª£Á†ÅÂ¶Ç‰∏ã12345678910bucket-sort(A)n = A.lengthlet B[0.. n-1] be a new arrayfor i = 0 to n - 1make B[i] an empty listfor i = 1 to ninsert A[i] into list B[nA[i]]for i = 0 to n - 1sort list B[i] with insertion sortconcatenete the lists B[0],B[1].. B[n-1] together in order ÂÆÉÁöÑÊúüÊúõÊó∂Èó¥‰∏∫Á∫øÂΩ¢„ÄÇ ÊÄªÁªìÂÖ∂‰∏≠ÂØπ‰∫éÂü∫Êï∞ÊéíÂ∫èÂíåÊ°∂ÊéíÂ∫èÁêÜËß£Âæó‰∏çÊòØÂæàÂ•ΩÔºåÈúÄË¶ÅÂä†Ê∑±ÁêÜËß£ÔºåÂÜôÂá∫ÂÖ∑‰ΩìÂÆûÁé∞‰ª£Á†ÅÔºåÊú™ÂÆåÔºåÂæÖÁª≠‚Ä¶]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ïÂØºËÆ∫</tag>
        <tag>Á∫øÊÄßÊó∂Èó¥ÊéíÂ∫è</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â†ÜÊéíÂ∫è]]></title>
    <url>%2F2017%2F05%2F10%2F%E7%AE%97%E6%B3%95%2F%E5%A0%86%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁúüÁöÑÊòØÁÉ¶ÔºåËøû‰∏™hadoopÈõÜÁæ§ÁéØÂ¢ÉÈÉΩÊê≠‰∏çÂ•ΩÔºåÂèëÁé∞‰∏Ä‰∏™‰∫∫Â≠¶ËøòÊòØÂæàÂõ∞ÈöæÁöÑÔºåÊÉ≥ÊÉ≥ËøòÊòØ‰∏Ä‰∏™‰∫∫ÁúãÁÆóÊ≥ï‰ºöÁÆÄÂçï‰∫õÔºåÊâÄ‰ª•Êù•ÁúãÁúã‰∫ÜÔºå‰ªäÂ§©ÁúãÂ†ÜÊéíÂ∫èÔºÅ Â†ÜÊéíÂ∫èÁÆÄÂçï‰ªãÁªçÂ†ÜÊéíÂ∫èÊòØÂéüÂùÄËøêÁÆóÔºåÂêéÊù•Áî±‰∫éJavaÁöÑÂéüÂõ†ÊàëÁî®‰∫ÜÂèòÂùÄÔºå‰ΩÜÊòØÁÆóÊ≥ïÁöÑÊÄùÊÉ≥ËøòÊòØÊ≤°ÊúâÂèòÂæóÁöÑ.Â†ÜÂàÜ‰∏∫Â§ßÈ°∂Â†ÜÔºåÂ∞èÈ°∂Â†ÜÔºåÊàë‰ª¨‰∏ãÈù¢‰ª•Â§ßÈ°∂Â†Ü‰∏∫‰æã„ÄÇ Áª¥Êä§Â†ÜÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™ÂáΩÊï∞Âú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÂ≠êËäÇÁÇπË¶ÅÊØîÊ†πËäÇÁÇπÂ∞è„ÄÇÂáΩÊï∞Â¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546//ÂèñÁà∂ËäÇÁÇπpublic int parent(int i)&#123; return (int)Math.ceil(i/2)-1;&#125;//ÂèñÂ∑¶Â≠êÊ†ëpublic int left(int i)&#123; if(i == 0)&#123; return i+1; &#125; else&#123; return 2*i+1; &#125;&#125;//ÂèñÂè≥Â≠êÊ†ëpublic int right(int i)&#123; if(i == 0)&#123; return i+2; &#125; else&#123; return 2*i+2; &#125;&#125;//Áª¥Êä§Â§ßÈ°∂Â†Üpublic int[] max_heapify(int[] a,int i)&#123; int l = left(i); int r = right(i); int largest = 0; int temp = 0; if(l&gt;=a.length &amp;&amp; r&gt;=a.length)&#123; return a; &#125; if(l&lt;a.length &amp;&amp; a[l]&gt;a[i])&#123; largest = l; &#125; else&#123; largest = i; &#125; if(r&lt;a.length &amp;&amp; a[r]&gt;a[largest])&#123; largest = r; &#125; if(largest!=i) &#123; temp = a[i]; a[i] = a[largest]; a[largest] = temp; max_heapify(a, largest); &#125; return a; &#125; Âª∫Â†ÜÂú®ÂØπÊï∞ÁªÑÈÅçÂéÜÂª∫Á´ã‰∫åÂèâÊ†ëÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂÆπÊòìÂæóÂá∫Math.floor(n/2)Âà∞nÈÉΩÊòØÂè∂ËäÇÁÇπÔºåÂÖ∂‰ΩôÊòØÊ†πËäÇÁÇπÔºåÊâÄ‰ª•Êàë‰ª¨Âú®Âª∫Â†ÜÂæóÊó∂ÂÄôÂÜ≤Ê†πËäÇÁÇπ‰∏çÊñ≠ÂæÄÂâçÁª¥Êä§Â∞±Â•Ω„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678//Âª∫Â§ßÂ†Üpublic int[] bulid_max_heap(int[] a)&#123; heap_size = a.length; for(int i = (int)Math.floor(a.length/2)-1; i&gt;=0; i--)&#123; max_heapify(a, i); &#125; return a;&#125; Â†ÜÊéíÂ∫èÁÆóÊ≥ïÊÄùÊÉ≥ÔºöÂÖàÂèñÂá∫È°∂ÔºåÂÜçÁª¥Êä§ÔºåÂÜçÂèñÈ°∂ÔºåÂÜçÁª¥Êä§ÔºåÁü•ÈÅìÊúÄÂêé‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213//Â†ÜÊéíÂ∫èÁÆóÊ≥ïpublic int[] heapsort(int[] a) &#123; int[] b = new int[a.length];//Êó†Â•à‰πã‰∏æÔºåjavaÊ≤°ÊúâsizeËøô‰∏™Â±ûÊÄßÔºåÊàñËÄÖÁî®list‰πüÂèØ‰ª• bulid_max_heap(a); for(int i = a.length-1; i&gt;=1; i--)&#123; b[i] = a[0]; a[0] = a[i]; a[i] = 0;//‰ΩøÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†‰∏çÂèÇ‰∏éÊéíÂ∫è max_heapify(a, 0); &#125; b[0] = a[0]; return b;&#125; ÁÆóÊ≥ïÊó∂Èó¥Â§çÊùÇÂ∫¶Ôºönlgn ÈáçË¶ÅÂ∫îÁî®‚Äî‚Äî‰ºòÂÖàÈòüÂàó‰ºòÂÖàÈòüÂàóÂ∫îÁî®‰∫éÂÖ±‰∫´ËÆ°ÁÆóÊú∫ÁöÑÁ≥ªÁªüÁöÑ‰Ωú‰∏öË∞ÉÂ∫¶ÔºåÊúÄÂ§ß‰ºòÂÖàÈòüÂàóËÆ∞ÂΩïÂ∞ÜË¶ÅÊâßË°åÁöÑÂêÑ‰∏™‰Ωú‰∏ö‰ª•ÂèäÂÆÉ‰ª¨‰πãÈó¥ÁöÑÁõ∏ÂØπ‰ºòÂÖàÁ∫ßÔºåÂú®‰ªª‰ΩïÊó∂ÂÄôÈÉΩÂèØ‰ª•Ë∞ÉÁî®insertÊää‰∏Ä‰∏™Êñ∞‰Ωú‰∏öÂä†ÂÖ•Âà∞ÈòüÂàó‰∏≠Êù•„ÄÇËÆ≤‰∏Ä‰∏ãÊúÄÂ§ß‰ºòÂÖàÂ∫èÂàóÁöÑÂá†‰∏™Êìç‰Ωú„ÄÇ maximumËé∑ÂèñÊúÄÂ§ßÂÄº‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234 //Ëé∑ÂèñÊúÄÂ§ßÂÄºpublic int maximum(int[] a)&#123; return a[1];&#125; ÂéªÊéâÂπ∂ËøîÂõûÊï∞ÁªÑ‰∏≠ÁöÑÊúÄÂ§ßÈîÆÂÄºÂæóÂÖÉÁ¥†‰ª£Á†ÅÂ¶Ç‰∏ã:12345678910//ÂéªÊéâÂπ∂ËøîÂõûÊï∞ÁªÑ‰∏≠ÂÖ∑ÊúâÊúÄÂ§ßÈîÆÂÄºÂæóÂÖÉÁ¥†public int extract_max(int[] a)&#123; if(a.length&lt;1)&#123; System.out.println("heap underflow"); &#125; int max = a[0]; a[0] = a[a.length]; max_heapify(a, 0); return max;&#125; ÊÄªÁªìÂä†Ê≤πÂëÄÂä†Ê≤πÔºÅÂ†ÜÊéíÂ∫èËøòÊòØÂº∫Â§ßÁöÑÔºåÊúüÂæÖËøêÁî®ÔºÅ]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ïÂØºËÆ∫</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âø´ÈÄüÊéíÂ∫èÂèäÈöèÊú∫ÂåñÁÆóÊ≥ï]]></title>
    <url>%2F2017%2F05%2F06%2F%E7%AE%97%E6%B3%95%2F%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E5%8F%8A%E9%9A%8F%E6%9C%BA%E5%8C%96%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÁÆóÊ≥ï‰∏ÄÁõ¥ÂæàÈáçË¶ÅÔºåÊúÄËøëÊ≤°ÊúâÂøÉÊÉÖÂéªÁúãÈ°πÁõÆÁöÑ‰ª£Á†Å‰∏éÊäÄÊúØÔºåÊâÄ‰ª•Â∞±ÊãøËµ∑ÂÖ∂‰∫ÜÁÆóÊ≥ïÂØºËÆ∫Êù•ÁúãÔºåÊúÄÁªèÂÖ∏ÁöÑÂø´ÈÄüÊéíÂ∫èÂèäÈöèÊú∫ÂåñÁÆóÊ≥ïÔºåjavaÂÆûÁé∞„ÄÇ Âø´ÈÄüÊéíÂ∫èÁÆóÊ≥ï Ê†∏ÂøÉÊÄùÊÉ≥ÂàÜÊ≤ªÊÄùÊÉ≥ÂíåÂéüÂùÄËøêÁÆóÔºöÁúã‰∏ÄÂº†Âõæ ÁÆóÊ≥ïÂÖ∑‰ΩìÂÆûÁé∞ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697 public class QuickSort &#123; public int partition(int[] a,int p,int r)&#123; int x = a[r]; int i = -1; int temp = 0; for (int j = 0; j &lt; a.length-1; j++) &#123; if(a[j]&lt;x)&#123; i=i+1; temp = a[i]; a[i] = a[j]; a[j] = temp; &#125; &#125; temp = a[i+1]; a[i+1] = x; a[r] = temp; return i+1; &#125; public int[] quicksort(int[] b,int p,int r)&#123; if(p&lt;r)&#123; int q = partition(b,p,r); quicksort(b, p, q-1); quicksort(b, q+1, r); &#125; return b; &#125; public static void main(String[] args) &#123; QuickSort sort = new QuickSort(); int[] a = &#123;2,8,7,1,3,5,6,4&#125;; int[] b = sort.quicksort(a, 0, a.length-1); for (int i : b) &#123; System.out.print(i+" "); &#125; &#125; &#125;3.Êó∂Èó¥Â§çÊùÇÂ∫¶ÈÄöËøáÂàÜÊûêÊàë‰ª¨ÊúÄÁúãÈáçÁöÑÂπ≥ÂùáÂ§çÊùÇÂ∫¶ÊòØnlgn## ÈöèÊú∫ÂåñÁÆóÊ≥ï1. Ê†∏ÂøÉÊÄùÊÉ≥Âú®ÁÆóÊ≥ïÂä†ÂÖ•ÈöèÊú∫ÊÄßÔºåË¶Å‰πàÂú®‰ΩøÂ∫èÂàóÁîüÊàêÈöèÊú∫ÂåñÔºåË¶Å‰πàÂ∞±ÊòØ‰Ωø‰∏ªÂÖÉÈöèÊú∫ÂåñÔºåËøôÈáåÊàë‰ª¨‰Ωø‰∏ªÂÖÉÈöèÊú∫Âåñ„ÄÇ2. ÁÆóÊ≥ïÂÖ∑‰ΩìÂÆûÁé∞```java import java.util.Random; public class RandomQuickSort &#123; public int partition(int[] a,int p,int r)&#123; int x = a[r]; int i = -1; int temp = 0; for (int j = 0; j &lt; a.length-1; j++) &#123; if(a[j]&lt;x)&#123; i=i+1; temp = a[i]; a[i] = a[j]; a[j] = temp; &#125; &#125; temp = a[i+1]; a[i+1] = x; a[r] = temp; return i+1; &#125; public int randompartition(int[] a,int p,int r)&#123; int temp = 0; Random random = new Random(); int i = random.nextInt(r); temp = a[i]; a[i] = a[r]; a[r] = temp; return partition(a, p, r); &#125; public int[] randomquicksort(int[] b,int p,int r)&#123; if(p&lt;r)&#123; int q = randompartition(b, p, r); randomquicksort(b, p, q-1); randomquicksort(b, q+1, r); &#125; return b; &#125; public static void main(String[] args) &#123; RandomQuickSort sort = new RandomQuickSort(); int[] a = &#123;2,8,7,1,3,5,6,4&#125;; int[] b = sort.randomquicksort(a, 0, a.length-1); for (int i : b) &#123; System.out.print(i+" "); &#125; &#125; &#125; Êó∂Èó¥Â§çÊùÇÂ∫¶ ÈÄöËøáÂàÜÊûêÊàë‰ª¨ÊúÄÁúãÈáçÁöÑÂπ≥ÂùáÂ§çÊùÇÂ∫¶ÊòØnlgn Âü∫Êú¨ÊéíÂ∫èÁÆóÊ≥ï Â∞èÁªìÔºöÂêåÁ≠âÊÉÖÂÜµ‰∏ãÂø´ÈÄüÊéíÂ∫è&gt;ÈöèÊú∫ÂåñÁÆóÊ≥ï&gt;ÂΩíÂπ∂ÊéíÂ∫è&gt;ÊèíÂÖ•ÊéíÂ∫èÔºõÂú®ÊúâÂ∫èÁöÑÊÉÖÂÜµ‰∏ãÈöèÊú∫ÂåñÁÆóÊ≥ï&gt;Âø´ÈÄüÊéíÂ∫è ÊÄªÁªìÊÖ¢ÊÖ¢Ëµ∞Ôºå‰∏çË¶ÅÊÄ•ÔºÅ]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ïÂØºËÆ∫</tag>
        <tag>ÊéíÂ∫è</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[String,StringBuilder,StringBufferÂå∫Âà´]]></title>
    <url>%2F2017%2F05%2F04%2FJava%E5%9F%BA%E7%A1%80%2FString-StringBuilder-StringBuffer%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÊúÄËøëÂøÉÊÉÖÈùûÂ∏∏ÁöÑ‰∏çÈùôÔºåÊàëÁü•ÈÅìËá™Â∑±ÈúÄË¶ÅÊ≤â‰∏ãÂøÉÂéªÊ≤âÊ∑ÄÔºåÊÖ¢ÊÖ¢Êù•ÔºåÂ∞èÊúãÂèã„ÄÇ‰ªäÂ§©Ë∞àË∞à3‰∏™Â≠óÁ¨¶‰∏≤Á±ª StringÊü•ÁúãStringÊ∫êÁ†ÅÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂæàÂÆπÊòìÁúãÂà∞&gt; public final class String ‰ªéÊ∫êÁ†Å‰∏≠ÂØπStringÁöÑÂÆö‰πâÂèØ‰ª•Áü•ÈÅìÂÆÉÊòØfinalÁ±ªÔºåËøôÊÑèÂë≥ÁùÄÂ•π‰∏çÂèØË¢´ÁªßÊâøÔºå‰πü‰∏çÂèØË¢´Êõ¥Êîπ„ÄÇËÄå‰∏îÊÄªÂÆÉÁöÑÊñπÊ≥ï‰∏≠‰πüÊ≤°ÊúâÂèØ‰ª•ÊãºÊé•Â≠óÁ¨¶‰∏≤ÁöÑÂáΩÊï∞„ÄÇ StringBuilderÊü•ÁúãStringBuilderÊ∫êÁ†ÅÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÁúãÂà∞ËøôÊ†∑ÁöÑÂÆö‰πâÔºö&gt; public final class StringBuilder extends AbstractStringBuilder Êàë‰ª¨ÂèëÁé∞‰ªñ‰πüÊòØfinalÁ±ªÔºå‰ΩÜÊòØÂÆÉÂç¥Âèàappend()ÊñπÊ≥ïÔºåËøôÊòØ‰∏∫‰ªÄ‰πàÔºåÊàë‰ª¨ÊâæÂà∞ÂÆÉÁöÑappend(): @Override public StringBuilder append(String str) { super.append(str); return this; } Êàë‰ª¨ÁúãÂà∞‰ªñÁöÑappend()ÊñπÊ≥ïÊòØË∞ÉÁî®‰ªñÁöÑÁà∂Á±ªÊù•ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ÁªßÁª≠ÁúãÁúã‰ªñÁöÑÁà∂Á±ªÊòØÂú®Êêû‰ªÄ‰πàÈ¨ºüëª&gt; public AbstractStringBuilder append(String str) { if (str == null) return appendNull(); int len = str.length(); ensureCapacityInternal(count + len); str.getChars(0, len, value, count); count += len; return this; } Êàë‰ª¨Áªà‰∫éÊâæÂà∞‰ªñÊÄé‰πàÂèàËøô‰∏™Ê∑ªÂä†Â≠óÁ¨¶‰∏≤ÁöÑÊñπÊ≥ï‰∫Ü„ÄÇÂÖ∑‰ΩìAbstractStringBuilderÊòØÊÄé‰πàÂÆûÁé∞Ê∑ªÂä†ÁöÑÂ∞±ËÆ©ÊÉ≥Ë¶Å‰∫ÜËß£ÁöÑ‰∫∫ÁªßÁª≠ÂæÄ‰∏ãÁúãÊ∫êÁ†ÅÂ∞±Â•Ω‰∫Ü„ÄÇ ÂØπÊØîstring: Êàë‰ª¨ÂèØ‰ª•‰ªéÊó•Â∏∏ÁºñÂÜôÁöÑ‰ª£Á†ÅÂèØ‰ª•‰∫ÜËß£Âà∞ÔºåÁî®StringÊãºÊé•Áî±‰∫éÊØèÊ¨°ÈÉΩÊòØÊñ∞Âª∫‰∏Ä‰∏™ÂØπË±°ÊâÄ‰ª•ÊïàÁéáËá™ÁÑ∂ÊòØ‰ΩéÁöÑÔºåÊâÄ‰ª•Âú®‰ΩøÁî®Â≠óÁ¨¶‰∏≤ÊãºÊé•ÁöÑÊó∂ÂÄôËøòÊòØÁî®StringBuilderÊØîËæÉÂ•ΩÔºå‰ΩÜÊòØÂØπ‰∫éÂçï‰∏™Â∏∏ÈáèÂ≠óÁ¨¶‰∏≤Êù•ËØ¥ËøòÊòØStringÂ•ΩÔºåÂõ†‰∏∫ÂÆÉÊòØÊîæÂú®Â∏∏ÈáèÊ±†ÈáåÔºåËØªÂèñÈÄüÂ∫¶ÊØîÊîæÂú®Â†Ü‰∏≠ÁöÑÂØπË±°Ëá™ÁÑ∂ÊòØË¶ÅÂø´ÂæàÂ§ö„ÄÇ StringBufferËøôÂèàÊòØ‰∏Ä‰∏™‰ªÄ‰πàÈ¨ºÔºåÁªßÁª≠ÁúãÊ∫êÁ†ÅÂêß public final class StringBuffer extends AbstractStringBuilder Ëøô‰∏™ÂíåStringBuilder‰∏ÄÊ†∑‰πüÊòØfinalÁ±ªÔºå‰ΩÜÊòØÊàë‰ª¨ÂèØ‰ª•ÂæàÊ∏ÖÊ•öÁöÑÁúãÂà∞‰πüÊòØÁªßÊâø‰∫ÜAbstractStringBuilderÔºå‰πüÂ∞±ÊòØËØ¥ÂÆÉ‰πüÊúâappend()ÊñπÊ≥ïÔºå‰ΩÜÊòØÊàë‰ª¨ÂèØ‰ª•ÂÆÉÁöÑappend()ÊñπÊ≥ï„ÄÇ public synchronized StringBuffer append(String str) { toStringCache = null; super.append(str); return this; } Êàë‰ª¨ÁúãÂà∞ÂÆÉÁöÑappend()ÊñπÊ≥ïÂä†ÂÖ•‰∫ÜsynchronizedÂÖ≥ÈîÆÂ≠óÔºåÊâÄ‰ª•ÂÆÉÊòØ‰∏™Á∫øÁ®ãÂÆâÂÖ®ÁöÑÁ±ª ÂíåStringBuilderÁöÑÂå∫Âà´Ôºö Áî±‰∫é‰ªñÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÊâÄ‰ª•Ëá™ÁÑ∂Áâ∫Áâ≤‰∫ÜÊïàÁéáÔºåÂú®Êìç‰ΩúÈÄüÂ∫¶‰∏äÊ≤°ÊúâStringBuilderÂø´„ÄÇ ÊÄªÁªìÔºöÁÇπÁÇπÊª¥Êª¥ÁßØÁ¥Ø]]></content>
      <categories>
        <category>JavaÂü∫Á°Ä</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËØ∑‰∏çË¶ÅÊó†ËÑë]]></title>
    <url>%2F2017%2F04%2F27%2F%E7%94%9F%E6%B4%BB%2F%E8%AF%B7%E4%B8%8D%E8%A6%81%E6%97%A0%E8%84%91%2F</url>
    <content type="text"><![CDATA[Â§ßÂñä‰∏ÄÂ£∞ÂØÜÁ†Å. Decrypt U2FsdGVkX19iNZydXP3WFeuPOicyAq+juH9zIGlQKwvbbTxqixZzCo9w0GOvBULfcslxH9uc5mmyucqNneE6NrwXSGVClOCPlFqx6+O99QO0/mvMuZWLMRmNThdIZsP4OziNA3EoZBft5/6PVGGNV4LUOl2lXIKNg735uC/G0rmGJ9K53lUyluV50y7iJJhj5crMv5gPLAkAlrQlTAOwDeham3poFcZBF1/P/xGnF7vHQt6AdCCNsVKKXcJLKE63/CeHFjlLDoVMmLS1VN1nco+wNTv4TZVV68j4SxtDslMhOr9peWSSFroPuPD81odvum9us3jAw+S78I/YhsG0c65D17/cZI85UWCGIpfmAJXYuuJZovrx7+JJ3SlGOxPgI/So7rTHmSOZNQCGHNMhjUBxMcG0VHp+sBkWvaefo1jqdFQ6IQhnLZVn3FkZ3MxkVqz5qgBXklgaZO0qeZzZl/sjmhB+OMLO6EwSYkhTRw55VDOu2/FIWWjsIpeyY486PSi65kCAjwANRhUuvybpQzDVmlM5k78H4OjzfUg3EkjG7TNdX9rV6sF6DdXiT5iLgs2XGIfa5FFwozyPEr9Pz5uS+Hl2duZCV00qZkidaFcov75HgM5iP3gLmMsmLtC2FXLKl8RWRY0BKKjC4nnI2M+DtIzTtHfseuruwe7LuKL9wYLYnRSsMT2T7QyCW9TOv+5e6NmNJ6LeaAzRTUKronvKvSgx5IOvB3twDomDu+dzSwBZXrFpf+usnDymLqw5LMTZk5xjN8kqhvhZPNQX7khTZE2zeqYJSQhxRtinJhrKD+joETsgFZ1t9Cy8SM3UtAIckFRiH2fSEc7Ey73a3ANkEpJ3LyX2GrthEI7kkD5vwY32tKMvmK91A5jqRZtjgFEp3TfXaJWABPHDTMcVePcdl68FLPH8Nmps9R6HB+ablSAAbdL578lZ481rgJZdl/aQqOX7PnQI/xLFCyalPWdAemuyhdFADpW1IcZLUF41cqURcomPk9sx/yzbY18Fcnm83P29XdCLC6SnruW6sXT0eB3AC4KG5Z/61R7oW/0JjeHmgEceV1W2aWpvArvO1M7nTZIV+yobMvNXIX6wEikgb+XN84iO6zeUsLvUj+WWi7GmLIExrSZuKC2DPoZ6M+udCd4qblc7QFo3C+0iELHqMNmB9sRXlryp7uyLk/rlEZ2sfTQQNivqP+ogy5NpbtKcK2VXFV4O+gwwNA0u23WK2aQrISynSluph6K+yqUzzxMGgC1mSdqicEITAfcXShAFx+gx+gGX09mm91Fz15QBM7hNT/bnCVgOg9dst9M5lo6Hdzf6f6r5QhanNJMNyqNDLhyRpdMp7xzJlWJ9oi5SeCIHCQkOe351Jb7QJx61VyU/43azz5zHuer//mO/PIMbsqt84UGl7qzbRGywNzUUV989VZsWVeVFmC/k/DXO18wM/KcRhuiDpGBxWR22GUKL7JQsVSHGeIzx9qBMF3//s0bQpoUvuenJ5sTJEX4fc22FBgwqTFRP6IKZCID1YddEsglyA06DWWdBy0n+ji2kDjXWDjQPBJRSzIOAD5Od2vCWO26jYfDItbZDDO2XTlhUOCy8DN3YAQeyXQur2BQG2DiBz7HSMVK65I27ZI+7FQrJH/sl7nmHfmcLS/e4Tl8T7OhdQ/lFUa8j446yIaljewbkWR1kQdciO1yqwFSKUVdTOJ7YNXQyLIduZ7Pgeuq2SA5jW0Wc8iIXCmCPoTW6Bf/o6AJ9/pGLRiLA0M3PsaHSKLodZAN7lN5AgSaMAuaucCkppfh1TSnG10xFbQ77DOkVKqDazKtNzF8dsWv3cCeklPRVn2l3dymlv0Z1JrQ18Ws7/2pOAzsbCRdc82/1yWY4dWLHORaRL2eXx5hQM2KcgokVkf4MqFVOk0st5FDlj0Eqx0T+i9AChPe8yncn0c6UZ8L+r6HYuezWwC5bg8vn2HZ+ibGvi39XJwhIgsQm9in4GApe6v0uMC7uQFfr0hn0de5lxtY3z9DiyN37OPYdu7MTlTF+iSxJqaUCU6s++22wxZ+y2JeU1dhS+AyQwRN2tEzOP2QXB4Vt1EP6oh6UuD0uCdoOm2LB2KnNBAfEaIdk3V2d2ZFnhVWFSi4STF1RExP8k9bRTcKfWv3aLM1S6eFdoKGFx5IwWcWrxoReNgzNI7D1RwG7J5Rb6Fcq1icEHuLzSlqVOX5qpqivIPZWuzDF6Zfnj9DETiCSxmHYotw8WeVuooFBmzalOY08uYssNcnChTEylAxnx2J6Qas3my9faOX4A7pETz+OC0kQbbQbuZAkjlCh3uogmWSijW5sOiId+97nYbp0nLx2/r9j2+C7fQXF8M4L3cKImmYC2EIv4E/xWDyuuMYAxPn4KSxE3YX/pO+0OP2hoWlSJkSPHbBdjpfx0NbYYnT3+Ulh6SEmgPRHOjCirjNUWpbRIs/vp8imHUCamlAFTuVw90ut9od1lSN2/YcU+uxQi56h95C3s8DnM2Q3rYTuxp+3xfQJqzZLzGAMGSDsUdSD4A3UTYOKcFXW/yCLXfIr9z7+oDXwgV8oN6tkQkTBpysARLcxqAYZot925S4Hztdi30NMAlZKc5h9RoFKOG6kMhy7ZQbSAHd2BeTe1yTfHV56hLaM8FYumdHiCGC7rVQrDccYLpUyu+6I0G+uyGAMSVvCGdkUGlmv6SIJhJV9gQz9p9Vdi+n9Zgz3OMUJ8E9bMk0PjZojWIihSVzqO3JTupr6gNQ417JCUTnBFySKkkIbPa4DcJGV0GPtz0Qh2OV4U1G6FctC9aVLGdi67qKtNOIh8bsZ3nzMHZATwGV9aG4wdgeDALh0eoVs1aUGl3PiZGGlH6+8B7RqgPsqUuIIOhchW+VWiqxTdIxjaEzgomAvHQ7DteN4ZdQUOxS0mUNyChNEP64Ai1yqkjgvBC25hq9rahavSMXK9uUvtqQJMjzh/Kz4vd0WB+kSS+gtkXNoWKv26c5DpTYeW823gRIh2r+Q2vfwFSgZAlZqmqMa9uwD5KWCFB9nkrIh8E+q9bOkBztfBQXhSFBQIK4nxgn/DE0tS2DyXWTDwATp+p39ogufnTYse64PBM6mcgw+hTevPaek6tt2R6gJeXkWLm4tO8vAoJmFxb0m93zoWnvaEYZvVfpZMKJZj5X0ukd8szETmnDaLgodOFLo8CdP4SoH1uH+FE9d4JV07frd1eYZgz2yXCyQfEiE5J2V/a9D2CQjisMSNa3IbRcQEIXN7IK6OscpNVbPfloQE+pkXTAHudivPG9lZuIZHDD71wK3xGfxEVNGUmeHEa2IZqowvm7G8OxwFvw+CU4Wkfbtkmw+BfrH9NeMPu5mBg6CxLEzXAI12FC7tjGk+w6W06TyvAASkaLyPcD0CXW6+RVKFzsffFHg6Ob2VLPiJO/2+c3f5pOHMrTFTOj19pauFlE7WUSw4pSyxpeJ+w8ZroetKkU4/pNgXapA8cdmEN49076bxJWMi1HUhk0LDfbZ1ieG0TFzBTpod0wJc9vdL1itJBxgbk8zTIYuU+hSdADq7jbUIV8ovHsWWZoFeg1egI8FzOH95aV5E653Ovz5lOh11eZ4XLvfloUDiB+0EpUrdviSlDcI8hR90WCeQBITzQoW/DHvuKms5xHM+ko7jX1oSFFA1hPjiTW/I5WahBeqpiSo5o2qoIL9G1SZeHHnbYvmMIlgdWpBX78yFGOOaRYomWPoO3NSL3t1o3+S8bH8JbtZCYs/4rHhb6XwA1Kcr9c2C9kfRQqKnYJkHHeAR2QbcAi3Kxo1sySZH516mKAxLKrPAgT9VkkJgt09MPInTNmh74YsFjxQsjnbyhlf7GqpIFD/j+pES7upGMJWuowMUcVadeg75yr6t8SLnVHIRl+y832N75lTmLHUghhCiuN2RSnmnqS1C3fht/ZTlElC2DESri4jWabEgk7ilDnJ3qLG+YSowpJ+rLzHlvqc1YuZ2yI/ryLV3bdqvQMnYTjVWNEGqMh7TtHI45TKnMavoPuOTr8983VPwJT74KNOdt0ahuNGcLGLmpDaEFB3QUbSJf1nJh6OI62ReiX+HndmXkg7JRsdqQEf0QMJaT5Ypb+5Tx5QUftxblmouw1Th1/yOScdyDxzac+8+1CqtYVEaLwOfshf8IwBf9YW6FN9pl2ojD9DdRFCn55ZkK7sahJc4imtbPTQ9V9jLvhhPcIrNWxrqPvdsat6X4jqtCL+HDr0PQXqQYscq+Fiyu1HOiYh0Iu+s4FfqaRgyGSwJs65l8n0KioTSgk/7kVaABfMSoSHOnKU/r0/u6y/IkuSRrt/BnjHYQ5lgxefjy8FiePdNbcgzRQdhmWI0u0ml/K1sx1UBVP2fahBUgfw4inuvKf8lMHqp4Oo35sBcR18/jGzK+udU+m4OYQMF1KV4k1NiT0gT5FngxYro17caW8mH/kn5X3KYRaHb9u/1B8PyZlNr2EAspl06sPUUrm/waM+iWboq70usGAKdxEDd5EdrhSyoH6r2EW54Vr6liJJNU/0Abb+VXbC0VGwX8m2sJTUksXxpjv01ib8BoMHm7UTCVYxzcFdmZ7lBgm0dRPZ4whffSbJI4i/Ny8A+BV5KeVBuQjhdS3sPmwvi82F4TjtMHRR/4tJ5q0vAFYOV0IrvQTeLvMX7t+GHxicC10WR78JdMB/61JfTuszPNGeYoXGMEiq8k6lRiPLjVOv7bqgPYdwDldl+Vn4e2nwnqXq5ap+7Q6dPte3dSWLSoTBT7uWWGUiqfp2GbE0yqIGQkVWtRJQtdY8fcm7+5m4Oopjcd/q2iaEwx4n2aCGWbQ0pdk1pA5kMQxlIuzJs0uSoprMOkB/Hi2C87VyYa9+pTd6c7TZzyWDLPp9iQ51IaYwhJ8el8RvRZhKja5o9/aIfBOBKLqTjBGAHHKA7p8Gmuio9HPhHPJya0uMNqBhL9rIsmxWh/io8sxCWUhuC6bc4F0hujWjy6bDenewCzJzoZ71DrGhgH1AiE5gIKbvEKHc6cIwW6fNY5Y9UUTRE0I+EpDcOZUTPtIwzbElrEvV4bPWYmlg2/hE1xSeqtIVtRENnJy9buoM7hlFuvoVJh3Gi4zVBnajTMaOZVpffC//DQS9D9zzT7DFU4MeL7oN4f758LSLvJplVDAjEtRccIAsRoIhEEAd7MvbvsqitfB0c3k8aHZAcfPBweOSPsiR1yGLJWHR1ohcMZW2aAfmRPx73eeLPUKFgAD0C4+xJgk/fNsCOqYCKrDHd0DWM9VbFprwZ8bmyaOjiVy4VF0=]]></content>
      <categories>
        <category>ÁîüÊ¥ª</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ËÆ∞‰∏ÄÊ¨°Â§±Ë¥•ÁöÑÈù¢ËØï]]></title>
    <url>%2F2017%2F04%2F26%2F%E7%94%9F%E6%B4%BB%2F%E8%AE%B0%E4%B8%80%E6%AC%A1%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%9D%A2%E8%AF%95%2F</url>
    <content type="text"><![CDATA[Â§ßÂñä‰∏ÄÂ£∞ÂØÜÁ†Å. Decrypt U2FsdGVkX18rVBy6VAnyDjZVEbg2e//vl8QqbzGaQ/XJrekmN320YbXkyttIJ1TFQ5gtyFCYOZ7aUMfSYfE8UGP2bKQxwlHX43NdxshpDWWT8mrtbDrfePkzj5Xc4htqW2+nPUBxEKbcpMoy7ju0JkjjAHZZj2csT/wfGrYrl3CoI0jJKWkC0V/AL4OnWLWF1H92ILYC7T22SVQWkY0t35u6/Bi3nvZHHYosZ9wAFtROdeNOCE8ww2LXdg55LzNHRiGLrmBXqlVaZnCyRbHoM1S1OUnjcMyZg3HhsmuMM8LsDs3zmBR2h8EW7dqqQG5RLwglbM5b4crm2j4mxljEcuXG9QMdX2uQwglwiXZ4vvzAFOc8batPvbggkZc+K3dQFlQAEPbhvyExq3hOlrHItWNkXYdc/JvlG94id3AgPnkawfWk5kWxcyz3ODD0HT9iWqbtpY968UIfgoTv/CxyNLWPYHepbnLzNzQSmic2DB2LB9kXiZHo0dxnevhGQBt7xNVh9CCXsTcYLIp0IlUIdjPr3wtx6ftHTR+fjjAT7EKD/Gx5NGLzTU6E+OcLKTfF2g3NYUbaaMAlZB94JHGBuDNEmgN/IQt3iW4pXfN5vGGtR0SWQflbjAJPocqQRxyo7W28OzFBdWMZGQaUDssh5+cMfjcYXPJpWMe3A3xmdYA2KXnWqrBwsm7pRYHKLQMrpS3ZRsRJHC0mGKJvt/akbCkI2bfngNb1D+/uzUCniI9j7/ReBHD1vRmjS809ao0cAqkw9srPcAl+WBi72kuzS3P7rZEabmpRvqKBtKcrg6LXrQPveKWHnxDyeo+xfsOmfGEwzIiz1YnY7KQtcMMWWlzwLOM2HGp7SW/64pdR8sXdplAHpe0cFeLZSy67z9+uqTUjgx6/6xz0OV7YTGZH9UDOyccRhdoDVz0QG5jGS46ant8UXCLauVnuMOolkIbv2Uk6fn9N0xaywNlZhvf/VSB3ragdsh4yARNQSYsiin7X13cRNFQzHOUk6zPzPThnU06xK/VH9mqJfpCSzJ/Bk3a/vaQdaaEYvSZVo9PAlDjDzGqqMRQ/s3USUAlQ1v123xNTDjTORCfjWwm7D243aNyjnNgHduz3fHc3e6klYGRUV9+ZZqATn/KWoTMiDv8HFsH352Ogv1soxGQHhXfyQk3QvRUNfZqKYps++3GV5kQqyQ35UUT2gm5V/3+tcBGpm2Yo1OGiRrC6AewRJJHxbc2dRiKWwGd+r5JIkvFjhG0agNPU69gbmAq8WErkQCqUvxT26HR9m1L+Bbf6+82tMuMLmVfzPbCFHA/RStZAVeyoJFI/3TicjdmCAmnAYvb4vjqViOGQbi5K07dxePSNsoSTLrf+990C3IgO1oV/PYEhWpNFHlEro6VrkInQLtRCDIllphLHhQJ6DPI2od+qDve2tbmy9HJDvUElBoL91sH3Yidx2/c8M6w2bM2sJDG8BOFt8xo/ljGOPSrSXKiZmxyANZDRkgvDZ6ow/dbVD0Xb9fK1/8EHyTu/V2xM/aFCif4d048NWIlvuXjhASJKVSaxBpDSXN6fAu7MHaeSDikrc+3p+xq2eNYzhnHgcACUlNEy4mVisNYjQazgRL5DXp3C0sbOlt2Yg7DPFnncA1cjSFjFuwdF3DIXMfDaR7asjm6G6iFb6NfFg4Vn6ZQHm1l9D7i+5uLrw/yG1MZFcYyhsAFUByLyJvC0UgrRe7Ph7zOivTbH0STY9ULpfXeoakMYmaxaApUG2mMETqj+/MHc7q0ACcz668kEEhBdPiY5e8GgQ4egLGD+FyYF9an6KqPGDcItqgizXc9a45Wddjypf0s5ymJ/NDJjMBtl6m6L5Ha1qCtutPBZI1D2fvHhntTtroN88BNmeJuD5k64KdggLqBtQ4x7/ZRTJbJFatew9r8xXCO5If11ThHewraVClabAJ1gtdrt7vjqw/B4107MjBywZ9mXg7i9Y5Ad+EXpVDkcG1FMc294oZi8AoEGQGU0hKOlQnM9WNHccc9XGGXt2DvpSoZxUfdkMA8/z4QcTdeTcpF6WcnWG66a8lCBWUm0TgeWjIqdzgZlk4SYAiFXW+yNmfQPjVIC0xEFFtrVbIaBOlfKvMC4RSSJsKiEGOJfijF+wYW3FzrP9exQIzVMWFpYdA1BOeD2kee+/+EA3RjK4ISEo+7wF6LTXXDPqLj4bVkBM3DKL21skwtlN9cLa2HErpDuULj3ijNj21QuSL4uHargnMKm3VZ9137dwlXYnfIRWb5wxmaJ92QiG1gLSnf7hGxsKj3Sj22FN6EazqNoN5wyEUYHLlD9x8fxm6ncNSaLXJ7KQd4Rc9GSF2MuEmyAUe2v9VpbWGLmF3cZsXHlwqvlI0DRD9AsBbon+uwiaqLQsI7xqrUOxTzSFXlrHtRGeELvF0whrHOTYN+NhkJZlH7s60YgehQoWWYMblEBktedAIva6/wrZ71Mq6hLjLIhpUTcHIzQgTLHM8PtT8hPC3SQBdDwW2PKimuJIe47HPEMWjIA0GjtCLvwvg9gwKCKM7Ez2CixXEp+JI6J0vCkKVlo3u/6Kl4aPGYGDm21bMWOEAErUYlTtBIKhL924cNjC2Ob2TCZsbwmTBpniLuXsLiU0OrBAUabXR8S49PO1N0yEjDosJZ70swPUovM5ZaIUoZw1AwOv5pl7HYaNa7YSsqwlM/3zLGrIicX0HkFf9n/+6mVzT+NMO7W9jdOa3XQPe7r9Q+jXqvs7mbgtfIgQWe6OalZJ+q/0128wd4JFRlQIWEaSL0kImcnEU/zb/um1tQbPZFgkVY/o7wv/PvCclQeVCC+gZAhP0wTV+NEoFP+4YzJ5LuwtoQJeyffvq0c2F2VekSFIr6XyVUx1kSRFA9mZNSesP8f3AApuiPaWLX1Pbng+6rZHlDVyzWi7yJo7qI03EInEzUeffNFx3RzPjhQTJ8jz39UkBmKE9P5sZMmgV9KRo20cusUmivwh6Fk3c0z7vEsQ1tYf7hC6jF3SjfZ9l4TVLDHv5/Hav62I4CEucpvZXr1CEY4Q++1L62IARF3Us/3rJo20KsW6R0MgzM+ToMppW/0LpCVYc8Mz0oFupaKCVhemnXr0/j/Pg9KMx1Or+fnKhPCVHpvXfSs2wNfp3ALOpxQ8rgvxNH+DEzVOsxXiQNa1Go8++j1sq96SUxetVJnKoutWHCLfsRlTeNrzZDg+CHWHkP2LpI+Ch/OiuoK9OvA83+7OK3CiPDIUt0qd+7NaNa4/y7Fz138cCmcQ+0NhpglB+0ZOpADhc1QlWpXclxUou5tYv8ofTcFj2jNfp2LwCXyi4tN1sjDk8JMKVsbQ6A+V6BAFFUmnU5ruQXjWiSsrZLOjP/LoqVENWdsdWzuItalJB/+y0fyFTlh1MPpAb8v6snqOV3ZasM5UZBcvRZ5ibvi02CtZjALGlmqu65g5+0TBoj4VHP96afF2T6L46s2QR0BX908ACLDFJqFapiOrSwUa6BytI22HZmVyNo/c6FGuvRdxkBN4xvRQ0xVcbnbxZ1OTssINv0c+O5UhM7wruXZmTR9BMmY1kAOgjZ4ZutNUBOprdXaA6AZmuiF6KW29rfRwdhR0MQHQYA3qKOF8XlxbEKvipgEemzjF+sFwJQLzAP8SRRiUvU0VhO2WsqJu9OLMuc7jgLLVaZknL3/Tut5OxJrzb2W0fOQiyUF7Mu+O5nWf7h0SxtK6r37Bj6cjAEIySgBJ83qjuBAjHT+37EK6GfRQS4TzpmlQSX9zLIm1FhOUcem3WC0xVAkJQ20D0kHtZQQXKaCEaIPS8ixHTOD1pEwNHuRyZr2NgxSITxDlyzpOPqL4AjwNkBFPnS6A9QiZy+5239Cxp6jaLO79+VMsJiHOYKfSoFbUAa8e7qOaavPkDORjftBHfn9duSuz0fp1TCoCv0Cx5wDiPLXj8L/p3gPMSZnDCltoT412EwOkf2Vdv3hfv6xFtnpz/gTSh+JfturqMz46xFH6+TadJ78s+S5I3uuhLL9srQlV0UW38augNwzxnJWeQeqzp031kEIzXjcNQCU/bf5pinphZzXTFEy9OGxQ1CgpnV7kirSubt/3Tv4EM0HtKQ9ZMSYJjkCX9Qi7BRO3rQbzEkCo2r6kQYvOMcKuN/AdBkCwpVU2XLLKr/EoJH0lo8FPYBQDyUpfjaGiBWQSMukKSIHhK/BVyJxuq6PKRCn4tgXmKlzA8dml9wHgxrb6WaOGcQgLUpRcORB1oUL70KruYGyDcFx1rrVuYZuPH6uhe2wk3pXSIrdRsyOHBItt1XcIl+rdSMJ26nak8U3vkqtTWN8illgSDQ6CEkEfLY2o2Z92dAK4vcjJWQGrkaPObrgcqUHd1npX1wahR12CVCvq1Fb2gYOQ3J1uB9LYLr5bj67Yxv6lqWI1ehKLucxA9BYtD+CFwsl1mtvtFEfMbfY6GFfXFZ0DtO4YAMjtDPRBaoGC3QLPegSKs9T5O7Bz9cisA8FnEoXj/TsvgpurN7Yrc94KtJhyR4vay3v3dGomCZwC9reNhx9zO3glKK2qyO+X+ZMdp+q0Vaocq3CutQx7SeErcZruIT+3M6EaccvIMIEBUS5Q/hZeL6aUtmpkFMkJqp93hoxSeYNZGao+Ek1mbXfcakDKJDl/jyr82N/cF58GFLN8YHCS+Mx6c9EuQFM1XoJz8PnwA6XvWfYBtzHhW1JDuSELPwroqBrZL//jY/40BY7NHp2evh7rLLzhc6P0hNO7XsS7Kd3TbdqQldfMUAUiFSdiv+ACXvMsBbQ8wOKVxermSWR5KyG9v0APszh7YqpvKP61yB/dGVX1GTMq6tZfk27M8hxhzUXGxwDFDZlMcP/RAsqDV1ea3qZEt8oODzm+faVMA1roXB1ZctsFO14tDKt+wCK4guqspRtdgUnAzNA1eg2twXM9BQQWrQEbH/c1Kl5fj8StLLd5uMQ+8wuUhPElYurULSpoSil9Au+p1Gfw14uVZ8+1uRYxmKqe5Hp1HhVPXgz3kq7AkUW2npjW7ximeVlQ8s8lpn8F008r/EmPN4toY6nD4rSVfO0dzUf/UgVwin/o/2b44Zmhm4jt6fAwRGUHjAW0u1vfRsPYGOCyD4TElahzfiisaD1J9Xaeo/xtrDkbEJdhQgEmWX4nqXfcfLkwdzUko7OQMqtjg1D015u6DmWzsSScLx51XYldyOiKw6WEpnwiw71T0uq3Aldz+3eWB3VKdzf1XDx36AWUOjzSst8oYZ4VT84cPl2EongyRDxGvS8PbXSp22q42KWjiFFYEzoDkmyJ3UE+yOZbxuhRAeUEUklgKntWTx6MyyP3QU5vZY5EEeq7B5Al8iIeRJqctUzIJ2yMDXjMIndlxKfymMri1uf9YAeVE7cpoaLfTB8CfhNtEjTq+FeP6xlgU+NYZW4wL0rfcLAGlpxUk8QB+dnAx3gYqoT5F35ZrxEN0zpHlXK6+CkAgIxocqVlmOsEhEYY6usoLLjD2SzquhWML8FeeGZB6OOJIPnw1pURwTEFH7JSBc8oQQ1rmKiStUwSYLrb+Q2pHbRAbFgtofBzANIl70zb1BmOR/GmZAl5mQkd5aNFnOQuJKc6pT9IXaT6zo8D+f4JflkKa6kU9Iwpv4s41VaMFNIKdzRSckTf6wh2+CAJFUuEy/LFhOR9HGiWoC+42HTcc87Grca9HzM6/8L5sT/Pouctef05+IvAL2jooxjoU0+LZmknd4odIZOgdW5NiTnlC2xJyDQrKmcRIP1y5VxFwo2SLn7MLBoeTzew2DjSq2sPMzmPfopcBDjiWlBuH5wtQYrV434L1f5SVS1IXnMHFR3m0ouFERAoJTxbwLVAX5O6eimXTtlQ/xjHX4VvNGJxikCclgtsRY1Myay39Ji1ir0GeQsxcHgFM8HycgbTA4RFA4q4S080IjySCigMB/YOdhf+gtLLjHnd/RFbPuZpcx2m+tzK5ggU64zqlBnmur3QT+jiqWzF4bV7Z/7A2mj1WaE1qrwa4zWIbfvLEAV/6hbVyk/zzuLDLFxJDRjA+4AfErVT6AA5lCwY2qjgu1ZuTioLPXfrhShm1UGs6lzp+XERPmMX0lo3+i+lvHLKV/jcy9XQo6VYc44QI7rFuyw8dENTHnwn+AkF25RNFa9PcEGSffJDYNdI5l6evez1UXPG6DZrHRkWjHa5vL72TMLmIFAorPmqW+4qylTooyhDrOXFLe2w9o3qaYpV+HDO7vA5Tllh01CylSVoLiAm8G2cA6SK1DPZEhtOzUgmN+TvIyK6bjz/sOiqqhTHRzxYlAwPQGRG2HpLtYc68OXfx5TfG1Sc3hf+sUp30uvfOHj0TNh4BGh8HwgFYJhZUP4XfRHmTvkf3QwHOx1420QR3SG0HvZdNyjXUcUbl3cuOvDXLyiACpFTBQhvaSADdPsZKzg4TkUgtUdxheb2x/MsFU2qXlPKJrIHNS/OBGECtdPcGonmrPIHk+3242aGH+BRE2dsuLd1x0jhfPBApN+FbgvyzIQiCYUt4x+fVUz39PAxLloeDkfWJpNJ402fYdFjfrS+zYXP9Zk2TvaLaLDkVOj3CAMVdTpYJxnGfljQq9TxWBhqWimLSX+zcE67E/pYh9F7/TM+OBuCrxCi+/ecV/2b97OgKvik9zsQ7/mReTp/HBKEzKIXslihNPzNfW3mBTAjp1/xPtBKhV6m9+TvRh1JHBJuTMKKqb8YqJXAWraxIIK1cL5WTtLpwbNvGULMDv2DUyF2vxhU2RVLFhdZ7fZLs3U2g6W7W2PI0/GDf2vM+cNC0Knh4H4VAMQIoVXJWzDUKstH2BwogGdwbDrTv0R13LzHSQ15jiClolvb4/M2pc8nlZrAv+f8dTHuO6PD2qgHMs9Q/uJrU4Ruis6afkMJmjxoXv/VJYOHO8Efa1LwM6/8E5Uk/Os4vggGehp8feOVrzo1OY1uAH01RNLNKrLVbA6c8jl2FqDmGWu6TDQ90B3kSRRM2yZUQJszhcxneZIFSJCE88hqgTL51nfDuJlpxmo4yzV8+dIB5cFJfWcw0fXfB6XYKxQpSzaV5EgIQ7L9zCC2RXl/Vo00eWs4aFxQWv9p8gOpFQbancDEkr+1NZIRawirjy3PDLWX5w5ySdxoz62WeoGy1Ka3fXECopC3gxXKaKaSv3+cssOaM43viRzv0xUNNSKBnofsdFp9HTCk6f+obCEm8bohGh4NMX6GvSzUwNs7caw00NACqrDECzBWzzP5CI1T0H+BM74AujV9zvjrK/xx5Io2Jp12ut4U5ZMh0fkj1agRz5aFa8GVWHg5Afg/ttfioWDEVbhXX1qU+/dxczmrTLnKSDIrd7YaZcsCXvmEk3BSWmEID5ul6iTyTQo2RN7MZAbr9VO5f7TcHCTk7MJPxJHjZvh/T+6bzyAqpMLqjzPMR8s021ii6KSy3ze1ErUTTGCRUs1s5UwHPrD/WkGKNrE4UidUIbWuuUjiZ/1RC7s4qM7ItiVIaZzjbzoowfTWJMuCyV6gKAE+30pc45IOsLlzK4Nwgx+mjZBFTQBOvCymtmUdWmprNhCQFBTEa9HjAt+S+XSXzqWZV7L1D+wJyuHPx6Pcc5FCk+z+8yl1eb3mK6iSsYn5otZfq5y/Bo5PckrQapnNxqL+mwhmpKBHaCYsenbrjOh80K/TAC6es1fAzeOpbsQW/1Dkhur0NGjb5zDuxpKL3d3dck9fnfZ8xTJk1jNXaKOfGW6RtnwnxSGz0+IyBhti+VK8odUJyZKMc9K+MY9sNYjz8hx0EREZYP8ROq8BmLMowQtKokQje2Vsv5pTSovdOsJJgAPHnUdEWeWJped4amrbWSeuPnPaFhXyEY01cqSMypNaWCO199GqZLUDJtBka2gbUD6H99AtSQQzZ18uimh3kvHkbUK26OteeIB7svI0cdi90of1N648Dny/k6w6Gez8WKIEJcW5jGqND5bA40UAj3kCy2uhjabRwnJL1C+vQaoPODSJK2xu/nH0wRj31qbCAlmfLZAdWfd4oZeoZ3Dqp/BKMqvboJHbegKrj4jvHJ7JyNs+VD4BnbHrvHshFee6CLlzsLucAQt6ooVF2GCRKy7AVVU3APB4ZyGkQkAroFsVfotgcNngTchnzrD716XbA5tD6o1GPdcCCQZvNmQfc/mLjlV16DvU7HKpuoMc6J1wCcYTvlIJQwBMaxe9sn3HEnKW6gS+oIBLstzNMyE1Qlj68LAOGftPoEh+Fg+EZf5xM0LSmpc1oy9MNyk+ZOH6wWkYfczOFjFxFAMq7jiwbvv47UxTaJdz3Yg11SQpquJvdA5xLaNmDsrl4ZuNPvVHsLQnYrbA8nsFhUq3ld4WnQBCsMUQXQhS0TEW0lGN6mNlXbAk3Yv//2REqwXlkXd5P4C+dnIGXLN3LzbqM0sqgFEEM2F3ApvIYJFqIhbsP/pZjUUbLfiRJFD5Ld821Z3VTR35SlOZ22XUuIGW4nvUM5GEUlm983sfje0d6+DSHJ9y+gMBdblgqJF2646HRhL7HYQs3m5BkiunAK5hYAYRI/NlIwlvZH534wES8D5mYVptXmnewOsaN+2/tL3mtlwDR/+kkVNliAhgKw4+KcBhcxWsGuFXrJkGhz6AmFKgm463+pqvIBty5d7HljDYh7tVips8NLUFspGT9mtuWk10Ro1L3iGII6KJkPWnewfdpTxpAdvHQmN3MvM0RVDcB1de2jVLi5vc+14Gpj0c4vPwideJ395KHRXRcKiI09RNRimhA5MBr2kJt0J9U5P4XiKtTbKYcj1WH3mUqim3lWrsi1JBqTBvLCbxJvkXDRtlp/2kWMeNCt72RX5ZmigrbS9KU8oa0rKeW4xaX1rxq1N+YL7uI8u6u0XsneCu/dZCGwsO3touveECSoCKvNJTh4gBbzWFa+mbxVl18h9BqlAy6c34D0Xk/kH8ToIg2/6HC3Cr09KL54RFOvHNZb03Cp/tiWm6Wz4wAWgqE11FLyvuPEDAFgiSMrkk7LBixifddxmh0opixOZzIqnEpTaw/uSKPBlJe92XyY7uDoCzLLcHBNKjOebRNyjhwukRhNOgRDggvndOhDL1HYqxTrtnzJHteT+Usehu18K9F7vZSkn57MRkcwluvQ8dZTtFhyQ5uqRYzxr1sy/uq7DT5SQd0o0Z7Qi66S5CMfuzp6XkZ6lDjTesSmkkLlmvV49VwliTTQXoX+L/E7ZyO7Cs6MzktdnafukGfN6avEA0h2GJi6sPgfHldcWjt2x5M+t0KFOIP8KjkDgkhZYP/iuycDl57yCgmgrAhWi1Z9x08mMo1GP6fGlQvUJO9TKPNOZ/ywTx5k7Eag9g5Dq1YbZ3oUCi+Ss38NEFiIZNg239OxdHz5g4nfjdIWfumZUpShYo5ofDKJpLSEzCzD25jXB85GghLXqB8XQCRVX06JnuCWcBTiMYCadpqcY4U9nqe1JwiNLqL8hnjPNfXH4gHKAvjEStzZNQXgvP1kHQF/HyOGqAMnJWcTV/JtM4MnaKlB5/FTxb2SXDLjUkCg7g5PSldM1MYyWqDbCfALLhDo5hQCYnBtb3JseCo6DqfQyHnchHu3UlP4QL4BKfC22FuZbyS+KiFwzPOxPn206wIN34LfT2PC+jUyZNrygjPh1xKEKzzhh27nNRUbaq1aN]]></content>
      <categories>
        <category>ÁîüÊ¥ª</category>
      </categories>
      <tags>
        <tag>Èù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSHÈ°πÁõÆÂàù‰ΩìÈ™å]]></title>
    <url>%2F2017%2F04%2F24%2F%E7%BC%96%E7%A8%8B%2FSSH%E9%A1%B9%E7%9B%AE%E5%88%9D%E4%BD%93%E9%AA%8C%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂéÜÊó∂ÂõõÂ§©ÔºåÁªà‰∫éÂú®ËßÜÈ¢ëÁöÑÂ∏ÆÂä©‰∏ãÂÆåÊàê‰∫ÜÂü∫‰∫éSSHÔºàstruts2+hibernate3+spring4ÔºâÁöÑ‰∏Ä‰∏™ÁΩëÁ´ôÂïÜÂüéÈ°πÁõÆÔºå‰πüÊòØËá™Â∑±Á¨¨‰∏ÄÊ¨°ÈááÁî®ideaÂºÄÂèëÈ°πÁõÆÁÆÄÂçïÔºåË∞àË∞àÊî∂Ëé∑ÂíåÊÑüÊÉ≥„ÄÇ ‰ª£Á†ÅÊµÅÁ®ã ÂØºÂåÖ‰∏ªË¶ÅÁöÑÊñá‰ª∂ÔºöÂØº‰∏âÂ§ßÊ°ÜÊû∂ÁöÑÂåÖËøôÈáåÁöÑÂåÖÊàë‰πü‰∏çË¥¥Âõæ‰∫ÜÔºåÈÉΩÊòØÊúÄÂü∫Êú¨ÁöÑjarÂåÖ Ê°ÜÊû∂ÈÖçÁΩÆËøôÈáåÊàëÊÉ≥ËØ¥ÁöÑÊòØ‰∏â‰∏™Êñá‰ª∂Ôºö web.xmlÔºöÈÖçÁΩÆstrutsÊ†∏ÂøÉËøáÊª§Âô®ÂíåÈÖçÁΩÆSpringÁöÑÊ†∏ÂøÉÁõëÂê¨Âô® struts.xmlÔºöÈÖçÁΩÆÂêÑÁßçaction applicationContext.xmlÔºö‰Ωú‰∏∫Â§ßÁÆ°ÂÆ∂‰∫ãÊÉÖ‰πüÂ∞±ÊØîËæÉÂ§ö‰∫ÜÔºåÊúâÈÖçÁΩÆÊï∞ÊçÆÂ∫ìC3P0ËøûÊé•Ê±†ÔºåÈÖçÁΩÆHibernateÂºïÂÖ•Êï∞ÊçÆÊ∫êÔºå‰∫ãÂä°ÁÆ°ÁêÜÔºåÁÆ°ÁêÜactionÔºåserviceÔºådao ÊåâÂ±ÇÁ†Å‰ª£Á†Å ÂàÜÂ±ÇÊû∂ÊûÑ webÂ±Ç‰∏ªË¶Å‰ΩøÁî®actionËøõË°åÊéßÂà∂ÔºåËøôÈáå‰ΩøÁî®‰∫ÜÂä®ÊÄÅÂåπÈÖçÔºåÂ¶ÇuserAction_*.actionÂÖ∂‰∏≠Ë¶ÅÁÇπÔºö ÂÄºÊ†àÔºöÂØπ‰∫éÂçï‰∏™‰∏öÂä°ÈÄªËæëÊù•ËØ¥Â≠òÂèñÂÄºÂÆûÂú®ÊòØÂ§™Êñπ‰æø‰∫Ü„ÄÇ Ê®°ÂûãÈ©±Âä®ÔºöÂØπ‰∫éÊ®°ÂùóÁöÑÂØπË±°‰ΩøÁî®Ê®°ÂûãÂ≠òÂÄº‰πüÂæàÊñπ‰æø Êã¶Êà™Âô®ÔºöÂØπ‰∫éÂêéÂè∞ËåÉÂõ¥‰∏ÄÂÆöË¶ÅÂØπËÆøÈóÆËøõË°åÊéßÂà∂ÔºåËã•Êú™ÁôªÂΩïÔºåËØ∑ÂÖàÁôªÂΩï ognlË°®ËææÂºèÔºöÂèØ‰ª•ËøõË°åËøêÁÆóÔºåÈô§Ê®°ÂûãÈ©±Âä®‰ª•ÂèäÂÄºÊ†àÂÜÖÂèñÂÄº‰πãÂ§ñÈÉΩË¶ÅÂä†# serviceÂ±ÇÊú¨Ê¨°È°πÁõÆÂπ∂Êú™Â§öÂ∞ë‰ΩìÁé∞Âá∫Êù•ÔºåÊàë‰ª¨Âè™Ë¶ÅÊ≥®ÊÑèÊ∑ªÂä†spring‰∫ãÂä°Ê≥®Ëß£ daoÂ±ÇÊ≠§Ê¨°‰ΩøÁî®ÁöÑhibernateÔºåË¶ÅÁÇπÂ¶Ç‰∏ã ÂÆû‰ΩìÊò†Â∞ÑÊñá‰ª∂ÔºöÂØπ‰∫é‰∏ªÂ§ñÈîÆ‰∏ÄÂÆöË¶ÅËÆæÁΩÆÊ≠£Á°ÆÔºåÊáíÂä†ËΩΩÈóÆÈ¢òÔºåÁ∫ßËÅîÂà†Èô§ÈóÆÈ¢ò hqlËØ≠Âè•ÔºöjoinÁöÑÁî®Ê≥ïÔºåÈù¢ÂêëÂØπË±°ÁöÑËØ≠Âè•ÁºñÂÜô È°πÁõÆÊ®°ÂùóËøôÈáåÂè™ÊòØÁÆÄÂçïËØ¥ËØ¥‰Ωú‰∏∫‰∏Ä‰∏™ÂïÜÂú∫Â∫îËØ•ÂÖ∑ÊúâÁöÑÊ®°Âùó ÂâçÂè∞È¶ñÈ°µÔºõÂâçÂè∞Áî®Êà∑ Ôºõ‰∏ÄÁ∫ßÁõÆÂΩïÔºõ ‰∫åÁ∫ßÁõÆÂΩïÔºõ ÂïÜÂìÅÔºõ Ë¥≠Áâ©ËΩ¶Ôºõ ËÆ¢Âçï ÂêéÂè∞ÂêéÂè∞Áî®Êà∑Ôºõ‰∏ÄÁ∫ßÁõÆÂΩïÔºõ‰∫åÁ∫ßÁõÆÂΩïÔºõÂïÜÂìÅÔºõËÆ¢Âçï Êü•bugÊñπÊ≥ïÂç≥‰ΩøÊòØÊåâÁùÄËßÜÈ¢ëÊù•ÁöÑÔºå‰ΩÜÊòØ‰πüËøòÊòØ‰ºöÂá∫ÈîôÔºåÊúâÁöÑÊó∂ÂÄôËøòÊü•‰∫Ü‰∏Ä‰∏™Â§öÂ∞èÊó∂ÔºåbugÔºöÁ†ÅÂÜúÁöÑ‰∏ÄÁîü‰πãÊïåÂëÄÔºÅÂõûÂà∞Ê≠£È¢òÔºöÈ¶ñÂÖàÁúãÊéßÂà∂Âè∞ÈîôËØØÔºåÂàÜÊûêÈîôËØØÁ±ªÂûã ÂâçÂè∞‰º†Êï∞ÊçÆÈîôËØØÂèØ‰ª•Â∞ÜË°®ÂçïÁöÑÂèëÈÄÅÊñπÂºèÊîπ‰∏∫getÔºåËøô‰∏™Â∞±ÂèØ‰ª•‰ªéuri‰∏≠ÁúãÂá∫ÈîôËØØ‰∫ÜÔºåËá™Â∑±Â•ΩÂá†Ê¨°ÂÖ•ÂùëÔºåÂ∞±ÊòØÂú®ÂèÇÊï∞Â°´ÂÜôÁöÑÂú∞ÊñπÂ§ö‰∫Ü‰∏Ä‰∏™Á©∫Ê†ºÔºåÊ¨≤Âì≠Êó†Ê≥™„ÄÇ ‰∏öÂä°ÈÄªËæë‰ª£Á†ÅÈîôËØØÂÖ∂ÂÆûÊúÄÁÆÄÂçï‰πüÊúÄÁÉ¶ÔºåÂ∞±ÊòØÂà©Áî®debug„ÄÇÊåâÈÄªËæëÈ°∫Â∫èËøõË°åÊü•Èîô„ÄÇ Êï∞ÊçÆÂ∫ìÊü•ËØ¢Âá∫ÈîôÂèØ‰ª•ÂÖÖÂàÜÂà©Áî®ÊéßÂà∂Âè∞ËæìÂá∫ÁöÑsqlËØ≠Âè•ËøõË°åÊéíÈîôÔºåÂ∞ÜsqlËØ≠Âè•ÊîæÂà∞sqlÊ°åÈù¢Á®ãÂ∫è‰∏≠Êü•ËØ¢ÔºåÊòØÂê¶‰∏éËá™Â∑±ÊÉ≥Ë¶ÅÁöÑÁªìÊûú‰∏ÄËá¥ÔºåÂ¶ÇÊûú‰∏ç‰∏ÄËá¥ÔºåÂ∞±ÂæàÊúâÂèØËÉΩÊòØËá™Â∑±ÁöÑhqlËØ≠Âè•ÂÜôÈîôÔºåÊàñËÄÖÊò†Â∞ÑÊñá‰ª∂Âá∫Èîô‰∫Ü„ÄÇ ÊÑüÊÉ≥ÂÖ≥‰∫éËøô‰∏™È°πÁõÆÊû∂ÊûÑÈÉΩÊòØÊØîËæÉÁÆÄÂçïÁöÑÔºå‰∏öÂä°ÈÄªËæë‰πüÈÉΩÊòØCRUD‰πüÁÆóÁÆÄÂçïÔºåÂèØËÉΩËøòÊúâÊúÄÈáçË¶ÅÁöÑÈ´òÂπ∂ÂèëÈóÆÈ¢òÊ≤°ÊúâËÄÉËôëÔºå‰ΩÜÊòØÊï¥‰∏™È°πÁõÆÂÅö‰∏ãÊù•ÔºåËá™Â∑±‰πüÁÆóÁêÜËß£‰∫ÜÊï¥‰∏™È°πÁõÆÁ≥ªÁªüÔºå‰ΩÜÊòØËá™Â∑±ÁªùÂØπ‰∏çËÉΩ‰ª•CRUD‰∏∫ÁªàÁÇπÔºåÁªßÁª≠ÂêëÂâçÂä†Ê≤πÔºÅÔºÅÔºÅÔºÅ]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iisÂÆûÁé∞ÊâãÊú∫Á´ØËÆøÈóÆÁîµËÑëÊú¨Âú∞ÊúçÂä°Âô®]]></title>
    <url>%2F2017%2F04%2F24%2F%E5%B7%A5%E5%85%B7%2Fiis%E5%AE%9E%E7%8E%B0%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%AE%BF%E9%97%AE%E7%94%B5%E8%84%91%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%2F</url>
    <content type="text"><![CDATA[ÂºïÔºöÂØπ‰∫éÂæàÂ§öÊ≤°ÊúâÊúçÂä°Âô®ÁöÑ‰∫∫Êù•ËØ¥,ÂÆûÁé∞ÊâãÊú∫Á´ØËÆøÈóÆËá™Â∑±ÂÜôÁöÑÁΩëÈ°µËøòÊòØÊúâÂõ∞ÈöæÁöÑÔºåËôΩÁÑ∂Êàë‰ª¨ÂèØ‰ª•ÂèØ‰ª•Âà©Áî®githubpageÊù•ÂÆûÁé∞ÊåÇËΩΩÈ°µÈù¢Ôºå‰ΩÜÊòØË∞ÉËØïËµ∑Êù•ËøòÊòØ‰∏çÊñπ‰æøÔºåÊâÄ‰ª•iisÂ∞±Êàê‰∏∫‰∫Ü‰∏ÄÁßçÁÆÄÂçïÁöÑÊñπÂºè„ÄÇ iisÁÆÄ‰ªãiisÔºàInternet Information ServicesÔºâÊòØÁî±ÂæÆËΩØÂÖ¨Âè∏Êèê‰æõÁöÑÂü∫‰∫éËøêË°åMicrosoft WindowsÁöÑ‰∫íËÅîÁΩëÂü∫Êú¨ÊúçÂä°,ÂÖ∂‰∏≠ÂåÖÊã¨WebÊúçÂä°Âô®„ÄÅFTPÊúçÂä°Âô®„ÄÅNNTPÊúçÂä°Âô®ÂíåSMTPÊúçÂä°Âô®ÔºåÂàÜÂà´Áî®‰∫éÁΩëÈ°µÊµèËßà„ÄÅÊñá‰ª∂‰º†Ëæì„ÄÅÊñ∞ÈóªÊúçÂä°ÂíåÈÇÆ‰ª∂ÂèëÈÄÅÁ≠âÊñπÈù¢ÔºåÂÆÉ‰ΩøÂæóÂú®ÁΩëÁªúÔºàÂåÖÊã¨‰∫íËÅîÁΩëÂíåÂ±ÄÂüüÁΩëÔºâ‰∏äÂèëÂ∏É‰ø°ÊÅØÊàê‰∫Ü‰∏Ä‰ª∂ÂæàÂÆπÊòìÁöÑ‰∫ã„ÄÇ iisÂÆâË£ÖËøôÈáåÊàëÂ∞±‰∏çÂ§öËØ¥‰∫ÜÔºåÁΩë‰∏ä‰∏ÄÊêúÔºåÂÆâË£ÖÊïôÁ®ã‰∏ÄÂ§ßÊääÔºåËøôÈáåÊé®Ëçê‰∏Ä‰∏™ÈìæÊé•ÂÆâË£Öiis ÊúâÊó†Á∫øÁöÑÊó∂ÂÄô‰ΩøÁî®Â§ßÈÉ®ÂàÜ‰∫∫ÔºåÂ§ßÈÉ®ÂàÜÊó∂Èó¥ÔºåÂ§ßÈÉ®ÂàÜÂú∞ÊñπÔºåÁõ∏‰ø°Â§ßÂÆ∂ÈÉΩ‰ºöË∫´Â§ÑÂú®Êó†Á∫ø‰πã‰∏ãÔºåÊâÄ‰ª•Âè™Ë¶ÅÊåâÁÖß‰∏äÈù¢ÁöÑÈìæÊé•‰ΩøÁî®Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ Ê≤°Êó†Á∫øÁöÑÊó∂ÂÄô‰ΩøÁî®Ëøô‰∏™Êó∂ÂÄôÂ∞±Ë¶ÅÂÄüÂä©ÊµÅÈáè‰∏éÁÉ≠ÁÇπ‰∫Ü ÊâìÂºÄÊâãÊú∫ÁÉ≠ÁÇπ Êü•ÁúãÁîµËÑëipÂú∞ÂùÄ‰∏ÄËà¨Ëøô‰∏™Êó∂ÂÄôipÂú∞ÂùÄÂ∑≤ÁªèÂèò‰∫ÜÔºåÊâÄÊúâ‰πãÂâçÊåâÁÖßÊúâÊó†Á∫øÁöÑÊó∂ÂÄôÁîµËÑëÁöÑipËÆæÁΩÆËÆøÈóÆÂú∞ÂùÄÂ∞±ÊúâÈóÆÈ¢ò‰∫ÜÔºåÊâÄ‰ª•Ë¶ÅÂà©Áî®Êñ∞ÁöÑipÂú∞ÂùÄËÆæÁΩÆËÆøÈóÆÂú∞ÂùÄ Áî®ÊâãÊú∫ËÆøÈóÆÊñ∞ÁöÑipÂú∞ÂùÄ‰∏Ä‰∏ãÂ≠êÂ∞±ÁàΩÊ≠™Ê≠™‰∫Ü ÊÄªÁªì iisÂØπ‰∫éwindowsÁî®Êà∑Êù•ËØ¥ÁúüÊòØÂá∫ÂÆ∂ÊóÖË°åÔºåË∞ÉËØï‰ª£Á†ÅÂøÖÂ§á‰πãËâØÂìÅ„ÄÇ ÂΩì‰∏çËÉΩËÆøÈóÆÁöÑÊó∂ÂÄô‰∏ÄÂÆöË¶ÅÈöèÊó∂ÂÖ≥Ê≥®ÁîµËÑëÁöÑipÂú∞ÂùÄÊòØÂê¶Â∑≤ÁªèÂèëÁîüÂèòÂåñÔºåÂÅöÂà∞ÈöèÊó∂Êõ¥Êîπ]]></content>
      <categories>
        <category>ÁºñÁ®ã</category>
      </categories>
      <tags>
        <tag>ÊúçÂä°Âô®</tag>
      </tags>
  </entry>
</search>